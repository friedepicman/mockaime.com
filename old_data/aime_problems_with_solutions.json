[
  {
    "year": 1983,
    "variant": "I",
    "problem_number": 1,
    "latex": "Let <math>x</math>, <math>y</math> and <math>z</math> all exceed <math>1</math> and let <math>w</math> be a positive number such that <math>\\log_x w = 24</math>, <math>\\log_y w = 40</math> and <math>\\log_{xyz} w = 12</math>. Find <math>\\log_z w</math>.",
    "solution": "The [[logarithm]]ic notation doesn't tell us much, so we'll first convert everything to the equivalent exponential forms.\n\n<math>x^{24}=w</math>, <math>y^{40}=w</math>, and <math>(xyz)^{12}=w</math>. If we now convert everything to a power of <math>120</math>, it will be easy to isolate <math>z</math> and <math>w</math>.\n\n<math>x^{120}=w^5</math>, <math>y^{120}=w^3</math>, and <math>(xyz)^{120}=w^{10}</math>.\n\nWith some substitution, we get <math>w^5w^3z^{120}=w^{10}</math> and <math>\\log_zw=\\boxed{060}</math>."
  },
  {
    "year": 1983,
    "variant": "I",
    "problem_number": 2,
    "latex": "Let <math>f(x)=|x-p|+|x-15|+|x-p-15|</math>, where <math>0 < p < 15</math>. Determine the [[minimum]] value taken by <math>f(x)</math> for <math>x</math> in the [[interval]] <math>p \\leq x\\leq15</math>.",
    "solution": "It is best to get rid of the [[absolute value]]s first. \n\nUnder the given circumstances, we notice that <math>|x-p|=x-p</math>, <math>|x-15|=15-x</math>, and <math>|x-p-15|=15+p-x</math>.\n\nAdding these together, we find that the sum is equal to <math>30-x</math>, which attains its minimum value (on the given interval <math>p \\leq x \\leq 15</math>) when <math>x=15</math>, giving a minimum of <math>\\boxed{015}</math>."
  },
  {
    "year": 1983,
    "variant": "I",
    "problem_number": 3,
    "latex": "What is the product of the [[real]] [[root]]s of the [[equation]] <math>x^2 + 18x + 30 = 2 \\sqrt{x^2 + 18x + 45}</math>?",
    "solution": "If we were to expand by squaring, we would get a [[quartic Equation|quartic]] [[polynomial]], which isn't always the easiest thing to deal with.\n\nInstead, we substitute <math>y</math> for <math>x^2+18x+30</math>, so that the equation becomes <math>y=2\\sqrt{y+15}</math>.\n\nNow we can square; solving for <math>y</math>, we get <math>y=10</math> or <math>y=-6</math>. The second root is extraneous since <math>2\\sqrt{y+15}</math> is always non-negative (and moreover, plugging in <math>y=-6</math>, we get <math>-6=6</math>, which is obviously false). Hence we have <math>y=10</math> as the only solution for <math>y</math>. Substituting <math>x^2+18x+30</math> back in for <math>y</math>,\n\n<center><math>x^2+18x+30=10 \\Longrightarrow x^2+18x+20=0.</math></center> Both of the roots of this equation are real, since its discriminant is <math>18^2 - 4 \\cdot 1 \\cdot 20 = 244</math>, which is positive. Thus by [[Vieta's formulas]], the product of the real roots is simply <math>\\boxed{020}</math>."
  },
  {
    "year": 1983,
    "variant": "I",
    "problem_number": 4,
    "latex": "A machine-shop cutting tool has the shape of a notched circle, as shown. The radius of the circle is <math>\\sqrt{50}</math> cm, the length of <math>AB</math> is <math>6</math> cm and that of <math>BC</math> is <math>2</math> cm. The angle <math>ABC</math> is a right angle. Find the square of the distance (in centimeters) from <math>B</math> to the center of the circle.\n\n<asy>\nsize(150); \ndefaultpen(linewidth(0.6)+fontsize(11));\nreal r=10;\npair O=(0,0),\nA=r*dir(45),B=(A.x,A.y-r);\npath P=circle(O,r);\npair C=intersectionpoint(B--(B.x+r,B.y),P);\n// Drawing arc instead of full circle\n//draw(P);\ndraw(arc(O, r, degrees(A), degrees(C)));\ndraw(C--B--A--B);\ndot(A); dot(B); dot(C);\nlabel(\"$A$\",A,NE);\nlabel(\"$B$\",B,S);\nlabel(\"$C$\",C,SE);\n</asy>",
    "solution": "Because we are given a right angle, we look for ways to apply the [[Pythagorean Theorem]].  Let the foot of the [[perpendicular]] from <math>O</math> to <math>AB</math> be <math>D</math> and let the foot of the perpendicular from <math>O</math> to the [[line]] <math>BC</math> be <math>E</math>. Let <math>OE=x</math> and <math>OD=y</math>. We're trying to find <math>x^2+y^2</math>.\n\n<center><asy>\nsize(150); defaultpen(linewidth(0.6)+fontsize(11));\nreal r=10;\npair O=(0,0),A=r*dir(45),B=(A.x,A.y-r);\npair D=(A.x,0),F=(0,B.y);\npath P=circle(O,r);\npair C=intersectionpoint(B--(B.x+r,B.y),P);\ndraw(P);\ndraw(C--B--O--A--B);\ndraw(D--O--F--B,dashed);\ndot(O); dot(A); dot(B); dot(C);\nlabel(\"$O$\",O,SW);\nlabel(\"$A$\",A,NE);\nlabel(\"$B$\",B,S);\nlabel(\"$C$\",C,SE);\nlabel(\"$D$\",D,NE);\nlabel(\"$E$\",F,SW);\n</asy></center><!-- Asymptote replacement for Image:AIME_83_-4_Modified.JPG by bpms -->\n\nApplying the Pythagorean Theorem, <math>OA^2 = OD^2 + AD^2</math> and <math>OC^2 = EC^2 + EO^2</math>.\n\nThus, <math>\\left(\\sqrt{50}\\right)^2 = y^2 + (6-x)^2</math>, and <math>\\left(\\sqrt{50}\\right)^2 = x^2 + (y+2)^2</math>. We solve this system to get <math>x = 1</math> and <math>y = 5</math>, such that the answer is <math>1^2 + 5^2 = \\boxed{026}</math>."
  },
  {
    "year": 1983,
    "variant": "I",
    "problem_number": 5,
    "latex": "Suppose that the sum of the squares of two complex numbers <math>x</math> and <math>y</math> is <math>7</math> and the sum of the cubes is <math>10</math>. What is the largest real value that <math>x + y</math> can have?",
    "solution": "=== Solution 1 ===\nOne way to solve this problem is by [[substitution]]. We have\n\n<math>x^2+y^2=(x+y)^2-2xy=7</math> and\n<math>x^3+y^3=(x+y)(x^2-xy+y^2)=(7-xy)(x+y)=10</math>\n\nHence observe that we can write <math>w=x+y</math> and <math>z=xy</math>.\n\nThis reduces the equations to <math>w^2-2z=7</math> and\n<math>w(7-z)=10</math>.\n\nBecause we want the largest possible <math>w</math>, let's find an expression for <math>z</math> in terms of <math>w</math>.\n\n<math>w^2-7=2z \\implies z=\\frac{w^2-7}{2}</math>.\n\nSubstituting, <math>w^3-21w+20=0</math>, which factorizes as <math>(w-1)(w+5)(w-4)=0</math>  (the [[Rational Root Theorem]] may be used here, along with synthetic division).\n\nThe largest possible solution is therefore <math>x+y=w=\\boxed{004}</math>.\n\n===Solution 2 ===\nAn alternate way to solve this is to let <math>x=a+bi</math> and <math>y=c+di</math>.\n\nBecause we are looking for a value of <math>x+y</math> that is real, we know that <math>d=-b</math>, and thus <math>y=c-bi</math>.\n\nExpanding <math>x^2+y^2=7+0i</math> will give two equations, since the real and imaginary parts must match up.\n\n<math>(a+bi)^2+(c-bi)^2=7+0i</math>\n\n<math>(a^2+c^2-2b^2)+(2ab-2cb)i=7+0i</math>\n\nLooking at the imaginary part of that equation, <math>2ab-2cb=0</math>, so <math>a=c</math>, and <math>x</math> and <math>y</math> are actually complex conjugates.\n\nLooking at the real part of the equation and plugging in <math>a=c</math>, <math>2a^2-2b^2=7</math>, or <math>2b^2=2a^2-7</math>.\n\nNow, evaluating the real part of <math>(a+bi)^3+(a-bi)^3</math>, which equals <math>10</math> (ignoring the odd powers of <math>i</math>, since they would not result in something in the form of <math>10+0i</math>):\n\n<math>a^3+3a(bi)^2+a^3+3a(-bi)^2=10</math>\n\n<math>2a^3-6ab^2=10</math>\n\nSince we know that <math>2b^2=2a^2-7</math>, it can be plugged in for <math>b^2</math> in the above equation to yield:\n\n<math>2a^3-3a(2a^2-7)=10</math>\n\n<math>-4a^3+21a=10</math>\n\n<math>4a^3-21a+10=0</math>\n\nSince the problem is looking for <math>x+y=2a</math> to be a positive integer, only positive half-integers (and whole-integers) need to be tested.  From the Rational Roots theorem, <math>a=10, a=5, a=\\frac{5}{2}</math> all fail, but <math>a=2</math> does work.  Thus, the real part of both numbers is <math>2</math>, and their sum is <math>\\boxed{004}</math>.\n\n===Solution 3===\nBegin by assuming that <math>x</math> and <math>y</math> are roots of some polynomial of the form <math>w^2+bw+c</math>, such that by [[Vieta's Formul√¶]] and some algebra (left as an exercise to the reader), <math>b^2-2c=7</math> and <math>3bc-b^3=10</math>.\nSubstituting <math>c=\\frac{b^2-7}{2}</math>, we deduce that <math>b^3-21b-20=0</math>, whose roots are <math>-4</math>, <math>-1</math>, and <math>5</math>.\nSince <math>-b</math> is the sum of the roots and is maximized when <math>b=-4</math>, the answer is <math>-(-4)=\\boxed{004}</math>.\n\n===Solution 4===\n<math>x^3 + y^3 = 10 = (x+y)(x^2-xy+y^2) = (x+y)(7-xy) \\implies xy = 7 - \\frac{10}{x+y}.</math>  Also, <math>(x+y)^3 = x^3 + 3x^2y+3xy^2+y^3 = 10 + 3xy(x+y).</math>  Substituting our above into this, we get <math>10 + 3(7-\\frac{10}{x+y})(x+y) = 21x+21y-20 = (x+y)^3</math>.  Letting <math>p = x+y</math>, we have that <math>p^3 - 21p + 20 = 0</math>.  Testing <math>p = 1</math>, we find that this is a root, to get <math>(p-1)(p^2+p-20) = 0 \\implies p = -5, 1, 4 \\implies \\boxed{4}</math>"
  },
  {
    "year": 1983,
    "variant": "I",
    "problem_number": 6,
    "latex": "Let <math>a_n=6^{n}+8^{n}</math>. Determine the remainder upon dividing <math>a_ {83}</math> by <math>49</math>.",
    "solution": "=== Solution 1 ===\nFirstly, we try to find a relationship between the numbers we're provided with and <math>49</math>. We notice that <math>49=7^2</math>, and both <math>6</math> and <math>8</math> are greater or less than <math>7</math> by <math>1</math>. \n\nThus, expressing the numbers in terms of <math>7</math>, we get <math>a_{83} = (7-1)^{83}+(7+1)^{83}</math>.\n\nApplying the [[Binomial Theorem]], half of our terms cancel out and we are left with <math>2(7^{83}+3403\\cdot7^{81}+\\cdots + 83\\cdot7)</math>. We realize that all of these terms are divisible by <math>49</math> except the final term.\n\nAfter some quick division, our answer is <math>\\boxed{035}</math>.\n\n=== Solution 2 ===\nSince <math>\\phi(49) = 42</math> (see [[Euler's totient function]]), [[Euler's Totient Theorem]] tells us that <math>a^{42} \\equiv 1 \\pmod{49}</math> where <math>\\text{gcd}(a,49) = 1</math>. Thus <math>6^{83} + 8^{83} \\equiv 6^{2(42)-1}+8^{2(42)-1} </math> \n<math>\\equiv 6^{-1} + 8^{-1} \\equiv \\frac{8+6}{48} </math> <math>\n\\equiv \\frac{14}{-1}\\equiv \\boxed{035} \\pmod{49}</math>.\n\n*Alternatively, we could have noted that <math>a^b\\equiv a^{b\\pmod{\\phi{(n)}}}\\pmod n</math>. This way, we have <math>6^{83}\\equiv 6^{83\\pmod {42}}\\equiv 6^{-1}\\pmod {49}</math>, and can finish the same way.\n\n=== Solution 3 (cheap and quick) ===\n\nAs the value of <math>a</math> is obviously <math>6^{83}+8^{83}</math> we look for a pattern with others. With a bit of digging, we discover that <math>6^n+8^m</math> where <math>m</math> and <math>n</math> are odd is equal to <math>\\boxed{35}\\:\\text{mod}\\:49</math>\n\n-dragoon\n\n-minor edits by flyingkinder123\n\nNote:\nThis isn't true??\nTake <math>n=m=1,3,5,7</math>\n\n=== Solution 3===\n<math>6^{83} + 8^{83} = (6+8)(6^{82}-6^{81}8+\\ldots-8^{81}6+8^{82})</math>\n\nBecuase <math>7|(6+8)</math>, we only consider  <math>6^{82}-6^{81}8+\\ldots-8^{81}6+8^{82}  \\pmod{7}</math>\n\n<math>6^{82}-6^{81}8+\\ldots-8^{81}6+8^{82} \\equiv (-1)^{82} - (-1)^{81}+ \\ldots - (-1)^1 + 1 = 83 \\equiv 6 \\pmod{7}</math>\n\n<math>6^{83} + 8^{83} \\equiv 14 \\cdot 6 \\equiv \\boxed{035} \\pmod{49}</math>\n\n\n\n=== Solution 4 last resort (bash) ===\n\nRepeat the steps of taking modulo <math>49</math> after reducing the exponents over and over again until you get a residue of <math>49,</math> namely <math>35.</math> This bashing takes a lot of time but it isn‚Äôt too bad. ~peelybonehead"
  },
  {
    "year": 1983,
    "variant": "I",
    "problem_number": 7,
    "latex": "Twenty five of King Arthur's knights are seated at their customary round table. Three of them are chosen - all choices being equally likely - and are sent off to slay a troublesome dragon. Let <math>P</math> be the probability that at least two of the three had been sitting next to each other. If <math>P</math> is written as a fraction in lowest terms, what is the sum of the numerator and denominator?",
    "solution": "We can use [[complementary counting]], by finding the probability that none of the three knights are sitting next to each other and subtracting it from <math>1</math>.\n\nImagine that the <math>22</math> other (indistinguishable) people are already seated, and fixed into place. \n\nWe will place <math>A</math>, <math>B</math>, and <math>C</math> with and without the restriction.\n\nThere are <math>22</math> places to put <math>A</math>, followed by <math>21</math> places to put <math>B</math>, and <math>20</math> places to put <math>C</math> after <math>A</math> and <math>B</math>. Hence, there are <math>22\\cdot21\\cdot20</math> ways to place <math>A, B, C</math> in between these people with restrictions.\n\nWithout restrictions, there are <math>22</math> places to put <math>A</math>, followed by <math>23</math> places to put <math>B</math>, and <math>24</math> places to put <math>C</math> after <math>A</math> and <math>B</math>. Hence, there are <math>22\\cdot23\\cdot24</math> ways to place <math>A,B,C</math> in between these people without restrictions.\n\nThus, the desired probability is <math>1-\\frac{22\\cdot21\\cdot20}{22\\cdot23\\cdot24}=1-\\frac{420}{552}=1-\\frac{35}{46}=\\frac{11}{46}</math>, and the answer is <math>11+46=\\boxed{057}</math>."
  },
  {
    "year": 1983,
    "variant": "I",
    "problem_number": 8,
    "latex": "What is the largest <math>2</math>-digit [[prime]] factor of the integer <math>n = {200\\choose 100}</math>?",
    "solution": "=== Solution 1 ===\n\nExpanding the [[combination|binomial coefficient]], we get <math>{200 \\choose 100}=\\frac{200!}{100!100!}</math>. Let the required prime be <math>p</math>; then <math>10 \\le p < 100</math>. If <math>p > 50</math>, then the factor of <math>p</math> appears twice in the denominator. Thus, we need <math>p</math> to appear as a factor at least three times in the numerator, so <math>3p<200</math>. The largest such prime is <math>\\boxed{061}</math>, which is our answer.\n\n=== Solution 1.5, half (desperate) ===\n\nThe only way a single prime number will be left out after all the cancelation will have to satisfy the condition that out of all the multiples of the prime number we want to find, 2 of the multiples will have to be between 100 and 200, <math>61</math> is good for this solution (if you know your primes) because <math>61 \\cdot 2</math> and <math>61 \\cdot 3</math> both lie in the interval <math>(100, 200)</math>.\n\nThe reason for this is because if 2 copies of the prime <math>p</math> we want to find are on the numerator and one copy on the denominator (AKA it contains <math>2p</math> and also <math>\\dfrac{1}{p}</math>), there will only be 1 copy of the prime we want to find when all the cancellation is made when reducing the original fraction (only <math>p</math> is left after cancellation).\n\n~ <math>Michaellin16</math> (formatted shalomkeshet)\n\n=== Solution 2: Clarification of Solution 1 ===\n\nWe know that \n<cmath>{200\\choose100}=\\frac{200!}{100!100!}</cmath>\nSince <math>p<100</math>, there is at least <math>1</math> factor of <math>p</math> in each of the <math>100!</math> in the denominator. Thus there must be at least <math>3</math> factors of <math>p</math> in the numerator <math>200!</math> for <math>p</math> to be a factor of <math>n=\\frac{200!}{100!100!}</math>. (Note that here we assume the minimum because as <math>p</math> goes larger in value, the number of factors of <math>p</math> in a number decreases,)\n\nSo basically, <math>p</math> is the largest prime number such that\n<cmath>\\left \\lfloor\\frac{200}{p}\\right \\rfloor>3</cmath>\nSince <math>p<\\frac{200}{3}=66.66...</math>, the largest prime value for <math>p</math> is <math>p=\\boxed{61}</math>\n\n~ Nafer"
  },
  {
    "year": 1983,
    "variant": "I",
    "problem_number": 9,
    "latex": "Find the minimum value of <math>\\frac{9x^2\\sin^2 x + 4}{x\\sin x}</math> for <math>0 < x < \\pi</math>.",
    "solution": "Let <math>y=x\\sin{x}</math>. We can rewrite the expression as <math>\\frac{9y^2+4}{y}=9y+\\frac{4}{y}</math>.\n\nSince <math>x>0</math>, and <math>\\sin{x}>0</math> because <math>0< x<\\pi</math>, we have <math>y>0</math>. So we can apply [[AM-GM]]:\n\n<cmath>9y+\\frac{4}{y}\\ge 2\\sqrt{9y\\cdot\\frac{4}{y}}=12</cmath>\n\nThe equality holds when <math>9y=\\frac{4}{y}\\Longleftrightarrow y^2=\\frac49\\Longleftrightarrow y=\\frac23</math>.\n\nTherefore, the minimum value is <math>\\boxed{012}</math>. This is reached when we have <math>x \\sin{x} = \\frac{2}{3}</math> in the original equation (since <math>x\\sin x</math> is continuous and increasing on the interval <math>0 \\le x \\le \\frac{\\pi}{2}</math>, and its range on that interval is from <math>0 \\le x\\sin x \\le \\frac{\\pi}{2}</math>, this value of <math>\\frac{2}{3}</math> is attainable by the [[Intermediate Value Theorem]])."
  },
  {
    "year": 1983,
    "variant": "I",
    "problem_number": 10,
    "latex": "The numbers <math>1447</math>, <math>1005</math> and <math>1231</math> have something in common: each is a <math>4</math>-digit number beginning with <math>1</math> that has exactly two identical digits. How many such numbers are there?",
    "solution": "Suppose that the two identical digits are both <math>1</math>. Since the thousands digit must be <math>1</math>, only one of the other three digits can be <math>1</math>. This means the possible forms for the number are\n\n<div style=\"text-align:center;\"><math>11xy,\\qquad 1x1y,\\qquad1xy1</math></div>\n\nBecause the number must have exactly two identical digits, <math>x\\neq y</math>, <math>x\\neq1</math>, and <math>y\\neq1</math>. Hence, there are <math>3\\cdot9\\cdot8=216</math> numbers of this form.\n\nNow suppose that the two identical digits are not <math>1</math>. Reasoning similarly to before, we have the following possibilities:\n\n<div style=\"text-align:center;\"><math>1xxy,\\qquad1xyx,\\qquad1yxx.</math></div>\n\nAgain, <math>x\\neq y</math>, <math>x\\neq 1</math>, and <math>y\\neq 1</math>. There are <math>3\\cdot9\\cdot8=216</math> numbers of this form.\n\nThus the answer is <math>216+216=\\boxed{432}</math>."
  },
  {
    "year": 1983,
    "variant": "I",
    "problem_number": 11,
    "latex": "The solid shown has a square base of side length <math>s</math>. The upper edge is parallel to the base and has length <math>2s</math>. All other edges have length <math>s</math>. Given that <math>s=6\\sqrt{2}</math>, what is the volume of the solid?\n<center><asy>\nsize(180);\nimport three; pathpen = black+linewidth(0.65); pointpen = black;\ncurrentprojection = perspective(30,-20,10);\nreal s = 6 * 2^.5;\ntriple A=(0,0,0),B=(s,0,0),C=(s,s,0),D=(0,s,0),E=(-s/2,s/2,6),F=(3*s/2,s/2,6);\ndraw(A--B--C--D--A--E--D);\ndraw(B--F--C);\ndraw(E--F);\nlabel(\"A\",A,W);\nlabel(\"B\",B,S);\nlabel(\"C\",C,SE);\nlabel(\"D\",D,NE);\nlabel(\"E\",E,N);\nlabel(\"F\",F,N);\n</asy></center> <!-- Asymptote replacement for Image:1983Number11.JPG by bpms -->",
    "solution": "=== Solution 1 ===\nFirst, we find the height of the solid by dropping a perpendicular from the midpoint of <math>AD</math> to <math>EF</math>. The hypotenuse of the triangle formed is the [[median]] of equilateral triangle <math>ADE</math>, and one of the legs is <math>3\\sqrt{2}</math>. We apply the Pythagorean Theorem to deduce that the height is <math>6</math>.\n<center><asy>\nsize(180);\nimport three; pathpen = black+linewidth(0.65); pointpen = black; pen d = linewidth(0.65); pen l = linewidth(0.5);\ncurrentprojection = perspective(30,-20,10);\nreal s = 6 * 2^.5;\ntriple A=(0,0,0),B=(s,0,0),C=(s,s,0),D=(0,s,0),E=(-s/2,s/2,6),F=(3*s/2,s/2,6);\ntriple Aa=(E.x,0,0),Ba=(F.x,0,0),Ca=(F.x,s,0),Da=(E.x,s,0);\ndraw(A--B--C--D--A--E--D);\ndraw(B--F--C);\ndraw(E--F); \ndraw(B--Ba--Ca--C,dashed+d);\ndraw(A--Aa--Da--D,dashed+d);\ndraw(E--(E.x,E.y,0),dashed+l);\ndraw(F--(F.x,F.y,0),dashed+l);\ndraw(Aa--E--Da,dashed+d);\ndraw(Ba--F--Ca,dashed+d);\nlabel(\"A\",A,S);\nlabel(\"B\",B,S);\nlabel(\"C\",C,S);\nlabel(\"D\",D,NE);\nlabel(\"E\",E,N);\nlabel(\"F\",F,N);\nlabel(\"$12\\sqrt{2}$\",(E+F)/2,N);\nlabel(\"$6\\sqrt{2}$\",(A+B)/2,S);\nlabel(\"6\",(3*s/2,s/2,3),ENE);\n</asy></center>\nNext, we complete t he figure into a triangular prism, and find its volume, which is <math>\\frac{6\\sqrt{2}\\cdot 12\\sqrt{2}\\cdot 6}{2}=432</math>.\n\nNow, we subtract off the two extra [[pyramid]]s that we included, whose combined volume is <math>2\\cdot \\left( \\frac{6\\sqrt{2}\\cdot 3\\sqrt{2} \\cdot 6}{3} \\right)=144</math>.\n\nThus, our answer is <math>432-144=\\boxed{288}</math>.\n\n=== Solution 2 ===\n<center><asy>\nsize(180);\nimport three; pathpen = black+linewidth(0.65); pointpen = black;\ncurrentprojection = perspective(30,-20,10);\nreal s = 6 * 2^.5;\ntriple A=(0,0,0),B=(s,0,0),C=(s,s,0),D=(0,s,0),E=(-s/2,s/2,6),F=(3*s/2,s/2,6),G=(s/2,-s/2,-6),H=(s/2,3*s/2,-6);\ndraw(A--B--C--D--A--E--D);\ndraw(B--F--C);\ndraw(E--F);\ndraw(A--G--B,dashed);draw(G--H,dashed);draw(C--H--D,dashed);\nlabel(\"A\",A,(-1,-1,0));\nlabel(\"B\",B,( 2,-1,0));\nlabel(\"C\",C,( 1, 1,0));\nlabel(\"D\",D,(-1, 1,0));\nlabel(\"E\",E,(0,0,1));\nlabel(\"F\",F,(0,0,1));\nlabel(\"G\",G,(0,0,-1));\nlabel(\"H\",H,(0,0,-1));\n</asy></center>\nExtend <math>EA</math> and <math>FB</math> to meet at <math>G</math>, and <math>ED</math> and <math>FC</math> to meet at <math>H</math>. Now, we have a regular tetrahedron <math>EFGH</math>, which by symmetry has twice the volume of our original solid. This tetrahedron has side length <math>2s = 12\\sqrt{2}</math>. Using the formula for the volume of a regular tetrahedron, which is <math>V = \\frac{\\sqrt{2}S^3}{12}</math>, where S is the side length of the tetrahedron, the volume of our original solid is:\n\n<math>V = \\frac{1}{2} \\cdot \\frac{\\sqrt{2} \\cdot (12\\sqrt{2})^3}{12} = \\boxed{288}</math>.\n\n=== Solution 3 ===\nWe can also find the volume by considering horizontal cross-sections of the solid and using calculus. As in Solution 1, we can find that the height of the solid is <math>6</math>; thus, we will integrate with respect to height from <math>0</math> to <math>6</math>, noting that each cross section of height <math>dh</math> is a rectangle. The volume is then <math>\\int_0^h(wl) \\ \\text{d}h</math>, where <math>w</math> is the width of the rectangle and <math>l</math> is the length. We can express <math>w</math> in terms of <math>h</math> as <math>w=6\\sqrt{2}-\\sqrt{2}h</math> since it decreases linearly with respect to <math>h</math>, and <math>l=6\\sqrt{2}+\\sqrt{2}h</math> since it similarly increases linearly with respect to <math>h</math>. Now we solve:<cmath>\\int_0^6(6\\sqrt{2}-\\sqrt{2}h)(6\\sqrt{2}+\\sqrt{2}h)\\ \\text{d}h =\\int_0^6(72-2h^2)\\ \\text{d}h=72(6)-2\\left(\\frac{1}{3}\\right)\\left(6^3\\right)=\\boxed{288}</cmath>.\n\n===Solution 4===\nDraw an altitude from a vertex of the square base to the top edge. By using <math>30,60, 90</math> triangle ratios, we obtain that the altitude has a length of <math>3 \\sqrt{6}</math>, and that little portion that hangs out has a length of <math>3\\sqrt2</math>. This is a triangular pyramid with a base of <math>3\\sqrt6, 3\\sqrt6, 3\\sqrt2</math>, and a height of <math>3\\sqrt{2}</math>. Since there are two of these, we can compute the sum of the volumes of these two to be <math>72</math>. Now we are left with a triangular prism with a base of dimensions <math>3\\sqrt6, 3\\sqrt6, 3\\sqrt2</math> and a height of <math>6\\sqrt2</math>. We can compute the volume of this to be 216, and thus our answer is <math>\\boxed{288}</math>.\n\npi_is_3.141\n\n=== Solution 5 ===\nFrom solution 1, the height of the solid is <math>6</math>. Construct a triangular prism with base ABCD, and with the height of the solid. The volume of this triangular prism is <math>( 6\\sqrt{2} )^2 \\cdot 6 \\cdot 1/2 = 216</math> Notice that the solid is symetrical, and if you remove the triangular prism described earlier and combine the two halves on each side of it, you will get a regular tetrahedron. This tetrahedron has sidelength of <math>6\\sqrt{2}</math> and since the formula for the volume of a regular tetrahedron is <math>\\frac{s^3}{6\\sqrt{2}}</math> the volume of this tetrahedron is <math>72</math>. <math>216 + 72 = \\boxed{288}</math>. \n\n~skibidi solver"
  },
  {
    "year": 1983,
    "variant": "I",
    "problem_number": 12,
    "latex": "Diameter <math>AB</math> of a circle has length a <math>2</math>-digit integer (base ten). Reversing the digits gives the length of the perpendicular chord <math>CD</math>. The distance from their intersection point <math>H</math> to the center <math>O</math> is a positive rational number. Determine the length of <math>AB</math>.\n\n<asy>\ndraw(circle((0,0),4));\ndraw((-4,0)--(4,0));\ndraw((-2,-2*sqrt(3))--(-2,2*sqrt(3)));\ndraw((-2.6,0)--(-2.6,0.6));\ndraw((-2,0.6)--(-2.6,0.6));\ndot((0,0));\ndot((-2,0));\ndot((4,0));\ndot((-4,0));\ndot((-2,2*sqrt(3)));\ndot((-2,-2*sqrt(3)));\nlabel(\"A\",(-4,0),W);\nlabel(\"B\",(4,0),E);\nlabel(\"C\",(-2,2*sqrt(3)),NW);\nlabel(\"D\",(-2,-2*sqrt(3)),SW);\nlabel(\"H\",(-2,0),SE);\nlabel(\"O\",(0,0),NE);</asy>",
    "solution": "Let <math>AB=10x+y</math> and <math>CD=10y+x</math>. It follows that <math>CO=\\frac{AB}{2}=\\frac{10x+y}{2}</math> and <math>CH=\\frac{CD}{2}=\\frac{10y+x}{2}</math>. Scale up this triangle by 2 to ease the arithmetic. Applying the [[Pythagorean Theorem]] on <math>2CO</math>, <math>2OH</math> and <math>2CH</math>, we deduce\n<cmath>(2OH)^2=\\left(10x+y\\right)^2-\\left(10y+x\\right)^2=99(x+y)(x-y)</cmath> \n\nBecause <math>OH</math> is a positive rational number and <math>x</math> and <math>y</math> are integral, the quantity <math>99(x+y)(x-y)</math> must be a perfect square. Hence either <math>x-y</math> or <math>x+y</math> must be a multiple of <math>11</math>, but as <math>x</math> and <math>y</math> are different digits, <math>1+0=1 \\leq x+y \\leq 9+9=18</math>, so the only possible multiple of <math>11</math> is <math>11</math> itself. However, <math>x-y</math> cannot be 11, because both must be digits. Therefore, <math>x+y</math> must equal <math>11</math> and <math>x-y</math> must be a perfect square. The only pair <math>(x,y)</math> that satisfies this condition is <math>(6,5)</math>, so our answer is <math>\\boxed{065}</math>. (Therefore <math>CD = 56</math> and <math>OH = \\frac{33}{2}</math>.)"
  },
  {
    "year": 1983,
    "variant": "I",
    "problem_number": 13,
    "latex": "<!-- don't remove the following tag, for PoTW on the Wiki front page--><onlyinclude>For <math>\\{1, 2, 3, \\ldots, n\\}</math> and each of its non-empty subsets a unique '''alternating sum''' is defined as follows. Arrange the numbers in the subset in decreasing order and then, beginning with the largest, alternately add and subtract successive numbers. For example, the alternating sum for <math>\\{1, 2, 3, 6,9\\}</math> is <math>9-6+3-2+1=5</math> and for <math>\\{5\\}</math> it is simply <math>5</math>. Find the sum of all such alternating sums for <math>n=7</math>.<!-- don't remove the following tag, for PoTW on the Wiki front page--></onlyinclude>",
    "solution": "=== Solution 1 ===\nLet <math>S</math> be a non-[[empty set | empty]] [[subset]] of <math>\\{1,2,3,4,5,6\\}</math>. \n\nThen the alternating sum of <math>S</math>, plus the alternating sum of <math>S \\cup \\{7\\}</math>, is <math>7</math>. This is because, since <math>7</math> is the largest element, when we take an alternating sum, each number in <math>S</math> ends up with the opposite sign of each corresponding element of <math>S\\cup \\{7\\}</math>.\n\nBecause there are <math>2^{6}=64</math> of these pairs of sets, the sum of all possible subsets of our given set is <math>64 \\cdot 7</math>, giving an answer of <math>\\boxed{448}</math>.\n\n=== Solution 2 (almost the same as Solution 1) ===\n\nConsider a given subset <math>T</math> of <math>S</math> that contains <math>7</math>; then there is a subset <math>T'</math> which contains all the elements of <math>T</math> except for <math>7</math>, and only those elements . Since each element of <math>T'</math> has one fewer element preceding it than it does in <math>T</math>, their signs are opposite. Thus the sum of the alternating sums of <math>T</math> and <math>T'</math> is equal to 7. There are <math>2^6</math> subsets containing 7, so our answer is <math>7 \\cdot 2^6 = \\boxed{448}</math>.\n\n=== Solution 3 ===\n\nDenote the desired total of all alternating sums of an <math>n</math>-element set as <math>S_n</math>. We are looking for <math>S_7</math>. Notice that all alternating sums of an <math>n</math>-element set are also alternating sums of an <math>n+1</math>-element set. However, when we go from an <math>n</math> to <math>n+1</math> element set, for each subset with the new element, we are adding the new element and subtracting one of the alternating sums of the <math>n</math>-element set. There are <math>2^n</math> subsets of an <math>n+1</math>-element set that includes the new element, giving us the relationship <math>S_{n+1} = S_n + 2^n(n+1) - S_n = 2^n(n+1)</math>. When <math>n = 6</math>, we therefore get <math>S_ 7 = 2^6(7) = \\boxed{448}</math>.\n\n=== Solution 4 ===\n\nWe analyze all the numbers from 1 to 7 separately to see where the number contributes its positive or negative to the sum of the alternating sums. Whenever 7 appears, which it does 64 times, it contributes a positive because it is always first. This gives a net gain of <math>7 \\cdot 64=448</math>.\n\nIf we look at when 6 appears, which it also does 64 times, whether it comes as positive or negative depends on the presence of 7. Half of the subsets with 6 have 7 resulting in subtracting 6 each time, while the other half does not have 7 adding 6 each time, so these contributions of sixes cancel each other out giving a net gain of 0.\n\nThe same thing happens to any positive integer less than 7. This is because the determination of a positive or negative contribution is dependent on the number of larger numbers in front of it(For example, the sign of 3 is dependent on the presence of 4, 5, 6, and 7 in the subset). If the number of larger numbers is even, it gives in a positive copy while odd produces its negative. We know that the frequencies of these two cases occurring are the same because <math>0=(1-1)^{n}=\\binom{n}{0}-\\binom{n}{1}+\\binom{n}{2}-...\\binom{n}{n}</math> via the Binomial Theorem. Therefore, all positive integers less than 7 will not have any effect and our sum will be <math>\\boxed{448}</math>.\n\n=== Solution 5 ===\n\nLet <math>\\mathbb{N}_n := \\{1, 2, 3, \\dots n\\}</math>. Let the alternating sum of a certain subset of <math>S</math> of <math>\\mathbb{N}_n</math> be <math>\\xi(S),</math> and let <cmath>\\mathcal{A}(\\mathbb{N}_n) := \\sum_{S \\subseteq \\mathbb{N}_n} \\xi(S).</cmath> We see that <cmath>\\mathcal{A}(\\mathbb{N}_n) = \\sum_{S \\subseteq \\mathbb{N}_n} \\xi(S) = \\sum_{n \\in S, S \\subseteq \\mathbb{N}_n} \\xi(S) + \\sum_{S \\subseteq \\mathbb{N}_{n-1}} \\xi(S) = \\mathcal{A}(\\mathbb{N}_{n-1}) + \\sum_{n \\in S, S \\subseteq \\mathbb{N}_n} \\left( n - \\xi(S - \\{n\\}) \\right),</cmath> as if <math>n \\in S,</math> <math>n</math> is the largest element in <math>S.</math> Now, we know that <cmath>\\sum_{n \\in S, S \\subseteq \\mathbb{N}_n} n - \\xi(S - \\{n\\}) = \\sum_{S \\subseteq \\mathbb{N}_{n-1}} n - \\xi(S) = n \\cdot 2^{n-1} - \\sum_{S \\subseteq \\mathbb{N}_{n-1}} \\xi(S) = n \\cdot 2^{n-1} - \\mathcal{A}(\\mathbb{N}_{n-1}),</cmath> so <cmath>\\mathcal{A}(\\mathbb{N}_{n}) = n \\cdot 2^{n-1}.</cmath>  Thus, our answer (which is the <math>n = 7</math> case) is <math>\\mathcal{A}(\\mathbb{N}_{7}) = 7 \\cdot 2^6 = \\boxed{448}.</math>\n\n=== Solution 6 (Lucky Guess, Not Recommended) ===\n\nComputing the first few <math>S_n</math> gives, <math>S_1</math> <math>=</math> <math>1</math>, <math>S_2</math> <math>=</math> <math>4</math>, <math>S_3</math> <math>=</math> <math>12</math>, and <math>S_4</math> <math>=</math> <math>32</math>. From this, we think the formula for <math>S_n</math> must be an exponential function in terms of <math>2^n</math> because the amount of subsets that a set with <math>n</math> elements has is <math>2^n</math> and this is a question about subsets so we try <math>S_n</math> = <math>2^n(x)</math>. Trying this formula for the first few <math>S_n</math>, gives away <math>x</math> to be <math>n/2</math> or more simply <math>S_n</math> = <math>2^{n-1}(n)</math> (try proving this by induction) . Substuiting <math>n = 7</math> gives the requested answer of <math>S_ 7 = 2^6(7) = \\boxed{448}</math>.\n\nSidenote\n\nThis solution is not a proof and since the AIME does not require proof, it is okay to finsh the answer like this. If you would like to see why the formula holds, please observe Solution 3.\n\n-ThemathCanadian"
  },
  {
    "year": 1983,
    "variant": "I",
    "problem_number": 14,
    "latex": "In the adjoining figure, two circles with radii <math>8</math> and <math>6</math> are drawn with their centers <math>12</math> units apart. At <math>P</math>, one of the points of intersection, a line is drawn in such a way that the chords <math>QP</math> and <math>PR</math> have equal length. Find the square of the length of <math>QP</math>. \n\n<asy>size(160); defaultpen(linewidth(.8pt)+fontsize(11pt)); dotfactor=3; pair O1=(0,0), O2=(12,0); path C1=Circle(O1,8), C2=Circle(O2,6); pair P=intersectionpoints(C1,C2)[0]; path C3=Circle(P,sqrt(130)); pair Q=intersectionpoints(C3,C1)[0]; pair R=intersectionpoints(C3,C2)[1]; draw(C1); draw(C2); draw(O2--O1); dot(O1); dot(O2); draw(Q--R); label(\"$Q$\",Q,NW); label(\"$P$\",P,1.5*dir(80)); label(\"$R$\",R,NE); label(\"12\",waypoint(O1--O2,0.4),S);</asy>",
    "solution": "== Note ==\n\nNote that some of these solutions assume that <math>R</math> lies on the line connecting the centers, which is not true in general. It is true here only because the perpendicular from <math>P</math> passes through through the point where the line between the centers intersects the small circle. This fact can be derived from the application of the Midpoint Theorem to the trapezoid made by dropping perpendiculars from the centers onto <math>QR</math>."
  },
  {
    "year": 1983,
    "variant": "I",
    "problem_number": 15,
    "latex": "The adjoining figure shows two intersecting chords in a circle, with <math>B</math> on minor arc <math>AD</math>. Suppose that the radius of the circle is <math>5</math>, that <math>BC=6</math>, and that <math>AD</math> is bisected by <math>BC</math>. Suppose further that <math>AD</math> is the only chord starting at <math>A</math> which is bisected by <math>BC</math>. It follows that the sine of the central angle of minor arc <math>AB</math> is a rational number. If this number is expressed as a fraction <math>\\frac{m}{n}</math> in lowest terms, what is the product <math>mn</math>?\n\n<asy>size(100);\ndefaultpen(linewidth(.8pt)+fontsize(11pt));\ndotfactor=1;\npair O1=(0,0);\npair A=(-0.91,-0.41);\npair B=(-0.99,0.13);\npair C=(0.688,0.728);\npair D=(-0.25,0.97);\npath C1=Circle(O1,1);\ndraw(C1);\nlabel(\"$A$\",A,W);\nlabel(\"$B$\",B,W);\nlabel(\"$C$\",C,NE);\nlabel(\"$D$\",D,N);\ndraw(A--D);\ndraw(B--C);\npair F=intersectionpoint(A--D,B--C);\nadd(pathticks(A--F,1,0.5,0,3.5));\nadd(pathticks(F--D,1,0.5,0,3.5));\n</asy>\n<!-- [[Image:1983_AIME-15.png|200px]] -->",
    "solution": "=== Solution 1 ===\n\nAs with some of the other solutions, we analyze this with a locus&mdash;but a different one.  We'll consider: given a point <math>P</math> and a line <math>\\ell,</math> what is the set of points <math>X</math> such that the midpoint of <math>PX</math> lies on line <math>\\ell</math>?  The answer to this question is: a line <math>m</math> parallel to <math>\\ell</math>, such that <math>m</math> and <math>P</math> are (1) on opposite sides of <math>\\ell</math>. and (2) at the same distance from <math>\\ell</math>.\n\n<center><asy>\nsize(170);\npair P = (0,0), L1 = (-3, 0), L2 = (1.5, 1.5), M1 = (-3, 1), M2 = (1.5, 2.5);\npair X = .6*M1 + .4*M2, M = (P+X)/2;\ndraw(L1--L2);\ndraw(M1--M2);\ndraw(P--X, dotted);\ndot(M);\ndot(\"$P$\", P, S);\ndot(\"$X$\", X, N);\nlabel(\"$\\ell$\", L2, E);\nlabel(\"$m$\", M2, E);\n</asy></center>\n\nApplied to this problem, this means that <math>D</math> is the only point that lies on both (1) the given circle, and (2) the line through <math>D</math> parallel to <math>BC</math>.  This means that <math>BC</math> is parallel to the tangent to the given circle at <math>D</math>.\n\nIf we take <math>O</math> to be the center of the given circle, then this means that <math>OD</math> is perpendicular to <math>BC</math>.  Let <math>M</math> be the midpoint of chord <math>BC,</math> and let <math>N</math> be the intersection of <math>OD</math> with the line through <math>A</math> parallel to <math>BC</math>.\n\n<center><asy>\nsize(170);\npair O = (0,0), D = (0, 5), B = (-3, 4), C = (3, 4), A = (-4, 3), EE = (4, 3);\npair M = (B+C)/2, NN = (A+EE)/2;\ndraw(circle(O, 5));\ndraw(O--D);\ndraw(B--C);\ndraw(A--EE);\ndraw(B--O--A);\ndot(\"$O$\", O, SE);\nlabel(\"$D$\", D, N);\nlabel(\"$B$\", B, WNW);\nlabel(\"$A$\", A, WNW);\nlabel(\"$C$\", C, ENE);\nlabel(\"$M$\", M, NE);\nlabel(\"$N$\", NN, SE);</asy></center>\n\nSince <math>BC = 6,</math> we know that <math>BM = 3</math>; since <math>OB</math> (a radius of the circle) is 5, we can conclude that <math>\\triangle BMO</math> is a 3-4-5 right triangle.  Since <math>D</math> and line <math>AN</math> are equidistant from line <math>BC,</math> we know that <math>MN = 1</math>, and thus <math>ON = 3</math>.  This makes <math>\\triangle ANO</math> also a 3-4-5 right triangle.\n\nWe're looking for <math>\\sin \\angle AOB</math>, and we can find that using the [[Trigonometric_identities#Angle_addition_identities | angle subtraction formula]] for sine.  We have\n<cmath> \\begin{align*}\n\\sin \\angle AOB &= \\sin(\\angle AOM - \\angle BOM) \\\\\n&= \\sin \\angle AOM \\cos \\angle BOM - \\cos \\angle AOM \\sin \\angle BOM \\\\\n&= \\frac{4}{5} \\cdot \\frac{4}{5}  - \\frac{3}{5} \\cdot \\frac{3}{5} \\\\\n&= \\frac{16 - 9}{25} = \\frac{7}{25}. \\end{align*} </cmath>\nThis is in lowest terms, so our answer is <math>mn = 7 \\cdot 25 = 175</math>.\n\n=== Solution 2 ===\n-Credit to Adamz for diagram-\n<asy>\nsize(10cm);\nimport olympiad;\npair O = (0,0);dot(O);label(\"$O$\",O,SW);\npair M = (4,0);dot(M);label(\"$M$\",M,SE);\npair N = (4,2);dot(N);label(\"$N$\",N,NE);\ndraw(circle(O,5));\npair B = (4,3);dot(B);label(\"$B$\",B,NE);\npair C = (4,-3);dot(C);label(\"$C$\",C,SE);\ndraw(B--C);draw(O--M);\npair P = (1.5,2);dot(P);label(\"$P$\",P,W);\ndraw(circle(P,2.5));\npair A=(3,4);dot(A);label(\"$A$\",A,NE);\ndraw(O--A);\ndraw(O--B);\npair Q = (1.5,0); dot(Q); label(\"$Q$\",Q,S);\npair R = (3,0); dot(R); label(\"$R$\",R,S);\ndraw(P--Q,dotted); draw(A--R,dotted);\npair D=(5,0); dot(D); label(\"$D$\",D,E);\ndraw(A--D);\n</asy>Let <math>A</math> be any fixed point on circle <math>O</math>, and let <math>AD</math> be a chord of circle <math>O</math>. The [[locus]] of midpoints <math>N</math> of the chord <math>AD</math> is a circle <math>P</math>, with diameter <math>AO</math>. Generally, the circle <math>P</math> can intersect the chord <math>BC</math> at two points, one point, or they may not have a point of intersection. By the problem condition, however, the circle <math>P</math> is tangent to <math>BC</math> at point <math>N</math>. \n\nLet <math>M</math> be the midpoint of the chord <math>BC</math>. From right triangle <math>OMB</math>, we have <math>OM = \\sqrt{OB^2 - BM^2} =4</math>. This gives <math>\\tan \\angle BOM = \\frac{BM}{OM} = \\frac 3 4</math>.\n\nNotice that the distance <math>OM</math> equals <math>PN + PO \\cos \\angle AOM = r(1 + \\cos \\angle AOM)</math>, where <math>r</math> is the radius of circle <math>P</math>. \n\nHence <cmath>\\cos \\angle AOM = \\frac{OM}{r} - 1 = \\frac{2OM}{R} - 1 = \\frac 8 5 - 1 = \\frac 3 5</cmath> (where <math>R</math> represents the radius, <math>5</math>, of the large circle given in the question). Therefore, since <math>\\angle AOM</math> is clearly acute, we see that <cmath>\\tan \\angle AOM =\\frac{\\sqrt{1 - \\cos^2 \\angle AOM}}{\\cos \\angle AOM} = \\frac{\\sqrt{5^2 - 3^2}}{3} = \\frac 4 3</cmath>\n\nNext, notice that <math>\\angle AOB = \\angle AOM - \\angle BOM</math>. We can therefore apply the subtraction formula for <math>\\tan</math> to obtain <cmath>\\tan \\angle AOB =\\frac{\\tan \\angle AOM - \\tan \\angle BOM}{1 + \\tan \\angle AOM \\cdot \\tan \\angle BOM} =\\frac{\\frac 4 3 - \\frac 3 4}{1 + \\frac 4 3 \\cdot \\frac 3 4} = \\frac{7}{24}</cmath> It follows that <math>\\sin \\angle AOB =\\frac{7}{\\sqrt{7^2+24^2}} = \\frac{7}{25}</math>, such that the answer is <math>7 \\cdot 25=\\boxed{175}</math>.\n\n=== Solution 3 ===\n\nThis solution, while similar to Solution 2, is arguably more motivated and less contrived.\n\nFirstly, we note the statement in the problem that \"<math>AD</math> is the only chord starting at <math>A</math> and bisected by <math>BC</math>\" &ndash; what is its significance? What is the criterion for this statement to be true?\n\nWe consider the locus of midpoints of the chords from <math>A</math>. It is well-known that this is the circle with diameter <math>AO</math>, where <math>O</math> is the center of the circle. The proof is simple: every midpoint of a chord is a dilation of the endpoint with scale factor <math>\\frac{1}{2}</math> and center <math>A</math>. Thus, the locus is the result of the dilation with scale factor <math>\\frac{1}{2}</math> and centre <math>A</math> of circle <math>O</math>. Let the center of this circle be <math>P</math>.\n\nNow, <math>AD</math> is bisected by <math>BC</math> if they cross at some point <math>N</math> on the circle. Moreover, since <math>AD</math> is the only chord, <math>BC</math> must be tangent to the circle <math>P</math>.\n\nThe rest of this problem is straightforward.\n\nOur goal is to find <math>\\sin \\angle AOB = \\sin{\\left(\\angle AOM - \\angle BOM\\right)}</math>, where <math>M</math> is the midpoint of <math>BC</math>. We have <math>BM=3</math> and <math>OM=4</math>.\nLet <math>R</math> be the projection of <math>A</math> onto <math>OM</math>, and similarly let <math>Q</math> be the projection of <math>P</math> onto <math>OM</math>. Then it remains to find <math>AR</math> so that we can use the addition formula for <math>\\sin</math>.\n\nAs <math>PN</math> is a radius of circle <math>P</math>, <math>PN=2.5</math>, and similarly, <math>PO=2.5</math>. Since <math>OM=4</math>, we have <math>OQ=OM-QM=OM-PN=4-2.5=1.5</math>. Thus <math>PQ=\\sqrt{2.5^2-1.5^2}=2</math>.\n\nFurther, we see that <math>\\triangle OAR</math> is a dilation of <math>\\triangle OPQ</math> about center <math>O</math> with scale factor <math>2</math>, so <math>AR=2PQ=4</math>.\n\nLastly, we apply the formula:\n<cmath> \\sin{\\left(\\angle AOM - \\angle BOM\\right)} = \\sin \\angle AOM \\cos \\angle BOM - \\sin \\angle BOM \\cos \\angle AOM = \\left(\\frac{4}{5}\\right)\\left(\\frac{4}{5}\\right)-\\left(\\frac{3}{5}\\right)\\left(\\frac{3}{5}\\right)=\\frac{7}{25}</cmath>\nThus the answer is <math>7\\cdot25=\\boxed{175}</math>.\n\n=== Solution 4 (coordinate geometry) ===\n[[File:Aime1983p15s2.png|500px|link=]]\n\nLet the circle have equation <math>x^2 + y^2 = 25</math>, with centre <math>O(0,0)</math>. Since <math>BC=6</math>, we can calculate (by the Pythagorean Theorem) that the distance from <math>O</math> to the line <math>BC</math> is <math>4</math>. Therefore, we can let <math>B=(3,4)</math> and <math>C=(-3,4)</math>. Now, assume that <math>A</math> is any point on the major arc BC, and <math>D</math> any point on the minor arc BC. We can write <math>A=(5 \\cos \\alpha, 5 \\sin \\alpha)</math>, where <math>\\alpha</math> is the angle measured from the positive <math>x</math> axis to the ray <math>OA</math>. It will also be convenient to define <math>\\angle XOB = \\alpha_0</math>. \n\nFirstly, since <math>B</math> must lie in the minor arc <math>AD</math>, we see that <math>\\alpha \\in \\left(-\\frac{\\pi}{2}-\\alpha_0,\\alpha_0\\right)</math>. However, since the midpoint of <math>AD</math> must lie on <math>BC</math>, and the highest possible <math>y</math>-coordinate of <math>D</math> is <math>5</math>, we see that the <math>y</math>-coordinate cannot be lower than <math>3</math>, that is, <math>\\alpha \\in \\left[\\sin^{-1}\\frac{3}{5},\\alpha_0\\right)</math>.\n\nSecondly, there is a theorem that says that, in a circle, if a chord is bisected by a radius, then they must be perpendicular. Therefore, suppose that <math>P</math> is the intersection point of <math>AD</math> and <math>BC</math>, so that by the theorem, <math>OP</math> is perpendicular to <math>AD</math>. So, if <math>AD</math> is the only chord starting at <math>A</math> which is bisected by <math>BC</math>, this means that <math>P</math> is the only point on the chord <math>BC</math> such that <math>OP</math> is perpendicular to <math>AD</math>. Now suppose that <math>P=(p,4)</math>, where <math>p \\in (-3,3)</math>. The fact that <math>OP</math> must be perpendicular to <math>AD</math> is equivalent to the following equation:\n\n<cmath> -1 = \\left(\\text{slope of } OP\\right)\\left(\\text{slope of } AP\\right)</cmath>\nwhich becomes\n<cmath> -1 = \\frac{4}{p} \\cdot \\frac{5\\sin \\alpha - 4}{5\\cos \\alpha - p}</cmath>\n\nThis rearranges to\n\n<cmath> p^2 - (5\\cos \\alpha)p + 16 - 20 \\sin \\alpha = 0</cmath>\n\nGiven that this equation must have only one real root <math>p\\in (-3,3)</math>, we study the following function:\n\n<cmath>f(x) =  x^2 - (5\\cos \\alpha)x + 16 - 20 \\sin \\alpha</cmath>\n\nFirst, by the fact that the equation <math>f(x)=0</math> has real solutions, its discriminant <math>\\Delta</math> must be non-negative, so we calculate\n\n<cmath> \\begin{split}\\Delta & = (5\\cos \\alpha)^2 - 4(16-20\\sin \\alpha) \\\\\n& =  25 (1- \\sin^2 \\alpha)  - 64 + 80 \\sin \\alpha \\\\\n& = -25 \\sin^2 \\alpha + 80\\sin \\alpha - 39 \\\\\n& =  (13 - 5\\sin \\alpha)(5\\sin \\alpha - 3)\\end{split}</cmath>\n\nIt is obvious that this is in fact non-negative. If it is actually zero, then <math>\\sin \\alpha = \\frac{3}{5}</math>, and <math>\\cos \\alpha = \\frac{4}{5}</math>. In this case, <math>p = \\frac{5\\cos \\alpha}{2} = 2 \\in (-3,3)</math>, so we have found a possible solution. We thus calculate <math>\\sin(\\text{central angle of minor arc } AB) = \\sin (\\alpha_0 - \\alpha) = \\frac{4}{5}\\cdot \\frac{4}{5} - \\frac{3}{5} \\cdot \\frac{3}{5} = \\frac{7}{25}</math> by the subtraction formula for <math>\\sin</math>. This means that the answer is <math>7 \\cdot 25 = 175</math>.\n\n=== Addendum to Solution 4 ===\nSince this is an AIME problem, we can assume that we are done since we have found one possible case. However, in a full-solution contest, we could not assume that the answer is unique, but would need to prove that this is the unique solution. This can be proven as follows.\n\nSuppose that <math>\\Delta > 0</math>, which would mean that there could be two real roots of <math>f(x)</math>, one lying in the interval <math>(-3,3)</math>, and another outside of it. We also see, by [[Vieta's Formulas]], that the average of the two roots is <math>\\frac{5\\cos \\alpha}{2}</math>, which is non-negative, so the root outside of <math>(-3,3)</math> must be no less than <math>3</math>. By considering the graph of <math>y=f(x)</math>, which is a \"U-shaped\" parabola, it is now evident that <math>f(-3) > 0</math> and <math>f(3)\\leq 0</math>. We can just use the second inequality:\n\n<cmath>0 \\geq  f(3) =  25  - 15\\cos \\alpha - 20 \\sin \\alpha</cmath>\nso\n<cmath>  3\\cos \\alpha + 4 \\sin \\alpha  \\geq 5  </cmath>\n\nThe only way for this inequality to be satisfied is when <math>A=B</math> (by applying the Cauchy-Schwarz inequality, or just plotting the line <math>3x+4y=5</math> to see that point <math>A</math> can't be above this line), which does not make sense in the original problem statement. (For it would mean that the point <math>A</math> lies in the half-plane above the line <math>3x+4y=5</math>, inclusive, and the half-plane below the line <math>-3x+4y=5</math>, exclusive. This can be seen to be impossible by drawing the lines and observing that the intersection of the two half-planes does not share any point with the circle.)\n===Solution 5===\nLet the center of the circle be <math>O</math>. Fix <math>B,C,</math> and <math>A</math>. Then, as <math>D</math> moves around the circle, the locus of the midpoints of <math>AD</math> is clearly a circle. Since the problems gives that <math>AD</math> is the only chord starting at <math>A</math> bisected by <math>BC</math>, it follows that the circle with diameter <math>DO</math> and <math>AO</math> is tangent to <math>BC</math>.\n\nNow, let the intersection of <math>BC</math> and <math>AD</math> be <math>E</math> and let the midpoint of <math>AO</math> (the center of the circle tangent to <math>BC</math> that we described beforehand) be <math>F</math>. Drop the altitude from <math>O</math> to <math>BC</math> and call its intersection with <math>BC</math> <math>K</math>. Drop the perpendicular from <math>F</math> to <math>KO</math> and call its intersection with <math>KO</math> <math>L</math>. Clearly, <math>KO = \\sqrt{OC^2-KC^2} = \\sqrt{5^2-3^2} = 4</math> and since <math>EF</math> is radius, it equals <math>\\frac{5}{2}</math>. The same applies for <math>FO</math>, which also equals <math>\\frac{5}{2}</math>. By the Pythagorean theorem, we deduce that <math>FL = 2</math>, so <math>EK = 2</math>. This is very important information! Now we know that <math>BE = 1</math>, so by Power of a Point, <math>AE = ED = \\sqrt{5}</math>.\n\nWe‚Äôre almost there! Since by the Pythagorean theorem, <math>ED^2 + EO^2 = 25</math>, we deduce that <math>EO = 2\\sqrt{5}</math>. <math>EC=OC=5</math>, so <math>\\sin (CEO) = \\frac{2\\sqrt{5}}{5}</math>. Furthermore, since <math>\\sin (CEO) = \\cos(DEC)</math>, we know that <math>\\cos (DEC) = \\frac{2\\sqrt{5}}{5}</math>. By the law of cosines,\n<cmath>DC^2 = (\\sqrt{5})^2 + 5^2 -10\\sqrt{5} \\cdot \\frac{2\\sqrt{5}}{5} = 10</cmath>Therefore, <math>DC = \\sqrt{10} \\Longleftrightarrow BA = \\sqrt{2}</math>. Now, drop the altitude from <math>O</math> to <math>BA</math> and call its intersection with <math>BA</math> <math>Z</math>. Then, by the Pythagorean theorem, <math>OZ = \\frac{7\\sqrt{2}}{2}</math>. Thus, <math>\\sin (BOZ) = \\frac{\\sqrt{2}}{10}</math> and <math>\\cos (BOZ) = \\frac{7\\sqrt{2}}{10}</math>. As a result, <math>\\sin (BOA) = \\sin (2 BOZ) = 2\\sin(BOZ)\\cos(BOZ) = \\frac{7}{25}</math>. <math>7 \\cdot 25 = \\boxed{175}</math>.\n\n=== Solution 6 ===\n\n[[Image:Dgram.png|thumb|none|800px]]\n\nLet I be the intersection of AD and BC.\n \nLemma: <math>AI = ID</math> if and only if <math>\\angle AIO = 90</math>.\n\nProof: If AI = ID, we get AO = OD, and thus IO is a perpendicular bisector of AD. If <math>\\angle AIO = 90</math>, We can get <math>\\triangle AIO \\cong \\triangle OID</math>\n\nLet  be this the circle with diameter AO.\n\nThus, we get <math>\\angle AIO = 90</math>, implying I must lie on <math>\\omega</math>. I also must lie on BC. If both of these conditions are satisfied, The extension of AI intersecting with circle O will create a point D such that AI = ID. Thus, since AD is the only chord starting at A, there must be only 1 possible I, implying the circle with diameter AO is tangent to BC.\n\nNow, create a coordinate system such that the origin is O and the y-axis is perpendicular to BC. The positive x direction is from B to C.\n\nLet Z be (0,5).\nLet Y be (-5,0).\nLet X be the center of <math>\\omega</math>. Since <math>\\omega</math>'s radius is <math>\\frac{5}{2}</math>, the altitude from X to OY is 1.5, since the altitude from I to OY is 4. XO is 2.5, so <math>sin(XOY) = sin(AOY) = \\frac{3}{5}</math>. <math>sin(BOZ) =  \\frac{3}{5}</math>. If we let <math>sin(\\theta) = \\frac{3}{5}</math>, we can find that what we are looking for is <math>sin(90 - 2\\theta)</math>, which we can evaluate and get <math>\\frac{7}{25} \\implies \\boxed{175}</math>\n\n-Alexlikemath\n\n=== Solution 7 (No Trig) ===\nLet <math>O</math> be the center of the circle. The locus of midpoints of chords with <math>A</math> as a endpoint is a circle with diameter <math>\\overline{AO}</math>. Additionally, this circle must be tangent to <math>\\overline{BC}</math>. Let the center of this circle be <math>P</math>. Let <math>M</math> be the midpoint of <math>BC</math>, <math>N</math> be the foot of the perpendicular from <math>P</math> to <math>\\overline{BM}</math>, and <math>K</math> be the foot of the perpendicular from <math>B</math> to <math>\\overline{AP}</math>. Let <math>x=BK</math>.\n\nFrom right triangle <math>BKO</math>, we get <math>KO = \\sqrt{25-x^2}</math>. Thus, <math>KP = \\sqrt{25-x^2}-\\frac52</math>.\n\nSince <math>BO = 5</math>, <math>BM = 3</math>, and <math>\\angle BMO</math> is right, <math>MO=4</math>. From quadrilateral <math>MNPO</math>, we get <math>MN = \\sqrt{PO^2 - (MO - NP)^2} = \\sqrt{(5/2)^2 - (4 - 5/2)^2} = \\sqrt{(5/2)^2 - (3/2)^2} = 2</math>. Thus, <math>BN = 1</math>.\n\nSince angles <math>BNP</math> and <math>BKP</math> are right, we get <cmath>BK^2+KP^2 = BN^2 + NP^2 \\implies x^2 + \\left(\\sqrt{25-x^2}-\\frac52\\right)^2 = \\left(\\frac52\\right)^2 + 1</cmath>\n<cmath>25 - 5\\sqrt{25-x^2} = 1</cmath>\n<cmath>5\\sqrt{25-x^2} = 24</cmath>\n<cmath>25(25-x^2) = 24^2</cmath>\n<cmath>25x^2 = 25^2 - 24^2 = 49</cmath>\n<cmath>x = \\frac75</cmath>\nThus, <math>\\sin \\angle AOB = \\frac{x}{5} = \\frac{7}{25}\\implies \\boxed{175}</math>.\n\n~rayfish\n\n=== Solution 8 (Similar to 1, but with coordinates) ===\n\nLet the center of the circle be O. O is at (0,0).\nRotate the circle so that the line BC has slope 0, and so that C is in the 1st quadrant. Since BC = 6, and B can be reflected across the y axis to become C, we can say that B is on x=-3, and C is on x=3. Since it must lie on the circle <math>x^2+y^2=25</math>,\nB = (-3,4) and C = (3,4). So BC is on the line y=4.\n\nLet A be at <math>(x,\\sqrt{25-x^2})</math>. Let D be at <math>(z,\\sqrt{25-z^2})</math>.\nNotice that the midpoint of AD lies on BC. Since BC is on the line y=4, using the midpoint formula we can say, <math>\\sqrt{25-x^2} + \\sqrt{25-z^2} = 8</math>.\nWe treat x like a constant, since it is determined by where A lies on the circle.\nNotice that if the above equation is true for z=p, it is also true for z=-p. But this is impossible because the problem states that AD is the only chord starting at A which is bisected by BC. This problem is solved if z=-z=0. Thus, z=0, and D=(0,5). \nplugging in z=0 into <math>\\sqrt{25-x^2} + \\sqrt{25-z^2} = 8</math>, we find x=+-4. Since AB is a minor arc, we assume x=-4. A is therefore on (-4,3) and B on (-3,4).\n\nWe can use complex numbers to find the angle between A and B, because arguments subtract when you divide complex numbers. <math>\\frac{-4+3i}{-3+4i} = \\frac{24+7i}{25}</math> \nWhich gives us <math>\\frac{7}{25}</math>. <math>7 \\cdot 25 = \\boxed{175}</math>\n\n\n~skibidi solver"
  },
  {
    "year": 1984,
    "variant": "I",
    "problem_number": 1,
    "latex": "Find the value of <math>a_2+a_4+a_6+a_8+\\ldots+a_{98}</math> if <math>a_1</math>, <math>a_2</math>, <math>a_3\\ldots</math> is an [[arithmetic progression]] with common difference 1, and <math>a_1+a_2+a_3+\\ldots+a_{98}=137</math>.",
    "solution": "One approach to this problem is to apply the formula for the sum of an [[arithmetic series]] in order to find the value of <math>a_1</math>, then use that to calculate <math>a_2</math> and sum another arithmetic series to get our answer.\n\nA somewhat quicker method is to do the following: for each <math>n \\geq 1</math>, we have <math>a_{2n - 1} = a_{2n} - 1</math>.  We can substitute this into our given equation to get <math>(a_2 - 1) + a_2 + (a_4 - 1) + a_4 + \\ldots + (a_{98} - 1) + a_{98} = 137</math>.  The left-hand side of this equation is simply <math>2(a_2 + a_4 + \\ldots + a_{98}) - 49</math>, so our desired value is <math>\\frac{137 + 49}{2} = \\boxed{93}</math>."
  },
  {
    "year": 1984,
    "variant": "I",
    "problem_number": 2,
    "latex": "The [[integer]] <math>n</math> is the smallest [[positive]] [[multiple]] of <math>15</math> such that every [[digit]] of <math>n</math> is either <math>8</math> or <math>0</math>. Compute <math>\\frac{n}{15}</math>.",
    "solution": "Any multiple of 15 is a multiple of 5 and a multiple of 3. \n\nAny multiple of 5 ends in 0 or 5; since <math>n</math> only contains the digits 0 and 8, the units [[digit]] of <math>n</math> must be 0.  \n\n\n\n\nThe sum of the digits of any multiple of 3 must be [[divisible]] by 3.  If <math>n</math> has <math>a</math> digits equal to 8, the sum of the digits of <math>n</math> is <math>8a</math>.  For this number to be divisible by 3, <math>a</math> must be divisible by 3. We also know that <math>a>0</math> since <math>n</math> is positive. Thus <math>n</math> must have at least three copies of the digit 8.  \n\nThe smallest number which meets these two requirements is 8880.  Thus the answer is <math>\\frac{8880}{15} = \\boxed{592}</math>."
  },
  {
    "year": 1984,
    "variant": "I",
    "problem_number": 3,
    "latex": "A [[point]] <math>P</math> is chosen in the interior of <math>\\triangle ABC</math> such that when [[line]]s are drawn through <math>P</math> [[parallel]] to the sides of <math>\\triangle ABC</math>, the resulting smaller [[triangle]]s <math>t_{1}</math>, <math>t_{2}</math>, and <math>t_{3}</math> in the figure, have [[area]]s <math>4</math>, <math>9</math>, and <math>49</math>, respectively. Find the area of <math>\\triangle ABC</math>.\n<center><asy>\nsize(200);\npathpen=black;pointpen=black;\npair A=(0,0),B=(12,0),C=(4,5);\nD(A--B--C--cycle); D(A+(B-A)*3/4--A+(C-A)*3/4); D(B+(C-B)*5/6--B+(A-B)*5/6);D(C+(B-C)*5/12--C+(A-C)*5/12);\nMP(\"A\",C,N);MP(\"B\",A,SW);MP(\"C\",B,SE); /* sorry mixed up points according to resources diagram. */\nMP(\"t_3\",(A+B+(B-A)*3/4+(A-B)*5/6)/2+(-1,0.8),N);\nMP(\"t_2\",(B+C+(B-C)*5/12+(C-B)*5/6)/2+(-0.3,0.1),WSW);\nMP(\"t_1\",(A+C+(C-A)*3/4+(A-C)*5/12)/2+(0,0.15),ESE);\n</asy></center>",
    "solution": "By the transversals that go through <math>P</math>, all four triangles are [[similar triangles|similar]] to each other by the <math>AA</math> postulate. Also, note that the length of any one side of the larger triangle is equal to the sum of the sides of each of the corresponding sides on the smaller triangles. We use the identity <math>K = \\dfrac{ab\\sin C}{2}</math> to show that the areas are proportional (the sides are proportional and the angles are equal) Hence, we can write the lengths of corresponding sides of the triangle as <math>2x,\\ 3x,\\ 7x</math>. Thus, the corresponding side on the large triangle is <math>12x</math>, and the area of the triangle is <math>12^2 = \\boxed{144}</math>."
  },
  {
    "year": 1984,
    "variant": "I",
    "problem_number": 4,
    "latex": "Let <math>S</math> be a list of positive integers--not necessarily distinct--in which the number <math>68</math> appears. The average (arithmetic mean) of the numbers in <math>S</math> is <math>56</math>. However, if <math>68</math> is removed, the average of the remaining numbers drops to <math>55</math>. What is the largest number that can appear in <math>S</math>?",
    "solution": "Suppose that <math>S</math> has <math>n</math> numbers other than the <math>68,</math> and the sum of these numbers is <math>s.</math>\n\nWe are given that \n<cmath>\\begin{align*}\n\\frac{s+68}{n+1}&=56, \\\\\n\\frac{s}{n}&=55.\n\\end{align*}</cmath>\nClearing denominators, we have\n<cmath>\\begin{align*}\ns+68&=56n+56, \\\\\ns&=55n.\n\\end{align*}</cmath>\nSubtracting the equations, we get <math>68=n+56,</math> from which <math>n=12.</math> It follows that <math>s=660.</math>\n\nThe sum of the twelve remaining numbers in <math>S</math> is <math>660.</math> To maximize the largest number, we minimize the other eleven numbers: We can have eleven <math>1</math>s and one <math>660-11\\cdot1=\\boxed{649}.</math>\n\n~JBL (Solution)\n\n~MRENTHUSIASM (Reconstruction)"
  },
  {
    "year": 1984,
    "variant": "I",
    "problem_number": 5,
    "latex": "Determine the value of <math>ab</math> if <math>\\log_8a+\\log_4b^2=5</math> and <math>\\log_8b+\\log_4a^2=7</math>.",
    "solution": "Use the [[change of base formula]] to see that <math>\\frac{\\log a}{\\log 8} + \\frac{2 \\log b}{\\log 4} = 5</math>; combine [[denominator]]s to find that <math>\\frac{\\log ab^3}{3\\log 2} = 5</math>. Doing the same thing with the second equation yields that <math>\\frac{\\log a^3b}{3\\log 2} = 7</math>. This means that <math>\\log ab^3 = 15\\log 2 \\Longrightarrow ab^3 = 2^{15}</math> and that <math>\\log a^3 b = 21\\log 2 \\Longrightarrow a^3 b = 2^{21}</math>. If we multiply the two equations together, we get that <math>a^4b^4 = 2^{36}</math>, so taking the fourth root of that, <math>ab = 2^9 = \\boxed{512}</math>."
  },
  {
    "year": 1984,
    "variant": "I",
    "problem_number": 6,
    "latex": "Three circles, each of [[radius]] <math>3</math>, are drawn with centers at <math>(14, 92)</math>, <math>(17, 76)</math>, and <math>(19, 84)</math>. A [[line]] passing through <math>(17,76)</math> is such that the total area of the parts of the three circles to one side of the line is equal to the total [[area]] of the parts of the three circles to the other side of it. What is the [[absolute value]] of the [[slope]] of this line?\n\n__TOC__",
    "solution": "[[Image:1984_AIME-6.png]]\n\nThe line passes through the center of the bottom circle; hence it is the circle's [[diameter]] and splits the circle into two equal areas. For the rest of the problem, we do not have to worry about that circle. \n\nDraw the [[midpoint]] of <math>\\overline{AC}</math> (the centers of the other two circles), and call it <math>M</math>. If we draw the feet of the [[perpendicular]]s from <math>A,C</math> to the line (call <math>E,F</math>), we see that <math>\\triangle AEM\\cong \\triangle CFM</math> by [[HA congruency]]; hence <math>M</math> lies on the line. The coordinates of <math>M</math> are <math>\\left(\\frac{19+14}{2},\\frac{84+92}{2}\\right) = \\left(\\frac{33}{2},88\\right)</math>. \n\nThus, the slope of the line is <math>\\frac{88 - 76}{\\frac{33}{2} - 17} = -24</math>, and the answer is <math>\\boxed{024}</math>.\n\n''Remark'': Notice the fact that the radius is 3 is not used in this problem; in fact changing the radius does not affect the answer."
  },
  {
    "year": 1984,
    "variant": "I",
    "problem_number": 7,
    "latex": "The [[function]] <math>f</math> is defined on the [[set]] of [[integer]]s and satisfies <math>f(n)=\\begin{cases}\nn-3&\\mbox{if}\\ n\\ge 1000\\\\\nf(f(n+5))&\\mbox{if}\\ n<1000\\end{cases}</math>\n\nFind <math>f(84)</math>.",
    "solution": "Define <math>f^{h} = f(f(\\cdots f(f(x))\\cdots))</math>, where the function <math>f</math> is performed <math>h</math> times. We find that <math> f(84) = f(f(89)) = f^2(89) = f^3(94) = \\ldots f^{y}(1004)</math>. <math>1004 = 84 + 5(y - 1) \\Longrightarrow y = 185</math>. So we now need to reduce <math>f^{185}(1004)</math>.\n\nLet‚Äôs write out a couple more iterations of this function:\n<cmath>\\begin{align*}f^{185}(1004)&=f^{184}(1001)=f^{183}(998)=f^{184}(1003)=f^{183}(1000)\\\\\n&=f^{182}(997)=f^{183}(1002)=f^{182}(999)=f^{183}(1004)\\end{align*}</cmath>\nSo this function reiterates with a period of 2 for <math>x</math>. It might be tempting at first to assume that <math>f(1004) = 1001</math> is the answer; however, that is not true since the solution occurs slightly before that. Start at <math>f^3(1004)</math>:\n<cmath>f^{3}(1004)=f^{2}(1001)=f(998)=f^{2}(1003)=f(1000)=\\boxed{997}</cmath>\n\nNote that we should also be suspicious if our answer is <math>1001</math>- it is a <math>4</math>-digit number, and we were not asked to, say, divide our number by <math>13</math>."
  },
  {
    "year": 1984,
    "variant": "I",
    "problem_number": 8,
    "latex": "The equation <math>z^6+z^3+1=0</math> has complex roots with argument <math>\\theta</math> between <math>90^\\circ</math> and <math>180^\\circ</math> in the [[complex plane]]. Determine the degree measure of <math>\\theta</math>.",
    "solution": "We shall introduce another factor to make the equation easier to solve. If <math>r</math> is a root of <math>z^6+z^3+1</math>, then <math>0=(r^3-1)(r^6+r^3+1)=r^9-1</math>. The polynomial <math>x^9-1</math> has all of its roots with [[absolute value]] <math>1</math> and argument of the form <math>40m^\\circ</math> for integer <math>m</math> (the ninth degree [[roots of unity]]). Now we simply need to find the root within the desired range that satisfies our original equation <math>x^6 + x^3 + 1 = 0</math>.\n\nThis reduces <math>\\theta</math> to either <math>120^{\\circ}</math> or <math>160^{\\circ}</math>. But <math>\\theta</math> can't be <math>120^{\\circ}</math> because if <math>r=\\cos 120^\\circ +i\\sin 120^\\circ </math>, then <math>r^6+r^3+1=3</math>. (When we multiplied by <math>r^3 - 1</math> at the beginning, we introduced some extraneous solutions, and the solution with <math>120^\\circ</math> was one of them.) This leaves <math>\\boxed{\\theta=160}</math>."
  },
  {
    "year": 1984,
    "variant": "I",
    "problem_number": 9,
    "latex": "In [[tetrahedron]] <math>ABCD</math>, [[edge]] <math>AB</math> has length 3 cm. The area of [[face]] <math>ABC</math> is <math>15\\mbox{cm}^2</math> and the area of face <math>ABD</math> is <math>12 \\mbox { cm}^2</math>. These two faces meet each other at a <math>30^\\circ</math> angle. Find the [[volume]] of the tetrahedron in <math>\\mbox{cm}^3</math>.",
    "solution": "<center><asy>\n/* modified version of olympiad modules */\nimport three;\nreal markscalefactor = 0.03;\npath3 rightanglemark(triple A, triple B, triple C, real s=8)\n{\n\ttriple P,Q,R;\n\tP=s*markscalefactor*unit(A-B)+B;\n\tR=s*markscalefactor*unit(C-B)+B;\n\tQ=P+R-B;\n\treturn P--Q--R;\n}\npath3 anglemark(triple A, triple B, triple C, real t=8 ... real[] s)\n{ \n\ttriple M,N,P[],Q[]; \n\tpath3 mark; \n\tint n=s.length;\n\tM=t*markscalefactor*unit(A-B)+B; \n\tN=t*markscalefactor*unit(C-B)+B; \n\tfor (int i=0; i<n; ++i)  \n\t{  \n\t\tP[i]=s[i]*markscalefactor*unit(A-B)+B;  \n\t\tQ[i]=s[i]*markscalefactor*unit(C-B)+B; \n\t} \n\tmark=arc(B,M,N); \n\tfor (int i=0; i<n; ++i) \n\t{  \n\t\tif (i%2==0)  \n\t\t{   \n\t\t\tmark=mark--reverse(arc(B,P[i],Q[i]));  \n\t\t}  \n\t\telse  \n\t\t{   \n\t\t\tmark=mark--arc(B,P[i],Q[i]);   \n\t\t} \n\t} \n\tif (n%2==0 && n!=0) \n\tmark=(mark--B--P[n-1]); \n\telse if (n!=0) \n\tmark=(mark--B--Q[n-1]); \n\telse mark=(mark--B--cycle); \n\treturn mark;\n}\n\nsize(200);\nimport three; defaultpen(black+linewidth(0.7)); pen small = fontsize(10);\ntriple A=(0,0,0),B=(3,0,0),C=(1.8,10,0),D=(1.5,4,4),Da=(D.x,D.y,0),Db=(D.x,0,0); \ncurrentprojection=perspective(16,-10,8);\n\ndraw(surface(A--B--C--cycle),rgb(0.6,0.7,0.6),nolight);\ndraw(surface(A--B--D--cycle),rgb(0.7,0.6,0.6),nolight);\n\n/* draw pyramid - other lines + angles */\ndraw(A--B--C--A--D--B--D--C); \ndraw(D--Da--Db--cycle);\ndraw(rightanglemark(D,Da,Db));draw(rightanglemark(A,Db,D));draw(anglemark(Da,Db,D,15));\n\n/* labeling points */\nlabel(\"$A$\",A,SW);label(\"$B$\",B,S);label(\"$C$\",C,S);label(\"$D$\",D,N);label(\"$30^{\\circ}$\",Db+(0,.35,0.08),(1.5,1.2),small);\nlabel(\"$3$\",(A+B)/2,S); label(\"$15\\mathrm{cm}^2$\",(Db+C)/2+(0,-0.5,-0.1),NE,small); label(\"$12\\mathrm{cm}^2$\",(A+D)/2,NW,small);\n</asy></center>\n\nPosition face <math>ABC</math> on the bottom. Since <math>[\\triangle ABD] = 12 = \\frac{1}{2} \\cdot AB \\cdot h_{ABD}</math>, we find that <math>h_{ABD} = 8</math>. Because the problem does not specify, we may assume both <math>ABC</math> and <math>ABD</math> to be isosceles triangles. Thus, the height of <math>ABD</math> forms a <math>30-60-90</math> with the height of the tetrahedron. So, <math>h = \\frac{1}{2} (8) = 4</math>. The volume of the tetrahedron is thus <math>\\frac{1}{3}Bh = \\frac{1}{3} \\cdot15 \\cdot 4 = \\boxed{020}</math>."
  },
  {
    "year": 1984,
    "variant": "I",
    "problem_number": 10,
    "latex": "Mary told John her score on the American High School Mathematics Examination (AHSME), which was over <math>80</math>. From this, John was able to determine the number of problems Mary solved correctly. If Mary's score had been any lower, but still over <math>80</math>, John could not have determined this. What was Mary's score? (Recall that the AHSME consists of <math>30</math> multiple choice problems and that one's score, <math>s</math>, is computed by the formula <math>s=30+4c-w</math>, where <math>c</math> is the number of correct answers and <math>w</math> is the number of wrong answers. (Students are not penalized for problems left unanswered.)",
    "solution": "Let Mary's score, number correct, and number wrong be <math>s,c,w</math> respectively. Then\n<cmath>\\begin{align*}\ns&=30+4c-w \\\\\n&=30+4(c-1)-(w-4) \\\\\n&=30+4(c+1)-(w+4).\n\\end{align*}</cmath>\nTherefore, Mary could not have left at least five blank; otherwise, one more correct and four more wrong would produce the same score. Similarly, Mary could not have answered at least four wrong (clearly Mary answered at least one right to have a score above <math>80</math>, or even <math>30</math>.)\n\nIt follows that <math>c+w\\geq 26</math> and <math>w\\leq 3</math>, so <math>c\\geq 23</math> and <math>s=30+4c-w\\geq 30+4(23)-3=119</math>. So Mary scored at least <math>119</math>. To see that no result other than <math>23</math> right/<math>3</math> wrong produces <math>119</math>, note that <math>s=119\\Rightarrow 4c-w=89</math> so <math>w\\equiv 3\\pmod{4}</math>. But if <math>w=3</math>, then <math>c=23</math>, which was the result given; otherwise <math>w\\geq 7</math> and <math>c\\geq 24</math>, but this implies at least <math>31</math> questions, a contradiction. This makes the minimum score <math>\\boxed{119}</math>."
  },
  {
    "year": 1984,
    "variant": "I",
    "problem_number": 11,
    "latex": "A gardener plants three maple trees, four oaks, and five birch trees in a row. He plants them in random order, each arrangement being equally likely. Let <math>\\frac m n</math> in lowest terms be the [[probability]] that no two birch trees are next to one another. Find <math>m+n</math>.",
    "solution": "First notice that there is no difference between the maple trees and the oak trees; we have only two types, birch trees and \"non-birch\" trees. (If you don't believe this reasoning, think about it. You could also differentiate the tall oak trees from the short oak trees, and the maple trees with many branches as opposed to those with few branches. Indeed, you could keep dividing until you have them each in their own category, but in the end it will not change the probability of the birch trees being near each other. That is, in the end, you multiply the numerator by the number of ways to arrange the oak and maple trees and you also multiply the denominator by the number of ways to arrange the oak and maple trees, making them cancel out.)\n\nThe five birch trees must be placed amongst the seven previous trees. We can think of these trees as 5 dividers of 8 slots that the birch trees can go in, making <math>{8\\choose5} = 56</math> different ways to arrange this.\n\nThere are <math>{12 \\choose 5} = 792</math> total ways to arrange the twelve trees, so the probability is <math>\\frac{56}{792} = \\frac{7}{99}</math>.\n\nThe answer is <math>7 + 99 = \\boxed{106}</math>."
  },
  {
    "year": 1984,
    "variant": "I",
    "problem_number": 12,
    "latex": "<!-- don't remove the following tag, for PoTW on the Wiki front page--><onlyinclude>A [[function]] <math>f</math> is defined for all real numbers and satisfies <math>f(2+x)=f(2-x)</math> and <math>f(7+x)=f(7-x)</math> for all <math>x</math>. If <math>x=0</math> is a root for <math>f(x)=0</math>, what is the least number of roots <math>f(x)=0</math> must have in the interval <math>-1000\\leq x \\leq 1000</math>?<!-- don't remove the following tag, for PoTW on the Wiki front page--></onlyinclude>",
    "solution": "If <math>f(2+x)=f(2-x)</math>, then substituting <math>t=2+x</math> gives <math>f(t)=f(4-t)</math>. Similarly, <math>f(t)=f(14-t)</math>. In particular,\n<cmath>f(t)=f(14-t)=f(14-(4-t))=f(t+10)</cmath>\n\nSince <math>0</math> is a root, all multiples of <math>10</math> are roots, and anything congruent to <math>4\\pmod{10}</math> are also roots. To see that these may be the only integer roots, observe that the function\n<cmath>f(x) = \\sin \\frac{\\pi x}{10}\\sin \\frac{\\pi (x-4)}{10}</cmath>\nsatisfies the conditions and has no other roots.\n\nIn the interval <math>-1000\\leq x\\leq 1000</math>, there are <math>201</math> multiples of <math>10</math> and <math>200</math> numbers that are congruent to <math>4 \\pmod{10}</math>, therefore the minimum number of roots is <math>\\boxed{401}</math>."
  },
  {
    "year": 1984,
    "variant": "I",
    "problem_number": 13,
    "latex": "Find the value of <math>10\\cot(\\cot^{-1}3+\\cot^{-1}7+\\cot^{-1}13+\\cot^{-1}21).</math>\n\n__TOC__",
    "solution": "=== Solution 1 ===\nWe know that <math>\\tan(\\arctan(x)) = x</math> so we can repeatedly apply the addition formula, <math>\\tan(x+y) = \\frac{\\tan(x)+\\tan(y)}{1-\\tan(x)\\tan(y)}</math>. Let <math>a = \\cot^{-1}(3)</math>, <math>b=\\cot^{-1}(7)</math>, <math>c=\\cot^{-1}(13)</math>, and <math>d=\\cot^{-1}(21)</math>. We have\n\n<center><p><math>\\tan(a)=\\frac{1}{3},\\quad\\tan(b)=\\frac{1}{7},\\quad\\tan(c)=\\frac{1}{13},\\quad\\tan(d)=\\frac{1}{21}</math>,</p></center>\n\nso\n\n<center><p><math>\\tan(a+b) = \\frac{\\frac{1}{3}+\\frac{1}{7}}{1-\\frac{1}{21}} = \\frac{1}{2}</math></p></center>\n\nand\n\n<center><p><math>\\tan(c+d) = \\frac{\\frac{1}{13}+\\frac{1}{21}}{1-\\frac{1}{273}} = \\frac{1}{8}</math>,</p></center>\n\nso\n\n<center><p><math>\\tan((a+b)+(c+d)) = \\frac{\\frac{1}{2}+\\frac{1}{8}}{1-\\frac{1}{16}} = \\frac{2}{3}</math>.</p></center>\n\nThus our answer is <math>10\\cdot\\frac{3}{2}=\\boxed{015}</math>.\n\n=== Solution 2 ===\n \nApply the formula <math>\\cot^{-1}x + \\cot^{-1} y = \\cot^{-1}\\left(\\frac {xy-1}{x+y}\\right)</math> repeatedly. Using it twice on the inside, the desired sum becomes <math>\\cot (\\cot^{-1}2+\\cot^{-1}8)</math>. This sum can then be tackled by taking the cotangent of both sides of the inverse cotangent addition formula shown at the beginning.\n\n=== Solution 3 ===\n\nOn the coordinate plane, let <math>O=(0,0)</math>, <math>A_1=(3,0)</math>, <math>A_2=(3,1)</math>, <math>B_1=(21,7)</math>, <math>B_2=(20,10)</math>, <math>C_1=(260,130)</math>, <math>C_2=(250,150)</math>, <math>D_1=(5250,3150)</math>, <math>D_2=(5100,3400)</math>, and <math>H=(5100,0)</math>. We see that <math>\\cot^{-1}(\\angle A_2OA_1)=3</math>, <math>\\cot^{-1}(\\angle B_2OB_1)=7</math>, <math>\\cot^{-1}(\\angle C_2OC_1)=13</math>, and <math>\\cot^{-1}(\\angle D_2OD_1)=21</math>. The sum of these four angles forms the angle of triangle <math>OD_2H</math>, which has a cotangent of <math>\\frac{5100}{3400}=\\frac{3}{2}</math>, which must mean that <math> \\cot( \\cot^{-1}3+\\cot^{-1}7+\\cot^{-1}13+\\cot^{-1}21)=\\frac{3}{2}</math>. So the answer is <math>10\\cdot\\left(\\frac{3}{2}\\right)=\\boxed{015}.</math>\n\n===Solution 4===\nRecall that <math>\\cot^{-1}\\theta = \\frac{\\pi}{2} - \\tan^{-1}\\theta</math> and that <math>\\arg(a + bi) = \\tan^{-1}\\frac{b}{a}</math>. Then letting <math>w = 1 + 3i, x = 1 + 7i, y = 1 + 13i,</math> and <math>z = 1 + 21i</math>, we are left with\n\n<cmath>10\\cot(\\frac{\\pi}{2} - \\arg w + \\frac{\\pi}{2} - \\arg x + \\frac{\\pi}{2} - \\arg y + \\frac{\\pi}{2} - \\arg z) = 10\\cot(2\\pi - \\arg wxyz)</cmath>\n<cmath>= -10\\cot(\\arg wxyz).</cmath>\n\nExpanding <math>wxyz</math>, we are left with\n<cmath>(3+i)(7+i)(13+i)(21+i) = (20+10i)(13+i)(21+i)</cmath>\n<cmath>= (2+i)(13+i)(21+i)</cmath>\n<cmath>= (25+15i)(21+i)</cmath>\n<cmath>= (5+3i)(21+i)</cmath>\n<cmath>= (102+68i)</cmath>\n<cmath>= (3+2i)</cmath>\n<cmath>= 10\\cot \\tan^{-1}\\frac{2}{3}</cmath>\n<cmath> = 10 \\cdot \\frac{3}{2} = \\boxed{015}</cmath>"
  },
  {
    "year": 1984,
    "variant": "I",
    "problem_number": 14,
    "latex": "What is the largest even integer that cannot be written as the sum of two odd composite numbers?",
    "solution": "Take an even positive integer <math>x</math>. <math>x</math> is either <math>0 \\bmod{6}</math>, <math>2 \\bmod{6}</math>, or <math>4 \\bmod{6}</math>. Notice that the numbers <math>9</math>, <math>15</math>, <math>21</math>, ... , and in general <math>9 + 6n</math> for nonnegative <math>n</math> are odd composites. We now have 3 cases:\n\nIf <math>x \\ge 18</math> and is <math>0 \\bmod{6}</math>, <math>x</math> can be expressed as <math>9 + (9+6n)</math> for some nonnegative <math>n</math>. Note that <math>9</math> and <math>9+6n</math> are both odd composites. \n\nIf <math>x\\ge 44</math> and is <math>2 \\bmod{6}</math>, <math>x</math> can be expressed as <math>35 + (9+6n)</math> for some nonnegative <math>n</math>. Note that <math>35</math> and <math>9+6n</math> are both odd composites. \n\nIf <math>x\\ge 34</math> and is <math>4 \\bmod{6}</math>, <math>x</math> can be expressed as <math>25 + (9+6n)</math> for some nonnegative <math>n</math>. Note that <math>25</math> and <math>9+6n</math> are both odd composites.\n\n\nClearly, if <math>x \\ge 44</math>, it can be expressed as a sum of 2 odd composites. However, if <math>x = 42</math>, it can also be expressed using case 1, and if <math>x = 40</math>, using case 3. <math>38</math> is the largest even integer that our cases do not cover. If we examine the possible ways of splitting <math>38</math> into two addends, we see that no pair of odd composites add to <math>38</math>. Therefore, <math>\\boxed{038}</math> is the largest possible number that is not expressible as the sum of two odd composite numbers."
  },
  {
    "year": 1984,
    "variant": "I",
    "problem_number": 15,
    "latex": "Determine <math>x^2+y^2+z^2+w^2</math> if\n\n<div style=\"text-align:center;\"><math> \\frac{x^2}{2^2-1}+\\frac{y^2}{2^2-3^2}+\\frac{z^2}{2^2-5^2}+\\frac{w^2}{2^2-7^2}=1 </math><br /><math> \\frac{x^2}{4^2-1}+\\frac{y^2}{4^2-3^2}+\\frac{z^2}{4^2-5^2}+\\frac{w^2}{4^2-7^2}=1 </math><br /><math> \\frac{x^2}{6^2-1}+\\frac{y^2}{6^2-3^2}+\\frac{z^2}{6^2-5^2}+\\frac{w^2}{6^2-7^2}=1 </math><br /><math> \\frac{x^2}{8^2-1}+\\frac{y^2}{8^2-3^2}+\\frac{z^2}{8^2-5^2}+\\frac{w^2}{8^2-7^2}=1 </math></div>",
    "solution": "Rewrite the system of equations as <cmath>\\frac{x^{2}}{t-1}+\\frac{y^{2}}{t-3^{2}}+\\frac{z^{2}}{t-5^{2}}+\\frac{w^{2}}{t-7^{2}}=1.</cmath> \nThis equation is satisfied when <math>t \\in \\{4, 16, 36, 64\\}</math>. After clearing fractions, for each of the values <math>t=4,16,36,64</math>, we have the equation \n<cmath>x^2P_1(t)+y^2P_3(t)+z^2P_5(t)+w^2P_7(t)=F(t),</cmath>where <math>F(t)=(t-1^2)(t-3^2)(t-5^2)(t-7^2)</math> and <math>P_k(t)=F(t)/(t-k^2)</math>, for <math>k=1,3,5,7</math>.\n\nSince the polynomials on each side are equal at <math>t=4,16,36,64</math>, we can express the difference of the two polynomials by a quartic polynomial that has roots at <math>t=4,16,36,64</math>, so\n<cmath>\\begin{align} \\tag{\\dag}x^2P_1(t)+y^2P_3(t)+z^2P_5(t)+w^2P_7(t)-F(t) = -(t-4)(t-16)(t-36)(t-64)\n\\end{align}</cmath>\nThe leading coefficient of the RHS is <math>-1</math> because the leading coefficient of the LHS is <math>-1</math>.\n\nPlug in <math>t=1^2, 3^2, 5^2, 7^2</math> in succession, into <math>(\\dag)</math>. In each case, most terms drop, and we end up with\n<cmath>\\begin{align*} \nx^2=\\frac{3^2\\cdot 5^2\\cdot 7^2}{2^{10}}, \\quad y^2=\\frac{3^3\\cdot 5\\cdot 7\\cdot 11}{2^{10}},\\quad z^2=\\frac{3^2\\cdot 7\\cdot 11\\cdot 13}{2^{10}},\\quad w^2=\\frac{3^2\\cdot 5\\cdot 11\\cdot 13}{2^{10}}\n\\end{align*}</cmath>\nAdding them up we get the sum as <math>3^2\\cdot 4=\\boxed{036}</math>.\n\n'''Postscript for the puzzled''': This solution which is seemingly unnecessarily redundant in that it computes <math>x^2,y^2,z^2,</math> and <math>w^2</math> separately before adding them to obtain the final answer is appealing because it gives the individual values of <math>x^2,y^2,z^2,</math> and <math>w^2</math> which can be plugged into the given equations to check.\nRewrite By MESITEMATH"
  },
  {
    "year": 1985,
    "variant": "I",
    "problem_number": 1,
    "latex": "Let <math>x_1=97</math>, and for <math>n>1</math>, let <math>x_n=\\frac{n}{x_{n-1}}</math>. Calculate the [[product]] <math>x_1x_2x_3x_4x_5x_6x_7x_8</math>.",
    "solution": "Since <math>x_n=\\frac{n}{x_{n-1}}</math>, <math>x_n \\cdot x_{n - 1} = n</math>.  Setting <math>n = 2, 4, 6</math> and <math>8</math> in this equation gives us respectively <math>x_1x_2 = 2</math>, <math>x_3x_4 = 4</math>, <math>x_5x_6 = 6</math> and <math>x_7x_8 = 8</math> so <cmath>x_1x_2x_3x_4x_5x_6x_7x_8 = 2\\cdot4\\cdot6\\cdot8 = \\boxed{384}.</cmath> Notice that the value of <math>x_1</math> was completely unneeded!"
  },
  {
    "year": 1985,
    "variant": "I",
    "problem_number": 2,
    "latex": "When a [[right triangle]] is rotated about one leg, the [[volume]] of the [[cone]] produced is <math>800\\pi \\;\\textrm{ cm}^3</math>. When the [[triangle]] is rotated about the other leg, the volume of the cone produced is <math>1920\\pi \\;\\textrm{ cm}^3</math>. What is the length (in cm) of the [[hypotenuse]] of the triangle?",
    "solution": "Let one leg of the triangle have length <math>a</math> and let the other leg have length <math>b</math>.  When we rotate around the leg of length <math>a</math>, the result is a cone of height <math>a</math> and [[radius]] <math>b</math>, and so of volume <math>\\frac 13 \\pi ab^2 = 800\\pi</math>.  Likewise, when we rotate around the leg of length <math>b</math> we get a cone of height <math>b</math> and radius <math>a</math> and so of volume <math>\\frac13 \\pi b a^2 = 1920 \\pi</math>.  If we divide this equation by the previous one, we get <math>\\frac ab = \\frac{\\frac13 \\pi b a^2}{\\frac 13 \\pi ab^2} = \\frac{1920}{800} = \\frac{12}{5}</math>, so <math>a = \\frac{12}{5}b</math>.  Then <math>\\frac{1}{3} \\pi \\left(\\frac{12}{5}b\\right)b^2 = 800\\pi</math> so <math>b^3 = 1000</math> and <math>b = 10</math> so <math>a = 24</math>.  Then by the [[Pythagorean Theorem]], the hypotenuse has length <math>\\sqrt{a^2 + b^2} = \\boxed{026}</math>."
  },
  {
    "year": 1985,
    "variant": "I",
    "problem_number": 3,
    "latex": "Find <math>c</math> if <math>a</math>, <math>b</math>, and <math>c</math> are [[positive integer]]s which satisfy <math>c=(a + bi)^3 - 107i</math>, where <math>i^2 = -1</math>.",
    "solution": "Expanding out both sides of the given [[equation]] we have <math>c + 107i = (a^3 - 3ab^2) + (3a^2b - b^3)i</math>.  Two [[complex number]]s are equal if and only if their [[real part]]s and [[imaginary part]]s are equal, so <math>c = a^3 - 3ab^2</math> and <math>107 = 3a^2b - b^3 = (3a^2 - b^2)b</math>.  Since <math>a, b</math> are [[integer]]s, this means <math>b</math> is a [[divisor]] of 107, which is a [[prime number]].  Thus either <math>b = 1</math> or <math>b = 107</math>.  If <math>b = 107</math>, <math>3a^2 - 107^2 = 1</math> so <math>3a^2 = 107^2 + 1</math>, but <math>107^2 + 1</math> is not divisible by 3, a contradiction.  Thus we must have <math>b = 1</math>, <math>3a^2 = 108</math> so <math>a^2 = 36</math> and <math>a = 6</math> (since we know <math>a</math> is positive).  Thus <math>c = 6^3 - 3\\cdot 6 = \\boxed{198}</math>."
  },
  {
    "year": 1985,
    "variant": "I",
    "problem_number": 4,
    "latex": "A small [[square (geometry) | square]] is constructed inside a square of [[area]] 1 by dividing each side of the unit square into <math>n</math> equal parts, and then connecting the [[vertex | vertices]] to the division points closest to the opposite vertices. Find the value of <math>n</math> if the the [[area]] of the small square is exactly <math>\\frac1{1985}</math>. \n\n[[Image:AIME_1985_Problem_4.png]]",
    "solution": "The lines passing through <math>A</math> and <math>C</math> divide the square into three parts, two [[right triangle]]s and a [[parallelogram]].  Using the smaller side of the parallelogram, <math>1/n</math>, as the base, where the height is 1, we find that the area of the parallelogram is <math>A = \\frac{1}{n}</math>.  By the [[Pythagorean Theorem]], the longer base of the parallelogram has [[length]] <math>l = \\sqrt{1^2 + \\left(\\frac{n - 1}{n}\\right)^2} = \\frac{1}{n}\\sqrt{2n^2 - 2n + 1}</math>, so the parallelogram has height <math>h = \\frac{A}{l} = \\frac{1}{\\sqrt{2n^2 - 2n + 1}}</math>.  But the height of the parallelogram is the side of the little square, so <math>2n^2 - 2n + 1 = 1985</math>.  Solving this [[quadratic equation]] gives <math>n = \\boxed{32}</math>."
  },
  {
    "year": 1985,
    "variant": "I",
    "problem_number": 5,
    "latex": "A [[sequence]] of [[integer]]s <math>a_1, a_2, a_3, \\ldots</math> is chosen so that <math>a_n = a_{n - 1} - a_{n - 2}</math> for each <math>n \\ge 3</math>. What is the sum of the first 2001 terms of this sequence if the sum of the first 1492 terms is 1985, and the sum of the first 1985 terms is 1492?",
    "solution": "The problem gives us a sequence defined by a [[recursion]], so let's calculate a few values to get a feel for how it acts.  We aren't given initial values, so let <math>a_1 = a</math> and <math>a_2 = b</math>.  Then <math>a_3 = b - a</math>, <math>a_4 = (b - a) - b = -a</math>, <math>a_5 = -a - (b - a) = -b</math>, <math>a_6 = -b - (-a) = a - b</math>, <math>a_7 = (a - b) - (-b) = a</math> and <math>a_8 = a - (a - b) = b</math>.  Since the sequence is recursively defined by the first 2 terms, after this point it must continue to repeat.  Thus, in particular <math>a_{j + 6} = a_j</math> for all <math>j</math>, and so repeating this <math>n</math> times, <math>a_{j + 6n} = a_j</math> for all [[integer]]s <math>n</math> and <math>j</math>.  \n\nBecause of this, the sum of the first 1492 terms can be greatly simplified: <math>1488 = 6 \\cdot 248</math> is the largest multiple of 6 less than 1492, so \n<cmath>\\sum_{i = 1}^{1492} a_i = (a_{1489} + a_{1490} + a_{1491} + a_{1492})+ \\sum_{i = 1}^{1488} a_i = (a_1 + a_2 + a_3 + a_4) + \\sum_{n = 0}^{247}\\sum_{j = 1}^6 a_{6n + j}</cmath>\n<cmath>=(a + b + (b - a) + (-a)) + \\sum_{n = 0}^{247}\\sum_{j = 1}^6 a_j = 2b - a,</cmath>\nwhere we can make this last step because <math>\\sum_{j = 1}^6 a_j = 0</math> and so the entire second term of our [[expression]] is [[0|zero]].\n\nSimilarly, since <math>1980 = 6 \\cdot 330</math>, <math>\\sum_{i = 1}^{1985} a_i = (a_1 + a_2 + a_3 + a_4 + a_5) + \\sum_{i = 1}^{1980}a_i = a + b + (b - a) + (-a) + (-b) = b - a</math>.\n\nFinally, <math>\\sum_{i = 1}^{2001}a_i = a_1 + a_2 + a_3 + \\sum_{i = 1}^{1998} a_i = a + b + (b - a) = 2b</math>.\n\nThen by the givens, <math>2b - a = 1985</math> and <math>b - a = 1492</math> so <math>b = 1985 - 1492 = 493</math> and so the answer is <math>2\\cdot 493 = \\boxed{986}</math>."
  },
  {
    "year": 1985,
    "variant": "I",
    "problem_number": 6,
    "latex": "As shown in the figure, [[triangle]] <math>ABC</math> is divided into six smaller triangles by [[line]]s drawn from the [[vertex | vertices]] through a common interior point. The [[area]]s of four of these triangles are as indicated. Find the area of triangle <math>ABC</math>. \n\n[[Image:AIME 1985 Problem 6.png]]",
    "solution": "Let the interior point be <math>P</math>, let the points on <math>\\overline{BC}</math>, <math>\\overline{CA}</math> and <math>\\overline{AB}</math> be <math>D</math>, <math>E</math> and <math>F</math>, respectively.  Let <math>x</math> be the area of <math>\\triangle APE</math> and <math>y</math> be the area of <math>\\triangle CPD</math>.  Note that <math>\\triangle APF</math> and <math>\\triangle BPF</math> share the same [[altitude]] from <math>P</math>, so the [[ratio]] of their areas is the same as the ratio of their bases.  Similarly, <math>\\triangle ACF</math> and <math>\\triangle BCF</math> share the same altitude from <math>C</math>, so the ratio of their areas is the same as the ratio of their bases.  Moreover, the two pairs of bases are actually the same, and thus in the same ratio.  As a result, we have:\n<math>\\frac{40}{30} = \\frac{124 + x}{65 + y}</math> or equivalently <math>372 + 3x = 260 + 4y</math> and so <math>4y = 3x+ 112</math>.\n\nApplying identical reasoning to the triangles with bases <math>\\overline{CD}</math> and <math>\\overline{BD}</math>, we get <math>\\frac{y}{35} = \\frac{x+y+84}{105}</math> so that <math>3y = x + y + 84</math> and <math>2y = x + 84</math>.  Substituting from this equation into the previous one gives <math>x = 56</math>, from which we get <math>y = 70</math> and so the area of <math>\\triangle ABC</math> is <math>56 + 40 + 30 + 35 + 70 + 84 = \\Rightarrow \\boxed{315}</math>."
  },
  {
    "year": 1985,
    "variant": "I",
    "problem_number": 7,
    "latex": "Assume that <math>a</math>, <math>b</math>, <math>c</math>, and <math>d</math> are [[positive integer]]s such that <math>a^5 = b^4</math>, <math>c^3 = d^2</math>, and <math>c - a = 19</math>. Determine <math>d - b</math>.",
    "solution": "It follows from the givens that <math>a</math> is a [[perfect power | perfect fourth power]], <math>b</math> is a perfect fifth power, <math>c</math> is a [[perfect square]] and <math>d</math> is a [[perfect cube]].  Thus, there exist [[integer]]s <math>s</math> and <math>t</math> such that <math>a = t^4</math>, <math>b = t^5</math>, <math>c = s^2</math> and <math>d = s^3</math>.  So <math>s^2 - t^4 = 19</math>.  We can factor the left-hand side of this [[equation]] as a difference of two squares, <math>(s - t^2)(s + t^2) = 19</math>.  19 is a [[prime number]] and <math>s + t^2 > s - t^2</math> so we must have <math>s + t^2 = 19</math> and <math>s - t^2 = 1</math>.  Then <math>s = 10, t = 3</math> and so <math>d = s^3 = 1000</math>, <math>b = t^5 = 243</math> and <math>d-b=\\boxed{757}</math>."
  },
  {
    "year": 1985,
    "variant": "I",
    "problem_number": 8,
    "latex": "The sum of the following seven numbers is exactly 19: <math>a_1 = 2.56</math>, <math>a_2 = 2.61</math>, <math>a_3 = 2.65</math>, <math>a_4 = 2.71</math>, <math>a_5 = 2.79</math>, <math>a_6 = 2.82</math>, <math>a_7 = 2.86</math>. It is desired to replace each <math>a_i</math> by an [[integer]] approximation <math>A_i</math>, <math>1\\le i \\le 7</math>, so that the sum of the <math>A_i</math>'s is also 19 and so that <math>M</math>, the [[maximum]] of the \"errors\" <math>\\| A_i-a_i\\|</math>, the maximum [[absolute value]] of the difference, is as small as possible. For this minimum <math>M</math>, what is <math>100M</math>?",
    "solution": "== Explanation of the Question ==\n\nNote: please read the explanation AFTER YOU HAVE TRIED reading the problem but couldn't understand.\n\nFor the question. Let's say that you have determined 7-tuple <math>(A_1,A_2,A_3,A_4,A_5,A_6,A_7)</math>. Then you get the absolute values of the <math>7</math> differences. Namely, \n<cmath>|A_1-a_1|, |A_2-a_2|, |A_3-a_3|, |A_4-a_4|, |A_5-a_5|, |A_6-a_6|, |A_7-a_7|</cmath>\nThen <math>M</math> is the greatest of the <math>7</math> absolute values. So basically you are asked to find the 7-tuple <math>(A_1,A_2,A_3,A_4,A_5,A_6,A_7)</math> with the smallest <math>M</math>, and the rest would just be a piece of cake."
  },
  {
    "year": 1985,
    "variant": "I",
    "problem_number": 9,
    "latex": "In a [[circle]], [[parallel]] [[chord]]s of lengths 2, 3, and 4 determine [[central angle]]s of <math>\\alpha</math>, <math>\\beta</math>, and <math>\\alpha + \\beta</math> [[radian]]s, respectively, where <math>\\alpha + \\beta < \\pi</math>. If <math>\\cos \\alpha</math>, which is a [[positive]] [[rational number]], is expressed as a [[fraction]] in lowest terms, what is the sum of its numerator and denominator?",
    "solution": "<!-- Images obsoleted Image:1985_AIME-9.png, Image:1985_AIME-9a.png by asymptote -->\n<center><asy>\nsize(200); \npointpen = black; pathpen = black + linewidth(0.8);\nreal r = 8/15^0.5, a = 57.91, b = 93.135;\npair O = (0,0), A = r*expi(pi/3);\nD(CR(O,r));\nD(O--rotate(a/2)*A--rotate(-a/2)*A--cycle);\nD(O--rotate(b/2)*A--rotate(-b/2)*A--cycle);\nD(O--rotate((a+b)/2)*A--rotate(-(a+b)/2)*A--cycle);\nMP(\"2\",(rotate(a/2)*A+rotate(-a/2)*A)/2,NE);\nMP(\"3\",(rotate(b/2)*A+rotate(-b/2)*A)/2,NE);\nMP(\"4\",(rotate((a+b)/2)*A+rotate(-(a+b)/2)*A)/2,NE);\nD(anglemark(rotate(-(a+b)/2)*A,O,rotate((a+b)/2)*A,5));\nlabel(\"\\(\\alpha+\\beta\\)\",(0.08,0.08),NE,fontsize(8));\n</asy></center>\n\nAll chords of a given length in a given circle subtend the same [[arc]] and therefore the same central angle.  Thus, by the given, we can re-arrange our chords into a [[triangle]] with the circle as its [[circumcircle]].  \n<center><asy>\nsize(200); \npointpen = black; pathpen = black + linewidth(0.8);\nreal r = 8/15^0.5, a = 57.91, b = 93.135;\npair O = (0,0), A = r*expi(pi/3), A1 = rotate(a/2)*A, A2 = rotate(-a/2)*A, A3 = rotate(-a/2-b)*A;\nD(CR(O,r));\nD(O--A1--A2--cycle);\nD(O--A2--A3--cycle);\nD(O--A1--A3--cycle);\nMP(\"2\",(A1+A2)/2,NE);\nMP(\"3\",(A2+A3)/2,E);\nMP(\"4\",(A1+A3)/2,E);\nD(anglemark(A2,O,A1,5)); D(anglemark(A3,O,A2,5));\nlabel(\"\\(\\alpha\\)\",(0.07,0.16),NE,fontsize(8));\nlabel(\"\\(\\beta\\)\",(0.12,-0.16),NE,fontsize(8));\n</asy></center>\n\nThis triangle has [[semiperimeter]] <math>\\frac{2 + 3 + 4}{2}</math> so by [[Heron's formula]] it has [[area]] <math>K = \\sqrt{\\frac92 \\cdot \\frac52 \\cdot \\frac32 \\cdot \\frac12} = \\frac{3}{4}\\sqrt{15}</math>.  The area of a given triangle with sides of length <math>a, b, c</math> and circumradius of length <math>R</math> is also given by the formula <math>K = \\frac{abc}{4R}</math>, so <math>\\frac6R = \\frac{3}{4}\\sqrt{15}</math> and <math>R = \\frac8{\\sqrt{15}}</math>.\n\nNow, consider the triangle formed by two radii and the chord of length 2.  This [[isosceles triangle]] has vertex angle <math>\\alpha</math>, so by the [[Law of Cosines]],\n\n<cmath>2^2 = R^2 + R^2 - 2R^2\\cos \\alpha \\Longrightarrow \\cos \\alpha = \\frac{2R^2 - 4}{2R^2} = \\frac{17}{32}</cmath>\nand the answer is <math>17 + 32 = \\boxed{049}</math>."
  },
  {
    "year": 1985,
    "variant": "I",
    "problem_number": 10,
    "latex": "How many of the first 1000 [[positive integer]]s can be expressed in the form\n\n<math>\\lfloor 2x \\rfloor + \\lfloor 4x \\rfloor + \\lfloor 6x \\rfloor + \\lfloor 8x \\rfloor</math>,\n\nwhere <math>x</math> is a [[real number]], and <math>\\lfloor z \\rfloor</math> denotes the greatest [[integer]] less than or equal to <math>z</math>?\n__TOC__",
    "solution": "Noting that all of the numbers are even, we can reduce this to any real number <math>x</math> between <math>0</math> to <math>\\frac 12</math>, as this will be equivalent to <math>\\frac n2</math> to <math>\\frac {n+1}2</math> for any integer <math>n</math> (same reasoning as above). So now we only need to test every 10 numbers; and our answer will be 100 times the number of integers we can reach between 1 and 10. \n\nWe can now approach this by directly searching for the integers (this solution) or brute forcing all of the cases (next solution):\n\nWe can match up the greatest integer functions with one of the partitions of the integer. If we let <math>x = \\frac 12</math> then we get the solution <math>10</math>; now consider when <math>x < \\frac 12</math>: <math>\\lfloor 2x \\rfloor = 0</math>, <math>\\lfloor 4x \\rfloor \\le 1</math>, <math>\\lfloor 6x \\rfloor \\le 2</math>, <math>\\lfloor 8x \\rfloor \\le 3</math>. But according to this the maximum we can get is <math>1+2+3 = 6</math>, so we only need to try the first 6 numbers.\n\n*<math>1</math>: Easily possible, for example try plugging in <math>x =\\frac 18</math>. \n*<math>2</math>: Also simple, for example using <math>\\frac 16</math>.\n*<math>3</math>: The partition must either be <math>1+1+1</math> or <math>1+2</math>. If <math>\\lfloor 4x \\rfloor = 1</math>, then <math>x \\ge \\frac 14</math>, but then <math>\\lfloor 8x \\rfloor \\ge 2</math>; not possible; and vice versa to show that the latter partition doesn't work. So we cannot obtain <math>3</math>.\n*<math>4</math>: We can partition as <math>1+1+2</math>, and from the previous case we see that <math>\\frac 14</math> works.\n*<math>5</math>: We can partition as <math>1+2+2</math>, from which we find that <math>\\frac 13</math> works.\n*<math>6</math>: We can partition as <math>1+2+3</math>, from which we find that <math>\\frac 38</math> works.\n\nOut of these 6 cases, only 3 fails. So between 1 and 10 we can reach only the integers <math>1,2,4,5,6,10</math>; hence our solution is <math>6 \\cdot 100 = \\boxed{600}</math>."
  },
  {
    "year": 1985,
    "variant": "I",
    "problem_number": 11,
    "latex": "An [[ellipse]] has [[focus | foci]] at <math>(9,20)</math> and <math>(49,55)</math> in the <math>xy</math>-plane and is [[tangent line | tangent]] to the <math>x</math>-axis. What is the length of its [[major axis]]?",
    "solution": "An ellipse is defined to be the [[locus]] of points <math>P</math> such that the sum of the distances between <math>P</math> and the two foci is constant.  Let <math>F_1 = (9, 20)</math>, <math>F_2 = (49, 55)</math> and <math>X = (x, 0)</math> be the point of tangency of the ellipse with the <math>x</math>-axis.  Then <math>X</math> must be the point on the axis such that the sum <math>F_1X + F_2X</math> is minimal.  (The last claim begs justification:  Let <math>F'_2</math> be the reflection of <math>F_2</math> across the <math>x</math>-axis. Let <math>Y</math> be where the line through <math>F_1</math> and <math>F‚Äô_2</math> intersects the ellipse.  We will show that <math>X=Y</math>. Note that  <math>X F_2 = X F‚Äô_2</math> since <math>X</math> is on the <math>x</math>-axis.  Also, since the entire ellipse is on or above the <math>x</math>-axis and the line through <math>F_2</math> and <math>F‚Äô_2</math> is perpendicular to the <math>x</math>-axis, we must have <math>F_2 Y \\leq F‚Äô_2 Y</math> with equality if and only if <math>Y</math> is on the <math>x</math>-axis.  Now, we have\n<cmath>F_1 X + F'_2 X = F_1 X + F_2 X = F_1 Y + F_2 Y \\leq F_1 Y + F‚Äô_2 Y</cmath>\nBut the right most sum is the straight-line distance from <math> F_1</math> to <math>F‚Äô_2</math> and the left is the distance of some path from <math> F_1</math> to <math>F_2</math>., so this is only possible if we have equality and thus <math>X = Y</math>). Finding the optimal location for <math>X</math> is a classic problem: for any path from <math>F_1</math> to <math>X</math> and then back to <math>F_2</math>, we can reflect (as above) the second leg of this path (from <math>X</math> to <math>F_2</math>) across the <math>x</math>-axis.  Then our path connects <math>F_1</math> to the reflection <math>F_2'</math> of <math>F_2</math> via some point on the <math>x</math>-axis, and this path will have shortest length exactly when our original path has shortest length.  This occurs exactly when we have a straight-line path, and by the above argument, this path passes through the point of tangency of the ellipse with the <math>x-</math>axis.  \n<center><asy>\nsize(200);\npointpen=black;pathpen=black+linewidth(0.6);pen f = fontsize(10);\npair F1=(9,20),F2=(49,55);\nD(shift((F1+F2)/2)*rotate(41.186)*scale(85/2,10*11^.5)*unitcircle);\nD((-20,0)--(80,0)--(0,0)--(0,80)--(0,-60));\npath p = F1--(49,-55);\npair X = IP(p,(0,0)--(80,0));\nD(p,dashed);D(F1--X--F2);D(F1);D(F2);D((49,-55));\nMP(\"X\",X,SW,f);\nMP(\"F_1\",F1,NW,f);\nMP(\"F_2\",F2,NW,f);\nMP(\"F_2'\",(49,-55),NE,f);\n</asy></center>\nThe sum of the two distances <math>F_1 X</math> and <math>F_2X</math> is therefore equal to the length of the segment <math>F_1F_2'</math>, which by the [[distance formula]] is just <math>d = \\sqrt{(9 - 49)^2 + (20 + 55)^2} = \\sqrt{40^2 + 75^2} = 5\\sqrt{8^2 + 15^2} = 5\\cdot 17 = 85</math>.  \n\nFinally, let <math>A</math> and <math>B</math> be the two endpoints of the major axis of the ellipse.  Then by symmetry <math>AF_1 = F_2B</math> so <math>AB = AF_1 + F_1B = F_2B + F_1B = d</math> (because <math>B</math> is on the ellipse), so the answer is <math>\\boxed{085}</math>."
  },
  {
    "year": 1985,
    "variant": "I",
    "problem_number": 12,
    "latex": "Let <math>A</math>, <math>B</math>, <math>C</math> and <math>D</math> be the vertices of a regular tetrahedron, each of whose edges measures <math>1</math> meter. A bug, starting from vertex <math>A</math>, observes the following rule: at each vertex it chooses one of the three edges meeting at that vertex, each edge being equally likely to be chosen, and crawls along that edge to the vertex at its opposite end. Let <math>p = \\frac{n}{729}</math> be the probability that the bug is at vertex <math>A</math> when it has crawled exactly <math>7</math> meters. Find the value of <math>n</math>.",
    "solution": "For all nonnegative integers <math>k,</math> let <math>P(k)</math> be the probability that the bug is at vertex <math>A</math> when it has crawled exactly <math>k</math> meters. We wish to find <math>p=P(7).</math>\n\nClearly, we have <math>P(0)=1.</math> For all <math>k\\geq1,</math> note that after <math>k-1</math> crawls:\n<ol style=\"margin-left: 1.5em;\">\n  <li>The probability that the bug is at vertex <math>A</math> is <math>P(k-1),</math> and the probability that it crawls to vertex <math>A</math> on the next move is <math>0.</math></li><p>\n  <li>The probability that the bug is not at vertex <math>A</math> is <math>1-P(k-1),</math> and the probability that it crawls to vertex <math>A</math> on the next move is <math>\\frac13.</math></li><p>\n</ol>\nTogether, the recursive formula for <math>P(k)</math> is\n<cmath>P(k) = \\begin{cases}\n1 & \\mathrm{if} \\ k=0 \\\\\n\\frac13(1-P(k-1)) & \\mathrm{if} \\ k\\geq1\n\\end{cases}.</cmath>\nTwo solutions follow from here:\n\n=== Solution 1.1 (Recursive Formula) ===\nWe evaluate <math>P(7)</math> recursively:\n<cmath>\\begin{alignat*}{6}\nP(0)&=1, \\\\\nP(1)&=\\frac13(1-P(0))&&=0, \\\\\nP(2)&=\\frac13(1-P(1))&&=\\frac13, \\\\\nP(3)&=\\frac13(1-P(2))&&=\\frac29, \\\\\nP(4)&=\\frac13(1-P(3))&&=\\frac{7}{27}, \\\\\nP(5)&=\\frac13(1-P(4))&&=\\frac{20}{81}, \\\\\nP(6)&=\\frac13(1-P(5))&&=\\frac{61}{243},\\\\\nP(7)&=\\frac13(1-P(6))&&=\\frac{182}{729}.\n\\end{alignat*}</cmath>\nTherefore, the answer is <math>n=\\boxed{182}.</math>\n\n~Azjps (Fundamental Logic)\n\n~MRENTHUSIASM (Reconstruction)\n\n=== Solution 1.2 (Explicit Formula) ===\nLet <math>P(k)=Q(k)+c</math> for some function <math>Q(k)</math> and constant <math>c.</math> For all <math>k\\geq1,</math> the recursive formula for <math>P(k)</math> becomes <cmath>Q(k)+c=\\frac13(1-(Q(k-1)+c))=\\frac13-\\frac13Q(k-1)-\\frac13c.</cmath> Solving for <math>Q(k),</math> we get <cmath>Q(k)=\\frac13-\\frac13Q(k-1)-\\frac43c.</cmath>\nFor simplicity purposes, we set <math>c=\\frac14,</math> which gives <cmath>Q(k)=-\\frac13Q(k-1).</cmath>\nClearly, <math>Q(0),Q(1),Q(2),\\ldots</math> is a geometric sequence with the common ratio <math>\\frac{Q(k)}{Q(k-1)}=-\\frac13.</math> Substituting <math>P(0)=1</math> and <math>c=\\frac14</math> into <math>P(0)=Q(0)+c</math> produces <math>Q(0)=\\frac34,</math> the first term of the geometric sequence. \n\nFor all nonnegative integers <math>k,</math> the explicit formula for <math>Q(k)</math> is <cmath>Q(k)=\\frac34\\left(-\\frac13\\right)^k,</cmath> and the explicit formula for <math>P(k)</math> is <cmath>P(k)=\\frac34\\left(-\\frac13\\right)^k+\\frac14.</cmath> Finally, the requested probability is <math>p=P(7)=\\frac{182}{729},</math> from which <math>n=\\boxed{182}.</math>\n\n~MRENTHUSIASM"
  },
  {
    "year": 1985,
    "variant": "I",
    "problem_number": 13,
    "latex": "The numbers in the [[sequence]] <math>101</math>, <math>104</math>, <math>109</math>, <math>116</math>,<math>\\ldots</math> are of the form <math>a_n=100+n^2</math>, where <math>n=1,2,3,\\ldots</math> For each <math>n</math>, let <math>d_n</math> be the greatest common divisor of <math>a_n</math> and <math>a_{n+1}</math>. Find the maximum value of <math>d_n</math> as <math>n</math> ranges through the [[positive integer]]s.",
    "solution": "If <math>(x,y)</math> denotes the [[greatest common divisor]] of <math>x</math> and <math>y</math>, then we have <math>d_n=(a_n,a_{n+1})=(100+n^2,100+n^2+2n+1)</math>. Now assuming that <math>d_n</math> [[divisor | divides]] <math>100+n^2</math>, it must divide <math>2n+1</math> if it is going to divide the entire [[expression]] <math>100+n^2+2n+1</math>.\n\nThus the [[equation]] turns into <math>d_n=(100+n^2,2n+1)</math>. Now note that since <math>2n+1</math> is [[odd integer | odd]] for [[integer | integral]] <math>n</math>, we can multiply the left integer, <math>100+n^2</math>, by a power of two without affecting the greatest common divisor. Since the <math>n^2</math> term is quite restrictive, let's multiply by <math>4</math> so that we can get a <math>(2n+1)^2</math> in there.\n\nSo <math>d_n=(4n^2+400,2n+1)=((2n+1)^2-4n+399,2n+1)=(-4n+399,2n+1)</math>. It simplified the way we wanted it to!\nNow using similar techniques we can write <math>d_n=(-2(2n+1)+401,2n+1)=(401,2n+1)</math>.  Thus <math>d_n</math> must divide <math>\\boxed{401}</math> for every single <math>n</math>.  This means the largest possible value for <math>d_n</math> is <math>401</math>, and we see that it can be achieved when <math>n = 200</math>."
  },
  {
    "year": 1985,
    "variant": "I",
    "problem_number": 14,
    "latex": "In a tournament each player played exactly one game against each of the other players. In each game the winner was awarded <math>1</math> point, the loser got <math>0</math> points, and each of the two players earned <math>\\frac{1}{2}</math> point if the game was a tie. After the completion of the tournament, it was found that exactly half of the points earned by each player were earned against the ten players with the least number of points. (In particular, each of the ten lowest scoring players earned half of her/his points against the other nine of the ten). What was the total number of players in the tournament?",
    "solution": "Let us suppose for convenience that there were <math>n + 10</math> players overall.  Among the <math>n</math> players not in the weakest 10 there were <math>n \\choose 2</math> games played and thus <math>n \\choose 2</math> points earned.  By the givens, this means that these <math>n</math> players also earned <math>n \\choose 2</math> points against our weakest 10.  Now, the 10 weakest players playing amongst themselves played <math>{10 \\choose 2} = 45</math> games and so earned 45 points playing each other.  Then they also earned 45 points playing against the stronger <math>n</math> players.  Since every point earned falls into one of these categories, It follows that the total number of points earned was <math>2{n \\choose 2} + 90 = n^2 - n + 90</math>.  However, there was one point earned per game, and there were a total of <math>{n + 10 \\choose 2} = \\frac{(n + 10)(n + 9)}{2}</math> games played and thus <math>\\frac{(n + 10)(n + 9)}{2}</math> points earned.  So we have <math>n^2 -n + 90 = \\frac{(n + 10)(n + 9)}{2}</math> so <math>2n^2 - 2n + 180 = n^2 + 19n + 90</math> and <math>n^2 -21n + 90 = 0</math> and <math>n = 6</math> or <math>n = 15</math>.  Now, note that the top <math>n</math> players got <math>n(n - 1)</math> points in total (by our previous calculation) for an average of <math>n - 1</math>, while the bottom 10 got 90 points total, for an average of 9.  Thus we must have <math>n > 10</math>, so <math>n = 15</math> and the answer is <math>15 + 10 = \\boxed{25}</math>."
  },
  {
    "year": 1985,
    "variant": "I",
    "problem_number": 15,
    "latex": "Three 12 cm <math>\\times</math>12 cm [[square (geometry) | squares]] are each cut into two pieces <math>A</math> and <math>B</math>, as shown in the first figure below, by joining the [[midpoint]]s of two adjacent sides. These six pieces are then attached to a [[regular polygon | regular]] [[hexagon]], as shown in the second figure, so as to fold into a [[polyhedron]]. What is the [[volume]] (in <math>\\mathrm{cm}^3</math>) of this polyhedron?\n\n[[Image:AIME 1985 Problem 15.png]]",
    "solution": "Note that gluing two of the given polyhedra together along a hexagonal face (rotated <math>60^\\circ</math> from each other) yields a [[cube (geometry) | cube]], so the volume is <math>\\frac12 \\cdot 12^3 = 864</math>, so our answer is <math>\\boxed{864}</math>.\n\nImage: [[Image:AoPS_AIME_1985.png]]"
  },
  {
    "year": 1986,
    "variant": "I",
    "problem_number": 1,
    "latex": "What is the sum of the solutions to the equation <math>\\sqrt[4]{x} = \\frac{12}{7 - \\sqrt[4]{x}}</math>?",
    "solution": "Let <math>y = \\sqrt[4]{x}</math>. Then we have\n'''<math>y(7 - y) = 12</math>''', or, by simplifying,\n'''<cmath>y^2 - 7y + 12 = (y - 3)(y - 4) = 0.</cmath>'''\n\nThis means that <math>\\sqrt[4]{x} = y = 3</math> or '''<math>4</math>'''.\n\nThus the sum of the possible solutions for '''<math>x</math>''' is '''<math>4^4 + 3^4 = \\boxed{337}</math>'''."
  },
  {
    "year": 1986,
    "variant": "I",
    "problem_number": 2,
    "latex": "Evaluate the product <cmath>\\left(\\sqrt{5}+\\sqrt{6}+\\sqrt{7}\\right)\\left(\\sqrt{5}+\\sqrt{6}-\\sqrt{7}\\right)\\left(\\sqrt{5}-\\sqrt{6}+\\sqrt{7}\\right)\\left(-\\sqrt{5}+\\sqrt{6}+\\sqrt{7}\\right).</cmath>",
    "solution": "More generally, let <math>(x,y,z)=\\left(\\sqrt5,\\sqrt6,\\sqrt7\\right)</math> so that <math>\\left(x^2,y^2,z^2\\right)=(5,6,7).</math>\n\nWe rewrite the original expression in terms of <math>x,y,</math> and <math>z,</math> then apply the difference of squares repeatedly:\n<cmath>\\begin{align*}\n(x+y+z)(x+y-z)(x-y+z)(-x+y+z) &= \\left[((x+y)+z)((x+y)-z)\\right]\\left[((z+(x-y))(z-(x-y))\\right] \\\\\n&= \\left[(x+y)^2-z^2\\right]\\left[z^2 - (x-y)^2\\right] \\\\\n&= \\left[x^2+2xy+y^2-z^2\\right]\\left[z^2-x^2+2xy-y^2\\right] \\\\\n&= \\left[2xy + \\left(x^2+y^2-z^2\\right)\\right]\\left[2xy - \\left(x^2+y^2-z^2\\right)\\right] \\\\\n&= \\left(2xy\\right)^2 - \\left(x^2+y^2-z^2\\right)^2 \\\\\n&= \\left(2\\cdot\\sqrt5\\cdot\\sqrt6\\right)^2 - \\left(5+6-7\\right)^2 \\\\\n&= \\boxed{104}.\n\\end{align*}</cmath>\n<u><b>Remark</b></u>\n\nFrom this solution, note that the original expression has cyclic symmetry with respect to <math>x,y,</math> and <math>z:</math>\n<cmath>\\begin{align*}\n(x+y+z)(x+y-z)(x-y+z)(-x+y+z) &= \\cdots \\\\\n&= \\left(2xy\\right)^2 - \\left(x^2+y^2-z^2\\right)^2 \\\\\n&= 4x^2y^2 - x^4 - y^4 - z^4 - 2x^2y^2 + 2y^2z^2 + 2z^2x^2 \\\\\n&= 2x^2y^2 + 2y^2z^2 + 2z^2x^2 - x^4 - y^4 - z^4.\n\\end{align*}</cmath>\n~MRENTHUSIASM"
  },
  {
    "year": 1986,
    "variant": "I",
    "problem_number": 3,
    "latex": "If <math>\\tan x+\\tan y=25</math> and <math>\\cot x + \\cot y=30</math>, what is <math>\\tan(x+y)</math>?",
    "solution": "Since <math>\\cot</math> is the reciprocal function of <math>\\tan</math>:\n\n<math>\\cot x + \\cot y = \\frac{1}{\\tan x} + \\frac{1}{\\tan y} = \\frac{\\tan x + \\tan y}{\\tan x \\cdot \\tan y} = 30</math>\n\nThus, <math>\\tan x \\cdot \\tan y = \\frac{\\tan x + \\tan y}{30} = \\frac{25}{30} = \\frac{5}{6}</math>\n\nUsing the tangent addition formula: \n\n<math>\\tan(x+y) = \\frac{\\tan x + \\tan y}{1-\\tan x \\cdot \\tan y} = \\frac{25}{1-\\frac{5}{6}} = \\boxed{150}</math>."
  },
  {
    "year": 1986,
    "variant": "I",
    "problem_number": 4,
    "latex": "Determine <math>3x_4+2x_5</math> if <math>x_1</math>, <math>x_2</math>, <math>x_3</math>, <math>x_4</math>, and <math>x_5</math> satisfy the system of equations below.\n<center><math>2x_1+x_2+x_3+x_4+x_5=6</math></center> \n<center><math>x_1+2x_2+x_3+x_4+x_5=12</math></center>\n<center><math>x_1+x_2+2x_3+x_4+x_5=24</math></center>\n<center><math>x_1+x_2+x_3+2x_4+x_5=48</math></center>\n<center><math>x_1+x_2+x_3+x_4+2x_5=96</math></center>",
    "solution": "Adding all five [[equation]]s gives us <math>6(x_1 + x_2 + x_3 + x_4 + x_5) = 6(1 + 2 + 4 + 8 + 16)</math> so <math>x_1 + x_2 + x_3 + x_4 + x_5 = 31</math>.  Subtracting this from the fourth given equation gives <math>x_4 = 17</math> and subtracting it from the fifth given equation gives <math>x_5 = 65</math>, so our answer is <math>3\\cdot17 + 2\\cdot65 = \\boxed{181}</math>."
  },
  {
    "year": 1986,
    "variant": "I",
    "problem_number": 5,
    "latex": "What is the largest [[positive integer]] <math>n</math> for which <math>n^3+100</math> is [[divisible]] by <math>n+10</math>?",
    "solution": "== Video Solution by OmegaLearn==\nhttps://youtu.be/zfChnbMGLVQ?t=1458\n\n~ pi_is_3.14\n\nhttps://youtu.be/TA_Ug1-qBCU\n\n~ momeme"
  },
  {
    "year": 1986,
    "variant": "I",
    "problem_number": 6,
    "latex": "The pages of a book are numbered <math>1_{}^{}</math> through <math>n_{}^{}</math>. When the page numbers of the book were added, one of the page numbers was mistakenly added twice, resulting in an incorrect sum of <math>1986_{}^{}</math>. What was the number of the page that was added twice?"
  },
  {
    "year": 1986,
    "variant": "I",
    "problem_number": 7,
    "latex": "The increasing [[sequence]] <math>1,3,4,9,10,12,13\\cdots</math> consists of all those positive [[integer]]s which are [[exponent|powers]] of 3 or sums of distinct powers of 3. Find the <math>100^{\\mbox{th}}</math> term of this sequence.",
    "solution": "=== Solution 1 ===\n\nRewrite all of the terms in base 3. Since the numbers are sums of ''distinct'' powers of 3, in base 3 each number is a sequence of 1s and 0s (if there is a 2, then it is no longer the sum of distinct powers of 3). Therefore, we can recast this into base 2 (binary) in order to determine the 100th number. <math>100</math> is equal to <math>64 + 32 + 4</math>, so in binary form we get <math>1100100</math>. However, we must change it back to base 10 for the answer, which is <math>3^6 + 3^5 + 3^2 = 729 + 243 + 9 = \\boxed {981}</math>.\n\n=== Solution 2 ===\n\nNotice that the first term of the sequence is <math>1</math>, the second is <math>3</math>, the fourth is <math>9</math>, and so on. Thus the <math>64th</math> term of the sequence is <math>729</math>. Now out of <math>64</math> terms which are of the form <math>729</math> + <math>'''S'''</math>, <math>32</math> of them include <math>243</math> and <math>32</math> do not. The smallest term that includes <math>243</math>, i.e. <math>972</math>, is greater than the largest term which does not, or <math>854</math>. So the <math>96</math>th term will be <math>972</math>, then <math>973</math>, then <math>975</math>, then <math>976</math>, and finally <math>\\boxed{981}</math>\n\n=== Solution 3 ===\n\nAfter the <math>n</math>th power of 3 in the sequence, the number of terms after that power but before the <math>(n+1)</math>th power of 3 is equal to the number of terms before the <math>n</math>th power, because those terms after the <math>n</math>th power are just the <math>n</math>th power plus all the distinct combinations of powers of 3 before it, which is just all the terms before it. Adding the powers of <math>3</math> and the terms that come after them, we see that the <math>100</math>th term is after <math>729</math>, which is the <math>64</math>th term. Also, note that the <math>k</math>th term after the <math>n</math>th power of 3 is equal to the power plus the <math>k</math>th term in the entire sequence. Thus, the <math>100</math>th term is <math>729</math> plus the <math>36</math>th term. Using the same logic, the <math>36</math>th term is <math>243</math> plus the <math>4</math>th term, <math>9</math>. We now have <math>729+243+9=\\boxed{981}</math>\n\n=== Solution 4 ===\nWriting out a few terms of the sequence until we reach the next power of 3 (27), we see that the <math>2^{nth}</math> term is equal to <math>3^n</math>. From here, we can ballpark the range of the 100th term. The 64th term is <math>3^6</math> = <math>729</math> and the 128th term is <math>3^7</math> = <math>2187</math>. Writing out more terms of the sequence until the next power of 3 again (81) we can see that the (<math>2^n</math>+<math>2^{n+1}</math>)/2 term is equal to <math>3^n</math> + <math>3^{n-1}</math>. From here, we know that the 96th term is <math>3^6</math> + <math>3^5</math> = <math>972</math>. From here, we can construct the 100th term by following the sequence in increasing order. The 97th term is <math>972 + 1 = 973</math>, the 98th term is <math>972 + 3 = 975</math>, the 99th term is <math>972 + 3 + 1 = 976</math>, and finally the 100th term is <math>972 + 9 = \\boxed{981}</math>\n\n=== Solution 5  ===\nThe number of terms <math>3^n</math> produces includes each power of 3 (<math>1, 3^1, ..., 3^n</math>), the sums of two power of 3s(ex. <math>3^1 + 1</math>), three power of 3s (ex. <math>3^1 + 1 + 3^n</math>), all the way to the sum of them all. Since there are <math>n+1</math> powers of 3, the one number sum gives us <math>{n+1\\choose 1} </math> terms, the two number <math>{n+1\\choose 2} </math> terms, all the way to the sum of all the powers which gives us <math>{n+1\\choose n+1}</math> terms. Summing all these up gives us <math>2^{n+1} - 1 ^ {*}</math> according to the theorem <center><math>\\sum_{k=0}^N{{N}\\choose{k}} = 2^N</math>.</center>\nSince <math>2^6</math> is the greatest power <math><100</math>, then <math>n=5</math> and the sequence would look like {<math>3^0, ..., 3^5</math>}, where <math>3^5</math> or <math>243</math> would be the <math>2^5 - 1 = 63</math>rd number. The next largest power <math>729</math> would be the 64th number. However, its terms contributed extends beyond 100, so we break it to smaller pieces. \nNoting that <math>729</math> plus any combination of lower powers <math>{1, 3^1 . . .3^4}</math> is < <math>729 + 243</math>, so we can add all those terms(<math>2^5 - 1 = 31</math>) into our sequence:\n<center>{<math>3^0, ..., 3^5, 729, 729 + 1, .... 729 + (1 + 3^1 + . . . +3^4)</math>}</center>\nOur sequence now has <math>63 + 1 + 31 = 95</math> terms. The remaining <math>5</math> would just be the smallest sums starting with <math>729 + 243</math> or <math>972</math>:\n\n<center>[<math>972</math>, <math>972 + 1</math>, <math>972 + 3</math>, <math>972+1+3</math>, <math>972 + 9</math>]</center>\nHence the 100th term would be <math>972 + 9 = \\boxed{981}</math>. ~SoilMilk\n\n<math>{}^{*}</math>Note that there isn't a <math>{n+1\\choose 0}</math> as choosing 0 numbers will not give you a term."
  },
  {
    "year": 1986,
    "variant": "I",
    "problem_number": 8,
    "latex": "Let <math>S</math> be the sum of the base <math>10</math> [[logarithm]]s of all the [[proper divisor]]s (all [[divisor]]s of a number excluding itself) of <math>1000000</math>. What is the integer nearest to <math>S</math>?\n\n__TOC__",
    "solution": "The [[prime factorization]] of <math>1000000 = 2^65^6</math>, so there are <math>(6 + 1)(6 + 1) = 49</math> divisors, of which <math>48</math> are proper. The sum of multiple logarithms of the same base is equal to the logarithm of the products of the numbers. \n\nWriting out the first few terms, we see that the answer is equal to <cmath>\\log 1 + \\log 2 + \\log 4 + \\log 5 +\\ldots + \\log 1000000 = \\log (2^05^0)(2^15^0)(2^25^0)\\cdots (2^65^6).</cmath> Each power of <math>2</math> appears <math>7</math> times; and the same goes for <math>5</math>. So the overall power of <math>2</math> and <math>5</math> is <math>7(1+2+3+4+5+6) = 7 \\cdot 21 = 147</math>. However, since the question asks for proper divisors, we exclude <math>2^65^6</math>, so each power is actually <math>141</math> times. The answer is thus <math>S = \\log 2^{141}5^{141} = \\log 10^{141} = \\boxed{141}</math>.\n\n=== Simplification === \n\nThe formula for the product of the divisors of <math>n</math> is <math>n^{(d(n))/2}</math>, where <math>d(n)</math> is the number of divisor of <math>n</math>.\nWe know that <math>\\log_{10} a + \\log_{10} b + \\log_{10} c + \\log_{10} d...</math> and so on equals <math>\\log_{10} (abcd...)</math> by sum-product rule of logs, so the problem is reduced to finding the logarithm base 10 of the product of the proper divisors of <math>10^6</math>. The product of the divisors, by the earlier formula, is <math>{(10^6)}^{49/2} = 10^{49*3}</math>, and since we need the product of only the proper divisors, which means the divisors NOT including the number, <math>10^6</math>, itself, we divide <math>10^{(49*3)}</math> by <math>10^6</math> to get <math>10^{(49*3-6)} = 10^{(141)}</math>. The base-10 logarithm of this value, in base 10, is clearly <math>\\boxed{141}</math>"
  },
  {
    "year": 1986,
    "variant": "I",
    "problem_number": 9,
    "latex": "In <math>\\triangle ABC</math>, <math>AB= 425</math>, <math>BC=450</math>, and <math>AC=510</math>. An interior [[point]] <math>P</math> is then drawn, and [[segment]]s are drawn through <math>P</math> [[parallel]] to the sides of the [[triangle]]. If these three segments are of an equal length <math>d</math>, find <math>d</math>.\n\n__TOC__",
    "solution": "=== Solution 1 ===\n<center><asy>\nsize(200);\npathpen = black; pointpen = black +linewidth(0.6); pen s = fontsize(10);\npair C=(0,0),A=(510,0),B=IP(circle(C,450),circle(A,425));\n/* construct remaining points */\npair Da=IP(Circle(A,289),A--B),E=IP(Circle(C,324),B--C),Ea=IP(Circle(B,270),B--C);\npair D=IP(Ea--(Ea+A-C),A--B),F=IP(Da--(Da+C-B),A--C),Fa=IP(E--(E+A-B),A--C); \nD(MP(\"A\",A,s)--MP(\"B\",B,N,s)--MP(\"C\",C,s)--cycle);\ndot(MP(\"D\",D,NE,s));dot(MP(\"E\",E,NW,s));dot(MP(\"F\",F,s));dot(MP(\"D'\",Da,NE,s));dot(MP(\"E'\",Ea,NW,s));dot(MP(\"F'\",Fa,s));\nD(D--Ea);D(Da--F);D(Fa--E);\nMP(\"450\",(B+C)/2,NW);MP(\"425\",(A+B)/2,NE);MP(\"510\",(A+C)/2);\n/*P copied from above solution*/\npair P = IP(D--Ea,E--Fa); dot(MP(\"P\",P,N)); \n</asy></center> <!-- Asymptote replacement for Image:1986_AIME-9.png by azjps -->\n\nLet the points at which the segments hit the triangle be called <math>D, D', E, E', F, F'</math> as shown above. As a result of the lines being parallel, all three smaller triangles and the larger triangle are [[similar triangles|similar]] (<math>\\triangle ABC \\sim \\triangle DPD' \\sim \\triangle PEE' \\sim \\triangle F'PF</math>). The remaining three sections are [[parallelogram]]s.\n\nBy similar triangles, <math>BE'=\\frac{d}{510}\\cdot450=\\frac{15}{17}d</math> and <math>EC=\\frac{d}{425}\\cdot450=\\frac{18}{17}d</math>. Since <math>FD'=BC-EE'</math>, we have <math>900-\\frac{33}{17}d=d</math>, so <math>d=\\boxed{306}</math>.\n\n===Solution 2 ===\n<asy>\nsize(200);\npathpen = black; pointpen = black +linewidth(0.6); pen s = fontsize(10);\npair C=(0,0),A=(510,0),B=IP(circle(C,450),circle(A,425));\n/* construct remaining points */\npair Da=IP(Circle(A,289),A--B),E=IP(Circle(C,324),B--C),Ea=IP(Circle(B,270),B--C);\npair D=IP(Ea--(Ea+A-C),A--B),F=IP(Da--(Da+C-B),A--C),Fa=IP(E--(E+A-B),A--C); \n/* Construct P */\npair P = IP(D--Ea,E--Fa); dot(MP(\"P\",P,NE)); \npair X = IP(L(A,P,4), B--C); dot(MP(\"X\",X,NW));\npair Y = IP(L(B,P,4), C--A); dot(MP(\"Y\",Y,NE));\npair Z = IP(L(C,P,4), A--B); dot(MP(\"Z\",Z,N));\n\nD(A--X); D(B--Y); D(C--Z);\nD(MP(\"A\",A,s)--MP(\"B\",B,N,s)--MP(\"C\",C,s)--cycle);\nMP(\"450\",(B+C)/2,NW);MP(\"425\",(A+B)/2,NE);MP(\"510\",(A+C)/2);\n</asy>\n\nConstruct cevians <math>AX</math>, <math>BY</math> and <math>CZ</math> through <math>P</math>.  Place masses of <math>x,y,z</math> on <math>A</math>, <math>B</math> and <math>C</math> respectively; then <math>P</math> has mass <math>x+y+z</math>.\n\nNotice that <math>Z</math> has mass <math>x+y</math>.  On the other hand, by similar triangles, <math>\\frac{CP}{CZ} = \\frac{d}{AB}</math>.  Hence by mass points we find that <cmath> \\frac{x+y}{x+y+z} = \\frac{d}{AB} </cmath> Similarly, we obtain <cmath> \\frac{y+z}{x+y+z} = \\frac{d}{BC} \\qquad \\text{and} \\qquad \\frac{z+x}{x+y+z} = \\frac{d}{CA} </cmath> Summing these three equations yields <cmath> \\frac{d}{AB} + \\frac{d}{BC} + \\frac{d}{CA} =  \\frac{x+y}{x+y+z} +  \\frac{y+z}{x+y+z} +  \\frac{z+x}{x+y+z} = \\frac{2x+2y+2z}{x+y+z} = 2 </cmath>\n\nHence, <center><math> d = \\frac{2}{\\frac{1}{AB} + \\frac{1}{BC} + \\frac{1}{CA}} = \\frac{2}{\\frac{1}{510} + \\frac{1}{450} + \\frac{1}{425}} = \\frac{10}{\\frac{1}{85}+\\frac{1}{90}+\\frac{1}{102}}</math><math>= \\frac{10}{\\frac{1}{5}\\left(\\frac{1}{17}+\\frac{1}{18}\\right)+\\frac{1}{102}}=\\frac{10}{\\frac{1}{5}\\cdot\\frac{35}{306}+\\frac{3}{306}}=\\frac{10}{\\frac{10}{306}} = \\boxed{306}</math></center>\n\n=== Solution 3 ===\n<center><asy>\nsize(200);\npathpen = black;\npointpen = black + linewidth(0.6);\npen s = fontsize(10);\n\n// Define points\npair C = (0,0), A = (510,0);\npair B = IP(circle(C,450),circle(A,425));\n\n// Construct remaining points\npair Da = IP(circle(A,289),A--B);\npair E = IP(circle(C,324),B--C);\npair Ea = IP(circle(B,270),B--C);\npair D = IP(Ea--(Ea+A-C),A--B);\npair F = IP(Da--(Da+C-B),A--C);\npair Fa = IP(E--(E+A-B),A--C);\n\n// Draw the main triangle\ndraw(A--B--C--cycle);\ndot(MP(\"A\",A,s));\ndot(MP(\"B\",B,N,s));\ndot(MP(\"C\",C,s));\n\n// Mark and draw the other points\ndot(MP(\"D\",D,NE,s));\ndot(MP(\"E\",E,NW,s));\ndot(MP(\"F\",F,s));\ndot(MP(\"D'\",Da,NE,s));\ndot(MP(\"E'\",Ea,NW,s));\ndot(MP(\"F'\",Fa,s));\n\n// Draw connecting lines\ndraw(D--Ea);\ndraw(Da--F);\ndraw(Fa--E);\n\n// Label distances\nlabel(\"450\", (B+C)/2, NW);\nlabel(\"425\", (A+B)/2, NE);\nlabel(\"510\", (A+C)/2, S);\n\n// Additional point P\npair P = IP(D--Ea, E--Fa);\ndot(MP(\"P\",P,N));\n</asy></center> <!-- Asymptote replacement for Image:1986_AIME-9.png by azjps -->\n\nLet the points at which the segments hit the triangle be called <math>D, D', E, E', F, F'</math> as shown above. As a result of the lines being parallel, all three smaller triangles and the larger triangle are [[similar triangles|similar]] (<math>\\triangle ABC \\sim \\triangle DD'P \\sim \\triangle PEE' \\sim \\triangle F'PF</math>). The remaining three sections are [[parallelogram]]s.\n\nSince <math>PDAF'</math> is a parallelogram, we find <math>PF' = AD</math>, and similarly <math>PE = BD'</math>. So <math>d = PF' + PE = AD + BD' = 425 - DD'</math>. Thus <math>DD' = 425 - d</math>. By the same logic, <math>EE' = 450 - d</math>. \n\nSince <math>\\triangle DPD' \\sim \\triangle ABC</math>, we have the [[proportion]]:\n\n<center><math>\\frac{425-d}{425} = \\frac{PD}{510} \\Longrightarrow PD = 510 - \\frac{510}{425}d = 510 - \\frac{6}{5}d</math></center>\n\nDoing the same with <math>\\triangle PEE'</math>, we find that <math>PE' =510 - \\frac{17}{15}d</math>. Now, <math>d = PD + PE' = 510 - \\frac{6}{5}d + 510 - \\frac{17}{15}d \\Longrightarrow d\\left(\\frac{50}{15}\\right) = 1020 \\Longrightarrow d = \\boxed{306}</math>.\n\n=== Solution 4 ===\nDefine the points the same as above.\n\nLet <math>[CE'PF] = a</math>, <math>[E'EP] = b</math>, <math>[BEPD'] = c</math>, <math>[D'PD] = d</math>, <math>[DAF'P] = e</math> and <math>[F'D'P] = f</math>\n\nThe key theorem we apply here is that the ratio of the areas of 2 similar triangles is the ratio of a pair of corresponding sides squared.\n\nLet the length of the segment be <math>x</math> and the area of the triangle be <math>A</math>, using the theorem, we get:\n\n<math>\\frac {d + e + f}{A} = \\left(\\frac {x}{BC}\\right)^2</math>, <math>\\frac {b + c + d}{A}= \\left(\\frac {x}{AC}\\right)^2</math>, <math>\\frac {a + b + f}{A} = \\left(\\frac {x}{AB}\\right)^2</math>.\nAdding all these together and using <math>a + b + c + d + e + f = A</math> we get\n<math>\\frac {f + d + b}{A} + 1 = x^2 \\cdot \\left(\\frac {1}{BC^2} + \\frac {1}{AC^2} + \\frac {1}{AB^2}\\right)</math>\n\nUsing [[corresponding angles]] from parallel lines, it is easy to show that <math>\\triangle ABC \\sim \\triangle F'PF</math>; since <math>ADPF'</math> and <math>CFPE'</math> are parallelograms, it is easy to show that <math>FF' = AC - x</math>\n\nNow we have the side length [[ratio]], so we have the area ratio\n<math>\\frac {f}{A} = \\left(\\frac {AC - x}{AC}\\right)^2 = \\left(1 - \\frac {x}{AC}\\right)^2</math>. By symmetry, we have\n<math>\\frac {d}{A} = \\left(1 - \\frac {x}{AB}\\right)^2</math> and <math>\\frac {b}{A} = \\left(1 - \\frac {x}{BC}\\right)^2</math>\n\nSubstituting these into our initial equation, we have\n<math>1 + \\sum_{cyc}\\left(1 - \\frac {x}{AB}\\right) - \\frac {x^2}{AB^2} = 0</math>\n<math>\\implies 1 + \\sum_{cyc}1 - 2 \\cdot \\frac {x}{AB} = 0</math>\n<math>\\implies \\frac {2}{\\frac {1}{AB} + \\frac {1}{BC} + \\frac {1}{CA}} = x</math>\nand the answer follows after some hideous computation.\n\n===Solution 5===\nRefer to the diagram in solution 2; let <math>a^2=[E'EP]</math>, <math>b^2=[D'DP]</math>, and <math>c^2=[F'FP]</math>. Now, note that <math>[E'BD]</math>, <math>[D'DP]</math>, and <math>[E'EP]</math> are similar, so through some similarities we find that <math>\\frac{E'P}{PD}=\\frac{a}{b}\\implies\\frac{E'D}{PD}=\\frac{a+b}{b}\\implies[E'BD]=b^2\\left(\\frac{a+b}{b}\\right)^2=(a+b)^2</math>. Similarly, we find that <math>[D'AF]=(b+c)^2</math> and <math>[F'CE]=(c+a)^2</math>, so <math>[ABC]=(a+b+c)^2</math>. Now, again from similarity, it follows that <math>\\frac{d}{510}=\\frac{a+b}{a+b+c}</math>, <math>\\frac{d}{450}=\\frac{b+c}{a+b+c}</math>, and <math>\\frac{d}{425}=\\frac{c+a}{a+b+c}</math>, so adding these together, simplifying, and solving gives <math>d=\\frac{2}{\\frac{1}{425}+\\frac{1}{450}+\\frac{1}{510}}=\\frac{10}{\\frac{1}{85}+\\frac{1}{90}+\\frac{1}{102}}=\\frac{10}{\\frac{1}{5}\\left(\\frac{1}{17}+\\frac{1}{18}\\right)+\\frac{1}{102}}=\\frac{10}{\\frac{1}{5}\\cdot\\frac{35}{306}+\\frac{3}{306}}</math>\n<math>=\\frac{10}{\\frac{10}{306}}=\\boxed{306}</math>.\n\n=== Solution 6 ===\n<center><asy>\nsize(200);\npathpen = black; pointpen = black +linewidth(0.6); pen s = fontsize(10);\npair C=(0,0),A=(510,0),B=IP(circle(C,450),circle(A,425));\n/* construct remaining points */\npair Da=IP(Circle(A,289),A--B),E=IP(Circle(C,324),B--C),Ea=IP(Circle(B,270),B--C);\npair D=IP(Ea--(Ea+A-C),A--B),F=IP(Da--(Da+C-B),A--C),Fa=IP(E--(E+A-B),A--C); \nD(MP(\"A\",A,s)--MP(\"B\",B,N,s)--MP(\"C\",C,s)--cycle);\ndot(MP(\"D\",D,NE,s));dot(MP(\"E\",E,NW,s));dot(MP(\"F\",F,s));dot(MP(\"D'\",Da,NE,s));dot(MP(\"E'\",Ea,NW,s));dot(MP(\"F'\",Fa,s));\nD(D--Ea);D(Da--F);D(Fa--E);\nMP(\"450\",(B+C)/2,NW);MP(\"425\",(A+B)/2,NE);MP(\"510\",(A+C)/2);\n/*P copied from above solution*/\npair P = IP(D--Ea,E--Fa); dot(MP(\"P\",P,N)); \n</asy></center> <!-- Asymptote replacement for Image:1986_AIME-9.png by azjps -->\nRefer to the diagram above. Notice that because <math>CE'PF</math>, <math>AF'PD</math>, and <math>BD'PE</math> are parallelograms, <math>\\overline{DD'} = 425-d</math>, <math>\\overline{EE'} = 450-d</math>, and <math>\\overline{FF'} = 510-d</math>. \n\nLet <math>F'P = x</math>. Then, because <math>\\triangle ABC \\sim \\triangle F'PF</math>, <math>\\frac{AB}{AC}=\\frac{F'P}{F'F}</math>, so <math>\\frac{425}{510}=\\frac{x}{510-d}</math>. Simplifying the LHS and cross-multiplying, we have <math>6x=2550-5d</math>. From the same triangles, we can find that <math>FP=\\frac{18}{17}x</math>.\n\n<math>\\triangle PEE'</math> is also similar to <math>\\triangle F'PF</math>. Since <math>EF'=d</math>, <math>EP=d-x</math>. We now have <math>\\frac{PE}{EE'}=\\frac{F'P}{FP}</math>, and <math>\\frac{d-x}{450-d}=\\frac{17}{18}</math>. Cross multiplying, we have <math>18d-18x=450 \\cdot 17-17d</math>. Using the previous equation to substitute for <math>x</math>, we have: <cmath>18d-3\\cdot2550+15d=450\\cdot17-17d</cmath> This is a linear equation in one variable, and we can solve to get <math>d=\\boxed{306}</math>\n\n*I did not show the multiplication in the last equation because most of it cancels out when solving.\n\n(Note: I chose <math>F'P</math> to be <math>x</math> only because that is what I had written when originally solving. The solution would work with other choices for <math>x</math>.)"
  },
  {
    "year": 1986,
    "variant": "I",
    "problem_number": 10,
    "latex": "In a parlor game, the magician asks one of the participants to think of a three digit number <math>(abc)</math> where <math>a</math>, <math>b</math>, and <math>c</math> represent digits in base <math>10</math> in the order indicated. The magician then asks this person to form the numbers <math>(acb)</math>, <math>(bca)</math>, <math>(bac)</math>, <math>(cab)</math>, and <math>(cba)</math>, to add these five numbers, and to reveal their sum, <math>N</math>. If told the value of <math>N</math>, the magician can identify the original number, <math>(abc)</math>. Play the role of the magician and determine <math>(abc)</math> if <math>N= 3194</math>.",
    "solution": "===Solution 1 ===\nLet <math>m</math> be the number <math>100a+10b+c</math>. Observe that <math>3194+m=222(a+b+c)</math> so\n\n<cmath>m\\equiv -3194\\equiv -86\\equiv 136\\pmod{222}</cmath>\n\nThis reduces <math>m</math> to one of <math>136, 358, 580, 802</math>. But also <math>a+b+c=\\frac{3194+m}{222}>\\frac{3194}{222}>14</math> so <math>a+b+c\\geq 15</math>. \nRecall that <math>a, b, c</math> refer to the digits the three digit number <math>(abc)</math>, so of the four options, only <math>m = \\boxed{358}</math> satisfies this inequality.\n\n===Solution 2 ===\nAs in Solution 1, <math>3194 + m \\equiv 222(a+b+c) \\pmod{222}</math>, and so as above we get <math>m \\equiv 136 \\pmod{222}</math>.\nWe can also take this equation modulo <math>9</math>; note that <math>m \\equiv a+b+c \\pmod{9}</math>, so\n\n<cmath>3194 + m \\equiv 222m \\implies 5m \\equiv 8 \\implies m \\equiv 7 \\pmod{9}.</cmath>\n\nTherefore <math>m</math> is <math>7</math> mod <math>9</math> and <math>136</math> mod <math>222</math>. There is a shared factor in <math>3</math> in both, but the Chinese Remainder Theorem still tells us the value of <math>m</math> mod <math>666</math>, namely <math>m \\equiv 358</math> mod <math>666</math>. We see that there are no other 3-digit integers that are <math>358</math> mod <math>666</math>, so <math>m = \\boxed{358}</math>.\n\n\n=== Solution 3 ===\n\nLet <math>n=abc</math> then\n<cmath>N=222(a+b+c)-n</cmath>\n<cmath>N=222(a+b+c)-100a-10b-c=3194</cmath>\nSince <math>0<100a+10b+c<1000</math>, we get the inequality\n<cmath>N<222(a+b+c)<N+1000</cmath>\n<cmath>3194<222(a+b+c)<4194</cmath>\n<cmath>14<a+b+c<19</cmath>\nChecking each of the multiples of <math>222</math> from <math>15\\cdot222</math> to <math>18\\cdot222</math> by subtracting <math>N</math> from each <math>222(a+b+c)</math>, we quickly find <math>n=\\boxed{358}</math>\n\n~ Nafer"
  },
  {
    "year": 1986,
    "variant": "I",
    "problem_number": 11,
    "latex": "The [[polynomial]] <math>1-x+x^2-x^3+\\cdots+x^{16}-x^{17}</math> may be written in the form <math>a_0+a_1y+a_2y^2+\\cdots +a_{16}y^{16}+a_{17}y^{17}</math>, where <math>y=x+1</math> and the <math>a_i</math>'s are [[constant]]s. Find the value of <math>a_2</math>.\n\n__TOC__",
    "solution": "=== Solution 1 ===\nUsing the [[geometric series]] formula, <math>1 - x + x^2 + \\cdots - x^{17} = \\frac {1 - x^{18}}{1 + x} = \\frac {1-x^{18}}{y}</math>. Since <math>x = y - 1</math>, this becomes <math>\\frac {1-(y - 1)^{18}}{y}</math>. We want <math>a_2</math>, which is the coefficient of the <math>y^3</math> term in <math>-(y - 1)^{18}</math> (because the <math>y</math> in the denominator reduces the degrees in the numerator by <math>1</math>). By the [[Binomial Theorem]], this is <math>(-1) \\cdot (-1)^{15}{18 \\choose 3} = \\boxed{816}</math>.\n\n=== Solution 2 ===\nAgain, notice <math>x = y - 1</math>. So\n\n<cmath>\\begin{align*}1 - x + x^2 + \\cdots - x^{17} & = 1 - (y - 1) + (y - 1)^2 - (y - 1)^3 + \\cdots - (y - 1)^{17} \\\\\n& = 1 + (1 - y) + (1 - y)^2 + (1 - y)^3 \\cdots + (1 - y)^{17}\\end{align*}.</cmath>\n\nWe want the coefficient of the <math>y^2</math> term of each power of each binomial, which by the binomial theorem is <math>{2\\choose 2} + {3\\choose 2} + \\cdots + {17\\choose 2}</math>. The [[Hockey Stick Identity]] tells us that this quantity is equal to <math>{18\\choose 3} = \\boxed{816}</math>.\n\n=== Solution 3 ===\nAgain, notice <math>x=y-1</math>. Substituting <math>y-1</math> for <math>x</math> in <math>f(x)</math> gives: \n<cmath>\\begin{align*}1 - x + x^2 + \\cdots - x^{17} & = 1 - (y - 1) + (y - 1)^2 - (y - 1)^3 + \\cdots - (y - 1)^{17} \\\\\n& = 1 + (1 - y) + (1 - y)^2 + (1 - y)^3 \\cdots + (1 - y)^{17}\\end{align*}.</cmath>\nFrom binomial theorem, the coefficient of the <math>y^2</math> term is <math>{2\\choose 0} + {3\\choose 1} + \\cdots + {17\\choose 15}</math>. This is actually the sum of the first 16 triangular numbers, which evaluates to <math>\\frac{(16)(17)(18)}{6} = \\boxed{816}</math>.\n\n=== Solution 4(calculus) ===\nLet <math>f(x)=1-x+x^2-x^3+\\cdots+x^{16}-x^{17}</math> and <math>g(y)=a_0+a_1y+a_2y^2+\\cdots +a_{16}y^{16}+a_{17}y^{17}</math>.\n\nThen, since <math>f(x)=g(y)</math>,\n<cmath>\\frac{d^2f}{dx^2}=\\frac{d^2g}{dy^2}</cmath>\n<math>\\frac{d^2f}{dx^2} = 2\\cdot 1 - 3\\cdot 2x+\\cdots-17\\cdot 16x^{15}</math> by the power rule.\n\nSimilarly, <math>\\frac{d^2g}{dy^2} = a_2(2\\cdot 1) + a_3(3\\cdot 2y)+\\cdots+a_{17}(17\\cdot 16y^{15})</math>\n\nNow, notice that if <math>x = -1</math>, then <math>y = 0</math>, so <math>f^{''}(-1) = g^{''}(0)</math>\n\n<math>g^{''}(0)= 2a_2</math>, and <math>f^{''}(-1) = 2\\cdot 1 + 3\\cdot 2 +\\cdots + 16\\cdot 17</math>.\n\nNow, we can use the hockey stick theorem to see that <math>2\\cdot 1 + 3\\cdot 2 +\\cdots + 16\\cdot 17 = 2\\binom{18}{3}</math>\n\nThus, <math>2a_2 = 2\\binom{18}{3}\\rightarrow a_2 = \\binom{18}{3}=\\boxed{816}</math>\n\n-AOPS81619\n\n=== Solution 5 (Linear Algebra) ===\n\nLet <math>V</math> be the vector space of polynomials of degree <math>\\leq 17, </math> and let <math>B = \\{1, x, x^2, ..., x^{17} \\}</math> and <math>C = \\{1, (x+1), (x+1)^2, ..., (x+1)^{17} \\}</math> be two bases for <math>V</math>.\nLet <math>\\vec{v} \\in V</math> be the polynomial given in the problem, and it is easy to see that <math>[ \\vec{v} ]_B = \\langle 1, -1, 1, -1, ... , 1, -1 \\rangle.</math>\n\nNote that the transformation matrix from <math>C</math> to <math>B</math> can be easily found to be <math>P_{C \\to B} = [ [\\vec{c_1}]_B [\\vec{c_2}]_B ... [\\vec{c_3}]_B ] = \\begin{bmatrix} \\tbinom{0}{0} & \\tbinom{1}{0} & \\tbinom{2}{0} & \\cdots & \\tbinom{17}{0} \\\\ 0 & \\tbinom{1}{1} & \\tbinom{2}{1} & \\cdots & \\tbinom{17}{1} \\\\ 0 & 0 & \\tbinom{2}{2} & \\cdots & \\tbinom{17}{2} \\\\ \\vdots & \\vdots & \\vdots & \\ddots & \\vdots \\\\ 0 & 0 & 0 & \\cdots & \\tbinom{17}{17} \\end{bmatrix} .</math>\n\nI claim that <math>P_{B \\to C} = \\begin{bmatrix} \\tbinom{0}{0} & -\\tbinom{1}{0} & \\tbinom{2}{0} & \\cdots & -\\tbinom{17}{0} \\\\ 0 & \\tbinom{1}{1} & -\\tbinom{2}{1} & \\cdots & \\tbinom{17}{1} \\\\ 0 & 0 & \\tbinom{2}{2} & \\cdots & -\\tbinom{17}{2} \\\\ \\vdots & \\vdots & \\vdots & \\ddots & \\vdots \\\\ 0 & 0 & 0 & \\cdots & \\tbinom{17}{17} \\end{bmatrix} ,</math> where the term <math>\\dbinom{n}{k}</math> is negated if <math>n+k</math> is odd. \n\nOne can prove that the <math>i</math>th row of <math>P_{C \\to B}</math> dotted with the <math>j</math>th column of <math>P_{B \\to C}</math> is <math>\\delta_{i, j}</math> by using combinatorial identities, which is left as an exercise for the reader. Thus, since the two matrices multiply to form <math>\\mathbb{I}_{18},</math> we have proved that <math>P_{B \\to C} = \\begin{bmatrix} \\tbinom{0}{0} & -\\tbinom{1}{0} & \\tbinom{2}{0} & \\cdots & -\\tbinom{17}{0} \\\\ 0 & \\tbinom{1}{1} & -\\tbinom{2}{1} & \\cdots & \\tbinom{17}{1} \\\\ 0 & 0 & \\tbinom{2}{2} & \\cdots & -\\tbinom{17}{2} \\\\ \\vdots & \\vdots & \\vdots & \\ddots & \\vdots \\\\ 0 & 0 & 0 & \\cdots & \\tbinom{17}{17} \\end{bmatrix} .</math>\n\nTo find the coordinates of <math>\\vec{v}</math> under basis <math>C,</math> we compute the product <math>[ \\vec{v} ]_C = P_{B \\to C} [\\vec{v} ]_B = \\begin{bmatrix} \\tbinom{0}{0} & -\\tbinom{1}{0} & \\tbinom{2}{0} & \\cdots & -\\tbinom{17}{0} \\\\ 0 & \\tbinom{1}{1} & -\\tbinom{2}{1} & \\cdots & \\tbinom{17}{1} \\\\ 0 & 0 & \\tbinom{2}{2} & \\cdots & -\\tbinom{17}{2} \\\\ \\vdots & \\vdots & \\vdots & \\ddots & \\vdots \\\\ 0 & 0 & 0 & \\cdots & \\tbinom{17}{17} \\end{bmatrix} \\begin{bmatrix} 1 \\\\ -1 \\\\ 1 \\\\ \\vdots \\\\ -1 \\end{bmatrix} = \\begin{bmatrix} \\sum_{n=0}^{17} \\tbinom{n}{0} \\\\ -\\sum_{n=1}^{17} \\tbinom{n}{1} \\\\  \\sum_{n=2}^{17} \\tbinom{n}{2} \\\\ \\vdots \\\\  -\\sum_{n=17}^{17} \\tbinom{n}{17} \\end{bmatrix} = \\begin{bmatrix} \\tbinom{18}{1} \\\\ - \\tbinom{18}{2} \\\\ \\tbinom{18}{3} \\\\ \\vdots \\\\ -\\tbinom{18}{18} \\end{bmatrix},</math> where the last equality was obtained via Hockey Stick Identity.\n\nThus, our answer is <math>a_2 =  [ [ \\vec{v} ]_C ]_3 = \\dbinom{18}{3} = \\boxed{816}.</math>\n\n-fidgetboss_4000"
  },
  {
    "year": 1986,
    "variant": "I",
    "problem_number": 12,
    "latex": "Let the sum of a set of numbers be the sum of its elements. Let <math>S</math> be a set of positive integers, none greater than 15. Suppose no two disjoint subsets of <math>S</math> have the same sum. What is the largest sum a set <math>S</math> with these properties can have?",
    "solution": "By using the greedy algorithm, we obtain <math>\\boxed{061}</math>, with <math>S=\\{ 15,14,13,11,8\\}</math>. We must now prove that no such set has sum greater than 61. Suppose such a set <math>S</math> existed. Then <math>S</math> must have more than 4 elements, otherwise its sum would be at most <math>15+14+13+12=54</math>.  \n\n<math>S</math> can't have more than 5 elements. To see why, note that at least <math>\\dbinom{6}{0} + \\dbinom{6}{1} + \\dbinom{6}{2} + \\dbinom{6}{3} + \\dbinom{6}{4}=57</math> of its subsets have at most four elements (the number of subsets with no elements plus the number of subsets with one element and so on), and each of them have sum at most 54. By the Pigeonhole Principle, two of these subsets would have the same sum. If those subsets were disjoint, we would directly arrive at a contradiction; if not, we could remove the common elements to get two disjoint subsets.\n\nThus, <math>S</math> would have to have 5 elements. <math>S</math> contains both 15 and 14 (otherwise its sum is at most <math>10+11+12+13+15=61</math>). It follows that <math>S</math> cannot contain both <math>a</math> and <math>a-1</math> for any <math>a\\leq 13</math>, or the subsets <math>\\{a,14\\}</math> and <math>\\{a-1,15\\}</math> would have the same sum. So now <math>S</math> must contain 13 (otherwise its sum is at most <math>15+14+12+10+8=59</math>), and <math>S</math> cannot contain 12, or the subsets <math>\\{12,15\\}</math> and <math>\\{13,14\\}</math> would have the same sum.\n\nNow the only way <math>S</math> could have sum at least <math>62=15+14+13+11+9</math> would be if <math>S=\\{ 15,14,13,11,9\\}</math>. But the subsets <math>\\{9,15\\}</math> and <math>\\{11,13\\}</math> have the same sum, so this set does not work. Therefore no <math>S</math> with sum greater than 61 is possible and 61 is indeed the maximum."
  },
  {
    "year": 1986,
    "variant": "I",
    "problem_number": 13,
    "latex": "In a [[sequence]] of coin tosses, one can keep a record of instances in which a tail is immediately followed by a head, a head is immediately followed by a head, and etc. We denote these by <tt>TH</tt>, <tt>HH</tt>, and etc. For example, in the sequence <tt>TTTHHTHTTTHHTTH</tt> of 15 coin tosses we observe that there are two <tt>HH</tt>, three <tt>HT</tt>, four <tt>TH</tt>, and five <tt>TT</tt> subsequences. How many different sequences of 15 coin tosses will contain exactly two <tt>HH</tt>, three <tt>HT</tt>, four <tt>TH</tt>, and five <tt>TT</tt> subsequences?",
    "solution": "Let's consider each of the sequences of two coin tosses as an [[operation]] instead; this operation takes a string and adds the next coin toss on (eg, <tt>THHTH</tt> + <tt>HT</tt> = <tt>THHTHT</tt>). We examine what happens to the last coin toss. Adding <tt>HH</tt> or <tt>TT</tt> is simply an [[identity]] for the last coin toss, so we will ignore them for now. However, adding <tt>HT</tt> or <tt>TH</tt> switches the last coin. <tt>H</tt> switches to <tt>T</tt> three times, but <tt>T</tt> switches to <tt>H</tt> four times; hence it follows that our string will have a structure of <tt>THTHTHTH</tt>. \n\nNow we have to count all of the different ways we can add the identities back in. There are 5 <tt>TT</tt> subsequences, which means that we have to add 5 <tt>T</tt> into the strings, as long as the new <tt>T</tt>s are adjacent to existing <tt>T</tt>s. There are already 4 <tt>T</tt>s in the sequence, and since order doesn‚Äôt matter between different tail flips this just becomes the ball-and-urn argument. We want to add 5 balls into 4 urns, which is the same as 3 dividers; hence this gives <math>{{5+3}\\choose3} = 56</math> combinations. We do the same with 2 <tt>H</tt>s to get <math>{{2+3}\\choose3} = 10</math> combinations; thus there are <math>56 \\cdot 10 = \\boxed {560}</math> possible sequences.\n\n=== Slight Variation===\nThe structure of the final order is <tt>T_H_T_H_T_H_T_H_</tt>, and there are 4 spots to put the 2 heads in, and 4 spots to put the 5 tails in.  By using the formula for distributing r identical objects into n distinct boxes <math>\\dbinom{r+n-1}{r}</math> and multiplication, the answer is  <math>{{2+4-1}\\choose2} \\cdot{{5+4-1}\\choose5}=560</math> ~Slight edits in LaTeX by EthanSpoon"
  },
  {
    "year": 1986,
    "variant": "I",
    "problem_number": 14,
    "latex": "The shortest distances between an interior [[diagonal]] of a rectangular [[parallelepiped]], <math>P</math>, and the edges it does not meet are <math>2\\sqrt{5}</math>, <math>\\frac{30}{\\sqrt{13}}</math>, and <math>\\frac{15}{\\sqrt{10}}</math>. Determine the [[volume]] of <math>P</math>.",
    "solution": "<center>[[Image:AIME_1986_Problem_14_sol.png]]</center>\n\nIn the above diagram, we focus on the line that appears closest and is parallel to <math>BC</math>. All the blue lines are perpendicular lines to <math>BC</math> and their other points are on <math>AB</math>, the main diagonal. The green lines are projections of the blue lines onto the bottom face; all of the green lines originate in the corner and reach out to <math>AC</math>, and have the same lengths as their corresponding blue lines. So we want to find the shortest distance between <math>AC</math> and that corner, which is <math>\\frac {wl}{\\sqrt {w^2 + l^2}}</math>.\n\nSo we have:\n<cmath>\\frac {lw}{\\sqrt {l^2 + w^2}} = \\frac {10}{\\sqrt {5}}</cmath>\n<cmath>\\frac {hw}{\\sqrt {h^2 + w^2}} = \\frac {30}{\\sqrt {13}}</cmath>\n<cmath>\\frac {hl}{\\sqrt {h^2 + l^2}} = \\frac {15}{\\sqrt {10}}</cmath>\n\nNotice the familiar roots: <math>\\sqrt {5}</math>, <math>\\sqrt {13}</math>, <math>\\sqrt {10}</math>, which are <math>\\sqrt {1^2 + 2^2}</math>, <math>\\sqrt {2^2 + 3^2}</math>, <math>\\sqrt {1^2 + 3^2}</math>, respectively. (This would give us the guess that the sides are of the ratio 1:2:3, but let's provide the complete solution.)\n\n<cmath>\\frac {l^2w^2}{l^2 + w^2} = \\frac {1}{\\frac {1}{l^2} + \\frac {1}{w^2}} = 20</cmath>\n<cmath>\\frac {h^2w^2}{h^2 + w^2} = \\frac {1}{\\frac {1}{h^2} + \\frac {1}{w^2}} = \\frac {900}{13}</cmath>\n<cmath>\\frac {h^2l^2}{h^2 + l^2} = \\frac {1}{\\frac {1}{h^2} + \\frac {1}{l^2}} = \\frac {45}{2}</cmath>\n\nWe invert the above equations to get a system of linear equations in <math>\\frac {1}{h^2}</math>, <math>\\frac {1}{l^2}</math>, and <math>\\frac {1}{w^2}</math>:\n<cmath>\\frac {1}{l^2} + \\frac {1}{w^2} = \\frac {45}{900}</cmath>\n<cmath>\\frac {1}{h^2} + \\frac {1}{w^2} = \\frac {13}{900}</cmath>\n<cmath>\\frac {1}{h^2} + \\frac {1}{l^2} = \\frac {40}{900}</cmath>\n\nWe see that <math>h = 15</math>, <math>l = 5</math>, <math>w = 10</math>. Therefore <math>V = 5 \\cdot 10 \\cdot 15 = \\boxed{750}</math>"
  },
  {
    "year": 1986,
    "variant": "I",
    "problem_number": 15,
    "latex": "Let [[triangle]] <math>ABC</math> be a [[right triangle]] in the xy-plane with a right angle at <math>C_{}</math>. Given that the length of the [[hypotenuse]] <math>AB</math> is <math>60</math>, and that the [[median]]s through <math>A</math> and <math>B</math> lie along the lines <math>y=x+3</math> and <math>y=2x+4</math> respectively, find the area of triangle <math>ABC</math>.",
    "solution": "Let <math>\\theta_1</math> be the angle that the median through <math>A</math> makes with the positive <math>y</math>-axis, and let <math>\\theta_2</math> be the angle that the median through <math>B</math> makes with the positive <math>x</math>-axis.  The tangents of these two angles are the slopes of the respective medians; in other words, <math>\\tan \\theta_1 = 1</math>, and <math>\\tan \\theta_2 =2</math>.\n\nLet <math>\\theta</math> be the angle between the medians through <math>A</math> and <math>B</math>.  Then by the [[Trigonometric_identities#Angle_addition_identities | tangent angle subtraction formula]],\n<cmath> \\tan \\theta = \\tan (\\theta_2 - \\theta_1) = \\frac{\\tan \\theta_2 - \\tan \\theta_1}{1 + \\tan \\theta_1 \\tan \\theta_2} = \\frac{2-1}{1 + 2 \\cdot 1 } = \\frac{1}{3}. </cmath>\n\n<center><asy>\nsize(170);\npair A = (0,0), B = (3, 2), C = (3, 0);\npair M = (B+C)/2, NN = (A+C)/2, G = (A+B+C)/3;\ndraw(A--B--C--cycle);\ndraw(A--M);\ndraw(B--NN);\nlabel(\"$A$\", A, S);\nlabel(\"$C$\", C, S);\nlabel(\"$B$\", B, N);\nlabel(\"$M$\", M, NW);\nlabel(\"$N$\", NN, NW);\nlabel(\"$a$\", M, E);\nlabel(\"$b$\", NN, S);\nlabel(\"$G$\", G, NW);\nlabel(\"$\\theta$\", G, 4*dir(40));\nlabel(\"$\\alpha$\", A, 5*dir(.5*degrees(M)));\nlabel(\"$\\beta$\", NN, 2*dir(.5*degrees(B-NN)));</asy></center>\n\nLet <math>M</math> be the midpoint of <math>BC,</math> let <math>N</math> be the midpoint of <math>AC,</math> and let <math>G</math> be the intersection of these two medians.  Let <math>BC = a,</math> and let <math>AC = b</math>; let <math>\\alpha = \\angle MAC</math>, and let <math>\\beta = \\angle BNC</math>.\n\nWith this setup, <math>\\theta = \\beta - \\alpha</math>.  The reason is that <math>\\beta</math> is an exterior angle of <math>\\triangle AGN</math>, and thus <math>\\beta = \\alpha + \\angle AGN = \\alpha + \\theta</math>.\n\nWe also know that <math>\\tan \\alpha = \\dfrac{(1/2) a}{b} = \\dfrac{a}{2b}</math>, and <math>\\tan \\beta = \\dfrac{a}{(1/2)b} = \\dfrac{2a}{b}</math>.  Then\n<cmath>\\begin{align*}\n\\frac{1}{3} &= \\tan \\theta \\\\\n&= \\tan (\\beta - \\alpha) \\\\\n&= \\frac{\\tan \\beta - \\tan \\alpha}{1 + \\tan \\beta \\tan \\alpha} \\\\\n&= \\frac{2 \\frac{a}{b} - \\frac{1}{2} \\cdot \\frac{a}{b}}{1 + (a/b)^2} \\\\\n&= \\frac{(3/2) \\cdot (a/b)}{1 + (a/b)^2} .\n\\end{align*}</cmath>\nMultiplying numerator and denominator by <math>b^2,</math> we learn that\n<cmath> \\frac{1}{3} = \\frac{(3/2) ab}{a^2 + b^2} = \\frac{(3/2) ab}{60^2}, </cmath>\nsince the hypotenuse of <math>\\triangle ABC</math> has length 60.  Solving for <math>\\frac{1}{2}ab</math>, we find that\n<cmath>\\frac{1}{2} ab = \\frac{1}{9} \\cdot 60^2 = (60/3)^2 = 20^2 = 400. </cmath>\n~minor edits by EaZ_Shadow"
  },
  {
    "year": 1987,
    "variant": "I",
    "problem_number": 1,
    "latex": "An [[ordered pair]] <math>(m,n)</math> of [[non-negative]] [[integer]]s is called \"simple\" if the [[addition]] <math>m+n</math> in base <math>10</math> requires no carrying. Find the number of simple ordered pairs of non-negative integers that sum to <math>1492</math>.",
    "solution": "Since no carrying over is allowed, the range of possible values of any digit of <math>m</math> is from <math>0</math> to the respective [[digit]] in <math>1492</math> (the values of <math>n</math> are then fixed). Thus, the number of [[ordered pair]]s will be <math>(1 + 1)(4 + 1)(9 + 1)(2 + 1) = 2\\cdot 5\\cdot 10\\cdot 3 = \\boxed{300}</math>.\n\n\n----\n\n\nIf you do not understand the above solution, consider this. For every [[positive integer]] <math>m</math>, there is only one [[whole number]] <math>n</math> that you can add to it to obtain the required sum. Also, the total number of non-negative integers that are smaller than or equal to an integer <math>a</math> is <math>(a + 1)</math> because there are <math>(a - 1)</math> positive integers that are less than it, in addition to <math>0</math> and itself."
  },
  {
    "year": 1987,
    "variant": "I",
    "problem_number": 2,
    "latex": "What is the largest possible [[distance]] between two [[point]]s, one on the [[sphere]] of [[radius]] 19 with [[center]] <math>(-2,-10,5)</math> and the other on the sphere of radius 87 with center <math>(12,8,-16)</math>?",
    "solution": "The distance between the two centers of the spheres can be determined via the [[distance formula]] in three dimensions: <math>\\sqrt{(12 - (-2))^2 + (8 - (-10))^2 + (-16 - 5)^2} = \\sqrt{14^2 + 18^2 + 21^2} = 31</math>. The largest possible distance would be the sum of the two radii and the distance between the two centers, making it <math>19 + 87 + 31 = \\boxed{137}</math>."
  },
  {
    "year": 1987,
    "variant": "I",
    "problem_number": 3,
    "latex": "By a proper [[divisor]] of a [[natural number]] we mean a [[positive]] [[integer|integral]] divisor other than 1 and the number itself. A natural number greater than 1 will be called ''nice'' if it is equal to the product of its distinct proper divisors. What is the sum of the first ten nice numbers?",
    "solution": "Let <math>p(n)</math> denote the product of the distinct proper divisors of <math>n</math>. A number <math>n</math> is ''nice'' in one of two instances: \n#It has exactly two distinct [[prime]] divisors. \n#:If we let <math>n = pq</math>, where <math>p,q</math> are the prime factors, then its proper divisors are <math>p</math> and <math>q</math>, and <math>p(n) = p \\cdot q = n</math>.\n#It is the cube of a prime number. \n#:If we let <math>n=p^3</math> with <math>p</math> prime, then its proper divisors are <math>p</math> and <math>p^2</math>, and <math>p(n) = p \\cdot p^2 =n</math>. \n\nWe now show that the above are the only two cases. Suppose that another nice number existed that does not fall into one of these two categories. Then we can either express it in the form <math>n = pqr</math> (with <math>p,q</math> prime and <math>r > 1</math>) or <math>n = p^e</math> (with <math>e \\neq 3</math>). \nIn the former case, it suffices to note that <math>p(n) \\ge (pr) \\cdot (qr) = pqr^2 > pqr = n</math>. \n\nIn the latter case, then <math>p(n) = p \\cdot p^2 \\cdots p^{(e-1)} = p^{(e-1)e/2}</math>.\n \nFor <math>p(n) = n</math>, we need <math>p^{(e-1)e/2} = p^e \\Longrightarrow e^2 - e = 2e \\Longrightarrow </math> <math>e = 0</math> or <math>e = 3</math>.  \n\nSince <math>e \\neq 3</math>, in the case <math>e = 0 \\Longrightarrow n = 1</math> does not work. \n\nThus, listing out the first ten numbers to fit this form, <math>2 \\cdot 3 = 6,\\ 2^3 = 8,\\ 2 \\cdot 5 = 10,</math> <math>\\ 2 \\cdot 7 = 14,\\ 3 \\cdot 5 = 15,\\ 3 \\cdot 7 = 21,</math> <math>\\ 2 \\cdot 11 = 22,\\ 2 \\cdot 13 = 26,</math> <math>\\ 3^3 = 27,\\ 3 \\cdot 11 = 33</math>.\n[[Sum]]ming these yields <math>\\boxed{182}</math>."
  },
  {
    "year": 1987,
    "variant": "I",
    "problem_number": 4,
    "latex": "Find the [[area]] of the region enclosed by the [[graph]] of <math>|x-60|+|y|=\\left|\\frac{x}{4}\\right|.</math>",
    "solution": "[[Image:1987_AIME-4.png]]\n\nSince <math>|y|</math> is [[nonnegative]], <math>\\left|\\frac{x}{4}\\right| \\ge |x - 60|</math>. Solving this gives us two equations: <math>\\frac{x}{4} \\ge x - 60\\ \\mathrm{and} \\ -\\frac{x}{4} \\le x - 60</math>. Thus, <math>48 \\le x \\le 80</math>. The [[maximum]] and [[minimum]] y value is when <math>|x - 60| = 0</math>, which is when <math>x = 60</math> and <math>y = \\pm 15</math>. Since the graph is [[symmetry|symmetric]] about the y-axis, we just need [[casework]] upon <math>x</math>. <math>\\frac{x}{4} > 0</math>, so we break up the condition <math>|x-60|</math>:\n\n*<math>x - 60 > 0</math>. Then <math>y = -\\frac{3}{4}x+60</math>.\n*<math>x - 60 < 0</math>. Then <math>y = \\frac{5}{4}x-60</math>.\n\nThe area of the region enclosed by the graph is that of the quadrilateral defined by the points <math>(48,0),\\ (60,15),\\ (80,0), \\ (60,-15)</math>. Breaking it up into triangles and solving or using the [[Shoelace Theorem]], we get <math>2 \\cdot \\frac{1}{2}(80 - 48)(15) = \\boxed{480}</math>."
  },
  {
    "year": 1987,
    "variant": "I",
    "problem_number": 5,
    "latex": "Find <math>3x^2 y^2</math> if <math>x</math> and <math>y</math> are [[integer]]s such that <math>y^2 + 3x^2 y^2 = 30x^2 + 517</math>.",
    "solution": "If we move the <math>x^2</math> term to the left side, it is factorable with [[SFFT|Simon's Favorite Factoring Trick]]:\n\n<cmath>(3x^2 + 1)(y^2 - 10) = 517 - 10</cmath>\n\n<math>507</math> is equal to <math>3 \\cdot 13^2</math>. Since <math>x</math> and <math>y</math> are integers, <math>3x^2 + 1</math> cannot equal a multiple of three. <math>169</math> doesn't work either, so <math>3x^2 + 1 = 13</math>, and <math>x^2 = 4</math>. This leaves <math>y^2 - 10 = 39</math>, so <math>y^2 = 49</math>. Thus, <math>3x^2 y^2 = 3 \\times 4 \\times 49 = \\boxed{588}</math>."
  },
  {
    "year": 1987,
    "variant": "I",
    "problem_number": 6,
    "latex": "[[Rectangle]] <math>ABCD</math> is divided into four parts of equal [[area]] by five [[line segment | segments]] as shown in the figure, where <math>XY = YB + BC + CZ = ZW = WD + DA + AX</math>, and <math>PQ</math> is [[parallel]] to <math>AB</math>.  Find the [[length]] of <math>AB</math> (in cm) if <math>BC = 19</math> cm and <math>PQ = 87</math> cm.\n\n[[Image:AIME_1987_Problem_6.png]]",
    "solution": "===Solution 1===\nSince <math>XY = WZ</math>, <math>PQ = PQ</math> and the [[area]]s of the [[trapezoid]]s <math>PQZW</math> and <math>PQYX</math> are the same, then the heights of the trapezoids are the same.  Thus both trapezoids have area <math>\\frac{1}{2} \\cdot \\frac{19}{2}(XY + PQ) = \\frac{19}{4}(XY + 87)</math>.  This number is also equal to one quarter the area of the entire rectangle, which is <math>\\frac{19\\cdot AB}{4}</math>, so we have <math>AB = XY + 87</math>.\n\nIn addition, we see that the [[perimeter]] of the rectangle is <math>2AB + 38 = XA + AD + DW + WZ + ZC + CB + BY + YX = 4XY</math>, so <math>AB + 19 = 2XY</math>.\n\nSolving these two equations gives <math>AB = \\boxed{193}</math>.\n\n\n\n===Solution 2===\nLet <math>YB=a</math>, <math>CZ=b</math>, <math>AX=c</math>, and <math>WD=d</math>. First we drop a perpendicular from <math>Q</math> to a point <math>R</math> on <math>BC</math> so <math>QR=h</math>. Since <math>XY = WZ</math> and <math>PQ = PQ</math> and the [[area]]s of the [[trapezoid]]s <math>PQZW</math> and <math>PQYX</math> are the same, the heights of the trapezoids are both <math>\\frac{19}{2}</math>.From here, we have that <math>[BYQZC]=\\frac{a+h}{2}*19/2+\\frac{b+h}{2}*19/2=19/2* \\frac{a+b+2h}{2}</math>. We are told that this area is equal to <math>[PXYQ]=\\frac{19}{2}* \\frac{XY+87}{2}=\\frac{19}{2}* \\frac{a+b+106}{2}</math>. Setting these equal to each other and solving gives <math>h=53</math>. In the same way, we find that the perpendicular from <math>P</math> to <math>AD</math> is <math>53</math>. So <math>AB=53*2+87=\\boxed{193}</math>\n\n===Solution 3===\nSince <math>XY = YB + BC + CZ = ZW = WD + DA + AX</math>. Let <math>a = AX + DW = BY + CZ</math>. Since <math>2AB - 2a = XY = WZ</math>, then <math>XY = AB - a</math>.Let <math>S</math> be the midpoint of <math>DA</math>, and <math>T</math> be the midpoint of <math>CB</math>. Since the area of <math>PQWZ</math> and <math>PQYX</math> are the same, then their heights are the same, and so <math>PQ</math> is [[equidistant]] from <math>AB</math> and <math>CD</math>. This means that <math>PS</math> is perpendicular to <math>DA</math>, and <math>QT</math> is perpendicular to <math>BC</math>. Therefore, <math>PSCW</math>, <math>PSAX</math>, <math>QZCT</math>, and <math>QYTB</math> are all trapezoids, and <math>QT = (AB - 87)/</math>2. This implies that <cmath>((a + 2((AB - 87)/2)/2) \\cdot 19 = (((AB - a) + 87)/2) \\cdot 19</cmath> <cmath>(a + AB - 87) = AB - a + 87</cmath> <cmath>2a = 174</cmath> <cmath>a = 87</cmath> Since <math>a + CB = XY</math>, <math>XY = 19 + 87 = 106</math>, and <math>AB = 106 + 87 = \\boxed{193}</math>."
  },
  {
    "year": 1987,
    "variant": "I",
    "problem_number": 7,
    "latex": "Let <math>[r,s]</math> denote the [[least common multiple]] of [[positive integer]]s <math>r</math> and <math>s</math>.  Find the number of [[ordered tuple | ordered triples]] <math>(a,b,c)</math> of positive integers for which <math>[a,b] = 1000</math>, <math>[b,c] = 2000</math>, and <math>[c,a] = 2000</math>.\n\n__TOC__",
    "solution": "It's clear that we must have <math>a = 2^j5^k</math>, <math>b = 2^m 5^n</math> and <math>c = 2^p5^q</math> for some [[nonnegative]] [[integer]]s <math>j, k, m, n, p, q</math>.  Dealing first with the powers of 2: from the given conditions, <math>\\max(j, m) = 3</math>, <math>\\max(m, p) = \\max(p, j) = 4</math>.  Thus we must have <math>p = 4</math> and at least one of <math>m, j</math> equal to 3.  This gives 7 possible triples <math>(j, m, p)</math>: <math>(0, 3, 4), (1, 3, 4), (2, 3, 4), (3, 3, 4), (3, 2, 4), (3, 1, 4)</math> and <math>(3, 0, 4)</math>.\n\nNow, for the powers of 5: we have <math>\\max(k, n) = \\max(n, q) = \\max(q, k) = 3</math>.  Thus, at least two of <math>k, n, q</math> must be equal to 3, and the other can take any value between 0 and 3.  This gives us a total of 10 possible triples: <math>(3, 3, 3)</math> and three possibilities of each of the forms <math>(3, 3, n)</math>, <math>(3, n, 3)</math> and <math>(n, 3, 3)</math>.\n\nSince the [[exponent]]s of 2 and 5 must satisfy these conditions independently, we have a total of <math>7 \\cdot 10 = 70</math> possible valid triples."
  },
  {
    "year": 1987,
    "variant": "I",
    "problem_number": 8,
    "latex": "What is the largest positive integer <math>n</math> for which there is a unique integer <math>k</math> such that <math>\\frac{8}{15} < \\frac{n}{n + k} < \\frac{7}{13}</math>?",
    "solution": "Multiplying out all of the [[denominator]]s, we get:\n\n<cmath>\\begin{align*}104(n+k) &< 195n< 105(n+k)\\\\\n0 &< 91n - 104k < n + k\\end{align*}</cmath>\n\nSince <math>91n - 104k < n + k</math>, <math>k > \\frac{6}{7}n</math>. Also, <math>0 < 91n - 104k</math>, so <math>k < \\frac{7n}{8}</math>. Thus, <math>48n < 56k < 49n</math>. <math>k</math> is unique if it is within a maximum [[range]] of <math>112</math>, so <math>n = \\boxed{112}</math>."
  },
  {
    "year": 1987,
    "variant": "I",
    "problem_number": 9,
    "latex": "[[Triangle]] <math>ABC</math> has [[right angle]] at <math>B</math>, and contains a [[point]] <math>P</math> for which <math>PA = 10</math>, <math>PB = 6</math>, and <math>\\angle APB = \\angle BPC = \\angle CPA</math>.  Find <math>PC</math>.\n\n<asy>\nunitsize(0.2 cm);\n\npair A, B, C, P;\n\nA = (0,14);\nB = (0,0);\nC = (21*sqrt(3),0);\nP = intersectionpoint(arc(B,6,0,180),arc(C,33,0,180));\n\ndraw(A--B--C--cycle);\ndraw(A--P);\ndraw(B--P);\ndraw(C--P);\n\nlabel(\"$A$\", A, NW);\nlabel(\"$B$\", B, SW);\nlabel(\"$C$\", C, SE);\nlabel(\"$P$\", P, NE);\n</asy>",
    "solution": "Let <math>PC = x</math>. Since <math>\\angle APB = \\angle BPC = \\angle CPA</math>, each of them is equal to <math>120^\\circ</math>.  By the [[Law of Cosines]] applied to triangles <math>\\triangle APB</math>, <math>\\triangle BPC</math> and <math>\\triangle CPA</math> at their respective angles <math>P</math>, remembering that <math>\\cos 120^\\circ = -\\frac12</math>, we have\n\n<cmath>AB^2 = 36 + 100 + 60 = 196, BC^2 = 36 + x^2 + 6x, CA^2 = 100 + x^2 + 10x</cmath>\n\nThen by the [[Pythagorean Theorem]], <math>AB^2 + BC^2 = CA^2</math>, so \n\n<cmath>x^2 + 10x + 100 = x^2 + 6x + 36 + 196</cmath> \n\nand\n\n<cmath>4x = 132 \\Longrightarrow x = \\boxed{033}.</cmath>\n=== Note ===\nThis is the [[Fermat point]] of the triangle."
  },
  {
    "year": 1987,
    "variant": "I",
    "problem_number": 10,
    "latex": "Al walks down to the bottom of an escalator that is moving up and he counts 150 steps. His friend, Bob, walks up to the top of the escalator and counts 75 steps. If Al's speed of walking (in steps per unit time) is three times Bob's walking speed, how many steps are visible on the escalator at a given time? (Assume that this value is constant.)",
    "solution": "Let the total number of steps be <math>x</math>, the speed of the escalator be <math>e</math> and the speed of Bob be <math>b</math>.\n\nIn the time it took Bob to climb up the escalator he saw 75 steps and also climbed the entire escalator.  Thus the contribution of the escalator must have been an additional <math>x - 75</math> steps.  Since Bob and the escalator were both moving at a constant speed over the time it took Bob to climb, the [[ratio]] of their distances covered is the same as the ratio of their speeds, so <math>\\frac{e}{b} = \\frac{x - 75}{75}</math>.  \n\nSimilarly, in the time it took Al to walk down the escalator he saw 150 steps, so the escalator must have moved <math>150 - x</math> steps in that time.  Thus <math>\\frac{e}{3b} = \\frac{150 - x}{150}</math> or <math>\\frac{e}{b} = \\frac{150 - x}{50}</math>.\n\nEquating the two values of <math>\\frac{e}{b}</math> we have <math>\\frac{x - 75}{75} = \\frac{150 - x}{50}</math> and so <math>2x - 150 = 450 - 3x</math> and <math>5x = 600</math> and <math>x = \\boxed{120}</math>, the answer."
  },
  {
    "year": 1987,
    "variant": "I",
    "problem_number": 11,
    "latex": "Find the largest possible value of <math>k</math> for which <math>3^{11}</math> is expressible as the sum of <math>k</math> consecutive [[positive integer]]s.",
    "solution": "=== Solution 1===\nLet us write down one such sum, with <math>m</math> terms and first term <math>n + 1</math>:\n\n<math>3^{11} = (n + 1) + (n + 2) + \\ldots + (n + m) = \\frac{1}{2} m(2n + m + 1)</math>.\n\nThus <math>m(2n + m + 1) = 2 \\cdot 3^{11}</math> so <math>m</math> is a [[divisor]] of <math>2\\cdot 3^{11}</math>.  However, because <math>n \\geq 0</math> we have <math>m^2 < m(m + 1) \\leq 2\\cdot 3^{11}</math> so <math>m < \\sqrt{2\\cdot 3^{11}} < 3^6</math>.  Thus, we are looking for large factors of <math>2\\cdot 3^{11}</math> which are less than <math>3^6</math>.  The largest such factor is clearly <math>2\\cdot 3^5 = 486</math>; for this value of <math>m</math> we do indeed have the valid [[expression]] <math>3^{11} = 122 + 123 + \\ldots + 607</math>, for which <math>k=\\boxed{486}</math>.\n\n=== Solution 2===\nFirst note that if <math>k</math> is odd, and <math>n</math> is the middle term, the sum equals <math>kn</math>. If <math>k</math> is even, then we have the sum equal to <math>kn+k/2</math>, which will be even. Since <math>3^{11}</math> is odd, we see that <math>k</math> is odd. \n\nThus, we have <math>nk=3^{11} \\implies n=3^{11}/k</math>. Also, note <math>n-(k+1)/2=0 \\implies n=(k+1)/2.</math> Subsituting <math>n=3^{11}/k</math>, we have <math>k^2+k=2*3^{11}</math>. Proceed as in solution 1.\n\n=== Solution 3===\nProceed as in Solution 1 until it is noted that <math>m</math> is a divisor of <math>2\\cdot 3^{11}</math>. The divisors of <math>2\\cdot 3^{11}</math> are <math>3^{1} , 2\\cdot 3^{1} , 3^{2} , 2\\cdot 3^{2} , \\ldots , 2\\cdot 3^{10} , 3^{11}</math>. Note that the factors of <math>m(2n + m + 1)</math> are of opposite parity (if <math>m</math> is odd, then <math>(2n + m + 1)</math> is even and vice versa). Thus, one of the two factors will be a power of three, and the other will be twice a power of three. <math>(2n + m + 1)</math> will represent the greater factor while <math>m</math> will represent the lesser factor. Given this information, we need to find the factor pair that maximizes the lesser of the two factors, as this will maximize the value of <math>m</math>. The factor pair which maximizes the lesser factor is <math>2\\cdot 3^{5}</math> and <math>3^{6}</math>. It follows that <math>m</math> = <math>2\\cdot 3^{5}</math> = <math>\\boxed{486}</math>.\n\n~ [https://artofproblemsolving.com/wiki/index.php/User:Cxsmi cxsmi]"
  },
  {
    "year": 1987,
    "variant": "I",
    "problem_number": 12,
    "latex": "Let <math>m</math> be the smallest [[integer]] whose [[cube root]] is of the form <math>n+r</math>, where <math>n</math> is a [[positive integer]] and <math>r</math> is a [[positive]] [[real number]] less than <math>1/1000</math>. Find <math>n</math>.",
    "solution": "In order to keep <math>m</math> as small as possible, we need to make <math>n</math> as small as possible.\n\n<math>m = (n + r)^3 = n^3 + 3n^2r + 3nr^2 + r^3</math>.  Since <math>r < \\frac{1}{1000}</math> and <math>m - n^3 = r(3n^2 + 3nr + r^2)</math> is an integer, we must have that <math>3n^2 + 3nr + r^2 \\geq \\frac{1}{r} > 1000</math>.  This means that the smallest possible <math>n</math> should be less than 1000. In particular, <math>3nr + r^2</math> should be less than 1, so <math>3n^2 > 999</math> and <math>n > \\sqrt{333}</math>.  <math>18^2 = 324 < 333 < 361 = 19^2</math>, so we must have <math>n \\geq 19</math>.  Since we want to minimize <math>n</math>, we take <math>n = 19</math>.  Then for any positive value of <math>r</math>, <math>3n^2 + 3nr + r^2 > 3\\cdot 19^2 > 1000</math>, so it is possible for <math>r</math> to be less than <math>\\frac{1}{1000}</math>.  However, we still have to make sure a sufficiently small <math>r</math> exists.  \n\nIn light of the equation <math>m - n^3 = r(3n^2 + 3nr + r^2)</math>, we need to choose <math>m - n^3</math> as small as possible to ensure a small enough <math>r</math>.  The smallest possible value for <math>m - n^3</math> is 1, when <math>m = 19^3 + 1</math>.  Then for this value of <math>m</math>, <math>r = \\frac{1}{3n^2 + 3nr + r^2} < \\frac{1}{1000}</math>, and we're set.  The answer is  <math>\\boxed{019}</math>."
  },
  {
    "year": 1987,
    "variant": "I",
    "problem_number": 13,
    "latex": "A given [[sequence]] <math>r_1, r_2, \\dots, r_n</math> of [[distinct]] [[real number]]s can be put in [[ascending]] order by means of one or more \"bubble passes\".  A bubble pass through a given sequence consists of comparing the second term with the first term, and exchanging them if and only if the second term is smaller, then comparing the third term with the second term and exchanging them if and only if the third term is smaller, and so on in order, through comparing the last term, <math>r_n</math>, with its current predecessor and exchanging them if and only if the last term is smaller. \n\nThe example below shows how the sequence 1, 9, 8, 7 is transformed into the sequence 1, 8, 7, 9 by one bubble pass.  The numbers compared at each step are underlined.\n<center><math>\\underline{1 \\quad 9} \\quad 8 \\quad 7</math></center>\n<center><math>1 \\quad {}\\underline{9 \\quad 8} \\quad 7</math></center>\n<center><math>1 \\quad 8 \\quad \\underline{9 \\quad 7}</math></center>\n<center><math>1 \\quad 8 \\quad 7 \\quad 9</math></center>\nSuppose that <math>n = 40</math>, and that the terms of the initial sequence <math>r_1, r_2, \\dots, r_{40}</math> are distinct from one another and are in random order.  Let <math>p/q</math>, in lowest terms, be the [[probability]] that the number that begins as <math>r_{20}</math> will end up, after one bubble pass, in the <math>30^{\\mbox{th}}</math> place.  Find <math>p + q</math>.",
    "solution": "If any of <math>r_1, \\ldots, r_{19}</math> is larger than <math>r_{20}</math>, one of these numbers will be compared with <math>r_{20}</math> on the 19th step of the first bubble pass and <math>r_{20}</math> will be moved back to the 19th position.  Thus, <math>r_{20}</math> must be the largest of the first 20 terms.  In addition, <math>r_{20}</math> must be larger than <math>r_{21}, r_{22}, \\ldots, r_{30}</math> but smaller than <math>r_{31}</math> in order that it move right to the 30th position but then not continue moving right to the 31st.\n\nThus, our problem can be restated: What is the probability that in a sequence of 31 distinct real numbers, the largest is in position 31 and the second-largest is in position 20 (the other 29 numbers are irrelevant)?\n\nThis is much easier to solve: there are <math>31!</math> ways to order the first thirty-one numbers and <math>29!</math> ways to arrange them so that the largest number is in the 31st position and the second-largest is in the 20th. This gives us a desired probability of <math>\\frac{29!}{31!} = \\frac{1}{31\\cdot 30} = \\frac{1}{930}</math>, so the answer is <math>\\boxed{931}</math>.\n\n===Remark===\nNote that you can solve the restated problem differently: \n\nWe see that the numerator is <math>1</math> because there is only <math>1</math> way to make the <math>31^{\\text{st}}</math> term the largest and the <math>20^{\\text{th}}</math> the second-largest. To calculate the denominator, we note that there are <math>31\\times30</math> ways to pick the largest term and the second-largest term. Therefore, our answer is <math>\\boxed{931}</math>.\n~Yiyj1"
  },
  {
    "year": 1987,
    "variant": "I",
    "problem_number": 14,
    "latex": "Compute\n<cmath>\\frac{(10^4+324)(22^4+324)(34^4+324)(46^4+324)(58^4+324)}{(4^4+324)(16^4+324)(28^4+324)(40^4+324)(52^4+324)}.</cmath>",
    "solution": "The [[Sophie Germain Identity]] states that <math>a^4 + 4b^4</math> can be factored as <math>\\left(a^2 + 2b^2 - 2ab\\right)\\left(a^2 + 2b^2 + 2ab\\right).</math> Each of the terms is in the form of <math>x^4 + 324.</math> Using Sophie Germain, we get that\n<cmath>\\begin{align*}\nx^4 + 324 &= x^4 + 4\\cdot 3^4 \\\\\n&= \\left(x^2 + 2 \\cdot 3^2 - 2\\cdot 3\\cdot x\\right)\\left(x^2 + 2 \\cdot 3^2 + 2\\cdot 3\\cdot x\\right) \\\\\n&= (x(x-6) + 18)(x(x+6)+18),\n\\end{align*}</cmath>\nso the original expression becomes\n<cmath>\\frac{[(10(10-6)+18)(10(10+6)+18)][(22(22-6)+18)(22(22+6)+18)]\\cdots[(58(58-6)+18)(58(58+6)+18)]}{[(4(4-6)+18)(4(4+6)+18)][(16(16-6)+18)(16(16+6)+18)]\\cdots[(52(52-6)+18)(52(52+6)+18)]},</cmath> which simplifies to <cmath>\\frac{(10(4)+18)(10(16)+18)(22(16)+18)(22(28)+18)\\cdots(58(52)+18)(58(64)+18)}{(4(-2)+18)(4(10)+18)(16(10)+18)(16(22)+18)\\cdots(52(46)+18)(52(58)+18)}.</cmath>\nAlmost all of the terms cancel out! We are left with <math>\\frac{58(64)+18}{4(-2)+18} = \\frac{3730}{10} = \\boxed{373}.</math>\n\n~Azjps (Solution)\n\n~MRENTHUSIASM (Minor Reformatting)"
  },
  {
    "year": 1987,
    "variant": "I",
    "problem_number": 15,
    "latex": "Squares <math>S_1</math> and <math>S_2</math> are [[inscribe]]d in [[right triangle]] <math>ABC</math>, as shown in the figures below. Find <math>AC + CB</math> if area <math>(S_1) = 441</math> and area <math>(S_2) = 440</math>.\n\n[[Image:AIME_1987_Problem_15.png]]",
    "solution": "[[Image:1987 AIME-15a.png|360px]]\n\nBecause all the [[triangle]]s in the figure are [[similar]] to triangle <math>ABC</math>, it's a good idea to use [[area ratios]]. In the diagram above, <math>\\frac {T_1}{T_3} = \\frac {T_2}{T_4} = \\frac {441}{440}.</math> Hence, <math>T_3 = \\frac {440}{441}T_1</math> and <math>T_4 = \\frac {440}{441}T_2</math>. Additionally, the area of triangle <math>ABC</math> is equal to both <math>T_1 + T_2 + 441</math> and <math>T_3 + T_4 + T_5 + 440.</math> \n\nSetting the equations equal and solving for <math>T_5</math>, <math>T_5 = 1 + T_1 - T_3 + T_2 - T_4 = 1 + \\frac {T_1}{441} + \\frac {T_2}{441}</math>. Therefore, <math>441T_5 = 441 + T_1 + T_2</math>. However, <math>441 + T_1 + T_2</math> is equal to the area of triangle <math>ABC</math>! This means that the ratio between the areas <math>T_5</math> and <math>ABC</math> is <math>441</math>, and the ratio between the sides is <math>\\sqrt {441} = 21</math>. As a result, <math>AB = 21\\sqrt {440} = \\sqrt {AC^2 + BC^2}</math>. We now need <math>(AC)(BC)</math> to find the value of <math>AC + BC</math>, because <math>AC^2 + BC^2 + 2(AC)(BC) = (AC + BC)^2</math>.\n\nLet <math>h</math> denote the height to the [[hypotenuse]] of triangle <math>ABC</math>. Notice that <math>h - \\frac {1}{21}h = \\sqrt {440}</math>. (The height of <math>ABC</math> decreased by the corresponding height of <math>T_5</math>) Thus, <math>(AB)(h) = (AC)(BC) = 22\\cdot 21^2</math>. Because <math>AC^2 + BC^2 +  2(AC)(BC) = (AC + BC)^2 = 21^2\\cdot22^2</math>, <math>AC + BC = (21)(22) = \\boxed{462}</math>."
  },
  {
    "year": 1988,
    "variant": "I",
    "problem_number": 1,
    "latex": "One commercially available ten-button lock may be opened by pressing -- in any order -- the correct five buttons. The sample shown below has <math>\\{1,2,3,6,9\\}</math> as its [[combination]]. Suppose that these locks are redesigned so that sets of as many as nine buttons or as few as one button could serve as combinations. How many additional combinations would this allow?\n\n[[Image:1988-1.png]]",
    "solution": "Currently there are <math>{10 \\choose 5}</math> possible combinations.\nWith any integer <math>x</math> from <math>1</math> to <math>9</math>, the number of ways to choose a set of <math>x</math> buttons is <math>\\sum^{9}_{k=1}{10 \\choose k}</math>.\nNow we can use the identity <math>\\sum^{n}_{k=0}{n \\choose k}=2^{n}</math>.\nSo the number of additional combinations is just\n<math>2^{10}-{10\\choose 0}-{10\\choose 10}-{10 \\choose 5}=1024-1-1-252=\\boxed{770}</math>.\n\n\nNote: A simpler way of thinking to get <math>2^{10}</math> is thinking that each button has two choices, to be black or\n \nto be white."
  },
  {
    "year": 1988,
    "variant": "I",
    "problem_number": 2,
    "latex": "For any positive integer <math>k</math>, let <math>f_1(k)</math> denote the square of the sum of the digits of <math>k</math>.  For <math>n \\ge 2</math>, let <math>f_n(k) = f_1(f_{n - 1}(k))</math>.  Find <math>f_{1988}(11)</math>.",
    "solution": "We see that <math>f_{1}(11)=4</math>\n\n<math>f_2(11) = f_1(4)=16</math>\n\n<math>f_3(11) = f_1(16)=49</math>\n\n<math>f_4(11) = f_1(49)=169</math>\n\n<math>f_5(11) = f_1(169)=256</math>\n\n<math>f_6(11) = f_1(256)=169</math>\n\nNote that this revolves between the two numbers. Since <math>1988</math> is even, we thus have <math>f_{1988}(11) = f_{4}(11) = \\boxed{169}</math>."
  },
  {
    "year": 1988,
    "variant": "I",
    "problem_number": 3,
    "latex": "Find <math>(\\log_2 x)^2</math> if <math>\\log_2 (\\log_8 x) = \\log_8 (\\log_2 x)</math>.",
    "solution": "Raise both as [[exponent]]s with base 8:\n\n<cmath>\n\\begin{align*}\n8^{\\log_2 (\\log_8 x)} &= 8^{\\log_8 (\\log_2 x)}\\\\\n2^{3 \\log_2(\\log_8x)} &= \\log_2x\\\\\n(\\log_8x)^3 &= \\log_2x\\\\\n\\left(\\frac{\\log_2x}{\\log_28}\\right)^3 &= \\log_2x\\\\\n(\\log_2x)^2 &= (\\log_28)^3 = \\boxed{027}\\\\\n\\end{align*}\n</cmath>\n\n----\n\nA quick explanation of the steps: On the 1st step, we use the property of [[logarithm]]s that <math>a^{\\log_a x} = x</math>. On the 2nd step, we use the fact that <math>k \\log_a x = \\log_a x^k</math>. On the 3rd step, we use the [[change of base formula]], which states <math>\\log_a b = \\frac{\\log_k b}{\\log_k a}</math> for arbitrary <math>k</math>."
  },
  {
    "year": 1988,
    "variant": "I",
    "problem_number": 4,
    "latex": "Suppose that <math>|x_i| < 1</math> for <math>i = 1, 2, \\dots, n</math>.  Suppose further that\n<math>\n|x_1| + |x_2| + \\dots + |x_n| = 19 + |x_1 + x_2 + \\dots + x_n|.\n</math>\nWhat is the smallest possible value of <math>n</math>?",
    "solution": "Since <math>|x_i| < 1</math> then\n\n<cmath>|x_1| + |x_2| + \\dots + |x_n| = 19 + |x_1 + x_2 + \\dots + x_n| < n.</cmath>\n\nSo <math>n \\ge 20</math>. We now just need to find an example where <math>n = 20</math>: suppose <math>x_{2k-1} = \\frac{19}{20}</math> and <math>x_{2k} = -\\frac{19}{20}</math>; then on the left hand side we have <math>\\left|\\frac{19}{20}\\right| + \\left|-\\frac{19}{20}\\right| + \\dots + \\left|-\\frac{19}{20}\\right| = 20\\left(\\frac{19}{20}\\right) = 19</math>. On the right hand side, we have <math>19 + \\left|\\frac{19}{20} - \\frac{19}{20} + \\dots - \\frac{19}{20}\\right| = 19 + 0 = 19</math>, and so the equation can hold for <math>n = \\boxed{020}</math>."
  },
  {
    "year": 1988,
    "variant": "I",
    "problem_number": 5,
    "latex": "Let <math>m/n</math>, in lowest terms, be the [[probability]] that a randomly chosen positive [[divisor]] of <math>10^{99}</math> is an integer multiple of <math>10^{88}</math>.  Find <math>m + n</math>.",
    "solution": "<math>10^{99} = 2^{99}5^{99}</math>, so it has <math>(99 + 1)(99 + 1) = 10000</math> factors. Out of these, we only want those factors of <math>10^{99}</math> which are divisible by <math>10^{88}</math>; it is easy to draw a [[bijection]] to the number of factors that <math>10^{11} = 2^{11}5^{11}</math> has, which is <math>(11 + 1)(11 + 1) = 144</math>. Our probability is <math>\\frac{m}{n} = \\frac{144}{10000} = \\frac{9}{625}</math>, and <math>m + n = \\boxed{634}</math>."
  },
  {
    "year": 1988,
    "variant": "I",
    "problem_number": 6,
    "latex": "It is possible to place positive integers into the vacant twenty-one squares of the <math>5 \\times 5</math> square shown below so that the numbers in each row and column form arithmetic sequences.  Find the number that must occupy the vacant square marked by the asterisk (*).\n\n[[Image:1988_AIME-6.png]]",
    "solution": "=== Solution 1 (specific) ===\nLet the coordinates of the square at the bottom left be <math>(0,0)</math>, the square to the right <math>(1,0)</math>, etc.\n\nLabel the leftmost column (from bottom to top) <math>0, a, 2a, 3a, 4a</math> and the bottom-most row (from left to right) <math>0, b, 2b, 3b, 4b</math>. Our method will be to use the given numbers to set up equations to solve for <math>a</math> and <math>b</math>, and then calculate <math>(*)</math>.\n\n<math>\\begin{tabular}[b]{|c|c|c|c|c|}\\hline 4a & & & * & \\\\\n\\hline 3a & 74 & & & \\\\\n\\hline 2a & & & & 186 \\\\\n\\hline a & & 103 & & \\\\\n\\hline 0 & b & 2b & 3b & 4b \\\\\n\\hline \\end{tabular}</math>\n\nWe can compute the squares at the intersections of two existing numbers in terms of <math>a</math> and <math>b</math>; two such equations will give us the values of <math>a</math> and <math>b</math>. On the fourth row from the bottom, the common difference is <math>74 - 3a</math>, so the square at <math>(2,3)</math> has a value of <math>148 - 3a</math>. On the third column from the left, the common difference is <math>103 - 2b</math>, so that square also has a value of <math>2b + 3(103 - 2b) = 309 - 4b</math>. Equating, we get <math>148 - 3a = 309 - 4b \\Longrightarrow 4b - 3a = 161</math>.\n\nNow we compute the square <math>(2,2)</math>. By rows, this value is simply the average of <math>2a</math> and <math>186</math>, so it is equal to <math>\\frac{2a + 186}{2} = a + 93</math>. By columns, the common difference is <math>103 - 2b</math>, so our value is <math>206 - 2b</math>. Equating, <math>a + 93 = 206 - 2b \\Longrightarrow a + 2b = 113</math>.\n\nSolving \n<cmath>\n\\begin{align*}4b - 3a &= 161\\\\\na + 2b &= 113\n\\end{align*}\n</cmath>\n\ngives <math>a = 13</math>, <math>b = 50</math>. Now it is simple to calculate <math>(4,3)</math>. One way to do it is to see that <math>(2,2)</math> has <math>206 - 2b = 106</math> and <math>(4,2)</math> has <math>186</math>, so <math>(3,2)</math> has <math>\\frac{106 + 186}{2} = 146</math>. Now, <math>(3,0)</math> has <math>3b = 150</math>, so <math>(3,2) = \\frac{(3,0) + (3,4)}{2} \\Longrightarrow (3,4) = * = \\boxed{142}</math>.\n\n=== Solution 2 (general) ===\nFirst, let <math>a =</math> the number to be placed in the first column, fourth row.  Let <math>b =</math> the number to be placed in the second column, fifth row.  We can determine the entire first column and fifth row in terms of <math>a</math> and <math>b</math>:\n\n<math>\\begin{tabular}[b]{|c|c|c|c|c|}\\hline 4a & & & & \\\\\n\\hline 3a & & & & \\\\\n\\hline 2a & & & & \\\\\n\\hline a & & & & \\\\\n\\hline 0 & b & 2b & 3b & 4b \\\\\n\\hline \\end{tabular}</math>\n\nNext, let <math>a + b + c =</math> the number to be placed in the second column, fourth row.  We can determine the entire second column and fourth row in terms of <math>a</math>, <math>b</math>, and <math>c</math>:\n\n<math>\\begin{tabular}[b]{|c|c|c|c|c|}\\hline 4a & 4a + b + 4c & & & \\\\\n\\hline 3a & 3a + b + 3c & & & \\\\\n\\hline 2a & 2a + b + 2c & & & \\\\\n\\hline a & a + b + c & a + 2b + 2c & a + 3b + 3c & a + 4b + 4c \\\\\n\\hline 0 & b & 2b & 3b & 4b \\\\\n\\hline \\end{tabular}</math>\n\nWe have now determined at least two values in each row and column.  We can finish the table without introducing any more variables:\n\n<math>\\begin{tabular}[b]{|c|c|c|c|c|}\\hline 4a & 4a + b + 4c & 4a + 2b + 8c & 4a + 3b + 12c & 4a + 4b + 16c \\\\\n\\hline 3a & 3a + b + 3c & 3a + 2b + 6c & 3a + 3b + 9c & 3a + 4b + 12c \\\\\n\\hline 2a & 2a + b + 2c & 2a + 2b + 4c & 2a + 3b + 6c & 2a + 4b + 8c \\\\\n\\hline a & a + b + c & a + 2b + 2c & a + 3b + 3c & a + 4b + 4c \\\\\n\\hline 0 & b & 2b & 3b & 4b \\\\\n\\hline \\end{tabular}</math>\n\nWe now have a system of equations.\n\n<div style=\"text-align:center;\"><math>3a + b + 3c = 74</math><br />\n<math>2a + 4b + 8c = 186</math><br />\n<math>a + 2b + 2c = 103</math></div>\n\nSolving, we find that <math>(a,b,c) = (13,50, - 5)</math>.  The number in the square marked by the asterisk is <math>4a + 3b + 12c = \\boxed{142}</math>"
  },
  {
    "year": 1988,
    "variant": "I",
    "problem_number": 7,
    "latex": "In [[triangle]] <math>ABC</math>, <math>\\tan \\angle CAB = 22/7</math>, and the [[altitude]] from <math>A</math> divides <math>BC</math> into [[segment]]s of length 3 and 17.  What is the area of triangle <math>ABC</math>?",
    "solution": "<center>[[Image:AIME_1988_Solution_07.png]]</center>\n\nCall <math>\\angle BAD</math> <math>\\alpha</math> and <math>\\angle CAD</math> <math>\\beta</math>. So, <math>\\tan \\alpha = \\frac {17}{h}</math> and <math>\\tan \\beta = \\frac {3}{h}</math>. Using the tangent addition formula <math>\\tan (\\alpha + \\beta) = \\dfrac {\\tan \\alpha + \\tan \\beta}{1 - \\tan \\alpha \\cdot \\tan \\beta}</math>, we get <math>\\tan (\\alpha + \\beta) = \\dfrac {\\frac {20}{h}}{\\frac {h^2 - 51}{h^2}} = \\frac {22}{7}</math>. \n\nSimplifying, we get <math>\\frac {20h}{h^2 - 51} = \\frac {22}{7}</math>. Cross-multiplying and simplifying, we get <math>11h^2-70h-561 = 0</math>. Factoring, we get <math>(11h+51)(h-11) = 0</math>, so we take the positive positive solution, which is <math>h = 11</math>. Therefore, the answer is <math>\\frac {20 \\cdot 11}{2} = 110</math>, so the answer is <math>\\boxed {110}</math>.\n\n~Arcticturn"
  },
  {
    "year": 1988,
    "variant": "I",
    "problem_number": 8,
    "latex": "The function <math>f</math>, defined on the set of ordered pairs of positive integers, satisfies the following properties:\n<cmath> f(x, x) = x,\\; f(x, y) = f(y, x), {\\rm \\ and\\ } (x+y)f(x, y) = yf(x, x+y). </cmath>\nCalculate <math>f(14,52)</math>.",
    "solution": "Let <math>z = x+y</math>. By the substitution <math>z=x+y,</math> we rewrite the third property in terms of <math>x</math> and <math>z,</math> then solve for <math>f(x,z):</math>\n<cmath>\\begin{align*}\nzf(x,z-x) &= (z-x)f(x,z) \\\\\nf(x,z) &= \\frac{z}{z-x} \\cdot f(x,z-x).\n\\end{align*}</cmath>\nUsing the properties of <math>f,</math> we have\n<cmath>\\begin{align*}\nf(14,52) &= \\frac{52}{38} \\cdot f(14,38) \\\\\n&= \\frac{52}{38} \\cdot \\frac{38}{24} \\cdot f(14,24) \\\\\n&= \\frac{52}{38} \\cdot \\frac{38}{24} \\cdot \\frac{24}{10} \\cdot f(14,10)\\\\\n&= \\frac{52}{38} \\cdot \\frac{38}{24} \\cdot \\frac{24}{10} \\cdot f(10,14)\\\\\n&= \\frac{52}{38} \\cdot \\frac{38}{24} \\cdot \\frac{24}{10} \\cdot \\frac{14}{4} \\cdot f(10,4)\\\\\n&= \\frac{52}{38} \\cdot \\frac{38}{24} \\cdot \\frac{24}{10} \\cdot \\frac{14}{4} \\cdot f(4,10)\\\\\n&= \\frac{52}{38} \\cdot \\frac{38}{24} \\cdot \\frac{24}{10} \\cdot \\frac{14}{4} \\cdot \\frac{10}{6} \\cdot f(4,6)\\\\\n&= \\frac{52}{38} \\cdot \\frac{38}{24} \\cdot \\frac{24}{10} \\cdot \\frac{14}{4} \\cdot \\frac{10}{6} \\cdot \\frac{6}{2} \\cdot f(4,2)\\\\\n&= \\frac{52}{38} \\cdot \\frac{38}{24} \\cdot \\frac{24}{10} \\cdot \\frac{14}{4} \\cdot \\frac{10}{6} \\cdot \\frac{6}{2} \\cdot f(2,4)\\\\\n&= \\frac{52}{38} \\cdot \\frac{38}{24} \\cdot \\frac{24}{10} \\cdot \\frac{14}{4} \\cdot \\frac{10}{6} \\cdot \\frac{6}{2} \\cdot \\frac{4}{2} \\cdot f(2,2)\\\\\n&= \\frac{52}{38} \\cdot \\frac{38}{24} \\cdot \\frac{24}{10} \\cdot \\frac{14}{4} \\cdot \\frac{10}{6} \\cdot \\frac{6}{2} \\cdot \\frac{4}{2} \\cdot 2\\\\\n&=\\boxed{364}.\n\\end{align*}</cmath>\n~MRENTHUSIASM (credit given to AoPS)"
  },
  {
    "year": 1988,
    "variant": "I",
    "problem_number": 9,
    "latex": "Find the smallest positive integer whose [[perfect cube|cube]] ends in <math>888</math>.",
    "solution": "A little bit of checking tells us that the units digit must be 2. Now our cube must be in the form of <math>(10k + 2)^3</math>; using the [[binomial theorem]] gives us <math>1000k^3 + 600k^2 + 120k + 8</math>. Since we are looking for the tens digit, <math>\\mod{100}</math> we get <math>20k + 8 \\equiv 88 \\pmod{100}</math>. This is true if the tens digit is either <math>4</math> or <math>9</math>. Casework:\n*<math>4</math>: Then our cube must be in the form of <math>(100k + 42)^3 \\equiv 3(100k)(42)^2 + 42^3 \\equiv 200k + 88 \\pmod{1000}</math>. Hence the lowest possible value for the hundreds digit is <math>4</math>, and so <math>442</math> is a valid solution. \n*<math>9</math>: Then our cube is <math>(100k + 92)^3 \\equiv 3(100k)(92)^2 + 92^3 \\equiv 200k + 688 \\pmod{1000}</math>. The lowest possible value for the hundreds digit is <math>1</math>, and we get <math>192</math>. Hence, since <math>192 < 442</math>, the answer is <math>\\fbox{192}</math>"
  },
  {
    "year": 1988,
    "variant": "I",
    "problem_number": 10,
    "latex": "A [[convex]] [[polyhedron]] has for its [[face]]s 12 [[square]]s, 8 [[regular polygon|regular]] [[hexagon]]s, and 6 regular [[octagon]]s. At each [[vertex]] of the polyhedron one square, one hexagon, and one octagon meet. How many [[segment]]s joining vertices of the polyhedron lie in the interior of the polyhedron rather than along an [[edge]] or a [[face]]?",
    "solution": "The polyhedron described looks like this, a truncated cuboctahedron.\n[[Image:Truncatedcuboctahedron.jpg|thumb|center|200px|]]\n\nThe number of segments joining the vertices of the polyhedron is <math>{48\\choose2} = 1128</math>. We must now subtract out those segments that lie along an edge or a face.\n\nSince every vertex of the polyhedron lies on exactly one vertex of a square/hexagon/octagon, we have that <math>V = 12 \\cdot 4 = 8 \\cdot 6 = 6 \\cdot 8 = 48</math>.\n\nEach vertex is formed by the intersection of 3 edges. Since every edge is counted twice, once at each of its endpoints, the number of edges <math>E</math> is <math>\\frac{3}{2}V = 72</math>.\n\nEach of the segments lying on a face of the polyhedron must be a diagonal of that face. Each square contributes <math>\\frac{n(n-3)}{2} = 2</math> diagonals, each hexagon <math>9</math>, and each octagon <math>20</math>. The number of diagonals is thus <math>2 \\cdot 12 + 9 \\cdot 8 + 20 \\cdot 6 = 216</math>.\n\nSubtracting, we get that the number of space diagonals is <math>1128 - 72 - 216 = \\boxed{840}</math>."
  },
  {
    "year": 1988,
    "variant": "I",
    "problem_number": 11,
    "latex": "Let <math>w_1, w_2, \\dots, w_n</math> be [[complex number]]s.  A line <math>L</math> in the [[complex plane]] is called a mean [[line]] for the [[point]]s <math>w_1, w_2, \\dots, w_n</math> if <math>L</math> contains points (complex numbers) <math>z_1, z_2, \\dots, z_n</math> such that\n<cmath>\n\\sum_{k = 1}^n (z_k - w_k) = 0.\n</cmath>\nFor the numbers <math>w_1 = 32 + 170i</math>, <math>w_2 = - 7 + 64i</math>, <math>w_3 = - 9 + 200i</math>, <math>w_4 = 1 + 27i</math>, and <math>w_5 = - 14 + 43i</math>, there is a unique mean line with <math>y</math>-intercept 3.  Find the [[slope]] of this mean line.",
    "solution": "===Solution 1===\n<math>\\sum_{k=1}^5 z_k - \\sum_{k=1}^5 w_k = 0</math>\n\n<math>\\sum_{k=1}^5 z_k = 3 + 504i</math>\n\nEach <math>z_k = x_k + y_ki</math> lies on the complex line <math>y = mx + 3</math>, so we can rewrite this as \n\n<math>\\sum_{k=1}^5 z_k = \\sum_{k=1}^5 x_k + \\sum_{k=1}^5 y_ki</math>\n\n<math>3 + 504i = \\sum_{k=1}^5 x_k + i \\sum_{k=1}^5 (mx_k + 3)</math>\n\nMatching the real parts and the imaginary parts, we get that <math>\\sum_{k=1}^5 x_k = 3</math> and <math>\\sum_{k=1}^5 (mx_k + 3) = 504</math>. Simplifying the second summation, we find that <math>m\\sum_{k=1}^5 x_k = 504 - 3 \\cdot 5 = 489</math>, and substituting, the answer is <math>m \\cdot 3 = 489 \\Longrightarrow m = 163</math>.\n\n===Solution 2===\nWe know that \n\n<math>\\sum_{k=1}^5 w_k = 3 + 504i</math>\n\nAnd because the sum of the 5 <math>z</math>'s must cancel this out,\n\n<math>\\sum_{k=1}^5 z_k = 3 + 504i</math>\n\nWe write the numbers in the form <math>a + bi</math> and we know that \n\n<math>\\sum_{k=1}^5 a_k = 3</math> and <math>\\sum_{k=1}^5 b_k = 504</math>\n\nThe line is of equation <math>y=mx+3</math>. Substituting in the polar coordinates, we have <math>b_k = ma_k + 3</math>.\n\nSumming all 5 of the equations given for each <math>k</math>, we get \n\n<math>504 =  3m + 15</math>\n\nSolving for <math>m</math>, the slope, we get <math>\\boxed{163}</math>\n\n===Solution 3===\n\nThe mean line for <math>w_1, . . ., w_5</math> must pass through the mean (the center of mass) of these points, which, if we graph them on the complex plane, is <math>(\\frac{3}{5}, \\frac{504i}{5})</math>. Since we now have two points, namely that one and <math>(0, 3i)</math>, we can simply find the slope between them, which is <math>\\boxed{163}</math> by the good ol' slope formula."
  },
  {
    "year": 1988,
    "variant": "I",
    "problem_number": 12,
    "latex": "Let <math>P</math> be an interior point of triangle <math>ABC</math> and extend lines from the vertices through <math>P</math> to the opposite sides.  Let <math>a</math>, <math>b</math>, <math>c</math>, and <math>d</math> denote the lengths of the segments indicated in the figure.  Find the product <math>abc</math> if <math>a + b + c = 43</math> and <math>d = 3</math>.\n\n[[Image:1988_AIME-12.png]]",
    "solution": "Call the [[cevian]]s AD, BE, and CF. Using area ratios (<math>\\triangle PBC</math> and <math>\\triangle ABC</math> have the same base), we have: \n\n<math>\\frac {d}{a + d} = \\frac {[PBC]}{[ABC]}</math>\n\nSimilarily, <math>\\frac {d}{b + d} = \\frac {[PCA]}{[ABC]}</math> and <math>\\frac {d}{c + d} = \\frac {[PAB]}{[ABC]}</math>.\n\nThen,\n<math>\\frac {d}{a + d} + \\frac {d}{b + d} + \\frac {d}{c + d} = \\frac {[PBC]}{[ABC]} + \\frac {[PCA]}{[ABC]} + \\frac {[PAB]}{[ABC]} = \\frac {[ABC]}{[ABC]} = 1</math>\n\nThe [[identity]] <math>\\frac {d}{a + d} + \\frac {d}{b + d} + \\frac {d}{c + d} = 1</math> is a form of [[Ceva's Theorem]]. \n\nPlugging in <math>d = 3</math>, we get \n\n<cmath>\\frac{3}{a + 3} + \\frac{3}{b + 3} + \\frac{3}{c+3} = 1</cmath>\n<cmath>3[(a + 3)(b + 3) + (b + 3)(c + 3) + (c + 3)(a + 3)] = (a+3)(b+3)(c+3)</cmath>\n<cmath>3(ab + bc + ca) + 18(a + b + c) + 81 = abc + 3(ab + bc + ca) + 9(a + b + c) + 27</cmath>\n<cmath>9(a + b + c) + 54 = abc=\\boxed{441}</cmath>"
  },
  {
    "year": 1988,
    "variant": "I",
    "problem_number": 13,
    "latex": "Find <math>a</math> if <math>a</math> and <math>b</math> are integers such that <math>x^2 - x - 1</math> is a factor of <math>ax^{17} + bx^{16} + 1</math>.",
    "solution": "Let <math>F_n</math> represent the <math>n</math>th number in the Fibonacci sequence. Therefore,\n<cmath>\\begin{align*}\nx^2 - x - 1 = 0&\\Longrightarrow x^n = F_n(x), \\ n\\in N \\\\\n&\\Longrightarrow x^{n + 2} = F_{n + 1}\\cdot x + F_n,\\ n\\in N.\n\\end{align*}</cmath>\nThe above uses the similarity between the Fibonacci recursion|recursive definition, <math>F_{n+2} - F_{n+1} - F_n = 0</math>, and the polynomial <math>x^2 - x - 1 = 0</math>. \n<cmath>\\begin{align*}\n0 = ax^{17} + bx^{16} + 1 = a(F_{17}\\cdot x + F_{16}) + b(F_{16}\\cdot x + F_{15}) + 1 &\\Longrightarrow (aF_{17} + bF_{16})\\cdot x + (aF_{16} + bF_{15} + 1) = 0,\\ x\\not\\in Q \\\\\n&\\Longrightarrow aF_{17} + bF_{16} = 0 \\text{ and } aF_{16} + bF_{15} + 1 = 0 \\\\\n&\\Longrightarrow a = F_{16},\\ b = - F_{17} \\\\\n&\\Longrightarrow a = \\boxed {987}.\n\\end{align*}</cmath>"
  },
  {
    "year": 1988,
    "variant": "I",
    "problem_number": 14,
    "latex": "Let <math>C</math> be the [[graph]] of <math>xy = 1</math>, and denote by <math>C^*</math> the [[reflection]] of <math>C</math> in the line <math>y = 2x</math>.  Let the [[equation]] of <math>C^*</math> be written in the form\n\n<cmath>12x^2 + bxy + cy^2 + d = 0.</cmath>\n\nFind the product <math>bc</math>.",
    "solution": "Given a point <math>P (x,y)</math> on <math>C</math>, we look to find a formula for <math>P' (x', y')</math> on <math>C^*</math>. Both points lie on a line that is [[perpendicular]] to <math>y=2x</math>, so the slope of <math>\\overline{PP'}</math> is <math>\\frac{-1}{2}</math>. Thus <math>\\frac{y' - y}{x' - x} = \\frac{-1}{2} \\Longrightarrow x' + 2y' = x + 2y</math>. Also, the midpoint of <math>\\overline{PP'}</math>, <math>\\left(\\frac{x + x'}{2}, \\frac{y + y'}{2}\\right)</math>, lies on the line <math>y = 2x</math>. Therefore <math>\\frac{y + y'}{2} = x + x' \\Longrightarrow 2x' - y' = y - 2x</math>.\n\nSolving these two equations, we find <math>x = \\frac{-3x' + 4y'}{5}</math> and <math>y = \\frac{4x' + 3y'}{5}</math>. Substituting these points into the equation of <math>C</math>, we get <math>\\frac{(-3x'+4y')(4x'+3y')}{25}=1</math>, which when expanded becomes <math>12x'^2-7x'y'-12y'^2+25=0</math>.\n\nThus, <math>bc=(-7)(-12)=\\boxed{084}</math>."
  },
  {
    "year": 1988,
    "variant": "I",
    "problem_number": 15,
    "latex": "In an office at various times during the day, the boss gives the secretary a letter to type, each time putting the letter on top of the pile in the secretary's inbox. When there is time, the secretary takes the top letter off the pile and types it. There are nine letters to be typed during the day, and the boss delivers them in the order <math>1, 2, 3, 4, 5, 6, 7, 8, 9</math>.\n\nWhile leaving for lunch, the secretary tells a colleague that letter <math>8</math> has already been typed but says nothing else about the morning's typing. The colleague wonders which of the nine letters remain to be typed after lunch and in what order they will be typed. Based on the above information, how many such after-lunch typing orders are possible? (That there are no letters left to be typed is one of the possibilities.)",
    "solution": "Re-stating the problem for clarity, let <math>S</math> be a [[set]] arranged in increasing order. At any time an element can be appended to the end of <math>S</math>, or the last element of <math>S</math> can be removed. The question asks for the number of different orders in which all of the remaining elements of <math>S</math> can be removed, given that <math>8</math> had been removed already.  \n----\n\nSince <math>8</math> had already been added to the pile, the numbers <math>1 \\ldots 7</math> had already been added at some time to the pile; <math>9</math> might or might not have been added yet. So currently <math>S</math> is a subset of <math>\\{1, 2, \\ldots 7\\}</math>, possibly with <math>9</math> at the end. Given that <math>S</math> has <math>k</math> elements, there are <math>k+1</math> intervals for <math>9</math> to be inserted, or <math>9</math> might have already been placed, giving <math>k+2</math> different possibilities.\n\nThus, the answer is <math>\\sum_{k=0}^{7} {7 \\choose k}(k+2)</math> <math>= 1 \\cdot 2 + 7 \\cdot 3 + 21 \\cdot 4 + 35 \\cdot 5 + 35 \\cdot 6 + 21 \\cdot 7 + 7 \\cdot 8 + 1 \\cdot 9</math> <math>= \\boxed{704}</math>.\n\n=== A way to compute this quickly (by AlexLikeMath) ===\n<math>1 \\cdot 2 + 7 \\cdot 3 + 21 \\cdot 4 + 35 \\cdot 5 + 35 \\cdot 6 + 21 \\cdot 7 + 7 \\cdot 8 + 1 \\cdot 9 </math> <math>=1 \\cdot (2+9) + 7 \\cdot (3+8) + 21 \\cdot (4+7) + 35 \\cdot (5+6) = 64 \\cdot 11 = \\boxed{704}</math>"
  },
  {
    "year": 1989,
    "variant": "I",
    "problem_number": 1,
    "latex": "Compute <math>\\sqrt{(31)(30)(29)(28)+1}</math>.",
    "solution": "Note that the four numbers to multiply are symmetric with the center at <math>29.5</math>. \nMultiply the symmetric pairs to get <math>31\\cdot 28=868</math> and <math>30\\cdot 29=870</math>.\n<math>\\sqrt{868\\cdot 870 + 1} = \\sqrt{(869-1)(869+1) + 1} = \\sqrt{869^2 - 1^2 + 1} = \\sqrt{869^2} = \\boxed{869}</math>."
  },
  {
    "year": 1989,
    "variant": "I",
    "problem_number": 2,
    "latex": "Ten [[point]]s are marked on a [[circle]]. How many distinct [[convex polygon]]s of three or more sides can be drawn using some (or all) of the ten points as [[vertex | vertices]]?",
    "solution": "Any [[subset]] of the ten points with three or more members can be made into exactly one such polygon.  Thus, we need to count the number of such subsets.  There are <math>2^{10} = 1024</math> total subsets of a ten-member [[set]], but of these <math>{10 \\choose 0} = 1</math> have 0 members, <math>{10 \\choose 1} = 10</math> have 1 member and <math>{10 \\choose 2} = 45</math> have 2 members.  Thus the answer is <math>1024 - 1 - 10 - 45 = \\boxed{968}</math>.\n\nNote <math>{n \\choose 0}+{n \\choose 1} + {n \\choose 2} + \\dots + {n \\choose n}</math> is equivalent to <math>2^n</math>"
  },
  {
    "year": 1989,
    "variant": "I",
    "problem_number": 3,
    "latex": "Suppose <math>n</math> is a [[positive integer]] and <math>d</math> is a single [[digit]] in [[base 10]]. Find <math>n</math> if\n<center><math>\\frac{n}{810}=0.d25d25d25\\ldots</math></center>",
    "solution": "We can express <math>0.\\overline{d25}</math> as <math>\\frac{100d+25}{999}</math>. We set up the given equation and isolate <math>n:</math> \\begin{align*} \\frac{100d+25}{999} &= \\frac{n}{810}, \\\\ \\frac{100d+25}{111} &= \\frac{n}{90}, \\\\ 9000d + 2250 &= 111n. \\end{align*} We then set up the following modular congruence to solve for <math>d:</math> \\begin{align*}9000d + 2250 &\\equiv 0 \\pmod {111}, \\\\ 9d + 30 &\\equiv 0 \\pmod {111}, \\\\ 3d + 10 &\\equiv 0 \\pmod {37}, \\\\ 36d + 120 &\\equiv 0 \\pmod {37}, \\\\ -d &\\equiv -9 \\pmod {37}, \\\\ d &\\equiv 9 \\pmod {37}.\\end{align*} Since <math>d</math> is a digit, it must be equal to <math>9</math> based on our above constraint. When <math>d=9, n = \\boxed{750}.</math>\n\n~vaisri"
  },
  {
    "year": 1989,
    "variant": "I",
    "problem_number": 4,
    "latex": "If <math>a<b<c<d<e</math> are [[consecutive]] [[positive]] [[integer]]s such that <math>b+c+d</math> is a [[perfect square]] and <math>a+b+c+d+e</math> is a [[perfect cube]], what is the smallest possible value of <math>c</math>?",
    "solution": "Since the middle term of an [[arithmetic progression]] with an odd number of terms is the average of the series, we know <math>b + c + d = 3c</math> and <math>a + b + c + d + e = 5c</math>. Thus, <math>c</math> must be in the form of <math>3 \\cdot x^2</math> based upon the first part and in the form of <math>5^2 \\cdot y^3</math> based upon the second part, with <math>x</math> and <math>y</math> denoting an [[integer]]s. <math>c</math> is minimized if it‚Äôs [[prime factorization]] contains only <math>3,5</math>, and since there is a cubed term in <math>5^2 \\cdot y^3</math>, <math>3^3</math> must be a factor of <math>c</math>. <math>3^35^2 = \\boxed{675}</math>, which works as the solution."
  },
  {
    "year": 1989,
    "variant": "I",
    "problem_number": 5,
    "latex": "When a certain biased coin is flipped five times, the [[probability]] of getting heads exactly once is not equal to <math>0</math> and is the same as that of getting heads exactly twice. Let <math>\\frac ij</math>, in lowest terms, be the probability that the coin comes up heads in exactly <math>3</math> out of <math>5</math> flips. Find <math>i+j</math>.",
    "solution": "===Solution 1 ===\nDenote the probability of getting a heads in one flip of the biased coin as <math>h</math>. Based upon the problem, note that <math>{5\\choose1}(h)^1(1-h)^4 = {5\\choose2}(h)^2(1-h)^3</math>. After canceling out terms, we get <math>1 - h = 2h</math>, so <math>h = \\frac{1}{3}</math>. The answer we are looking for is <math>{5\\choose3}(h)^3(1-h)^2 = 10\\left(\\frac{1}{3}\\right)^3\\left(\\frac{2}{3}\\right)^2 = \\frac{40}{243}</math>, so <math>i+j=40+243=\\boxed{283}</math>.\n\n\n=== Solution 2 ===\nDenote the probability of getting a heads in one flip of the biased coins as <math>h</math> and the probability of getting a tails as <math>t</math>. Based upon the problem, note that <math>{5\\choose1}(h)^1(t)^4 = {5\\choose2}(h)^2(t)^3</math>. After cancelling out terms, we end up with <math>t = 2h</math>. To find the probability getting <math>3</math> heads, we need to find <math>{5\\choose3}\\dfrac{(h)^3(t)^2}{(h + t)^5} =10\\cdot\\dfrac{(h)^3(2h)^2}{(h + 2h)^5}</math> (recall that <math>h</math> cannot be <math>0</math>). The result after simplifying is <math>\\frac{40}{243}</math>, so <math>i + j = 40 + 243 = \\boxed{283}</math>."
  },
  {
    "year": 1989,
    "variant": "I",
    "problem_number": 6,
    "latex": "Two skaters, Allie and Billie, are at [[point]]s <math>A</math> and <math>B</math>, respectively, on a flat, frozen lake. The [[distance]] between <math>A</math> and <math>B</math> is <math>100</math> meters. Allie leaves <math>A</math> and skates at a [[speed]] of <math>8</math> meters per second on a straight line that makes a <math>60^\\circ</math> angle with <math>AB</math>. At the same time Allie leaves <math>A</math>, Billie leaves <math>B</math> at a speed of <math>7</math> meters per second and follows the [[straight]] path that produces the earliest possible meeting of the two skaters, given their speeds. How many meters does Allie skate before meeting Billie?\n<center><asy>\npointpen=black; pathpen=black+linewidth(0.7); \npair A=(0,0),B=(10,0),C=6*expi(pi/3);\nD(B--A); D(A--C,EndArrow); MP(\"A\",A,SW);MP(\"B\",B,SE);MP(\"60^{\\circ}\",A+(0.3,0),NE);MP(\"100\",(A+B)/2);\n</asy></center><!-- Minsoen's image: [[Image:AIME_1989_Problem_6.png]] -->",
    "solution": "Label the point of [[intersection]] as <math>C</math>. Since <math>d = rt</math>, <math>AC = 8t</math> and <math>BC = 7t</math>. According to the [[law of cosines]],\n\n<center><asy>\npointpen=black; pathpen=black+linewidth(0.7); \npair A=(0,0),B=(10,0),C=16*expi(pi/3);\nD(B--A); D(A--C); D(B--C,dashed); MP(\"A\",A,SW);MP(\"B\",B,SE);MP(\"C\",C,N);MP(\"60^{\\circ}\",A+(0.3,0),NE);MP(\"100\",(A+B)/2);MP(\"8t\",(A+C)/2,NW);MP(\"7t\",(B+C)/2,NE);\n</asy></center>\n\n<cmath>\\begin{align*}(7t)^2 &= (8t)^2 + 100^2 - 2 \\cdot 8t \\cdot 100 \\cdot \\cos 60^\\circ\\\\\n0 &= 15t^2 - 800t + 10000 = 3t^2 - 160t + 2000\\\\\nt &= \\frac{160 \\pm \\sqrt{160^2 - 4\\cdot 3 \\cdot 2000}}{6} = 20, \\frac{100}{3}.\\end{align*}</cmath>\n\nSince we are looking for the earliest possible intersection, <math>20</math> seconds are needed. Thus, <math>8 \\cdot 20 = \\boxed{160}</math> meters is the solution.\n\nAlternatively, we can drop an altitude from <math>C</math> and arrive at the same answer."
  },
  {
    "year": 1989,
    "variant": "I",
    "problem_number": 7,
    "latex": "If the integer <math>k</math> is added to each of the numbers <math>36</math>, <math>300</math>, and <math>596</math>, one obtains the squares of three consecutive terms of an arithmetic series. Find <math>k</math>.",
    "solution": "Call the terms of the [[arithmetic progression]] <math>a,\\ a + d,\\ a + 2d</math>, making their squares <math>a^2,\\ a^2 + 2ad + d^2,\\ a^2 + 4ad + 4d^2</math>.\n\nWe know that <math>a^2 = 36 + k</math> and <math>(a + d)^2 = 300 + k</math>, and subtracting these two we get <math>264 = 2ad + d^2</math> (1). Similarly, using <math>(a + d)^2 = 300 + k</math> and <math>(a + 2d)^2 = 596 + k</math>, subtraction yields <math>296 = 2ad + 3d^2</math> (2). \n\nSubtracting the first equation from the second, we get <math>2d^2 = 32</math>, so <math>d = 4</math>. Substituting backwards yields that <math>a = 31</math> and <math>k = \\boxed{925}</math>."
  },
  {
    "year": 1989,
    "variant": "I",
    "problem_number": 8,
    "latex": "Assume that <math>x_1,x_2,\\ldots,x_7</math> are real numbers such that\n<cmath>\\begin{align*}\nx_1 + 4x_2 + 9x_3 + 16x_4 + 25x_5 + 36x_6 + 49x_7 &= 1, \\\\\n4x_1 + 9x_2 + 16x_3 + 25x_4 + 36x_5 + 49x_6 + 64x_7 &= 12, \\\\\n9x_1 + 16x_2 + 25x_3 + 36x_4 + 49x_5 + 64x_6 + 81x_7 &= 123.\n\\end{align*}</cmath>\nFind the value of <math>16x_1+25x_2+36x_3+49x_4+64x_5+81x_6+100x_7</math>.",
    "solution": "Note that each given equation is of the form <cmath>f(k)=k^2x_1+(k+1)^2x_2+(k+2)^2x_3+(k+3)^2x_4+(k+4)^2x_5+(k+5)^2x_6+(k+6)^2x_7</cmath> for some <math>k\\in\\{1,2,3\\}.</math>\n\nWhen we expand <math>f(k)</math> and combine like terms, we obtain a quadratic function of <math>k:</math> <cmath>f(k)=ak^2+bk+c,</cmath> where <math>a,b,</math> and <math>c</math> are linear combinations of <math>x_1,x_2,x_3,x_4,x_5,x_6,</math> and <math>x_7.</math> \n\nWe are given that\n<cmath>\\begin{alignat*}{10}\nf(1)&=\\phantom{42}a+b+c&&=1, \\\\\nf(2)&=4a+2b+c&&=12, \\\\\nf(3)&=9a+3b+c&&=123,\n\\end{alignat*}</cmath>\nand we wish to find <math>f(4).</math>\n\nWe eliminate <math>c</math> by subtracting the first equation from the second, then subtracting the second equation from the third:\n<cmath>\\begin{align*}\n3a+b&=11, \\\\\n5a+b&=111.\n\\end{align*}</cmath>\nBy either substitution or elimination, we get <math>a=50</math> and <math>b=-139.</math> Substituting these back produces <math>c=90.</math>\n\nFinally, the answer is <cmath>f(4)=16a+4b+c=\\boxed{334}.</cmath>\n\n~Azjps ~MRENTHUSIASM"
  },
  {
    "year": 1989,
    "variant": "I",
    "problem_number": 9,
    "latex": "One of Euler's conjectures was disproved in the 1960s by three American mathematicians when they showed there was a positive integer such that <cmath>133^5+110^5+84^5+27^5=n^{5}.</cmath> Find the value of <math>n</math>.",
    "solution": "Taking the given equation modulo <math>2,3,</math> and <math>5,</math> respectively, we have\n<cmath>\\begin{align*}\nn^5&\\equiv0\\pmod{2}, \\\\\nn^5&\\equiv0\\pmod{3}, \\\\\nn^5&\\equiv4\\pmod{5}.\n\\end{align*}</cmath>\nBy either <b>Fermat's Little Theorem (FLT)</b> or inspection, we get\n<cmath>\\begin{align*}\nn&\\equiv0\\pmod{2}, \\\\\nn&\\equiv0\\pmod{3}, \\\\\nn&\\equiv4\\pmod{5}.\n\\end{align*}</cmath>\nBy either the <b>Chinese Remainder Theorem (CRT)</b> or inspection, we get <math>n\\equiv24\\pmod{30}.</math>\n\nIt is clear that <math>n>133,</math> so the possible values for <math>n</math> are <math>144,174,204,\\ldots.</math> Note that\n<cmath>\\begin{align*}\nn^5&=133^5+110^5+84^5+27^5 \\\\\n&<133^5+110^5+(84+27)^5 \\\\\n&=133^5+110^5+111^5 \\\\\n&<3\\cdot133^5,\n\\end{align*}</cmath>\nfrom which <math>\\left(\\frac{n}{133}\\right)^5<3.</math>\n\nIf <math>n\\geq174,</math> then\n<cmath>\\begin{align*}\n\\left(\\frac{n}{133}\\right)^5&>1.3^5 \\\\\n&=1.3^2\\cdot1.3^2\\cdot1.3 \\\\\n&>1.6\\cdot1.6\\cdot1.3 \\\\\n&=2.56\\cdot1.3 \\\\\n&>2.5\\cdot1.2 \\\\\n&=3,\n\\end{align*}</cmath>\nwhich arrives at a contradiction. Therefore, we conclude that <math>n=\\boxed{144}.</math>\n\n~MRENTHUSIASM"
  },
  {
    "year": 1989,
    "variant": "I",
    "problem_number": 10,
    "latex": "Let <math>a</math>, <math>b</math>, <math>c</math> be the three sides of a [[triangle]], and let <math>\\alpha</math>, <math>\\beta</math>, <math>\\gamma</math>, be the angles opposite them. If <math>a^2+b^2=1989c^2</math>, find\n<center><math>\\frac{\\cot \\gamma}{\\cot \\alpha+\\cot \\beta}</math></center>\n\n__TOC__",
    "solution": "=== Solution 1 ===\nWe draw the [[altitude]] <math>h</math> to <math>c</math>, to get two [[right triangle]]s.\n<center><asy>\nsize(170);\npair A = (0,0), B = (3, 0), C = (1, 4);\npair P = .5*(C + reflect(A,B)*C);\ndraw(A--B--C--cycle);\ndraw(C--P, dotted);\ndraw(rightanglemark(C,P, B, 4));\nlabel(\"$A$\", A, S);\nlabel(\"$B$\", B, S);\nlabel(\"$C$\", C, N);\nlabel(\"$a$\", (B+C)/2, NE);\nlabel(\"$b$\", (A+C)/2, NW);\nlabel(\"$c$\", (A+B)/2, S);\nlabel(\"$h$\", (C+P)/2, E);</asy></center>\n\nThen <math>\\cot{\\alpha}+\\cot{\\beta}=\\frac{c}{h}</math>, from the definition of the [[cotangent]].\n\nLet <math>K</math> be the area of <math>\\triangle ABC.</math> Then <math>h=\\frac{2K}{c}</math>, so <math>\\cot{\\alpha}+\\cot{\\beta}=\\frac{c^2}{2K}</math>.\n\nBy identical logic, we can find similar expressions for the sums of the other two cotangents:\n<cmath> \\begin{align*}\n\\cot \\alpha + \\cot \\beta &= \\frac{c^2}{2K} \\\\\n\\cot \\beta + \\cot \\gamma &= \\frac{a^2}{2K} \\\\\n\\cot \\gamma + \\cot \\alpha &= \\frac{b^2}{2K}. \\end{align*} </cmath>\nAdding the last two equations, subtracting the first, and dividing by 2, we get\n<cmath> \\cot \\gamma = \\frac{a^2 + b^2 - c^2}{4K}.</cmath>\nTherefore\n<cmath> \\begin{align*}\n\\frac{\\cot \\gamma}{\\cot \\alpha + \\cot \\beta} &= \\frac{(a^2 + b^2 - c^2)/(4K)}{c^2/(2K)} \\\\\n&= \\frac{a^2 + b^2 - c^2}{2c^2} \\\\\n&= \\frac{1989 c^2 - c^2}{2c^2} \\\\\n&= \\frac{1988}{2} = \\boxed{994}. \\end{align*} </cmath>\n\n=== Solution 2 ===\n\nBy the [[law of cosines]],\n<cmath> \\cos \\gamma = \\frac{a^2 + b^2 - c^2}{2ab}. </cmath> So, by the extended [[law of sines]],\n<cmath> \\cot \\gamma = \\frac{\\cos \\gamma}{\\sin \\gamma} = \\frac{a^2 + b^2 - c^2}{2ab} \\cdot \\frac{2R}{c} = \\frac{R}{abc} (a^2 + b^2 - c^2). </cmath>\nIdentical logic works for the other two angles in the triangle.  So, the cotangent of any angle in the triangle is directly proportional to the sum of the squares of the two adjacent sides, minus the square of the opposite side.  Therefore\n<cmath> \\frac{\\cot \\gamma}{\\cot \\alpha + \\cot \\beta} = \\frac{a^2 + b^2 - c^2}{(-a^2 + b^2 + c^2) + (a^2 - b^2 + c^2)} = \\frac{a^2 + b^2 - c^2}{2c^2}. </cmath>\nWe can then finish as in solution 1.\n\n=== Solution 3 ===\n\nWe start as in solution 1, though we'll write <math>A</math> instead of <math>K</math> for the area.  Now we evaluate the numerator:\n\n<cmath>\\cot{\\gamma}=\\frac{\\cos{\\gamma}}{\\sin{\\gamma}}</cmath>\n\nFrom the [[Law of Cosines]] and the sine area formula, \n\n<cmath>\\begin{align*}\\cos{\\gamma}&=\\frac{1988c^2}{2ab}\\\\\n\\sin{\\gamma}&= \\frac{2A}{ab}\\\\\n\\cot{\\gamma}&= \\frac{\\cos \\gamma}{\\sin \\gamma} = \\frac{1988c^2}{4A} \\end{align*}</cmath>\n\nThen <math>\\frac{\\cot \\gamma}{\\cot \\alpha+\\cot \\beta}=\\frac{\\frac{1988c^2}{4A}}{\\frac{c^2}{2A}}=\\frac{1988}{2}=\\boxed{994}</math>.\n\n=== Solution 4 ===\n<cmath>\\begin{align*}\n\\cot{\\alpha} + \\cot{\\beta} &= \\frac {\\cos{\\alpha}}{\\sin{\\alpha}} + \\frac {\\cos{\\beta}}{\\sin{\\beta}} = \\frac {\\sin{\\alpha}\\cos{\\beta} + \\cos{\\alpha}\\sin{\\beta}}{\\sin{\\alpha}\\sin{\\beta}}\\\\ &= \\frac {\\sin{(\\alpha + \\beta)}}{\\sin{\\alpha}\\sin{\\beta}} = \\frac {\\sin{\\gamma}}{\\sin{\\alpha}\\sin{\\beta}}\n\\end{align*}</cmath>\n\nBy the Law of Cosines,\n\n<cmath>a^2 + b^2 - 2ab\\cos{\\gamma} = c^2 = 1989c^2 - 2ab\\cos{\\gamma} \\implies ab\\cos{\\gamma} = 994c^2</cmath>\n\nNow\n\n<cmath>\\begin{align*}\\frac {\\cot{\\gamma}}{\\cot{\\alpha} + \\cot{\\beta}} &= \\frac {\\cot{\\gamma}\\sin{\\alpha}\\sin{\\beta}}{\\sin{\\gamma}} = \\frac {\\cos{\\gamma}\\sin{\\alpha}\\sin{\\beta}}{\\sin^2{\\gamma}} = \\frac {ab}{c^2}\\cos{\\gamma} = \\frac {ab}{c^2} \\cdot \\frac {994c^2}{ab}\\\\ &= \\boxed{994}\\end{align*}</cmath>\n\n\n=== Solution 5===\n\nUse Law of cosines to give us <math>c^2=a^2+b^2-2ab\\cos(\\gamma)</math> or therefore <math>\\cos(\\gamma)=\\frac{994c^2}{ab}</math>.  Next, we are going to put all the sin's in term of <math>\\sin(a)</math>.  We get <math>\\sin(\\gamma)=\\frac{c\\sin(a)}{a}</math>.  Therefore, we get <math>\\cot(\\gamma)=\\frac{994c}{b\\sin a}</math>.\n\nNext, use Law of Cosines to give us <math>b^2=a^2+c^2-2ac\\cos(\\beta)</math>.  Therefore, <math>\\cos(\\beta)=\\frac{a^2-994c^2}{ac}</math>.  Also, <math>\\sin(\\beta)=\\frac{b\\sin(a)}{a}</math>.  Hence, <math>\\cot(\\beta)=\\frac{a^2-994c^2}{bc\\sin(a)}</math>.  \n\nLastly, <math>\\cos(\\alpha)=\\frac{b^2-994c^2}{bc}</math>. Therefore, we get <math>\\cot(\\alpha)=\\frac{b^2-994c^2}{bc\\sin(a)}</math>.\n\nNow, <math>\\frac{\\cot(\\gamma)}{\\cot(\\beta)+\\cot(\\alpha)}=\\frac{\\frac{994c}{b\\sin a}}{\\frac{a^2-994c^2+b^2-994c^2}{bc\\sin(a)}}</math>.  After using <math>a^2+b^2=1989c^2</math>, we get <math>\\frac{994c*bc\\sin a}{c^2b\\sin a}=\\boxed{994}</math>.\n\n\n=== Solution 6===\n\n\nLet <math>\\gamma</math> be <math>(180-\\alpha-\\beta)</math>\n\n<math>\\frac{\\cot \\gamma}{\\cot \\alpha+\\cot \\beta} = \\frac{\\frac{-\\tan \\alpha \\tan \\beta}{\\tan(\\alpha+\\beta)}}{\\tan \\alpha + \\tan \\beta} = \\frac{(\\tan \\alpha \\tan \\beta)^2-\\tan \\alpha \\tan \\beta}{\\tan^2 \\alpha + 2\\tan \\alpha \\tan \\beta +\\tan^2 \\beta}</math>\n\nWLOG, assume that <math>a</math> and <math>c</math> are legs of right triangle <math>abc</math> with <math>\\beta = 90^o</math> and <math>c=1</math>\n\nBy the Pythagorean theorem, we have <math>b^2=a^2+1</math>, and the given <math>a^2+b^2=1989</math>. Solving the equations gives us <math>a=\\sqrt{994}</math> and <math>b=\\sqrt{995}</math>. We see that <math>\\tan \\beta = \\infty</math>, and <math>\\tan \\alpha = \\sqrt{994}</math>. \n\nOur derived equation equals <math>\\tan^2 \\alpha</math> as <math>\\tan \\beta</math> approaches infinity.\nEvaluating <math>\\tan^2 \\alpha</math>, we get <math>\\boxed{994}</math>.\n\n\n=== Solution 7===\n\nAs in Solution 1, drop an altitude <math>h</math> to <math>c</math>. Let <math>h</math> meet <math>c</math> at <math>P</math>, and let <math>AP = x, BP = y</math>.\n\n<center><asy>\nsize(170);\npair A = (0,0), B = (3,0), C = (1,4);\npair P = .5*(C + reflect(A,B)*C);\ndraw(A--B--C--cycle);\ndraw(C--P, dotted);\ndraw(rightanglemark(C,P, B , 4));\nlabel(\"$A$\", A, S);\nlabel(\"$B$\", B, S);\nlabel(\"$C$\", C, N);\nlabel(\"$P$\", P, S);\nlabel(\"$x$\", (A+P)/2, S);\nlabel(\"$y$\", (B+P)/2, S);\nlabel(\"$a$\", (B+C)/2, NE);\nlabel(\"$b$\", (A+C)/2, NW);\nlabel(\"$c$\", (A+B)/2, S);\nlabel(\"$h$\", (C+P)/2, E);</asy></center>\n\nThen, <math>\\cot{\\alpha} = \\frac{1}{\\tan{\\alpha}} = \\frac{x}{h}</math>, <math>\\cot{\\beta} = \\frac{1}{\\tan{\\beta}} = \\frac{y}{h}</math>. We can calculate <math>\\cot{\\gamma}</math> using the [[tangent addition formula]], after noticing that <math>\\cot{\\gamma} = \\frac{1}{\\tan{\\gamma}}</math>. So, we find that \n\\begin{align*}\n\\cot{\\gamma} &= \\frac{1}{\\tan{\\gamma}} \\\\\n&= \\frac{1}{\\frac{\\frac{x}{h} + \\frac{y}{h}}{1 - \\frac{xy}{h^2}}} \\\\\n&= \\frac{1}{\\frac{(x+y)h}{h^2 - xy}} \\\\\n&= \\frac{h^2 - xy}{(x+y)h}.\n\\end{align*}\n\nSo now we can simplify our original expression:\n\\begin{align*}\n\\frac{\\cot{\\gamma}}{\\cot{\\alpha} + \\cot{\\beta}} &= \\frac{\\frac{h^2 - xy}{(x+y)h}}{\\frac{x + y}{h}} \\\\\n&= \\frac{h^2 - xy}{(x+y)^2}.\n\\end{align*}\n\nBut notice that <math>x+y = c</math>, so this becomes <cmath>\\frac{h^2 - xy}{c^2}.</cmath>\nNow note that we can use the [[Pythagorean theorem]] to calculate <math>h^2</math>, we get that <cmath>h^2 = \\frac{a^2 - y^2 + b^2 - x^2}{2}.</cmath>\nSo our expression simplifies to <cmath>\\frac{1989c^2 - (x+y)^2}{2c^2}</cmath>\nsince <math>a^2 + b^2 = 1989c^2</math> from the problem and that there is another <math>-\\frac{2xy}{2}</math> after the <math>h^2</math> in our expression. Again note that <math>x+y = c</math>, so it again simplifies to <math>\\frac{1988c^2}{2c^2}</math>, or <math>\\boxed{994}</math>.\n\n~[[User: Yiyj1|Yiyj1]]\n\n\n\n=== Solution 8 (Quick and Easy) ===\n\nSince no additional information is given, we can assume that triangle ABC is right with the right angle at B.\nWe can use the [[Pythagorean theorem]] to say <cmath>c^2+a^2=b^2</cmath> \nWe can now solve for <math>a</math> in terms of <math>c</math>\n\n<cmath>c^2+a^2=1989c^2-a^2</cmath>\n<cmath>a^2=994c^2</cmath>\n<cmath>a=\\sqrt{994}c</cmath>\n\nUsing the definition of cotangent\n\n<cmath>cot(A)=\\frac{c}{a}=\\frac{1}{\\sqrt{994}}</cmath>\n<cmath>cot(B)=cot(90)=0</cmath>\n<cmath>cot(C)=\\frac{a}{c}=\\sqrt{994}</cmath>\nPlugging into our desired expression, we get <math>\\boxed{994}</math>\n\n~[[User: ms0001|ms0001]]\n\n=== Solution 9 (Quick and Easy), similar idea to Solution 8 ===\n\nAssume the triangle is isosceles and <math>c=1</math>.  \nSince <math>a=b</math>, <math>2a^2=1989</math>, <math>\\rightarrow a=b=\\sqrt{\\frac{1989}{2}}</math>\n\nSince this is an isosceles triangle, we can find <math>\\cot(\\alpha)</math>, <math>\\cot(\\beta)</math>, by just drawing the height.  \nVia Pythagorean Theorem, the height is <math>\\frac{\\sqrt{3977}}{2}</math>. \n\nTherefore we find that <math>\\tan(\\alpha) = \\tan(\\beta) = \\sqrt{3977}</math>.  \n<math>\\tan(\\gamma) = \\tan(180-(\\alpha+\\beta)) = -\\tan(\\alpha+\\beta)</math>.  \nVia tangent sum formula, <math>\\tan(\\alpha+\\beta) = -\\frac{\\sqrt{3977}}{1988}</math>, so <math>\\tan(\\gamma) = \\frac{\\sqrt{3977}}{1988}</math>.\n\nSince <math>\\cot(\\theta) = \\frac{1}{\\tan(\\theta)}</math>,  \n<math>\\cot(\\alpha) = \\frac{1}{\\sqrt{3977}}</math>, <math>\\cot(\\beta) = \\frac{1}{\\sqrt{3977}}</math>, <math>\\cot(\\gamma) = \\frac{1988}{\\sqrt{3977}}</math>.\n\nPlugging this in, almost everything cancels and we get <math>\\frac{1988}{2} = \\boxed{994}</math>."
  },
  {
    "year": 1989,
    "variant": "I",
    "problem_number": 11,
    "latex": "A sample of 121 [[integer]]s is given, each between 1 and 1000 inclusive, with repetitions allowed. The sample has a unique [[mode]] (most frequent value). Let <math>D</math> be the difference between the mode and the [[arithmetic mean]] of the sample. What is the largest possible value of <math>\\lfloor D\\rfloor</math>? (For real <math>x</math>, <math>\\lfloor x\\rfloor</math> is the [[floor function|greatest integer]] less than or equal to <math>x</math>.)\n__NOTOC__",
    "solution": "Let the mode be <math>x</math>, which we let appear <math>n > 1</math> times. We let the arithmetic mean be <math>M</math>, and the sum of the numbers <math>\\neq x</math> be <math>S</math>. Then \n<cmath>\\begin{align*}\nD &= \\left|M-x\\right| = \\left|\\frac{S+xn}{121}-x\\right| = \\left|\\frac{S}{121}-\\left(\\frac{121-n}{121}\\right)x\\right|\n\\end{align*}</cmath>\nAs <math>S</math> is essentially independent of <math>x</math>, it follows that we wish to minimize or maximize <math>x</math> (in other words, <math>x \\in \\{1,1000\\}</math>). Indeed, <math>D(x)</math> is symmetric about <math>x = 500.5</math>; consider replacing all of numbers <math>x_i</math> in the sample with <math>1001-x_i</math>, and the value of <math>D</math> remains the same. So, [[without loss of generality]], let <math>x=1</math>. Now, we would like to maximize the quantity \n<center><math>\\frac{S}{121}-\\left(\\frac{121-n}{121}\\right)(1) = \\frac{S+n}{121}-1</math></center>\n<math>S</math> contains <math>121-n</math> numbers that may appear at most <math>n-1</math> times. Therefore, to maximize <math>S</math>, we would have <math>1000</math> appear <math>n-1</math> times, <math>999</math> appear <math>n-1</math> times, and so forth. We can thereby represent <math>S</math> as the sum of <math>n-1</math> arithmetic series of <math>1000, 999, \\ldots, 1001 - \\left\\lfloor \\frac{121-n}{n-1} \\right\\rfloor</math>. We let <math>k = \\left\\lfloor \\frac{121-n}{n-1} \\right\\rfloor</math>, so\n<center><math>S = (n-1)\\left[\\frac{k(1000 + 1001 - k)}{2}\\right] + R(n)</math></center>\nwhere <math>R(n)</math> denotes the sum of the remaining <math>121-(n-1)k</math> numbers, namely <math>R(n) = (121-(n-1)k)(1000-k)</math>. \n\nAt this point, we introduce the crude estimate{{ref|1}} that <math>k=\\frac{121-n}{n-1}</math>, so <math>R(n) = 0</math> and\n<cmath>\\begin{align*}2S+2n &= (121-n)\\left(2001-\\frac{121-n}{n-1}\\right)+2n = (120-(n-1))\\left(2002-\\frac{120}{n-1}\\right)\\end{align*}</cmath>\nExpanding (ignoring the constants, as these do not affect which <math>n</math> yields a maximum) and scaling, we wish to minimize the expression <math>5(n-1) + \\frac{36}{n-1}</math>. By [[AM-GM]], we have <math>5(n-1) + \\frac{36}{n-1} \\ge 2\\sqrt{5(n-1) \\cdot \\frac{36}{n-1}}</math>, with equality coming when <math>5(n-1) = \\frac{36}{n-1}</math>, so <math>n-1 \\approx 3</math>. Substituting this result and some arithmetic gives an answer of <math>\\boxed{947}</math>.\n\n----\n\nIn less formal language, it quickly becomes clear after some trial and error that in our sample, there will be <math>n</math> values equal to one and <math>n-1</math> values each of <math>1000, 999, 998 \\ldots</math>. It is fairly easy to find the [[maximum]]. Try <math>n=2</math>, which yields <math>924</math>, <math>n=3</math>, which yields <math>942</math>,  <math>n=4</math>, which yields <math>947</math>, and <math>n=5</math>, which yields <math>944</math>. The maximum difference occurred at <math>n=4</math>, so the answer is <math>947</math>."
  },
  {
    "year": 1989,
    "variant": "I",
    "problem_number": 12,
    "latex": "Let <math>ABCD</math> be a [[tetrahedron]] with <math>AB=41</math>, <math>AC=7</math>, <math>AD=18</math>, <math>BC=36</math>, <math>BD=27</math>, and <math>CD=13</math>, as shown in the figure. Let <math>d</math> be the distance between the [[midpoint]]s of [[edge]]s <math>AB</math> and <math>CD</math>. Find <math>d^{2}</math>.\n<asy>\ndefaultpen(fontsize(10)+0.8); size(175);\npair A,B,C,D,M,P,Q;\nC=origin; B=(8,0); D=IP(CR(C,6.5),CR(B,8)); A=(4,-3); P=midpoint(A--B); Q=midpoint(C--D);\ndraw(B--C--D--B--A--C^^A--D); draw(D--P--C^^P--Q, gray+dashed+0.5);\npen p=fontsize(12)+linewidth(3);\ndot(\"$A$\",A,down,p); dot(\"$B$\",B,right,p); dot(\"$C$\",C,left,p); dot(\"$D$\",D,up,p); dot(\"$M$\",P,dir(-45),p); dot(\"$N$\",Q,0.2*(Q-P),p);\nlabel(\"$27$\",B--D,2*dir(30),fontsize(10)); label(\"$7$\",A--C,2*dir(210),fontsize(10)); label(\"$18$\",A--D,1.5*dir(30),fontsize(10)); label(\"$36$\",(3,0),up,fontsize(10));\n</asy>",
    "solution": "Call the midpoint of <math>\\overline{AB}</math> <math>M</math> and the midpoint of <math>\\overline{CD}</math> <math>N</math>. <math>d</math> is the [[median]] of triangle <math>\\triangle CDM</math>. The formula for the length of a median is <math>m=\\sqrt{\\frac{2a^2+2b^2-c^2}{4}}</math>, where <math>a</math>, <math>b</math>, and <math>c</math> are the side lengths of triangle, and <math>c</math> is the side that is bisected by median <math>m</math>. The formula is a direct result of the [[Law of Cosines]] applied twice with the angles formed by the median ([[Stewart's Theorem]]). We can also get this formula from the parallelogram law, that the sum of the squares of the diagonals is equal to the squares of the sides of a parallelogram (https://en.wikipedia.org/wiki/Parallelogram_law).\n\nWe first find <math>CM</math>, which is the median of <math>\\triangle CAB</math>.\n\n<cmath>CM=\\sqrt{\\frac{98+2592-1681}{4}}=\\frac{\\sqrt{1009}}{2}</cmath>\n\nNow we must find <math>DM</math>, which is the median of <math>\\triangle DAB</math>.\n\n<cmath>DM=\\frac{\\sqrt{425}}{2}</cmath>\n\nNow that we know the sides of <math>\\triangle CDM</math>, we proceed to find the length of <math>d</math>.\n\n<cmath>d=\\frac{\\sqrt{548}}{2} \\Longrightarrow d^2=\\frac{548}{4}=\\boxed{137}</cmath>"
  },
  {
    "year": 1989,
    "variant": "I",
    "problem_number": 13,
    "latex": "Let <math>S</math> be a [[subset]] of <math>\\{1,2,3,\\ldots,1989\\}</math> such that no two members of <math>S</math> differ by <math>4</math> or <math>7</math>. What is the largest number of [[element]]s <math>S</math> can have?",
    "solution": "We first show that we can choose at most 5 numbers from <math>\\{1, 2, \\ldots , 11\\}</math> such that no two numbers have a difference of <math>4</math> or <math>7</math>. We take the smallest number to be <math>1</math>, which rules out <math>5,8</math>. Now we can take at most one from each of the pairs: <math>[2,9]</math>, <math>[3,7]</math>, <math>[4,11]</math>, <math>[6,10]</math>. Now, <math>1989 = 180\\cdot 11 + 9</math>. Because this isn't an exact multiple of <math>11</math>, we need to consider some numbers separately. \n\nNotice that <math>1969 = 180\\cdot11 - 11 = 179\\cdot11</math> (*). Therefore we can put the last <math>1969</math> numbers into groups of 11. Now let's examine <math>\\{1, 2, \\ldots , 20\\}</math>. If we pick <math>1, 3, 4, 6, 9</math> from the first <math>11</math> numbers, then we're allowed to pick <math>11 + 1</math>, <math>11 + 3</math>, <math>11 + 4</math>, <math>11 + 6</math>, <math>11 + 9</math>. This means we get 10 members from the 20 numbers. Our answer is thus <math>179\\cdot 5 + 10 = \\boxed{905}</math>.\n\nRemarks\n(*) Suppose that you choose the values 1, 2, 4, 7, and 10. Because <math>1989 = 180 \\times 11 + 9</math>, this is not maximized. It is only maximized if we include the last element of the final set of 11, which is 10 (this is <math>\\text{mod}(11)</math> btw). To include the final element, we have to rewrite 1989 as <math>179 \\times 11 + 20</math>, which includes the final element and increases our set by 1 element.\n\n~Brackie 1331"
  },
  {
    "year": 1989,
    "variant": "I",
    "problem_number": 14,
    "latex": "Given a positive [[integer]] <math>n</math>, it can be shown that every [[complex number]] of the form <math>r+si</math>, where <math>r</math> and <math>s</math> are integers, can be uniquely expressed in the base <math>-n+i</math> using the integers <math>0,1,2,\\ldots,n^2</math> as digits. That is, the equation\n<center><math>r+si=a_m(-n+i)^m+a_{m-1}(-n+i)^{m-1}+\\cdots +a_1(-n+i)+a_0</math></center>\nis true for a unique choice of non-negative integer <math>m</math> and digits <math>a_0,a_1,\\ldots,a_m</math> chosen from the set <math>\\{0,1,2,\\ldots,n^2\\}</math>, with <math>a_m\\ne 0</math>. We write\n<center><math>r+si=(a_ma_{m-1}\\ldots a_1a_0)_{-n+i}</math></center>\nto denote the base <math>-n+i</math> expansion of <math>r+si</math>. There are only finitely many integers <math>k+0i</math> that have four-digit expansions\n<center><math>k=(a_3a_2a_1a_0)_{-3+i}~~</math></center> <p> <center> <math>~~a_3\\ne 0.</math> </center>\nFind the sum of all such <math>k</math>,",
    "solution": "First, we find the first three powers of <math>-3+i</math>:\n\n<math>(-3+i)^1=-3+i ; (-3+i)^2=8-6i ; (-3+i)^3=-18+26i</math>\n\nSo we solve the [[diophantine equation]] <math>a_1-6a_2+26a_3=0 \\Longrightarrow a_1-6a_2=-26a_3</math>.\n\nThe minimum the left-hand side can go is -54, so <math>1\\leq a_3 \\leq 2</math> since <math>a_3</math> can't equal 0, so we try cases:\n\n*Case 1: <math>a_3=2</math>\n:The only solution to that is <math>(a_1, a_2, a_3)=(2,9,2)</math>.\n*Case 2: <math>a_3=1</math>\n:The only solution to that is <math>(a_1, a_2, a_3)=(4,5,1)</math>.\n\nSo we have four-digit integers <math>(292a_0)_{-3+i}</math> and <math>(154a_0)_{-3+i}</math>, and we need to find the sum of all integers <math>k</math> that can be expressed by one of those.\n\n<math>(292a_0)_{-3+i}</math>:\n\nWe plug the first three digits into base 10 to get <math>30+a_0</math>. The sum of the integers <math>k</math> in that form is <math>345</math>.\n\n<math>(154a_0)_{-3+i}</math>:\n\nWe plug the first three digits into base 10 to get <math>10+a_0</math>. The sum of the integers <math>k</math> in that form is <math>145</math>. The answer is <math>345+145=\\boxed{490}</math>.\n~minor edit by [[User:Yiyj1|Yiyj1]]"
  },
  {
    "year": 1989,
    "variant": "I",
    "problem_number": 15,
    "latex": "Point <math>P</math> is inside <math>\\triangle ABC</math>. Line segments <math>APD</math>, <math>BPE</math>, and <math>CPF</math> are drawn with <math>D</math> on <math>BC</math>, <math>E</math> on <math>AC</math>, and <math>F</math> on <math>AB</math> (see the figure below). Given that <math>AP=6</math>, <math>BP=9</math>, <math>PD=6</math>, <math>PE=3</math>, and <math>CF=20</math>, find the area of <math>\\triangle ABC</math>.\n[[Image:AIME_1989_Problem_15.png|center]]",
    "solution": "=== Solution 1 (Ceva's Theorem, Stewart's Theorem) ===\n\nLet <math>[RST]</math> be the area of polygon <math>RST</math>.  We'll make use of the following fact: if <math>P</math> is a point in the interior of triangle <math>XYZ</math>, and line <math>XP</math> intersects line <math>YZ</math> at point <math>L</math>, then <math>\\dfrac{XP}{PL} = \\frac{[XPY] + [ZPX]}{[YPZ]}.</math>\n\n<center><asy>\nsize(170);\npair X = (1,2), Y = (0,0), Z = (3,0);\nreal x = 0.4, y = 0.2, z = 1-x-y;\npair P = x*X + y*Y + z*Z;\npair L = y/(y+z)*Y + z/(y+z)*Z;\ndraw(X--Y--Z--cycle);\ndraw(X--P);\ndraw(P--L, dotted);\ndraw(Y--P--Z);\nlabel(\"$X$\", X, N);\nlabel(\"$Y$\", Y, S);\nlabel(\"$Z$\", Z, S);\nlabel(\"$P$\", P, NE);\nlabel(\"$L$\", L, S);</asy></center>\n\nThis is true because triangles <math>XPY</math> and <math>YPL</math> have their areas in ratio <math>XP:PL</math> (as they share a common height from <math>Y</math>), and the same is true of triangles <math>ZPY</math> and <math>LPZ</math>.\n\nWe'll also use the related fact that <math>\\dfrac{[XPY]}{[ZPX]} = \\dfrac{YL}{LZ}</math>.  This is slightly more well known, as it is used in the standard proof of [[Ceva's theorem]].\n\nNow we'll apply these results to the problem at hand.\n\n<center><asy>\nsize(170);\npair C = (1, 3), A = (0,0), B = (1.7,0);\nreal a = 0.5, b= 0.25, c = 0.25;\npair P = a*A + b*B + c*C;\npair D = b/(b+c)*B + c/(b+c)*C;\npair EE = c/(c+a)*C + a/(c+a)*A;\npair F = a/(a+b)*A + b/(a+b)*B;\ndraw(A--B--C--cycle);\ndraw(A--P);\ndraw(B--P--C);\ndraw(P--D, dotted);\ndraw(EE--P--F, dotted);\nlabel(\"$A$\", A, S);\nlabel(\"$B$\", B, S);\nlabel(\"$C$\", C, N);\nlabel(\"$D$\", D, NE);\nlabel(\"$E$\", EE, NW);\nlabel(\"$F$\", F, S);\nlabel(\"$P$\", P, E);\n</asy></center>\n\nSince <math>AP = PD = 6</math>, this means that <math>[APB] + [APC] = [BPC]</math>; thus <math>\\triangle BPC</math> has half the area of <math>\\triangle ABC</math>.  And since <math>PE = 3 = \\dfrac{1}{3}BP</math>, we can conclude that <math>\\triangle APC</math> has one third of the combined areas of triangle <math>BPC</math> and <math>APB</math>, and thus <math>\\dfrac{1}{4}</math> of the area of <math>\\triangle ABC</math>.  This means that <math>\\triangle APB</math> is left with <math>\\dfrac{1}{4}</math> of the area of triangle <math>ABC</math>:\n<cmath> [BPC]: [APC]: [APB] = 2:1:1.</cmath>\nSince <math>[APC] = [APB]</math>, and since <math>\\dfrac{[APC]}{[APB]} = \\dfrac{CD}{DB}</math>, this means that <math>D</math> is the midpoint of <math>BC</math>.\n\nFurthermore, we know that <math>\\dfrac{CP}{PF} = \\dfrac{[APC] + [BPC]}{[APB]} = 3</math>, so <math>CP = \\dfrac{3}{4} \\cdot CF = 15</math>.\n\nWe now apply [[Stewart's theorem]] to segment <math>PD</math> in <math>\\triangle BPC</math>&mdash;or rather, the simplified version for a median.  This tells us that\n<cmath> 2 BD^2 + 2 PD^2 = BP^2+ CP^2. </cmath> Plugging in we know, we learn that\n<cmath> \\begin{align*}\n2 BD^2 + 2 \\cdot 36 &= 81 + 225 = 306, \\\\\nBD^2 &= 117. \\end{align*} </cmath>\nHappily, <math>BP^2 + PD^2 = 81 + 36</math> is also equal to 117.  Therefore <math>\\triangle BPD</math> is a right triangle with a right angle at <math>B</math>; its area is thus <math>\\dfrac{1}{2} \\cdot 9 \\cdot 6 = 27</math>.  As <math>PD</math> is a median of <math>\\triangle BPC</math>, the area of <math>BPC</math> is twice this, or 54.  And we already know that <math>\\triangle BPC</math> has half the area of <math>\\triangle ABC</math>, which must therefore be <math>\\boxed{108}</math>.\n\n=== Solution 2 [Quick] (Mass Points, Trig) ===\nWe first assign masses:  \nLet <math>M(B) = 1</math>.  \nThen: <math>M(E) = 3</math>, <math>M(P) = 4</math>, <math>M(A) = M(D) = 2</math>, <math>M(C) = 1</math>, <math>M(F) = 3</math>.\n\nThe masses on cevian <math>CF</math> tell us that <math>CP = 15</math>.\n\nAlso, <math>CD = DB</math>. Let <math>CD = DB = y</math>.\n\nLet angle <math>\\angle PDB = \\theta</math>.  \nThen, using Law of Cosines on triangle <math>PDB</math>, we find:\n<cmath>\n36 + y^2 - 12y\\cos(\\theta) = 81\n</cmath>\n\nUsing Law of Cosines on triangle <math>CDP</math>, we find:\n<cmath>\n36 + y^2 - 12\\cos(180^\\circ - \\theta) = 225 \\Rightarrow 36 + y^2 + 12\\cos(\\theta) = 225\n</cmath>\n\nTherefore,\n<cmath>\n36 + y^2 = \\frac{225 + 81}{2} = 153 \\Rightarrow y = \\sqrt{117} = 3\\sqrt{13}\n</cmath>\n\nNext,\n<cmath>\n12y\\cos(\\theta) = \\frac{225 - 81}{2} = 72 \\Rightarrow y\\cos(\\theta) = 6 \\Rightarrow \\cos(\\theta) = \\frac{2}{\\sqrt{13}}\n</cmath>\n\nThen,\n<cmath>\n\\cos(\\theta) = \\frac{2}{\\sqrt{13}} \\Rightarrow \\sin(\\theta) = \\frac{3}{\\sqrt{13}}\n</cmath>\n\nVia the sine area formula:\n<cmath>\n[PDB] = [PDC] = \\frac{6y\\sin(\\theta)}{2} \\Rightarrow [PDB] + [PDC] = [CDB] = 6y\\sin(\\theta)\n</cmath>\n\nThen,\n<cmath>\n[CAB] = 2 \\cdot [CDB] = 12y\\sin(\\theta)\n</cmath>\n\nPlugging in our values for <math>y</math> and <math>\\sin(\\theta)</math>:\n<cmath>\n12 \\cdot 3\\sqrt{13} \\cdot \\frac{3}{\\sqrt{13}} = \\boxed{108}\n</cmath>\n\n=== Solution 3 (Mass Points, Stewart's Theorem, Heron's Formula) ===\nBecause we're given three concurrent [[cevian]]s and their lengths, it seems very tempting to apply [[Mass points]]. We immediately see that <math>w_E = 3</math>, <math>w_B = 1</math>, and <math>w_A = w_D = 2</math>. Now, we recall that the masses on the three sides of the triangle must be balanced out, so <math>w_C = 1</math> and <math>w_F = 3</math>. Thus, <math>CP = 15</math> and <math>PF = 5</math>. \n\nRecalling that <math>w_C = w_B = 1</math>, we see that <math>DC = DB</math> and <math>DP</math> is a [[median]] to <math>BC</math> in <math>\\triangle BCP</math>. Applying [[Stewart's Theorem]], we have the following:\n<cmath>\\frac{BC}{2}(9^2+15^2)=BC(6^2+ \\left(\\frac{BC}{2} \\right)^2).</cmath>\nEliminating <math>BC</math> on both sides, we have:\n<cmath>\\frac 12(9^2+15^2)=6^2+ \\left(\\frac{BC}{2} \\right)^2.</cmath>\nCombining terms and simplifying numbers, we have:\n<cmath>153=36+\\left(\\frac{BC}{2} \\right)^2.</cmath>\nSubtracting 36 to the other side yields:\n<cmath>117= \\left(\\frac{BC}{2} \\right)^2.</cmath>\nFinishing it off from there, we find that <math>BC=2 \\sqrt{117}.</math> Now, notice that <math>2[BCP] = [ABC]</math>, because both triangles share the same base, <math>BC</math> and <math>h_{\\triangle ABC} = 2h_{\\triangle BCP}</math>. Applying [[Heron's formula]] on triangle <math>BCP</math> with sides <math>15</math>, <math>9</math>, and <math>2\\sqrt{117}</math>, we have:\n<cmath>\\sqrt{(\\sqrt{117}+12)(\\sqrt{117}+12-9)(\\sqrt{117}+12-15)(\\sqrt{117}+12-2\\sqrt{117})}.</cmath>\nCombining terms results in:\n<cmath>\\sqrt{(\\sqrt{117}+12)(\\sqrt{117}+3)(\\sqrt{117}-3)(-\\sqrt{117}+12)}.</cmath>\nNotice that these factors can be grouped into a difference of squares:\n<cmath>\\sqrt{(144-\\sqrt{117}^2)(\\sqrt{117}^2-9)}.</cmath>\nSince <math>\\sqrt{117}^2=117</math>, we have:\n<cmath>\\sqrt{(27)(108)}.</cmath>\nAfter simplifying this radical, we find that it equals <math>54.</math> Therefore, <math>[BCP] = 54</math>, and hence <math>[ABC]=2 \\cdot 54= \\boxed{108}</math>.\n\n(The original author made a mistake in their solution. Corrected and further explained by dbnl.)\n\n=== Solution 4 (Ceva's Theorem, Stewart's Theorem) ===\nUsing a different form of [[Ceva's Theorem]], we have <math>\\frac {y}{x + y} + \\frac {6}{6 + 6} + \\frac {3}{3 + 9} = 1\\Longleftrightarrow\\frac {y}{x + y} = \\frac {1}{4}</math>\n\nSolving <math>4y = x + y</math> and <math>x + y = 20</math>, we obtain <math>x = CP = 15</math> and <math>y = FP = 5</math>.\n\nLet <math>Q</math> be the point on <math>AB</math> such that <math>FC \\parallel QD</math>.\nSince <math>AP = PD</math> and <math>FP\\parallel QD</math>, <math>QD = 2FP = 10</math>. (Stewart's Theorem)\n\nAlso, since <math>FC\\parallel QD</math> and <math>QD = \\frac{FC}{2}</math>, we see that <math>FQ = QB</math>, <math>BD = DC</math>, etc. ([[Stewart's Theorem]])\nSimilarly, we have <math>PR = RB</math> (<math>= \\frac12PB = 7.5</math>) and thus <math>RD = \\frac12PC = 4.5</math>.\n\n<math>PDR</math> is a <math>3-4-5</math> [[right triangle]], so <math>\\angle PDR</math> (<math>\\angle ADQ</math>) is <math>90^\\circ</math>.\nTherefore, the area of <math>\\triangle ADQ = \\frac12\\cdot 12\\cdot 6 = 36</math>.\nUsing area ratio, <math>\\triangle ABC = \\triangle ADB\\times 2 = \\left(\\triangle ADQ\\times \\frac32\\right)\\times 2 = 36\\cdot 3 = \\boxed{108}</math>.\n\n=== Solution 5 (Stewart's Theorem) ===\n\nFirst, let <math>[AEP]=a, [AFP]=b,</math> and <math>[ECP]=c.</math> Thus, we can easily find that <math>\\frac{[AEP]}{[BPD]}=\\frac{3}{9}=\\frac{1}{3} \\Leftrightarrow [BPD]=3[AEP]=3a.</math> Now, <math>\\frac{[ABP]}{[BPD]}=\\frac{6}{6}=1\\Leftrightarrow [ABP]=3a.</math> In the same manner, we find that <math>[CPD]=a+c.</math> Now, we can find that <math>\\frac{[BPC]}{[PEC]}=\\frac{9}{3}=3 \\Leftrightarrow \\frac{(3a)+(a+c)}{c}=3 \\Leftrightarrow c=2a.</math> We can now use this to find that <math>\\frac{[APC]}{[AFP]}=\\frac{[BPC]}{[BFP]}=\\frac{PC}{FP} \\Leftrightarrow \\frac{3a}{b}=\\frac{6a}{3a-b} \\Leftrightarrow a=b.</math> Plugging this value in, we find that <math>\\frac{FC}{FP}=3 \\Leftrightarrow PC=15, FP=5.</math> Now, since <math>\\frac{[AEP]}{[PEC]}=\\frac{a}{2a}=\\frac{1}{2},</math> we can find that <math>2AE=EC.</math> Setting <math>AC=b,</math> we can apply [[Stewart's Theorem]] on triangle <math>APC</math> to find that <math>(15)(15)(\\frac{b}{3})+(6)(6)(\\frac{2b}{3})=(\\frac{2b}{3})(\\frac{b}{3})(b)+(b)(3)(3).</math> Solving, we find that <math>b=\\sqrt{405} \\Leftrightarrow AE=\\frac{b}{3}=\\sqrt{45}.</math> But, <math>3^2+6^2=45,</math> meaning that <math>\\angle{APE}=90 \\Leftrightarrow [APE]=\\frac{(6)(3)}{2}=9=a.</math> Since <math>[ABC]=a+a+2a+2a+3a+3a=12a=(12)(9)=108,</math> we conclude that the answer is <math>\\boxed{108}</math>.\n\n=== Solution 6 (Mass of a Point, Stewart's Theorem, Heron's Formula) ===\nFirstly, since they all meet at one single point, denoting the mass of them separately. Assuming <math>M(A)=6;M(D)=6;M(B)=3;M(E)=9</math>; we can get that <math>M(P)=12;M(F)=9;M(C)=3</math>; which leads to the ratio between segments, \n<cmath>\\frac{CE}{AE}=2;\\frac{BF}{AF}=2;\\frac{BD}{CD}=1.</cmath> Denoting that <math>CE=2x;AE=x; AF=y; BF=2y; CD=z; DB=z.</math> \n\nNow we know three cevians' length, Applying Stewart theorem to them, getting three different equations:\n<cmath>\\begin{align}\n(3x)^2 \\cdot 2y+(2z)^2 \\cdot y&=(3y)(2y^2+400), \\\\\n(3y)^2 \\cdot z+(3x)^2 \\cdot z&=(2z)(z^2+144), \\\\\n(2z)^2 \\cdot x+(3y)^2 \\cdot x&=(3x)(2x^2+144).\n\\end{align}</cmath>\nAfter solving the system of equation, we get that <math>x=3\\sqrt{5};y=\\sqrt{13};z=3\\sqrt{13}</math>;\n\npulling <math>x,y,z</math> back to get the length of <math>AC=9\\sqrt{5};AB=3\\sqrt{13};BC=6\\sqrt{13}</math>; now we can apply Heron's formula here, which is <cmath>\\sqrt\\frac{(9\\sqrt{5}+9\\sqrt{13})(9\\sqrt{13}-9\\sqrt{5})(9\\sqrt{5}+3\\sqrt{13})(9\\sqrt{5}-3\\sqrt{13})}{16}=108.</cmath>\n\nOur answer is <math>\\boxed{108}</math>.\n\n~bluesoul\n\n====Note (how to find x and y without the system of equations)====\nTo ease computation, we can apply Stewart's Theorem to find <math>x</math>, <math>y</math>, and <math>z</math> directly. Since <math>M(C)=3</math> and <math>M(F)=9</math>, <math>\\overline{PC}=15</math> and <math>\\overline{PF}=5</math>. We can apply Stewart's Theorem on <math>\\triangle CPE</math> to get <math>(2x+x)(2x \\cdot x) + 3^2 \\cdot 3x = 15^2 \\cdot x + 6^2\\cdot 2x</math>. Solving, we find that <math>x=3\\sqrt{5}</math>. We can do the same on <math>\\triangle APB</math> and <math>\\triangle BPC</math> to obtain <math>y</math> and <math>z</math>. We proceed with Heron's Formula as the solution states. \n\n~kn07\n\n=== Solution 7 (easier version of Solution 5)===\n\nIn Solution 5, instead of finding all of <math>x, y, z</math>, we only need <math>y, z</math>. This is because after we solve for <math>y, z</math>, we can notice that <math>\\triangle BAD</math> is isosceles with <math>AB = BD</math>. Because <math>P</math> is the midpoint of the base, <math>BP</math> is an altitude of <math>\\triangle BAD</math>. Therefore, <math>[BAD] = \\frac{(AD)(BP)}{2} = \\frac{12 \\cdot 9}{2} = 54</math>. Using the same altitude property, we can find that <math>[ABC] = 2[BAD] = 2 \\cdot 54 = \\boxed{108}</math>.\n\n-NL008\n\n=== Solution 8 (Mass Points, Stewart's Theorem, Simple Version) ===\n\nSet <math>AF=x,</math> and use [[mass points]] to find that <math>PF=5</math> and <math>BF=2x.</math> Using [[Stewart's Theorem]] on <math>APB,</math> we find that <math>AB=3\\sqrt{13}.</math> Then we notice that <math>APB</math> is right, which means the area of <math>APB</math> is <math>27.</math> Because <math>CF=4\\cdot PF,</math> the area of <math>ABC</math> is <math>4</math> times the area of <math>APB,</math> which means the area of <math>ABC=4\\cdot 27=\\boxed{108}.</math>\n\n=== Solution 9 (Ratios, Auxiliary Lines and 3-4-5 triangle) ===\n\nWe try to solve this using only elementary concepts. Let the areas of triangles <math>BCP</math>, <math>ACP</math> and <math>ABP</math> be <math>X</math>, <math>Y</math> and <math>Z</math> respectively. Then <math>\\frac{X}{Y+Z}=\\frac{6}{6}=1</math> and <math>\\frac{Y}{X+Z}=\\frac{3}{9}=\\frac{1}{3}</math>. Hence <math>\\frac{X}{2}=Y=Z</math>. Similarly <math>\\frac{FP}{PC}=\\frac{Z}{X+Y}=\\frac{1}{3}</math> and since <math>CF=20</math> we then have <math>FP=5</math>. Additionally we now see that triangles <math>FPE</math> and <math>CPB</math> are similar, so <math>FE \\parallel BC</math> and <math>\\frac{FE}{BC} = \\frac{1}{3}</math>. Hence <math>\\frac{AF}{FB}=\\frac{1}{2}</math>. Now construct a point <math>K</math> on segment <math>BP</math> such that <math>BK=6</math> and <math>KP=3</math>, we will have <math>FK \\parallel AP</math>, and hence <math>\\frac{FK}{AP} = \\frac{FK}{6} = \\frac{2}{3}</math>, giving <math>FK=4</math>. Triangle <math>FKP</math> is therefore a 3-4-5 triangle! So <math>FK \\perp BE</math> and so <math>AP \\perp BE</math>. Then it is easy to calculate that <math>Z = \\frac{1}{2} \\times 6 \\times 9 = 27</math> and the area of triangle <math>ABC = X+Y+Z = 4Z = 4 \\times 27 = \\boxed{108}</math>.\n~Leole\n\n\n=== Solution 10 (Just Trig Bash) ===\n\nWe start with mass points as in Solution 2, and receive <math>BF:AF = 2</math>, <math>BD:CD = 1</math>, <math>CE:AE = 2</math>. [[Law of Cosines]] on triangles <math>ADB</math> and <math>ADC</math> with <math>\\theta = \\angle ADB</math> and <math>BD=DC=x</math> gives\n<cmath>36+x^2-12x\\cos \\theta = 81</cmath>\n<cmath>36+x^2-12x\\cos (180-\\theta) = 36+x^2+12x\\cos \\theta = 225</cmath>\nAdding them: <math>72+2x^2=306 \\implies x=3\\sqrt{13}</math>, so <math>BC = 6\\sqrt{13}</math>. Similarly, <math>AB = 3\\sqrt{13}</math> and <math>AC = 9\\sqrt{5}</math>. Using Heron's,\n<cmath>[ \\triangle ABC ]= \\sqrt{\\left(\\dfrac{9\\sqrt{13}+9\\sqrt{5}}{2}\\right)\\left(\\dfrac{9\\sqrt{13}+9\\sqrt{5}}{2}\\right)\\left(\\dfrac{3\\sqrt{13}+9\\sqrt{5}}{2}\\right)\\left(\\dfrac{-3\\sqrt{13}+9\\sqrt{5}}{2}\\right)} = \\boxed{108}.</cmath>\n\n~sml1809"
  },
  {
    "year": 1990,
    "variant": "I",
    "problem_number": 1,
    "latex": "The [[increasing sequence]] <math>2,3,5,6,7,10,11,\\ldots</math> consists of all [[positive integer]]s that are neither the [[perfect square | square]] nor the [[perfect cube | cube]] of a positive integer. Find the 500th term of this sequence.",
    "solution": "Because there aren't that many perfect squares or cubes, let's look for the smallest perfect square greater than <math>500</math>. This happens to be <math>23^2=529</math>. Notice that there are <math>23</math> squares and <math>8</math> cubes less than or equal to <math>529</math>, but <math>1</math> and <math>2^6</math> are both squares and cubes. Thus, there are <math>529-23-8+2=500</math> numbers in our sequence less than <math>529</math>.  Magically, we want the <math>500th</math> term, so our answer is the biggest non-square and non-cube less than <math>529</math>, which is <math>\\boxed{528}</math>."
  },
  {
    "year": 1990,
    "variant": "I",
    "problem_number": 2,
    "latex": "Find the value of <math>(52+6\\sqrt{43})^{3/2}-(52-6\\sqrt{43})^{3/2}</math>.",
    "solution": "Suppose that <math>52+6\\sqrt{43}</math> is in the form of <math>(a + b\\sqrt{43})^2</math>. [[FOIL]]ing yields that <math>52 + 6\\sqrt{43} = a^2 + 43b^2 + 2ab\\sqrt{43}</math>. This implies that <math>a</math> and <math>b</math> equal one of <math>\\pm3, \\pm1</math>. The possible [[set]]s are <math>(3,1)</math> and <math>(-3,-1)</math>; the latter can be discarded since the [[square root]] must be positive. This means that <math>52 + 6\\sqrt{43} = (\\sqrt{43} + 3)^2</math>. Repeating this for <math>52-6\\sqrt{43}</math>, the only feasible possibility is <math>(\\sqrt{43} - 3)^2</math>.\n\nRewriting, we get <math>(\\sqrt{43} + 3)^3 - (\\sqrt{43} - 3)^3</math>. Using the difference of [[cube]]s, we get that <math>[\\sqrt{43} + 3\\ - \\sqrt{43} + 3]\\ [(43 + 6\\sqrt{43} + 9) + (43 - 9) + (43 - 6\\sqrt{43} + 9)]</math> <math> = (6)(3 \\cdot 43 + 9) = \\boxed{828}</math>.\nNote: You can also just use the formula <math>(a + b)^2 = a^2 + 2ab + b^2</math> instead of [[FOIL | foiling]]."
  },
  {
    "year": 1990,
    "variant": "I",
    "problem_number": 3,
    "latex": "Let <math>P_1^{}</math> be a [[Regular polygon|regular]] <math>r~\\mbox{gon}</math> and <math>P_2^{}</math> be a regular <math>s~\\mbox{gon}</math> <math>(r\\geq s\\geq 3)</math> such that each [[interior angle]] of <math>P_1^{}</math> is <math>\\frac{59}{58}</math> as large as each interior angle of <math>P_2^{}</math>. What's the largest possible value of <math>s_{}^{}</math>?",
    "solution": "The formula for the interior angle of a regular sided [[polygon]] is <math>\\frac{(n-2)180}{n}</math>. \n\nThus, <math>\\frac{\\frac{(r-2)180}{r}}{\\frac{(s-2)180}{s}} = \\frac{59}{58}</math>. Cross multiplying and simplifying, we get <math>\\frac{58(r-2)}{r} = \\frac{59(s-2)}{s}</math>. Cross multiply and combine like terms again to yield <math>58rs - 58 \\cdot 2s = 59rs - 59 \\cdot 2r \\Longrightarrow 118r - 116s = rs</math>. Solving for <math>r</math>, we get <math>r = \\frac{116s}{118 - s}</math>.\n\n<math>r \\ge 0</math> and <math>s \\ge 0</math>, making the [[numerator]] of the [[fraction]] positive. To make the [[denominator]] [[positive]], <math>s < 118</math>; the largest possible value of <math>s</math> is <math>117</math>.\n\nThis is achievable because the denominator is <math>1</math>, making <math>r</math> a positive number <math>116 \\cdot 117</math> and <math>s = \\boxed{117}</math>."
  },
  {
    "year": 1990,
    "variant": "I",
    "problem_number": 4,
    "latex": "Find the positive solution to\n<center><math>\\frac 1{x^2-10x-29}+\\frac1{x^2-10x-45}-\\frac 2{x^2-10x-69}=0</math></center>",
    "solution": "We could clear out the denominators by multiplying, though that would be unnecessarily tedious.\n\nTo simplify the equation, substitute <math>a = x^2 - 10x - 29</math> (the denominator of the first fraction). We can rewrite the equation as <math>\\frac{1}{a} + \\frac{1}{a - 16} - \\frac{2}{a - 40} = 0</math>. Multiplying out the denominators now, we get:\n\n<cmath>(a - 16)(a - 40) + a(a - 40) - 2(a)(a - 16) = 0</cmath>\n\nSimplifying, <math>-64a + 40 \\times 16 = 0</math>, so <math>a = 10</math>. Re-substituting, <math>10 = x^2 - 10x - 29 \\Longleftrightarrow 0 = (x - 13)(x + 3)</math>. The positive [[root]] is <math>\\boxed{013}</math>."
  },
  {
    "year": 1990,
    "variant": "I",
    "problem_number": 5,
    "latex": "Let <math>n^{}_{}</math> be the smallest positive [[integer]] that is a multiple of <math>75_{}^{}</math> and has exactly <math>75_{}^{}</math> positive integral divisors, including <math>1_{}^{}</math> and itself. Find <math>\\frac{n}{75}</math>.",
    "solution": "The [[prime factorization]] of <math>75 = 3^15^2 = (2+1)(4+1)(4+1)</math>. For <math>n</math> to have exactly <math>75</math> integral divisors, we need to have <math>n = p_1^{e_1-1}p_2^{e_2-1}\\cdots</math> such that <math>e_1e_2 \\cdots = 75</math>. Since <math>75|n</math>, two of the [[prime]] [[factor]]s must be <math>3</math> and <math>5</math>. To minimize <math>n</math>, we can introduce a third prime factor, <math>2</math>. Also to minimize <math>n</math>, we want <math>5</math>, the greatest of all the factors, to be raised to the least power. Therefore, <math>n = 2^43^45^2</math> and <math>\\frac{n}{75} = \\frac{2^43^45^2}{3 \\cdot 5^2} = 16 \\cdot 27 = \\boxed{432}</math>.\n\n<math>\\textbf{ Note: the smallest integer n which has 75 factors, happens to be a multiple of 75 anyway  }</math>"
  },
  {
    "year": 1990,
    "variant": "I",
    "problem_number": 6,
    "latex": "A biologist wants to calculate the number of fish in a lake. On May 1 she catches a random sample of 60 fish, tags them, and releases them. On September 1 she catches a random sample of 70 fish and finds that 3 of them are tagged. To calculate the number of fish in the lake on May 1, she assumes that 25% of these fish are no longer in the lake on September 1 (because of death and emigrations), that 40% of the fish were not in the lake May 1 (because of births and immigrations), and that the number of untagged fish and tagged fish in the September 1 sample are representative of the total population. What does the biologist calculate for the number of fish in the lake on May 1?",
    "solution": "Of the <math>70</math> fish caught in September, <math>40\\%</math> were not there in May, so <math>42</math> fish were there in May. Since the percentage of tagged fish in September is proportional to the percentage of tagged fish in May, <math>\\frac{3}{42} = \\frac{60}{x} \\Longrightarrow \\boxed{x = 840}</math>.\n\n(Note the 25% death rate does not affect the answer because both tagged and nontagged fish die.)"
  },
  {
    "year": 1990,
    "variant": "I",
    "problem_number": 7,
    "latex": "A [[triangle]] has [[vertex|vertices]] <math>P_{}^{}=(-8,5)</math>, <math>Q_{}^{}=(-15,-19)</math>, and <math>R_{}^{}=(1,-7)</math>. The [[equation]] of the [[angle bisector|bisector]] of <math>\\angle P</math> can be written in the form <math>ax+2y+c=0_{}^{}</math>. Find <math>a+c_{}^{}</math>.\n\n<center><asy>\nimport graph;\npointpen=black;pathpen=black+linewidth(0.7);pen f = fontsize(10);\npair P=(-8,5),Q=(-15,-19),R=(1,-7),S=(7,-15),T=(-4,-17);\nMP(\"P\",P,N,f);MP(\"Q\",Q,W,f);MP(\"R\",R,E,f);\nD(P--Q--R--cycle);D(P--T,EndArrow(2mm));\nD((-17,0)--(4,0),Arrows(2mm));D((0,-21)--(0,7),Arrows(2mm));\n</asy></center>\n<!-- replaced: Image:1990 AIME Problem 7.png by I_like_pie -->\n__TOC__",
    "solution": "Use the [[distance formula]] to determine the lengths of each of the sides of the triangle. We find that it has lengths of side <math>15,\\ 20,\\ 25</math>, indicating that it is a <math>3-4-5</math> [[right triangle]]. At this point, we just need to find another [[point]] that lies on the bisector of <math>\\angle P</math>.\n\n=== Solution 1 ===\n<center><asy>\nimport graph;\npointpen=black;pathpen=black+linewidth(0.7);pen f = fontsize(10);\npair P=(-8,5),Q=(-15,-19),R=(1,-7),S=(7,-15),T=(-4,-17),U=IP(P--T,Q--R);\nMP(\"P\",P,N,f);MP(\"Q\",Q,W,f);MP(\"R\",R,E,f);MP(\"P'\",U,SE,f);\nD(P--Q--R--cycle);D(U);D(P--U);\nD((-17,0)--(4,0),Arrows(2mm));D((0,-21)--(0,7),Arrows(2mm));\n</asy></center>\nUse the [[angle bisector theorem]] to find that the angle bisector of <math>\\angle P</math> divides <math>QR</math> into segments of length <math>\\frac{25}{x} = \\frac{15}{20 -x} \\Longrightarrow x = \\frac{25}{2},\\ \\frac{15}{2}</math>. It follows that <math>\\frac{QP'}{RP'} = \\frac{5}{3}</math>, and so <math>P' = \\left(\\frac{5x_R + 3x_Q}{8},\\frac{5y_R + 3y_Q}{8}\\right) = (-5,-23/2)</math>.\n\nThe desired answer is the equation of the line <math>PP'</math>. <math>PP'</math> has slope <math>\\frac{-11}{2}</math>, from which we find the equation to be <math>11x + 2y + 78 = 0</math>. Therefore, <math>a+c = \\boxed{089}</math>. \n\n=== Solution 2 ===\n<center><asy>\nimport graph;\npointpen=black;pathpen=black+linewidth(0.7);pen f = fontsize(10);\npair P=(-8,5),Q=(-15,-19),R=(1,-7),S=(7,-15),T=(-4,-17);\nMP(\"P\",P,N,f);MP(\"Q\",Q,W,f);MP(\"R\",R,NE,f);MP(\"S\",S,E,f);\nD(P--Q--R--cycle);D(R--S--Q,dashed);D(T);D(P--T);\nD((-17,0)--(4,0),Arrows(2mm));D((0,-21)--(0,7),Arrows(2mm));\n</asy></center>\nExtend <math>PR</math> to a point <math>S</math> such that <math>PS = 25</math>. This forms an [[isosceles triangle]] <math>PQS</math>. The [[coordinate]]s of <math>S</math>, using the slope of <math>PR</math> (which is <math>-4/3</math>), can be determined to be <math>(7,-15)</math>. Since the [[angle bisector]] of <math>\\angle P</math> must touch the midpoint of <math>QS \\Rightarrow (-4,-17)</math>, we have found our two points. We reach the same answer of <math>11x + 2y + 78 = 0</math>.\n\n=== Solution 3 ===\n<center><asy>\nimport graph;\npointpen=black;pathpen=black+linewidth(0.7);pen f = fontsize(10);\npair P=(-8,5),Q=(-15,-19),R=(1,-7),S=(7,-15),T=(-4,-17),U=IP(P--T,Q--R);\nMP(\"P\",P,N,f);MP(\"Q\",Q,W,f);MP(\"R\",R,E,f);MP(\"P'\",U,SE,f);\nD(P--Q--R--cycle);D(U);D(P--U);\nD((-17,0)--(4,0),Arrows(2mm));D((0,-21)--(0,7),Arrows(2mm));\nD(Q--(U.x,Q.y)--U,dashed);D(rightanglemark(Q,(U.x,Q.y),U,20),dashed);\n</asy></center>\nBy the angle bisector theorem as in solution 1, we find that <math>QP' = 25/2</math>. If we draw the right triangle formed by <math>Q, P',</math> and the point directly to the right of <math>Q</math> and below <math>P'</math>, we get another <math>3-4-5 \\triangle</math> (since the slope of <math>QR</math> is <math>3/4</math>). Using this, we find that the horizontal projection of <math>QP'</math> is <math>10</math> and the vertical projection of <math>QP'</math> is <math>15/2</math>. \n\nThus, the angle bisector touches <math>QR</math> at the point <math>\\left(-15 + 10, -19 + \\frac{15}{2}\\right) = \\left(-5,-\\frac{23}{2}\\right)</math>, from where we continue with the first solution.\n\n=== Solution 4 ===\nThis solution uses terminology from the other solutions. The incenter is a much easier point to find on the line <math>PP'</math>. Note that the inradius of <math>\\triangle PQR</math> is <math>5</math>. If you do not understand this, substitute values into the <math>[\\triangle ABC] = rs</math> equation. If lines are drawn from the incenter perpendicular to <math>PR</math> and <math>QR</math>, then a square with side length <math>5</math> will be created. Call the point opposite <math>R</math> in this square <math>R'</math>. Since <math>R</math> has coordinates <math>(1, -7)</math>, and the sides of the squares are on a <math>3-4-5</math> ratio, the coordinates of <math>R'</math> are <math>(-6, -6)</math>. This is because the x-coordinate is moving to the left <math>4+3=7</math> units and the y-coordinate is moving up <math>-3+4=1</math> units. The line through <math>(-8,5)</math> and <math>(-6,-6)</math> is <math>11x+2y+78=0</math>.\n\n===Solution 5 (Trigonometry)===\n<center><asy>\nimport graph;\npointpen=black;pathpen=black+linewidth(0.7);pen f = fontsize(10);\npair P=(0,0),Q=(-7,-24),R=(9,-12),S=(15,-20),T=(4,-22);\nMP(\"Q\",Q,W,f);MP(\"R\",R,E,f);\nD(P--Q--R--cycle);D(P--T,EndArrow(2mm));\nD((-8,0)--(13,0),Arrows(2mm));D((0,-21)--(0,7),Arrows(2mm));\n</asy></center>\n\nTransform triangle <math>PQR</math> so that <math>P</math> is at the origin. Note that the slopes do not change when we transform the triangle.\n\n\nWe know that the slope of <math>PQ</math> is <math>\\frac{24}{7}</math> and the slope of <math>PR</math> is <math>-\\frac{4}{3}</math>. Thus, in the complex plane, they are equivalent to <math>\\tan(\\alpha)=\\frac{24}{7}</math> and <math>\\tan(\\beta)=-\\frac{4}{3}</math>, respectively. Here <math>\\alpha</math> is the angle formed by the <math>x</math>-axis and <math>PQ</math>, and <math>\\beta</math> is the angle formed by the <math>x</math>-axis and <math>PR</math>. The equation of the angle bisector is <math>\\tan\\left(\\frac{\\alpha+\\beta}{2}\\right)</math>.\n\n\nAs the tangents are in very neat [[pythagorean triple|Pythagorean triples]], we can easily calculate <math>\\cos(\\alpha)</math> and <math>\\cos(\\beta)</math>.\n\nAngle <math>\\alpha</math> is in the third quadrant, so <math>\\cos(\\alpha)</math> is negative. Thus <math>\\cos(\\alpha)=-\\frac{7}{25}</math>.\n\nAngle <math>\\beta</math> is in the fourth quadrant, so <math>\\cos(\\beta)</math> is positive. Thus <math>\\cos(\\beta)=\\frac{3}{5}</math>.\n\n\nBy the [[Trigonometric identities#Half-angle identities|Half-Angle Identities]], <math>\\tan\\left(\\frac{\\alpha}{2}\\right)=\\pm\\sqrt{\\frac{1-\\cos(\\alpha)}{1+\\cos(\\alpha)}}=\\pm\\sqrt{\\frac{\\frac{32}{25}}{\\frac{18}{25}}}=\\pm\\sqrt{\\frac{16}{9}}=\\pm\\frac{4}{3}</math> and <math>\\tan\\left(\\frac{\\beta}{2}\\right)=\\pm\\sqrt{\\frac{1-\\cos(\\beta)}{1+\\cos(\\beta)}}=\\pm\\sqrt{\\frac{\\frac{2}{5}}{\\frac{8}{5}}}=\\pm\\sqrt{\\frac{1}{4}}=\\pm\\frac{1}{2}</math>.\n\nSince <math>\\frac{\\alpha}{2}</math> and <math>\\frac{\\beta}{2}</math> must be in the second quadrant, their tangent values are both negative. Thus <math>\\tan\\left(\\frac{\\alpha}{2}\\right)=-\\frac{4}{3}</math> and <math>\\tan\\left(\\frac{\\beta}{2}\\right)=-\\frac{1}{2}</math>.\n\n\nBy the [[Trigonometric identities#Angle addition identities|sum of tangents formula]], <math>\\tan\\left(\\frac{\\alpha}{2}+\\frac{\\beta}{2}\\right)=\\frac{\\tan\\left(\\frac{\\alpha}{2}\\right)+\\tan\\left(\\frac{\\beta}{2}\\right)}{1-\\tan\\left(\\frac{\\alpha}{2}\\right)\\tan\\left(\\frac{\\beta}{2}\\right)}=\\frac{-\\frac{11}{6}}{\\frac{1}{3}}=-\\frac{11}{2}</math>, which is the slope of the angle bisector.\n\n\nFinally, the equation of the angle bisector is <math>y-5=-\\frac{11}{2}(x+8)</math> or <math>y=-\\frac{11}{2}x-39</math>. Rearranging, we get <math>11x+2y+78=0</math>, so our sum is <math>a+c=11+78=\\boxed{089}</math>. ~eevee9406"
  },
  {
    "year": 1990,
    "variant": "I",
    "problem_number": 8,
    "latex": "In a shooting match, eight clay targets are arranged in two hanging columns of three targets each and one column of two targets. A marksman is to break all the targets according to the following rules: \n\n1) The marksman first chooses a column from which a target is to be broken. \n\n2) The marksman must then break the lowest remaining target in the chosen column. \n\nIf the rules are followed, in how many different orders can the eight targets be broken?\n\n[[File:1990 AIME Problem 8.png|center|160px]]",
    "solution": "Clearly, the marksman must shoot the left column three times, the middle column two times, and the right column three times.\n\nFrom left to right, suppose that the columns are labeled <math>L,M,</math> and <math>R,</math> respectively. We consider the string <math>LLLMMRRR:</math>\n\nSince the letter arrangements of <math>LLLMMRRR</math> and the shooting orders have one-to-one correspondence, we count the letter arrangements: <cmath>\\frac{8!}{3!\\cdot2!\\cdot3!} = \\boxed{560}.</cmath>\n\n~Azjps (Solution)\n\n~MRENTHUSIASM (Revision)"
  },
  {
    "year": 1990,
    "variant": "I",
    "problem_number": 9,
    "latex": "A [[fair]] coin is to be tossed <math>10_{}^{}</math> times. Let <math>\\frac{i}{j}^{}_{}</math>, in lowest terms, be the [[probability]] that heads never occur on consecutive tosses. Find <math>i+j_{}^{}</math>. \n\n__TOC__",
    "solution": "=== Solution 1 ===\nClearly, at least <math>5</math> tails must be flipped; any less, then by the [[Pigeonhole Principle]] there will be heads that appear on consecutive tosses. \n\nConsider the case when <math>5</math> tails occur. The heads must fall between the tails such that no two heads fall between the same tails, and must fall in the positions labeled <math>(H)</math>:\n\n:<math>(H)\\ T\\ (H)\\ T\\ (H)\\ T\\ (H)\\ T\\ (H)\\ T\\ (H)</math>\n\nThere are six slots for the heads to be placed, but only <math>5</math> heads remaining. Thus, using [[stars-and-bars]] there are <math>{6\\choose5}</math> possible combinations of <math>5</math> heads. Continuing this pattern, we find that there are <math>\\sum_{i=6}^{11} {i\\choose{11-i}} = {6\\choose5} + {7\\choose4} + {8\\choose3} + {9\\choose2} + {{10}\\choose1} + {{11}\\choose0} = 144</math>. There are a total of <math>2^{10}</math> possible flips of <math>10</math> coins, making the probability <math>\\frac{144}{1024} = \\frac{9}{64}</math>. Thus, our solution is <math>9 + 64 = \\boxed{073}</math>.\n\n=== Solution 2 (Recursion)===\nCall the number of ways of flipping <math>n</math> coins and not receiving any consecutive heads <math>S_n</math>. Notice that tails must be received in at least one of the first two flips.\n\nIf the first coin flipped is a T, then the remaining <math>n-1</math> flips must fall under one of the configurations of <math>S_{n-1}</math>.\n\nIf the first coin flipped is a H, then the second coin must be a T. There are then <math>S_{n-2}</math> configurations.\n\nThus, <math>S_n = S_{n-1} + S_{n-2}</math>. By counting, we can establish that <math>S_1 = 2</math> and <math>S_2 = 3</math>. Therefore, <math>S_3 = 5,\\ S_4 = 8</math>, forming the [[Fibonacci sequence]]. Listing them out, we get <math>2,3,5,8,13,21,34,55,89,144</math>, and the 10th number is <math>144</math>. Putting this over <math>2^{10}</math> to find the probability, we get <math>\\frac{9}{64}</math>. Our solution is <math>9+64=\\boxed{073}</math>.\n\n=== Solution 3 ===\nWe can also split the problem into casework.\n\nCase 1: 0 Heads\n\nThere is only one possibility.\n\nCase 2: 1 Head\n\nThere are 10 possibilities.\n\nCase 3: 2 Heads\n\nThere are 36 possibilities.\n\nCase 4: 3 Heads\n\nThere are 56 possibilities.\n\nCase 5: 4 Heads\n\nThere are 35 possibilities.\n\nCase 6: 5 Heads\n\nThere are 6 possibilities.\n\nWe have <math>1+10+36+56+35+6=144</math>, and there are <math>1024</math> possible outcomes, so the probability is <math>\\frac{144}{1024}=\\frac{9}{64}</math>, and the answer is <math>\\boxed{073}</math>.\n\n<math>\\textbf{-RootThreeOverTwo}</math>"
  },
  {
    "year": 1990,
    "variant": "I",
    "problem_number": 10,
    "latex": "The sets <math>A = \\{z : z^{18} = 1\\}</math> and <math>B = \\{w : w^{48} = 1\\}</math> are both sets of complex [[roots of unity]].  The set <math>C = \\{zw : z \\in A ~ \\mbox{and} ~ w \\in B\\}</math> is also a set of complex roots of unity.  How many distinct elements are in <math>C_{}^{}</math>?",
    "solution": "=== Solution 1 ===\nThe [[least common multiple]] of <math>18</math> and <math>48</math> is <math>144</math>, so define <math>n = e^{2\\pi i/144}</math>. We can write the numbers of set <math>A</math> as <math>\\{n^8, n^{16}, \\ldots n^{144}\\}</math> and of set <math>B</math> as <math>\\{n^3, n^6, \\ldots n^{144}\\}</math>. <math>n^x</math> can yield at most <math>144</math> different values. All solutions for <math>zw</math> will be in the form of <math>n^{8k_1 + 3k_2}</math>. \n\n<math>8</math> and <math>3</math> are relatively prime, and by the [[Chicken McNugget Theorem]], for two relatively prime integers <math>a,b</math>, the largest number that cannot be expressed as the sum of multiples of <math>a,b</math> is <math>a \\cdot b - a - b</math>. For <math>3,8</math>, this is <math>13</math>; however, we can easily see that the numbers <math>145</math> to <math>157</math> can be written in terms of <math>3,8</math>. Since the exponents are of roots of unities, they reduce <math>\\mod{144}</math>, so all numbers in the range are covered. Thus the answer is <math>\\boxed{144}</math>.\n\n==== Comment of S1 ====\nUsing [[Chicken McNugget Theorem]] and the property of complex numbers for reasoning is sharp, but note that the Frobenius Number is only constrained to positive integer pairs. Please check on \"Comment of S2\" below to see how to use [[Diophantine equation]] to make a simple deduction. ~ Will_Dai\n\n=== Solution 2 ===\nThe 18 and 48th roots of <math>1</math> can be found by [[De Moivre's Theorem]]. They are <math>\\text{cis}\\,\\left(\\frac{2\\pi k_1}{18}\\right)</math> and <math>\\text{cis}\\,\\left(\\frac{2\\pi k_2}{48}\\right)</math> respectively, where <math>\\text{cis}\\,\\theta = \\cos \\theta + i \\sin \\theta</math> and <math>k_1</math> and <math>k_2</math> are integers from <math>0</math> to <math>17</math> and <math>0</math> to <math>47</math>, respectively. \n\n<math>zw = \\text{cis}\\,\\left(\\frac{\\pi k_1}{9} + \\frac{\\pi k_2}{24}\\right) = \\text{cis}\\,\\left(\\frac{8\\pi k_1 + 3 \\pi k_2}{72}\\right)</math>. Since the [[trigonometry|trigonometric]] functions are [[periodic function|periodic]] every <math>2\\pi</math>, there are at most <math>72 \\cdot 2 = \\boxed{144}</math> distinct elements in <math>C</math>. As above, all of these will work.\n\n==== Comment on S2 ====\nBy the property of [[Diophantine equation]], given a problem to find integers x and y so that ax + by = c for some integer constants a, b, c: if gcd(a, b) = 1, then any arbitrary integer c could by formed with some combination of integers (x, y). Double checking the constraints of k_1 and k_2, we realize that all integers of [0, 143] can be formed by 8 * k1 + 3 * k2, yielding the answer of 144.\n~Will_Dai\n\n=== Solution 3 ===\nThe values in polar form will be <math>(1, 20x)</math> and <math>(1, 7.5x)</math>. Multiplying these gives <math>(1, 27.5x)</math>. Then, we get <math>27.5</math>, <math>55</math>, <math>82.5</math>, <math>110</math>, <math>...</math> up to <math>3960</math> <math>(\\text{lcm}(55,360)) \\implies \\frac{3960 \\cdot 2}{55}=\\boxed{144}</math>."
  },
  {
    "year": 1990,
    "variant": "I",
    "problem_number": 11,
    "latex": "Someone observed that <math>6! = 8 \\cdot 9 \\cdot 10</math>.  Find the largest [[positive]] [[integer]] <math>n^{}_{}</math> for which <math>n^{}_{}!</math> can be expressed as the [[product]] of <math>n - 3_{}^{}</math> [[consecutive]] positive integers.",
    "solution": "The product of <math>n - 3</math> consecutive integers can be written as <math>\\frac{(n - 3 + a)!}{a!}</math> for some integer <math>a</math>. Thus, <math>n! = \\frac{(n - 3 + a)!}{a!}</math>, from which it  becomes evident that <math>a \\ge 3</math>. Since <math>(n - 3 + a)! > n!</math>, we can rewrite this as <math>\\frac{n!(n+1)(n+2) \\ldots (n-3+a)}{a!} = n! \\Longrightarrow (n+1)(n+2) \\ldots (n-3+a) = a!</math>. For <math>a = 4</math>, we get <math>n + 1 = 4!</math> so <math>n = 23</math>. For greater values of <math>a</math>, we need to find the product of <math>a-3</math> consecutive integers that equals <math>a!</math>. <math>n</math> can be approximated as <math>^{a-3}\\sqrt{a!}</math>, which decreases as <math>a</math> increases. Thus, <math>n = 23</math> is the greatest possible value to satisfy the given conditions."
  },
  {
    "year": 1990,
    "variant": "I",
    "problem_number": 12,
    "latex": "A [[regular polygon|regular]] 12-gon is inscribed in a [[circle]] of [[radius]] 12.  The [[sum]] of the lengths of all sides and [[diagonal]]s of the 12-gon can be written in the form <math>a + b \\sqrt{2} + c \\sqrt{3} + d \\sqrt{6},</math> where <math>a^{}_{}</math>, <math>b^{}_{}</math>, <math>c^{}_{}</math>, and <math>d^{}_{}</math> are positive integers.  Find <math>a + b + c + d^{}_{}</math>.",
    "solution": "[[Image:1990 AIME-12.png]]\n\nThe easiest way to do this seems to be to find the length of each of the sides and diagonals. To do such, draw the [[radius|radii]] that meet the endpoints of the sides/diagonals; this will form [[isosceles triangle]]s. Drawing the [[altitude]] of those [[triangle]]s and then solving will yield the respective lengths.\n\n*The length of each of the 12 sides is <math>2 \\cdot 12\\sin 15</math>. <math>24\\sin 15 = 24\\sin (45 - 30) = 24\\frac{\\sqrt{6} - \\sqrt{2}}{4} = 6(\\sqrt{6} - \\sqrt{2})</math>.\n*The length of each of the 12 diagonals that span across 2 edges is <math>2 \\cdot 12\\sin 30 = 12</math> (or notice that the triangle formed is [[equilateral triangle|equilateral]]).\n*The length of each of the 12 diagonals that span across 3 edges is <math>2 \\cdot 12\\sin 45 = 12\\sqrt{2}</math> (or notice that the triangle formed is a <math>45 - 45 - 90</math> [[right triangle]]).\n*The length of each of the 12 diagonals that span across 4 edges is <math>2 \\cdot 12\\sin 60 = 12\\sqrt{3}</math>.\n*The length of each of the 12 diagonals that span across 5 edges is <math>2 \\cdot 12\\sin 75 = 24\\sin (45 + 30) = 24\\frac{\\sqrt{6}+\\sqrt{2}}{4} = 6(\\sqrt{6}+\\sqrt{2})</math>.\n*The length of each of the 6 [[diameter]]s is <math>2 \\cdot 12 = 24</math>.\n\nAdding all of these up, we get <math>12[6(\\sqrt{6} - \\sqrt{2}) + 12 + 12\\sqrt{2} + 12\\sqrt{3} + 6(\\sqrt{6}+\\sqrt{2})] + 6 \\cdot 24</math> \n\n<math>= 12(12 + 12\\sqrt{2} + 12\\sqrt{3} + 12\\sqrt{6}) + 144 = 288 + 144\\sqrt{2} + 144\\sqrt{3} + 144\\sqrt{6}</math>. Thus, the answer is <math>144 \\cdot 5 = \\boxed{720}</math>."
  },
  {
    "year": 1990,
    "variant": "I",
    "problem_number": 13,
    "latex": "Let <math>T = \\{9^k : k ~ \\mbox{is an integer}, 0 \\le k \\le 4000\\}</math>. Given that <math>9^{4000}_{}</math> has 3817 [[digit]]s and that its first (leftmost) digit is 9, how many [[element]]s of <math>T_{}^{}</math> have 9 as their leftmost digit?",
    "solution": "'''Lemma''': For all positive integers n, there's exactly one n-digit power of 9 that does not have a left-most digit 9\n\n''(Not-so-rigorous) Proof: One can prove by contradiction that there must be at least either one or two n-digit power of 9 for all n.\nIf there is exactly 1 n-digit power of 9, then such a number <math>m</math> cannot begin with 9 since that would result in <math>\\frac{m}{9}</math> also being an n-digits, hence a contradiction. Therefore, this single n-digit power of 9 must not begin with 9. In the case that there are 2 n-digit powers of 9, we have already discovered that one of them must begin with 9, let it be <math>9^k = m</math>. The integer <math>9^{k - 1} = \\frac{m}{9}</math> must then be an n-digit number that begins with <math>1</math>. ''\n\n\nUsing this lemma, out of the 4001 powers of 9 in T, exactly 3816 must not begin with 9 (one for each digit). Therefore, the answer is <math>4000 - 3816 = \\boxed{184}</math> numbers have 9 as their leftmost digits.\n\n~Edited by Mathandski (with help from a math god)"
  },
  {
    "year": 1990,
    "variant": "I",
    "problem_number": 14,
    "latex": "The [[rectangle]] <math>ABCD^{}_{}</math> below has dimensions <math>AB^{}_{} = 12 \\sqrt{3}</math> and <math>BC^{}_{} = 13 \\sqrt{3}</math>.  [[Diagonal]]s <math>\\overline{AC}</math> and <math>\\overline{BD}</math> intersect at <math>P^{}_{}</math>.  If triangle <math>ABP^{}_{}</math> is cut out and removed, edges <math>\\overline{AP}</math> and <math>\\overline{BP}</math> are joined, and the figure is then creased along segments <math>\\overline{CP}</math> and <math>\\overline{DP}</math>, we obtain a [[triangular pyramid]], all four of whose faces are [[isosceles triangle]]s.  Find the volume of this pyramid.\n\n<asy>\npair D=origin, A=(13,0), B=(13,12), C=(0,12), P=(6.5, 6);\ndraw(B--C--P--D--C^^D--A);\nfilldraw(A--P--B--cycle, gray, black);\nlabel(\"$A$\", A, SE);\nlabel(\"$B$\", B, NE);\nlabel(\"$C$\", C, NW);\nlabel(\"$D$\", D, SW);\nlabel(\"$P$\", P, N);\nlabel(\"$13\\sqrt{3}$\", A--D, S);\nlabel(\"$12\\sqrt{3}$\", A--B, E);</asy>\n\n__TOC__",
    "solution": "=== Solution 1(Synthetic) ===\n\n<asy>\nimport three;\npointpen = black; \npathpen = black+linewidth(0.7); \npen small = fontsize(9);\ncurrentprojection = perspective(20,-20,12);\ntriple O=(0,0,0);\ntriple A=(0, 399^(0.5), 0);\ntriple D=(108^(0.5), 0, 0);\ntriple C=(-108^(0.5), 0, 0);\ntriple Pa;\npair Ci=circumcenter((A.x,A.y),(C.x,C.y),(D.x,D.y));\ntriple P=(Ci.x, Ci.y, (99/133)^.5); \nPa=(P.x,P.y,0); \ndraw(P--Pa--A);\ndraw(C--Pa--D); \ndraw((C+D)/2--A--C--D--P--C--P--A--D);\nlabel(\"A\", A, NE);\nlabel(\"P\", P, N);\nlabel(\"C\", C);\nlabel(\"D\", D, S);\nlabel(\"$13\\sqrt{3}$\", (A+D)/2, E, small);\nlabel(\"$13\\sqrt{3}$\", (A+C)/2, N, small);\nlabel(\"$12\\sqrt{3}$\", (C+D)/2, SW, small);\n</asy>\n\nOur triangular pyramid has base <math>12\\sqrt{3} - 13\\sqrt{3} - 13\\sqrt{3} \\triangle</math>. The area of this isosceles triangle is easy to find by <math>[ACD] = \\frac{1}{2}bh</math>, where we can find <math>h_{ACD}</math> to be <math>\\sqrt{399}</math> by the [[Pythagorean Theorem]]. Thus <math>A = \\frac 12(12\\sqrt{3})\\sqrt{399} = 18\\sqrt{133}</math>.\n\n<asy>\nsize(280);\nimport three; \npointpen = black; \npathpen = black+linewidth(0.7); \npen small = fontsize(9);\nreal h=169/2*(3/133)^.5; \ncurrentprojection = perspective(20,-20,12);\ntriple O=(0,0,0);\ntriple A=(0,399^.5,0);\ntriple D=(108^.5,0,0); \ntriple C=(-108^.5,0,0);\npair Ci=circumcenter((A.x,A.y),(C.x,C.y),(D.x,D.y));\ntriple P=(Ci.x, Ci.y, 99/133^.5);\ntriple Pa=(P.x,P.y,0);\ndraw(A--C--D--P--C--P--A--D);\ndraw(P--Pa--A);\ndraw(C--Pa--D);\ndraw(circle(Pa, h));\nlabel(\"A\", A, NE);\nlabel(\"C\", C, NW);\nlabel(\"D\", D, S);\nlabel(\"P\",P , N);\nlabel(\"P$'$\", Pa, SW);\nlabel(\"$13\\sqrt{3}$\", (A+D)/2, E, small);\nlabel(\"$13\\sqrt{3}$\", (A+C)/2, NW, small);\nlabel(\"$12\\sqrt{3}$\", (C+D)/2, SW, small);\nlabel(\"h\", (P + Pa)/2, W);\nlabel(\"$\\frac{\\sqrt{939}}{2}$\", (C+P)/2 ,NW);\n</asy> <!-- Asymptote replacement for Image:1990_AIME-14c.png by azjps -->\n\nTo find the volume, we want to use the equation <math>\\frac 13Bh = 6\\sqrt{133}h</math>, so we need to find the height of the [[tetrahedron]]. By the Pythagorean Theorem, <math>AP = CP = DP = \\frac{\\sqrt{939}}{2}</math>. If we let <math>P</math> be the center of a [[sphere]] with radius <math>\\frac{\\sqrt{939}}{2}</math>, then <math>A,C,D</math> lie on the sphere. The cross section of the sphere that contains <math>A,C,D</math> is a circle, and the center of that circle is the foot of the [[perpendicular]] from the center of the sphere. Hence the foot of the height we want to find occurs at the [[circumcenter]] of <math>\\triangle ACD</math>. \n\nFrom here we just need to perform some brutish calculations. Using the formula <math>A = 18\\sqrt{133} = \\frac{abc}{4R}</math> (where <math>R</math> is the [[circumradius]]), we find <math>R = \\frac{12\\sqrt{3} \\cdot (13\\sqrt{3})^2}{4\\cdot 18\\sqrt{133}} = \\frac{13^2\\sqrt{3}}{2\\sqrt{133}}</math> (there are slightly [[Law of Sines|simpler ways]] to calculate <math>R</math> since we have an isosceles triangle). By the Pythagorean Theorem, \n\n<cmath>\n\\begin{align*}h^2 &= PA^2 - R^2 \\\\\n&= \\left(\\frac{\\sqrt{939}}{2}\\right)^2 - \\left(\\frac{13^2\\sqrt{3}}{2\\sqrt{133}}\\right)^2\\\\\n&= \\frac{939 \\cdot 133 - 13^4 \\cdot 3}{4 \\cdot 133} = \\frac{13068 \\cdot 3}{4 \\cdot 133} = \\frac{99^2}{133}\\\\\nh &= \\frac{99}{\\sqrt{133}}\n\\end{align*}\n</cmath>\n\nFinally, we substitute <math>h</math> into the volume equation to find <math>V = 6\\sqrt{133}\\left(\\frac{99}{\\sqrt{133}}\\right) = \\boxed{594}</math>.\n\n=== Solution 2 ===\nLet <math>\\triangle{ABC}</math> (or the triangle with sides <math>12\\sqrt {3}</math>, <math>13\\sqrt {3}</math>, <math>13\\sqrt {3}</math>) be the base of our tetrahedron. We set points <math>C</math> and <math>D</math> as <math>(6\\sqrt {3}, 0, 0)</math> and <math>( - 6\\sqrt {3}, 0, 0)</math>, respectively. Using Pythagoras, we find <math>A</math> as <math>(0, \\sqrt {399}, 0)</math>. We know that the [[vertex]] of the tetrahedron (<math>P</math>) has to be of the form <math>(x, y, z)</math>, where <math>z</math> is the [[altitude]] of the tetrahedron. Since the distance from <math>P</math> to points <math>A</math>, <math>B</math>, and <math>C</math> is <math>\\frac {\\sqrt {939}}{2}</math>, we can write three equations using the [[distance formula]]:\n\n<cmath>\n\\begin{align*}\nx^{2} + (y - \\sqrt {399})^{2} + z^{2} &= \\frac {939}{4}\\\\\n(x - 6\\sqrt {3})^{2} + y^{2} + z^{2} &= \\frac {939}{4}\\\\\n(x + 6\\sqrt {3})^{2} + y^{2} + z^{2} &= \\frac {939}{4}\n\\end{align*}\n</cmath>\n\nSubtracting the last two equations, we get <math>x = 0</math>. Solving for <math>y,z</math> with a bit of effort, we eventually get <math>x = 0</math>, <math>y = \\frac {291}{2\\sqrt {399}}</math>, <math>z = \\frac {99}{\\sqrt {133}}</math>.\nSince the area of a triangle is <math>\\frac {1}{2}\\cdot bh</math>, we have the base area as <math>18\\sqrt {133}</math>. Thus, the volume is <math>V = \\frac {1}{3}\\cdot18\\sqrt {133}\\cdot\\frac {99}{\\sqrt {133}} = 6\\cdot99 = 594</math>.\n\n=== Solution 3 (Law of Cosines) ===\n\nLet <math>X</math> be the apex of the pyramid and <math>M</math> be the midpoint of <math>\\overline{CD}</math>. We find the side lengths of <math>\\triangle XMP</math>.\n\n<math>MP = \\frac{13\\sqrt3}{2}</math>. <math>PX</math> is half of <math>AC</math>, which is <math>\\frac{\\sqrt{3\\cdot13^2+3\\cdot12^2}}{2} = \\frac{\\sqrt{939}}{2}</math>. To find <math>MX</math>, consider right triangle <math>XMD</math>; since <math>XD=13\\sqrt3</math> and <math>MD=6\\sqrt3</math>, we have <math>MX=\\sqrt{3\\cdot13^2-3\\cdot6^2} = \\sqrt{399}</math>.\n\nLet <math>\\theta=\\angle XPM</math>. For calculating trig, let us double all sides of <math>\\triangle XMP</math>. By Law of Cosines, <math>\\cos\\theta = \\frac{3\\cdot13^2+939-4\\cdot399}{2\\cdot13\\cdot3\\sqrt{313}}=\\frac{-150}{6\\cdot13\\sqrt{313}}=-\\frac{25}{13\\sqrt{313}}</math>. \n\nHence, <cmath>\\sin\\theta = \\sqrt{1-\\cos^2\\theta}</cmath>\n<cmath>=\\sqrt{1-\\frac{625}{13^2\\cdot313}}</cmath>\n<cmath>=\\frac{\\sqrt{13^2\\cdot313-625}}{13\\sqrt{313}}</cmath>\n<cmath>=\\frac{\\sqrt{3\\cdot132^2}}{13\\sqrt{313}}</cmath>\n<cmath>=\\frac{132\\sqrt3}{13\\sqrt{313}}</cmath>\nThus, the height of the pyramid is <math>PX\\sin\\theta=\\frac{\\sqrt{939}}{2}\\cdot\\frac{132\\sqrt3}{13\\sqrt{313}}=\\frac{66\\cdot3}{13}</math>. Since <math>[CPD]=3\\sqrt{3}\\cdot13\\sqrt{3}=9\\cdot13</math>, the volume of the pyramid is <math>\\frac13 \\cdot 9\\cdot13\\cdot \\frac{66\\cdot3}{13}=\\boxed{594}</math>."
  },
  {
    "year": 1990,
    "variant": "I",
    "problem_number": 15,
    "latex": "Find <math>ax^5 + by^5</math> if the real numbers <math>a,b,x,</math> and <math>y</math> satisfy the equations\n<cmath>\\begin{align*}\nax + by &= 3, \\\\\nax^2 + by^2 &= 7, \\\\\nax^3 + by^3 &= 16, \\\\\nax^4 + by^4 &= 42.\n\\end{align*}</cmath>",
    "solution": "Set <math>S = (x + y)</math> and <math>P = xy</math>. Then the relationship\n\n<cmath>(ax^n + by^n)(x + y) = (ax^{n + 1} + by^{n + 1}) + (xy)(ax^{n - 1} + by^{n - 1})</cmath>\n\ncan be exploited:\n\n<cmath>\\begin{eqnarray*}(ax^2 + by^2)(x + y) & = & (ax^3 + by^3) + (xy)(ax + by) \\\\\n(ax^3 + by^3)(x + y) & = & (ax^4 + by^4) + (xy)(ax^2 + by^2)\\end{eqnarray*}</cmath>\n\nTherefore:\n\n<cmath>\\begin{eqnarray*}7S & = & 16 + 3P \\\\\n16S & = & 42 + 7P\\end{eqnarray*}</cmath>\n\nConsequently, <math>S = - 14</math> and <math>P = - 38</math>. Finally:\n\n<cmath>\\begin{eqnarray*}(ax^4 + by^4)(x + y) & = & (ax^5 + by^5) + (xy)(ax^3 + by^3) \\\\\n(42)(S) & = & (ax^5 + by^5) + (P)(16) \\\\\n(42)( - 14) & = & (ax^5 + by^5) + ( - 38)(16) \\\\\nax^5 + by^5 & = & \\boxed{020}\\end{eqnarray*}</cmath>"
  },
  {
    "year": 1991,
    "variant": "I",
    "problem_number": 1,
    "latex": "Find <math>x^2+y^2_{}</math> if <math>x_{}^{}</math> and <math>y_{}^{}</math> are positive integers such that\n<cmath>\\begin{align*}\nxy+x+y&=71, \\\\\nx^2y+xy^2&=880.\n\\end{align*}</cmath>",
    "solution": "Define <math>a = x + y</math> and <math>b = xy</math>. Then <math>a + b = 71</math> and <math>ab = 880</math>. Solving these two equations yields a [[quadratic equation|quadratic]]: <math>a^2 - 71a + 880 = 0</math>, which [[factor]]s to <math>(a - 16)(a - 55) = 0</math>. Either <math>a = 16</math> and <math>b = 55</math> or <math>a = 55</math> and <math>b = 16</math>. For the first case, it is easy to see that <math>(x,y)</math> can be <math>(5,11)</math> (or vice versa). In the second case, since all factors of <math>16</math> must be <math>\\le 16</math>, no two factors of <math>16</math> can sum greater than <math>32</math>, and so there are no integral solutions for <math>(x,y)</math>. The solution is <math>5^2 + 11^2 = \\boxed{146}</math>."
  },
  {
    "year": 1991,
    "variant": "I",
    "problem_number": 2,
    "latex": "[[Rectangle]] <math>ABCD_{}^{}</math> has [[edge | sides]] <math>\\overline {AB}</math> of [[length]] 4 and <math>\\overline {CB}</math> of length 3. Divide <math>\\overline {AB}</math> into 168 [[congruent]] [[segment]]s with [[point]]s <math>A_{}^{}=P_0, P_1, \\ldots, P_{168}=B</math>, and divide <math>\\overline {CB}</math> into 168 congruent segments with points <math>C_{}^{}=Q_0, Q_1, \\ldots, Q_{168}=B</math>. For <math>1_{}^{} \\le k \\le 167</math>, draw the segments <math>\\overline {P_kQ_k}</math>. Repeat this [[construction]] on the sides <math>\\overline {AD}</math> and <math>\\overline {CD}</math>, and then draw the [[diagonal]] <math>\\overline {AC}</math>. Find the sum of the lengths of the 335 [[parallel]] segments drawn.",
    "solution": "<center><asy>\nreal r = 0.35; size(220);\npointpen=black;pathpen=black+linewidth(0.65);pen f = fontsize(8);\npair A=(0,0),B=(4,0),C=(4,3),D=(0,3);\nD(A--B--C--D--cycle);\npair P1=A+(r,0),P2=A+(2r,0),P3=B-(r,0),P4=B-(2r,0);\npair Q1=C-(0,r),Q2=C-(0,2r),Q3=B+(0,r),Q4=B+(0,2r);\nD(A--C);D(P1--Q1);D(P2--Q2);D(P3--Q3);D(P4--Q4);\nMP(\"A\",A,f);MP(\"B\",B,SE,f);MP(\"C\",C,NE,f);MP(\"D\",D,W,f);\nMP(\"P_1\",P1,f);MP(\"P_2\",P2,f);MP(\"P_{167}\",P3,f);MP(\"P_{166}\",P4,f);MP(\"Q_1\",Q1,E,f);MP(\"Q_2\",Q2,E,f);MP(\"Q_{167}\",Q3,E,f);MP(\"Q_{166}\",Q4,E,f);\nMP(\"4\",(A+B)/2,N,f);MP(\"\\cdots\",(A+B)/2,f);\nMP(\"3\",(B+C)/2,W,f);MP(\"\\vdots\",(C+B)/2,E,f);\n</asy></center><!-- asy replacing Image:1991 AIME-2.png by azjps -->\n\nThe length of the diagonal is <math>\\sqrt{3^2 + 4^2} = 5</math> (a 3-4-5 [[right triangle]]). For each <math>k</math>, <math>\\overline{P_kQ_k}</math> is the [[hypotenuse]] of a <math>3-4-5</math> right triangle with sides of <math>3 \\cdot \\frac{168-k}{168}, 4 \\cdot \\frac{168-k}{168}</math>. Thus, its length is <math>5 \\cdot \\frac{168-k}{168}</math>. Let <math>a_k=\\frac{5(168-k)}{168}</math>. We want to find <math>2\\sum\\limits_{k=1}^{168} a_k-5</math> since we are over counting the diagonal.\n<math>2\\sum\\limits_{k=1}^{168} \\frac{5(168-k)}{168}-5\n=2\\frac{(0+5)\\cdot169}{2}-5\n=168\\cdot5\n=\\boxed{840}</math>"
  },
  {
    "year": 1991,
    "variant": "I",
    "problem_number": 3,
    "latex": "Expanding <math>(1+0.2)^{1000}_{}</math> by the binomial theorem and doing no further manipulation gives\n\n<math>{1000 \\choose 0}(0.2)^0+{1000 \\choose 1}(0.2)^1+{1000 \\choose 2}(0.2)^2+\\cdots+{1000 \\choose 1000}(0.2)^{1000}</math>\n<math>= A_0 + A_1 + A_2 + \\cdots + A_{1000},</math>\nwhere <math>A_k = {1000 \\choose k}(0.2)^k</math> for <math>k = 0,1,2,\\ldots,1000</math>. For which <math>k_{}^{}</math> is <math>A_k^{}</math> the largest?",
    "solution": "=== Solution 1 ===\nLet <math>0<x_{}^{}<1</math>. Then we may write <math>A_{k}^{}={N\\choose k}x^{k}=\\frac{N!}{k!(N-k)!}x^{k}=\\frac{(N-k+1)!}{k!}x^{k}</math>. Taking logarithms in both sides of this last equation and using the well-known fact <math>\\log(a_{}^{}b)=\\log a + \\log b</math> (valid if <math>a_{}^{},b_{}^{}>0</math>), we have\n\n<math>\n\\log(A_{k})=\\log\\left[\\frac{(N-k+1)!}{k!}x^{k}\\right]=\\log\\left[\\prod_{j=1}^{k}\\frac{(N-j+1)x}{j}\\right]=\\sum_{j=1}^{k}\\log\\left[\\frac{(N-j+1)x}{j}\\right]\\, .\n</math>\n\nNow, <math>\\log(A_{k}^{})</math> keeps increasing with <math>k_{}^{}</math> as long as the arguments <math>\\frac{(N-j+1)x}{j}>1</math> in each of the <math>\\log\\big[\\;\\big]</math> terms (recall that <math>\\log y_{}^{} <0</math> if <math>0<y_{}^{}<1</math>). Therefore, the integer <math>k_{}^{}</math> that we are looking for must satisfy <math>k=\\Big\\lfloor\\frac{(N+1)x}{1+x}\\Big\\rfloor</math>, where <math>\\lfloor z_{}^{}\\rfloor</math> denotes the greatest integer less than or equal to <math>z_{}^{}</math>. \n\nIn summary, substituting <math>N_{}^{}=1000</math> and <math>x_{}^{}=0.2</math> we finally find that <math>k=\\boxed{166}</math>.\n\n===Solution 2===\n\nWe know that once we have found the largest value of <math>k</math>, all values after <math>A_k</math> are less than <math>A_k</math>. Therefore, we are looking for the smallest possible value such that:\n\n<math>{\\frac{1}{5}}^k\\cdot {{1000} \\choose {k}}>{\\frac{1}{5}}^{k+1}\\cdot {{1000} \\choose {k+1}}</math>\n\nDividing by <math>{\\frac{1}{5}}^k</math> gives:\n\n<math>{1000\\choose k}>{\\frac{1}{5}}\\cdot{1000\\choose {k+1}}</math>.\n\nWe can express these binomial coefficients as factorials.\n\n<math>\\frac{1000!}{(1000-k)!\\cdot(k)!}>{\\frac{1}{5}}\\cdot\\frac{1000!}{(1000-k-1)!\\cdot{(k+1)!}}</math>\n\nWe note that the <math>1000!</math> can cancel. Also, <math>(1000-k)!=(1000-k)(1000-k-1)!</math>. Similarly, <math>(k+1)!=(k+1)k!</math>.\n\nCanceling these terms yields,\n\n<math>\\frac{1}{(1000-k)}>{\\frac{1}{5}}\\cdot\\frac{1}{(k+1)}</math>\n\nCross multiplying gives:\n\n<math>5k+5>1000-k \\Rightarrow k>165.8</math>\n\nTherefore, since this identity holds for all values of <math>k>165.8</math>, the largest possible value of <math>k</math> is <math>\\boxed{166}</math>.\n\n===Solution 3===\n\nWe know that <math>A_k</math> will increase as <math>k</math> increases until certain <math>k=m</math>, where <math> A_0 < A_1 < A_2 < \\dots < A_{m-2} < A_{m-1} < A_m </math> and  \n\n<math>A_m > A_{m+1} > A_{m+2} > \\dots > A_{1000}.</math>\n\nNext, to change <math> A_{k-1} </math> to <math> A_k </math>, we multiply <math> A_{k-1} </math> by <math>\\frac{1000-k+1}{5k}</math>. It follows that the numerator must be greater than the\n\ndenominator or\n\n<cmath>1000-k+1>5k</cmath> \n<cmath>k<166.8</cmath>.\n\nWe conclude that the answer is <math>\\boxed{166}</math>."
  },
  {
    "year": 1991,
    "variant": "I",
    "problem_number": 4,
    "latex": "How many [[real number]]s <math>x^{}_{}</math> satisfy the [[equation]] <math>\\frac{1}{5}\\log_2 x = \\sin (5\\pi x)</math>?",
    "solution": "<center>[[Image:AIME_1991_Solution_04.png]]</center>\nThe [[range]] of the [[sine]] function is <math>-1 \\le y \\le 1</math>. It is [[periodic function|periodic]] (in this problem) with a period of <math>\\frac{2}{5}</math>. \n\nThus, <math>-1 \\le \\frac{1}{5} \\log_2 x \\le 1</math>, and <math>-5 \\le \\log_2 x \\le 5</math>. The solutions for <math>x</math> occur in the domain of <math>\\frac{1}{32} \\le x \\le 32</math>. When <math>x > 1</math> the [[logarithm]] function returns a [[positive]] value; up to <math>x = 32</math> it will pass through the sine curve. There are exactly 10 intersections of five periods (every two integral values of <math>x</math>) of the sine curve and another curve that is <math>< 1</math>, so there are <math>\\frac{32}{2} \\cdot 10 - 6 = 160 - 6 = 154</math> values (the subtraction of 6 since all the ‚Äúintersections‚Äù when <math>x < 1</math> must be disregarded). When <math>y = 0</math>, there is exactly <math>1</math> touching point between the two functions: <math>\\left(\\frac{1}{5},0\\right)</math>. When <math>y < 0</math> or <math>x < 1</math>, we can count <math>4</math> more solutions. The solution is <math>154 + 1 + 4 = \\boxed{159}</math>."
  },
  {
    "year": 1991,
    "variant": "I",
    "problem_number": 5,
    "latex": "Given a [[rational number]], write it as a [[fraction]] in lowest terms and calculate the product of the resulting [[numerator]] and [[denominator]]. For how many rational numbers between <math>0</math> and <math>1</math> will <math>20_{}^{}!</math> be the resulting [[product]]?",
    "solution": "If the fraction is in the form <math>\\frac{a}{b}</math>, then <math>a < b</math> and <math>\\gcd(a,b) = 1</math>. There are 8 [[prime number]]s less than 20 (<math>2, 3, 5, 7, 11, 13, 17, 19</math>), and each can only be a factor of one of <math>a</math> or <math>b</math>. There are <math>2^8</math> ways of selecting some [[combination]] of numbers for <math>a</math>; however, since <math>a<b</math>, only half of them will be between <math>0 < \\frac{a}{b} < 1</math>. Therefore, the solution is <math>\\frac{2^8}{2} = \\boxed{128}</math>."
  },
  {
    "year": 1991,
    "variant": "I",
    "problem_number": 6,
    "latex": "Suppose <math>r^{}_{}</math> is a [[real number]] for which\n<div style=\"text-align:center\"><math>\n\\left\\lfloor r + \\frac{19}{100} \\right\\rfloor + \\left\\lfloor r + \\frac{20}{100} \\right\\rfloor + \\left\\lfloor r + \\frac{21}{100} \\right\\rfloor + \\cdots + \\left\\lfloor r + \\frac{91}{100} \\right\\rfloor = 546.\n</math></div>\nFind <math>\\lfloor 100r \\rfloor</math>. (For real <math>x^{}_{}</math>, <math>\\lfloor x \\rfloor</math> is the [[floor function|greatest integer]] less than or equal to <math>x^{}_{}</math>.)",
    "solution": "THIS SOLUTION IS INCORRECT, PLEASE CORRECT IT IF YOU HAVE TIME!\n~Arcticturn"
  },
  {
    "year": 1991,
    "variant": "I",
    "problem_number": 7,
    "latex": "<!-- don't remove the following tag, for PoTW on the Wiki front page--><onlyinclude>Find <math>A^2_{}</math>, where <math>A^{}_{}</math> is the sum of the [[absolute value]]s of all roots of the following equation:\n<div style=\"text-align:center\"><math>x = \\sqrt{19} + \\frac{91}{{\\sqrt{19}+\\frac{91}{{\\sqrt{19}+\\frac{91}{{\\sqrt{19}+\\frac{91}{{\\sqrt{19}+\\frac{91}{x}}}}}}}}}\n</math></div><!-- don't remove the following tag, for PoTW on the Wiki front page--></onlyinclude>",
    "solution": "<math>x=\\sqrt{19}+\\underbrace{\\frac{91}{\\sqrt{19}+\\frac{91}{\\sqrt{19}+\\frac{91}{\\sqrt{19}+\\frac{91}{\\sqrt{19}+\\frac{91}{x}}}}}}_{x}</math>\n\n<math>x=\\sqrt{19}+\\frac{91}{x}</math>\n\n<math>x^2=x\\sqrt{19}+91</math>\n\n<math>x^2-x\\sqrt{19}-91 = 0</math>\n\n<math>\\left.\\begin{array}{l}x_1=\\frac{\\sqrt{19}+\\sqrt{383}}{2}\\\\\\\\x_2=\\frac{\\sqrt{19}-\\sqrt{383}}{2}\\end{array}\\right\\}A=|x_1|+|x_2|\\Rightarrow\\sqrt{383}</math>\n\n<math>A^2=\\boxed{383}</math>"
  },
  {
    "year": 1991,
    "variant": "I",
    "problem_number": 8,
    "latex": "For how many real numbers <math>a</math> does the [[quadratic equation]] <math>x^2 + ax + 6a=0</math> have only integer roots for <math>x</math>?\n\n__TOC__",
    "solution": "Let <math>x^2 + ax + 6a = (x - s)(x - r)</math>. Vieta's yields <math>s + r = - a, sr = 6a</math>.\n<cmath>\\begin{eqnarray*}sr + 6s + 6r &=& 0\\\\\nsr + 6s + 6r + 36 &=& 36\\\\\n(s + 6)(r + 6) &=& 36\n\\end{eqnarray*}\n</cmath>\n\n[[Without loss of generality]] let <math>r \\le s</math>.\n\nThe possible values of <math>(r + 6,s + 6)</math> are:\n<math>( - 36, - 1),( - 18, - 2),( - 12, - 3),( - 9, - 4),( - 6, - 6),(1,36),(2,18),(3,12),(4,9),(6,6)</math>\n<math>\\Rightarrow \\boxed{10}\\ \\text{values of } a</math>."
  },
  {
    "year": 1991,
    "variant": "I",
    "problem_number": 9,
    "latex": "Suppose that <math>\\sec x+\\tan x=\\frac{22}7</math> and that <math>\\csc x+\\cot x=\\frac mn,</math> where <math>\\frac mn</math> is in lowest terms.  Find <math>m+n^{}_{}.</math>",
    "solution": "Use the two [[Trigonometric identities#Pythagorean Identities|trigonometric Pythagorean identities]] <math>1 + \\tan^2 x = \\sec^2 x</math> and <math>1 + \\cot^2 x = \\csc^2 x</math>. \n\nIf we square the given <math>\\sec x = \\frac{22}{7} - \\tan x</math>, we find that \n\n<cmath>\\begin{align*}\n\\sec^2 x &= \\left(\\frac{22}7\\right)^2 - 2\\left(\\frac{22}7\\right)\\tan x + \\tan^2 x \\\\\n1 &= \\left(\\frac{22}7\\right)^2 - \\frac{44}7 \\tan x \\end{align*}</cmath>\n\nThis yields <math>\\tan x = \\frac{435}{308}</math>. \n\nLet <math>y = \\frac mn</math>. Then squaring, \n\n<cmath>\\csc^2 x = (y - \\cot x)^2 \\Longrightarrow 1 = y^2 - 2y\\cot x.</cmath> \n\nSubstituting <math>\\cot x = \\frac{1}{\\tan x} = \\frac{308}{435}</math> yields a [[quadratic equation]]: <math>0 = 435y^2 - 616y - 435 = (15y - 29)(29y + 15)</math>. It turns out that only the [[positive]] root will work, so the value of <math>y = \\frac{29}{15}</math> and <math>m + n = \\boxed{044}</math>.\n\nNote: The problem is much easier computed if we consider what <math>\\sec (x)</math> is, then find the relationship between <math>\\sin( x)</math> and <math>cos (x)</math> (using <math>\\tan (x) = \\frac{435}{308}</math>, and then computing <math>\\csc x + \\cot x</math> using <math>1/\\sin x</math> and then the reciprocal of <math>\\tan x</math>."
  },
  {
    "year": 1991,
    "variant": "I",
    "problem_number": 10,
    "latex": "Two three-letter strings, <math>aaa^{}_{}</math> and <math>bbb^{}_{}</math>, are transmitted electronically. Each string is sent letter by letter. Due to faulty equipment, each of the six letters has a 1/3 chance of being received incorrectly, as an <math>a^{}_{}</math> when it should have been a <math>b^{}_{}</math>, or as a <math>b^{}_{}</math> when it should be an <math>a^{}_{}</math>. However, whether a given letter is received correctly or incorrectly is independent of the reception of any other letter. Let <math>S_a^{}</math> be the three-letter string received when <math>aaa^{}_{}</math> is transmitted and let <math>S_b^{}</math> be the three-letter string received when <math>bbb^{}_{}</math> is transmitted. Let <math>p</math> be the [[probability]] that <math>S_a^{}</math> comes before <math>S_b^{}</math> in alphabetical order. When <math>p</math> is written as a [[fraction]] in [[irreducible fraction|lowest terms]], what is its [[numerator]]?\n\n__TOC__",
    "solution": "=== Solution 1 ===\nLet us make a chart of values in alphabetical order, where <math>P_a,\\ P_b</math> are the probabilities that each string comes from <math>aaa</math> and <math>bbb</math> multiplied by <math>27</math>, and <math>S_b</math> denotes the partial sums of <math>P_b</math> (in other words, <math>S_b = \\sum_{n=1}^{b} P_b</math>):\n<cmath>\n\\begin{array}{|r||r|r|r|}\n\\hline\n\\text{String}&P_a&P_b&S_b\\\\\n\\hline\naaa & 8 & 1 & 1 \\\\\naab & 4 & 2 & 3 \\\\\naba & 4 & 2 & 5 \\\\\nabb & 2 & 4 & 9 \\\\\nbaa & 4 & 2 & 11 \\\\\nbab & 2 & 4 & 15 \\\\\nbba & 2 & 4 & 19 \\\\\nbbb & 1 & 8 & 27 \\\\\n\\hline\n\\end{array} \n</cmath>\n\nThe probability is <math>p=\\sum P_a \\cdot (27 - S_b)</math>, so the answer turns out to be <math>\\frac{8\\cdot 26 + 4 \\cdot 24 \\ldots 2 \\cdot 8 + 1 \\cdot 0}{27^2} = \\frac{532}{729}</math>, and the solution is <math>\\boxed{532}</math>.\n\n=== Solution 2 ===\nLet <math>S(a,n)</math> be the <math>n</math>th letter of string <math>S(a)</math>.\nCompare the first letter of the string <math>S(a)</math> to the first letter of the string <math>S(b)</math>.\nThere is a <math>(2/3)^2=4/9</math> chance that <math>S(a,1)</math> comes before <math>S(b,1)</math>.\nThere is a <math>2(1/3)(2/3)=4/9</math> that <math>S(a,1)</math> is the same as <math>S(b,1)</math>.\n\nIf <math>S(a,1)=S(b,1)</math>, then you do the same for the second letters of the strings.  But you have to multiply the <math>4/9</math> chance that <math>S(a,2)</math> comes before <math>S(b,2)</math> as there is a <math>4/9</math> chance we will get to this step.\n\nSimilarly, if <math>S(a,2)=S(b,2)</math>, then there is a <math>(4/9)^3</math> chance that we will get to comparing the third letters and that <math>S(a)</math> comes before <math>S(b)</math>.\n\nSo we have <math>p=(4/9)+(4/9)^2+(4/9)^3=4/9+16/81+64/729=532/729</math>. Therefore, the answer is <math>\\boxed{532}</math>. \n\n=== Solution 3 ===\nConsider <math>n</math> letter strings instead. If the first letters all get transmitted correctly, then the <math>a</math> string will be first. Otherwise, the only way is for both of the first letters to be the same, and then we consider the next <math>n-1</math> letter string following the first letter. This easily leads to a recursion: <math>p_n=\\frac23\\cdot\\frac23+2\\cdot\\frac23\\cdot\\frac13p_{n-1}=\\frac49+\\frac49p_{n-1}</math>. Clearly, <math>p_0=0\\implies p_1=\\frac49\\implies p_2=\\frac{52}{81}\\implies p_3=\\frac{532}{729}</math>. Therefore, the answer is <math>\\boxed{532}</math>.\n\n===Solution 4 (a more explicit Solution 3)===\nThe probability that <math>S_a</math> will take the form <math>a</math> _ _ and that <math>S_b</math> will take the form <math>b</math> _ _ is <math>\\frac{2}{3}\\cdot\\frac{2}{3} = \\frac{4}{9}</math>. Then, the probability that both <math>S_a</math> and <math>S_b</math> will share the same first digit is <math>2\\cdot\\frac{2}{3}\\cdot\\frac{1}{3} = \\frac{4}{9}</math>. Now if the first digits of either sequence are the same, then we must now consider these same probabilities for the second letter of each sequence. The probability that when the first two letters of both sequences are the same, that the second letter of <math>S_a</math> is <math>a</math> and that the second letter of <math>S_b</math> is <math>b</math> is <math>\\frac{2}{3}\\cdot\\frac{2}{3}=\\frac{4}{9}</math>. Similarly, the probability that when the first two letters of both sequences are the same, that the second set of letters in both sets of sequences are the same is <math>2\\cdot\\frac{2}{3}\\cdot\\frac{1}{3} = \\frac{4}{9}</math>. Now, if the last case is true then the probability that <math>S_a</math> precedes <math>S_b</math> is <math>\\frac{2}{3}\\cdot\\frac{2}{3} = \\frac{4}{9}</math>. Therefore the total probability would be: <math>\\frac{4}{9} + \\frac{4}{9}\\left(\\frac{4}{9} + \\frac{4}{9}\\left(\\frac{4}{9}\\right)\\right) = \\frac{4}{9}+\\frac{4}{9}\\left(\\frac{52}{81}\\right) = \\frac{4}{9} + \\frac{208}{729} = \\frac{532}{729}</math>. Therefore the answer is <math>\\boxed{532}</math>.\n\n\n~qwertysri987"
  },
  {
    "year": 1991,
    "variant": "I",
    "problem_number": 11,
    "latex": "Twelve congruent disks are placed on a [[circle]] <math>C^{}_{}</math> of [[radius]] 1 in such a way that the twelve disks cover <math>C^{}_{}</math>, no two of the disks overlap, and so that each of the twelve disks is [[tangent (geometry)|tangent]] to its two neighbors. The resulting arrangement of disks is shown in the figure below.  The sum of the areas of the twelve disks can be written in the from <math>\\pi(a-b\\sqrt{c})</math>, where <math>a,b,c^{}_{}</math> are positive integers and <math>c^{}_{}</math> is not divisible by the square of any prime. Find <math>a+b+c^{}_{}</math>.\n\n<asy>\nunitsize(100);\ndraw(Circle((0,0),1));\ndot((0,0));\ndraw((0,0)--(1,0));\nlabel(\"$1$\", (0.5,0), S);\n\nfor (int i=0; i<12; ++i)\n{\ndot((cos(i*pi/6), sin(i*pi/6)));\n}\n\nfor (int a=1; a<24; a+=2)\n{\ndot(((1/cos(pi/12))*cos(a*pi/12), (1/cos(pi/12))*sin(a*pi/12)));\ndraw(((1/cos(pi/12))*cos(a*pi/12), (1/cos(pi/12))*sin(a*pi/12))--((1/cos(pi/12))*cos((a+2)*pi/12), (1/cos(pi/12))*sin((a+2)*pi/12)));\ndraw(Circle(((1/cos(pi/12))*cos(a*pi/12), (1/cos(pi/12))*sin(a*pi/12)), tan(pi/12)));\n}</asy>\n\n_Diagram by 1-1 is 3_",
    "solution": "We wish to find the radius of one circle, so that we can find the total area.\n\nNotice that for them to contain the entire circle, each pair of circles must be tangent on the larger circle. Now consider two adjacent smaller circles. This means that the line connecting the radii is a segment of length <math>2r</math> that is tangent to the larger circle at the midpoint of the two centers. Thus, we have essentially have a regular dodecagon whose vertices are the centers of the smaller triangles circumscribed about a circle of radius <math>1</math>.\n\nWe thus know that the [[apothem]] of the [[dodecagon]] is equal to <math>1</math>. To find the side length, we make a triangle consisting of a vertex, the midpoint of a side, and the center of the dodecagon, which we denote <math>A, M,</math> and <math>O</math> respectively. Notice that <math>OM=1</math>, and that <math>\\triangle OMA</math> is a right triangle with [[hypotenuse]] <math>OA</math> and <math>m \\angle MOA = 15^\\circ</math>. Thus <math>AM = (1) \\tan{15^\\circ} = 2 - \\sqrt {3}</math>, which is the radius of one of the circles. (If you don't already know the value of <math>\\tan 15^{\\circ}</math>, it's straightforward to calculate by writing it as <math>\\tan\\left(45^{\\circ}-30^{\\circ}\\right)</math> and then using the tangent addition/subtraction formula.) The area of one circle is thus <math>\\pi(2 - \\sqrt {3})^{2} = \\pi (7 - 4 \\sqrt {3})</math>, so the area of all <math>12</math> circles is <math>\\pi (84 - 48 \\sqrt {3})</math>, giving an answer of <math>84 + 48 + 3 = \\boxed{135}</math>."
  },
  {
    "year": 1991,
    "variant": "I",
    "problem_number": 12,
    "latex": "[[Rhombus]] <math>PQRS^{}_{}</math> is [[inscribe]]d in [[rectangle]] <math>ABCD^{}_{}</math> so that [[vertex|vertices]] <math>P^{}_{}</math>, <math>Q^{}_{}</math>, <math>R^{}_{}</math>, and <math>S^{}_{}</math> are interior points on sides <math>\\overline{AB}</math>, <math>\\overline{BC}</math>, <math>\\overline{CD}</math>, and <math>\\overline{DA}</math>, respectively. It is given that <math>PB^{}_{}=15</math>, <math>BQ^{}_{}=20</math>, <math>PR^{}_{}=30</math>, and <math>QS^{}_{}=40</math>. Let <math>\\frac{m}{n}</math>, in lowest terms, denote the [[perimeter]] of <math>ABCD^{}_{}</math>. Find <math>m+n^{}_{}</math>.\n\n__TOC__",
    "solution": "<center><asy>defaultpen(fontsize(12)+linewidth(1.3)); pair A=(0,28.8), B=(38.4,28.8), C=(38.4,0), D=(0,0), O, P=(23.4,28.8), Q=(38.4,8.8), R=(15,0), S=(0,20); O=intersectionpoint(A--C,B--D); draw(A--B--C--D--cycle);draw(P--R..Q--S); draw(P--Q--R--S--cycle); label(\"\\(A\\)\",A,NW);label(\"\\(B\\)\",B,NE);label(\"\\(C\\)\",C,SE);label(\"\\(D\\)\",D,SW); label(\"\\(P\\)\",P,N);label(\"\\(Q\\)\",Q,E);label(\"\\(R\\)\",R,SW);label(\"\\(S\\)\",S,W); label(\"\\(15\\)\",B/2+P/2,N);label(\"\\(20\\)\",B/2+Q/2,E);label(\"\\(O\\)\",O,SW); </asy></center>\n=== Solution 1 ===\nLet <math>O</math> be the center of the rhombus. Via [[parallel]] sides and alternate interior angles, we see that the opposite [[triangle]]s are [[congruent]] (<math>\\triangle BPQ \\cong \\triangle DRS</math>, <math>\\triangle APS \\cong \\triangle CRQ</math>). Quickly we realize that <math>O</math> is also the center of the rectangle. \n\nBy the [[Pythagorean Theorem]], we can solve for a side of the rhombus; <math>PQ = \\sqrt{15^2 + 20^2} = 25</math>. Since the [[diagonal]]s of a rhombus are [[perpendicular bisector]]s, we have that <math>OP = 15, OQ = 20</math>. Also, <math>\\angle POQ = 90^{\\circ}</math>, so quadrilateral <math>BPOQ</math> is [[cyclic quadrilateral|cyclic]]. By [[Ptolemy's Theorem]], <math>25 \\cdot OB = 20 \\cdot 15 + 15 \\cdot 20 = 600</math>.\n\nBy similar logic, we have <math>APOS</math> is a cyclic quadrilateral. Let <math>AP = x</math>, <math>AS = y</math>. The Pythagorean Theorem gives us <math>x^2 + y^2 = 625\\quad \\mathrm{(1)}</math>. Ptolemy‚Äôs Theorem gives us <math>25 \\cdot OA = 20x + 15y</math>. Since the diagonals of a rectangle are equal, <math>OA = \\frac{1}{2}d = OB</math>, and <math>20x + 15y = 600\\quad \\mathrm{(2)}</math>. Solving for <math>y</math>, we get <math>y = 40 - \\frac 43x</math>. Substituting into <math>\\mathrm{(1)}</math>, \n\n<cmath>\\begin{eqnarray*}x^2 + \\left(40-\\frac 43x\\right)^2 &=& 625\\\\\n5x^2 - 192x + 1755 &=& 0\\\\\nx = \\frac{192 \\pm \\sqrt{192^2 - 4 \\cdot 5 \\cdot 1755}}{10} &=& 15, \\frac{117}{5}\\end{eqnarray*}</cmath>\n\nWe reject <math>15</math> because then everything degenerates into squares, but the condition that <math>PR \\neq QS</math> gives us a [[contradiction]]. Thus <math>x = \\frac{117}{5}</math>, and backwards solving gives <math>y = \\frac{44}5</math>. The perimeter of <math>ABCD</math> is <math>2\\left(20 + 15 + \\frac{117}{5} + \\frac{44}5\\right) = \\frac{672}{5}</math>, and <math>m + n = \\boxed{677}</math>.\n\n=== Solution 2 ===\nFrom above, we have <math>OB = 24</math> and <math>BD = 48</math>. Returning to <math>BPQO,</math> note that <math>\\angle PQO\\cong \\angle PBO \\cong ABD.</math> Hence, <math>\\triangle ABD \\sim \\triangle OQP</math> by <math>AA</math> [[similar triangle|similar]]ity. From here, it's clear that\n<cmath>\n\\frac {AD}{BD} = \\frac {OP}{PQ}\\implies \\frac {AD}{48} = \\frac {15}{25}\\implies AD = \\frac {144}{5}.\n</cmath>\nSimilarly,\n<cmath>\n\\frac {AB}{BD} = \\frac {IQ}{PQ}\\implies \\frac {AB}{48} = \\frac {20}{25}\\implies AB = \\frac {192}{5}.\n</cmath>\nTherefore, the perimeter of rectangle <math>ABCD</math> is <math>2(AB + AD) = 2\\left(\\frac {192}{5} + \\frac {144}{5}\\right) = \\frac {672}{5}.</math>\n\n=== Solution 3 ===\nThe triangles <math>QOB,OBC</math> are [[isosceles triangle|isosceles]], and [[similar triangles|similar]] (because they have <math>\\angle QOB = \\angle OBC</math>).\n\nHence <math>\\frac {BQ}{OB} = \\frac {OB}{BC} \\Rightarrow OB^2 = BC \\cdot BQ</math>.\n\nThe length of <math>OB</math> could be found easily from the area of <math>BPQ</math>:\n\n<cmath>BP \\cdot BQ = \\frac {OB}{2} \\cdot PQ \\Rightarrow OB = \\frac {2BP\\cdot BQ}{PQ} \\Rightarrow OB = 24</cmath>\n<cmath>OB^2 = BC \\cdot BQ \\Rightarrow 24^2 = (20 + CQ) \\cdot 20 \\Rightarrow CQ = \\frac {44}{5}</cmath>\n\nFrom the right triangle <math>CRQ</math> we have <math>RC^2 = 25^2 - \\left(\\frac {44}{5}\\right)^2\\Rightarrow RC = \\frac {117}{5}</math>. We could have also defined a similar formula: <math>OB^2 = BP \\cdot BA</math>, and then we found <math>AP</math>, the segment <math>OB</math> is tangent to the circles with diameters <math>AO,CO</math>.\n\nThe perimeter is <math>2(PB + BQ + QC + CR) = 2\\left(15 + 20 + \\frac {44 + 117}{5}\\right) = \\frac {672}{5}\\Rightarrow m+n=677</math>.\n\n=== Solution 4 ===\nFor convenience, let <math>\\angle PQS = \\theta</math>. Since the opposite triangles are congruent we have that <math>\\angle BQR = 3\\theta</math>, and therefore <math>\\angle QRC = 3\\theta - 90</math>. Let <math>QC = a</math>, then we have <math>\\sin{(3\\theta - 90)} = \\frac {a}{25}</math>, or <math>- \\cos{3\\theta} = \\frac {a}{25}</math>. Expanding with the formula <math>\\cos{3\\theta} = 4\\cos^3{\\theta} - 3\\cos{\\theta}</math>, and since we have <math>\\cos{\\theta} = \\frac {4}{5}</math>, we can solve for <math>a</math>. The rest then follows similarily from above.\n\n=== Solution 5 ===\nWe can just find coordinates of the points.  After drawing a picture, we can see 4 congruent right triangles with sides of <math>15,\\ 20,\\ 25</math>, namely triangles <math>DSR, OSR, OQP,</math> and <math>BQP</math>.\n\nLet the points of triangle <math>DSR</math> be <math>(0,0)\\ (0,20)\\ (15,0)</math>. Let point <math>E</math> be on <math>\\overline{SR}</math>, such that <math>SE = 16</math> and <math>ER = 9</math>. Triangle <math>DSR</math> can be split into two similar 3-4-5 right triangles, <math>ESD</math> and <math>EDR</math>. By the Pythagorean Theorem, point <math>D</math> is <math>12</math> away from point <math>E</math>. Repeating the process, if we break down triangle <math>DER</math> into two more similar triangles, we find that point <math>E</math> is at <math>(9.6, 7.2)</math>.\n\nBy reflecting point <math>D = (0,0)</math> over point <math>E = (9.6, 7.2)</math>, we get point <math>O = (19.2, 14.4)</math>. By reflecting point <math>D</math> over point <math>O</math>, we get point <math>B = (38.4, 28.8)</math>. Thus, the perimeter is equal to <math>(38.4 + 28.8)\\times 2 = \\frac {672}{5}</math>, making the final answer <math>672+5 = 677</math>.\n\n=== Solution 6 ===\nWe can just use areas. Let <math>AP = b</math> and <math>AS = a</math>. <math>a^2 + b^2 = 625</math>. Also, we can add up the areas of all 8 right triangles and let that equal the total area of the rectangle, <math>(a+20)(b+15)</math>. This gives <math>3a + 4b = 120</math>. Solving this system of equation gives <math>\\frac{44}{5} = a</math>, <math>\\frac{117}{5} = b</math>, from which it is straightforward to find the answer, <math>2(a+b+35) \\Rightarrow \\frac{672}{5}</math>. Thus, <math>m+n = \\frac{672}{5}\\implies\\boxed{677}</math>\n\n=== Solution 7 ===\nWe will bash with trigonometry.\n\nFirstly, by Pythagoras Theorem, <math>PQ=QR=RS=SP=25</math>. We observe that <math>[PQRS]=\\frac{1}{2}\\cdot30\\cdot40=600</math>. Thus, if we drop an altitude from <math>P</math> to <math>\\overline{SR}</math> to point <math>E</math>, it will have length <math>\\frac{600}{25}=24</math>. In particular, <math>SE=7</math> since we form a 7-24-25 triangle. \n\nNow, <math>\\sin\\angle APS=\\sin\\angle SPB=\\sin(\\angle SPQ+\\angle QPB)=\\sin\\angle SPQ\\cos\\angle QPB+\\sin\\angle QPB\\cos\\angle SPQ=\\sin\\angle PSR\\cos\\angle QPB-\\sin\\angle QPB\\cos\\angle PSR=\\frac{24}{25}\\cdot\\frac{15}{25}-\\frac{20}{25}\\cdot\\frac{7}{25}=\\frac{44}{125}</math>. Thus, since <math>PS=25</math>, we get that <math>AS=\\frac{44}{5}</math>. Now, by the Pythagorean Theorem, <math>AP=\\frac{117}{5}</math>. \n\nUsing the same idea, <math>\\cos\\angle RSD=-\\cos\\angle RSA=-\\cos(\\angle RSP+\\angle PSA)=\\sin\\angle RSP\\sin\\angle PSA-\\cos\\angle RSP\\cos\\angle PSA=\\frac{24}{25}\\cdot\\frac{117}{125}-\\frac{7}{25}\\cdot\\frac{44}{125}=\\frac{4}{5}</math>. Thus, since <math>SR=20</math>. \n\nNow, we can finish. We know <math>AB=\\frac{117}{5}+15=\\frac{192}{5}</math>. We also know <math>AD=\\frac{44}{5}+20=\\frac{144}{5}</math>. Thus, our perimeter is <math>\\frac{672}{5}\\implies\\boxed{677}</math>"
  },
  {
    "year": 1991,
    "variant": "I",
    "problem_number": 13,
    "latex": "A drawer contains a mixture of red socks and blue socks, at most <math>1991</math> in all. It so happens that, when two socks are selected randomly without replacement, there is a probability of exactly <math>\\frac{1}{2}</math> that both are red or both are blue. What is the largest possible number of red socks in the drawer that is consistent with this data?",
    "solution": "=== Solution 1 ===\nLet <math>r</math> and <math>b</math> denote the number of red and blue socks, respectively. Also, let <math>t=r+b</math>. The probability <math>P</math> that when two socks are drawn randomly, without replacement, both are red or both are blue is given by\n\n<cmath>\n\\frac{r(r-1)}{(r+b)(r+b-1)}+\\frac{b(b-1)}{(r+b)(r+b-1)}=\\frac{r(r-1)+(t-r)(t-r-1)}{t(t-1)}=\\frac{1}{2}.\n</cmath>\n\nSolving the resulting quadratic equation <math>r^{2}-rt+t(t-1)/4=0</math>, for <math>r</math> in terms of <math>t</math>, one obtains that \n\n<cmath>\nr=\\frac{t\\pm\\sqrt{t}}{2}\\, .\n</cmath>\n\nNow, since <math>r</math> and <math>t</math> are positive integers, it must be the case that <math>t=n^{2}</math>, with <math>n\\in\\mathbb{N}</math>. Hence, <math>r=n(n\\pm 1)/2</math> would correspond to the general solution. For the present case <math>t\\leq 1991</math>, and so one easily finds that <math>n=44</math> is the largest possible integer satisfying the problem conditions. \n\nIn summary, the solution is that the maximum number of red socks is <math>r=\\boxed{990}</math>.\n=== Solution 2 ===\nLet <math>r</math> and <math>b</math> denote the number of red and blue socks such that <math>r+b\\le1991</math>. Then by complementary counting, the number of ways to get a red and a blue sock must be equal to <math>1-\\frac12=\\frac12=\\frac{2rb}{(r+b)(r+b-1)}\\implies4rb=(r+b)(r+b-1)</math>\n<math>=(r+b)^2-(r+b)\\implies r^2+2rb+b^2-r-b=4rb\\implies r^2-2rb+b^2</math>\n<math>=(r-b)^2=r+b</math>, so <math>r+b</math> must be a perfect square <math>k^2</math>. Clearly, <math>r=\\frac{k^2+k}2</math>, so the larger <math>k</math>, the larger <math>r</math>: <math>k^2=44^2</math> is the largest perfect square below <math>1991</math>, and our answer is <math>\\frac{44^2+44}2=\\frac12\\cdot44(44+1)=22\\cdot45=11\\cdot90=\\boxed{990}</math>.\n\n\n===Solution 3===\n\nLet <math>r</math> and <math>b</math> denote the number of red and blue socks, respectively. In addition, let <math>t = r + b</math>, the total number of socks in the drawer.\n\nFrom the problem, it is clear that <math>\\frac{r(r-1)}{t(t-1)} + \\frac{b(b-1)}{t(t-1)} = \\frac{1}{2}</math>\n\nExpanding, we get <math>\\frac{r^2 + b^2 - r - b}{t^2 - t} = \\frac{1}{2}</math>\n\nSubstituting <math>t</math> for <math>r + b</math> and cross multiplying, we get <math>2r^2 + 2b^2 - 2r - 2b = r^2 + 2br + b^2 - r - b</math>\n\nCombining terms, we get <math>b^2 - 2br + r^2 - b - r = 0</math>\n\nTo make this expression factorable, we add <math>2r</math> to both sides, resulting in <math>(b - r)^2 - 1(b-r) = (b - r - 1)(b - r) = 2r</math>\n\nFrom this equation, we can test values for the expression <math>(b - r - 1)(b - r)</math>, which is the multiplication of two consecutive integers, until we find the highest value of <math>b</math> or <math>r</math> such that <math>b + r \\leq 1991</math>. \n\nBy testing <math>(b - r - 1) = 43</math> and <math>(b - r) = 44</math>, we get that <math>r = 43(22) = 946</math> and <math>b = 990</math>. Testing values one integer higher, we get that <math>r = 990</math> and <math>b = 1035</math>. Since <math>990 + 1035 = 2025</math> is greater than <math>1991</math>, we conclude that <math>(946, 990)</math> is our answer. \n\nSince it doesn't matter whether the number of blue or red socks is <math>990</math>, we take the lower value for <math>r</math>, thus the maximum number of red socks is <math>r=\\boxed{990}</math>.\n\n=== Solution 4 ===\nAs above, let <math>r</math>, <math>b</math>, and <math>t</math> denote the number of red socks, the number of blue socks, and the total number of socks, respectively. We see that <math>\\frac{r(r-1)}{t(t-1)}+\\frac{b(b-1)}{t(t-1)}=\\frac{1}{2}</math>, so <math>r^2+b^2-r-b=\\frac{t(t-1)}{2}=r^2+b^2-t=\\frac{t^2}{2}-\\frac{t}{2}</math>. \n\nSeeing that we can rewrite <math>r^2+b^2</math> as <math>(r+b)^2-2rb</math>, and remembering that <math>r+b=t</math>, we have <math>\\frac{t^2}{2}-\\frac{t}{2}=t^2-2rb-t</math>, so <math>2rb=\\frac{t^2}{2}-\\frac{t}{2}</math>, which equals <math>r^2+b^2-t</math>.\n\nWe now have <math>r^2+b^2-t=2rb</math>, so <math>r^2-2rb+b^2=t</math> and <math>r-b=\\pm\\sqrt{t}</math>. Adding this to <math>r+b=t</math>, we have <math>2r=t\\pm\\sqrt{t}</math>. To maximize <math>r</math>, we must use the positive square root and maximize <math>t</math>. The largest possible value of <math>t</math> is the largest perfect square less than 1991, which is <math>1936=44^2</math>. Therefore, <math>r=\\frac{t+\\sqrt{t}}{2}=\\frac{1936+44}{2}=\\boxed{990}</math>.\n\nSolution by Zeroman\n\n===Solution 5===\nLet <math>r</math> be the number of socks that are red, and <math>t</math> be the total number of socks. We get:\n\n<math>2(r(r-1)+(t-r)(t-r-1))=t(t-1)</math>\nExpanding the left hand side and the right hand side, we get:\n<math>4r^2-4rt+2t^2-2t = t^2-t</math>\n\nAnd, moving terms, we will get that:\n<math>4r^2-4rt+t^2 = t</math>\n\nWe notice that the left side is a perfect square. \n<math>(2r-t)^2 = t</math>\n\nThus <math>t</math> is a perfect square. And, the higher <math>t</math> is, the higher <math>r</math> will be. So, we should set <math>t = 44^2 = 1936</math>\n\nAnd, we see, <math>2r-1936 = \\pm44</math> We will use the positive root, to get that <math>2r-1936 = 44</math>, <math>2r = 1980</math>, and <math>r = \\boxed{990}</math>.\n\n- AlexLikeMath"
  },
  {
    "year": 1991,
    "variant": "I",
    "problem_number": 14,
    "latex": "A [[hexagon]] is inscribed in a [[circle]]. Five of the sides have length <math>81</math> and the sixth, denoted by <math>\\overline{AB}</math>, has length <math>31</math>. Find the sum of the lengths of the three diagonals that can be drawn from <math>A_{}^{}</math>.",
    "solution": "<center><asy>defaultpen(fontsize(9));\npair A=expi(-pi/2-acos(475/486)), B=expi(-pi/2+acos(475/486)), C=expi(-pi/2+acos(475/486)+acos(7/18)), D=expi(-pi/2+acos(475/486)+2*acos(7/18)), E=expi(-pi/2+acos(475/486)+3*acos(7/18)), F=expi(-pi/2-acos(475/486)-acos(7/18));\ndraw(unitcircle);draw(A--B--C--D--E--F--A);draw(A--C..A--D..A--E);\ndot(A^^B^^C^^D^^E^^F);\nlabel(\"\\(A\\)\",A,(-1,-1));label(\"\\(B\\)\",B,(1,-1));label(\"\\(C\\)\",C,(1,0));\nlabel(\"\\(D\\)\",D,(1,1));label(\"\\(E\\)\",E,(-1,1));label(\"\\(F\\)\",F,(-1,0));\nlabel(\"31\",A/2+B/2,(0.7,1));label(\"81\",B/2+C/2,(0.45,-0.2));\nlabel(\"81\",C/2+D/2,(-1,-1));label(\"81\",D/2+E/2,(0,-1));\nlabel(\"81\",E/2+F/2,(1,-1));label(\"81\",F/2+A/2,(1,1));\nlabel(\"\\(x\\)\",A/2+C/2,(-1,1));label(\"\\(y\\)\",A/2+D/2,(1,-1.5));\nlabel(\"\\(z\\)\",A/2+E/2,(1,0));\n</asy></center><!-- asy replaced Image:AIME 1991 Solution 14.png by minsoens -->\n\nLet <math>x=AC=BF</math>, <math>y=AD=BE</math>, and <math>z=AE=BD</math>.\n\n[[Ptolemy's Theorem]] on <math>ABCD</math> gives <math>81y+31\\cdot 81=xz</math>, and Ptolemy on <math>ACDF</math> gives <math>x\\cdot z+81^2=y^2</math>.\nSubtracting these equations give <math>y^2-81y-112\\cdot 81=0</math>, and from this <math>y=144</math>. Ptolemy on <math>ADEF</math> gives <math>81y+81^2=z^2</math>, and from this <math>z=135</math>. Finally, plugging back into the first equation gives <math>x=105</math>, so <math>x+y+z=105+144+135=\\boxed{384}</math>."
  },
  {
    "year": 1991,
    "variant": "I",
    "problem_number": 15,
    "latex": "For positive integer <math>n_{}^{}</math>, define <math>S_n^{}</math> to be the minimum value of the sum\n<math>\\sum_{k=1}^n \\sqrt{(2k-1)^2+a_k^2},</math>\nwhere <math>a_1,a_2,\\ldots,a_n^{}</math> are positive real numbers whose sum is 17. There is a unique positive integer <math>n^{}_{}</math> for which <math>S_n^{}</math> is also an integer. Find this <math>n^{}_{}</math>.\n\n__TOC__",
    "solution": "Consider <math>n</math> right triangles joined at their vertices, with bases <math>a_1,a_2,\\ldots,a_n</math> and heights <math>1,3,\\ldots, 2n - 1</math>. The sum of their hypotenuses is the value of <math>S_n</math>. The minimum value of <math>S_n</math>, then, is the length of the straight line connecting the bottom vertex of the first right triangle and the top vertex of the last right triangle, so\n<cmath>\nS_n \\ge \\sqrt {\\left(\\sum_{k = 1}^n (2k - 1)\\right)^2 + \\left(\\sum_{k = 1}^n a_k\\right)^2}.\n</cmath>\nSince the sum of the first <math>n</math> odd integers is <math>n^2</math> and the sum of <math>a_1,a_2,\\ldots,a_n</math> is 17, we get\n<cmath>\nS_n \\ge \\sqrt {17^2 + n^4}.\n</cmath>\nIf this is an integer, we can write <math>17^2 + n^4 = m^2</math>, for an integer <math>m</math>. Thus, <math>(m - n^2)(m + n^2) = 289\\cdot 1 = 17\\cdot 17 = 1\\cdot 289.</math> The only possible value, then, for <math>m</math> is <math>145</math>, in which case <math>n^2 = 144</math>, and <math>n = \\boxed {012}</math>."
  },
  {
    "year": 1992,
    "variant": "I",
    "problem_number": 1,
    "latex": "Find the sum of all [[positive number |positive]] [[rational number]]s that are less than 10 and that have [[denominator]] 30 when written in [[reduced fraction | lowest terms]].",
    "solution": "===Solution 1===\nThere are 8 [[fraction]]s which fit the conditions between 0 and 1: <math>\\frac{1}{30},\\frac{7}{30},\\frac{11}{30},\\frac{13}{30},\\frac{17}{30},\\frac{19}{30},\\frac{23}{30},\\frac{29}{30}</math>\n\nTheir sum is 4. Note that there are also 8 terms between 1 and 2 which we can obtain by adding 1 to each of our first 8 terms. For example, <math>1+\\frac{19}{30}=\\frac{49}{30}.</math> Following this pattern, our answer is <math>4(10)+8(1+2+3+\\cdots+9)=\\boxed{400}.</math>\n\n===Solution 2===\nBy [[Euler's Totient Function]], there are <math>8</math> numbers that are relatively prime to <math>30</math>, less than <math>30</math>. Note that they come in pairs <math>(m,30-m)</math> which result in sums of <math>1</math>; thus the sum of the smallest <math>8</math> rational numbers satisfying this is <math>\\frac12\\cdot8\\cdot1=4</math>. Now refer to solution 1.\n\n=== Solution 3===\n\nNote that if <math>x</math> is a solution, then <math>(300-x)</math> is a solution. We know that <math>\\phi(300) = 80.</math> Therefore the answer is <math>\\frac{80}{2} \\cdot\\frac{300}{30} = \\boxed{400}.</math>\n{{AIME box|year=1992|before=First question|num-a=2}}\n{{MAA Notice}}"
  },
  {
    "year": 1992,
    "variant": "I",
    "problem_number": 2,
    "latex": "A [[positive integer]] is called ascending if, in its [[decimal representation]], there are at least two digits and each digit is less than any digit to its right. How many ascending positive integers are there?",
    "solution": "Note that an ascending number is exactly determined by its [[digit]]s: for any [[set]] of digits (not including 0, since the only position for 0 is at the leftmost end of the number, i.e. a leading 0), there is exactly one ascending number with those digits.\n\nSo, there are nine digits that may be used: <math>1,2,3,4,5,6,7,8,9.</math>  Note that each digit may be present or may not be present. Hence, there are <math>2^9=512</math> potential ascending numbers, one for each [[subset]] of <math>\\{1, 2, 3, 4, 5, 6, 7, 8, 9\\}</math>.\n\nHowever, we've counted one-digit numbers and the [[empty set]], so we must subtract them off to get our answer, <math>512-10=\\boxed{502}.</math>"
  },
  {
    "year": 1992,
    "variant": "I",
    "problem_number": 3,
    "latex": "A tennis player computes her win [[ratio]] by dividing the number of matches she has won by the total number of matches she has played. At the start of a weekend, her win ratio is exactly <math>.500</math>. During the weekend, she plays four matches, winning three and losing one. At the end of the weekend, her win ratio is greater than <math>.503</math>. What's the largest number of matches she could've won before the weekend began?",
    "solution": "Let <math>n</math> be the number of matches won, so that <math>\\frac{n}{2n}=\\frac{1}{2}</math>, and <math>\\frac{n+3}{2n+4}>\\frac{503}{1000}</math>. \n\nCross [[multiply]]ing, <math>1000n+3000>1006n+2012</math>, so <math>n<\\frac{988}{6}=164 \\dfrac {4}{6}=164 \\dfrac{2}{3}</math>. Thus, the answer is <math>\\boxed{164}</math>."
  },
  {
    "year": 1992,
    "variant": "I",
    "problem_number": 4,
    "latex": "In Pascal's Triangle, each entry is the sum of the two entries above it. The first few rows of the triangle are shown below.\n\n<cmath>\\begin{array}{c@{\\hspace{8em}}\nc@{\\hspace{6pt}}c@{\\hspace{6pt}}c@{\\hspace{6pt}}c@{\\hspace{4pt}}c@{\\hspace{2pt}}\nc@{\\hspace{2pt}}c@{\\hspace{2pt}}c@{\\hspace{2pt}}c@{\\hspace{3pt}}c@{\\hspace{6pt}}\nc@{\\hspace{6pt}}c@{\\hspace{6pt}}c} \\vspace{4pt}\n\\text{Row 0: } &    &    &     &     &    &    & 1 &     &     &    &    &    &  \\\\\\vspace{4pt}\n\\text{Row 1: } &    &    &     &     &    & 1 &    & 1  &     &    &    &    &  \\\\\\vspace{4pt}\n\\text{Row 2: } &    &    &     &     & 1 &    & 2 &     & 1  &    &    &    &  \\\\\\vspace{4pt}\n\\text{Row 3: } &    &    &     &  1 &    & 3 &    & 3  &     & 1 &    &    &  \\\\\\vspace{4pt}\n\\text{Row 4: } &    &    & 1  &     & 4 &    & 6 &     & 4  &    & 1 &    &  \\\\\\vspace{4pt}\n\\text{Row 5: } &    & 1 &     & 5  &    &10&    &10 &     & 5 &    & 1 &  \\\\\\vspace{4pt}\n\\text{Row 6: } & 1 &    & 6  &     &15&    &20&     &15 &    & 6 &    & 1\n\\end{array}</cmath>\nIn which row of [[Pascal's Triangle]] do three consecutive entries occur that are in the ratio <math>3 :4 :5</math>?",
    "solution": "Consider what the ratio means. Since we know that they are consecutive terms, we can say\n<cmath>\\frac{\\dbinom{n}{k-1}}{3} = \\frac{\\dbinom{n}{k}}{4} = \\frac{\\dbinom{n}{k+1}}{5}.</cmath>\n\t\nTaking the first part, and using our expression for <math>n</math> choose <math>k</math>,\n\t<cmath> \\frac{n!}{3(k-1)!(n-k+1)!} = \\frac{n!}{4k!(n-k)!}</cmath>\n\t<cmath> \\frac{1}{3(k-1)!(n-k+1)!} = \\frac{1}{4k!(n-k)!} </cmath>\n\t<cmath> \\frac{1}{3(n-k+1)} = \\frac{1}{4k} </cmath>\n\t<cmath> n-k+1 = \\frac{4k}{3} </cmath>\n\t<cmath> n = \\frac{7k}{3} - 1 </cmath>\n\t<cmath> \\frac{3(n+1)}{7} = k </cmath>\nThen, we can use the second part of the equation.\n\t<cmath> \\frac{n!}{4k!(n-k)!} = \\frac{n!}{5(k+1)!(n-k-1)!} </cmath>\n\t<cmath> \\frac{1}{4k!(n-k)!} = \\frac{1}{5(k+1)!(n-k-1)!} </cmath>\n\t<cmath> \\frac{1}{4(n-k)} = \\frac{1}{5(k+1)} </cmath>\n\t<cmath> \\frac{4(n-k)}{5} = k+1 </cmath>\n\t<cmath> \\frac{4n}{5}-\\frac{4k}{5} = k+1 </cmath>\n\t<cmath> \\frac{4n}{5} = \\frac{9k}{5} +1. </cmath>\nSince we know <math>k = \\frac{3(n+1)}{7}</math> we can plug this in, giving us\n\t<cmath> \\frac{4n}{5} = \\frac{9\\left(\\frac{3(n+1)}{7}\\right)}{5} +1 </cmath>\n\t<cmath> 4n = 9\\left(\\frac{3(n+1)}{7}\\right)+5 </cmath>\n\t<cmath> 7(4n - 5) = 27n+27 </cmath>\n\t<cmath> 28n - 35 = 27n+27 </cmath>\n\t<cmath> n = 62 </cmath>\nWe can also evaluate for <math>k</math>, and find that <math>k = \\frac{3(62+1)}{7} = 27.</math> Since we want <math>n</math>, however, our final answer is <math>\\boxed{062.}</math> ~<math>\\LaTeX</math> by ciceronii"
  },
  {
    "year": 1992,
    "variant": "I",
    "problem_number": 5,
    "latex": "Let <math>S^{}_{}</math> be the set of all rational numbers <math>r^{}_{}</math>, <math>0^{}_{}<r<1</math>, that have a repeating decimal expansion in the form <math>0.abcabcabc\\ldots=0.\\overline{abc}</math>, where the digits <math>a^{}_{}</math>, <math>b^{}_{}</math>, and <math>c^{}_{}</math> are not necessarily distinct. To write the elements of <math>S^{}_{}</math> as fractions in lowest terms, how many different numerators are required?",
    "solution": "We consider the method in which repeating decimals are normally converted to fractions with an example:\n\n<math>x=0.\\overline{176}</math>\n\n<math>\\Rightarrow 1000x=176.\\overline{176}</math>\n\n<math>\\Rightarrow 999x=1000x-x=176</math>\n\n<math>\\Rightarrow x=\\frac{176}{999}</math>\n\nThus, let <math>x=0.\\overline{abc}</math>\n\n<math>\\Rightarrow 1000x=abc.\\overline{abc}</math>\n\n<math>\\Rightarrow 999x=1000x-x=abc</math>\n\n<math>\\Rightarrow x=\\frac{abc}{999}</math>\n\nIf <math>abc</math> is not divisible by <math>3</math> or <math>37</math>, then this is in lowest terms. Let us consider the other multiples: <math>333</math> multiples of <math>3</math>, <math>27</math> of <math>37</math>, and <math>9</math> of both <math>3</math> and <math>37</math>, so <math>999-333-27+9 = 648</math>, which is the amount that are neither. The <math>12</math> numbers that are multiples of <math>81</math> reduce to multiples of <math>3</math>. We have to count these since it will reduce to a multiple of <math>3</math> which we have removed from <math>999</math>, but, this cannot be removed since the numerator cannot cancel the <math>3</math>.There aren't any numbers which are multiples of <math>37^2</math>, so we can't get numerators which are multiples of <math>37</math>. Therefore <math>648 + 12 = \\boxed{660}</math>.\n\nNote: You can use Euler's totient function to find the numbers relatively prime to 999 which gives 648. \n\n{{AIME box|year=1992|num-b=4|num-a=6}}\n\n[[Category:Intermediate Number Theory Problems]]\n{{MAA Notice}}"
  },
  {
    "year": 1992,
    "variant": "I",
    "problem_number": 6,
    "latex": "For how many pairs of consecutive integers in <math>\\{1000,1001,1002,\\ldots,2000\\}</math> is no carrying required when the two integers are added?",
    "solution": "For one such pair of consecutive integers, let the smaller integer be <math>\\underline{1ABC},</math> where <math>A,B,</math> and <math>C</math> are digits from <math>0</math> through <math>9.</math>\n\nWe wish to count the ordered triples <math>(A,B,C).</math> By casework, we consider all possible forms of the larger integer, as shown below.\n<cmath>\\begin{array}{c|c|c|c|c|c|c}\n& & & & & & \\\\ [-2.5ex]\n\\textbf{Case} & \\textbf{Thousands} & \\textbf{Hundreds} & \\textbf{Tens} & \\textbf{Ones} & \\textbf{Conditions for No Carrying} & \\boldsymbol{\\#}\\textbf{ of Ordered Triples} \\\\ [0.5ex]\n\\hline\n& & & & & & \\\\ [-2ex]\n0\\leq C\\leq 8 & 1 & A & B & C+1 & 0\\leq A,B,C\\leq 4 & 5^3 \\\\\n0\\leq B\\leq 8; \\ C=9 & 1 & A & B+1 & 0 & 0\\leq A,B\\leq 4; \\ C=9 & 5^2 \\\\\n0\\leq A\\leq 8; \\ B=C=9 & 1 & A+1 & 0 & 0 & 0\\leq A\\leq 4; \\ B=C=9 & 5 \\\\\nA=B=C=9 & 2 & 0 & 0 & 0 & A=B=C=9 & 1\n\\end{array}</cmath>\nTogether, the answer is <math>5^3+5^2+5+1=\\boxed{156}.</math>\n\n~MRENTHUSIASM"
  },
  {
    "year": 1992,
    "variant": "I",
    "problem_number": 7,
    "latex": "Faces <math>ABC^{}_{}</math> and <math>BCD^{}_{}</math> of tetrahedron <math>ABCD^{}_{}</math> meet at an angle of <math>30^\\circ</math>. The area of face <math>ABC^{}_{}</math> is <math>120^{}_{}</math>, the area of face <math>BCD^{}_{}</math> is <math>80^{}_{}</math>, and <math>BC=10^{}_{}</math>. Find the volume of the tetrahedron.",
    "solution": "Since the area <math>BCD=80=\\frac{1}{2}\\cdot10\\cdot16</math>, the perpendicular from <math>D</math> to <math>BC</math> has length <math>16</math>.\n\nThe perpendicular from <math>D</math> to <math>ABC</math> is <math>16 \\cdot \\sin 30^\\circ=8</math>. Therefore, the volume is <math>\\frac{8\\cdot120}{3}=\\boxed{320}</math>."
  },
  {
    "year": 1992,
    "variant": "I",
    "problem_number": 8,
    "latex": "For any sequence of real numbers <math>A=(a_1,a_2,a_3,\\ldots)</math>, define <math>\\Delta A^{}_{}</math> to be the sequence <math>(a_2-a_1,a_3-a_2,a_4-a_3,\\ldots)</math>, whose <math>n^{\\mbox{th}}_{}</math> term is <math>a_{n+1}-a_n^{}</math>. Suppose that all of the terms of the sequence <math>\\Delta(\\Delta A^{}_{})</math> are <math>1^{}_{}</math>, and that <math>a_{19}=a_{92}^{}=0</math>. Find <math>a_1^{}</math>.",
    "solution": "Note that the <math>\\Delta</math>s are reminiscent of differentiation; from the condition <math>\\Delta(\\Delta{A}) = 1</math>, we are led to consider the differential equation\n<cmath> \\frac{d^2 A}{dn^2} = 1 </cmath>\nThis inspires us to guess a quadratic with leading coefficient 1/2 as the solution; \n<cmath> a_{n} = \\frac{1}{2}(n-19)(n-92) </cmath>\nas we must have roots at <math>n = 19</math> and <math>n = 92</math>.\n\nThus, <math>a_1=\\frac{1}{2}(1-19)(1-92)=\\boxed{819}</math>."
  },
  {
    "year": 1992,
    "variant": "I",
    "problem_number": 9,
    "latex": "Trapezoid <math>ABCD^{}_{}</math> has sides <math>AB=92^{}_{}</math>, <math>BC=50^{}_{}</math>, <math>CD=19^{}_{}</math>, and <math>AD=70^{}_{}</math>, with <math>AB^{}_{}</math> parallel to <math>CD^{}_{}</math>. A circle with center <math>P^{}_{}</math> on <math>AB^{}_{}</math> is drawn tangent to <math>BC^{}_{}</math> and <math>AD^{}_{}</math>. Given that <math>AP^{}_{}=\\frac mn</math>, where <math>m^{}_{}</math> and <math>n^{}_{}</math> are relatively prime positive integers, find <math>m+n^{}_{}</math>.",
    "solution": "Let <math>AP=x</math> so that <math>PB=92-x.</math> Extend <math>AD, BC</math> to meet at <math>X,</math> and note that <math>XP</math> bisects <math>\\angle AXB;</math> let it meet <math>CD</math> at <math>E.</math> Using the angle bisector theorem, we let <math>XB=y(92-x), XA=xy</math> for some <math>y.</math> \n\nThen <math>XD=xy-70, XC=y(92-x)-50,</math> thus <cmath>\\frac{xy-70}{y(92-x)-50} = \\frac{XD}{XC} = \\frac{ED}{EC}=\\frac{AP}{PB} = \\frac{x}{92-x},</cmath> which we can rearrange, expand and cancel to get <math>120x=70\\cdot 92,</math> hence <math>AP=x=\\frac{161}{3}</math>. This gives us a final answer of <math>161+3=\\boxed{164}</math>"
  },
  {
    "year": 1992,
    "variant": "I",
    "problem_number": 10,
    "latex": "Consider the region <math>A</math> in the complex plane that consists of all points <math>z</math> such that both <math>\\frac{z}{40}</math> and <math>\\frac{40}{\\overline{z}}</math> have real and imaginary parts between <math>0</math> and <math>1</math>, inclusive. What is the integer that is nearest the area of <math>A</math>?",
    "solution": "Let <math>z=a+bi \\implies \\frac{z}{40}=\\frac{a}{40}+\\frac{b}{40}i</math>. Since <math>0\\leq \\frac{a}{40},\\frac{b}{40}\\leq 1</math> we have the inequality <cmath>0\\leq a,b \\leq 40</cmath>which is a square of side length <math>40</math>.\n\nAlso, <math>\\frac{40}{\\overline{z}}=\\frac{40}{a-bi}=\\frac{40a}{a^2+b^2}+\\frac{40b}{a^2+b^2}i</math> so we have <math>0\\leq a,b \\leq \\frac{a^2+b^2}{40}</math>, which leads to:<cmath>(a-20)^2+b^2\\geq 20^2</cmath>\n<cmath>a^2+(b-20)^2\\geq 20^2</cmath>\n\nWe graph them:\n\n<center>[[Image:AIME_1992_Solution_10.png]]</center>\n\nTo find the area outside the two circles but inside the square, we want to find the unique area of the two circles. We can do this by adding the area of the two circles and then subtracting out their overlap. There are two methods of finding the area of overlap:\n\n1. Consider that the area is just the quarter-circle with radius <math>20</math> minus an isosceles right triangle with base length <math>20</math>, and then doubled (to consider the entire overlapped area)\n\n2. Consider that the circles can be converted into polar coordinates, and their equations are <math>r = 40sin\\theta</math> and <math>r = 40cos\\theta</math>. Using calculus with the appropriate bounds, we can compute the overlapped area.\n\nUsing either method, we compute the overlapped area to be <math>200\\pi + 400</math>, and so the area of the intersection of those three graphs is <math>40^2-(200\\pi + 400) \\Rightarrow 1200 - 200\\pi \\approx 571.68</math>\n\n<math>\\boxed{572}</math>"
  },
  {
    "year": 1992,
    "variant": "I",
    "problem_number": 11,
    "latex": "Lines <math>l_1^{}</math> and <math>l_2^{}</math> both pass through the origin and make first-quadrant angles of <math>\\frac{\\pi}{70}</math> and <math>\\frac{\\pi}{54}</math> radians, respectively, with the positive x-axis. For any line <math>l^{}_{}</math>, the transformation <math>R(l)^{}_{}</math> produces another line as follows: <math>l^{}_{}</math> is reflected in <math>l_1^{}</math>, and the resulting line is reflected in <math>l_2^{}</math>. Let <math>R^{(1)}(l)=R(l)^{}_{}</math> and <math>R^{(n)}(l)^{}_{}=R\\left(R^{(n-1)}(l)\\right)</math>. Given that <math>l^{}_{}</math> is the line <math>y=\\frac{19}{92}x^{}_{}</math>, find the smallest positive integer <math>m^{}_{}</math> for which <math>R^{(m)}(l)=l^{}_{}</math>.",
    "solution": "Let <math>l</math> be a line that makes an angle of <math>\\theta</math> with the positive <math>x</math>-axis. Let <math>l'</math> be the reflection of <math>l</math> in <math>l_1</math>, and let <math>l''</math> be the reflection of <math>l'</math> in <math>l_2</math>. \n\nThe angle between <math>l</math> and <math>l_1</math> is <math>\\theta - \\frac{\\pi}{70}</math>, so the angle between <math>l_1</math> and <math>l'</math> must also be <math>\\theta - \\frac{\\pi}{70}</math>. Thus,  <math>l'</math> makes an angle of <math>\\frac{\\pi}{70}-\\left(\\theta-\\frac{\\pi}{70}\\right) = \\frac{\\pi}{35}-\\theta</math> with the positive <math>x</math>-axis.  \n\nSimilarly, since the angle between <math>l'</math> and <math>l_2</math> is <math>\\left(\\frac{\\pi}{35}-\\theta\\right)-\\frac{\\pi}{54}</math>, the angle between <math>l''</math> and the positive <math>x</math>-axis is <math>\\frac{\\pi}{54}-\\left(\\left(\\frac{\\pi}{35}-\\theta\\right)-\\frac{\\pi}{54}\\right) = \\frac{\\pi}{27}-\\frac{\\pi}{35}+\\theta = \\frac{8\\pi}{945} + \\theta</math>. \n\nThus, <math>R(l)</math> makes an <math>\\frac{8\\pi}{945} + \\theta</math> angle with the positive <math>x</math>-axis. So <math>R^{(n)}(l)</math> makes an <math>\\frac{8n\\pi}{945} + \\theta</math> angle with the positive <math>x</math>-axis. \n\nTherefore, <math>R^{(m)}(l)=l</math> iff <math>\\frac{8m\\pi}{945}</math> is an integral multiple of <math>\\pi</math>. Thus, <math>8m \\equiv 0\\pmod{945}</math>. Since <math>\\gcd(8,945)=1</math>, <math>m \\equiv 0 \\pmod{945}</math>, so the smallest positive integer <math>m</math> is <math>\\boxed{945}</math>."
  },
  {
    "year": 1992,
    "variant": "I",
    "problem_number": 12,
    "latex": "In a game of <i>Chomp</i>, two players alternately take bites from a 5-by-7 grid of [[unit square]]s. To take a bite, a player chooses one of the remaining [[square (geometry) | squares]], then removes (\"eats\") all squares in the quadrant defined by the left edge (extended upward) and the lower edge (extended rightward) of the chosen square. For example, the bite determined by the shaded square in the diagram would remove the shaded square and the four squares marked by <math>\\times.</math> (The squares with two or more dotted edges have been removed form the original board in previous moves.) \n\n[[Image:AIME_1992_Problem_12.png]]\n\nThe object of the game is to make one's opponent take the last bite. The diagram shows one of the many [[subset]]s of the [[set]] of 35 unit squares that can occur during the game of Chomp. How many different subsets are there in all? Include the full board and empty board in your count.",
    "solution": "By drawing possible examples of the subset, one can easily see that making one subset is the same as dividing the game board into two parts.\n\nOne can also see that it is the same as finding the shortest route from the upper left hand corner to the lower right hand corner; Such a route would require 5 lengths that go down, and 7 that go across, with the shape on the right \"carved\" out by the path a possible subset.\n\nTherefore, the total number of such paths is <math>\\binom{12}{5}=\\boxed{792}</math>"
  },
  {
    "year": 1992,
    "variant": "I",
    "problem_number": 13,
    "latex": "Triangle <math>ABC</math> has <math>AB=9</math> and <math>BC: AC=40: 41</math>. What's the largest area that this triangle can have?",
    "solution": "===Solution 1===\nFirst, consider the [[triangle]] in a [[coordinate system]] with [[vertex|vertices]] at <math>(0,0)</math>, <math>(9,0)</math>, and <math>(a,b)</math>. Applying the [[distance formula]], we see that <math>\\frac{ \\sqrt{a^2 + b^2} }{ \\sqrt{ (a-9)^2 + b^2 } } = \\frac{40}{41}</math>.\n\nWe want to maximize <math>b</math>, the height, with <math>9</math> being the base.\n\nSimplifying gives <math>-a^2 -\\frac{3200}{9}a +1600 = b^2</math>.\n\nTo maximize <math>b</math>, we want to maximize <math>b^2</math>. So if we can write: <math>b^2=-(a+n)^2+m</math>, then <math>m</math> is the maximum value of <math>b^2</math> (this follows directly from the [[trivial inequality]], because if <math>{x^2 \\ge 0}</math> then plugging in <math>a+n</math> for <math>x</math> gives us <math>{(a+n)^2 \\ge 0}</math>).\n\n<math>b^2=-a^2 -\\frac{3200}{9}a +1600=-\\left(a +\\frac{1600}{9}\\right)^2 +1600+\\left(\\frac{1600}{9}\\right)^2</math>.\n\n<math>\\Rightarrow b\\le\\sqrt{1600+\\left(\\frac{1600}{9}\\right)^2}=40\\sqrt{1+\\frac{1600}{81}}=\\frac{40}{9}\\sqrt{1681}=\\frac{40\\cdot 41}{9}</math>.\n\nThen the area is <math>9\\cdot\\frac{1}{2} \\cdot \\frac{40\\cdot 41}{9} = \\boxed{820}</math>.\n\n===Solution 2===\nLet the three sides be <math>9,40x,41x</math>, so the area is <math>\\frac14\\sqrt {(81^2 - 81x^2)(81x^2 - 1)}</math> by Heron's formula. By AM-GM, <math>\\sqrt {(81^2 - 81x^2)(81x^2 - 1)}\\le\\frac {81^2 - 1}2</math>, and the maximum possible area is <math>\\frac14\\cdot\\frac {81^2 - 1}2 = \\frac18(81 - 1)(81 + 1) = 10\\cdot82 = \\boxed{820}</math>. This occurs when <math>81^2 - 81x^2 = 81x^2 - 1\\implies x = \\frac {\\sqrt {3281}}9</math>.\n\n====Comment====\nRigorously, we need to make sure that the equality of the AM-GM inequality is possible to be obtained (in other words, <math>(81^2 - 81x^2)</math> and <math>(81x^2 - 1)</math> can be equal with some value of <math>x</math>). MAA is pretty good at generating smooth combinations, so in this case, the AM-GM works; however, always try to double check in math competitions -- the writer of Solution 2 gave us a pretty good example of checking if the AM-GM equality can be obtained.   ~Will_Dai\n\n===Solution 3===\nLet <math>A, B</math> be the endpoints of the side with length <math>9</math>. Let <math>\\Gamma</math> be the Apollonian Circle of <math>AB</math> with ratio <math>40:41</math>; let this intersect <math>AB</math> at <math>P</math> and <math>Q</math>, where <math>P</math> is inside <math>AB</math> and <math>Q</math> is outside. Then because <math>(A, B; P, Q)</math> describes a harmonic set, <math>AP/AQ=BP/BQ\\implies \\dfrac{\\frac{41}{9}}{BQ+9}=\\dfrac{\\frac{40}{9}}{BQ}\\implies BQ=360</math>. Finally, this means that the radius of <math>\\Gamma</math> is <math>\\dfrac{360+\\frac{40}{9}}{2}=180+\\dfrac{20}{9}</math>.\n\nSince the area is maximized when the altitude to <math>AB</math> is maximized, clearly we want the last vertex to be the highest point of <math>\\Gamma</math>, which just makes the altitude have length <math>180+\\dfrac{20}{9}</math>. Thus, the area of the triangle is <math>\\dfrac{9\\cdot \\left(180+\\frac{20}{9}\\right)}{2}=\\boxed{820}</math>\n\n===Solution 4 (Involves Basic Calculus)===\nWe can apply Heron's on this triangle after letting the two sides equal <math>40x</math> and <math>41x</math>. Heron's gives\n\n<math>\\sqrt{\\left(\\frac{81x+9}{2} \\right) \\left(\\frac{81x-9}{2} \\right) \\left(\\frac{x+9}{2} \\right) \\left(\\frac{-x+9}{2} \\right)}</math>.\n\nThis can be simplified to\n\n<math>\\frac{9}{4} \\cdot \\sqrt{(81x^2-1)(81-x^2)}</math>.\n\nWe can optimize the area of the triangle by finding when the derivative of the expression inside the square root equals 0.\n\nWe have that <math>-324x^3+13124x=0</math>, so <math>x=\\frac{\\sqrt{3281}}{9}</math>.\n\nPlugging this into the expression, we have that the area is <math>\\boxed{820}</math>.\n\n<math>\\textbf{-RootThreeOverTwo}</math>\n\n~minor <math>\\LaTeX</math> edit by Yiyj1\n\n===Solution 5 ===\n\nWe can start how we did above in solution 4 to get\n<math>\\frac{9}{4} * \\sqrt{(81x^2-1)(81-x^2)}</math>.\nThen, we can notice the inside is a quadratic in terms of <math>x^2</math>, which is\n<math>-81(x^2)^2+6562x^2-81</math>. This is maximized when <math>x^2 = \\frac{3281}{81}</math>.If we plug it into the equation, we get <math>\\frac{9}{4} \\cdot \\frac{3280}{9} = \\boxed{820}</math>"
  },
  {
    "year": 1992,
    "variant": "I",
    "problem_number": 14,
    "latex": "In triangle <math>ABC^{}_{}</math>, <math>A'</math>, <math>B'</math>, and <math>C'</math> are on the sides <math>BC</math>, <math>AC^{}_{}</math>, and <math>AB^{}_{}</math>, respectively. Given that <math>AA'</math>, <math>BB'</math>, and <math>CC'</math> are concurrent at the point <math>O^{}_{}</math>, and that <math>\\frac{AO^{}_{}}{OA'}+\\frac{BO}{OB'}+\\frac{CO}{OC'}=92</math>, find <math>\\frac{AO}{OA'}\\cdot \\frac{BO}{OB'}\\cdot \\frac{CO}{OC'}</math>.",
    "solution": "Let <math>K_A=[BOC], K_B=[COA],</math> and <math>K_C=[AOB].</math>  Due to triangles <math>BOC</math> and <math>ABC</math> having the same base,  <cmath>\\frac{AO}{OA'}+1=\\frac{AA'}{OA'}=\\frac{[ABC]}{[BOC]}=\\frac{K_A+K_B+K_C}{K_A}.</cmath>  Therefore, we have\n<cmath>\\frac{AO}{OA'}=\\frac{K_B+K_C}{K_A}</cmath> <cmath>\\frac{BO}{OB'}=\\frac{K_A+K_C}{K_B}</cmath> <cmath>\\frac{CO}{OC'}=\\frac{K_A+K_B}{K_C}.</cmath>\nThus, we are given <cmath>\\frac{K_B+K_C}{K_A}+\\frac{K_A+K_C}{K_B}+\\frac{K_A+K_B}{K_C}=92.</cmath> Combining and expanding gives <cmath>\\frac{K_A^2K_B+K_AK_B^2+K_A^2K_C+K_AK_C^2+K_B^2K_C+K_BK_C^2}{K_AK_BK_C}=92.</cmath> We desire <math>\\frac{(K_B+K_C)(K_C+K_A)(K_A+K_B)}{K_AK_BK_C}.</math> Expanding this gives <cmath>\\frac{K_A^2K_B+K_AK_B^2+K_A^2K_C+K_AK_C^2+K_B^2K_C+K_BK_C^2}{K_AK_BK_C}+2=\\boxed{094}.</cmath>"
  },
  {
    "year": 1992,
    "variant": "I",
    "problem_number": 15,
    "latex": "Define a positive integer <math>n^{}_{}</math> to be a factorial tail if there is some positive integer <math>m^{}_{}</math> such that the decimal representation of <math>m!</math> ends with exactly <math>n</math> zeroes. How many positive integers less than <math>1992</math> are not factorial tails?",
    "solution": "Let the number of zeros at the end of <math>m!</math> be <math>f(m)</math>. We have <math>f(m) = \\left\\lfloor \\frac{m}{5} \\right\\rfloor + \\left\\lfloor \\frac{m}{25} \\right\\rfloor + \\left\\lfloor \\frac{m}{125} \\right\\rfloor + \\left\\lfloor \\frac{m}{625} \\right\\rfloor + \\left\\lfloor \\frac{m}{3125} \\right\\rfloor + \\cdots</math>. \n\nNote that if <math>m</math> is a multiple of <math>5</math>, <math>f(m) = f(m+1) = f(m+2) = f(m+3) = f(m+4)</math>. \n\nSince <math>f(m) \\le \\frac{m}{5} + \\frac{m}{25} + \\frac{m}{125} + \\cdots  = \\frac{m}{4}</math>, a value of <math>m</math> such that <math>f(m) = 1991</math> is greater than <math>7964</math>. Testing values greater than this yields <math>f(7975)=1991</math>.\n\nThere are <math>\\frac{7975}{5} = 1595</math> distinct positive integers, <math>f(m)</math>, less than <math>1992</math>. Thus, there are <math>1991-1595 = \\boxed{396}</math> positive integers less than <math>1992</math> that are not factorial tails."
  },
  {
    "year": 1993,
    "variant": "I",
    "problem_number": 1,
    "latex": "How many even [[integer]]s between 4000 and 7000 have four different digits?",
    "solution": "The thousands digit is <math>\\in \\{4,5,6\\}</math>. \n\nCase <math>1</math>: Thousands digit is even\n\n<math>4, 6</math>, two possibilities, then there are only <math>\\frac{10}{2} - 1 = 4</math> possibilities for the units digit. This leaves <math>8</math> possible digits for the hundreds and <math>7</math> for the tens places, yielding a total of <math>2 \\cdot 8 \\cdot 7 \\cdot 4 = 448</math>.\n\n\nCase <math>2</math>: Thousands digit is odd\n\n<math>5</math>, one possibility, then there are <math>5</math> choices for the units digit, with <math>8</math> digits for the hundreds and <math>7</math> for the tens place. This gives <math>1 \\cdot 8 \\cdot 7 \\cdot 5= 280</math> possibilities.\n\nTogether, the solution is <math>448 + 280 = \\boxed{728}</math>."
  },
  {
    "year": 1993,
    "variant": "I",
    "problem_number": 2,
    "latex": "During a recent campaign for office, a candidate made a tour of a country which we assume lies in a plane. On the first day of the tour he went east, on the second day he went north, on the third day west, on the fourth day south, on the fifth day east, etc. If the candidate went <math>n^{2}_{}/2</math> miles on the <math>n^{\\mbox{th}}_{}</math> day of this tour, how many miles was he from his starting point at the end of the <math>40^{\\mbox{th}}_{}</math> day?",
    "solution": "On the first day, the candidate moves <math>[4(0) + 1]^2/2\\ \\text{east},\\, [4(0) + 2]^2/2\\ \\text{north},\\, [4(0) + 3]^2/2\\ \\text{west},\\, [4(0) + 4]^2/2\\ \\text{south}</math>, and so on. The east/west displacement is thus <math>\\frac{1^2 - 3^2 + 5^2 \\ldots +37^2 - 39^2}{2} = \\left|\\sum_{i=0}^9 \\frac{(4i+1)^2}{2} - \\sum_{i=0}^9 \\frac{(4i+3)^2}{2}\\right|</math>. Applying [[difference of squares]], we see that \n<cmath>\n\\begin{align*}\n\\left|\\sum_{i=0}^9 \\frac{(4i+1)^2 - (4i+3)^2}{2}\\right| &= \\left|\\sum_{i=0}^9 \\frac{(4i+1+4i+3)(4i+1-(4i+3))}{2}\\right|\\\\ &= \\left|\\sum_{i=0}^9 -(8i+4) \\right|.\n\\end{align*}</cmath>\nSimilarly, the north/south displacement is \n<cmath>\\left|\\sum_{i=0}^9 \\frac{(4i+2)^2}{2} - \\sum_{i=0}^9 \\frac{(4i+4)^2}{2}\\right| = \\left|\\sum_{i=0}^9 -(8i+6) \\right|.</cmath>\nSince <math>\\sum_{i=0}^{9} i = \\frac{9(10)}{2} = 45</math>, the two distances evaluate to <math>8(45) + 10\\cdot 4 = 400</math> and <math>8(45) + 10\\cdot 6 = 420</math>. By the [[Pythagorean Theorem]], the answer is <math>\\sqrt{400^2 + 420^2} = 29 \\cdot 20 = \\boxed{580}</math>."
  },
  {
    "year": 1993,
    "variant": "I",
    "problem_number": 3,
    "latex": "The table below displays some of the results of last summer's Frostbite Falls Fishing Festival, showing how many contestants caught <math>n\\,</math> fish for various values of <math>n\\,</math>. \n<center><math>\\begin{array}{|c|c|c|c|c|c|c|c|c|} \\hline n & 0 & 1 & 2 & 3 & \\dots & 13 & 14 & 15 \\\\\n\\hline \\text{number of contestants who caught} \\ n \\ \\text{fish} & 9 & 5 & 7 & 23 & \\dots & 5 & 2 & 1 \\\\\n\\hline \\end{array}</math></center>\nIn the newspaper story covering the event, it was reported that \n:(a) the winner caught <math>15</math> fish; \n:(b) those who caught <math>3</math> or more fish averaged <math>6</math> fish each; \n:(c) those who caught <math>12</math> or fewer fish averaged <math>5</math> fish each. \nWhat was the total number of fish caught during the festival?",
    "solution": "Suppose that the number of fish is <math>x</math> and the number of contestants is <math>y</math>. The <math>y-(9+5+7)=y-21</math> fishers that caught <math>3</math> or more fish caught a total of <math>x - \\left(0\\cdot(9) + 1\\cdot(5) + 2\\cdot(7)\\right) = x - 19</math> fish. Since they averaged <math>6</math> fish, <center><math>6 = \\frac{x - 19}{y - 21} \\Longrightarrow x - 19 = 6y - 126.</math></center> Similarily, those who caught <math>12</math> or fewer fish averaged <math>5</math> fish per person, so <center><math>5 = \\frac{x - (13(5) + 14(2) + 15(1))}{y - 8} = \\frac{x - 108}{y - 8} \\Longrightarrow x - 108 = 5y - 40.</math></center> Solving the two equation system, we find that <math>y = 175</math> and <math>x = \\boxed{943}</math>, the answer."
  },
  {
    "year": 1993,
    "variant": "I",
    "problem_number": 4,
    "latex": "How many ordered four-tuples of integers <math>(a,b,c,d)\\,</math> with <math>0 < a < b < c < d < 500\\,</math> satisfy <math>a + d = b + c\\,</math> and <math>bc - ad = 93\\,</math>?",
    "solution": "=== Solution 1 ===\nLet <math>k = a + d = b + c</math> so <math>d = k-a, b=k-c</math>. It follows that <math>(k-c)c - a(k-a) = (a-c)(a+c-k) = (c-a)(d-c) = 93</math>. Hence <math>(c - a,d - c) = (1,93),(3,31),(31,3),(93,1)</math>.\n\nSolve them in terms of <math>c</math> to get \n<math>(a,b,c,d) = (c - 93,c - 92,c,c + 1),</math> <math>(c - 31,c - 28,c,c + 3),</math> <math>(c - 1,c + 92,c,c + 93),</math> <math>(c - 3,c + 28,c,c + 31)</math>. The last two solutions don't follow <math>a < b < c < d</math>, so we only need to consider the first two solutions.\n\nThe first solution gives us <math>c - 93\\geq 1</math> and <math>c + 1\\leq 499</math> <math>\\implies 94\\leq c\\leq 498</math>, and the second one gives us <math>32\\leq c\\leq 496</math>.\n\nSo the total number of such quadruples is <math>405 + 465 = \\boxed{870}</math>.\n\n=== Solution 2 ===\nLet <math>b = a + m</math> and <math>c = a + m + n</math>. From <math>a + d = b + c</math>, <math>d = b + c - a = a + 2m + n</math>. \n\nSubstituting <math>b = a + m</math>, <math>c = a + m + n</math>, and <math>d = b + c - a = a + 2m + n</math> into <math>bc - ad = 93</math>,\n<cmath>\nbc - ad = (a + m)(a + m + n) - a(a + 2m + n) = m(m + n). = 93 = 3(31)\n</cmath>\nHence, <math>(m,n) = (1,92)</math> or <math>(3,28)</math>. \n\nFor <math>(m,n) = (1,92)</math>, we know that <math>0 < a < a + 1 < a + 93 < a + 94 < 500</math>, so there are <math>405</math> four-tuples. For <math>(m,n) = (3,28)</math>, <math>0 < a < a + 3 < a + 31 < a + 34 < 500</math>, and there are <math>465</math> four-tuples. In total, we have <math>405 + 465 = \\boxed{870}</math> four-tuples.\n\n=== Solution 3 ===\nSquare both sides of the first equation in order to get <math>bc</math> and <math>ad</math> terms, which we can plug <math>93</math> in for.\n<cmath>\\begin{align*}\n(a+d)^2 = (b+c)^2 &\\implies a^2 + 2ad + d^2 = b^2 + 2bc + c^2 \\\\\n&\\implies 2bc-2ad = a^2-b^2 + d^2-c^2 \\\\\n&\\implies 2(bc-ad) = (a-b)(a+b)+(d-c)(d+c)\n\\end{align*}</cmath>\nWe can plug <math>93</math> in for <math>bc - ad</math> to get <math>186</math> on the left side, and also observe that <math>a-b = c-d</math> after rearranging the first equation. Plug in <math>c-d</math> for <math>a-b</math>.\n\n<math>186 = (c-d)(a+b) + (d-c)(d+c) \\implies 186 = -(d-c)(a+b) + (d-c)(d+c) \\implies 186 = (d-c)(d+c-a-b)</math>\n\nNow observe the possible factors of <math>186</math>, which are <math>1 \\cdot 186, 2\\cdot 93, 3 \\cdot 62, 6\\cdot 31</math>. <math>(d-c)</math> and <math>(d+c-a-b)</math> must be factors of <math>186</math>, and <math>(d+c-a-b)</math> must be greater than <math>(d-c)</math>.\n\n<math>1 \\cdot 186</math> work, and yields <math>405</math> possible solutions.\n<math>2 \\cdot 93</math> does not work, because if <math>c-d = 2</math>, then <math>a+b</math> must differ by 2 as well, but an odd number <math>93</math> can only result from two numbers of different parity. <math>c-d</math> will be even, and <math>a+b</math> will be even, so <math>c+d - (a+b)</math> must be even.\n<math>3 \\cdot 62</math> works, and yields <math>465</math> possible solutions, while <math>6 \\cdot 31</math> fails for the same reasoning above.\n\nThus, the answer is <math>405 + 465 = \\boxed{870}</math>\n\n===Solution 4===\n\nAdd the two conditions together to get <math>a+d+ad+93=b+c+bc</math>. Rearranging and factorising with SFFT, <math>(a+1)(d+1)+93=(b+1)(c+1)</math>. This implies that for every quadruple <math>(a,b,c,d)</math>, we can replace <math>a\\longrightarrow a+1</math>, <math>b\\longrightarrow b+1</math>, etc. and this will still produce a valid quadruple. This means, that we can fix <math>a=1</math>, and then just repeatedly add <math>1</math> to get the other quadruples. \n\nNow, our conditions are <math>b+c=d+1</math> and <math>bc=d+93</math>. Replacing <math>d</math> in the first equation, we get <math>bc-b-c=92</math>. Factorising again with SFFT gives <math>(b-1)(c-1)=93</math>. Since <math>b<c</math>, we have two possible cases to consider.\n\nCase 1: <math>b=2</math>, <math>c=94</math>. This produces the quadruple <math>(1,2,94,95)</math>, which indeed works.\n\nCase 2: <math>b=4</math>, <math>c=32</math>. This produces the quadruple <math>(1,4,32,35)</math>, which indeed works. \n\nNow, for case 1, we can add <math>1</math> to each term exactly <math>404</math> times (until we get the quadruple <math>(405,406,498,499)</math>), until we violate <math>d<500</math>. This gives <math>405</math> quadruples for case 1.\n\nFor case 2, we can add <math>1</math> to each term exactly <math>464</math> times (until we get the quadruple <math>(465,468,496,499)</math>). this gives <math>465</math> quadruples for case 2.\n\nIn conclusion, having exhausted all cases, we can finish. There are hence <math>405+465=\\boxed{870}</math> possible quadruples.\n\n===Solution 5===\n\nLet <math>r = d-c</math>. From the equation <math>a+d = b+c</math>, we have <cmath> r = d-c = b-a , </cmath> so <math>b = a+r</math> and <math>c = d-r</math>. We then have <cmath> 93 = (a+r)(d-r) - ad = rd - ra - r^2 = r(d-a-r) . </cmath> Since <math>c > b</math>, <math>d-r > a+r</math>, or <math>d-a-r > r</math>. Since the prime factorization of 93 is <math>3 \\cdot 31</math>, we must either have <math>r=1</math> and <math>d-a-r = 93</math>, or <math>r=3</math> and <math>d-a-r = 31</math>. We consider these cases separately.\n\nIf <math>r=1</math>, then <math>d-a = 94</math>, <math>b= a+1</math>, and <math>c = d-1</math>. Thus <math>d</math> can be any integer between 95 and 499, inclusive, and our choice of <math>d</math> determines the four-tuple <math>(a,b,c,d)</math>. We therefore have <math>499-95+1 = 405</math> possibilities in this case.\n\nIf <math>r=3</math>, then <math>d-a = 34</math>, <math>b = a+3</math>, and <math>c=d-3</math>. Thus <math>d</math> can be any integer between 35 and 499, inclusive, and our choice of <math>d</math> determines the four-tuple <math>(a,b,c,d)</math>, as before. We therefore have <math>499-35+1 = 465</math> possibilities in this case.\n\nSince there are 405 possibilities in the first case and 465 possibilities in the second case, in total there are <math>405 + 465 = \\boxed{870}</math> four-tuples."
  },
  {
    "year": 1993,
    "variant": "I",
    "problem_number": 5,
    "latex": "<!-- don't remove the following tag, for PoTW on the Wiki front page--><onlyinclude>Let <math>P_0(x) = x^3 + 313x^2 - 77x - 8\\,</math>.  For [[integer]]s <math>n \\ge 1\\,</math>, define <math>P_n(x) = P_{n - 1}(x - n)\\,</math>.  What is the [[coefficient]] of <math>x\\,</math> in <math>P_{20}(x)\\,</math>?<!-- don't remove the following tag, for PoTW on the Wiki front page--></onlyinclude>",
    "solution": "Notice that \n<cmath>\\begin{align*}P_{20}(x) &= P_{19}(x - 20)\\\\ &= P_{18}((x - 20) - 19)\\\\ &= P_{17}(((x - 20) - 19) - 18)\\\\ &= \\cdots\\\\ &= P_0(x - (20 + 19 + 18 + \\ldots + 2 + 1)).\\end{align*}</cmath>\n\n\nUsing the formula for the sum of the first <math>n</math> numbers, <math>1 + 2 + \\cdots + 20 = \\frac{20(20+1)}{2} = 210</math>. Therefore, <cmath>P_{20}(x) = P_0(x - 210).</cmath>\n\nSubstituting <math>x - 210</math> into the function definition, we get <math>P_0(x-210) = (x - 210)^3 + 313(x - 210)^2 - 77(x - 210) - 8</math>. We only need the coefficients of the linear terms, which we can find by the [[binomial theorem]]. \n*<math>(x-210)^3</math> will have a linear term of <math>{3\\choose1}210^2x = 630 \\cdot 210x</math>.\n*<math>313(x-210)^2</math> will have a linear term of <math>-313 \\cdot {2\\choose1}210x = -626 \\cdot 210x</math>. \n*<math>-77(x-210)</math> will have a linear term of <math>-77x</math>. \nAdding up the coefficients, we get <math>630 \\cdot 210 - 626 \\cdot 210 - 77 = \\boxed{763}</math>."
  },
  {
    "year": 1993,
    "variant": "I",
    "problem_number": 6,
    "latex": "What is the smallest [[positive]] [[integer]] that can be expressed as the sum of nine consecutive integers, the sum of ten consecutive integers, and the sum of eleven consecutive integers?",
    "solution": "=== Solution 1 ===\nDenote the first of each of the series of consecutive integers as <math>a,\\ b,\\ c</math>. Therefore, <math>n = a + (a + 1) \\ldots (a + 8) = 9a + 36 = 10b + 45 = 11c + 55</math>. Simplifying, <math>9a = 10b + 9 = 11c + 19</math>. The relationship between <math>a,\\ b</math> suggests that <math>b</math> is divisible by <math>9</math>. Also, <math>10b -10 = 10(b-1) = 11c</math>, so <math>b-1</math> is divisible by <math>11</math>. We find that the least possible value of <math>b = 45</math>, so the answer is <math>10(45) + 45 = 495</math>.\n\n=== Solution 2 ===\n\nLet the desired integer be <math>n</math>. From the information given, it can be determined that, for positive integers <math>a, \\ b, \\ c</math>:\n\n<math>n = 9a + 36 = 10b + 45 = 11c + 55</math>\n\nThis can be rewritten as the following congruences:\n\n<math>n \\equiv 0 \\pmod{9}</math> \n\n<math>n \\equiv 5 \\pmod{10}</math>\n\n<math>n \\equiv 0 \\pmod{11}</math>\n\nSince 9 and 11 are relatively prime, n is a multiple of 99. It can then easily be determined that the smallest multiple of 99 with a units digit 5 (this can be interpreted from the 2nd congruence) is <math>\\boxed{495}</math>\n\n=== Solution 3 ===\n\nLet <math>n</math> be the desired integer. From the given information, we have\n<cmath> \\begin{align*}9x &= a \\\\ 11y &= a \\\\ 10z + 5 &= a, \\end{align*}</cmath> here, <math>x,</math> and <math>y</math> are the middle terms of the sequence of 9 and 11 numbers, respectively. Similarly, we have <math>z</math> as the 4th term of the sequence. Since, <math>a</math> is a multiple of <math>9</math> and <math>11,</math> it is also a multiple of <math>\\text{lcm}[9,11]=99.</math> Hence, <math>a=99m,</math> for some <math>m.</math> So, we have <math>10z + 5 = 99m.</math> It follows that <math>99(5) = \\boxed{495}</math> is the smallest integer that can be represented in such a way.\n\n=== Solution 4 ===\nBy the method in Solution 1, we find that the number <math>n</math> can be written as <math>9a+36=10b+45=11c+55</math> for some integers <math>a,b,c</math>. From this, we can see that <math>n</math> must be divisible by 9, 5, and 11. This means <math>n</math> must be divisible by 495. The only multiples of 495 that are small enough to be AIME answers are 495 and 990. From the second of the three expressions above, we can see that <math>n</math> cannot be divisible by 10, so <math>n</math> must equal <math>\\boxed{495}</math>. Solution by Zeroman.\n\n=== Solution 5 ===\n\nFirst note that the integer clearly must be divisible by <math>9</math> and <math>11</math> since we can use the \"let the middle number be x\" trick. Let the number be <math>99k</math> for some integer <math>k.</math> Now let the <math>10</math> numbers be <math>x,x+1, \\cdots x+9.</math> We have <math>10x+45 = 99k.</math> Taking mod <math>5</math> yields <math>k \\equiv 0 \\pmod{5}.</math> Since <math>k</math> is positive, we take <math>k=5</math> thus obtaining <math>99 \\cdot 5 = \\boxed{495}</math> as our answer.\n\n\n\n=== Solution 6 ===\n\n\nFrom the first equation solution 1, we get the three part equation 9x=10y+9=11z+19 after subtracting 36 from each of the equations 9x+36=10y+45=11z+55 knowing that the integer we are looking for has a last digit of 9 from the second part of our first equation, and also knowing that our mystery number must be 19 more the a multiple of 11 that ends in 0, the only way this could happen is if the number is able to be deduced in the form 110a+19, where a is between the range 1-9, inclusive. \nso, also knowing our mystery number is divisible by 9, our only answer being 129,239,349,459 ... etc. until 899. Brushing through our act of casework for this problem shows that the answer is 459... but we are not done yet! We have to add the 36 we subtracted at the beggining of our solution to get the equation 459+36, which is equal to our final answer... 495!!!\n     <math>michaellin16</math>"
  },
  {
    "year": 1993,
    "variant": "I",
    "problem_number": 7,
    "latex": "Three numbers, <math>a_1, a_2, a_3</math>, are drawn randomly and without replacement from the set <math>\\{1, 2, 3,\\ldots, 1000\\}</math>. Three other numbers, <math>b_1, b_2, b_3</math>, are then drawn randomly and without replacement from the remaining set of <math>997</math> numbers. Let <math>p</math> be the probability that, after suitable rotation, a brick of dimensions <math>a_1 \\times a_2 \\times a_3</math> can be enclosed in a box of dimension <math>b_1 \\times b_2 \\times b_3</math>, with the sides of the brick parallel to the sides of the box. If <math>p</math> is written as a fraction in lowest terms, what is the sum of the numerator and denominator?",
    "solution": "There is a total of <math>P(1000,6)</math> possible ordered <math>6</math>-tuples <math>(a_1,a_2,a_3,b_1,b_2,b_3).</math>\n\nThere are <math>C(1000,6)</math> possible sets <math>\\{a_1,a_2,a_3,b_1,b_2,b_3\\}.</math> We have five valid cases for the increasing order of these six elements:\n<ol style=\"margin-left: 1.5em;\">\n  <li><math>aaabbb</math></li><p>\n  <li><math>aababb</math></li><p>\n  <li><math>aabbab</math></li><p>\n  <li><math>abaabb</math></li><p>\n  <li><math>ababab</math></li><p>\n</ol>\nNote that the <math>a</math>'s are different from each other, as there are <math>3!=6</math> ways to permute them as <math>a_1,a_2,</math> and <math>a_3.</math> Similarly, the <math>b</math>'s are different from each other, as there are <math>3!=6</math> ways to permute them as <math>b_1,b_2,</math> and <math>b_3.</math>\n\nSo, there is a total of <math>C(1000,6)\\cdot5\\cdot6^2</math> valid ordered <math>6</math>-tuples. The requested probability is <cmath>p=\\frac{C(1000,6)\\cdot5\\cdot6^2}{P(1000,6)}=\\frac{C(1000,6)\\cdot5\\cdot6^2}{C(1000,6)\\cdot6!}=\\frac14,</cmath> from which the answer is <math>1+4=\\boxed{005}.</math>\n\n~MRENTHUSIASM"
  },
  {
    "year": 1993,
    "variant": "I",
    "problem_number": 8,
    "latex": "Let <math>S\\,</math> be a set with six elements. In how many different ways can one select two not necessarily distinct subsets of <math>S\\,</math> so that the union of the two subsets is <math>S\\,</math>?  The order of selection does not matter; for example, the pair of subsets <math>\\{a, c\\},\\{b, c, d, e, f\\}</math> represents the same selection as the pair <math>\\{b, c, d, e, f\\},\\{a, c\\}.</math>",
    "solution": "Call the two subsets <math>m</math> and <math>n.</math> For each of the elements in <math>S,</math> we can assign it to either <math>m,n,</math> or both. This gives us <math>3^6</math> possible methods of selection. However, because the order of the subsets does not matter, each possible selection is double counted, except the case where both <math>m</math> and <math>n</math> contain all <math>6</math> elements of <math>S.</math> So our final answer is then <math>\\frac {3^6 - 1}{2} + 1 = \\boxed{365}.</math>\n\nNote: because we can order selections <math>A</math> and <math>B</math> in two ways, but since order does not matter in the problem, we should only count them once, ie we need to divide by two. We first need to subtract one for the count <math>3^6-1</math> because there is one case in which <math>A</math> and <math>B</math> are identical and so while the rest of the ‚Äúdifferent‚Äù cases are counted twice, this one was only counted once so we should subtract one from the total count, divide by two, and add back that distinct one case. Or we could just add one, making all of the problem‚Äôs different cases counted twice, and divide it all by two, which is <math>\\frac{3^6+1}{2}=365.</math>"
  },
  {
    "year": 1993,
    "variant": "I",
    "problem_number": 9,
    "latex": "Two thousand points are given on a [[circle]]. Label one of the points <math>1</math>. From this point, count <math>2</math> points in the clockwise direction and label this point <math>2</math>. From the point labeled <math>2</math>, count <math>3</math> points in the clockwise direction and label this point <math>3</math>. (See figure.) Continue this process until the labels <math>1,2,3\\dots,1993\\,</math> are all used. Some of the points on the circle will have more than one label and some points will not have a label. What is the smallest integer that labels the same point as <math>1993</math>? \n\n[[Image:AIME_1993_Problem_9.png]]",
    "solution": "The label <math>1993</math> will occur on the <math>\\frac12(1993)(1994) \\pmod{2000}</math>th point around the circle. (Starting from 1) A number <math>n</math> will only occupy the same point on the circle if <math>\\frac12(n)(n + 1)\\equiv \\frac12(1993)(1994) \\pmod{2000}</math>. \n\nSimplifying this expression, we see that <math>(1993)(1994) - (n)(n + 1) = (1993 - n)(1994 + n)\\equiv 0\\pmod{2000}</math>. Therefore, one of <math>1993 - n</math> or <math>1994 + n</math> is odd, and each of them must be a multiple of <math>125</math> or <math>16</math>. \n\nFor <math>1993 - n</math> to be a multiple of <math>125</math> and <math>1994 + n</math> to be a multiple of <math>16</math>, <math>n \\equiv 118 \\pmod {125}</math> and <math>n\\equiv 6 \\pmod {16}</math>. The smallest <math>n</math> for this case is <math>118</math>. \n\nIn order for <math>1993 - n</math> to be a multiple of <math>16</math> and <math>1994 + n</math> to be a multiple of <math>125</math>, <math>n\\equiv 9\\pmod{16}</math> and <math>n\\equiv 6\\pmod{125}</math>. The smallest <math>n</math> for this case is larger than <math>118</math>, so <math>\\boxed{118}</math> is our answer.\n\n'''Note:''' One can just substitute <math>1993\\equiv-7\\pmod{2000}</math> and <math>1994\\equiv-6\\pmod{2000}</math> to simplify calculations."
  },
  {
    "year": 1993,
    "variant": "I",
    "problem_number": 10,
    "latex": "[[Euler's formula]] states that for a [[convex polyhedron]] with <math>V</math> [[vertex|vertices]], <math>E</math> [[edge]]s, and <math>F</math> [[face]]s, <math>V-E+F=2</math>. A particular convex polyhedron has 32 faces, each of which is either a [[triangle]] or a [[pentagon]]. At each of its <math>V</math> vertices, <math>T</math> triangular faces and <math>P</math> pentagonal faces meet. What is the value of <math>100P+10T+V</math>?",
    "solution": "== ==\n=== Solution 1 ===\nThe convex polyhedron of the problem can be easily visualized; it corresponds to a [[dodecahedron]] (a regular solid with <math>12</math> [[equilateral]] pentagons) in which the <math>20</math> vertices have all been truncated to form <math>20</math> equilateral triangles with common vertices. The resulting solid has then <math>p=12</math> smaller equilateral pentagons and <math>t=20</math> equilateral triangles yielding a total of <math>t+p=F=32</math> faces. In each vertex, <math>T=2</math> triangles and <math>P=2</math> pentagons are concurrent. Now, the number of edges <math>E</math> can be obtained if we count the number of sides that each triangle and pentagon contributes: <math>E=\\frac{3t+5p}{2}</math>, (the factor <math>2</math> in the [[denominator]] is because we are counting twice each edge, since two adjacent faces share one edge). Thus, <math>E=60</math>. Finally, using Euler's formula we have <math>V=E-30=30</math>.\n\nIn summary, the solution to the problem is <math>100P+10T+V=\\boxed{250}</math>.\n=== Solution 2 ===\nAs seen above, <math>E=V+30</math>. Every vertex <math>V</math>, there is a triangle for every <math>T</math> and a pentagon for every <math>P</math> by the given. However, there are three times every triangle will be counted and five times every pentagon will be counted because of their numbers of vertices. From this observation, <math>\\frac{VT}3+\\frac{VP}5=32\\implies V(5T+3P)=480</math>. Also, at every vertex <math>V</math>, there are <math>T+P</math> edges coming out from that vertex (one way to see this is to imagine the leftmost segment of each triangle and pentagon that is connected to the given vertex, and note that it includes every one of the edges exactly once), so <math>\\frac{V(T+P)}2=E\\implies V(T+P)=2E\\implies V(5T+5P)=10E</math>, and subtracting the other equation involving the vertices from this gives\n<math>2VP=10E-480\\implies VP=5E-240=5(V+30)-240=5V-90</math>\n<math>\\implies V(5-P)=90</math>. \nSince <math>V|480</math> from the first vertex-related observation and <math>P>0\\implies5-P<5</math>, and it quickly follows that <math>V=30\\implies E=60\\implies P=2\\implies T=2\\implies100P+10T+V=\\boxed{250}</math>.\n\n\n=== Solution 3 ===\nNotice that at each human, we must have the sum of the angles be less than <math>360</math> degrees or we will not be able to fold the polyhedron.  Therefore, we have <math>60T + 108P < 360.</math> Now, let there be <math>t</math> triangles and <math>p</math> pentagons total such that <math>t+p = 32.</math>  From the given, we know that <math>E = V + 30.</math>  Lastly, we see that <math>E = \\frac{3t+5p}{2}</math> and <math>V = \\frac{3t}{T}=\\frac{5p}{P}.</math>  \n\nNow, we do casework on what <math>P</math> is.  \n\nCase 1: <math>P = 2</math>\nNotice that we must have <math>t</math> and <math>p</math> integral.  Trying <math>T = 1, 2</math> yields a solution with <math>t=2.</math>  Trying other cases of <math>P</math> and <math>T</math> yields no solutions.  Therefore, <math>T=2, P=2</math> and after solving for <math>t, p</math> we get <math>V=30.</math>  Finally, we have <math>100P+10T+V = \\boxed{250}</math>.\n\n~Williamgolly"
  },
  {
    "year": 1993,
    "variant": "I",
    "problem_number": 11,
    "latex": "Alfred and Bonnie play a game in which they take turns tossing a fair coin. The winner of a game is the first person to obtain a head. Alfred and Bonnie play this game several times with the stipulation that the loser of a game goes first in the next game. Suppose that Alfred goes first in the first game, and that the probability that he wins the sixth game is <math>m/n\\,</math>, where <math>m\\,</math> and <math>n\\,</math> are relatively prime positive integers. What are the last three digits of <math>m+n\\,</math>?",
    "solution": "The probability that the <math>n</math>th flip in each game occurs and is a head is <math>\\frac{1}{2^n}</math>. The first person wins if the coin lands heads on an odd numbered flip. So, the probability of the first person winning the game is <math>\\frac{1}{2}+\\frac{1}{8}+\\frac{1}{32}+\\cdots = \\frac{\\frac{1}{2}}{1-\\frac{1}{4}}=\\frac{2}{3}</math>, and the probability of the second person winning is <math>\\frac{1}{3}</math>. \n\nLet <math>a_n</math> be the probability that Alfred wins the <math>n</math>th game, and let <math>b_n</math> be the probability that Bonnie wins the <math>n</math>th game. \n\nIf Alfred wins the <math>n</math>th game, then the probability that Alfred wins the <math>n+1</math>th game is <math>\\frac{1}{3}</math>. If Bonnie wins the <math>n</math>th game, then the probability that Alfred wins the <math>n+1</math>th game is <math>\\frac{2}{3}</math>. \n\nThus, <math>a_{n+1}=\\frac{1}{3}a_n+\\frac{2}{3}b_n</math>. \n\nSimilarly, <math>b_{n+1}=\\frac{2}{3}a_n+\\frac{1}{3}b_n</math>. \n\nSince Alfred goes first in the <math>1</math>st game, <math>(a_1,b_1)=\\left(\\frac{2}{3}, \\frac{1}{3}\\right)</math>. \n\nUsing these [[recursion|recursive]] equations: \n\n<math>(a_2,b_2)=\\left(\\frac{4}{9}, \\frac{5}{9}\\right)</math> \n\n<math>(a_3,b_3)=\\left(\\frac{14}{27}, \\frac{13}{27}\\right)</math>\n\n<math>(a_4,b_4)=\\left(\\frac{40}{81}, \\frac{41}{81}\\right)</math> \n\n<math>(a_5,b_5)=\\left(\\frac{122}{243}, \\frac{121}{243}\\right)</math> \n\n<math>(a_6,b_6)=\\left(\\frac{364}{729}, \\frac{365}{729}\\right)</math> \n\nSince <math>a_6=\\frac{364}{729}</math>, <math>m+n = 1093 \\equiv \\boxed{093} \\pmod{1000}</math>."
  },
  {
    "year": 1993,
    "variant": "I",
    "problem_number": 12,
    "latex": "The vertices of <math>\\triangle ABC</math> are <math>A = (0,0)\\,</math>, <math>B = (0,420)\\,</math>, and <math>C = (560,0)\\,</math>.  The six faces of a die are labeled with two <math>A\\,</math>'s, two <math>B\\,</math>'s, and two <math>C\\,</math>'s.  Point <math>P_1 = (k,m)\\,</math> is chosen in the interior of <math>\\triangle ABC</math>, and points <math>P_2\\,</math>, <math>P_3\\,</math>, <math>P_4, \\dots</math> are generated by rolling the die repeatedly and applying the rule: If the die shows label <math>L\\,</math>, where <math>L \\in \\{A, B, C\\}</math>, and <math>P_n\\,</math> is the most recently obtained point, then <math>P_{n + 1}^{}</math> is the midpoint of <math>\\overline{P_n L}</math>.  Given that <math>P_7 = (14,92)\\,</math>, what is <math>k + m\\,</math>?",
    "solution": "===Solution 1===\n\nIf we have points <math>(p,q)</math> and <math>(r,s)</math> and we want to find <math>(u,v)</math> so <math>(r,s)</math> is the midpoint of <math>(u,v)</math> and <math>(p,q)</math>, then <math>u=2r-p</math> and <math>v=2s-q</math>. So we start with the point they gave us and work backwards. We make sure all the coordinates stay within the triangle. We have <cmath>P_{n-1}=(x_{n-1},y_{n-1}) = (2x_n\\bmod{560},\\ 2y_n\\bmod{420})</cmath>\nThen <math>P_7=(14,92)</math>, so <math>x_7=14</math> and <math>y_7=92</math>, and we get <cmath>\\begin{array}{c||ccccccc}\nn & 7 & 6 & 5 & 4 & 3 & 2 & 1 \\\\\n\\hline\\hline\nx_n & 14 & 28 & 56 & 112 & 224 & 448 & 336 \\\\\n\\hline\ny_n & 92 & 184 & 368 & 316 & 212 & 4 & 8 \n\\end{array}</cmath>\n\nSo the answer is <math>\\boxed{344}</math>.\n\n===Solution 2===\nLet <math>L_1</math> be the <math>n^{th}</math> roll that directly influences <math>P_{n + 1}</math>. \n\nNote that <math>P_7 = \\cfrac{\\cfrac{\\cfrac{P_1 + L_1}2 + L_2}2 + \\cdots}{2\\ldots} = \\frac {(k,m)}{64} + \\frac {L_1}{64} + \\frac {L_2}{32} + \\frac {L_3}{16} + \\frac {L_4}8 + \\frac {L_5}4 + \\frac {L_6}2 = (14,92)</math>. \n\n\nThen quickly checking each addend from the right to the left, we have the following information (remembering that if a point must be <math>(0,0)</math>, we can just ignore it!): \n\nfor <math>\\frac {L_6}2,\\frac {L_5}4</math>, since all addends are nonnegative, a non-<math>(0,0)</math> value will result in a <math>x</math> or <math>y</math> value greater than <math>14</math> or <math>92</math>, respectively, and we can ignore them,\n\nfor <math>\\frac {L_4}8,\\frac {L_3}{16},\\frac {L_2}{32}</math> in a similar way, <math>(0,0)</math> and <math>(0,420)</math> are the only possibilities, \n\nand for <math>\\frac {L_1}{64}</math>, all three work. \n\n\n\nAlso, to be in the triangle, <math>0\\le k\\le560</math> and <math>0\\le m\\le420</math>.\n\n\nSince <math>L_1</math> is the only point that can possibly influence the <math>x</math> coordinate other than <math>P_1</math>, we look at that first.\n\nIf <math>L_1 = (0,0)</math>, then <math>k = 2^6\\cdot14 = 64\\cdot14 > 40\\cdot14 = 560</math>, \n\nso it can only be that <math>L_1 = (560,0)</math>, and <math>k + 560 = 2^6\\cdot14</math>\n\n<math>\\implies k = 64\\cdot14 - 40\\cdot14 = 24\\cdot14 = 6\\cdot56 = 336</math>.\n\n\nNow, considering the <math>y</math> coordinate, note that if any of <math>L_2,L_3,L_4</math> are <math>(0,0)</math> (<math>L_2</math> would influence the least, so we test that), \n\nthen <math>\\frac {L_2}{32} + \\frac {L_3}{16} + \\frac {L_4}8 < \\frac {420}{16} + \\frac {420}8 = 79\\pm\\epsilon < 80</math>, \n\nwhich would mean that <math>P_1 > 2^6\\cdot(92 - 80) = 64\\cdot12 > 42\\cdot10 = 420\\ge m</math>, so <math>L_2,L_3,L_4 = (0,420)</math>, \n\nand now <math>\\frac {P_1}{64} + \\frac {420}{2^5} + \\frac {420}{2^4} + \\frac {420}{2^3} = 92</math>\n\n<math>\\implies P_1</math>\n\n<math> = 64\\cdot92 - 420(2 + 4 + 8)</math>\n\n<math> = 64\\cdot92 - 420\\cdot14= 64(100 - 8) - 14^2\\cdot30 </math>\n\n<math>= 6400 - 512 - (200 - 4)\\cdot30</math>\n\n<math> = 6400 - 512 - 6000 + 120</math>\n\n<math>= - 112 + 120</math>\n\n<math> = 8</math>, \n\nand finally, <math>k + m = 336 + 8 = \\boxed{344}</math>."
  },
  {
    "year": 1993,
    "variant": "I",
    "problem_number": 13,
    "latex": "Jenny and Kenny are walking in the same direction, Kenny at 3 feet per second and Jenny at 1 foot per second, on parallel paths that are 200 feet apart. A tall circular building 100 feet in diameter is centered midway between the paths. At the instant when the building first blocks the line of sight between Jenny and Kenny, they are 200 feet apart. Let <math>t\\,</math> be the amount of time, in seconds, before Jenny and Kenny can see each other again. If <math>t\\,</math> is written as a fraction in lowest terms, what is the sum of the numerator and denominator?\n\n__TOC__",
    "solution": "=== Solution 1===\nConsider the unit cicle of radius 50. Assume that they start at points <math>(-50,100)</math> and <math>(-50,-100).</math> Then at time <math>t</math>, they end up at points <math>(-50+t,100)</math> and <math>(-50+3t,-100).</math>\nThe equation of the line connecting these points and the equation of the circle are <cmath>\\begin{align}y&=-\\frac{100}{t}x+200-\\frac{5000}{t}\\\\50^2&=x^2+y^2\\end{align}.</cmath> When they see each other again, the line connecting the two points will be tangent to the circle at the point <math>(x,y).</math> Since the radius is perpendicular to the tangent we get <cmath>-\\frac{x}{y}=-\\frac{100}{t}</cmath> or <math>xt=100y.</math> Now substitute <cmath>y= \\frac{xt}{100}</cmath> into <math>(2)</math> and get <cmath>x=\\frac{5000}{\\sqrt{100^2+t^2}}.</cmath> Now substitute this and <cmath>y=\\frac{xt}{100}</cmath> into <math>(1)</math> and solve for <math>t</math> to get <cmath>t=\\frac{160}{3}.</cmath> Finally, the sum of the numerator and denominator is <math>160+3=\\boxed{163}.</math>\n\n===Solution 2=== \n\nLet <math>A</math> and <math>B</math> be Kenny's initial and final points respectively and define <math>C</math> and <math>D</math> similarly for Jenny. Let <math>O</math> be the center of the building. Also, let <math>X</math> be the intersection of <math>AC</math> and <math>BD</math>. Finaly, let <math>P</math> and <math>Q</math> be the points of tangency of circle <math>O</math> to <math>AC</math> and <math>BD</math> respectively.  \n\n<center><asy>\nsize(8cm); defaultpen(linewidth(0.7)); \npair A,B,C,D,P,Q,O,X; \nA=(0,0); B=(0,160); C=(200,0); D=(200,53.333); P=(100,0); Q=(123.529,94.118); O=(100,50); X=(300,0); \ndot(A); dot(B); dot(C); dot(D); dot(P); dot(Q); dot(O); dot(X);\ndraw(A--B--X--cycle); \ndraw(C--D); \ndraw(P--O--Q); \ndraw(O--X); \ndraw(Circle(O,50)); \nlabel(\"$A$\",A,SW); label(\"$B$\",B,NNW); label(\"$C$\",C,S); label(\"$D$\",D,NE); label(\"$P$\",P,S); label(\"$Q$\",Q,NE); label(\"$O$\",O,W); label(\"$X$\",X,ESE); \n</asy></center>\n\nFrom the problem statement, <math>AB=3t</math>, and <math>CD=t</math>. Since <math>\\Delta ABX \\sim \\Delta CDX</math>, <math>CX=AC\\cdot\\left(\\frac{CD}{AB-CD}\\right)=200\\cdot\\left(\\frac{t}{3t-t}\\right)=100</math>. \n\nSince <math>PC=100</math>, <math>PX=200</math>. So, <math>\\tan(\\angle OXP)=\\frac{OP}{PX}=\\frac{50}{200}=\\frac{1}{4}</math>. \n\nSince circle <math>O</math> is tangent to <math>BX</math> and <math>AX</math>, <math>OX</math> is the [[angle bisector]] of <math>\\angle BXA</math>. \n\nThus, <math>\\tan(\\angle BXA)=\\tan(2\\angle OXP)=\\frac{2\\tan(\\angle OXP)}{1- \\tan^2(\\angle OXP)} = \\frac{2\\cdot \\left(\\frac{1}{4}\\right)}{1-\\left(\\frac{1}{4}\\right)^2}=\\frac{8}{15}</math>. \n\nTherefore, <math>t = CD = CX\\cdot\\tan(\\angle BXA) = 100 \\cdot \\frac{8}{15} = \\frac{160}{3}</math>, and the answer is <math>\\boxed{163}</math>.\n\n===Solution 3===\n\n<asy>\nsize(8cm); defaultpen(linewidth(0.7)); \npair A,B,C,D,P,Q,O,R,S; \nA=(0,0); B=(0,160); C=(200,0); D=(200,53.333); P=(100,0); Q=(123.529,94.118); O=(100,50); R=(100,106.667); S=(0,53.333);\ndot(A); dot(B); dot(C); dot(D); dot(P); dot(Q); dot(O); dot(R); dot(S);\ndraw(A--B--D--C--cycle);\ndraw(P--O); draw(D--S);\ndraw(O--Q--R--cycle);\ndraw(Circle(O,50)); \nlabel(\"$A$\",A,SW); label(\"$B$\",B,NNW); label(\"$C$\",(200,-205),S); label(\"$D$\",D,NE); label(\"$P$\",(100,-205),S); label(\"$Q$\",Q,NE); label(\"$O$\",O,SW); label(\"$R$\",R,NE); label(\"$S$\",S,W);\n</asy>\n\nLet <math>t</math> be the time they walk.  Then <math>CD=t</math> and <math>AB=3t</math>.\n\n\nDraw a line from point <math>O</math> to <math>Q</math> such that <math>OQ</math> is perpendicular to <math>BD</math>.  Further, draw a line passing through points <math>O</math> and <math>P</math>, so <math>OP</math> is parallel to <math>AB</math> and <math>CD</math> and is midway between those two lines.  Then <math>PR=\\dfrac{AB+CD}{2}=\\dfrac{3t+t}{2}=2t</math>.  Draw another line passing through point <math>D</math> and parallel to <math>AC</math>, and call the point of intersection of this line with <math>AB</math> as <math>S</math>.  Then <math>SB=AB-AS=3t-t=2t</math>.\n\n\nWe see that <math>m\\angle SBD=m\\angle ORQ</math> since they are corresponding angles, and thus by angle-angle similarity, <math>\\triangle QOR\\sim\\triangle SDB</math>.\n\n\nThen\n<cmath>\\begin{align*}\n\\dfrac{OQ}{DS}=\\dfrac{RO}{BD}&\\implies\\dfrac{50}{200}=\\dfrac{RO}{\\sqrt{200^2+4t^2}}\\\\\n&\\implies RO=\\dfrac{1}{4}\\left(\\sqrt{200^2+4t^2}\\right)\\\\\n&\\implies RO=\\dfrac{1}{2}\\left(\\sqrt{100^2+t^2}\\right)\n\\end{align*}</cmath>\n\n\nAnd we obtain\n<cmath>\\begin{align*}\nPR-OP&=RO\\\\\n2t-50&=\\dfrac{1}{2}\\left(\\sqrt{100^2+t^2}\\right)\\\\\n4t-100&=\\sqrt{100^2+t^2}\\\\\n(4t-100)^2&=\\left(\\sqrt{100^2+t^2}\\right)^2\\\\\n16t^2-800t+100^2&=t^2+100^2\\\\\n15t^2&=800t\\\\\nt&=\\dfrac{800}{15}\n\\end{align*}</cmath>\n\nso we have <math>t=\\frac{160}{3}</math>, and our answer is thus <math>160+3=\\boxed{163}</math>.\n===Solution 4===\n\nWe can use areas to find the answer. Since Jenny and Kenny are 200 feet apart, we know that they are side by side, and that the line connecting the two of them is tangent to the circular building. \n\nWe know that the radius of the circle is 50, and that <math>\\overline{AJ} = x</math>, <math>\\overline{BK} = 3x</math>.\n\nIllustration:\n\n<asy>\n    size(8cm);\n    pair A = (0,0), B = (200,0), K = (200,160), J = (0,53.3333), O = (100,50);\n    pair D = tangent(J,O,50,2), F = tangent(A,O,50);\n    pair[] p = {A,B,K,J,O,D,F};\n    for (pair point : p) {\n        dot(point);\n    }\n    label(\"A\",A,SW);\n    label(\"B\",B,SE);\n    label(\"K\",K,NE);\n    label(\"J\",J,NW);\n    label(\"O\",O,SW);\n    label(\"D\",D,N);\n    label(\"F\",F,S);\n    draw(Circle(O,50));\n    draw(A--B--K--J--cycle);\n    draw(F--O--J);\n    draw(D--O);\n    draw(O--K);\n    label(\"$50$\",(100,26.666),0.5E);\n    label(\"$50$\",midpoint(D--O),0.5NE);\n    label(\"$x$\",midpoint(A--J),0.5W);\n    label(\"$3x$\",midpoint(B--K),0.5E);\n    label(\"$200$\",midpoint(A--B),4S);\n    draw(rightanglemark(J,A,F,150));\n    draw(rightanglemark(J,D,O,150));\n    draw(rightanglemark(A,F,O,150));\n    draw(rightanglemark(F,B,K,150));\n</asy>\n\nBy areas, <math>[OJK] + [AJOF] + [OFBK] = [ABKJ]</math>. Having right trapezoids, <math>[AFOJ] = \\frac{x+50}{2} \\cdot 100</math>. The other areas of right trapezoids can be calculated in the same way. We just need to find <math>[OJK]</math> in terms of <math>x</math>.\n\nIf we bring <math>\\overline{AB}</math> up to where the point J is, we have by the Pythagorean Theorem, <math>\\overline{JK} = 2\\sqrt{x^2+10000} \\Rightarrow [OJK] = \\frac{1}{2} \\overline{JK} \\cdot \\overline{OD}</math>.\n\nNow we have everything to solve for <math>x</math>.\n\n<cmath>[OJK] + [AJOF] + [OFBK] = [ABKJ]</cmath>\n\n<cmath>50 \\sqrt{x^2 + 10000} + \\frac{x+50}{2} \\cdot 100 + \\frac{3x+50}{2} \\cdot 100 = \\frac{x+3x}{2} \\cdot 200</cmath>\n\nAfter isolating the radical, dividing by 50, and squaring, we obtain: <math>15x^2 - 800x = 0 \\Rightarrow x = \\frac{160}{3}</math>.\n\nSince Jenny walks <math>\\frac{160}{3}</math> feet at 1 foot/s, our answer is <math>160+3 = \\fbox{163}</math>."
  },
  {
    "year": 1993,
    "variant": "I",
    "problem_number": 14,
    "latex": "A rectangle that is inscribed in a larger rectangle (with one vertex on each side) is called unstuck if it is possible to rotate (however slightly) the smaller rectangle about its center within the confines of the larger. Of all the rectangles that can be inscribed unstuck in a 6 by 8 rectangle, the smallest perimeter has the form <math>\\sqrt{N}\\,</math>, for a positive integer <math>N\\,</math>. Find <math>N\\,</math>.",
    "solution": "Put the rectangle on the coordinate plane so its vertices are at <math>(\\pm4,\\pm3)</math>, for all four combinations of positive and negative. Then by symmetry, the other rectangle is also centered at the origin, <math>O</math>.\n\nNote that such a rectangle is unstuck if its four vertices are in or on the edge of all four quadrants, and it is not the same rectangle as the big one. Let the four vertices of this rectangle be <math>A(4,y)</math>, <math>B(-x,3)</math>, <math>C(-4,-y)</math> and <math>D(x,-3)</math> for nonnegative <math>x,y</math>. Then this is a rectangle, so <math>OA=OB</math>, or <math>16+y^2=9+x^2</math>, so <math>x^2=y^2+7</math>.\n\n[[Image:1993 AIME 14 Diagram.png|center]]\n\nReflect <math>D</math> across the side of the rectangle containing <math>C</math> to <math>D'(-8-x,-3)</math>. Then <math>BD'=\\sqrt{(-8-x-(-x))^2+(3-(-3))^2}=10</math> is constant, and the perimeter of the rectangle is equal to <math>2(BC+CD')</math>. The midpoint of <math>\\overline{BD'}</math> is <math>(-4-x,0)</math>, and since <math>-4>-4-x</math> and <math>-y\\le0</math>, <math>C</math> always lies below <math>\\overline{BD'}</math>.\n\nIf <math>y</math> is positive, it can be decreased to <math>y'<y</math>. This causes <math>x</math> to decrease as well, to <math>x'</math>, where <math>x'^2=y'^2+7</math> and <math>x'</math> is still positive. If <math>B</math> and <math>D'</math> are held in place as everything else moves, then <math>C</math> moves <math>(y-y')</math> units up and <math>(x-x')</math> units left to <math>C'</math>, which must lie within <math>\\triangle BCD'</math>. Then we must have <math>BC'+C'D'<BC+CD'</math>, and the perimeter of the rectangle is decreased. Therefore, the minimum perimeter must occur with <math>y=0</math>, so <math>x=\\sqrt7</math>.\n\nBy the distance formula, this minimum perimeter is <cmath>2\\left(\\sqrt{(4-\\sqrt7)^2+3^2}+\\sqrt{(4+\\sqrt7)^2+3^2}\\right)=4\\left(\\sqrt{8-2\\sqrt7}+\\sqrt{8+2\\sqrt7}\\right)</cmath> <cmath>=4(\\sqrt7-1+\\sqrt7+1)=8\\sqrt7=\\sqrt{448}.</cmath> Therefore <math>N</math> would equal <math>\\boxed{448}.</math>\n\n~minor edit by Yiyj1 and Root three over two"
  },
  {
    "year": 1993,
    "variant": "I",
    "problem_number": 15,
    "latex": "Let <math>\\overline{CH}</math> be an altitude of <math>\\triangle ABC</math>. Let <math>R\\,</math> and <math>S\\,</math> be the points where the circles inscribed in the triangles <math>ACH\\,</math> and <math>BCH^{}_{}</math> are tangent to <math>\\overline{CH}</math>. If <math>AB = 1995\\,</math>, <math>AC = 1994\\,</math>, and <math>BC = 1993\\,</math>, then <math>RS\\,</math> can be expressed as <math>m/n\\,</math>, where <math>m\\,</math> and <math>n\\,</math> are relatively prime integers. Find <math>m + n\\,</math>.",
    "solution": "<asy>\nunitsize(48);\npair A,B,C,H;\nA=(8,0); B=origin; C=(3,4); H=(3,0); draw(A--B--C--cycle); draw(C--H);\nlabel(\"$A$\",A,SE); label(\"$B$\",B,SW); label(\"$C$\",C,N); label(\"$H$\",H,NE);\ndraw(circle((2,1),1));\npair [] x=intersectionpoints(C--H,circle((2,1),1));\ndot(x[0]); label(\"$S$\",x[0],SW);\ndraw(circle((4.29843788128,1.29843788128),1.29843788128));\npair [] y=intersectionpoints(C--H,circle((4.29843788128,1.29843788128),1.29843788128));\ndot(y[0]); label(\"$R$\",y[0],NE);\nlabel(\"$1993$\",(1.5,2),NW); label(\"$1994$\",(5.5,2),NE); label(\"$1995$\",(4,0),S);\n</asy>\n\nFrom the [[Pythagorean Theorem]], <math>AH^2+CH^2=1994^2</math>, and <math>(1995-AH)^2+CH^2=1993^2</math>. \n\nSubtracting those two equations yields <math>AH^2-(1995-AH)^2=3987</math>. \n\nAfter simplification, we see that <math>2*1995AH-1995^2=3987</math>, or <math>AH=\\frac{1995}{2}+\\frac{3987}{2*1995}</math>.\n\nNote that <math>AH+BH=1995</math>. \n\nTherefore we have that <math>BH=\\frac{1995}{2}-\\frac{3987}{2*1995}</math>. \n\nTherefore <math>AH-BH=\\frac{3987}{1995}</math>.\n\n\n<math>\\textbf{Note: }</math>An easier method is to use both facts together:\n\nFirst, by the Pythagorean Theorem, we find that <math>1993^2-BH^2=1994^2-AH^2</math>, so <math>AH^2-BH^2=1994^2-1993^2=3987</math>. We know that <math>AH+BH=1995</math>, so by difference of squares and dividing we find that <math>AH-BH=\\frac{3987}{1995}=\\frac{1329}{665}</math>. ~eevee9406\n\n\nNow note that <math>RS=|HR-HS|</math>, <math>RH=\\frac{AH+CH-AC}{2}</math>, and <math>HS=\\frac{CH+BH-BC}{2}</math>. \n\nTherefore we have <math>RS=\\left| \\frac{AH+CH-AC-CH-BH+BC}{2} \\right|=\\frac{|AH-BH-1994+1993|}{2}</math>.\n\nPlugging in <math>AH-BH</math> and simplifying, we have <math>RS=\\frac{1992}{1995*2}=\\frac{332}{665} \\rightarrow 332+665=\\boxed{997}</math>.\n------------------------\nEdit by GameMaster402: \n\nIt can be shown that in any triangle with side lengths <math>n-1, n, n+1</math>, if you draw an altitude from the vertex to the side of <math>n+1</math>, and draw the incircles of the two right triangles, the distance between the two tangency points is simply <math>\\frac{n-2}{2n+2}=\\frac{n-2}{2(n+1)}</math>.\n\nPlugging in <math>n=1994</math> yields that the answer is <math>\\frac{1992}{2(1995)}</math>, which simplifies to <math>\\frac{332}{665}</math>\n\n~minor edit by [[User: Yiyj1|Yiyj1]]\n------------------------\nEdit by phoenixfire:\n\nIt can further be shown for any triangle with sides <math>a=BC, b=CA, c=AB</math> that\n<cmath>RS=\\dfrac{|b-a|}{2c}|a+b-c|</cmath>\nOver here <math>a=1993, b=1994, c=1995</math>, so using the formula gives <cmath>RS = \\dfrac{|1994 - 1993|}{2 \\cdot 1995}|1993 + 1994 - 1995| = \\dfrac{1 \\cdot 1992}{2(1995)} = \\frac{332}{665}.</cmath>\n\n~minor edit by [[User: Yiyj1|Yiyj1]]\n\nNote: We can also just right it as <math>RS=\\frac{|b-a|(a+b-c)}{2c}</math> since <math>a+b-c \\geq 0</math> by the triangle inequality. ~[[User: Yiyj1|Yiyj1]]"
  },
  {
    "year": 1994,
    "variant": "I",
    "problem_number": 1,
    "latex": "The increasing [[sequence]] <math>3, 15, 24, 48, \\ldots\\,</math> consists of those [[positive]] multiples of 3 that are one less than a [[perfect square]].  What is the [[remainder]] when the 1994th term of the sequence is divided by 1000?",
    "solution": "One less than a perfect square can be represented by <math>n^2 - 1 = (n+1)(n-1)</math>. Either <math>n+1</math> or <math>n-1</math> must be divisible by 3. This is true when <math>n \\equiv -1,\\ 1 \\equiv 2,\\ 1 \\pmod{3}</math>. Since 1994 is even, <math>n</math> must be congruent to <math>1 \\pmod{3}</math>. It will be the <math>\\frac{1994}{2} = 997</math>th such term, so <math>n = 4 + (997-1) \\cdot 3 = 2992</math>. The value of <math>n^2 - 1 = 2992^2 - 1 \\pmod{1000}</math> is <math>\\boxed{063}</math>.\n\n~minor edit by [[User: Yiyj1|Yiyj1]]"
  },
  {
    "year": 1994,
    "variant": "I",
    "problem_number": 2,
    "latex": "A circle with diameter <math>\\overline{PQ}</math> of length 10 is internally tangent at <math>P</math> to a circle of radius 20. Square <math>ABCD</math> is constructed with <math>A</math> and <math>B</math> on the larger circle, <math>\\overline{CD}</math> tangent at <math>Q</math> to the smaller circle, and the smaller circle outside <math>ABCD</math>. The length of <math>\\overline{AB}</math> can be written in the form <math>m + \\sqrt{n}</math>, where <math>m</math> and <math>n</math> are integers. Find <math>m + n</math>.\n\n[[Image:1994 AIME Problem 2.png]]\n\nNote: The diagram was not given during the actual contest.",
    "solution": "[[Image:1994 AIME Problem 2 - Solution.png]]\n\nCall the center of the larger circle <math>O</math>. Extend the diameter <math>\\overline{PQ}</math> to the other side of the square (at point <math>E</math>), and draw <math>\\overline{AO}</math>. We now have a [[right triangle]], with [[hypotenuse]] of length <math>20</math>. Since <math>OQ = OP - PQ = 20 - 10 = 10</math>, we know that <math>OE = AB - OQ = AB - 10</math>. The other leg, <math>AE</math>, is just <math>\\frac 12 AB</math>. \n\nApply the [[Pythagorean Theorem]]: \n\n:<math>(AB - 10)^2 + \\left(\\frac 12 AB\\right)^2 = 20^2</math>\n:<math>AB^2 - 20 AB + 100 + \\frac 14 AB^2 - 400 = 0</math>\n:<math>AB^2 - 16 AB - 240 = 0</math>\n\nThe [[quadratic formula]] shows that the answer is <math>\\frac{16 \\pm \\sqrt{16^2 + 4 \\cdot 240}}{2} = 8 \\pm \\sqrt{304}</math>. Discard the negative root, so our answer is <math>8 + 304 = \\boxed{312}</math>."
  },
  {
    "year": 1994,
    "variant": "I",
    "problem_number": 3,
    "latex": "The function <math>f_{}^{}</math> has the property that, for each real number <math>x,\\,</math>\n<center><math>f(x)+f(x-1) = x^2.\\,</math></center>\nIf <math>f(19)=94,\\,</math> what is the remainder when <math>f(94)\\,</math> is divided by <math>1000</math>?",
    "solution": "<cmath>\\begin{align*}f(94)&=94^2-f(93)=94^2-93^2+f(92)=94^2-93^2+92^2-f(91)=\\cdots \\\\\n&= (94^2-93^2) + (92^2-91^2) +\\cdots+ (22^2-21^2)+ 20^2-f(19) \\\\ &= 94+93+\\cdots+21+400-94  \\\\\n&= 4561 \\end{align*}</cmath>\n\nSo, the remainder is <math>\\boxed{561}</math>."
  },
  {
    "year": 1994,
    "variant": "I",
    "problem_number": 4,
    "latex": "Find the positive integer <math>n\\,</math> for which\n<cmath>\n\\lfloor\\log_2{1}\\rfloor+\\lfloor\\log_2{2}\\rfloor+\\lfloor\\log_2{3}\\rfloor+\\cdots+\\lfloor\\log_2{n}\\rfloor=1994\n</cmath>\n(For real <math>x\\,</math>, <math>\\lfloor x\\rfloor\\,</math> is the greatest integer <math>\\le x.\\,</math>)",
    "solution": "Note that if <math>2^x \\le a<2^{x+1}</math> for some <math>x\\in\\mathbb{Z}</math>, then <math>\\lfloor\\log_2{a}\\rfloor=\\log_2{2^{x}}=x</math>. \n\nThus, there are <math>2^{x+1}-2^{x}=2^{x}</math> integers <math>a</math> such that <math>\\lfloor\\log_2{a}\\rfloor=x</math>. So the sum of <math>\\lfloor\\log_2{a}\\rfloor</math> for all such <math>a</math> is <math>x\\cdot2^x</math>. \n\nLet <math>k</math> be the integer such that <math>2^k \\le n<2^{k+1}</math>. So for each integer <math>j<k</math>, there are <math>2^j</math> integers <math>a\\le n</math> such that <math>\\lfloor\\log_2{a}\\rfloor=j</math>, and there are <math>n-2^k+1</math> such integers such that <math>\\lfloor\\log_2{a}\\rfloor=k</math>. \n\nTherefore, <math>\\lfloor\\log_2{1}\\rfloor+\\lfloor\\log_2{2}\\rfloor+\\lfloor\\log_2{3}\\rfloor+\\cdots+\\lfloor\\log_2{n}\\rfloor= \\sum_{j=0}^{k-1}(j\\cdot2^j) + k(n-2^k+1) = 1994</math>. \n\nThrough computation: <math>\\sum_{j=0}^{7}(j\\cdot2^j)=1538<1994</math> and <math>\\sum_{j=0}^{8}(j\\cdot2^j)=3586>1994</math>. Thus, <math>k=8</math>. \n\nSo, <math>\\sum_{j=0}^{k-1}(j\\cdot2^j) + k(n-2^k+1) = 1538+8(n-2^8+1)=1994 \\Rightarrow n = \\boxed{312}</math>.\n\nAlternatively, one could notice this is an [[arithmetico-geometric series]] and avoid a lot of computation."
  },
  {
    "year": 1994,
    "variant": "I",
    "problem_number": 5,
    "latex": "Given a positive integer <math>n\\,</math>, let <math>p(n)\\,</math> be the product of the non-zero digits of <math>n\\,</math>.  (If <math>n\\,</math> has only one digit, then <math>p(n)\\,</math> is equal to that digit.)  Let\n<center><math>S=p(1)+p(2)+p(3)+\\cdots+p(999)</math></center>.\nWhat is the largest prime factor of <math>S\\,</math>?\n\n__TOC__",
    "solution": "=== Solution 1 ===\nSuppose we write each number in the form of a three-digit number (so <math>5 \\equiv 005</math>), and since our <math>p(n)</math> ignores all of the zero-digits, replace all of the <math>0</math>s with <math>1</math>s. Now note that in the expansion of \n\n<center><math>(1+ 1 +2+3+4+5+6+7+8+9) (1+ 1 +2+3+\\cdots+9) (1+ 1 +2+3+\\cdots+9)</math></center>\n\nwe cover every permutation of every product of <math>3</math> digits, including the case where that first <math>1</math> represents the replaced <math>0</math>s. However, since our list does not include <math>000</math>, we have to subtract <math>1</math>. Thus, our answer is the largest prime factor of <math>(1+1+2+3+\\cdots +9)^3 - 1 = 46^3 - 1 = (46-1)(46^2 + 46 + 1) = 3^3 \\cdot 5 \\cdot 7 \\cdot \\boxed{103}</math>. \n\n=== Solution 2 ===\nNote that <math>p(1)=p(11), p(2)=p(12), p(3)=p(13), \\cdots p(19)=p(9)</math>, and <math>p(37)=3p(7)</math>. So <math>p(10)+p(11)+p(12)+\\cdots +p(19)=46</math>, <math>p(10)+p(11)+\\cdots +p(99)=46*45=2070</math>. We add <math>p(1)+p(2)+p(3)+\\cdots +p(10)=45</math> to get 2115. When we add a digit we multiply the sum by that digit. Thus <math>2115\\cdot (1+1+2+3+4+5+6+7+8+9)=2115\\cdot 46=47\\cdot 45\\cdot 46</math>. But we didn't count 100, 200, 300, ..., 900. We add another 45 to get <math>45\\cdot 2163</math>. The largest prime factor of that is <math>\\boxed{103}</math>."
  },
  {
    "year": 1994,
    "variant": "I",
    "problem_number": 6,
    "latex": "The graphs of the equations\n<center><math>y=k, \\qquad y=\\sqrt{3}x+2k, \\qquad y=-\\sqrt{3}x+2k,</math></center>\nare drawn in the coordinate plane for <math>k=-10,-9,-8,\\ldots,9,10.\\,</math>  These 63 lines cut part of the plane into equilateral triangles of side length <math>\\tfrac{2}{\\sqrt{3}}.\\,</math>  How many such triangles are formed?",
    "solution": "=== Solution 1 ===\nWe note that the lines partition the hexagon of the six extremal lines into disjoint unit regular triangles, and forms a series of unit regular triangles along the edge of the hexagon. \n\n<asy>\nsize(200);\npicture pica, picb, picc;\nint i;\nfor(i=-10;i<=10;++i){\nif((i%10) == 0){draw(pica,(-20/sqrt(3)-abs((0,i))/sqrt(3),i)--(20/sqrt(3)+abs((0,i))/sqrt(3),i),black+0.7);}\nelse{draw(pica,(-20/sqrt(3)-abs((0,i))/sqrt(3),i)--(20/sqrt(3)+abs((0,i))/sqrt(3),i));}\n}\npicb = rotate(120,origin)*pica;\npicc = rotate(240,origin)*pica;\nadd(pica);add(picb);add(picc);\n</asy>\n\nSolving the above equations for <math>k=\\pm 10</math>, we see that the hexagon in question is regular, with side length <math>\\frac{20}{\\sqrt{3}}</math>. Then, the number of triangles within the hexagon is simply the ratio of the area of the hexagon to the area of a regular triangle. Since the ratio of the area of two similar figures is the square of the ratio of their side lengths, we see that the ratio of the area of one of the six equilateral triangles composing the regular hexagon to the area of a unit regular triangle is just <math>\\left(\\frac{20/\\sqrt{3}}{2/\\sqrt{3}}\\right)^2 = 100</math>. Thus, the total number of unit triangles is <math>6 \\times 100 = 600</math>.\n\nThere are <math>6 \\cdot 10</math> equilateral triangles formed by lines on the edges of the hexagon. Thus, our answer is <math>600+60 = \\boxed{660}</math>.\n\n=== Solution 2 ===\nThere are three types of lines: horizontal, upward-slanting diagonal, and downward-slanting diagonal. There are <math>21</math> of each type of line, and a unit equilateral triangle is determined by exactly one of each type of line. Given an upward-slanting diagonal and a downward-slanting diagonal, they determine exactly two unit equilateral triangles as shown below.\n<asy>\nsize(60);\npair u=rotate(60)*(1,0),d=rotate(-60)*(1,0),h=(1,0);\ndraw((0,0)--4*u^^-2*h+4*u--(-2*h+4*u+4*d));\ndraw(u--2*u+d,dotted);\ndraw(3*u--3*u-h,dotted);\n</asy>\nTherefore, if all horizontal lines are drawn, there will be a total of <math>2\\cdot 21^2=882</math> unit equilateral triangles. Of course, we only draw <math>21</math> horizontal lines, so we are overcounting the triangles that are caused by the undrawn horizontal lines. In the below diagram, we draw the diagonal lines and the highest and lowest horizontal lines.\n<asy>\nsize(200);\npair u=rotate(60)*(2/sqrt(3),0),d=rotate(-60)*(2/sqrt(3),0),h=(2/sqrt(3),0);\nfor (int i=0;i<21;++i) {path v=(-20/sqrt(3),0)-2*u+i*u--(0,20)--(20/sqrt(3),0)+2*d-i*d;draw(shift(0,-2*i)*v);}\nfor (int i=0;i<21;++i) {path v=rotate(180)*((-20/sqrt(3),0)-2*u+i*u--(0,20)--(20/sqrt(3),0)+2*d-i*d);draw(shift(0,2*i)*v);}\ndraw((-15,-10)--(15,-10));\ndraw((-15,10)--(15,10));\n</asy>\n\nWe see that the lines <math>y=-21,-20,\\dots, -11</math> and <math>y=11,12,\\dots,21</math> would complete several of the <math>882</math> unit equilateral triangles. In fact, we can see that the lines <math>y=-21,-20,\\dots,-11</math> complete <math>1,2,(1+3),(2+4),(3+5),(4+6),\\dots,(9+11)</math> triangles, or <math>111</math> triangles. The positive horizontal lines complete the same number of triangles, hence the answer is <math>882-2\\cdot 111=\\boxed{660}</math>.\n\n\n===Solution 3 Elementary Counting===\nPicturing the diagram in your head should give you an illustration similar to the one above. The distance from parallel sides of the center hexagon is 20 units, and by extending horizontal lines to the sides of the hexagon. This shows that for every side of the hexagon there are 10 spaces. Therefore the side length of the biggest triangle (imagine one of the overlapping triangles in the Star of David) is 30. The total number of triangles in the hexagon can be found by finding the number of triangles in the extended triangle and subtracting the 3 corner triangles. This gives us <math>30^2 - 10^2 - 10^2- 10^2 = 600</math>. That is the number of triangles in the hexagon. The remaining triangles form in groups of 10 on the exterior of each side. <math>600 + 6 * 10 = \\boxed{660}</math>.\n\n\n-jackshi2006"
  },
  {
    "year": 1994,
    "variant": "I",
    "problem_number": 7,
    "latex": "For certain ordered pairs <math>(a,b)\\,</math> of [[real number]]s, the system of equations\n<center><math>ax+by=1\\,</math></center>\n<center><math>x^2+y^2=50\\,</math></center>\nhas at least one solution, and each solution is an ordered pair <math>(x,y)\\,</math> of integers.  How many such ordered pairs <math>(a,b)\\,</math> are there?",
    "solution": "The equation <math>x^2+y^2=50</math> is that of a circle of radius <math>\\sqrt{50}</math>, centered at the origin. By testing integers until the left side becomes too big, we see that the lattice points on this circle are <math>(\\pm1,\\pm7)</math>, <math>(\\pm5,\\pm5)</math>, and <math>(\\pm7,\\pm1)</math> where the signs are all independent of each other, for a total of <math>3\\cdot 2\\cdot 2=12</math> lattice points. They are indicated by the blue dots below.\n\n<asy> size(150); draw(circle((0,0),sqrt(50)));\n\ndraw((1,7)--(-1,-7),red); draw((7,1)--(5,-5), green);\n\ndot((0,0));\n\ndot((1,7),blue); dot((1,-7),blue); dot((-1,7),blue); dot((-1,-7),blue);\n\ndot((5,5),blue); dot((5,-5),blue); dot((-5,5),blue); dot((-5,-5),blue);\n\ndot((7,1),blue); dot((7,-1),blue); dot((-7,1),blue); dot((-7,-1),blue); </asy>\n\nSince <math>(x,y)=(0,0)</math> yields <math>a\\cdot 0+b\\cdot 0=0 \\neq 1</math>, we know that <math>ax+by=1</math> is the equation of a line that does not pass through the origin. So, we are looking for the number of lines which pass through at least one of the <math>12</math> lattice points on the circle, but do not pass through the origin or through any non-lattice point on the circle. An example is the green line above. It is straightforward to show that a line passes through the origin precisely when there exist two opposite points <math>(p,q)</math> and <math>(-p,-q)</math> through which it passes. And example is the red line above.\n\nThere are <math>\\binom{12}{2}=66</math> ways to pick two distinct lattice points, and subsequently <math>66</math> distinct lines which pass through two distinct lattice points on the circle. Then we subtract the lines which pass through the origin by noting that the lattice points on the circle can be grouped into opposite pairs <math>(p,q)</math> and <math>(-p,-q)</math>, for a total of <math>\\frac{12}{2}=6</math> lines. Finally, we add the <math>12</math> unique tangent lines to the circle at each of the lattice points.\n\nTherefore, our final count of distinct lines which pass through one or two of the lattice points on the circle, but do not pass through the origin, is<cmath>66-6+12=\\boxed{72}.</cmath>"
  },
  {
    "year": 1994,
    "variant": "I",
    "problem_number": 8,
    "latex": "The points <math>(0,0)\\,</math>, <math>(a,11)\\,</math>, and <math>(b,37)\\,</math> are the vertices of an equilateral triangle.  Find the value of <math>ab\\,</math>.",
    "solution": "===Solution 1===\nConsider the points on the [[complex plane]]. The point <math>b+37i</math> is then a rotation of <math>60</math> degrees of <math>a+11i</math> about the origin, so:\n\n<cmath>(a+11i)\\left(\\mathrm{cis}\\,60^{\\circ}\\right) = (a+11i)\\left(\\frac 12+\\frac{\\sqrt{3}i}2\\right)=b+37i.</cmath>\n\nEquating the real and imaginary parts, we have:\n\n<cmath>\\begin{align*}b&=\\frac{a}{2}-\\frac{11\\sqrt{3}}{2}\\\\37&=\\frac{11}{2}+\\frac{a\\sqrt{3}}{2} \\end{align*}</cmath>\n\nSolving this system, we find that <math>a=21\\sqrt{3}, b=5\\sqrt{3}</math>. Thus, the answer is <math>\\boxed{315}</math>.\n\n'''Note''': There is another solution where the point <math>b+37i</math> is a rotation of <math>-60</math> degrees of <math>a+11i</math>. However, this triangle is just a reflection of the first triangle by the <math>y</math>-axis, and the signs of <math>a</math> and <math>b</math> are flipped. The product <math>ab</math> is unchanged.\n\n===Solution 2===\nUsing the Pythagorean theorem with these beastly numbers doesn't seem promising. How about properties of equilateral triangles? <math>\\sqrt{3}</math> and perpendiculars inspires this solution:\n\nFirst, drop a perpendicular from <math>O</math> to <math>AB</math>. Call this midpoint of <math>AB M</math>. Thus, <math>M=\\left(\\frac{a+b}{2}, 24\\right)</math>. The vector from <math>O</math> to <math>M</math> is <math>\\left[\\frac{a+b}{2}, 24\\right]</math>. Meanwhile from point <math>M</math> we can use a vector with <math>\\frac{\\sqrt{3}}{3}</math> the distance; we have to switch the <math>x</math> and <math>y</math> and our displacement is <math>\\left[8\\sqrt{3}, \\frac{(a+b)\\sqrt{3}}{6}\\right]</math>. (Do you see why we switched <math>x</math> and <math>y</math> due to the rotation of 90 degrees?)\n\n\nWe see this displacement from <math>M</math> to <math>A</math> is <math>\\left[\\frac{a-b}{2}, 13\\right]</math> as well. Equating the two vectors, we get <math>a+b=26\\sqrt{3}</math> and <math>a-b=16\\sqrt{3}</math>. Therefore, <math>a=21\\sqrt{3}</math> and <math>b=5\\sqrt{3}</math>. And the answer is <math>\\boxed{315}</math>.\n\n'''Note''': This solution was also present in Titu Andreescu and Zuming Feng's \"103 Trigonometry Problems\".\n\n===Solution 3===\nPlot this equilateral triangle on the complex plane.\nTranslate the equilateral triangle so that its centroid is located at the origin. (The centroid can be found by taking the average of the three vertices of the triangle, which gives <math>\\left(\\frac{a+b}{3}, 16i\\right)</math>. The new coordinates of the equilateral triangle are <math>\\left(-\\frac{a+b}{3}-16i\\right), \\left(a-\\frac{a+b}{3}-5i\\right), \\left(b-\\frac{a+b}{3}+21i\\right)</math>. These three vertices are solutions of a cubic polynomial of form <math>x^3 + C</math>. By Vieta's Formulas, the sum of the paired roots of the cubic polynomial are zero. (Or for the three roots <math>r_1, r_2,</math> and <math>r_3,</math><math>\\, r_1r_2 + r_2r_3 + r_3r_1 = 0</math>.) The vertices of the equilateral triangle represent the roots of a polynomial, so the vertices can be plugged into the above equation. Because both the real and complex components of the equation have to sum to zero, you really have two equations. Multiply out the equation given by Vieta's Formulas and isolate the ones with imaginary components. Simplify that equation, and that gives the equation <math>5a = 21b.</math>\nNow use the equation with only real parts. This should give you a quadratic <math>a^2 - ab + b^2 = 1083</math>. Use your previously obtained equation to plug in for <math>a</math> and solve for <math>b</math>, which should yield <math>5\\sqrt{3}</math>. <math>a</math> is then <math>\\frac{21}{5}\\sqrt{3}</math>. Multiplying <math>a</math> and <math>b</math> yields <math>\\boxed{315}</math>.\n\n===Solution 4 (gigantic numbers)===\nJust using the Pythagorean Theorem, we get that <math>a^2 + 11^2 = (b-a)^2 + 26^2 = b^2 + 37^2</math>. \n\n<math>a^2 + 121 = b^2 + 1369 \\longrightarrow a^2 = b^2 + 1248</math>. Expanding the second and subtracting the first equation from it we get <math>b^2 = 2ab - 555</math>.\n\n<math>b^2 = 2ab - 555 \\longrightarrow a^2 = 2ab + 693</math>. \n\nWe have <math>b^2 + 1248 = 2b\\sqrt{b^2+1248} + 693</math>. \n\nMoving the square root to one side and non square roots to the other we eventually get <math>b^4 + 1110b^2 + 308025 = 4b^4 + 4992b^2</math>. \n\n<math>3b^4 + 3882b^2 - 308025 = 0</math>. \n\nThis factors to <math>(3b^2-225)(b^2+1369)</math>, so <math>3b^2 = 225, b = 5\\sqrt 3</math>. \n\nPlugging it back in, we find that a = <math>\\sqrt{1323}</math> which is <math>21\\sqrt3</math>, so the product <math>ab</math> is <math>\\boxed {315}</math>.\n\n~Arcticturn"
  },
  {
    "year": 1994,
    "variant": "I",
    "problem_number": 9,
    "latex": "A solitaire game is played as follows.  Six distinct pairs of matched tiles are placed in a bag.  The player randomly draws tiles one at a time from the bag and retains them, except that matching tiles are put aside as soon as they appear in the player's hand.  The game ends if the player ever holds three tiles, no two of which match; otherwise the drawing continues until the bag is empty.  The probability that the bag will be emptied is <math>p/q,\\,</math> where <math>p\\,</math> and <math>q\\,</math> are relatively prime positive integers.  Find <math>p+q.\\,</math>",
    "solution": "Let <math>P_k</math> be the [[probability]] of emptying the bag when it has <math>k</math> pairs in it. Let's consider the possible draws for the first three cards:\n\n*Case 1. We draw a pair on the first two cards. The second card is the same as the first with probability <math>\\frac {1}{2k - 1}</math>, then we have <math>k - 1</math> pairs left. So this contributes probability <math>\\frac {P_{k - 1}}{2k - 1}</math>.\n*Case 2. We draw a pair on the first and third cards. The second card is different from the first with probability <math>\\frac {2k - 2}{2k - 1}</math> and the third is the same as the first with probability <math>\\frac {1}{2k - 2}</math>. We are left with <math>k - 1</math> pairs but one card already drawn. However, having drawn one card doesn't affect the game, so this also contributes probability <math>\\frac {P_{k - 1}}{2k - 1}</math>.\n*Case 3. We draw a pair on the second and third cards. This is pretty much the same as case 2, so we get <math>\\frac {P_{k - 1}}{2k - 1}</math>. \n\nTherefore, we obtain the [[recursion]] <math>P_k = \\frac {3}{2k - 1}P_{k - 1}</math>. Iterating this for <math>k = 6,5,4,3,2</math> (obviously <math>P_1 = 1</math>), we get <math>\\frac {3^5}{11*9*7*5*3} = \\frac {9}{385}</math>, and <math>p+q=\\boxed{394}</math>."
  },
  {
    "year": 1994,
    "variant": "I",
    "problem_number": 10,
    "latex": "In triangle <math>ABC,\\,</math> angle <math>C</math> is a right angle and the altitude from <math>C\\,</math> meets <math>\\overline{AB}\\,</math> at <math>D.\\,</math>  The lengths of the sides of <math>\\triangle ABC\\,</math> are integers, <math>BD=29^3,\\,</math> and <math>\\cos B=m/n\\,</math>, where <math>m\\,</math> and <math>n\\,</math> are relatively prime positive integers.  Find <math>m+n.\\,</math>",
    "solution": "Since <math>\\triangle ABC \\sim \\triangle CBD</math>, we have <math>\\frac{BC}{AB} = \\frac{29^3}{BC} \\Longrightarrow BC^2 = 29^3 AB</math>. It follows that <math>29^2 | BC</math> and <math>29 | AB</math>, so <math>BC</math> and <math>AB</math> are in the form <math>29^2 x</math> and <math>29 x^2</math>, respectively, where <math>x</math> is an integer. \n\nBy the [[Pythagorean Theorem]], we find that <math>AC^2 + BC^2 = AB^2 \\Longrightarrow (29^2x)^2 + AC^2 = (29 x^2)^2</math>, so <math>29x | AC</math>. Letting <math>y = AC / 29x</math>, we obtain after dividing through by <math>(29x)^2</math>, <math>29^2 = x^2 - y^2 = (x-y)(x+y)</math>. As <math>x,y \\in \\mathbb{Z}</math>, the pairs of factors of <math>29^2</math> are <math>(1,29^2)(29,29)</math>; clearly <math>y = \\frac{AC}{29x} \\neq 0</math>, so <math>x-y = 1, x+y= 29^2</math>. Then, <math>x = \\frac{1+29^2}{2} = 421</math>.\n\nThus, <math>\\cos B = \\frac{BC}{AB} = \\frac{29^2 x}{29x^2} = \\frac{29}{421}</math>, and <math>m+n = \\boxed{450}</math>."
  },
  {
    "year": 1994,
    "variant": "I",
    "problem_number": 11,
    "latex": "Ninety-four bricks, each measuring <math>4''\\times10''\\times19'',</math> are to be stacked one on top of another to form a tower 94 bricks tall.  Each brick can be oriented so it contributes <math>4''\\,</math> or <math>10''\\,</math> or <math>19''\\,</math> to the total height of the tower.  How many different tower heights can be achieved using all of the ninety-four bricks?",
    "solution": "=== Solution 1 ===\nWe have the smallest stack, which has a height of <math>94 \\times 4</math> inches. Now when we change the height of one of the bricks, we either add <math>0</math> inches, <math>6</math> inches, or <math>15</math> inches to the height. Now all we need to do is to find the different change values we can get from <math>94</math> <math>0</math>'s, <math>6</math>'s, and <math>15</math>'s. Because <math>0</math>, <math>6</math>, and <math>15</math> are all multiples of <math>3</math>, the change will always be a multiple of <math>3</math>, so we just need to find the number of changes we can get from <math>0</math>'s, <math>2</math>'s, and <math>5</math>'s.\n\nFrom here, we count what we can get:\n\n<cmath>0, 2 = 2, 4 = 2+2, 5 = 5, 6 = 2+2+2, 7 = 5+2, 8 = 2+2+2+2, 9 = 5+2+2, \\ldots</cmath>\n\nIt seems we can get every integer greater or equal to four; we can easily deduce this by considering [[parity]] or using the [[Chicken McNugget Theorem]], which says that the greatest number that cannot be expressed in the form of <math>2m + 5n</math> for <math>m,n</math> being [[positive integer]]s is <math>5 \\times 2 - 5 - 2=3</math>. \n\nBut we also have a maximum change (<math>94 \\times 5</math>), so that will have to stop somewhere. To find the gaps, we can work backwards as well. From the maximum change, we can subtract either <math>0</math>'s, <math>3</math>'s, or <math>5</math>'s. The maximum we can't get is <math>5 \\times 3-5-3=7</math>, so the numbers <math>94 \\times 5-8</math> and below, except <math>3</math> and <math>1</math>, work. Now there might be ones that we haven't counted yet, so we check all numbers between <math>94 \\times 5-8</math> and <math>94 \\times 5</math>. <math>94 \\times 5-7</math> obviously doesn't work, <math>94 \\times 5-6</math> does since 6 is a multiple of 3, <math>94 \\times 5-5</math> does because it is a multiple of <math>5</math> (and <math>3</math>), <math>94 \\times 5-4</math> doesn't since <math>4</math> is not divisible by <math>5</math> or <math>3</math>, <math>94 \\times 5-3</math> does since <math>3=3</math>, and <math>94 \\times 5-2</math> and <math>94 \\times 5-1</math> don't, and <math>94 \\times 5</math> does.\n\nThus the numbers <math>0</math>, <math>2</math>, <math>4</math> all the way to <math>94 \\times 5-8</math>, <math>94 \\times 5-6</math>, <math>94 \\times 5-5</math>, <math>94 \\times 5-3</math>, and <math>94\\times 5</math> work. That's <math>2+(94 \\times 5 - 8 - 4 +1)+4=\\boxed{465}</math> numbers. That's the number of changes you can make to a stack of bricks with dimensions <math>4 \\times 10 \\times 19</math>, including not changing it at all.\n\n=== Solution 2 ===\nUsing bricks of dimensions <math> 4''\\times10''\\times19'' </math> is comparable to using bricks of dimensions <math> 0''\\times6''\\times15'' </math> which is comparable to using  bricks of dimensions <math> 0''\\times2''\\times5''</math>. Using 5 bricks of height <math>2''</math> can be replaced by using 2 bricks of height <math>5''</math> and 3 bricks of height <math>0''</math>. \n\nIt follows that all tower heights can be made by using 4 or fewer bricks of height <math>2''</math>. There are <math>95+94+93+92+91=465</math> ways to build a tower using 4 or fewer bricks of height <math>2''</math>. Taking the heights <math>\\mod 5</math>, we see that towers using a different number of bricks of height <math>2''</math> have unequal heights. Thus, all of the <math>\\boxed{465}</math> tower heights are different."
  },
  {
    "year": 1994,
    "variant": "I",
    "problem_number": 12,
    "latex": "A fenced, rectangular field measures <math>24</math> meters by <math>52</math> meters. An agricultural researcher has 1994 meters of fence that can be used for internal fencing to partition the field into congruent, square test plots. The entire field must be partitioned, and the sides of the squares must be parallel to the edges of the field. What is the largest number of square test plots into which the field can be partitioned using all or some of the 1994 meters of fence?",
    "solution": "Suppose there are <math>n</math> squares in every column of the grid, so there are <math>\\frac{52}{24}n = \\frac {13}6n</math> squares in every row. Then <math>6|n</math>, and our goal is to maximize the value of <math>n</math>. \n\nEach vertical fence has length <math>24</math>, and there are <math>\\frac{13}{6}n - 1</math> vertical fences; each horizontal fence has length <math>52</math>, and there are <math>n-1</math> such fences. Then the total length of the internal fencing is <math>24\\left(\\frac{13n}{6}-1\\right) + 52(n-1) = 104n - 76 \\le 1994 \\Longrightarrow n \\le \\frac{1035}{52} \\approx 19.9</math>, so <math>n \\le 19</math>. The largest multiple of <math>6</math> that is <math>\\le 19</math> is <math>n = 18</math>, which we can easily verify works, and the answer is <math>\\frac{13}{6}n^2 = \\boxed{702}</math>."
  },
  {
    "year": 1994,
    "variant": "I",
    "problem_number": 13,
    "latex": "The equation\n<center><math>x^{10}+(13x-1)^{10}=0\\,</math></center>\nhas 10 [[complex number|complex]] [[root]]s <math>r_1, \\overline{r_1}, r_2, \\overline{r_2}, r_3, \\overline{r_3}, r_4, \\overline{r_4}, r_5, \\overline{r_5},\\,</math> where the bar denotes complex conjugation.  Find the value of\n<center><math>\\frac 1{r_1\\overline{r_1}}+\\frac 1{r_2\\overline{r_2}}+\\frac 1{r_3\\overline{r_3}}+\\frac 1{r_4\\overline{r_4}}+\\frac 1{r_5\\overline{r_5}}.</math></center>",
    "solution": "Let <math>t = 1/x</math>. After multiplying the equation by <math>t^{10}</math>, <math>1 + (13 - t)^{10} = 0\\Rightarrow (13 - t)^{10} = - 1</math>.\n\nUsing DeMoivre, <math>13 - t = \\text{cis}\\left(\\frac {(2k + 1)\\pi}{10}\\right)</math> where <math>k</math> is an integer between <math>0</math> and <math>9</math>.\n\n<math>t = 13 - \\text{cis}\\left(\\frac {(2k + 1)\\pi}{10}\\right) \\Rightarrow \\bar{t} = 13 - \\text{cis}\\left(-\\frac {(2k + 1)\\pi}{10}\\right)</math>.\n\nSince <math>\\text{cis}(\\theta) + \\text{cis}(-\\theta) = 2\\cos(\\theta)</math>, <math>t\\bar{t} = 170 - 26\\cos \\left(\\frac {(2k + 1)\\pi}{10}\\right)</math> after expanding. Here <math>k</math> ranges from 0 to 4 because two angles which sum to <math>2\\pi</math> are involved in the product.\n\nThe expression to find is <math>\\sum t\\bar{t} = 850 - 26\\sum_{k = 0}^4 \\cos \\frac {(2k + 1)\\pi}{10}</math>.\n\nBut <math>\\cos \\frac {\\pi}{10} + \\cos \\frac {9\\pi}{10} = \\cos \\frac {3\\pi}{10} + \\cos \\frac {7\\pi}{10} = \\cos \\frac {\\pi}{2} = 0</math> so the sum is <math>\\boxed{850}</math>."
  },
  {
    "year": 1994,
    "variant": "I",
    "problem_number": 14,
    "latex": "A beam of light strikes <math>\\overline{BC}\\,</math> at point <math>C\\,</math> with angle of incidence <math>\\alpha=19.94^\\circ\\,</math> and reflects with an equal angle of reflection as shown.  The light beam continues its path, reflecting off line segments <math>\\overline{AB}\\,</math> and <math>\\overline{BC}\\,</math> according to the rule: angle of incidence equals angle of reflection.  Given that <math>\\beta=\\alpha/10=1.994^\\circ\\,</math> and <math>AB=BC,\\,</math> determine the number of times the light beam will bounce off the two line segments.  Include the first reflection at <math>C\\,</math> in your count.\n\n[[Image:AIME_1994_Problem_14.png]]",
    "solution": "At each point of reflection, we pretend instead that the light continues to travel straight. \n<asy>\npathpen = linewidth(0.7); size(250); \nreal alpha = 28, beta = 36; \npair B = MP(\"B\",(0,0),NW), C = MP(\"C\",D((1,0))), A = MP(\"A\",expi(alpha * pi/180),N); path r = C + .4 * expi(beta * pi/180) -- C - 2*expi(beta * pi/180); \nD(A--B--(1.5,0));D(r);D(anglemark(C,B,D(A)));D(anglemark((1.5,0),C,C+.4*expi(beta*pi/180)));MP(\"\\beta\",B,(5,1.2),fontsize(9));MP(\"\\alpha\",C,(4,1.2),fontsize(9));\nfor(int i = 0; i < 180/alpha; ++i){\n path l = B -- (1+i/2)*expi(-i * alpha * pi / 180);\n D(l, linetype(\"4 4\"));\n D(IP(l,r));\n} D(B);\n</asy>\nNote that after <math>k</math> reflections (excluding the first one at <math>C</math>) the extended line will form an angle <math>k \\beta</math> at point <math>B</math>. For the <math>k</math>th reflection to be just inside or at point <math>B</math>, we must have <math>k\\beta \\le 180 - 2\\alpha \\Longrightarrow k \\le \\frac{180 - 2\\alpha}{\\beta} = 70.27</math>. Thus, our answer is, including the first intersection, <math>\\left\\lfloor \\frac{180 - 2\\alpha}{\\beta} \\right\\rfloor + 1 = \\boxed{071}</math>."
  },
  {
    "year": 1994,
    "variant": "I",
    "problem_number": 15,
    "latex": "Given a point <math>P^{}_{}</math> on a triangular piece of paper <math>ABC,\\,</math> consider the creases that are formed in the paper when <math>A, B,\\,</math> and <math>C\\,</math> are folded onto <math>P.\\,</math>  Let us call <math>P_{}^{}</math> a fold point of <math>\\triangle ABC\\,</math> if these creases, which number three unless <math>P^{}_{}</math> is one of the vertices, do not intersect.  Suppose that <math>AB=36, AC=72,\\,</math> and <math>\\angle B=90^\\circ.\\,</math>  Then the area of the set of all fold points of <math>\\triangle ABC\\,</math> can be written in the form <math>q\\pi-r\\sqrt{s},\\,</math> where <math>q, r,\\,</math> and <math>s\\,</math> are positive integers and <math>s\\,</math> is not divisible by the square of any prime.  What is <math>q+r+s\\,</math>?",
    "solution": "Let <math>O_{AB}</math> be the intersection of the [[perpendicular bisector]]s (in other words, the intersections of the creases) of <math>\\overline{PA}</math> and <math>\\overline{PB}</math>, and so forth. Then <math>O_{AB}, O_{BC}, O_{CA}</math> are, respectively, the [[circumcenter]]s of <math>\\triangle PAB, PBC, PCA</math>. According to the problem statement, the circumcenters of the triangles cannot lie within the interior of the respective triangles, since they are not on the paper. It follows that <math>\\angle APB, \\angle BPC, \\angle CPA > 90^{\\circ}</math>; the [[locus]] of each of the respective conditions for <math>P</math> is the region inside the (semi)circles with diameters <math>\\overline{AB}, \\overline{BC}, \\overline{CA}</math>.\n\nWe note that the circle with diameter <math>AC</math> covers the entire triangle because it is the circumcircle of <math>\\triangle ABC</math>, so it suffices to take the intersection of the circles about <math>AB, BC</math>. We note that their intersection lies entirely within <math>\\triangle ABC</math> (the chord connecting the endpoints of the region is in fact the altitude of <math>\\triangle ABC</math> from <math>B</math>). Thus, the area of the locus of <math>P</math> (shaded region below) is simply the sum of two [[segment]]s of the circles. If we construct the midpoints of <math>M_1, M_2 = \\overline{AB}, \\overline{BC}</math> and note that <math>\\triangle M_1BM_2 \\sim \\triangle ABC</math>, we see that thse segments respectively cut a <math>120^{\\circ}</math> arc in the circle with radius <math>18</math> and <math>60^{\\circ}</math> arc in the circle with radius <math>18\\sqrt{3}</math>. \n \n<asy>\npair project(pair X, pair Y, real r){return X+r*(Y-X);}\npath endptproject(pair X, pair Y, real a, real b){return project(X,Y,a)--project(X,Y,b);}\n\npathpen = linewidth(1); size(250); pen dots = linetype(\"2 3\") + linewidth(0.7), dashes = linetype(\"8 6\")+linewidth(0.7)+blue, bluedots = linetype(\"1 4\") + linewidth(0.7) + blue;\npair B = (0,0), A=(36,0), C=(0,36*3^.5), P=D(MP(\"P\",(6,25), NE)), F = D(foot(B,A,C));\nD(D(MP(\"A\",A)) -- D(MP(\"B\",B)) -- D(MP(\"C\",C,N)) -- cycle);\nfill(arc((A+B)/2,18,60,180) -- arc((B+C)/2,18*3^.5,-90,-30) -- cycle, rgb(0.8,0.8,0.8)); D(arc((A+B)/2,18,0,180),dots); D(arc((B+C)/2,18*3^.5,-90,90),dots); D(arc((A+C)/2,36,120,300),dots); D(B--F,dots); D(D((B+C)/2)--F--D((A+B)/2),dots); D(C--P--B,dashes);D(P--A,dashes);\n\npair Fa = bisectorpoint(P,A), Fb = bisectorpoint(P,B), Fc = bisectorpoint(P,C); path La = endptproject((A+P)/2,Fa,20,-30), Lb = endptproject((B+P)/2,Fb,12,-35); D(La,bluedots);D(Lb,bluedots);D(endptproject((C+P)/2,Fc,18,-15),bluedots);D(IP(La,Lb),blue); \n</asy>\n\nThe diagram shows <math>P</math> outside of the grayed locus; notice that the creases [the dotted blue] intersect within the triangle, which is against the problem conditions. The area of the locus is the sum of two segments of two circles; these segments cut out <math>120^{\\circ}, 60^{\\circ}</math> angles by simple similarity relations and angle-chasing.\n\nHence, the answer is, using the <math>\\frac 12 ab\\sin C</math> definition of triangle area, <math>\\left[\\frac{\\pi}{3} \\cdot 18^2 - \\frac{1}{2} \\cdot 18^2 \\sin \\frac{2\\pi}{3} \\right] + \\left[\\frac{\\pi}{6} \\cdot \\left(18\\sqrt{3}\\right)^2 - \\frac{1}{2} \\cdot (18\\sqrt{3})^2 \\sin \\frac{\\pi}{3}\\right] = 270\\pi - 324\\sqrt{3}</math>, and <math>q+r+s = \\boxed{597}</math>."
  },
  {
    "year": 1995,
    "variant": "I",
    "problem_number": 1,
    "latex": "Square <math>S_{1}</math> is <math>1\\times 1.</math>  For <math>i\\ge 1,</math> the lengths of the sides of square <math>S_{i+1}</math> are half the lengths of the sides of square <math>S_{i},</math> two adjacent sides of square <math>S_{i}</math> are perpendicular bisectors of two adjacent sides of square <math>S_{i+1},</math> and the other two sides of square <math>S_{i+1},</math> are the perpendicular bisectors of two adjacent sides of square <math>S_{i+2}.</math>  The total area enclosed by at least one of <math>S_{1}, S_{2}, S_{3}, S_{4}, S_{5}</math> can be written in the form <math>m/n,</math> where <math>m</math> and <math>n</math> are relatively prime positive integers.  Find <math>m-n.</math>\n\n[[Image:AIME 1995 Problem 1.png]]",
    "solution": "The sum of the areas of the [[square]]s if they were not interconnected is a [[geometric sequence]]: \n\n:<math>1^2 + \\left(\\frac{1}{2}\\right)^2 + \\left(\\frac{1}{4}\\right)^2 + \\left(\\frac{1}{8}\\right)^2 + \\left(\\frac{1}{16}\\right)^2</math>\n\nThen subtract the areas of the intersections, which is <math>\\left(\\frac{1}{4}\\right)^2 + \\ldots + \\left(\\frac{1}{32}\\right)^2</math>:\n\n:<math>1^2 + \\left(\\frac{1}{2}\\right)^2 + \\left(\\frac{1}{4}\\right)^2 + \\left(\\frac{1}{8}\\right)^2 + \\left(\\frac{1}{16}\\right)^2 - \\left[\\left(\\frac{1}{4}\\right)^2 + \\left(\\frac{1}{8}\\right)^2 + \\left(\\frac{1}{16}\\right)^2 + \\left(\\frac{1}{32}\\right)^2\\right]</math>\n:<math>= 1 + \\frac{1}{2}^2 - \\frac{1}{32}^2</math>\n\nThe majority of the terms cancel, leaving <math>1 + \\frac{1}{4} - \\frac{1}{1024}</math>, which simplifies down to <math>\\frac{1024 + \\left(256 - 1\\right)}{1024}</math>. Thus, <math>m-n =  \\boxed{255}</math>.\n\nAlternatively, take the area of the first square and add <math>\\,\\frac{3}{4}</math> of the areas of  the remaining squares. This results in <math>1+ \\frac{3}{4}\\left[\\left(\\frac{1}{2}\\right)^2 + \\ldots + \\left(\\frac{1}{16}^2\\right)\\right]</math>, which when simplified will produce the same answer."
  },
  {
    "year": 1995,
    "variant": "I",
    "problem_number": 2,
    "latex": "Find the last three digits of the product of the [[positive root]]s of\n<math>\\sqrt{1995}x^{\\log_{1995}x}=x^2</math>.",
    "solution": "Taking the <math>\\log_{1995}</math> ([[logarithm]]) of both sides and then moving to one side yields the [[quadratic equation]] <math>2(\\log_{1995}x)^2 - 4(\\log_{1995}x)  + 1 = 0</math>. Applying the [[quadratic formula]] yields that <math>\\log_{1995}x = 1 \\pm \\frac{\\sqrt{2}}{2}</math>. Thus, the product of the two roots (both of which are positive) is <math>1995^{1+\\sqrt{2}/2} \\cdot 1995^{1 - \\sqrt{2}/2} = 1995^2</math>, making the solution <math>(2000-5)^2 \\equiv \\boxed{025} \\pmod{1000}</math>."
  },
  {
    "year": 1995,
    "variant": "I",
    "problem_number": 3,
    "latex": "Starting at <math>(0,0),</math> an object moves in the [[coordinate plane]] via a sequence of steps, each of length one.  Each step is left, right, up, or down, all four equally likely.  Let <math>p</math> be the probability that the object reaches <math>(2,2)</math> in six or fewer steps.  Given that <math>p</math> can be written in the form <math>m/n,</math> where <math>m</math> and <math>n</math> are relatively prime positive integers, find <math>m+n.</math>",
    "solution": "It takes an even number of steps for the object to reach <math>(2,2)</math>, so the number of steps the object may have taken is either <math>4</math> or <math>6</math>.\n\nIf the object took <math>4</math> steps, then it must have gone two steps <tt>N</tt> and two steps <tt>E</tt>, in some permutation. There are <math>\\frac{4!}{2!2!} = 6</math> ways for these four steps of occuring, and the probability is <math>\\frac{6}{4^{4}}</math>.\n\nIf the object took <math>6</math> steps, then it must have gone two steps <tt>N</tt> and two steps <tt>E</tt>, and an additional pair of moves that would cancel out, either <tt>N/S</tt> or <tt>W/E</tt>. The sequences <tt>N,N,N,E,E,S</tt> can be permuted in <math>\\frac{6!}{3!2!1!} = 60</math> ways. However, if the first four steps of the sequence are <tt>N,N,E,E</tt> in some permutation, it would have already reached the point <math>(2,2)</math> in four moves. There are <math>\\frac{4!}{2!2!}</math> ways to order those four steps and <math>2!</math> ways to determine the order of the remaining two steps, for a total of <math>12</math> sequences that we have to exclude. This gives <math>60-12=48</math> sequences of steps. There are the same number of sequences for the steps <tt>N,N,E,E,E,W</tt>, so the probability here is <math>\\frac{2 \\times 48}{4^6}</math>.\n\nThe total probability is <math>\\frac{6}{4^4} + \\frac{96}{4^6} = \\frac{3}{64}</math>, and <math>m+n= \\boxed{067}</math>."
  },
  {
    "year": 1995,
    "variant": "I",
    "problem_number": 4,
    "latex": "Circles of radius <math>3</math> and <math>6</math> are externally tangent to each other and are internally tangent to a circle of radius <math>9</math>. The circle of radius <math>9</math> has a chord that is a common external tangent of the other two circles. Find the square of the length of this chord.\n\n<center><asy>\npointpen = black; pathpen = black + linewidth(0.7); size(150);\npair A=(0,0), B=(6,0), C=(-3,0), D=C+6*expi(acos(1/3)), F=B+3*expi(acos(1/3)), P=IP(F--F+3*(D-F),CR(A,9)), Q=IP(F--F+3*(F-D),CR(A,9));\nD(CR(A,9)); D(CR(B,3)); D(CR(C,6)); D(P--Q);\n</asy></center>",
    "solution": "We label the points as following: the centers of the circles of radii <math>3,6,9</math> are <math>O_3,O_6,O_9</math> respectively, and the endpoints of the chord are <math>P,Q</math>. Let <math>A_3,A_6,A_9</math> be the feet of the [[perpendicular]]s from <math>O_3,O_6,O_9</math> to <math>\\overline{PQ}</math> (so <math>A_3,A_6</math> are the points of [[tangent (geometry)|tangency]]). Then we note that <math>\\overline{O_3A_3} \\parallel \\overline{O_6A_6} \\parallel \\overline{O_9A_9}</math>, and <math>O_6O_9 : O_9O_3 = 3:6 = 1:2</math>. Thus, <math>O_9A_9 = \\frac{2 \\cdot O_6A_6 + 1 \\cdot O_3A_3}{3} = 5</math> (consider similar triangles). Applying the [[Pythagorean Theorem]] to <math>\\triangle O_9A_9P</math>, we find that \n<cmath>PQ^2 = 4(A_9P)^2 = 4[(O_9P)^2-(O_9A_9)^2] = 4[9^2-5^2] = \\boxed{224}</cmath>\n<center><asy>\npointpen = black; pathpen = black + linewidth(0.7); size(150);\npair A=(0,0), B=(6,0), C=(-3,0), D=C+6*expi(acos(1/3)), F=B+3*expi(acos(1/3)),G=5*expi(acos(1/3)), P=IP(F--F+3*(D-F),CR(A,9)), Q=IP(F--F+3*(F-D),CR(A,9));\nD(CR(D(MP(\"O_9\",A)),9)); D(CR(D(MP(\"O_3\",B)),3)); D(CR(D(MP(\"O_6\",C)),6)); D(MP(\"P\",P,NW)--MP(\"Q\",Q,NE)); D((-9,0)--(9,0)); \nD(A--MP(\"A_9\",G,N)); D(B--MP(\"A_3\",F,N)); D(C--MP(\"A_6\",D,N)); D(A--P); D(rightanglemark(A,G,P,12));\n</asy></center>"
  },
  {
    "year": 1995,
    "variant": "I",
    "problem_number": 5,
    "latex": "For certain real values of <math>a, b, c,</math> and <math>d_{},</math>  the equation <math>x^4+ax^3+bx^2+cx+d=0</math> has four non-real roots.  The product of two of these roots is <math>13+i</math> and the sum of the other two roots is <math>3+4i,</math> where <math>i=\\sqrt{-1}.</math>  Find <math>b.</math>",
    "solution": "Since the [[coefficient]]s of the [[polynomial]] are real, it follows that the non-real roots must come in [[complex conjugate]] pairs. Let the first two roots be <math>m,n</math>. Since <math>m+n</math> is not real, <math>m,n</math> are not conjugates, so the other pair of roots must be the conjugates of <math>m,n</math>. Let <math>m'</math> be the conjugate of <math>m</math>, and <math>n'</math> be the conjugate of <math>n</math>. Then,\n<cmath>m\\cdot n = 13 + i,m' + n' = 3 + 4i\\Longrightarrow m'\\cdot n' = 13 - i,m + n = 3 - 4i.</cmath>\nBy [[Vieta's formulas]], we have that <math>b = mm' + nn' + mn' + nm' + mn + m'n' = (m + n)(m' + n') + mn + m'n' = \\boxed{051}</math>."
  },
  {
    "year": 1995,
    "variant": "I",
    "problem_number": 6,
    "latex": "Let <math>n=2^{31}3^{19}.</math>  How many positive [[integer]] [[divisor]]s of <math>n^2</math> are less than <math>n_{}</math> but do not divide <math>n_{}</math>?",
    "solution": "We know that <math>n^2 = 2^{62}3^{38}</math> must have <math>(62+1)\\times (38+1)</math> [[factor]]s by its [[prime factorization]]. If we group all of these factors (excluding <math>n</math>) into pairs that multiply to <math>n^2</math>, then one factor per pair is less than <math>n</math>, and so there are <math>\\frac{63\\times 39-1}{2} = 1228</math> factors of <math>n^2</math> that are less than <math>n</math>. There are <math>32\\times20-1 = 639</math> factors of <math>n</math>, which clearly are less than <math>n</math>, but are still factors of <math>n</math>. Therefore, using complementary counting, there are <math>1228-639=\\boxed{589}</math> factors of <math>n^2</math> that do not divide <math>n</math>."
  },
  {
    "year": 1995,
    "variant": "I",
    "problem_number": 7,
    "latex": "Given that <math>(1+\\sin t)(1+\\cos t)=5/4</math> and\n:<math>(1-\\sin t)(1-\\cos t)=\\frac mn-\\sqrt{k},</math>\nwhere <math>k, m,</math> and <math>n_{}</math> are [[positive integer]]s with <math>m_{}</math> and <math>n_{}</math> [[relatively prime]], find <math>k+m+n.</math>",
    "solution": "From the givens, \n<math>2\\sin t \\cos t + 2 \\sin t + 2 \\cos t = \\frac{1}{2}</math>, and adding <math>\\sin^2 t + \\cos^2t = 1</math> to both sides gives <math>(\\sin t + \\cos t)^2 + 2(\\sin t + \\cos t) = \\frac{3}{2}</math>.  Completing the square on the left in the variable <math>(\\sin t + \\cos t)</math> gives <math>\\sin t + \\cos t = -1 \\pm \\sqrt{\\frac{5}{2}}</math>.  Since <math>|\\sin t + \\cos t| \\leq \\sqrt 2 < 1 + \\sqrt{\\frac{5}{2}}</math>, we have <math>\\sin t + \\cos t = \\sqrt{\\frac{5}{2}} - 1</math>.  Subtracting twice this from our original equation gives <math>(\\sin t - 1)(\\cos t - 1) = \\sin t \\cos t - \\sin t - \\cos t + 1 = \\frac{13}{4} - \\sqrt{10}</math>, so the answer is <math>13 + 4 + 10 = \\boxed{027}</math>."
  },
  {
    "year": 1995,
    "variant": "I",
    "problem_number": 8,
    "latex": "For how many ordered pairs of positive [[integer]]s <math>(x,y),</math> with <math>y<x\\le 100,</math> are both <math>\\frac xy</math> and <math>\\frac{x+1}{y+1}</math> integers?",
    "solution": "Since <math>y|x</math>, <math>y+1|x+1</math>, then <math>\\text{gcd}\\,(y,x)=y</math> (the bars indicate [[divisibility]]) and <math>\\text{gcd}\\,(y+1,x+1)=y+1</math>. By the [[Euclidean algorithm]], these can be rewritten respectively as <math>\\text{gcd}\\,(y,x-y)=y</math> and <math>\\text{gcd}\\, (y+1,x-y)=y+1</math>, which implies that both <math>y,y+1 | x-y</math>. Also, as <math>\\text{gcd}\\,(y,y+1) = 1</math>, it follows that <math>y(y+1)|x-y</math>. {{ref|1}}\n\nThus, for a given value of <math>y</math>, we need the number of multiples of <math>y(y+1)</math> from <math>0</math> to <math>100-y</math> (as <math>x \\le 100</math>). It follows that there are <math>\\left\\lfloor\\frac{100-y}{y(y+1)} \\right\\rfloor</math> satisfactory positive integers for all integers <math>y \\le 100</math>. The answer is \n\n<cmath>\\sum_{y=1}^{99} \\left\\lfloor\\frac{100-y}{y(y+1)} \\right\\rfloor = 49 + 16 + 8 + 4 + 3 + 2 + 1 + 1 + 1 = \\boxed{085}.</cmath>\n\n<br /><br />{{note|1}} Another way of stating this is to note that if <math>\\frac{x}{y}</math> and <math>\\frac{x+1}{y+1}</math> are integers, then <math>\\frac{x}{y} - 1 = \\frac{x-y}{y}</math> and <math>\\frac{x+1}{y+1} - 1 = \\frac{x-y}{y+1}</math> must be integers. Since <math>y</math> and <math>y+1</math> cannot share common prime factors, it follows that <math>\\frac{x-y}{y(y+1)}</math> must also be an integer."
  },
  {
    "year": 1995,
    "variant": "I",
    "problem_number": 9,
    "latex": "Triangle <math>ABC</math> is isosceles, with <math>AB=AC</math> and altitude <math>AM=11.</math>  Suppose that there is a point <math>D</math> on <math>\\overline{AM}</math> with <math>AD=10</math> and <math>\\angle BDC=3\\angle BAC.</math>  Then the perimeter of <math>\\triangle ABC</math> may be written in the form <math>a+\\sqrt{b},</math> where <math>a</math> and <math>b</math> are integers.  Find <math>a+b.</math>\n\n\n<asy>\nimport graph; size(5cm); real lsf=0.5; pen dps=linewidth(0.7)+fontsize(10); defaultpen(dps); pen ds=black; real xmin=-1.55,xmax=7.95,ymin=-4.41,ymax=5.3; \ndraw((1,3)--(0,0)); draw((0,0)--(2,0)); draw((2,0)--(1,3)); draw((1,3)--(1,0)); draw((1,0.7)--(0,0)); draw((1,0.7)--(2,0)); label(\"$11$\",(1,1.63),W); \ndot((1,3),ds); label(\"$A$\",(1,3),N); dot((0,0),ds); label(\"$B$\",(0,0),SW); dot((2,0),ds); label(\"$C$\",(2,0),SE); dot((1,0),ds); label(\"$M$\",(1,0),S); dot((1,0.7),ds); label(\"$D$\",(1,0.7),NE); \nclip((xmin,ymin)--(xmin,ymax)--(xmax,ymax)--(xmax,ymin)--cycle);</asy>\n<!-- [[Image:AIME_1995_Problem_9.png|center]] -->",
    "solution": "Let <math>x=\\angle CAM</math>, so <math>3x=\\angle CDM</math>. Then, <math>\\frac{\\tan 3x}{\\tan x}=\\frac{CM/1}{CM/11}=11</math>. Expanding <math>\\tan 3x</math> using the angle sum identity gives <cmath>\\tan 3x=\\tan(2x+x)=\\frac{3\\tan x-\\tan^3x}{1-3\\tan^2x}.</cmath> \nThus, <math>\\frac{3-\\tan^2x}{1-3\\tan^2x}=11</math>. Solving, we get <math>\\tan x= \\frac 12</math>. Hence, <math>CM=\\frac{11}2</math> and <math>AC= \\frac{11\\sqrt{5}}2</math> by the [[Pythagorean Theorem]]. The total perimeter is <math>2(AC + CM) = \\sqrt{605}+11</math>. The answer is thus <math>a+b=\\boxed{616}</math>."
  },
  {
    "year": 1995,
    "variant": "I",
    "problem_number": 10,
    "latex": "What is the largest positive integer that is not the sum of a positive integral multiple of <math>42</math> and a positive composite integer?",
    "solution": "The requested number <math>\\mod {42}</math> must be a prime number. Also, every number that is a multiple of <math>42</math> greater than that prime number must also be prime, except for the requested number itself. So we make a table, listing all the primes up to <math>42</math> and the numbers that are multiples of <math>42</math> greater than them, until they reach a composite number.\n\n<cmath>\n\\begin{tabular}{|r||r|r|r|r|r|}\n\\hline\n1 & 43 & 85&&& \\\\\n2&44&&&& \\\\\n3&45&&&& \\\\\n5&47&89&131&173&215 \\\\\n7&49&&&& \\\\\n11&53&95&&& \\\\\n13&55&&&& \\\\\n17&59&101&143&& \\\\\n19&61&103&145&& \\\\\n23&65&&&& \\\\\n29&71&113&155&& \\\\\n31&73&115&&& \\\\\n37&79&121&&& \\\\ \n41&83&125&&& \\\\\n\\hline\n\\end{tabular}</cmath>\n\nSince <math>\\boxed{215}</math> is the greatest number in the list, it is the answer. Note that considering <math>\\mod {5}</math> would have shortened the search, since <math>\\text{gcd}(5,42)=1</math>, and so within <math>5</math> numbers at least one must be divisible by <math>5</math>.\n\n~minor edit [[User: Yiyj1|Yiyj1]]\n====Afterword====\n\nBasically, we are looking for a number where when a multiple of 42 is subtracted from it, the result is a prime number. Any number that ends in a 5 is not prime, except for 5 itself. Since 42 keeps the parity the same and advances odd numbers in the unit digit, then we can conclude that the sought number is <math>5 \\mod 42</math>. Specifically, <math>5 * 42 + 5</math>.\n\n-jackshi2006"
  },
  {
    "year": 1995,
    "variant": "I",
    "problem_number": 11,
    "latex": "A right rectangular [[prism]] <math>P_{}</math> (i.e., a rectangular parallelpiped) has sides of integral length <math>a, b, c,</math> with <math>a\\le b\\le c.</math>  A plane parallel to one of the faces of <math>P_{}</math> cuts <math>P_{}</math> into two prisms, one of which is [[similar]] to <math>P_{},</math> and both of which have nonzero volume.  Given that <math>b=1995,</math> for how many ordered triples <math>(a, b, c)</math> does such a plane exist?",
    "solution": "Let <math>P'</math> be the prism similar to <math>P</math>, and let the sides of <math>P'</math> be of length <math>x,y,z</math>, such that <math>x \\le y \\le z</math>. Then \n\n<cmath>\\frac{x}{a} = \\frac{y}{b} = \\frac zc < 1.</cmath> \n\nNote that if the ratio of similarity was equal to <math>1</math>, we would have a prism with zero volume. As one face of <math>P'</math> is a face of <math>P</math>, it follows that <math>P</math> and <math>P'</math> share at least two side lengths in common. Since <math>x < a, y < b, z < c</math>, it follows that the only possibility is <math>y=a,z=b=1995</math>. Then,\n\n<cmath>\\frac{x}{a} = \\frac{a}{1995} = \\frac{1995}{c} \\Longrightarrow ac = 1995^2 = 3^25^27^219^2.</cmath> \n\nThe number of factors of <math>3^25^27^219^2</math> is <math>(2+1)(2+1)(2+1)(2+1) = 81</math>. Only in <math>\\left\\lfloor \\frac {81}2 \\right\\rfloor = 40</math> of these cases is <math>a < c</math> (for <math>a=c</math>, we end with a prism of zero volume). We can easily verify that these will yield nondegenerate prisms, so the answer is <math>\\boxed{040}</math>."
  },
  {
    "year": 1995,
    "variant": "I",
    "problem_number": 12,
    "latex": "Pyramid <math>OABCD</math> has square base <math>ABCD,</math> congruent edges <math>\\overline{OA}, \\overline{OB}, \\overline{OC},</math> and <math>\\overline{OD},</math> and <math>\\angle AOB=45^\\circ.</math>  Let <math>\\theta</math> be the measure of the dihedral angle formed by faces <math>OAB</math> and <math>OBC.</math>  Given that <math>\\cos \\theta=m+\\sqrt{n},</math> where <math>m_{}</math> and <math>n_{}</math> are integers, find <math>m+n.</math>\n\n__TOC__",
    "solution": "=== Solution 1 (trigonometry) ===\n<center><asy>\nimport three;\n\n// calculate intersection of line and plane\n// p = point on line\n// d = direction of line\n// q = point in plane\n// n = normal to plane\ntriple lineintersectplan(triple p, triple d, triple q, triple n)\n{\nreturn (p + dot(n,q - p)/dot(n,d)*d);\n}\n\n\n// projection of point A onto line BC\ntriple projectionofpointontoline(triple A, triple B, triple C)\n{\nreturn lineintersectplan(B, B - C, A, B - C);\n}\n\ncurrentprojection=perspective(2,1,1);\n\ntriple A, B, C, D, O, P;\n\nA = (sqrt(2 - sqrt(2)), sqrt(2 - sqrt(2)), 0);\nB = (-sqrt(2 - sqrt(2)), sqrt(2 - sqrt(2)), 0);\nC = (-sqrt(2 - sqrt(2)), -sqrt(2 - sqrt(2)), 0);\nD = (sqrt(2 - sqrt(2)), -sqrt(2 - sqrt(2)), 0);\nO = (0,0,sqrt(2*sqrt(2)));\nP = projectionofpointontoline(A,O,B);\n\ndraw(D--A--B);\ndraw(B--C--D,dashed);\ndraw(A--O);\ndraw(B--O);\ndraw(C--O,dashed);\ndraw(D--O);\ndraw(A--P);\ndraw(P--C,dashed);\n\nlabel(\"$A$\", A, S);\nlabel(\"$B$\", B, E);\nlabel(\"$C$\", C, NW);\nlabel(\"$D$\", D, W);\nlabel(\"$O$\", O, N);\ndot(\"$P$\", P, NE);\n</asy></center>\n\nThe angle <math>\\theta</math> is the angle formed by two [[perpendicular]]s drawn to <math>BO</math>, one on the plane determined by <math>OAB</math> and the other by <math>OBC</math>. Let the perpendiculars from <math>A</math> and <math>C</math> to <math>\\overline{OB}</math> meet <math>\\overline{OB}</math> at <math>P.</math> [[Without loss of generality]], let <math>AP = 1.</math> It follows that <math>\\triangle OPA</math> is a <math>45-45-90</math> [[right triangle]], so <math>OP = AP = 1,</math> <math>OB = OA = \\sqrt {2},</math> and <math>AB = \\sqrt {4 - 2\\sqrt {2}}.</math> Therefore, <math>AC = \\sqrt {8 - 4\\sqrt {2}}.</math>\n\nFrom the [[Law of Cosines]], <math>AC^{2} = AP^{2} + PC^{2} - 2(AP)(PC)\\cos \\theta,</math> so\n\n<cmath> 8 - 4\\sqrt {2} = 1 + 1 - 2\\cos \\theta \\Longrightarrow \\cos \\theta = - 3 + 2\\sqrt {2} = - 3 + \\sqrt{8}.</cmath>\n\nThus <math>m + n = \\boxed{005}</math>.\n\n=== Solution 2 (analytical/vectors) ===\nWithout loss of generality, place the pyramid in a 3-dimensional coordinate system such that <math>A = (1,0,0),</math> <math>B = (0,1,0),</math> <math>C = ( - 1,0,0),</math> <math>D = (0, - 1,0),</math> and <math>O = (0,0,z),</math> where <math>z</math> is unknown.\n\nWe first find <math>z.</math> Note that\n\n<cmath>\\overrightarrow{OA}\\cdot \\overrightarrow{OB} = \\parallel \\overrightarrow{OA}\\parallel \\parallel \\overrightarrow{OB}\\parallel \\cos 45^\\circ.</cmath>\n\nSince <math>\\overrightarrow{OA} =\\, <1,0, - z></math> and <math>\\overrightarrow{OB} =\\, <0,1, - z> ,</math> this simplifies to\n\n<cmath>z^{2}\\sqrt {2} = 1 + z^{2}\\implies z^{2} = 1 + \\sqrt {2}.</cmath>\n\nNow let's find <math>\\cos \\theta.</math> Let <math>\\vec{u}</math> and <math>\\vec{v}</math> be normal vectors to the planes containing faces <math>OAB</math> and <math>OBC,</math> respectively. From the definition of the [[dot product]] as <math>\\vec{u}\\cdot \\vec{v} = \\parallel \\vec{u}\\parallel \\parallel \\vec{v}\\parallel \\cos \\theta</math>, we will be able to solve for <math>\\cos \\theta.</math> A cross product yields (alternatively, it is simple to find the equation of the planes <math>OAB</math> and <math>OAC</math>, and then to find their normal vectors)\n\n<cmath>\\vec{u} = \\overrightarrow{OA}\\times \\overrightarrow{OB} = \\left| \\begin{array}{ccc}\\hat{i} & \\hat{j} & \\hat{k} \\\\\n1 & 0 & - z \\\\\n0 & 1 & - z \\end{array}\\right| =\\, < z,z,1 > .</cmath>\n\nSimilarly,\n\n<cmath>\\vec{v} = \\overrightarrow{OB}\\times \\overrightarrow{OC} - \\left|\\begin{array}{ccc}\\hat{i} & \\hat{j} & \\hat{k} \\\\\n0 & 1 & - z \\\\\n- 1 & 0 & - z \\end{array}\\right| =\\, < - z,z,1 > .</cmath>\n\nHence, taking the dot product of <math>\\vec{u}</math> and <math>\\vec{v}</math> yields\n\n<cmath>\\cos \\theta = \\frac{ \\vec{u} \\cdot \\vec{v} }{ \\parallel \\vec{u} \\parallel \\parallel \\vec{v} \\parallel } = \\frac{- z^{2} + z^{2} + 1}{(\\sqrt {1 + 2z^{2}})^{2}} =  \\frac {1}{3 + 2\\sqrt {2}} = 3 - 2\\sqrt {2} = 3 - \\sqrt {8}.</cmath>\n\nFlipping the signs (we found the cosine of the supplement angle) yields <math>\\cos \\theta = - 3 + \\sqrt {8},</math> so the answer is <math>\\boxed{005}</math>.\n\n=== Solution 3 (bashy trig) ===\n\n<center><asy>\nimport three;\n\n// calculate intersection of line and plane\n// p = point on line\n// d = direction of line\n// q = point in plane\n// n = normal to plane\ntriple lineintersectplan(triple p, triple d, triple q, triple n)\n{\nreturn (p + dot(n,q - p)/dot(n,d)*d);\n}\n\n\n// projection of point A onto line BC\ntriple projectionofpointontoline(triple A, triple B, triple C)\n{\nreturn lineintersectplan(B, B - C, A, B - C);\n}\n\ncurrentprojection=perspective(2,1,1);\n\ntriple A, B, C, D, O, P;\n\nA = (sqrt(2 - sqrt(2)), sqrt(2 - sqrt(2)), 0);\nB = (-sqrt(2 - sqrt(2)), sqrt(2 - sqrt(2)), 0);\nC = (-sqrt(2 - sqrt(2)), -sqrt(2 - sqrt(2)), 0);\nD = (sqrt(2 - sqrt(2)), -sqrt(2 - sqrt(2)), 0);\nO = (0,0,sqrt(2*sqrt(2)));\nP = projectionofpointontoline(A,O,B);\n\ndraw(D--A--B);\ndraw(B--C--D,dashed);\ndraw(A--O);\ndraw(B--O);\ndraw(C--O,dashed);\ndraw(D--O);\ndraw(A--P);\ndraw(P--C,dashed);\n\nlabel(\"$A$\", A, S);\nlabel(\"$B$\", B, E);\nlabel(\"$C$\", C, NW);\nlabel(\"$D$\", D, W);\nlabel(\"$O$\", O, N);\ndot(\"$P$\", P, NE);\n</asy></center>\n\nSimilar to Solution 1, <math>\\angle APC</math> is the dihedral angle we want. WLOG, we will let <math>AB=1,</math> meaning <math>AC=\\sqrt{2}</math>.\n\nBecause <math>\\triangle OAB,\\triangle OBC</math> are isosceles, <math>\\angle ABP = 67.5^{\\circ}</math> <math>PC=PA=\\cos(\\angle PAB)=\\cos(22.5^{\\circ})</math>.\n\nThus by the half-angle identity,\n\n<cmath>PA=\\cos\\left(\\frac{45}{2}\\right) = \\sqrt{\\frac{1+\\cos(45^{\\circ})}{2}}</cmath>\n<cmath>= \\sqrt{\\frac{2+\\sqrt{2}}{4}}.</cmath>\n\nNow looking at triangle <math>\\triangle PAC,</math> we drop the perpendicular from <math>P</math> to <math>AC</math>, and call the foot <math>H</math>. Then <math>\\angle CPH = \\theta / 2.</math> By Pythagoreas,\n<cmath>PH=\\sqrt{\\frac{2+\\sqrt{2}}{4}-\\frac{1}{2}}=\\frac{\\sqrt[4]{2}}{2}.</cmath>\n\n<center><asy>\n// if you see this\n// hello\n// gap for label on P--H: https://tex.stackexchange.com/questions/475945/asymptote-how-do-i-make-a-gap-in-a-segment-to-include-a-label\npair P,C,A,H;\nH = (0, 0);\nC = (-0.71, 0);\nA = (0.71, 0);\nP = (0,0.59);\ndraw(P--C--A--cycle);\ndraw(P--H);\nlabel(\"$A$\", A, SE);\nlabel(\"$C$\", C, SW);\nlabel(\"$P$\", P, N);\nlabel(\"$H$\", H, S);\nlabel(\"$\\sqrt{\\frac{2+\\sqrt{2}}{4}}$\",align=NE,point(P--A,0.5));\nlabel(\"$\\sqrt{\\frac{2+\\sqrt{2}}{4}}$\",align=NW,point(P--C,0.5));\nlabel(\"$\\frac{\\sqrt{2}}{2}$\",align=S,point(C--H,0.5));\nlabel(\"$\\frac{\\sqrt{2}}{2}$\",align=S,point(A--H,0.5));\npen fillpen = white;\nLabel mylabel = Label(\"$\\frac{\\sqrt[4]{2}}{2}$\", align=(0,0), position=MidPoint,\nfilltype=Fill(fillpen));\ndraw(P--H, L=mylabel);\n</asy></center>\n\nWe have that\n<cmath>\\cos\\left(\\frac{\\theta}{2}\\right)=\\frac{\\sqrt[4]{2}}{\\sqrt{2+\\sqrt{2}}},\\text{ so}</cmath>\n<cmath>\\cos(\\theta)=2\\cos^{2}\\left(\\frac{\\theta}{2}\\right)-1</cmath>\n<cmath>=2\\left(\\frac{\\sqrt{2}}{2+\\sqrt{2}}\\right)-1</cmath>\n<cmath>=2(\\frac{2\\sqrt{2}-2}{2})-1</cmath>\n<cmath>=-3+\\sqrt{8}.</cmath>\n\nBecause <math>m</math> and <math>n</math> can be negative integers, our answer is <math>(-3)+8=\\boxed{005.}</math>\n  \nNotice that <math>-1\\le \\cos(\\theta) \\le 1</math> as well.\n\n~RubixMaster21"
  },
  {
    "year": 1995,
    "variant": "I",
    "problem_number": 13,
    "latex": "Let <math>f(n)</math> be the integer closest to <math>\\sqrt[4]{n}.</math>  Find <math>\\sum_{k=1}^{1995}\\frac 1{f(k)}.</math>",
    "solution": "When <math>\\left(k - \\frac {1}{2}\\right)^4 \\leq n < \\left(k + \\frac {1}{2}\\right)^4</math>, <math>f(n) = k</math>. Thus there are <math>\\left \\lfloor \\left(k + \\frac {1}{2}\\right)^4 - \\left(k - \\frac {1}{2}\\right)^4 \\right\\rfloor</math> values of <math>n</math> for which <math>f(n) = k</math>. Expanding using the [[binomial theorem]], \n\n<cmath>\\begin{align*}\n\\left(k + \\frac {1}{2}\\right)^4 - \\left(k - \\frac {1}{2}\\right)^4 &= \\left(k^4 + 2k^3 + \\frac 32k^2 + \\frac 12k + \\frac 1{16}\\right) - \\left(k^4 - 2k^3 + \\frac 32k^2 - \\frac 12k + \\frac 1{16}\\right)\\\\ &= 4k^3 + k. \\end{align*}</cmath> \n\nThus, <math>\\frac{1}{k}</math> appears in the summation <math>4k^3 + k</math> times, and the sum for each <math>k</math> is then <math>(4k^3 + k) \\cdot \\frac{1}{k} = 4k^2 + 1</math>. From <math>k = 1</math> to <math>k = 6</math>, we get <math>\\sum_{k=1}^{6} 4k^2 + 1 = 364 + 6 = 370</math> (either adding or using the [[perfect square|sum of consecutive squares formula]]).  \n\nBut this only accounts for <math>\\sum_{k = 1}^{6} (4k^3 + k) = 4\\left(\\frac{6(6+1)}{2}\\right)^2 + \\frac{6(6+1)}{2} = 1764 + 21 = 1785</math> terms, so we still have <math>1995 - 1785 = 210</math> terms with <math>f(n) = 7</math>. This adds <math>210 \\cdot \\frac {1}{7} = 30</math> to our summation, giving <math>{400}</math>."
  },
  {
    "year": 1995,
    "variant": "I",
    "problem_number": 14,
    "latex": "In a [[circle]] of [[radius]] <math>42</math>, two [[chord]]s of length <math>78</math> intersect at a point whose distance from the center is <math>18</math>.  The two chords divide the interior of the circle into four regions.  Two of these regions are bordered by segments of unequal lengths, and the area of either of them can be expressed uniquely in the form <math>m\\pi-n\\sqrt{d},</math> where <math>m, n,</math> and <math>d_{}</math> are positive integers and <math>d_{}</math> is not divisible by the square of any prime number.  Find <math>m+n+d.</math>",
    "solution": "Let the center of the circle be <math>O</math>, and the two chords be <math>\\overline{AB}, \\overline{CD}</math> and intersecting at <math>E</math>, such that <math>AE = CE < BE = DE</math>. Let <math>F</math> be the midpoint of <math>\\overline{AB}</math>. Then <math>\\overline{OF} \\perp \\overline{AB}</math>. \n\n<center><asy>\nsize(200); pathpen = black + linewidth(0.7); pen d = dashed+linewidth(0.7);\npair O = (0,0), E=(0,18), B=E+48*expi(11*pi/6), D=E+48*expi(7*pi/6), A=E+30*expi(5*pi/6), C=E+30*expi(pi/6), F=foot(O,B,A);\nD(CR(D(MP(\"O\",O)),42)); D(MP(\"A\",A,NW)--MP(\"B\",B,SE)); D(MP(\"C\",C,NE)--MP(\"D\",D,SW)); D(MP(\"E\",E,N)); D(C--B--O--E,d);D(O--D(MP(\"F\",F,NE)),d); MP(\"39\",(B+F)/2,NE);MP(\"30\",(C+E)/2,NW);MP(\"42\",(B+O)/2);\n</asy></center>\n\nBy the [[Pythagorean Theorem]], <math>OF = \\sqrt{OB^2 - BF^2} = \\sqrt{42^2 - 39^2} = 9\\sqrt{3}</math>, and <math>EF = \\sqrt{OE^2 - OF^2} = 9</math>. Then <math>OEF</math> is a <math>30-60-90</math> [[right triangle]], so <math>\\angle OEB = \\angle OED = 60^{\\circ}</math>. Thus <math>\\angle BEC = 60^{\\circ}</math>, and by the [[Law of Cosines]],\n\n<center><math>BC^2 = BE^2 + CE^2 - 2 \\cdot BE \\cdot CE \\cos 60^{\\circ} = 42^2.</math></center>\n\nIt follows that <math>\\triangle BCO</math> is an [[equilateral triangle]], so <math>\\angle BOC = 60^{\\circ}</math>. The desired area can be broken up into two regions, <math>\\triangle BCE</math> and the region bounded by <math>\\overline{BC}</math> and minor arc <math>\\stackrel{\\frown}{BC}</math>. The former can be found by [[Heron's formula]] to be <math>[BCE] = \\sqrt{60(60-48)(60-42)(60-30)} = 360\\sqrt{3}</math>. The latter is the difference between the area of [[sector]] <math>BOC</math> and the equilateral <math>\\triangle BOC</math>, or <math>\\frac{1}{6}\\pi (42)^2 - \\frac{42^2 \\sqrt{3}}{4} = 294\\pi - 441\\sqrt{3}</math>. \n\nThus, the desired area is <math>360\\sqrt{3} + 294\\pi - 441\\sqrt{3} = 294\\pi - 81\\sqrt{3}</math>, and <math>m+n+d = \\boxed{378}</math>.\n\n------\n\nNote: the area of <math>\\triangle BCE</math> can be more easily found by using the sine method <math>[\\triangle] = \\frac{1}{2} ab \\sin C</math>. <math>[BCE] = 30 \\cdot 48 \\cdot \\frac{1}{2} \\cdot \\sin 60^\\circ = 30 \\cdot 24 \\cdot \\frac{\\sqrt{3}}{2} = 360\\sqrt{3}</math>\n\n-NL008"
  },
  {
    "year": 1995,
    "variant": "I",
    "problem_number": 15,
    "latex": "Let <math>p_{}</math> be the [[probability]] that, in the process of repeatedly flipping a fair coin, one will encounter a run of <math>5</math> heads before one encounters a run of <math>2</math> tails.  Given that <math>p_{}</math> can be written in the form <math>m/n</math> where <math>m_{}</math> and <math>n_{}</math> are relatively prime positive integers, find <math>m+n</math>.\n\n__TOC__",
    "solution": "=== Solution 1 ===\nThink of the problem as a sequence of <tt>H</tt>'s and <tt>T</tt>'s. No two <tt>T</tt>'s can occur in a row, so the successful sequences are composed of blocks of <math>1</math> to <math>4</math> <tt>H</tt>'s separated by <tt>T</tt>'s and end with <math>5</math> <tt>H</tt>'s. Since the probability that the sequence starts with <tt>TH</tt> is <math>1/4</math>, the total probability is that <math>3/2</math> of the probability given that the sequence starts with an <tt>H</tt>. \n\nThe answer to the problem is then the sum of all numbers of the form <math>\\frac 32 \\left( \\frac 1{2^a} \\cdot \\frac 12 \\cdot \\frac 1{2^b} \\cdot \\frac 12 \\cdot \\frac 1{2^c} \\cdots \\right) \\cdot \\left(\\frac 12\\right)^5</math>, where <math>a,b,c \\ldots </math> are all numbers <math>1-4</math>, since the blocks of <tt>H</tt>'s can range from <math>1-4</math> in length. The sum of all numbers of the form <math>(1/2)^a</math> is <math>1/2+1/4+1/8+1/16=15/16</math>, so if there are n blocks of <tt>H</tt>'s before the final five <tt>H</tt>'s, the answer can be rewritten as the sum of all numbers of the form <math>\\frac 32\\left( \\left(\\frac {15}{16}\\right)^n \\cdot \\left(\\frac 12\\right)^n \\right) \\cdot \\left(\\frac 1{32}\\right)=\\frac 3{64}\\left(\\frac{15}{32}\\right)^n</math>, where <math>n</math> ranges from <math>0</math> to <math>\\infty</math>, since that's how many blocks of <tt>H</tt>'s there can be before the final five. This is an infinite geometric series whose sum is <math>\\frac{3/64}{1-(15/32)}=\\frac{3}{34}</math>, so the answer is <math>\\boxed{037}</math>.\n\n=== Solution 2 ===\nLet <math>p_H, p_T</math> respectively denote the probabilities that a string beginning with <tt>H</tt>'s and <tt>T</tt>'s are successful. Thus, \n<center><math>p_T = \\frac 12p_H.</math></center>\n\nA successful string can either start with 1 to 4 H's, start with a T and then continue with a string starting with <tt>H</tt> (as there cannot be <math>2</math> <tt>T</tt>'s in a row, or be the string HHHHH.\n\nThere is a <math>\\frac{1}{16} \\cdot \\frac{1}{2} = \\frac{1}{32}</math> probability we roll <tt>HHHH</tt> and then <tt>T</tt>. On the other hand, there is a <math>\\frac{15}{16}</math> probability we roll a <tt>H, HH, HHH, or HHHH</tt>, and then a <tt>T</tt>. Thus, \n\n<center><math>p_H = \\left(\\frac{15}{16}\\right) \\cdot \\left(\\frac 12\\right) p_H + \\frac{1}{32} \\Longrightarrow p_H = \\frac{1}{17}.</math></center>\n\nThe answer is <math>p_H + p_T = \\frac{3}{2}p_H = \\frac{3}{34}</math>, and <math>m+n = \\boxed{037}</math>.\n\n=== Solution 3 ===\nFor simplicity, let's compute the complement, namely the probability of getting to <math>2</math> tails before <math>5</math> heads.\n\nLet <math>h_{i}</math> denote the probability that we get <math>2</math> tails before <math>5</math> heads, given that we have <math>i</math> consecutive heads. Similarly, let <math>t_{i}</math> denote the probability that we get <math>2</math> tails before <math>5</math> heads, given that we have <math>i</math> consecutive tails. Specifically, <math>h_{5} = 0</math> and <math>t_{2} = 1</math>. If we can solve for <math>h_{1}</math> and <math>t_{1}</math>, we are done; the answer is simply <math>1/2 * (h_{1} + t_{1})</math>, since on our first roll, we have equal chances of getting a string with \"1 consecutive head\" or \"1 consecutive tail.\"\n\nConsider solving for <math>t_{1}</math>. If we have 1 consecutive tail, then (a) rolling a head gets us to 1 consecutive head and (b) rolling a tail gets us to 2 consecutive tails. So, we must have:\n\n<center>\n<math>t_{1} = \\frac{1}{2} t_{2} + \\frac{1}{2} h_{1}</math>\n</center>\n\nApplying similar logic, we get the equations:\n\n<cmath>\\begin{align*}\nh_{1} &= \\frac{1}{2} h_{2} + \\frac{1}{2} t_{1}\\\\\nh_{2} &= \\frac{1}{2} h_{3} + \\frac{1}{2} t_{1}\\\\\nh_{3} &= \\frac{1}{2} h_{4} + \\frac{1}{2} t_{1}\\\\\nh_{4} &= \\frac{1}{2} h_{5} + \\frac{1}{2} t_{1}\n\\end{align*}</cmath>\n\nSince <math>h_{5} = 0</math>, we get <math>h_{4} = \\frac{1}{2} t_{1}</math> <math>\\Rightarrow h_{3} = \\frac{3}{4} t_{1}</math> <math>\\Rightarrow h_{2} = \\frac{7}{8} t_{1}</math> <math>\\Rightarrow h_{1} = \\frac{15}{16} t_{1}</math> <math>\\Rightarrow t_{1} = \\frac{1}{2} t_{2} + \\frac{1}{2} \\cdot \\frac{15}{16} t_{1} = \\frac{1}{2} + \\frac{15}{32} t_{1} \\Rightarrow t_{1} = \\frac{16}{17}</math> <math>\\Rightarrow h_{1} = \\frac{15}{16} \\cdot \\frac{16}{17} = \\frac{15}{17}</math>.\n\nSo, the probability of reaching <math>2</math> tails before <math>5</math> heads is <math>\\frac{1}{2} (h_{1} + t_{1}) = \\frac{31}{34}</math>; we want the complement, <math>\\frac{3}{34}</math>, yielding an answer of <math>3 + 34 = \\boxed{037}</math>.\n\nNote: The same approach still works if we tried solving the original problem rather than the complement; we would have simply used <math>h_{5} = 1</math> and <math>t_{2} = 0</math> instead. The repeated back-substitution is cleaner because we used the complement."
  },
  {
    "year": 1996,
    "variant": "I",
    "problem_number": 1,
    "latex": "In a magic [[square]], the sum of the three entries in any row, column, or diagonal is the same value. The figure shows four of the entries of a magic square. Find <math>x</math>. \n\n<center>[[Image:AIME_1996_Problem_01.png]]</center>",
    "solution": "Let's make a table.\n\n<cmath>\\begin{array}{|c|c|c|}\n\\multicolumn{3}{c}{\\text{Table}}\\\\\\hline\nx&19&96\\\\\\hline\n1&a&b\\\\\\hline\nc&d&e\\\\\\hline\n\\end{array}</cmath>\n\n<cmath>\n\\begin{eqnarray*}\nx+19+96=x+1+c\\Rightarrow c=19+96-1=114,\\\\ 114+96+a=x+1+114\\Rightarrow a=x-95\n\\end{eqnarray*}\n</cmath>\n\n<cmath>\\begin{array}{|c|c|c|}\n\\multicolumn{3}{c}{\\text{Table in progress}}\\\\\\hline\nx&19&96\\\\\\hline\n1&x-95&b\\\\\\hline\n114&d&e\\\\\\hline\n\\end{array}</cmath>\n\n<cmath>\n\\begin{eqnarray*}19+x-95+d=x+d-76=115+x\\Rightarrow  d=191,\\\\ 114+191+e=x+115\\Rightarrow e=x-190\n\\end{eqnarray*}\n</cmath>\n<cmath>\\begin{array}{|c|c|c|}\n\\multicolumn{3}{c}{\\text{Table in progress}}\\\\\\hline\nx&19&96\\\\\\hline\n1&x-95&b\\\\\\hline\n114&191&x-190\\\\\\hline\n\\end{array}</cmath>\n\n<cmath>3x-285=x+115\\Rightarrow 2x=400\\Rightarrow x=\\boxed{200}</cmath>"
  },
  {
    "year": 1996,
    "variant": "I",
    "problem_number": 2,
    "latex": "For each real number <math>x</math>, let <math>\\lfloor x \\rfloor</math> denote the [[greatest integer function|greatest integer]] that does not exceed x. For how many positive integers <math>n</math> is it true that <math>n<1000</math> and that <math>\\lfloor \\log_{2} n \\rfloor</math> is a positive even integer?",
    "solution": "For integers <math>k</math>, we want <math>\\lfloor \\log_2 n\\rfloor = 2k</math>, or <math>2k \\le \\log_2 n < 2k+1 \\Longrightarrow 2^{2k} \\le n < 2^{2k+1}</math>. Thus, <math>n</math> must satisfy these [[inequality|inequalities]] (since <math>n < 1000</math>):\n\n<div style=\"text-align:center;\">\n<math>4\\leq n <8</math><br />\n<math>16\\leq n<32</math><br />\n<math>64\\leq n<128</math><br />\n<math>256\\leq n<512</math></div>\n\nThere are <math>4</math> for the first inequality, <math>16</math> for the second, <math>64</math> for the third, and <math>256</math> for the fourth, so the answer is <math>4+16+64+256=\\boxed{340}</math>."
  },
  {
    "year": 1996,
    "variant": "I",
    "problem_number": 3,
    "latex": "Find the smallest positive [[integer]] <math>n</math> for which the expansion of <math>(xy-3x+7y-21)^n</math>, after like terms have been collected, has at least 1996 terms.",
    "solution": "Using [[Simon's Favorite Factoring Trick]], we rewrite as <math>[(x+7)(y-3)]^n = (x+7)^n(y-3)^n</math>. Both [[binomial expansion]]s will contain <math>n+1</math> non-like terms; their product will contain <math>(n+1)^2</math> terms, as each term will have an unique power of <math>x</math> or <math>y</math> and so none of the terms will need to be collected. Hence <math>(n+1)^2 \\ge 1996</math>, the smallest square after <math>1996</math> is <math>2025 = 45^2</math>, so our answer is <math>45 - 1 = \\boxed{044}</math>.\n\nAlternatively, when <math>n = k</math>, the exponents of <math>x</math> or <math>y</math> in <math>x^i y^i</math> can be any integer between <math>0</math> and <math>k</math> inclusive. Thus, when <math>n=1</math>, there are <math>(2)(2)</math> terms and, when <math>n = k</math>, there are <math>(k+1)^2</math> terms. Therefore, we need to find the smallest perfect square that is greater than <math>1996</math>. From trial and error, we get <math>44^2 = 1936</math> and <math>45^2 = 2025</math>. Thus, <math>k = 45\\rightarrow n = \\boxed{044}</math>."
  },
  {
    "year": 1996,
    "variant": "I",
    "problem_number": 4,
    "latex": "A wooden [[cube]], whose edges are one centimeter long, rests on a horizontal surface. Illuminated by a point source of light that is <math>x</math> centimeters directly above an upper [[vertex]], the cube casts a shadow on the horizontal surface. The area of the shadow, which does not include the area beneath the cube is 48 square centimeters. Find the greatest integer that does not exceed <math>1000x</math>.",
    "solution": "<asy>\nimport three;\nsize(250);defaultpen(0.7+fontsize(9));\nreal unit = 0.5; \nreal r = 2.8;\ntriple O=(0,0,0), P=(0,0,unit+unit/(r-1)); dot(P);\ndraw(O--P); draw(O--(unit,0,0)--(unit,0,unit)--(0,0,unit)); draw(O--(0,unit,0)--(0,unit,unit)--(0,0,unit));\ndraw((unit,0,0)--(unit,unit,0)--(unit,unit,unit)--(unit,0,unit)); draw((0,unit,0)--(unit,unit,0)--(unit,unit,unit)--(0,unit,unit)); \ndraw(P--(r*unit,0,0)--(r*unit,r*unit,0)--(0,r*unit,0)--P); draw(P--(r*unit,r*unit,0)); draw((r*unit,0,0)--(0,0,0)--(0,r*unit,0));\ndraw(P--(0,0,unit)--(unit,0,unit)--(unit,0,0)--(r*unit,0,0)--P,dashed+blue+linewidth(0.8));\nlabel(\"$x$\",(0,0,unit+unit/(r-1)/2),WSW);\nlabel(\"$1$\",(unit/2,0,unit),N);\nlabel(\"$1$\",(unit,0,unit/2),W);\nlabel(\"$1$\",(unit/2,0,0),N);\nlabel(\"$6$\",(unit*(r+1)/2,0,0),N);\nlabel(\"$7$\",(unit*r,unit*r/2,0),SW);\n</asy>\n(Figure not to scale) The area of the square shadow base is <math>48 + 1 = 49</math>, and so the sides of the shadow are <math>7</math>. Using the similar triangles in blue, \n<math>\\frac {x}{1} = \\frac {1}{6}</math>, and <math>\\left\\lfloor 1000x \\right\\rfloor = \\boxed{166}</math>."
  },
  {
    "year": 1996,
    "variant": "I",
    "problem_number": 5,
    "latex": "Suppose that the [[root]]s of <math>x^3+3x^2+4x-11=0</math> are <math>a</math>, <math>b</math>, and <math>c</math>, and that the roots of <math>x^3+rx^2+sx+t=0</math> are <math>a+b</math>, <math>b+c</math>, and <math>c+a</math>. Find <math>t</math>.",
    "solution": "== Video Solution ==\nhttps://youtu.be/3dfbWzOfJAI?t=2785\n\n~ pi_is_3.14"
  },
  {
    "year": 1996,
    "variant": "I",
    "problem_number": 6,
    "latex": "In a five-team tournament, each team plays one game with every other team. Each team has a <math>50\\%</math> chance of winning any game it plays. (There are no ties.) Let <math>\\dfrac{m}{n}</math> be the probability that the tournament will produce neither an undefeated team nor a winless team, where <math>m</math> and <math>n</math> are relatively prime integers. Find <math>m+n</math>.",
    "solution": "=== Solution 1 === \n\nWe can use [[complementary counting]]: finding the probability that at least one team wins all games or at least one team loses all games.\n\nNo more than 1 team can win or lose all games, so at most one team can win all games and at most one team can lose all games.\n\nNow we use [[PIE]]:\n\nThe probability that one team wins all games is <math>5\\cdot \\left(\\frac{1}{2}\\right)^4=\\frac{5}{16}</math>.\n\nSimilarity, the probability that one team loses all games is <math>\\frac{5}{16}</math>.\n\nThe probability that one team wins all games and another team loses all games is <math>\\left(5\\cdot \\left(\\frac{1}{2}\\right)^4\\right)\\left(4\\cdot \\left(\\frac{1}{2}\\right)^3\\right)=\\frac{5}{32}</math>.\n\n<math>\\frac{5}{16}+\\frac{5}{16}-\\frac{5}{32}=\\frac{15}{32}</math>\n\nSince this is the opposite of the probability we want, we subtract that from 1 to get <math>\\frac{17}{32}</math>.\n\n<math>17+32=\\boxed{049}</math>\n\n=== Solution 2 === \n\nThere are <math>\\dbinom{5}{2} = 10</math> games in total, and every game can either end in a win or a loss. Therefore, there are <math>2^{10} = 1024</math> possible outcomes.\n\nNow, computing this probability directly seems a little hard, so let's compute the complement -- the probability that there is an undefeated team, a winless team, or both.\n\nThe number of ways that we can have an undefeated team is <math>5 \\cdot 2^6,</math> as there are five ways to choose the team itself and <math>2^6</math> outcomes for the games that are not concerning the undefeated team. Reversing all the wins to losses yields a winless team, so this situation is symmetrical to the first one. Therefore, there are <math>5 \\cdot 2^6 + 5 \\cdot 2^6</math> ways for an undefeated or winless team.\n\nIn the process, however, we have accidentally overcounted the scenario of both an undefeated and winless team. There are <math>5 \\cdot 4 \\cdot 2^3</math> ways for this scenario to happen, because there are five ways to choose the undefeated team, four ways for the winless, and three games that don't concern either of the teams. Therefore, there are <math>5 \\cdot 2^6 + 5 \\cdot 2^6 - 5 \\cdot 4 \\cdot 2^3 = 480</math> ways to have an undefeated and/or winless team, so there are <math>1024 - 480 = 544</math> to not have any.\n\nOur probability is thus <math>\\dfrac{544}{1024},</math> which simplifies to <math>\\dfrac{17}{32},</math> for our answer of <math>17 + 32 = \\boxed{049}.</math>\n\nSolution by Ilikeapos"
  },
  {
    "year": 1996,
    "variant": "I",
    "problem_number": 7,
    "latex": "Two [[square]]s of a <math>7\\times 7</math> checkerboard are painted yellow, and the rest are painted green. Two color schemes are equivalent if one can be obtained from the other by applying a [[rotation]] in the plane board. How many inequivalent color schemes are possible?",
    "solution": "There are <math>{49 \\choose 2}</math> possible ways to select two squares to be painted yellow. There are four possible ways to rotate each board. Given an arbitrary pair of yellow squares, these four rotations will either yield two or four equivalent but distinct boards. \n\n<center><table><tr><td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<asy>\npathpen = black; pair O = (3.5,3.5); D(O);\nfor(int i=0;i<7;++i)\n for(int j=0;j<7;++j)\n  D(shift(i,j)*unitsquare);\nfill(shift(4,3)*unitsquare,rgb(1,1,.4));fill(shift(4,5)*unitsquare,rgb(1,1,.4));\nfill(shift(3,4)*unitsquare,rgb(.8,.8,.5));fill(shift(1,4)*unitsquare,rgb(.8,.8,.5));\nfill(shift(2,3)*unitsquare,rgb(.8,.8,.5));fill(shift(2,1)*unitsquare,rgb(.8,.8,.5));\nfill(shift(3,2)*unitsquare,rgb(.8,.8,.5));fill(shift(5,2)*unitsquare,rgb(.8,.8,.5));\n\nD(arc(O,1,280,350),EndArrow(4));\nD(arc(O,5^.5,-20,50),EndArrow(4));\nD(arc(O,1,10,80),EndArrow(4));\nD(arc(O,5^.5,70,140),EndArrow(4));\nD(arc(O,1,190,260),EndArrow(4));\nD(arc(O,5^.5,250,320),EndArrow(4));\nD(arc(O,1,100,170),EndArrow(4));\nD(arc(O,5^.5,160,230),EndArrow(4));\n</asy>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td><asy>pathpen = black; pair O = (3.5,3.5); D(O);\nfor(int i=0;i<7;++i)\n for(int j=0;j<7;++j)\n  D(shift(i,j)*unitsquare);\nfill(shift(4,5)*unitsquare,rgb(1,1,.4));\nfill(shift(2,1)*unitsquare,rgb(1,1,.4));\nfill(shift(1,4)*unitsquare,rgb(.8,.8,.5));\nfill(shift(5,2)*unitsquare,rgb(.8,.8,.5));\n\nD(arc(O,5^.5,-20,50),EndArrow(4));\nD(arc(O,5^.5,70,140),EndArrow(4));\nD(arc(O,5^.5,250,320),EndArrow(4));\nD(arc(O,5^.5,160,230),EndArrow(4));\n</asy></td></tr><tr><td><font style=\"font-size:85%\">For most pairs, there will be <br /> three other equivalent boards.</font></td><td><font style=\"font-size:85%\">For those symmetric about the center, <br /> there is only one other.</font></td></tr></table></center>\n\nNote that a pair of yellow squares will only yield <math>2</math> distinct boards upon rotation [[iff]] the yellow squares are rotationally symmetric about the center square; there are <math>\\frac{49-1}{2}=24</math> such pairs. There are then <math>{49 \\choose 2}-24</math> pairs that yield <math>4</math> distinct boards upon rotation; in other words, for each of the <math>{49 \\choose 2}-24</math> pairs, there are three other pairs that yield an equivalent board.\n\nThus, the number of inequivalent boards is <math>\\frac{{49 \\choose 2} - 24}{4} + \\frac{24}{2} = \\boxed{300}</math>. For a <math>(2n+1) \\times (2n+1)</math> board, this argument generalizes to <math>n(n+1)(2n^2+2n+1)</math> inequivalent configurations."
  },
  {
    "year": 1996,
    "variant": "I",
    "problem_number": 8,
    "latex": "The [[harmonic mean]] of two positive integers is the reciprocal of the [[arithmetic mean]] of their reciprocals. For how many ordered pairs of positive integers <math>(x,y)</math> with <math>x<y</math> is the harmonic mean of <math>x</math> and <math>y</math> equal to <math>6^{20}</math>?",
    "solution": "The harmonic mean of <math>x</math> and <math>y</math> is equal to <math>\\frac{1}{\\frac{\\frac{1}{x}+\\frac{1}{y}}2} = \\frac{2xy}{x+y}</math>, so we have <math>xy=(x+y)(3^{20}\\cdot2^{19})</math>, and by [[SFFT]], <math>(x-3^{20}\\cdot2^{19})(y-3^{20}\\cdot2^{19})=3^{40}\\cdot2^{38}</math>. Now, <math>3^{40}\\cdot2^{38}</math> has <math>41\\cdot39=1599</math> factors, one of which is the square root (<math>3^{20}2^{19}</math>). Since <math>x<y</math>, the answer is half of the remaining number of factors, which is <math>\\frac{1599-1}{2}= \\boxed{799}</math>."
  },
  {
    "year": 1996,
    "variant": "I",
    "problem_number": 9,
    "latex": "A bored student walks down a hall that contains a row of closed lockers, numbered <math>1</math> to <math>1024</math>. He opens the locker numbered 1, and then alternates between skipping and opening each locker thereafter. When he reaches the end of the hall, the student turns around and starts back. He opens the first closed locker he encounters, and then alternates between skipping and opening each closed locker thereafter. The student continues wandering back and forth in this manner until every locker is open. What is the number of the last locker he opens?",
    "solution": "=== Solution 1 ===\nOn his first pass, he opens all of the odd lockers. So there are only even lockers closed. Then he opens the lockers that are multiples of <math>4</math>, leaving only lockers <math>2 \\pmod{8}</math> and <math>6 \\pmod{8}</math>. Then he goes ahead and opens all lockers <math>2 \\pmod {8}</math>, leaving lockers either <math>6 \\pmod {16}</math> or <math>14 \\pmod {16}</math>. He then goes ahead and opens all lockers <math>14 \\pmod {16}</math>, leaving the lockers either <math>6 \\pmod {32}</math> or <math>22 \\pmod {32}</math>. He then goes ahead and opens all lockers <math>6 \\pmod {32}</math>, leaving <math>22 \\pmod {64}</math> or <math>54 \\pmod {64}</math>. He then opens <math>54 \\pmod {64}</math>, leaving <math>22 \\pmod {128}</math> or <math>86 \\pmod {128}</math>. He then opens <math>22 \\pmod {128}</math> and leaves <math>86 \\pmod {256}</math> and <math>214 \\pmod {256}</math>. He then opens all <math>214 \\pmod {256}</math>, so we have <math>86 \\pmod {512}</math> and <math>342 \\pmod {512}</math>, leaving lockers <math>86, 342, 598</math>, and <math>854</math>, and he is at where he started again. He then opens <math>86</math> and <math>598</math>, and then goes back and opens locker number <math>854</math>, leaving locker number <math>\\boxed{342}</math> untouched. He opens that locker.\n\n~edit made by Yiyj1: the <math>2 \\pmod 8</math> and <math>6\\pmod 8</math> are the same as <math>2 \\pmod 4</math>.\n\n=== Solution 2  ===\nWe can also solve this with recursion. Let <math>L_n</math> be the last locker he opens given that he started with <math>2^n</math> lockers. Let there be <math>2^n</math> lockers. After he first reaches the end of the hallway, there are <math>2^{n-1}</math> lockers remaining. There is a correspondence between these unopened lockers and if he began with <math>2^{n-1}</math> lockers. The locker <math>y</math> (if he started with <math>2^{n-1}</math> lockers) corresponds to the locker <math>2^n+2-2y</math> (if he started with <math>2^n</math> lockers). It follows that <math>L_{n} = 2^{n} +2 -2L_{n-1}</math> as they are corresponding lockers. We can compute <math>L_1=2</math> and use the recursion to find <math>L_{10}=\\boxed{342}</math>\n\n=== Solution 3 (bash)===\nList all the numbers from <math>1</math> through <math>1024</math>, then do the process yourself!!! It will take about 25 minutes (if you don't start to see the pattern), but that's okay, eventually, you will get <math>\\boxed{342}</math>.\n\n(Note: If you try to do this, first look through all the problems! -Guy)\n\n--------------------------\nEdit from EthanSpoon, Doing this with only even numbers will make it faster.\nYou'll see.\n02496"
  },
  {
    "year": 1996,
    "variant": "I",
    "problem_number": 10,
    "latex": "Find the smallest positive integer solution to <math>\\tan{19x^{\\circ}}=\\dfrac{\\cos{96^{\\circ}}+\\sin{96^{\\circ}}}{\\cos{96^{\\circ}}-\\sin{96^{\\circ}}}</math>.",
    "solution": "<math>\\dfrac{\\cos{96^{\\circ}}+\\sin{96^{\\circ}}}{\\cos{96^{\\circ}}-\\sin{96^{\\circ}}} =</math> <math>\\dfrac{\\sin{186^{\\circ}}+\\sin{96^{\\circ}}}{\\sin{186^{\\circ}}-\\sin{96^{\\circ}}} =</math> <math>\\dfrac{\\sin{(141^{\\circ}+45^{\\circ})}+\\sin{(141^{\\circ}-45^{\\circ})}}{\\sin{(141^{\\circ}+45^{\\circ})}-\\sin{(141^{\\circ}-45^{\\circ})}} =</math> <math>\\dfrac{2\\sin{141^{\\circ}}\\cos{45^{\\circ}}}{2\\cos{141^{\\circ}}\\sin{45^{\\circ}}} = \\tan{141^{\\circ}}</math>. \n\nThe period of the [[Trigonometry#Tangent|tangent]] function is <math>180^\\circ</math>, and the tangent function is [[one-to-one]] over each period of its domain. \n\nThus, <math>19x \\equiv 141 \\pmod{180}</math>. \n\nSince <math>19^2 \\equiv 361 \\equiv 1 \\pmod{180}</math>, multiplying both sides by <math>19</math> yields <math>x \\equiv 141 \\cdot 19 \\equiv (140+1)(18+1) \\equiv 0+140+18+1 \\equiv 159 \\pmod{180}</math>. \n\nTherefore, the smallest positive solution is <math>x = \\boxed{159}</math>."
  },
  {
    "year": 1996,
    "variant": "I",
    "problem_number": 11,
    "latex": "Let <math>\\mathrm {P}</math> be the product of the [[root]]s of <math>z^6+z^4+z^3+z^2+1=0</math> that have a positive [[imaginary]] part, and suppose that <math>\\mathrm {P}=r(\\cos{\\theta^{\\circ}}+i\\sin{\\theta^{\\circ}})</math>, where <math>0<r</math> and <math>0\\leq \\theta <360</math>. Find <math>\\theta</math>.",
    "solution": "<cmath>\\begin{eqnarray*}\n0 &=& z^6 - z + z^4 + z^3 + z^2 + z + 1 = z(z^5 - 1) + \\frac{z^5-1}{z-1}\\\\\n0 &=& \\frac{(z^5 - 1)(z(z-1)+1)}{z-1} = \\frac{(z^2-z+1)(z^5-1)}{z-1}\n\\end{eqnarray*}</cmath>\n\n\nThus <math>z^5 = 1, z \\neq 1 \\Longrightarrow z = \\mathrm{cis}\\ 72, 144, 216, 288</math>,\n\nor <math>z^2 - z + 1 = 0 \\Longrightarrow z = \\frac{1 \\pm \\sqrt{-3}}{2} = \\mathrm{cis}\\ 60, 300</math> \n\n(see [[cis]]).\n\nDiscarding the roots with negative imaginary parts (leaving us with <math>\\mathrm{cis} \\theta,\\ 0 < \\theta < 180</math>), we are left with <math>\\mathrm{cis}\\ 60, 72, 144</math>; their product is <math>P = \\mathrm{cis} (60 + 72 + 144) = \\mathrm{cis} \\boxed{276}</math>."
  },
  {
    "year": 1996,
    "variant": "I",
    "problem_number": 12,
    "latex": "For each [[permutation]] <math>a_1,a_2,a_3,\\cdots,a_{10}</math> of the integers <math>1,2,3,\\cdots,10</math>, form the sum\n\n<cmath>|a_1-a_2|+|a_3-a_4|+|a_5-a_6|+|a_7-a_8|+|a_9-a_{10}|.</cmath>\n\nThe [[average (Arithmetic)|average]] value of all such sums can be written in the form <math>\\dfrac{p}{q}</math>, where <math>p</math> and <math>q</math> are relatively prime positive integers. Find <math>p+q</math>.\n\n__TOC__",
    "solution": "=== Solution 1 ===\nBecause of symmetry, we may find all the possible values for <math>|a_n - a_{n - 1}|</math> and multiply by the number of times this value appears. Each occurs <math>5 \\cdot 8!</math>, because if you fix <math>a_n</math> and <math>a_{n + 1}</math> there are still <math>8!</math> spots for the others and you can do this <math>5</math> times because there are <math>5</math> places <math>a_n</math> and <math>a_{n + 1}</math> can be.\n\nTo find all possible values for <math>|a_n - a_{n - 1}|</math> we have to compute\n<cmath>\\begin{eqnarray*}\n|1 - 10| + |1 - 9| + \\ldots + |1 - 2|\\\\\n+ |2 - 10| + \\ldots + |2 - 3| + |2 - 1|\\\\\n+ \\ldots\\\\\n+ |10 - 9|\n\\end{eqnarray*}</cmath>\n\nThis is equivalent to\n\n<cmath>2\\sum\\limits_{k = 1}^{9}\\sum\\limits_{j = 1}^{k}j = 330</cmath>\n\nThe total number of permutations is <math>10!</math>, so the average value is <math>\\frac {330 \\cdot  8!  \\cdot  5}{10!} = \\frac {55}{3}</math>, and <math>m+n = \\boxed{058}</math>.\n\nNote from SuperJJ: Another way to think about this is that the total sum is 330. Because you have a total of <math>10 \\cdot 9</math> possible \"pairs\" or \"differences\", the average difference is <math>\\frac{330}{90} = \\frac{11}{3}</math>. Because the question asks for the expected value of the sum of <math>5</math> of these pairs / differences, our answer is just <math>\\frac{11}{3} \\cdot 5 = {\\frac{55}{3}}</math>.\n\n=== Solution 2 ===\n[[Without loss of generality]], let <math>a_1 > a_2;\\, a_3 > a_4;\\, \\ldots ;\\, a_9 > a_{10}</math>. We may do this because all sums obtained from these paired sequences are also obtained in another <math>2^5-1</math> ways by permuting the adjacent terms <math>\\{a_1,a_2\\},\\{a_3,a_4\\}, \\cdots , \\{a_9, a_{10}\\}</math>, and thus are canceled when the average is taken. \n\nSo now we only have to form the sum <math>S= (a_1 + a_3 + a_5 + a_7 + a_9) - (a_2 + a_4 + a_6 + a_8 + a_{10})</math>. Due to the symmetry of this situation, we only need to compute the [[expected value]] of the result. <math>10</math> must always be the greatest number in its pair; <math>9</math> will be the greater number in its pair <math>\\frac{8}{9}</math>\nof the time and the lesser number <math>\\frac 19</math> of the time; <math>8</math> will be the greater number in its pair <math>\\frac 79</math> of the time and the lesser <math>\\frac 29</math> of the time; and so forth. Each number either adds or subtracts from the sum depending upon whether it is one of the five greater or five lesser numbers in the pairs, respectively. Thus\n\n<cmath>\\begin{align*}\n\\overline{S} &= 10 + \\left(\\frac{8}{9} \\cdot 9\\right) - \\left(\\frac{1}{9} \\cdot 9\\right) + \\left(\\frac{7}{9} \\cdot 8\\right) - \\left(\\frac 29 \\cdot 8\\right) + \\cdots + \\left(\\frac{1}{9} \\cdot 2\\right) - \\left(\\frac{8}{9} \\cdot 2\\right) - 1 \\\\\n&= \\frac{9 \\cdot 10 + 7 \\cdot 9 + 5 \\cdot 8 + 3 \\cdot 7 + 1 \\cdot 6 - 1 \\cdot 5 - 3 \\cdot 4 - 5 \\cdot 3 - 7 \\cdot 2 - 9 \\cdot 1}{9} \\\\\n&= \\frac{55}{3}\n\\end{align*}</cmath>\n\nAnd the answer is <math>m+n = \\boxed{058}</math>.\n\n===Solution 3 ===\nSimilar to Solution 1, we can find the average value of <math>|a_2 - a_1|</math>, and multiply this by 5 due to symmetry.  And again due to symmetry, we can arbitrarily choose <math>a_2 > a_1</math>.  Thus there are <math>\\binom{10}{2} = 45</math> ways to pick the two values of <math>a_2</math> and <math>a_1</math> from the set <math>\\{1, 2, 3, 4, 5, 6, 7, 8, 9, 10\\}</math> such that <math>a_2 > a_1</math>.  First fix <math>a_2 = 10</math>, and vary <math>a_1</math> from <math>1</math> to <math>9</math>.  Then fix <math>a_2 = 9</math>, and vary <math>a_1</math> from <math>1</math> to <math>8</math>.  Continue, and you find that the sum of these <math>45</math> ways to pick <math>|a_2 - a_1|</math> is:\n\n<math>\\sum\\limits_{k = 1}^{9}\\sum\\limits_{j = 1}^{k}j = 45+36+28+21+15+10+6+3+1 = 165</math>.  \n\nThus, each term contributes on average <math>\\frac{165}{45}</math>, and the sum will be five times this, or <math>\\frac{165}{9} = \\frac{55}{3}</math>.\n\nThe final answer is <math>p+q = \\boxed{058}</math>.\n\n===Solution 4(Expected Value)===\nWe use expected value of one of the sums, say <math>|a_2 - a_1|</math>, since all five are similar, so the average or expected value of the sum is just 5 times the expected value of one of them.\n\nTo pick two random expected numbers from 1 to 10, we use a well known expected value trick by tying the two ends 1 and 10 with an extra number 0.* This gives 11 spaces, and we distribute 3 gaps evenly to choose our two numbers. We get <math>\\frac{11}{3}</math> and <math>\\frac{22}{3}</math> giving an absolute difference of <math>\\frac{11}{3}</math>. Therefore, the average/expected value of the sum of the five would be <math>\\frac{55}{3}</math>. This gives <math>55+3=\\boxed{058}</math>.\n\n*This is like a bendable stick that has equally spaced marks \"end-1-2-3-4-5-6-7-8-9-10-end\", and the ends are bent together giving a circle with 11 equally spaced marks(the ends produce 1 mark together)."
  },
  {
    "year": 1996,
    "variant": "I",
    "problem_number": 13,
    "latex": "In [[triangle]] <math>ABC</math>, <math>AB=\\sqrt{30}</math>, <math>AC=\\sqrt{6}</math>, and <math>BC=\\sqrt{15}</math>. There is a point <math>D</math> for which <math>\\overline{AD}</math> [[bisect]]s <math>\\overline{BC}</math>, and <math>\\angle ADB</math> is a right angle. The ratio <math>\\frac{[ADB]}{[ABC]}</math> can be written in the form <math>\\dfrac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "<center><asy>\npointpen = black; pathpen = black + linewidth(0.7);\npair B=(0,0), C=(15^.5, 0), A=IP(CR(B,30^.5),CR(C,6^.5)), E=(B+C)/2, D=foot(B,A,E);\nD(MP(\"A\",A)--MP(\"B\",B,SW)--MP(\"C\",C)--A--MP(\"D\",D)--B); D(MP(\"E\",E)); \nMP(\"\\sqrt{30}\",(A+B)/2,NW); MP(\"\\sqrt{6}\",(A+C)/2,SE); MP(\"\\frac{\\sqrt{15}}2\",(E+C)/2); D(rightanglemark(B,D,A));\n</asy></center>\nLet <math>E</math> be the midpoint of <math>\\overline{BC}</math>. Since <math>BE = EC</math>, then <math>\\triangle ABE</math> and <math>\\triangle AEC</math> share the same height and have equal bases, and thus have the same area. Similarly, <math>\\triangle BDE</math> and <math>BAE</math> share the same height, and have bases in the ratio <math>DE : AE</math>, so <math>\\frac{[BDE]}{[BAE]} = \\frac{DE}{AE}</math> (see [[area ratios]]). Now,\n\n<center><math>\\dfrac{[ADB]}{[ABC]} = \\frac{[ABE] + [BDE]}{2[ABE]} = \\frac{1}{2} + \\frac{DE}{2AE}.</math></center>\n\nBy [[Stewart's Theorem]], <math>AE = \\frac{\\sqrt{2(AB^2 + AC^2) - BC^2}}2 = \\frac{\\sqrt {57}}{2}</math>, and by the [[Pythagorean Theorem]] on <math>\\triangle ABD, \\triangle EBD</math>,\n\n<cmath>\\begin{align*}\nBD^2 + \\left(DE + \\frac {\\sqrt{57}}2\\right)^2 &= 30 \\\\\nBD^2 + DE^2 &= \\frac{15}{4} \\\\\n\\end{align*}</cmath>\n\nSubtracting the two equations yields <math>DE\\sqrt{57} + \\frac{57}{4} = \\frac{105}{4} \\Longrightarrow DE = \\frac{12}{\\sqrt{57}}</math>. Then <math>\\frac mn = \\frac{1}{2} + \\frac{DE}{2AE} = \\frac{1}{2} + \\frac{\\frac{12}{\\sqrt{57}}}{2 \\cdot \\frac{\\sqrt{57}}{2}} = \\frac{27}{38}</math>, and <math>m+n = \\boxed{065}</math>."
  },
  {
    "year": 1996,
    "variant": "I",
    "problem_number": 14,
    "latex": "A <math>150\\times 324\\times 375</math> [[rectangle|rectangular]] [[solid]] is made by gluing together <math>1\\times 1\\times 1</math> cubes. An internal [[diagonal]] of this solid passes through the interiors of how many of the <math>1\\times 1\\times 1</math> [[cube (geometry) | cube]]s?",
    "solution": "=== Solution 1 ===\nPlace one corner of the solid at <math>(0,0,0)</math> and let <math>(a,b,c)</math> be the general coordinates of the diagonally opposite corner of the rectangle, where <math>a, b, c \\in \\mathbb{Z_{+}}</math>.\n\nWe consider the [[vector]] equation of the diagonal segment represented by:\n<math>(x, y, z) =m (a, b, c)</math>, where <math>m \\in \\mathbb{R}, 0 < m \\le 1</math>.\n\nConsider a point on the diagonal with coordinates <math>(ma, mb, mc)</math>. We have 3 key observations as this point moves from <math>(0,0,0)</math> towards <math>(a,b,c)</math>:\n\n# When exactly one of <math>ma</math>, <math>mb</math>, <math>mc</math> becomes a positive integer, the point crosses one of the [[face]]s of a <math>1 \\times 1 \\times 1</math> cube from the outside to the inside of the cube.\n\n# When exactly two of <math>ma</math>, <math>mb</math>, <math>mc</math> become positive integers, the point enters a new cube through one of the edges of the cube from the outside to the inside of the cube.\n\n# When all three <math>ma</math>, <math>mb</math>, <math>mc</math> become positive integers, the point enters a cube through one of its vertices from the outside to the inside of the cube.\n\n\nThe number of cubes the diagonal passes is equal to the number of points on the diagonal that has one or more positive integers as coordinates.\n\nIf we slice the solid up by the <math>x</math>-planes defined by <math>x=1,2,3,4, \\ldots, a</math>, the diagonal will cut these <math>x</math>-planes exactly <math>a</math> times (plane of <math>x=0</math> is not considered since <math>m \\ne 0</math>). Similar arguments for slices along <math>y</math>-planes and <math>z</math>-planes give diagonal cuts of <math>b</math>, and <math>c</math> times respectively. The total cuts by the diagonal is therefore <math>a+b+c</math>, if we can ensure that no more than <math>1</math> positive integer is present in the x, y, or z coordinate in all points <math>(ma,mb,mc)</math> on the diagonal. Note that point <math>(a,b,c)</math> is already one such exception.\n\nBut for each diagonal point <math>(ma,mb,mc)</math> with 2 (or more) [[positive]] [[integer]]s occurring at the same time, <math>a+b+c</math> counts the number of cube passes as <math>2</math> instead of <math>1</math> for each such point.  There are <math>\\gcd(a,b)+\\gcd(b,c)+\\gcd(c,a)</math> points in such over-counting. We therefore subtract one time such over-counting from <math>a+b+c</math>.\n\nAnd for each diagonal point <math>(ma,mb,mc)</math> with exactly <math>3</math> integers occurring at the same time, <math>a+b+c</math> counts the number of cube passes as <math>3</math> instead of <math>1</math>; ie <math>a+b+c</math> over-counts each of such points by <math>2</math>. But since <math>\\gcd(a,b)+\\gcd(b,c)+\\gcd(c,a)</math> already subtracted three times for the case of <math>3</math> integers occurring at the same time (since there are <math>3</math> of these gcd terms that represent all combinations of 3 edges of a cube meeting at a vertex), we  have the final count for each such point as <math>1 = 3-3+k \\Rightarrow k=1</math>, where <math>k</math> is our correction term. That is, we need to add <math>k=1</math> time <math>\\gcd(a,b,c)</math> back to account for the case of 3 simultaneous integers.\n\nTherefore, the total diagonal cube passes is:\n<math>D = a+b+c-\\left[ \\gcd(a,b)+\\gcd(b,c)+\\gcd(c,a) \\right]+\\gcd(a,b,c)</math>.\n\nFor <math>(a,b,c) = (150, 324, 375)</math>, we have:\n<math>\\gcd(150,324)=6</math>, \n<math>\\gcd(324,375)=3</math>, \n<math>\\gcd(150,375)=75</math>, \n<math>\\gcd(150,324,375)=3</math>.\n\nTherefore\n<math>D = 150+324+375-(6+3+75)+3 = \\boxed{768}</math>.\n\n=== Solution 2 ===\nConsider a point travelling across the internal diagonal, and let the internal diagonal have a length of <math>d</math>. The point enters a new unit cube in the <math>x,y,z</math> dimensions at multiples of <math>\\frac{d}{150}, \\frac{d}{324}, \\frac{d}{375}</math> respectively. We proceed by using PIE.\n\nThe point enters a new cube in the <math>x</math> dimension <math>150</math> times, in the <math>y</math> dimension <math>324</math> times and in the <math>z</math> dimension, <math>375</math> times.\n\nThe point enters a new cube in the <math>x</math> and <math>y</math> dimensions whenever a multiple of <math>\\frac{d}{150}</math> equals a multiple of <math>\\frac{d}{324}</math>. This occurs <math>\\gcd(150, 324)</math> times. Similarly, a point enters a new cube in the <math>y,z</math> dimensions <math>\\gcd(324, 375)</math> times and a point enters a new cube in the <math>z,x</math> dimensions <math>\\gcd(375, 150)</math> times.\n\nThe point enters a new cube in the <math>x,y</math> and <math>z</math> dimensions whenever some multiples of <math>\\frac{d}{150}, \\frac{d}{324}, \\frac{d}{375}</math> are equal. This occurs <math>\\gcd(150, 324, 375)</math> times.\n\nThe total number of unit cubes entered is then \n<math>150+324+375-[\\gcd(150, 324)+\\gcd(324, 375)+\\gcd(375, 150)] + \\gcd(150, 324, 375) = \\boxed{768}</math>"
  },
  {
    "year": 1996,
    "variant": "I",
    "problem_number": 15,
    "latex": "In [[parallelogram]] <math>ABCD</math>, let <math>O</math> be the intersection of [[diagonal]]s <math>\\overline{AC}</math> and <math>\\overline{BD}</math>. Angles <math>CAB</math> and <math>DBC</math> are each twice as large as angle <math>DBA</math>, and angle <math>ACB</math> is <math>r</math> times as large as angle <math>AOB</math>. Find <math>\\lfloor 1000r \\rfloor</math>.\n\n__TOC__",
    "solution": "=== Solution 1 (trigonometry) ===\n<center><asy>size(180); pathpen = black+linewidth(0.7);\npair B=(0,0), A=expi(pi/4), C=IP(A--A + 2*expi(17*pi/12), B--(3,0)), D=A+C, O=IP(A--C,B--D); \nD(MP(\"A\",A,N)--MP(\"B\",B)--MP(\"C\",C)--MP(\"D\",D,N)--cycle); D(B--D); D(A--C); D(MP(\"O\",O,SE));\nD(anglemark(D,B,A,4));D(anglemark(B,A,C,3.5));D(anglemark(B,A,C,4.5));D(anglemark(C,B,D,3.5));D(anglemark(C,B,D,4.5)); \n</asy></center>\n\nLet <math>\\theta = \\angle DBA</math>. Then <math>\\angle CAB = \\angle DBC = 2\\theta</math>, <math>\\angle AOB = 180 - 3\\theta</math>, and <math>\\angle ACB = 180 - 5\\theta</math>. Since <math>ABCD</math> is a parallelogram, it follows that <math>OA = OC</math>. By the [[Law of Sines]] on <math>\\triangle ABO,\\, \\triangle BCO</math>,\n\n<center><math>\\frac{\\sin \\angle CBO}{OC} = \\frac{\\sin \\angle ACB}{OB} \\quad \\text{and} \\quad \\frac{\\sin \\angle DBA}{OC} = \\frac{\\sin \\angle BAC}{OB}.</math></center>\n\nDividing the two equalities yields \n\n<cmath>\\frac{\\sin 2\\theta}{\\sin \\theta} = \\frac{\\sin (180 - 5\\theta)}{\\sin 2\\theta} \\Longrightarrow \\sin^2 2\\theta = \\sin 5\\theta \\sin \\theta.</cmath>\n\nPythagorean and product-to-sum identities yield\n\n<cmath>1 - \\cos^2 2 \\theta = \\frac{\\cos 4\\theta - \\cos 6 \\theta}{2},</cmath>\n\nand the double and triple angle (<math>\\cos 3x = 4\\cos^3 x - 3\\cos x</math>) formulas further simplify this to\n\n<cmath>4\\cos^3 2\\theta - 4\\cos^2 2\\theta - 3\\cos 2\\theta + 3 = (4\\cos^2 2\\theta - 3)(\\cos 2\\theta - 1) = 0</cmath> \n\nThe only value of <math>\\theta</math> that fits in this context comes from <math>4 \\cos^2 2\\theta - 3 = 0 \\Longrightarrow \\cos 2\\theta = \\frac{\\sqrt{3}}{2} \\Longrightarrow \\theta = 15^{\\circ}</math>. The answer is <math>\\lfloor 1000r \\rfloor = \\left\\lfloor 1000 \\cdot \\frac{180 - 5\\theta}{180 - 3\\theta} \\right\\rfloor = \\left \\lfloor \\frac{7000}{9} \\right \\rfloor = \\boxed{777}</math>.\n\n=== Solution 2 (trigonometry) ===\nDefine <math>\\theta</math> as above. Since <math>\\angle CAB = \\angle CBO</math>, it follows that <math>\\triangle COB \\sim \\triangle CBA</math>, and so <math>\\frac{CO}{BC} = \\frac{BC}{AC} \\Longrightarrow BC^2 = AC \\cdot CO = 2CO^2 \\Longrightarrow BC = CO\\sqrt{2}</math>. The [[Law of Sines]] on <math>\\triangle BOC</math> yields that \n\n<cmath>\\frac{BC}{CO} = \\frac{\\sin (180-3\\theta)}{\\sin 2\\theta} = \\frac{\\sin 3\\theta}{\\sin 2\\theta} = \\sqrt{2}</cmath>\n\nExpanding using the sine double and triple angle formulas, we have \n\n<cmath>2\\sqrt {2} \\sin \\theta \\cos \\theta = \\sin\\theta( - 4\\sin ^2 \\theta + 3) \\Longrightarrow \\sin \\theta\\left(4\\cos^2\\theta - 2\\sqrt {2} \\cos \\theta - 1\\right) = 0.</cmath>\n\nBy the [[quadratic formula]], we have <math>\\cos \\theta = \\frac {2\\sqrt {2} \\pm \\sqrt {8 + 4 \\cdot 1 \\cdot 4}}{8} = \\frac {\\sqrt {6} \\pm \\sqrt {2}}{4}</math>, so <math>\\theta = 15^{\\circ}</math> (as the other roots are too large to make sense in context). The answer follows as above.\n\n=== Solution 3 === <!-- I would put this solution first, but needs a bit of formatting for clarity - azjps -->\nWe will focus on <math>\\triangle ABC</math>. Let <math>\\angle ABO = x</math>, so <math>\\angle BAO = \\angle OBC = 2x</math>. Draw the [[perpendicular]] from <math>C</math> intersecting <math>AB</math> at <math>H</math>. [[Without loss of generality]], let <math>AO = CO = 1</math>. Then <math>HO = 1</math>, since <math>O</math> is the [[circumcenter]] of <math>\\triangle AHC</math>. Then <math>\\angle OHA = 2x</math>. \n\nBy the Exterior Angle Theorem, <math>\\angle COB = 3x</math> and <math>\\angle COH = 4x</math>. That implies that <math>\\angle HOB = x</math>. That makes <math>HO = HB = 1</math>. Then since by AA (<math>\\angle HBC = \\angle HOC = 3x</math> and reflexive on <math>\\angle OCB</math>), <math>\\triangle OCB \\sim \\triangle BCA</math>.\n\n<center><math>\\frac {CO}{BC} = \\frac {BC}{AC} \\implies 2 = BC^2 = \\implies BC = \\sqrt {2}. </math></center>\n\nThen by the [[Pythagorean Theorem]], <math>1^2 + HC^2 = \\left(\\sqrt {2}\\right)^2\\implies HC = 1</math>. That makes <math>\\triangle HOC</math> equilateral. Then <math>\\angle HOC = 4x = 60 \\implies x = 15</math>. The answer follows as above."
  },
  {
    "year": 1997,
    "variant": "I",
    "problem_number": 1,
    "latex": "How many of the integers between 1 and 1000, inclusive, can be expressed as the [[difference of squares|difference of the squares]] of two nonnegative integers?",
    "solution": "Notice that all odd numbers can be obtained by using <math>(a+1)^2-a^2=2a+1,</math> where <math>a</math> is a nonnegative integer. All multiples of <math>4</math> can be obtained by using <math>(b+1)^2-(b-1)^2 = 4b</math>, where <math>b</math> is a positive integer. Numbers congruent to <math>2 \\pmod 4</math> cannot be obtained because squares are <math> 0, 1 \\pmod 4.</math> Thus, the answer is <math>500+250 = \\boxed{750}.</math>"
  },
  {
    "year": 1997,
    "variant": "I",
    "problem_number": 2,
    "latex": "The nine horizontal and nine vertical lines on an <math>8\\times8</math> checkerboard form <math>r</math> [[rectangle]]s, of which <math>s</math> are [[square]]s.  The number <math>s/r</math> can be written in the form <math>m/n,</math> where <math>m</math> and <math>n</math> are relatively prime positive integers.  Find <math>m + n.</math>",
    "solution": "To determine the two horizontal sides of a rectangle, we have to pick two of the horizontal lines of the checkerboard, or <math>{9\\choose 2} = 36</math>. Similarly, there are <math>{9\\choose 2}</math> ways to pick the vertical sides, giving us <math>r = 1296</math> rectangles.\n\nFor <math>s</math>, there are <math>8^2</math> [[unit square]]s, <math>7^2</math> of the <math>2\\times2</math> squares, and so on until <math>1^2</math> of the <math>8\\times 8</math> squares. Using the sum of squares formula, that gives us <math>s=1^2+2^2+\\cdots+8^2=\\dfrac{(8)(8+1)(2\\cdot8+1)}{6}=12*17=204</math>.\n\nThus <math>\\frac sr = \\dfrac{204}{1296}=\\dfrac{17}{108}</math>, and <math>m+n=\\boxed{125}</math>."
  },
  {
    "year": 1997,
    "variant": "I",
    "problem_number": 3,
    "latex": "Sarah intended to multiply a two-digit number and a three-digit number, but she left out the multiplication sign and simply placed the two-digit number to the left of the three-digit number, thereby forming a five-digit number.  This number is exactly nine times the product Sarah should have obtained.  What is the sum of the two-digit number and the three-digit number?",
    "solution": "Let <math>x</math> be the two-digit number, <math>y</math> be the three-digit number. Putting together the given, we have <math>1000x+y=9xy \\Longrightarrow 9xy-1000x-y=0</math>. Using [[Simon's Favorite Factoring Trick|SFFT]], this factorizes to <math>(9x-1)\\left(y-\\dfrac{1000}{9}\\right)=\\dfrac{1000}{9}</math>, and <math>(9x-1)(9y-1000)=1000</math>.\n\nSince <math>89 < 9x-1 < 890</math>, we can use trial and error on factors of 1000. If <math>9x - 1 = 100</math>, we get a non-integer. If <math>9x - 1 = 125</math>, we get <math>x=14</math> and <math>y=112</math>, which satisifies the conditions. Hence the answer is <math>112 + 14 = \\boxed{126}</math>."
  },
  {
    "year": 1997,
    "variant": "I",
    "problem_number": 4,
    "latex": "[[Circle]]s of [[radii]] <math>5, 5, 8,</math> and <math>\\frac mn</math> are mutually externally tangent, where <math>m</math> and <math>n</math> are relatively prime positive integers.  Find <math>m + n.</math>",
    "solution": "[[Image:1997_AIME-4.png]]\n\nIf (in the diagram above) we draw the line going through the centers of the circles with radii <math>8</math> and <math>\\frac mn = r</math>, that line is the perpendicular bisector of the segment connecting the centers of the two circles with radii <math>5</math>. Then we form two [[right triangles]], of lengths <math>5, x, 5+r</math> and <math>5, 8+r+x, 13</math>, wher <math>x</math> is the distance between the center of the circle in question and the segment connecting the centers of the two circles of radii <math>5</math>. By the [[Pythagorean Theorem]], we now have two equations with two unknowns:\n\n<cmath>\\begin{eqnarray*}\n5^2 + x^2 &=& (5+r)^2 \\\\\nx &=& \\sqrt{10r + r^2} \\\\\n&& \\\\\n(8 + r + \\sqrt{10r+r^2})^2 + 5^2 &=& 13^2\\\\\n8 + r + \\sqrt{10r+r^2} &=& 12\\\\\n\\sqrt{10r+r^2}&=& 4-r\\\\\n10r+r^2 &=& 16 - 8r + r^2\\\\\nr &=& \\frac{8}{9}\n\\end{eqnarray*}</cmath>\n\nSo <math>m+n = \\boxed{17}</math>.\n\n\nNOTE: It can be seen that there is no apparent need to use the variable x as a 5,12,13 right triangle has been formed."
  },
  {
    "year": 1997,
    "variant": "I",
    "problem_number": 5,
    "latex": "The number <math>r</math> can be expressed as a four-place [[decimal]] <math>0.abcd,</math> where <math>a, b, c,</math> and <math>d</math> represent [[digit]]s, any of which could be zero.  It is desired to approximate <math>r</math> by a fraction whose numerator is 1 or 2 and whose denominator is an integer. The closest such fraction to <math>r</math> is <math>\\frac 27.</math>  What is the number of possible values for <math>r</math>?",
    "solution": "The nearest fractions to <math>\\frac 27</math> with numerator <math>1</math> are <math>\\frac 13, \\frac 14</math>; and with numerator <math>2</math> are <math>\\frac 26, \\frac 28 = \\frac 13, \\frac 14</math> anyway. For <math>\\frac 27</math> to be the best approximation for <math>r</math>, the decimal must be closer to <math>\\frac 27 \\approx .28571</math> than to <math>\\frac 13 \\approx .33333</math> or <math>\\frac 14 \\approx .25</math>.\n\nThus <math>r</math> can range between <math>\\frac{\\frac 14 + \\frac{2}{7}}{2} \\approx .267857</math> and <math>\\frac{\\frac 13 + \\frac{2}{7}}{2} \\approx .309523</math>. At <math>r = .2678, .3096</math>, it becomes closer to the other fractions, so <math>.2679 \\le r \\le .3095</math> and the number of values of <math>r</math> is <math>3095 - 2679 + 1 = \\boxed{417}</math>."
  },
  {
    "year": 1997,
    "variant": "I",
    "problem_number": 6,
    "latex": "[[Point]] <math>B</math> is in the exterior of the [[regular polygon|regular]] <math>n</math>-sided polygon <math>A_1A_2\\cdots A_n</math>, and <math>A_1A_2B</math> is an [[equilateral triangle]]. What is the largest value of <math>n</math> for which <math>A_1</math>, <math>A_n</math>, and <math>B</math> are consecutive vertices of a regular polygon?",
    "solution": "[[Image:1997_AIME-6.png]]\n\nLet the other regular polygon have <math>m</math> sides. Using the interior angle of a regular polygon formula, we have <math>\\angle A_2A_1A_n = \\frac{(n-2)180}{n}</math>, <math>\\angle A_nA_1B = \\frac{(m-2)180}{m}</math>, and <math>\\angle A_2A_1B = 60^{\\circ}</math>. Since those three angles add up to <math>360^{\\circ}</math>,\n\n<cmath>\\begin{eqnarray*}\n\\frac{(n-2)180}{n} + \\frac{(m-2)180}{m} &=& 300\\\\\nm(n-2)180 + n(m-2)180 &=& 300mn\\\\\n360mn - 360m - 360n &=& 300mn\\\\\nmn - 6m - 6n &=& 0\n\\end{eqnarray*}</cmath>\nUsing [[Simon's Favorite Factoring Trick|SFFT]], \n\n<cmath>\\begin{eqnarray*}\n(m-6)(n-6) &=& 36\n\\end{eqnarray*}</cmath>\nClearly <math>n</math> is maximized when <math>m = 7, n = \\boxed{042}</math>."
  },
  {
    "year": 1997,
    "variant": "I",
    "problem_number": 7,
    "latex": "A car travels due east at <math>\\frac 23</math> mile per minute on a long, straight road. At the same time, a circular storm, whose radius is <math>51</math> miles, moves southeast at <math>\\frac 12\\sqrt{2}</math> mile per minute. At time <math>t=0</math>, the center of the storm is <math>110</math> miles due north of the car. At time <math>t=t_1</math> minutes, the car enters the storm circle, and at time <math>t=t_2</math> minutes, the car leaves the storm circle. Find <math>\\frac 12(t_1+t_2)</math>.",
    "solution": "We set up a coordinate system, with the starting point of the car at the [[origin]]. At time <math>t</math>, the car is at <math>\\left(\\frac 23t,0\\right)</math> and the center of the storm is at <math>\\left(\\frac{t}{2}, 110 - \\frac{t}{2}\\right)</math>. Using the distance formula, \n\n<cmath>\\begin{eqnarray*}\n\\sqrt{\\left(\\frac{2}{3}t - \\frac 12t\\right)^2 + \\left(110-\\frac{t}{2}\\right)^2} &\\le& 51\\\\\n\\frac{t^2}{36} + \\frac{t^2}{4} - 110t + 110^2 &\\le& 51^2\\\\\n\\frac{5}{18}t^2 - 110t + 110^2 - 51^2 &\\le& 0\\\\\n\\end{eqnarray*}</cmath>\n\nNoting that <math>\\frac 12 \\left(t_1+t_2 \\right)</math> is at the maximum point of the parabola, we can use <math>-\\frac{b}{2a} = \\frac{110}{2 \\cdot \\frac{5}{18}} = \\boxed{198}</math>."
  },
  {
    "year": 1997,
    "variant": "I",
    "problem_number": 8,
    "latex": "How many different <math>4\\times 4</math> arrays whose entries are all 1's and -1's have the property that the sum of the entries in each row is 0 and the sum of the entries in each column is 0?",
    "solution": ":''For more detailed explanations, see related [[2007 AIME I Problems/Problem 10|problem (AIME I 2007, 10)]].''\nThe problem is asking us for all configurations of <math>4\\times 4</math> grids with 2 1's and 2 -1's in each row and column. We do casework upon the first two columns:\n\n*The first two columns share no two numbers in the same row. There are <math>{4\\choose2} = 6</math> ways to pick two 1's in the first column, and the second column is determined. For the third and fourth columns, no two numbers can be in the same row (to make the sum of each row 0), so again there are <math>{4\\choose 2}</math> ways. This gives <math>6^2 = 36</math>.\n*The first two columns share one number in the same row. There are <math>{4\\choose 1} = 4</math> ways to pick the position of the shared 1, then <math>{3\\choose 2} = 3</math> ways to pick the locations for the next two 1s, and then <math>2</math> ways to orient the 1s. For the third and fourth columns, the two rows with shared 1s or -1s are fixed, so the only things that can be changed is the orientation of the mixed rows, in <math>2</math> ways. This gives <math>4 \\cdot 3 \\cdot 2 \\cdot 2 = 48</math>.\n*The first two columns share two numbers in the same row. There are <math>{4\\choose 2} = 6</math> ways to pick the position of the shared 1s. Everything is then fixed.\n\nAdding these cases up, we get <math>36 + 48 + 6 = \\boxed{090}</math>."
  },
  {
    "year": 1997,
    "variant": "I",
    "problem_number": 9,
    "latex": "Given a [[nonnegative]] real number <math>x</math>, let <math>\\langle x\\rangle</math> denote the fractional part of <math>x</math>; that is, <math>\\langle x\\rangle=x-\\lfloor x\\rfloor</math>, where <math>\\lfloor x\\rfloor</math> denotes the [[greatest integer]] less than or equal to <math>x</math>. Suppose that <math>a</math> is positive, <math>\\langle a^{-1}\\rangle=\\langle a^2\\rangle</math>, and <math>2<a^2<3</math>. Find the value of <math>a^{12}-144a^{-1}</math>.",
    "solution": "Looking at the properties of the number, it is immediately guess-able that <math>a = \\phi = \\frac{1+\\sqrt{5}}2</math> (the [[phi|golden ratio]]) is the answer. The following is the way to derive that:\n\nSince <math>\\sqrt{2} < a < \\sqrt{3}</math>, <math>0 < \\frac{1}{\\sqrt{3}} < a^{-1} < \\frac{1}{\\sqrt{2}} < 1</math>. Thus <math>\\langle a^2 \\rangle = a^{-1}</math>, and it follows that <math>a^2 - 2 = a^{-1} \\Longrightarrow a^3 - 2a - 1 = 0</math>. Noting that <math>-1</math> is a root, this factors to <math>(a+1)(a^2 - a - 1) = 0</math>, so <math>a = \\frac{1 + \\sqrt{5}}{2}</math> (we discard the negative root).\n\nOur answer is <math>(a^2)^{6}-144a^{-1} = \\left(\\frac{3+\\sqrt{5}}2\\right)^6 - 144\\left(\\frac{2}{1 + \\sqrt{5}}\\right)</math>. [[Complex conjugate]]s reduce the second term to <math>-72(\\sqrt{5}-1)</math>. The first term we can expand by the [[binomial theorem]] to get <math>\\frac 1{2^6}\\left(3^6 + 6\\cdot 3^5\\sqrt{5} + 15\\cdot 3^4 \\cdot 5 + 20\\cdot 3^3 \\cdot 5\\sqrt{5} + 15 \\cdot 3^2 \\cdot 25 + 6 \\cdot 3 \\cdot 25\\sqrt{5} + 5^3\\right)</math> <math>= \\frac{1}{64}\\left(10304 + 4608\\sqrt{5}\\right) = 161 + 72\\sqrt{5}</math>. The answer is <math>161 + 72\\sqrt{5} - 72\\sqrt{5} + 72 = \\boxed{233}</math>.\n\nNote that to determine our answer, we could have also used other properties of <math>\\phi</math> like <math>\\phi^3 = 2\\phi + 1</math>."
  },
  {
    "year": 1997,
    "variant": "I",
    "problem_number": 10,
    "latex": "Every card in a deck has a picture of one shape - circle, square, or triangle, which is painted in one of the three colors - red, blue, or green. Furthermore, each color is applied in one of three shades - light, medium, or dark. The deck has 27 cards, with every shape-color-shade combination represented. A set of three cards from the deck is called complementary if all of the following statements are true:\n\ni. Either each of the three cards has a different shape or all three of the cards have the same shape.\n\nii. Either each of the three cards has a different color or all three of the cards have the same color.\n\niii. Either each of the three cards has a different shade or all three of the cards have the same shade.\n\nHow many different complementary three-card sets are there?\n\n__TOC__",
    "solution": "*'''Case 1''': All three attributes are the same. This is impossible since sets contain distinct cards.\n*'''Case 2''': Two of the three attributes are the same. There are <math>{3\\choose 2}</math> ways to pick the two attributes in question. Then there are <math>3</math> ways to pick the value of the first attribute, <math>3</math> ways to pick the value of the second attribute, and <math>1</math> way to arrange the positions of the third attribute, giving us <math>{3\\choose 2} \\cdot 3 \\cdot 3 = 27</math> ways.\n*'''Case 3''': One of the three attributes are the same. There are <math>{3\\choose 1}</math> ways to pick the one attribute in question, and then <math>3</math> ways to pick the value of that attribute. Then there are <math>3!</math> ways to arrange the positions of the next two attributes, giving us <math>{3\\choose 1} \\cdot 3 \\cdot 3! = 54</math> ways.\n*'''Case 4''': None of the three attributes are the same. We fix the order of the first attribute, and then there are <math>3!</math> ways to pick the ordering of the second attribute and <math>3!</math> ways to pick the ordering of the third attribute. This gives us <math>(3!)^2 = 36</math> ways.\n\nAdding the cases up, we get <math>27 + 54 + 36 = \\boxed{117}</math>."
  },
  {
    "year": 1997,
    "variant": "I",
    "problem_number": 11,
    "latex": "Let <math>x=\\frac{\\sum\\limits_{n=1}^{44} \\cos n^\\circ}{\\sum\\limits_{n=1}^{44} \\sin n^\\circ}</math>. What is the greatest integer that does not exceed <math>100x</math>?\n\n__TOC__",
    "solution": "Note that \n<math>\\frac{\\sum_{n=1}^{44} \\cos n}{\\sum_{n=1}^{44} \\sin n} = \\frac{\\sum_{n=1}^{44} \\cos n}{\\sum_{n=46}^{89} \\cos n} = \\frac {\\cos 1 + \\cos 2 + \\dots + \\cos 44}{\\cos 89 + \\cos 88 + \\dots + \\cos 46}</math> by the cofunction identities.(We could have also written it as <math>\\frac{\\sum_{n=1}^{44} \\cos n}{\\sum_{n=1}^{44} \\sin n} = \\frac{\\sum_{n=46}^{89} \\sin n}{\\sum_{n=1}^{44} \\sin n} = \\frac {\\sin 89 + \\sin 88 + \\dots + \\sin 46}{\\sin 1 + \\sin 2 + \\dots + \\sin 44}</math>.)\n\nNow use the sum-product formula <math>\\cos x + \\cos y = 2\\cos\\left(\\frac{x+y}{2}\\right)\\cos\\left(\\frac{x-y}{2}\\right)</math> \nWe want to pair up <math>[1, 44]</math>, <math>[2, 43]</math>, <math>[3, 42]</math>, etc. from the numerator and <math>[46, 89]</math>, <math>[47, 88]</math>, <math>[48, 87]</math> etc. from the denominator. Then we get:\n<cmath>\\frac{\\sum_{n=1}^{44} \\cos n}{\\sum_{n=1}^{44} \\sin n} = \\frac{\\sum_{n=1}^{44} \\cos n}{\\sum_{n=46}^{89} \\cos n} = \\frac{2\\cos(\\frac{45}{2})[\\cos(\\frac{43}{2})+\\cos(\\frac{41}{2})+\\dots+\\cos(\\frac{1}{2})]}{2\\cos(\\frac{135}{2})[\\cos(\\frac{43}{2})+\\cos(\\frac{41}{2})+\\dots+\\cos(\\frac{1}{2})]} \\Rightarrow \\frac{\\cos(\\frac{45}{2})}{\\cos(\\frac{135}{2})}</cmath>\n\nTo calculate this number, use the half angle formula. Since <math>\\cos\\left(\\frac{x}{2}\\right) = \\pm \\sqrt{\\frac{\\cos x + 1}{2}}</math>, then our number becomes: <cmath>\\frac{\\sqrt{\\frac{\\frac{\\sqrt{2}}{2} + 1}{2}}}{\\sqrt{\\frac{\\frac{-\\sqrt{2}}{2} + 1}{2}}}</cmath> in which we drop the negative roots (as it is clear cosine of <math>22.5</math> and <math>67.5</math> are positive). We can easily simplify this:\n\n<cmath>\\begin{eqnarray*}\n\\frac{\\sqrt{\\frac{\\frac{\\sqrt{2}}{2} + 1}{2}}}{\\sqrt{\\frac{\\frac{-\\sqrt{2}}{2} + 1}{2}}} &=& \\sqrt{\\frac{\\frac{2+\\sqrt{2}}{4}}{\\frac{2-\\sqrt{2}}{4}}} \\\\ &=& \\sqrt{\\frac{2+\\sqrt{2}}{2-\\sqrt{2}}} \\cdot \\sqrt{\\frac{2+\\sqrt{2}}{2+\\sqrt{2}}} \\\\ &=& \\sqrt{\\frac{(2+\\sqrt{2})^2}{2}} \\\\ &=& \\frac{2+\\sqrt{2}}{\\sqrt{2}} \\\\ &=& \\sqrt{2}+1\n\\end{eqnarray*}</cmath>\n\nAnd hence our answer is <math>\\lfloor 100x \\rfloor =  \\lfloor 100(1 + \\sqrt {2}) \\rfloor = \\boxed{241}</math>."
  },
  {
    "year": 1997,
    "variant": "I",
    "problem_number": 12,
    "latex": "The [[function]] <math>f</math> defined by <math>f(x)= \\frac{ax+b}{cx+d}</math>, where <math>a</math>,<math>b</math>,<math>c</math> and <math>d</math> are nonzero real numbers, has the properties <math>f(19)=19</math>, <math>f(97)=97</math> and <math>f(f(x))=x</math> for all values except <math>\\frac{-d}{c}</math>. Find the unique number that is not in the range of <math>f</math>.",
    "solution": "First, we use the fact that <math>f(f(x)) = x</math> for all <math>x</math> in the domain. Substituting the function definition, we have <math>\\frac {a\\frac {ax + b}{cx + d} + b}{c\\frac {ax + b}{cx + d} + d} = x</math>, which reduces to\n<cmath>\\frac {(a^2 + bc)x + b(a + d)}{c(a + d)x + (bc + d^2)} =\\frac {px + q}{rx + s} = x. </cmath>\nIn order for this fraction to reduce to <math>x</math>, we must have <math>q = r = 0</math> and <math>p = s\\not = 0</math>. From <math>c(a + d) = b(a + d) = 0</math>, we get <math>a = - d</math> or <math>b = c = 0</math>. The second cannot be true, since we are given that <math>a,b,c,d</math> are nonzero. This means <math>a = - d</math>, so <math>f(x) = \\frac {ax + b}{cx - a}</math>.\n\nThe only value that is not in the range of this function is <math>\\frac {a}{c}</math>. To find <math>\\frac {a}{c}</math>, we use the two values of the function given to us. We get <math>2(97)a + b = 97^2c</math> and <math>2(19)a + b = 19^2c</math>. Subtracting the second equation from the first will eliminate <math>b</math>, and this results in <math>2(97 - 19)a = (97^2 - 19^2)c</math>, so\n<cmath>\\frac {a}{c} = \\frac {(97 - 19)(97 + 19)}{2(97 - 19)} = 58 . </cmath>\n\nAlternatively, we could have found out that <math>a = -d</math> by using the fact that <math>f(f(-b/a))=-b/a</math>."
  },
  {
    "year": 1997,
    "variant": "I",
    "problem_number": 13,
    "latex": "Let <math>S</math> be the [[set]] of [[point]]s in the [[Cartesian plane]] that satisfy <center><math>\\Big|\\big||x|-2\\big|-1\\Big|+\\Big|\\big||y|-2\\big|-1\\Big|=1.</math></center> If a model of <math>S</math> were built from wire of negligible thickness, then the total length of wire required would be <math>a\\sqrt{b}</math>, where <math>a</math> and <math>b</math> are positive integers and <math>b</math> is not divisible by the square of any prime number. Find <math>a+b</math>.",
    "solution": "===Solution 1 (non-rigorous)===\nLet <math>f(x) = \\Big|\\big||x|-2\\big|-1\\Big|</math>, <math>f(x) \\ge 0</math>. Then <math>f(x) + f(y) = 1 \\Longrightarrow f(x), f(y) \\le 1 \\Longrightarrow x, y \\le 4</math>. We only have a <math>4\\times 4</math> area, so guessing points and graphing won't be too bad of an idea. Since <math>f(x) = f(-x)</math>, there's a symmetry about all four [[quadrant]]s, so just consider the first quadrant. We now gather some points:\n\n{| class=\"wikitable\" style=\"background:none;\"\n|-\n| <math>f(1) = 0</math> || <math>f(0.1) = 0.9</math>\n|-\n| <math>f(2) = 1</math> || <math>f(0.9) = 0.1</math>\n|-\n| <math>f(3) = 0</math> || <math>f(1.1) = 0.1</math>\n|-\n| <math>f(4) = 1</math> || <math>f(1.9) = 0.9</math>\n|-\n| <math>f(0.5) = 0.5</math> || <math>f(2.1) = 0.9</math>\n|-  \n| <math>f(1.5) = 0.5</math> || <math>f(2.9) = 0.1</math>\n|- \n| <math>f(2.5) = 0.5</math> || <math>f(3.1) = 0.1</math>\n|- \n| <math>f(3.5) = 0.5</math> || <math>f(3.9) = 0.9</math>\n|}\n\nWe can now graph the pairs of coordinates which add up to <math>1</math>. Just using the first column of information gives us an interesting [[lattice]] pattern:\n\n[[Image:1997_AIME-13a.png]]\n\nPlotting the remaining points and connecting lines, the graph looks like:\n\n[[Image:1997_AIME-13b.png]]\n\nCalculating the lengths is now easy; each rectangle has sides of <math>\\sqrt{2}, 3\\sqrt{2}</math>, so the answer is <math>4(\\sqrt{2} + 3\\sqrt{2}) = 16\\sqrt{2}</math>. For all four quadrants, this is <math>64\\sqrt{2}</math>, and <math>a+b=\\boxed{066}</math>.\n\n===Solution 2===\nSince <math>0 \\le \\Big|\\big||x| - 2\\big| - 1\\Big| \\le 1</math> and <math>0 \\le \\Big|\\big||y| - 2\\big| - 1\\Big| \\le 1</math><br />\n<math>- 1 \\le \\big||x| - 2\\big| - 1 \\le 1</math><br />\n<math>0 \\le \\big||x| - 2\\big| \\le 2</math><br />\n<math>- 2 \\le |x| - 2 \\le 2</math><br />\n<math>- 4 \\le x \\le 4</math><br />\nAlso <math>- 4 \\le y \\le 4</math>.\n\nDefine <math>f(a) = \\Big|\\big||a| - 2\\big| - 1\\Big|</math>.\n*If <math>0 \\le a \\le 1</math>:\n:<math>f(3 + a) = \\Big|\\big||3 + a| - 2\\big| - 1\\Big| = a</math>\n:<math>f(3 - a) = \\Big|\\big||3 - a| - 2\\big| - 1\\Big| = a</math>\n:<math>f(3 + a) = f(3 - a)</math>\n\n*If <math>0 \\le a \\le 2</math>:\n:<math>f(2 + a) = \\Big|\\big||2 + a| - 2\\big| - 1\\Big| = a - 1</math>\n:<math>f(2 - a) = \\Big|\\big||2 - a| - 2\\big| - 1\\Big| = a - 1</math>\n:<math>f(2 + a) = f(2 - a)</math>\n\n*If <math>0 \\le a \\le 4</math>:\n:<math>f(a) = \\Big|\\big||a| - 2\\big| - 1\\Big| = a - 3</math>\n:<math>f( - a) = \\Big|\\big|| - a| - 2\\big| - 1\\Big| = a - 3</math>\n:<math>f(a) = f( - a)</math>\n\n*So the graph of <math>y(x)</math> at <math>3 \\le x \\le 4</math> is symmetric to <math>y(x)</math> at <math>2 \\le x \\le 3</math> (reflected over the line x=3)\n*And the graph of <math>y(x)</math> at <math>2 \\le x \\le 4</math> is symmetric to <math>y(x)</math> at <math>0 \\le x \\le 2</math> (reflected over the line x=2)\n*And the graph of <math>y(x)</math> at <math>0 \\le x \\le 4</math> is symmetric to <math>y(x)</math> at <math>- 4 \\le x \\le 0</math> (reflected over the line x=0)\n[this is also true for horizontal reflection, with <math>3 \\le y \\le 4</math>, etc]\n\nSo it is only necessary to find the length of the function at <math>3 \\le x \\le 4</math> and <math>3 \\le y \\le 4</math>:\n<math>\\Big|\\big||x| - 2\\big| - 1\\Big| + \\Big|\\big||y| - 2\\big| - 1\\Big| = 1</math><br />\n<math>x - 3 + y - 3 = 1</math><br />\n<math>y = - x + 7</math>\n(Length = <math>\\sqrt {2}</math>)\n\nThis graph is reflected over the line y=3, the quantity of which is reflected over y=2,\n:the quantity of which is reflected over y=0,\n:the quantity of which is reflected over x=3,\n:the quantity of which is reflected over x=2,\n:the quantity of which is reflected over x=0..\n\nSo a total of <math>6</math> doublings = <math>2^6</math> = <math>64</math>, the total length = <math>64 \\cdot \\sqrt {2} = a\\sqrt {b}</math>, and <math>a + b = 64 + 2 = \\boxed{066}</math>.\n===Solution 3 (FASTEST)===\nWe make use of several consecutive substitutions. \nLet <math>||x| - 2|= x_1</math> and similarly with <math>y</math>.\nTherefore, our graph is <math>|x_1 - 1| + |y_1 - 1| = 1</math>. This is a rhombus with perimeter <math>4\\sqrt{2}</math>. Now, we make use of the following fact for a function of two variables <math>x</math> and <math>y</math>: Suppose we have <math>f(x, y) = c</math>. Then <math>f(|x|, |y|)</math> is equal to the graph of <math>f(x, y)</math> reflected across the y axis and x axis, and the reflection across the y axis across the x axis, therefore the perimeter of  of <math>f(|x|, |y|)</math> is 4 times the perimeter of <math>f(x, y)</math>. Now, we continue making substitutions at each absolute value sign (<math>|x| - 2 = x_2</math> and finally <math>x = x_3</math>, similarly for y as well. ),  noting that the constants don't matter as they just translate the graph and each absolute value sign increases the perimeter 4 times as much. Therefore, the length is <math>4^2 \\times 4\\sqrt{2} = 64\\sqrt{2} = a\\sqrt{b}</math>, and <math>a+b = \\boxed{066}</math>.\n\n- whatRthose\n\n===Solution 4 (Exploiting intuitions about absolute value with linear functions)===\nIn a similar manner to the other posted solutions, we want to find the length of just a piece of this monstrosity and then figure out what fraction of the entire function that piece represents. It's possible to go right for the smallest possible piece that'll help us by letting <math>a = \\big||x|-2\\big|-1</math> and <math>b = \\big||y|-2\\big|-1</math>. We then get that <math>b = 1 - a</math> (obviously the other way would work too). One specific \"case\" here is the one where all the numbers in the absolute value bars are positive, and thus where <math>b = 1 - x - 2 = -x - 1</math>. Since we're dealing with compounded absolute values, we can infer that the piece we just found has to be bounded by the two axes; the length of this piece also won't be affected by the constants that are hidden in <math>b</math>. Using the Pythagorean Theorem / distance formula, that tiny length comes out to be <math>\\sqrt{2}</math>. \nBecause we're working with linear terms only, the presence of each absolute value bar will double the length of the function's graph at each step as we work backward to our original equation. As there are six absolute value bars to be added back in (three on each side), we find that there are <math>2^6</math> of these pieces of length <math>\\sqrt{2}</math>, making our answer <math>2 + 64 = \\boxed{066}</math>.\n\n~ anellipticcurveoverq"
  },
  {
    "year": 1997,
    "variant": "I",
    "problem_number": 14,
    "latex": "Let <math>v</math> and <math>w</math> be distinct, randomly chosen [[root]]s of the equation <math>z^{1997}-1=0</math>.  Let <math>\\frac{m}{n}</math> be the [[probability]] that <math>\\sqrt{2+\\sqrt{3}}\\le\\left|v+w\\right|</math>, where <math>m</math> and <math>n</math> are [[relatively prime]] [[positive]] [[integer]]s.  Find <math>m+n</math>.\n\n__TOC__",
    "solution": "=== Solution 1 ===\n:<math>z^{1997}=1=1(\\cos 0 + i \\sin 0)</math>\n\nDefine <math>\\theta = 2\\pi/1997</math>. By [[De Moivre's Theorem]] the roots are given by\n\n:<math>z=\\cos (k\\theta) +i\\sin(k\\theta), \\qquad k \\in \\{0,1,\\ldots,1996\\}</math>\n\nNow, let <math>v</math> be the root corresponding to <math>m\\theta=2m\\pi/1997</math>, and let <math>w</math> be the root corresponding to <math>n\\theta=2n\\pi/ 1997</math>. Then \n<cmath>\\begin{align*}\n|v+w|^2 &= \\left(\\cos(m\\theta) + \\cos(n\\theta)\\right)^2 + \\left(\\sin(m\\theta) + \\sin(n\\theta)\\right)^2 \\\\\n&= 2 + 2\\cos\\left(m\\theta\\right)\\cos\\left(n\\theta\\right) + 2\\sin\\left(m\\theta\\right)\\sin\\left(n\\theta\\right)\n\\end{align*}</cmath>\nThe [[Trigonometric identities|cosine difference identity]] simplifies that to\n<cmath>|v+w|^2 = 2+2\\cos((m-n)\\theta) </cmath>\n\nWe need <math>|v+w|^2 \\ge 2+\\sqrt{3}</math>, which simplifies to <cmath>\\cos((m-n)\\theta) \\ge \\frac{\\sqrt{3}}{2}.</cmath> Hence, <math>-\\frac{\\pi}{6} \\le (m-n) \\theta \\le \\frac{\\pi}{6},</math> or alternatively, <math>|m - n| \\theta \\le \\frac{\\pi}{6}.</math> \n\nRecall that <math>\\theta=\\frac{2\\pi}{1997}.</math> Thus, <cmath>|m - n| \\le \\frac{\\pi}{6} \\cdot \\frac{1997}{2 \\pi} = \\left\\lfloor \\frac{1997}{12} \\right\\rfloor =166.</cmath>\n\nTherefore, <math>m</math> and <math>n</math> cannot be more than <math>166</math> away from each other.  This means that for a given value of <math>m</math>, there are <math>332</math> values for <math>n</math> that satisfy the inequality; <math>166</math> of them <math>> m</math>, and <math>166</math> of them <math>< m</math> (<math>m \\neq n</math> since the problem says that <math>m</math> and <math>n</math> are distinct).  Since <math>m</math> and <math>n</math> must be distinct, <math>n</math> can have <math>1996</math> total possible values for each value of <math>m</math>.  Therefore, the probability is <math>\\frac{332}{1996}=\\frac{83}{499}</math>.  The answer is then <math>499+83=\\boxed{582}</math>.\n\n=== Solution 2 ===\nThe solutions of the equation <math>z^{1997} = 1</math> are the <math>1997</math>th [[roots of unity]] and are equal to <math>\\text{cis}(\\theta_k)</math>, where <math>\\theta_k = \\tfrac {2\\pi k}{1997}</math> for <math>k = 0,1,\\ldots,1996.</math> Thus, they are located at uniform intervals on the unit circle in the complex plane. \n\nThe quantity <math>|v+w|</math> is unchanged upon rotation around the origin, so, WLOG, we can assume <math>v=1</math> after rotating the axis till <math>v</math> lies on the real axis. Let <math>w=\\text{cis}(\\theta_k)</math>. Since <math>w\\cdot \\overline{w}=|w|^2=1</math> and <math>w+\\overline{w}=2\\text{Re}(w) = 2\\cos\\theta_k</math>, we have <cmath>|v + w|^2  =  (1+w)(1+\\overline{w}) = 2+2\\cos\\theta_k</cmath>\nWe want <math>|v + w|^2\\ge 2 + \\sqrt {3}.</math>  From what we just obtained, this is equivalent to <cmath>\\cos\\theta_k\\ge \\frac {\\sqrt {3}}2 \\qquad \\Leftrightarrow \\qquad -\\frac {\\pi}6\\le \\theta_k \\le  \\frac {\\pi}6</cmath> which is satisfied by <math>k = 166,165,\\ldots, - 165, - 166</math> (we don't include 0 because that corresponds to <math>v</math>).  So out of the <math>1996</math> possible <math>k</math>, <math>332</math> work.  Thus, <math>m/n = 332/1996 = 83/499.</math>  So our answer is <math>83 + 499 = \\boxed{582}.</math>\n\n=== Solution 3 ===\n\nWe can solve a geometrical interpretation of this problem.\n\nWithout loss of generality, let <math>w = 1</math>. We are now looking for a point exactly one unit away from <math>w</math> such that the point is at least <math>\\sqrt{2 + \\sqrt{3}}</math> units away from the origin. Note that the \"boundary\" condition is when the point will be exactly <math>\\sqrt{2+\\sqrt{3}}</math> units away from the origin; these points will be the intersections of the circle centered at <math>(1,0)</math> with radius <math>1</math> and the circle centered at <math>(0,0)</math> with radius <math>\\sqrt{2+\\sqrt{3}}</math>. The equations of these circles are <math>(x-1)^2 + y^2 = 1</math> and <math>x^2 + y^2 = 2 + \\sqrt{3}</math>. Solving for <math>x</math> yields <math>x = 1 + \\frac{\\sqrt{3}}{2}</math>. Clearly, this means that the real part of <math>v</math> is greater than <math>\\frac{\\sqrt{3}}{2}</math>. Solving, we note that <math>332</math> possible <math>v</math>s exist, meaning that <math>\\frac{m}{n} = \\frac{332}{1996} = \\frac{83}{499}</math>. Therefore, the answer is <math>83 + 499 = \\boxed{582}</math>.\n\n=== Solution 4 ===\nSince <math>z^{1997}=1</math>, the roots will have magnitude <math>1</math>. Thus, the roots can be written as <math>\\cos(\\theta)+i\\sin(\\theta)</math> and <math>\\cos(\\omega)+i\\sin(\\omega)</math> for some angles <math>\\theta</math> and <math>\\omega</math>. We rewrite the requirement as <math>\\sqrt{2+\\sqrt3}\\le|\\cos(\\theta)+\\cos(\\omega)+i\\sin(\\theta)+i\\sin(\\omega)|</math>, which can now be easily manipulated to <math>2+\\sqrt{3}\\le(\\cos(\\theta)+\\cos(\\omega))^2+(\\sin(\\theta)+\\sin(\\omega))^2</math>. \n\nWLOG, let <math>\\theta = 0</math>. Thus, our inequality becomes <math>2+\\sqrt{3}\\le(1+\\cos(\\omega))^2+(\\sin(\\omega))^2</math>, <math>2+\\sqrt{3}\\le2+2\\cos(\\omega)</math>, and finally <math>\\cos(\\omega)\\ge\\frac{\\sqrt{3}}{2}</math>. Obviously, <math>\\cos(\\frac{\\pi}{6})=\\frac{\\sqrt{3}}{2}</math>, and thus it follows that, on either side of a given point, <math>\\frac{1997}{12}\\approx166</math> points will work. The probability is <math>\\frac{166\\times2}{1996} = \\frac{83}{499}</math>, and thus our requested sum is <math>\\boxed{582}</math>\n~SigmaPiE"
  },
  {
    "year": 1997,
    "variant": "I",
    "problem_number": 15,
    "latex": "The sides of [[rectangle]] <math>ABCD</math> have lengths <math>10</math> and <math>11</math>. An [[equilateral triangle]] is drawn so that no point of the triangle lies outside <math>ABCD</math>. The maximum possible [[area]] of such a triangle can be written in the form <math>p\\sqrt{q}-r</math>, where <math>p</math>, <math>q</math>, and <math>r</math> are positive integers, and <math>q</math> is not divisible by the square of any prime number. Find <math>p+q+r</math>.",
    "solution": "Consider points on the [[complex plane]] <math>A (0,0),\\ B (11,0),\\ C (11,10),\\ D (0,10)</math>. Since the rectangle is quite close to a square, we figure that the area of the equilateral triangle is maximized when a vertex of the triangle coincides with that of the rectangle. Set one [[vertex]] of the triangle at <math>A</math>, and the other two points <math>E</math> and <math>F</math> on <math>BC</math> and <math>CD</math>, respectively. Let <math>E (11,a)</math> and <math>F (b, 10)</math>. Since it's equilateral, then <math>E\\cdot\\text{cis}60^{\\circ} = F</math>, so <math>(11 + ai)\\left(\\frac {1}{2} + \\frac {\\sqrt {3}}{2}i\\right) = b + 10i</math>, and expanding we get <math>\\left(\\frac {11}{2} - \\frac {a\\sqrt {3}}{2}\\right) + \\left(\\frac {11\\sqrt {3}}{2} + \\frac {a}{2}\\right)i = b + 10i</math>.\n\n[[Image:1997 AIME-15a.PNG|center]]\n\nWe can then set the real and imaginary parts equal, and solve for <math>(a,b) = (20 - 11\\sqrt {3},22 - 10\\sqrt {3})</math>. Hence a side <math>s</math> of the equilateral triangle can be found by <math>s^2 = AE^2 = a^2 + AB^2 = 884 - 440\\sqrt{3}</math>. Using the area formula <math>\\frac{s^2\\sqrt{3}}{4}</math>, the area of the equilateral triangle is <math>\\frac{(884-440\\sqrt{3})\\sqrt{3}}{4} = 221\\sqrt{3} - 330</math>. Thus <math>p + q + r = 221 + 3 + 330 = \\boxed{554}</math>."
  },
  {
    "year": 1998,
    "variant": "I",
    "problem_number": 1,
    "latex": "For how many values of <math>k</math> is <math>12^{12}</math> the [[least common multiple]] of the positive integers <math>6^6</math>, <math>8^8</math>, and <math>k</math>?",
    "solution": "It is evident that <math>k</math> has only 2s and 3s in its prime factorization, or <math>k = 2^a3^b</math>. \n\n*<math>6^6 = 2^6\\cdot3^6</math>\n*<math>8^8 = 2^{24}</math>\n*<math>12^{12} = 2^{24}\\cdot3^{12}</math>\n\nThe [[LCM]] of any numbers an be found by writing out their factorizations and taking the greatest power for each factor. <math>[6^6,8^8] = 2^{24}3^6</math>. Therefore <math>12^{12} = 2^{24}\\cdot3^{12} = [2^{24}3^6,2^a3^b] = 2^{\\max(24,a)}3^{\\max(6,b)}</math>, and <math>b = 12</math>.  Since <math>0 \\le a \\le 24</math>, there are <math>\\boxed{25}</math> values of <math>k</math>."
  },
  {
    "year": 1998,
    "variant": "I",
    "problem_number": 2,
    "latex": "Find the number of [[ordered pair]]s <math>(x,y)</math> of positive integers that satisfy <math>x \\le 2y \\le 60</math> and <math>y \\le 2x \\le 60</math>.\n__TOC__",
    "solution": "=== Solution 1 ===\n[[Image:AIME_1998-2.png|thumb|300px|right]]\n[[Pick's theorem]] states that:\n<div style=\"text-align:center;\"><math>A = I + \\frac B2 - 1</math></div>\n\nThe conditions give us four [[inequality|inequalities]]: <math>x \\le 30</math>, <math>y\\le 30</math>, <math>x \\le 2y</math>, <math>y \\le 2x</math>. These create a [[quadrilateral]], whose area is <math>\\frac 12</math> of the 30 by 30 [[square]] it is in. A simple way to see this is to note that the two triangles outside of the quadrilateral form half of the area of the 30 by 30 square.\n\nSo <math>A = \\frac 12 \\cdot 30^2 = 450</math>. <math>B</math> we can calculate by just counting. Ignoring the vertices, the top and right sides have 14 [[lattice point]]s, and the two diagonals each have 14 lattice points (for the top diagonal, every value of <math>x</math> corresponds with an integer value of <math>y</math> as <math>y = 2x</math> and vice versa for the bottom, so and there are 14 values for x not counting vertices). Adding the four vertices, there are 60 points on the borders.\n\n<div style=\"text-align:center;\"><math>450 = I + \\frac {60}2 - 1</math><br /><math>I = 421</math></div>\n\nSince the inequalities also include the equals case, we include the boundaries, which gives us <math>421 + 60 = 481</math> ordered pairs. However, the question asks us for positive integers, so <math>(0,0)</math> doesn't count; hence, the answer is <math>480</math>.\n\n=== Solution 2 ===\nFirst, note that all pairs of the form <math>(a,a)</math>, <math>1\\le a\\le30</math> work.\n\nNow, considered the ordered pairs with <math>x < y</math>, so that <math>x < 2y</math> is automatically satisfied. Since <math>x < y\\le 2x</math>, there are <math>2x - x = x</math> possible values of <math>y</math>. Hence, given <math>x</math>, there are <math>x</math> values of possible <math>y</math> for which <math>x < y</math> and the above conditions are satisfied. But <math>2y\\le60</math>, so this only works for <math>x\\le15</math>. Thus, there are\n\n<math>\\sum_{i=1}^{15} i=\\frac{(15)(16)}{2}</math>\n\nordered pairs. For <math>x > 15</math>, <math>y</math> must follow <math>x < y\\le 30</math>. Hence, there are <math>30 - x</math> possibilities for <math>y</math>, and there are\n\n<math>\\sum_{i=16}^{30}(30-i)=\\sum_{i=0}^{14}i=\\frac{(14)(15)}{2}</math>\n\nordered pairs.\n\nBy symmetry, there are also <math>\\frac {(15)(16)}{2} + \\frac {(14)(15)}{2}</math> ordered pairs with <math>x > y</math> and the above criteria satisfied.\n\nHence, the total is\n\n<math>\\frac{(15)(16)}{2}+\\frac{(14)(15)}{2}+\\frac{(15)(16)}{2}+\\frac{(14)(15)}{2}+30=480.</math>\n\n=== Solution 3 ===\n<math> y\\le2x\\le60</math>\n\nMultiplying both sides by 2 yields:\n\n<math> 2y\\le4x\\le120</math>\n\nThen the two inequalities can be merged to form the following inequality:\n\n<math> x\\le2y\\le4x\\le120</math>\n\nAdditionally, we must ensure that <math>2y<60</math>\n\nTherefore we must find pairs <math>(x,y)</math> that satisfy the inequality above. \nA bit of trial and error and observing patterns leads to the answer <math>480</math>.\n\nIt should be noted that the cases for <math>x\\le15</math> and <math>x>15</math> should be considered separately in order to ensure that <math>2y < 60</math>.\n\n===Solution 4 - Unrigorous engineers induction solution===\n\nWe will try out small cases.\n\nBy replacing 60 in this problem with 2, we count only 1 ordered pair. By doing with 4, we count 4 ordered pairs. With 6, we get 7 pairs. With 8 we get 12. By continuing on, and then finding the difference between adjacent terms (1,3,3,5,5,...). We suspect that if 60 was replaced with 2n, we will find 1+3+3+5+5+7+7 ...., where there will be n terms. Thus, our answer is 1+3+3+5+5.... 29+29+31 = 16*30 = 480.\n\n-Alexlikemath\n\n\n===Solution 5 - Counting Head on===\n\nNotice <math>x</math> and <math>y</math> both must be equal or less than 30. The inequalities given have no complicated qualities. We can recompile them by understanding: Two times the larger integer will also be larger than the smaller integer; Two times the smaller integer is greater or equal to the greater integer if and only if the greater integer is less or equal to the double of the smaller integer. Knowing this, we create a chart. We will first solve without order, then multiply pairs by 2 at the end. <math>x</math> can be 1-30, so we'll start with 1. The only possible value for <math>y</math> is 1. For <math>x = 2</math>, <math>y</math> can be 2-4. For <math>x = 3</math>, <math>y</math> can be 3-6. There is an obvious pattern here. For every integer after 1, the possible values for <math>y</math> will be numbers <math>x</math>-<math>2x</math>. This predictably ends at <math>x = 15</math> because <math>y</math> will reach 30. When <math>x = 16</math>, then the number of possible values of <math>y</math> will begin to drop again, equaling the amount when <math>x = 14</math>. Then when we finally sum the group together, for <math>x = 2</math> to <math>x = 14</math> there are 104 pairs with 2 distinct values, and 13 values with congruent values. These will not be multiplied by 2 later on. <math>x = 16</math> to <math>x = 28</math> gives the same amount. Then <math>x = 15</math> and <math>x = 29</math> gives 16 and 2 values respectively, with two congruent values each. Finally, <math>x = 1</math> and <math>x = 30</math> give 3 and 1 respectively.\n\nSum them together and you will get 480.\n\n\n-jackshi2006"
  },
  {
    "year": 1998,
    "variant": "I",
    "problem_number": 3,
    "latex": "The graph of <math> y^2 + 2xy + 40|x|= 400</math> partitions the plane into several regions.  What is the area of the bounded region?",
    "solution": "The equation given can be rewritten as:\n\n:<math>40|x| = - y^2 - 2xy + 400</math>\n\nWe can split the equation into a piecewise equation by breaking up the [[absolute value]]:\n\n:<math>40x = -y^2 - 2xy + 400\\quad\\quad x\\ge 0 </math>\n:<math>40x = y^2 + 2xy - 400 \\quad \\quad x < 0</math>\n\nFactoring the first one: (alternatively, it is also possible to [[completing the square|complete the square]])\n\n:<math>40x + 2xy  = -y^2 + 400</math>\n:<math> 2x(20 + y)=  (20 - y)(20 + y)</math>\n\n[[Image:AIME_1998-3.png|right|thumb|300px]] \n\nHence, either <math>y = -20</math>, or <math>2x = 20 - y \\Longrightarrow y = -2x + 20</math>.\n\nSimilarily, for the second one, we get <math>y = 20</math> or <math> y = -2x - 20</math>. If we graph these four equations, we see that we get a parallelogram with base 20 and height 40. Hence the answer is <math>\\boxed{800}</math>."
  },
  {
    "year": 1998,
    "variant": "I",
    "problem_number": 4,
    "latex": "Nine tiles are numbered <math>1, 2, 3, \\cdots, 9,</math> respectively.  Each of three players randomly selects and keeps three of the tiles, and sums those three values.  The [[probability]] that all three players obtain an [[odd]] sum is <math>m/n,</math> where <math>m</math> and <math>n</math> are [[relatively prime]] [[positive integer]]s.  Find <math>m+n.</math>",
    "solution": "In order for a player to have an odd sum, he must have an odd number of odd tiles: that is, he can either have three odd tiles, or two even tiles and an odd tile.  Thus, since there are <math>5</math> odd tiles and <math>4</math> even tiles, the only possibility is that one player gets <math>3</math> odd tiles and the other two players get <math>2</math> even tiles and <math>1</math> odd tile.  We count the number of ways this can happen. (We will count assuming that it matters in what order the people pick the tiles; the final answer is the same if we assume the opposite, that order doesn't matter.)\n\n<math>\\dbinom{5}{3} = 10</math> choices for the tiles that he gets.  The other two odd tiles can be distributed to the other two players in <math>2</math> ways, and the even tiles can be distributed between them in <math>\\dbinom{4}{2} \\cdot \\dbinom{2}{2} = 6</math> ways.  This gives us a total of  <math>10 \\cdot 2 \\cdot 6 = 120</math> possibilities in which all three people get odd sums.\n\nIn order to calculate the probability, we need to know the total number of possible distributions for the tiles.  The first player needs three tiles which we can give him in <math>\\dbinom{9}{3} = 84</math> ways, and the second player needs three of the remaining six, which we can give him in <math>\\dbinom{6}{3} = 20</math> ways. Finally, the third player will simply take the remaining tiles in <math>1</math> way. So, there are <math>\\dbinom{9}{3} \\cdot \\dbinom{6}{3} \\cdot 1 = 84 \\cdot 20 = 1680</math> ways total to distribute the tiles.\n\nWe must multiply the probability by 3, since any of the 3 players can have the 3 odd tiles.Thus, the total probability is <math>\\frac{360}{1680} = \\frac{3}{14},</math> so the answer is <math>3 + 14 = \\boxed{017}</math>.\n=== Solution 2 ===\nLet <math>O</math> stand for an odd number and <math>E</math> an even.\nTherefore, one person must pick <math>OOO</math>, the other person must pick <math>OEE</math> and the last person must pick <math>OEE</math>. Since any permutation of the order of who is picking or change in the order of the even numbers (e.g. <math>EOE</math> instead of <math>OEE</math>) doesn't change the probability, we just need to multiply the probability of one case by <math>\\binom{3}{2}^3 = 27</math> as there are 27 such cases (by cases I mean ordered triples of ordered multisets <math>A, B, C</math> such that one of them has 3 <math>O</math>'s and the other two have two <math>E</math>'s and an <math>O</math> in them, respectively.) . Let's do the case <math>OOO</math>, <math>OEE</math>, <math>OEE</math>.\n<math>\\frac{5}{9} \\times \\frac{4}{8} \\times \\frac{3}{7} \\times \\frac{2}{6} \\times \\frac{4}{5} \\times \\frac{3}{4} \\times \\frac{1}{3} \\times \\frac{2}{2} \\times \\frac{1}{1} = \\frac{1}{126}</math>. We now multiply by 27 to get <math>\\frac{3}{14} \\implies m + n = \\boxed{017}</math>\n- whatRthose\n\n=== Solution 3 ===\n\nFor this problem, let's think about parity. There are <math>5</math> odd numbers from <math>1-9</math> and there are four even numbers from <math>1-9</math>. Since this problem is asking for the probability that the each player gets an odd sum, we also have to calculate the total numeber of ways. \n\nIn this case, there are only two ways to get an odd sum. Either have the sequence <math>OOO</math> or <math>OEE</math> where the letters <math>O</math> and <math>E</math> stand for odd and even respectively. \n\nSince we constrained to only <math>5</math> odds, the only way to do the pairing is \n<cmath>OOO-OEE-OEE</cmath>\nThere are of couse three ways to choose who gets the three odds. \n\nOnce we have chosen who has gotten the three odds, we can actually reorder the sequence like this:\n<cmath>OEE-OEE-OOO</cmath>\nNow since we are choosing in groups, we can ignor order of these terms.\n\nFor the first <math>OEE</math>, there are <math>5</math> ways to choose which odd to use, and <math>\\dbinom{4}{2}</math> or <math>6</math> ways to choose the evens.\n\nGreat, let's move on to the second <math>OEE</math>. There are <math>4</math> odds left, so there are <math>4</math> ways choose the odds. Since there are only two even numbers, they have to go here, so there is only <math>1</math> way to choose the evens. \n\nThe three odds will now fall in place. We can now multiply all the numbers since they are independent, and we have <math>5*6*4*3</math> or <math>360</math>. \n\nSince this is a probability question, we have to ask ourselves how many ways are there to distribute the 9 tiles equally among 3 players. \n\nFortunately for us, this is not hard as the first player has <math>\\dbinom{9}{3}</math> options and the second player has <math>\\dbinom{6}{3}</math>. When we multiply these, we get <math>1680</math>. This is our denominator.\n\nWhen we make the fraction, we have <math>\\frac{360}{1680}</math>. When we simplify it, we have:\n<cmath>\\frac{3}{14}</cmath>\nWe are asked to find the sum of the numerator and the denominator, so summing these, we have:\n<cmath>\\boxed{017}</cmath>\n-Pi_is_3.14\n\n=== Solution 4 ===\nAll three sums are odd if and only if two players select <math>OEE</math> and the other selects <math>OOO</math>. The number of possible scenarios for the three players (ignoring how each player chooses three tiles) is <math>3\\times \\dbinom{5}{3, 1, 1}\\times\\dbinom{4}{2, 2}</math>. The total number of configurations is <math>\\dbinom{9}{3, 3, 3}</math>, and <math>\\frac{3\\times\\dbinom{5}{3, 1, 1}\\times\\dbinom{4}{2, 2}}{\\dbinom{9}{3, 3, 3}}=\\frac{3}{14}</math>. The answer is thus \n<cmath>\\boxed{017}</cmath>\n-cretinouscretin"
  },
  {
    "year": 1998,
    "variant": "I",
    "problem_number": 5,
    "latex": "Given that <math>A_k = \\frac {k(k - 1)}2\\cos\\frac {k(k - 1)\\pi}2,</math> find <math>|A_{19} + A_{20} + \\cdots + A_{98}|.</math>",
    "solution": "Though the problem may appear to be quite daunting, it is actually not that difficult. <math>\\frac {k(k-1)}2</math> always evaluates to an integer ([[triangular number]]), and the [[cosine]] of <math>n\\pi</math> where <math>n \\in \\mathbb{Z}</math> is 1 if <math>n</math> is even and -1 if <math>n</math> is odd. <math>\\frac {k(k-1)}2</math> will be even if <math>4|k</math> or <math>4|k-1</math>, and odd otherwise.  \n\nSo our sum looks something like:\n\n<math>\\left|\\sum_{i=19}^{98} A_i\\right| =- \\frac{19(18)}{2} + \\frac{20(19)}{2} + \\frac{21(20)}{2} - \\frac{22(21)}{2} - \\frac{23(22)}{2} + \\frac{24(23)}{2} \\cdots - \\frac{98(97)}{2}</math>\n\nIf we group the terms in pairs, we see that we need a formula for <math>-\\frac{(n)(n-1)}{2} + \\frac{(n+1)(n)}{2} = \\left(\\frac n2\\right)(n+1 - (n-1)) = n</math>. So the first two fractions add up to <math>19</math>, the next two to <math>-21</math>, and so forth.\n\nIf we pair the terms again now, each pair adds up to <math>-2</math>. There are <math>\\frac{98-19+1}{2 \\cdot 2} = 20</math> such pairs, so our answer is <math>|-2 \\cdot 20| = \\boxed{040}</math>."
  },
  {
    "year": 1998,
    "variant": "I",
    "problem_number": 6,
    "latex": "Let <math>ABCD</math> be a [[parallelogram]].  Extend <math>\\overline{DA}</math> through <math>A</math> to a point <math>P,</math> and let <math>\\overline{PC}</math> meet <math>\\overline{AB}</math> at <math>Q</math> and <math>\\overline{DB}</math> at <math>R.</math>  Given that <math>PQ = 735</math> and <math>QR = 112,</math> find <math>RC.</math>",
    "solution": "=== Solution 1 ===\n[[Image:AIME_1998-6.png|350px]]\n\nThere are several [[similar triangles]]. <math>\\triangle PAQ\\sim \\triangle PDC</math>, so we can write the [[proportion]]:\n\n<div style=\"text-align:center;\">\n<math>\\frac{AQ}{CD} = \\frac{PQ}{PC} = \\frac{735}{112 + 735 + RC} = \\frac{735}{847 + RC}</math>\n</div> \n\nAlso, <math>\\triangle BRQ\\sim DRC</math>, so:\n\n<div style=\"text-align:center;\">\n<math>\\frac{QR}{RC} = \\frac{QB}{CD} = \\frac{112}{RC} = \\frac{CD - AQ}{CD} = 1 - \\frac{AQ}{CD}</math><br />\n\n<math>\\frac{AQ}{CD} = 1 - \\frac{112}{RC} = \\frac{RC - 112}{RC}</math>\n</div> \n\nSubstituting,\n\n<div style=\"text-align:center;\">\n<math>\\frac{AQ}{CD} = \\frac{735}{847 + RC} = \\frac{RC - 112}{RC}</math><br />\n\n<math>735RC = (RC + 847)(RC - 112)</math><br />\n<math>0 = RC^2 - 112\\cdot847</math>\n</div>\n\nThus, <math> RC = \\sqrt{112*847} = 308</math>.\n\n=== Solution 2 ===\n\nWe have <math>\\triangle BRQ\\sim \\triangle DRC</math> so <math>\\frac{112}{RC} = \\frac{BR}{DR}</math>. We also have <math>\\triangle BRC \\sim \\triangle DRP</math> so <math>\\frac{ RC}{847} = \\frac {BR}{DR}</math>. Equating the two results gives <math>\\frac{112}{RC} =  \\frac{ RC}{847}</math> and so <math>RC^2=112*847</math> which solves to <math>RC=\\boxed{308}</math>"
  },
  {
    "year": 1998,
    "variant": "I",
    "problem_number": 7,
    "latex": "Let <math>n</math> be the number of ordered quadruples <math>(x_1,x_2,x_3,x_4)</math> of positive odd [[integer]]s that satisfy <math>\\sum_{i = 1}^4 x_i = 98.</math>  Find <math>\\frac n{100}.</math>",
    "solution": "We want <math>x_1 +x_2+x_3+x_4 =98</math>. This seems like it can be solved with stars and bars, however note that the quadruples all need to be odd. This motivates us to set <math>x_i= 2y_i +1</math>, as for all integers <math>y_i</math>, <math>2y_i + 1</math> will be odd. Substituting we get <cmath>2y_1+2y_2+2y_3+2y_4 +4 = 98 \\implies y_1+y_2+y_3+y_4 =47</cmath>\nNote that this is an algebraic bijection, we have simplified the problem and essentially removed the odd condition, so now we can finish with plain stars as bars, which gives us <math>n= {50\\choose3}</math>. Computing this and dividing by 100 gives us an answer of <math>\\boxed{196}</math>.\n~smartguy888"
  },
  {
    "year": 1998,
    "variant": "I",
    "problem_number": 8,
    "latex": "Except for the first two terms, each term of the sequence <math>1000, x, 1000 - x,\\ldots</math> is obtained by subtracting the preceding term from the one before that.  The last term of the sequence is the first [[negative]] term encounted.  What positive integer <math>x</math> produces a sequence of maximum length?\n\n__TOC__",
    "solution": "The best way to start is to just write out some terms.\n\n{| class=\"wikitable\"\n|-\n| 0 || 1 || 2 || 3 || 4 || 5 || 6\n|-  \n| <math>\\quad 1000 \\quad</math><font color=\"white\">aa</font> || <math>\\quad x \\quad</math><font color=\"white\">aaa</font> || <math>1000 - x</math> || <math>2x - 1000</math><font color=\"white\">a</font> || <math>2000 - 3x</math> || <math>5x - 3000</math> || <math>5000 - 8x</math>\n|}\n\nIt is now apparent that each term can be written as \n\n*<math>n \\equiv 0 \\pmod{2}\\quad\\quad F_{n-1}\\cdot 1000-F_n\\cdot x</math> \n*<math>n \\equiv 1 \\pmod{2}\\quad\\quad F_{n}\\cdot x-F_{n-1}\\cdot 1000</math>\n \nwhere the <math> F_{n}</math> are [[Fibonacci number]]s. This can be proven through induction.\n\n=== Solution 1 ===\nWe can start to write out some of the inequalities now:\n\n#<math>x > 0</math>\n#<math>1000 - x > 0 \\Longrightarrow x < 1000</math>\n#<math>2x - 1000 > 0 \\Longrightarrow x > 500</math>\n#<math>2000 - 3x > 0 \\Longrightarrow x < 666.\\overline{6}</math>\n#<math>5x - 3000 > 0 \\Longrightarrow x > 600</math>\n\nAnd in general,\n\n*<math>n \\equiv 0 \\pmod{2}\\quad\\quad x < \\frac{F_{n-1}}{F_n} \\cdot 1000</math> \n*<math>n \\equiv 1 \\pmod{2}\\quad\\quad x > \\frac{F_{n-1}}{F_{n}} \\cdot 1000</math>\n\nIt is apparent that the bounds are slowly closing in on <math>x</math>, so we can just calculate <math>x</math> for some large value of <math>n</math> (randomly, 10, 11):\n\n<math>x < \\frac{F_{9}}{F_{10}} \\cdot 1000 = \\frac{34}{55} \\cdot 1000 = 618.\\overline{18}</math>\n\n<math>x > \\frac{F_{10}}{F_{11}} \\cdot 1000 = \\frac{55}{89} \\cdot 1000 \\approx 617.977</math>\n\nThus the sequence is maximized when <math>x = \\boxed{618}.</math>\n\n=== Solution 2 ===\nIt is well known that <math>\\lim_{n\\rightarrow\\infty} \\frac{F_{n-1}}{F_n} = \\phi - 1 =\\frac{1 + \\sqrt{5}}{2} - 1 \\approx .61803</math>, so <math>1000 \\cdot \\frac{F_{n-1}}{F_n}</math> approaches <math>x = \\boxed{618}.</math>"
  },
  {
    "year": 1998,
    "variant": "I",
    "problem_number": 9,
    "latex": "Two mathematicians take a morning coffee break each day.  They arrive at the cafeteria independently, at random times between 9 a.m. and 10 a.m., and stay for exactly <math>m</math> minutes.  The [[probability]] that either one arrives while the other is in the cafeteria is <math>40 \\%,</math> and <math>m = a - b\\sqrt {c},</math> where <math>a, b,</math> and <math>c</math> are [[positive]] [[integer]]s, and <math>c</math> is not divisible by the square of any [[prime]].  Find <math>a + b + c.</math>\n\n__TOC__",
    "solution": "=== Solution 1 ===\nLet the two mathematicians be <math>M_1</math> and <math>M_2</math>.  Consider plotting the times that they are on break on a [[coordinate plane]] with one axis being the time <math>M_1</math> arrives and the second axis being the time <math>M_2</math> arrives (in minutes past 9 a.m.). The two mathematicians meet each other when <math>|M_1-M_2| \\leq m</math>. Also because the mathematicians arrive between 9 and 10, <math>0 \\leq M_1,M_2 \\leq 60</math>. Therefore, <math>60\\times 60</math> square represents the possible arrival times of the mathematicians, while the shaded region represents the arrival times where they meet.\n<asy>\nimport graph;\nsize(180);\nreal m=60-12*sqrt(15);\ndraw((0,0)--(60,0)--(60,60)--(0,60)--cycle);\nfill((m,0)--(60,60-m)--(60,60)--(60-m,60)--(0,m)--(0,0)--cycle,lightgray);\ndraw((m,0)--(60,60-m)--(60,60)--(60-m,60)--(0,m)--(0,0)--cycle);\nxaxis(\"$M_1$\",-10,80);\nyaxis(\"$M_2$\",-10,80);\nlabel(rotate(45)*\"$M_1-M_2\\le m$\",((m+60)/2,(60-m)/2),NW,fontsize(9));\nlabel(rotate(45)*\"$M_1-M_2\\ge -m$\",((60-m)/2,(m+60)/2),SE,fontsize(9));\nlabel(\"$m$\",(m,0),S);\nlabel(\"$m$\",(0,m),W);\nlabel(\"$60$\",(60,0),S);\nlabel(\"$60$\",(0,60),W);\n</asy>\nIt's easier to compute the area of the unshaded region over the area of the total region, which is the probability that the mathematicians do not meet:\n<div style=\"text-align:center;\">\n<math>\\frac{(60-m)^2}{60^2} = 0.6</math><br />\n<math>(60-m)^2 = 36\\cdot 60</math><br />\n<math>60 - m = 12\\sqrt{15}</math><br />\n<math>\\Rightarrow m = 60-12\\sqrt{15}</math>\n</div>\nSo the answer is <math>60 + 12 + 15 = 087</math>.\n\n=== Solution 2 ===\nCase 1:\n\n[[Image:AIME_1998-9.png]]\nCase 2:\n\n[[Image:AIME_1998-9b.png]]\n\nWe draw a [[number line]] representing the time interval. If mathematician <math>M_1</math> comes in at the center of the time period, then the two mathematicions will meet if <math>M_2</math> comes in somewhere between <math>m</math> minutes before and after <math>M_1</math> comes (a total range of <math>2m</math> minutes). However, if <math>M_1</math> comes into the cafeteria in the first or last <math>m</math> minutes, then the range in which <math>M_2</math> is reduced to somewhere in between <math>m</math> and <math>2m</math>.\n\nWe now try to find the [[weighted average]] of the chance that the two meet. In the central <math>60-2m</math> minutes, <math>M_1</math> and <math>M_2</math> have to enter the cafeteria within <math>m</math> minutes of each other; so if we fix point <math>M_1</math> then <math>M_2</math> has a <math>\\frac{2m}{60} = \\frac{m}{30}</math> probability of meeting.\n\nIn the first and last <math>2m</math> minutes, the probability that the two meet ranges from <math>\\frac{m}{60}</math> to <math>\\frac{2m}{60}</math>, depending upon the location of <math>M_1</math> with respect to the endpoints. Intuitively, the average probability will occur at <math>\\frac{\\frac{3}{2}m}{60} = \\frac{m}{40}</math>.\n\nSo the weighted average is:\n:<math>\\frac{\\frac{m}{30}(60-2m) + \\frac{m}{40}(2m)}{60} = \\frac{40}{100}</math>\n:<math>0 = \\frac{m^2}{60} - 2m + 24</math>\n:<math>0 = m^2 - 120m + 1440</math>\n\nSolving this [[quadratic equation|quadratic]], we get two roots, <math>60 \\pm 12\\sqrt{15}</math>. However, <math>m < 60</math>, so we discard the greater root; and thus our answer <math>60 + 12 + 15 = 087</math>.\n\n=== Video Solution ===\n~[https://www.youtube.com/watch?v=DKPj3gROimY  MaPhyCom]"
  },
  {
    "year": 1998,
    "variant": "I",
    "problem_number": 10,
    "latex": "Eight [[sphere]]s of [[radius]] 100 are placed on a flat [[plane|surface]] so that each sphere is [[tangent]] to two others and their [[center]]s are the vertices of a regular [[octagon]].  A ninth sphere is placed on the flat surface so that it is tangent to each of the other eight spheres.  The radius of this last sphere is <math>a +b\\sqrt {c},</math> where <math>a, b,</math> and <math>c</math> are [[positive]] [[integer]]s, and <math>c</math> is not divisible by the square of any [[prime]].  Find <math>a + b + c</math>.\n\n__TOC__",
    "solution": "The key is to realize the significance that the figures are spheres, not [[circle]]s. The 2D analogue of the diagram onto the flat surface will not contain 8 circles tangent to a ninth one; instead the circles will overlap since the middle sphere has a larger radius and will sort of ‚Äúbulge‚Äù out.\n\n[[Image:1998_AIME-10a.png|450px]]\n\nLet us examine the relation between one of the outside 8 spheres and the center one (with radius <math>r</math>): \n\n[[Image:1998_AIME-10b.png|450px]]\n\nIf we draw the segment containing the centers and the radii [[perpendicular]] to the flat surface, we get a [[trapezoid]]; if we draw the segment parallel to the surface that connects the center of the smaller sphere to the radii of the larger, we get a right triangle. Call that segment <math>x</math>. Then by the [[Pythagorean Theorem]]:\n\n<cmath>x^2 + (r-100)^2 = (r+100)^2 \\Longrightarrow x = 20\\sqrt{r}</cmath>\n\n[[Image:1998_AIME-10c.png|450px]]\n\n<math>x</math> is the distance from one of the vertices of the octagon to the center, so the diagonal of the octagon is of length <math>2x =40\\sqrt{r}</math>. We can draw another [[right triangle]] as shown above. One leg has a length of <math>200</math>. The other can be found by partitioning the leg into three sections and using <math>45-45-90 \\triangle</math>s to see that the leg is <math>100\\sqrt{2} + 200 + 100\\sqrt{2} = 200(\\sqrt{2} + 1)</math>. Pythagorean Theorem:\n\n<cmath>\\begin{eqnarray*}\n(40\\sqrt{r})^2 &=& 200^2 + [200(\\sqrt{2}+1)]^2\\\\\n1600r &=& 200^2[(1 + \\sqrt{2})^2 + 1] \\\\\nr &=& 100 + 50\\sqrt{2}\n\\end{eqnarray*}</cmath>\n\nThus <math>a + b + c = 100 + 50 + 2 = \\boxed{152}</math>."
  },
  {
    "year": 1998,
    "variant": "I",
    "problem_number": 11,
    "latex": "Three of the edges of a cube are <math>\\overline{AB}, \\overline{BC},</math> and <math>\\overline{CD},</math> and <math>\\overline{AD}</math> is an interior diagonal.  Points <math>P, Q,</math> and <math>R</math> are on <math>\\overline{AB}, \\overline{BC},</math> and <math>\\overline{CD},</math> respectively, so that <math>AP = 5, PB = 15, BQ = 15,</math> and <math>CR = 10.</math>  What is the area of the polygon that is the intersection of plane <math>PQR</math> and the cube?\n\n__TOC__",
    "solution": "<span style=\"font-size:100%\">\"For non-asymptote version of image, see [[:Image:1998_AIME-11.png]]\"</span>\n<center><asy>\nimport three;\nsize(280); defaultpen(linewidth(0.6)+fontsize(9));\ncurrentprojection=perspective(30,-60,40);\ntriple A=(0,0,0),B=(20,0,0),C=(20,0,20),D=(20,20,20);\ntriple P=(5,0,0),Q=(20,0,15),R=(20,10,20),Pa=(15,20,20),Qa=(0,20,5),Ra=(0,10,0);\ndraw(box((0,0,0),(20,20,20)));\ndraw(P--Q--R--Pa--Qa--Ra--cycle,linewidth(0.7));\nlabel(\"\\(A\\,(0,0,0)\\)\",A,SW);\nlabel(\"\\(B\\,(20,0,0)\\)\",B,S);\nlabel(\"\\(C\\,(20,0,20)\\)\",C,SW);\nlabel(\"\\(D\\,(20,20,20)\\)\",D,E);\nlabel(\"\\(P\\,(5,0,0)\\)\",P,SW);\nlabel(\"\\(Q\\,(20,0,15)\\)\",Q,E);\nlabel(\"\\(R\\,(20,10,20)\\)\",R,E);\nlabel(\"\\((15,20,20)\\)\",Pa,N);\nlabel(\"\\((0,20,5)\\)\",Qa,W);\nlabel(\"\\((0,10,0)\\)\",Ra,W);\n</asy></center>\n\nThis approach uses [[Analytic Geometry|analytic geometry]]. Let <math>A</math> be at the origin, <math>B</math> at <math>(20,0,0)</math>, <math>C</math> at <math>(20,0,20)</math>, and <math>D</math> at <math>(20,20,20)</math>. Thus, <math>P</math> is at <math>(5,0,0)</math>, <math>Q</math> is at <math>(20,0,15)</math>, and <math>R</math> is at <math>(20,10,20)</math>. \n\nLet the plane <math>PQR</math> have the equation <math>ax + by + cz = d</math>. Using point <math>P</math>, we get that <math>5a = d</math>. Using point <math>Q</math>, we get <cmath>20a + 15c = d \\Longrightarrow 4d + 15c = d \\Longrightarrow d = -5c</cmath>Using point <math>R</math>, we get <cmath>20a + 10b + 20c = d \\Longrightarrow 4d + 10b - 4d = d \\Longrightarrow d = 10b</cmath>Thus plane <math>PQR</math>‚Äôs [[equation]] reduces to <cmath>\\frac{d}{5}x + \\frac{d}{10}y - \\frac{d}{5}z = d \\Longrightarrow 2x + y - 2z = 10</cmath>\n\nWe know need to find the intersection of this plane with that of <math>z = 0</math>, <math>z = 20</math>, <math>x = 0</math>, and <math>y = 20</math>. After doing a little bit of algebra, the intersections are the lines <cmath>y = -2x + 10</cmath> <cmath>y = -2x + 50</cmath> <cmath>y = 2z + 10</cmath> <cmath>z = x + 5</cmath>Thus, there are three more vertices on the polygon, which are at <math>(0,10,0)(0,20,5)(15,20,20)</math>. \n\nWe can find the lengths of the sides of the polygons now. There are 4 [[right triangle]]s with legs of length 5 and 10, so their [[hypotenuse]]s are <math>5\\sqrt{5}</math>. The other two are of <math>45-45-90 \\triangle</math>s with legs of length 15, so their hypotenuses are <math>15\\sqrt{2}</math>. So we have a [[hexagon]] with sides <math>15\\sqrt{2},5\\sqrt{5}, 5\\sqrt{5},15\\sqrt{2}, 5\\sqrt{5},5\\sqrt{5}</math> By [[symmetry]], we know that opposite angles of the polygon are congruent. We can also calculate the length of the long diagonal by noting that it is of the same length of a face diagonal, making it <math>20\\sqrt{2}</math>.\n\n<center><asy>\nsize(190);\npointpen=black;pathpen=black;\nreal s=2^.5;\npair P=(0,0),Q=(7.5*s,2.5*s),R=Q+(0,15*s),Pa=(0,20*s),Qa=(-Q.x,Q.y),Ra=(-R.x,R.y);\nD(P--Q--R--Pa--Ra--Qa--cycle);D(R--Ra);D(Q--Qa);D(P--Pa);\nMP(\"15\\sqrt{2}\",(Q+R)/2,E);\nMP(\"5\\sqrt{5}\",(P+Q)/2,SE);\nMP(\"5\\sqrt{5}\",(R+Pa)/2,NE);\nMP(\"20\\sqrt{2}\",(P+Pa)/2,W);\n</asy></center> <!-- asymptote replaced Image:1998_AIME-11b.png by azjps -->\n\nThe height of the triangles at the top/bottom is <math>\\frac{20\\sqrt{2} - 15\\sqrt{2}}{2} = \\frac{5}{2}\\sqrt{2}</math>. The [[Pythagorean Theorem]] gives that half of the base of the triangles is <math>\\frac{15}{\\sqrt{2}}</math>. We find that the middle [[rectangle]] is actually a [[square]], so the total area is <math>(15\\sqrt{2})^2 + 4\\left(\\frac 12\\right)\\left(\\frac 52\\sqrt{2}\\right)\\left(\\frac{15}{\\sqrt{2}}\\right) = 525</math>."
  },
  {
    "year": 1998,
    "variant": "I",
    "problem_number": 12,
    "latex": "Let <math>ABC</math> be [[equilateral triangle|equilateral]], and <math>D, E,</math> and <math>F</math> be the [[midpoint]]s of <math>\\overline{BC}, \\overline{CA},</math> and <math>\\overline{AB},</math> respectively.  There exist [[point]]s <math>P, Q,</math> and <math>R</math> on <math>\\overline{DE}, \\overline{EF},</math> and <math>\\overline{FD},</math> respectively, with the property that <math>P</math> is on <math>\\overline{CQ}, Q</math> is on <math>\\overline{AR},</math> and <math>R</math> is on <math>\\overline{BP}.</math>  The [[ratio]] of the area of triangle <math>ABC</math> to the area of triangle <math>PQR</math> is <math>a + b\\sqrt {c},</math> where <math>a, b</math> and <math>c</math> are integers, and <math>c</math> is not divisible by the square of any [[prime]].  What is <math>a^{2} + b^{2} + c^{2}</math>?",
    "solution": "[[Image:1998_AIME-12.png]]\n\nWLOG, assume that <math>AB = BC = AC = 2</math>.\n\nWe let <math>x = EP = FQ</math>, <math>y = EQ</math>, <math>k = PQ</math>. Since <math>AE = \\frac {1}{2}AB</math> and <math>AD = \\frac {1}{2}AC</math>, <math>\\triangle AED \\sim \\triangle ABC</math> and <math>ED \\parallel BC</math>.\n\nBy alternate interior angles, we have <math>\\angle PEQ = \\angle BFQ</math> and <math>\\angle EPQ = \\angle FBQ</math>. By vertical angles, <math>\\angle EQP = \\angle FQB</math>. \n\nThus <math>\\triangle EQP \\sim \\triangle FQB</math>, so <math>\\frac {EP}{EQ} = \\frac {FB}{FQ}\\Longrightarrow\\frac {x}{y} = \\frac {1}{x}\\Longrightarrow x^{2} = y</math>.\n\nSince <math>\\triangle EDF</math> is equilateral, <math>EQ + FQ = EF = BF = 1\\Longrightarrow x + y = 1</math>. Solving for <math>x</math> and <math>y</math> using <math>x^{2} = y</math> and <math>x + y = 1</math> gives <math>x = \\frac {\\sqrt {5} - 1}{2}</math> and <math>y = \\frac {3 - \\sqrt {5}}{2}</math>.\n\nUsing the [[Law of Cosines]], we get\n<div style=\"text-align:center;\"><math>k^{2}  =  x^{2} + y^{2} - 2xy\\cos{\\frac {\\pi}{3}}</math> \n:<math> =  \\left(\\frac {\\sqrt {5} - 1}{2}\\right)^{2} + \\left(\\frac {3 - \\sqrt {5}}{2}\\right)^{2} - 2\\left(\\frac {\\sqrt {5} - 1}{2}\\right)\\left(\\frac {3 - \\sqrt {5}}{2}\\right)\\cos{\\frac {\\pi}{3}}</math>\n:<math> = 7 - 3\\sqrt {5}</math></div>\nWe want the ratio of the squares of the sides, so <math>\\frac {(2)^{2}}{k^{2}} = \\frac {4}{7 - 3\\sqrt {5}} = 7 + 3\\sqrt {5}</math> so <math>a^{2} + b^{2} + c^{2} = 7^{2} + 3^{2} + 5^{2} = \\boxed{083}</math>."
  },
  {
    "year": 1998,
    "variant": "I",
    "problem_number": 13,
    "latex": "If <math>\\{a_1,a_2,a_3,\\ldots,a_n\\}</math> is a [[set]] of [[real numbers]], indexed so that <math>a_1 < a_2 < a_3 < \\cdots < a_n,</math> its ''complex power sum'' is defined to be <math>a_1i + a_2i^2+ a_3i^3 + \\cdots + a_ni^n,</math> where <math>i^2 = - 1.</math>  Let <math>S_n</math> be the sum of the complex power sums of all nonempty [[subset]]s of <math>\\{1,2,\\ldots,n\\}.</math>  Given that <math>S_8 = - 176 - 64i</math> and <math> S_9 = p + qi,</math> where <math>p</math> and <math>q</math> are integers, find <math>\\left\\lvert p\\right\\rvert + \\left\\lvert q\\right\\rvert.</math>",
    "solution": "We note that the number of subsets (for now, including the empty subset, which we will just define to have a power sum of zero) with <math>9</math> in it is equal to the number of subsets without a <math>9</math>. To easily see this, take all possible subsets of <math>\\{1,2,\\ldots,8\\}</math>. Since the sets are ordered, a <math>9</math> must go at the end; hence we can just append a <math>9</math> to any of those subsets to get a new one. \n\nNow that we have drawn that [[bijection]], we can calculate the complex power sum recursively. Since appending a <math>9</math> to a subset doesn't change anything about that subset's complex power sum besides adding an additional term, we have that <math>S_9 = 2S_8 + T_9</math>, where <math>T_9</math> refers to the sum of all of the <math>9i^x</math>. \n\nIf a subset of size 1 has a 9, then its power sum must be <math>9i</math>, and there is only <math>1</math> of these such subsets. There are <math>{8\\choose1}</math> with <math>9\\cdot i^2</math>, <math>{8\\choose2}</math> with <math>9\\cdot i^3</math>, and so forth. So <math>T_9 =\\sum_{k=0}^{8} 9{8\\choose{k}}i^{k+1}</math>. This is exactly the [[binomial expansion]] of <math>9i \\cdot (1+i)^8</math>. We can use [[De Moivre's Theorem]] to calculate the power: <math>(\\sqrt{2})^8\\cos{8\\cdot45} = 16</math>. Hence <math>T_9 = 16\\cdot9i = 144i</math>, and <math>S_9 = 2S_8 + 144i = 2(-176 -64i) + 144i = -352 + 16i</math>. Thus, <math>\\left\\lvert p\\right\\rvert + \\left\\lvert q\\right\\rvert = \\left\\lvert -352\\right\\rvert + \\left\\lvert 16\\right\\rvert = \\boxed{368}</math>."
  },
  {
    "year": 1998,
    "variant": "I",
    "problem_number": 14,
    "latex": "An <math>m\\times n\\times p</math> rectangular box has half the volume of an <math>(m + 2)\\times(n + 2)\\times(p + 2)</math> rectangular box, where <math>m, n,</math> and <math>p</math> are integers, and <math>m\\le n\\le p.</math>  What is the largest possible value of <math>p</math>?",
    "solution": "<cmath>2mnp = (m+2)(n+2)(p+2)</cmath>\n\nLet‚Äôs solve for <math>p</math>:\n\n<cmath>(2mn)p = p(m+2)(n+2) + 2(m+2)(n+2)</cmath>\n<cmath>[2mn - (m+2)(n+2)]p = 2(m+2)(n+2)</cmath>\n<cmath>p = \\frac{2(m+2)(n+2)}{mn - 2n - 2m - 4} = \\frac{2(m+2)(n+2)}{(m-2)(n-2) - 8}</cmath>\n\nClearly, we want to minimize the denominator, so we test <math>(m-2)(n-2) - 8 = 1 \\Longrightarrow (m-2)(n-2) = 9</math>. The possible pairs of factors of <math>9</math> are <math>(1,9)(3,3)</math>. These give <math>m = 3, n = 11</math> and <math>m = 5, n = 5</math> respectively. Substituting into the numerator, we see that the first pair gives <math>130</math>, while the second pair gives <math>98</math>. We now check that <math>130</math> is optimal, setting <math>a=m-2</math>, <math>b=n-2</math> in order to simplify calculations. Since\n<cmath>0 \\le (a-1)(b-1) \\implies a+b \\le ab+1</cmath>\nWe have\n<cmath>p = \\frac{2(a+4)(b+4)}{ab-8} = \\frac{2ab+8(a+b)+32}{ab-8} \\le \\frac{2ab+8(ab+1)+32}{ab-8} = 10 + \\frac{120}{ab-8} \\le 130</cmath>\nWhere we see <math>(m,n)=(3,11)</math> gives us our maximum value of <math>\\boxed{130}</math>.\n\n*Note that <math>0 \\le (a-1)(b-1)</math> assumes <math>m,n \\ge 3</math>, but this is clear as <math>\\frac{2m}{m+2} = \\frac{(n+2)(p+2)}{np} > 1</math> and similarly for <math>n</math>."
  },
  {
    "year": 1998,
    "variant": "I",
    "problem_number": 15,
    "latex": "Define a ''domino'' to be an ordered pair of ''distinct'' positive integers. A ''proper sequence'' of dominos is a list of distinct dominos in which the first coordinate of each pair after the first equals the second coordinate of the immediately preceding pair, and in which <math>(i,j)</math> and <math>(j,i)</math> do not ''both'' appear for any <math>i</math> and <math>j</math>.  Let <math>D_{40}</math> be the set of all dominos whose coordinates are no larger than 40.  Find the length of the longest proper sequence of dominos that can be formed using the dominos of <math>D_{40}.</math>",
    "solution": "We can draw a comparison between the domino a set of 40 points (labeled 1 through 40) in which every point is connected with every other point. The connections represent the dominoes.\n\nYou need to have all even number of [[segment]]s coming from each point except 0 or 2 which have an odd number of segments coming from the point. (Reasoning for this: Everytime you go to a vertex, you have to leave the vertex, so every vertex reached is equivalent to adding 2 more segments. So the degree of each vertex must be even, with the exception of endpoints) Since there are 39 segments coming from each point it is impossible to touch every segment.\n\nBut you can get up to 38 on each segment because you go in to the point then out on a different segment.  Counting going out from the starting and ending at the ending point we have:\n\n<math>\\frac{38\\cdot 38 + 2\\cdot 39}2 = \\boxed{761}</math>\n\n===Clarification===\nTo clarify the above solution, every time you move to a new vertex, you take one path in and must leave by another path. Therefore every vertex needs to have an even number of segments leaving it (with the exception of the first and last), because the \"in\" and \"out\" segments must make a pair."
  },
  {
    "year": 1999,
    "variant": "I",
    "problem_number": 1,
    "latex": "Find the smallest prime that is the fifth term of an increasing [[arithmetic sequence]], all four preceding terms also being [[prime number|prime]].",
    "solution": "Obviously, all of the terms must be [[odd]]. The common difference between the terms cannot be <math>2</math> or <math>4</math>, since otherwise there would be a number in the sequence that is divisible by <math>3</math>. However, if the common difference is <math>6</math>, we find that <math>5,11,17,23</math>, and <math>29</math> form an [[arithmetic sequence]]. Thus, the answer is <math>029</math>."
  },
  {
    "year": 1999,
    "variant": "I",
    "problem_number": 2,
    "latex": "Consider the [[parallelogram]] with [[vertex|vertices]] <math>(10,45)</math>, <math>(10,114)</math>, <math>(28,153)</math>, and <math>(28,84)</math>.  A [[line]] through the [[origin]] cuts this figure into two [[congruent]] [[polygon]]s.  The [[slope]] of the line is <math>m/n,</math> where <math>m_{}</math> and <math>n_{}</math> are [[relatively prime]] [[positive]] [[integer]]s.  Find <math>m+n</math>.",
    "solution": "=== Solution 1 ===\nLet the first point on the line <math>x=10</math> be <math>(10,45+a)</math> where a is the height above <math>(10,45)</math>.  Let the second point on the line <math>x=28</math> be <math>(28, 153-a)</math>. For two given points, the line will pass the origin if the coordinates are [[proportion]]al (such that <math>\\frac{y_1}{x_1} = \\frac{y_2}{x_2}</math>). Then, we can write that <math>\\frac{45 + a}{10} = \\frac{153 - a}{28}</math>. Solving for <math>a</math> yields that <math>1530 - 10a = 1260 + 28a</math>, so <math>a=\\frac{270}{38}=\\frac{135}{19}</math>. The slope of the line (since it passes through the origin) is <math>\\frac{45 + \\frac{135}{19}}{10} = \\frac{99}{19}</math>, and the solution is <math>m + n = \\boxed{118}</math>.\n\n=== Solution 2 (the best solution)===\nYou can clearly see that a line that cuts a parallelogram into two congruent pieces must go through the center of the parallelogram. Taking the midpoint of <math>(10,45)</math>, and <math>(28,153)</math> gives <math>(19,99)</math>, which is the center of the parallelogram. Thus the slope of the line must be <math>\\frac{99}{19}</math>, and the solution is <math>\\boxed{118}</math>.\n\nEdit by ngourise: if u dont think this is the best solution then smh\n\n=== Solution 3 (Area) === \n\nNote that the area of the parallelogram is equivalent to <math>69 \\cdot 18 = 1242,</math> so the area of each of the two trapezoids with congruent area is <math>621.</math> Therefore, since the height is <math>18,</math> the sum of the bases of each trapezoid must be <math>69.</math> \n\nThe points where the line in question intersects the long side of the parallelogram can be denoted as <math>(10, \\frac{10m}{n})</math> and <math>(28, \\frac{28m}{n}),</math> respectively. We see that <math>\\frac{10m}{n} - 45 + \\frac{28m}{n} - 84 = 69,</math> so <math>\\frac{38m}{n} = 198 \\implies \\frac{m}{n} = \\frac{99}{19} \\implies \\boxed{118}.</math>\n\nSolution by Ilikeapos\n\n=== Solution 4 (centroid) (fastest way) === \n\n<math>(\\Sigma x_i /4, \\Sigma y_i /4)</math> is the centroid, which generates <math>(19,99)</math>, so the answer is <math>\\boxed{118}</math>. This is the fastest way because you do not need to find the opposite vertices by drawing.\n\nSolution by maxamc"
  },
  {
    "year": 1999,
    "variant": "I",
    "problem_number": 3,
    "latex": "Find the sum of all [[positive integer]]s <math>n</math> for which <math>n^2-19n+99</math> is a [[perfect square]].",
    "solution": "If <math>n^2-19n+99=x^2</math> for some positive integer <math>x</math>, then rearranging we get <math>n^2-19n+99-x^2=0</math>. Now from the quadratic formula, \n\n:<math>n=\\frac{19\\pm \\sqrt{4x^2-35}}{2}</math>\n\nBecause <math>n</math> is an integer, this means <math>4x^2-35=q^2</math> for some nonnegative integer <math>q</math>. Rearranging gives <math>(2x+q)(2x-q)=35</math>. Thus <math>(2x+q, 2x-q)=(35, 1)</math> or <math>(7,5)</math>, giving <math>x=3</math> or <math>9</math>. This gives <math>n=1, 9, 10,</math> or <math>18</math>, and the sum is <math>1+9+10+18=\\boxed{38}</math>."
  },
  {
    "year": 1999,
    "variant": "I",
    "problem_number": 4,
    "latex": "The two [[square]]s shown share the same [[center]] <math>O_{}</math> and have sides of length 1. The length of <math>\\overline{AB}</math> is <math>43/99</math> and the [[area]] of octagon <math>ABCDEFGH</math> is <math>m/n,</math> where <math>m_{}</math> and <math>n_{}</math> are [[relatively prime]] [[positive]] [[integer]]s.  Find <math>m+n.</math>\n\n<asy>\n//code taken from thread for problem\nreal alpha = 25;\npair W=dir(225), X=dir(315), Y=dir(45), Z=dir(135), O=origin;\npair w=dir(alpha)*W, x=dir(alpha)*X, y=dir(alpha)*Y, z=dir(alpha)*Z;\ndraw(W--X--Y--Z--cycle^^w--x--y--z--cycle);\npair A=intersectionpoint(Y--Z, y--z), \nC=intersectionpoint(Y--X, y--x), \nE=intersectionpoint(W--X, w--x), \nG=intersectionpoint(W--Z, w--z), \nB=intersectionpoint(Y--Z, y--x), \nD=intersectionpoint(Y--X, w--x), \nF=intersectionpoint(W--X, w--z), \nH=intersectionpoint(W--Z, y--z);\ndot(O);\nlabel(\"$O$\", O, SE);\nlabel(\"$A$\", A, dir(O--A));\nlabel(\"$B$\", B, dir(O--B));\nlabel(\"$C$\", C, dir(O--C));\nlabel(\"$D$\", D, dir(O--D));\nlabel(\"$E$\", E, dir(O--E));\nlabel(\"$F$\", F, dir(O--F));\nlabel(\"$G$\", G, dir(O--G));\nlabel(\"$H$\", H, dir(O--H));</asy>\n__TOC__",
    "solution": "Triangles <math>AOB</math>, <math>BOC</math>, <math>COD</math>, etc. are congruent by symmetry (you can prove it rigorously by using the power of a point to argue that exactly two chords of length <math>1</math> in the circumcircle of the squares pass through <math>B</math>, etc.), and each area is <math>\\frac{\\frac{43}{99}\\cdot\\frac{1}{2}}{2}</math>. Since the area of a triangle is <math>bh/2</math>, the area of all <math>8</math> of them is <math>\\frac{86}{99}</math> and the answer is <math>\\boxed{185}</math>."
  },
  {
    "year": 1999,
    "variant": "I",
    "problem_number": 5,
    "latex": "For any positive integer <math>x_{}</math>, let <math>S(x)</math> be the sum of the digits of <math>x_{}</math>, and let <math>T(x)</math> be <math>|S(x+2)-S(x)|.</math>  For example, <math>T(199)=|S(201)-S(199)|=|3-19|=16.</math>  How many values of <math>T(x)</math> do not exceed 1999?",
    "solution": "For most values of <math>x</math>, <math>T(x)</math> will equal <math>2</math>. For those that don't, the difference must be bumping the number up a ten, a hundred, etc. If we take <math>T(a999)</math> as an example,\n<cmath>|(a + 1) + 0 + 0 + 1 - (a + 9 + 9 + 9)| = |2 - 9(3)|</cmath>\nAnd in general, the values of <math>T(x)</math> will then be in the form of <math>|2 - 9n| = 9n - 2</math>. From <math>7</math> to <math>1999</math>, there are <math>\\left\\lceil \\frac{1999 - 7}{9}\\right\\rceil = 222</math> solutions; including <math>2</math> and there are a total of <math>\\boxed{223}</math> solutions."
  },
  {
    "year": 1999,
    "variant": "I",
    "problem_number": 6,
    "latex": "A transformation of the first [[quadrant]] of the [[coordinate plane]] maps each point <math>(x,y)</math> to the point <math>(\\sqrt{x},\\sqrt{y}).</math>  The [[vertex|vertices]] of [[quadrilateral]] <math>ABCD</math> are <math>A=(900,300), B=(1800,600), C=(600,1800),</math> and <math>D=(300,900).</math>  Let <math>k_{}</math> be the area of the region enclosed by the image of quadrilateral <math>ABCD.</math>  Find the greatest integer that does not exceed <math>k_{}.</math>",
    "solution": "<cmath>\\begin{eqnarray*}A' = & (\\sqrt {900}, \\sqrt {300})\\\\\nB' = & (\\sqrt {1800}, \\sqrt {600})\\\\\nC' = & (\\sqrt {600}, \\sqrt {1800})\\\\\nD' = & (\\sqrt {300}, \\sqrt {900}) \\end{eqnarray*}</cmath>\n\nFirst we see that lines passing through <math>AB</math> and <math>CD</math> have [[equation]]s <math>y = \\frac {1}{3}x</math> and <math>y = 3x</math>, respectively. Looking at the points above, we see the equations for <math>A'B'</math> and <math>C'D'</math> are <math>y^2 = \\frac {1}{3}x^2</math> and <math>y^2 = 3x^2</math>, or, after manipulation <math>y = \\frac {x}{\\sqrt {3}}</math> and <math>y = \\sqrt {3}x</math>, respectively, which are still linear functions. Basically the square of the image points gives back the original points and we could plug them back into the original equation to get the equation of the image lines. \n\nNow take a look at <math>BC</math> and <math>AD</math>, which have the equations <math>y = - x + 2400</math> and <math>y = - x + 1200</math>. The image equations hence are <math>x^2 + y^2 = 2400</math> and <math>x^2 + y^2 = 1200</math>, respectively, which are the equations for [[circle]]s. \n\n[[Image:1999_AIME-6.png]]\n\nTo find the area between the circles (actually, parts of the circles), we need to figure out the [[angle]] of the [[arc]]. This could be done by <math>\\arctan \\sqrt {3} - \\arctan \\frac {1}{\\sqrt {3}} = 60^\\circ - 30^\\circ = 30^\\circ</math>. So the requested areas are the area of the enclosed part of the smaller circle subtracted from the area enclosed by the part of the larger circle = <math>\\frac {30^\\circ}{360^\\circ}(R^2\\pi - r^2\\pi) = \\frac {1}{12}(2400\\pi - 1200\\pi) = 100\\pi</math>. Hence the answer is <math>\\boxed{314}</math>."
  },
  {
    "year": 1999,
    "variant": "I",
    "problem_number": 7,
    "latex": "There is a set of 1000 switches, each of which has four positions, called <math>A, B, C</math>, and <math>D</math>.  When the position of any switch changes, it is only from <math>A</math> to <math>B</math>, from <math>B</math> to <math>C</math>, from <math>C</math> to <math>D</math>, or from <math>D</math> to <math>A</math>.  Initially each switch is in position <math>A</math>.  The switches are labeled with the 1000 different integers <math>(2^{x})(3^{y})(5^{z})</math>, where <math>x, y</math>, and <math>z</math> take on the values <math>0, 1, \\ldots, 9</math>.  At step i of a 1000-step process, the <math>i</math>-th switch is advanced one step, and so are all the other switches whose labels divide the label on the <math>i</math>-th switch.  After step 1000 has been completed, how many switches will be in position <math>A</math>?",
    "solution": "For each <math>i</math>th switch (designated by <math>x_{i},y_{i},z_{i}</math>), it advances ''itself'' only one time at the <math>i</math>th step; thereafter, only a switch with larger <math>x_{j},y_{j},z_{j}</math> values will advance the <math>i</math>th switch by one step provided <math>d_{i}= 2^{x_{i}}3^{y_{i}}5^{z_{i}}</math> divides <math>d_{j}= 2^{x_{j}}3^{y_{j}}5^{z_{j}}</math>. Let <math>N = 2^{9}3^{9}5^{9}</math> be the max switch label. To find the divisor multiples in the range of <math>d_{i}</math> to <math>N</math>, we consider the exponents of the number <math>\\frac{N}{d_{i}}= 2^{9-x_{i}}3^{9-y_{i}}5^{9-z_{i}}</math>. In general, the divisor-count of <math>\\frac{N}{d}</math> must be a multiple of 4 to ensure that a switch is in position A:\n\n<center><math>4n = [(9-x)+1] [(9-y)+1] [(9-z)+1] = (10-x)(10-y)(10-z)</math>, where <math>0 \\le x,y,z \\le 9.</math></center>\n\nWe consider the cases where the 3 factors above do not contribute multiples of 4.\n\n*Case of no 2's:\n\n:The switches must be <math>(\\mathrm{odd})(\\mathrm{odd})(\\mathrm{odd})</math>. There are <math>5</math> [[odd integer]]s in <math>0</math> to <math>9</math>, so we have <math>5 \\times 5 \\times 5 = 125</math> ways.\n\n*Case of a single 2:\n\n:The switches must be one of <math>(2\\cdot \\mathrm{odd})(\\mathrm{odd})(\\mathrm{odd})</math> or <math>(\\mathrm{odd})(2 \\cdot \\mathrm{odd})(\\mathrm{odd})</math> or <math>(\\mathrm{odd})(\\mathrm{odd})(2 \\cdot \\mathrm{odd})</math>.\n\n:Since <math>0 \\le x,y,z \\le 9,</math> the terms <math>2\\cdot 1, 2 \\cdot 3,</math> and <math>2 \\cdot 5</math> are three valid choices for the <math>(2 \\cdot odd)</math> factor above.\n\n:We have <math>{3\\choose{1}} \\cdot 3 \\cdot 5^{2}= 225</math> ways. \n\nThe number of switches in position A is <math>1000-125-225 = \\boxed{650}</math>."
  },
  {
    "year": 1999,
    "variant": "I",
    "problem_number": 8,
    "latex": "Let <math>\\mathcal{T}</math> be the set of ordered triples <math>(x,y,z)</math> of nonnegative [[real number]]s that lie in the [[plane]] <math>x+y+z=1.</math>  Let us say that <math>(x,y,z)</math> supports <math>(a,b,c)</math> when exactly two of the following are true: <math>x\\ge a, y\\ge b, z\\ge c.</math>  Let <math>\\mathcal{S}</math> consist of those triples in <math>\\mathcal{T}</math> that support <math>\\left(\\frac 12,\\frac 13,\\frac 16\\right).</math>  The area of <math>\\mathcal{S}</math> divided by the area of <math>\\mathcal{T}</math> is <math>m/n,</math>  where <math>m_{}</math> and <math>n_{}</math> are relatively prime positive integers. Find <math>m+n.</math>",
    "solution": "This problem just requires a good diagram and strong 3D visualization.\n\n[[Image:1999_AIME-8.png]]\n\nThe region in <math>(x,y,z)</math> where <math>x \\ge \\frac{1}{2}, y \\ge \\frac{1}{3}</math> is that of a little triangle on the bottom of the above diagram, of <math>y \\ge \\frac{1}{3}, z \\ge \\frac{1}{6}</math> is the triangle at the right, and <math>x \\ge \\frac 12, z \\ge \\frac 16</math> the triangle on the left, where the triangles are coplanar with the large equilateral triangle formed by <math>x+y+z=1,\\ x,y,z \\ge 0</math>. We can check that each of the three regions mentioned fall under exactly two of the inequalities and not the third. \n\n[[Image:1999_AIME-8a.png]]\n\nThe side length of the large equilateral triangle is <math>\\sqrt{2}</math>, which we can find using 45-45-90 <math>\\triangle</math> with the axes. Using the formula <math>A = \\frac{s^2\\sqrt{3}}{4}</math> for [[equilateral triangle]]s, the area of the large triangle is <math>\\frac{(\\sqrt{2})^2\\sqrt{3}}{4} = \\frac{\\sqrt{3}}{2}</math>. Since the lines of the smaller triangles are [[parallel]] to those of the large triangle, by corresponding angles we see that all of the triangles are [[similar triangles|similar]], so they are all equilateral triangles. We can solve for their side lengths easily by subtraction, and we get <math>\\frac{\\sqrt{2}}{6}, \\frac{\\sqrt{2}}{3}, \\frac{\\sqrt{2}}{2}</math>. Calculating their areas, we get <math>\\frac{\\sqrt{3}}{8}, \\frac{\\sqrt{3}}{18}, \\frac{\\sqrt{3}}{72}</math>. The [[ratio]] <math>\\frac{\\mathcal{S}}{\\mathcal{T}} = \\frac{\\frac{9\\sqrt{3} + 4\\sqrt{3} + \\sqrt{3}}{72}}{\\frac{\\sqrt{3}}{2}} = \\frac{14}{36} = \\frac{7}{18}</math>, and the answer is <math>m + n = \\boxed{025}</math>.\n\nTo simplify the problem, we could used the fact that the area ratios are equal to the side ratios squared, and we get <math>\\left(\\frac{1}{2}\\right)^2 + \\left(\\frac{1}{3}\\right)^2 + \\left(\\frac{1}{6}\\right)^2 = \\frac{14}{36} = \\frac{7}{18}</math>."
  },
  {
    "year": 1999,
    "variant": "I",
    "problem_number": 9,
    "latex": "A function <math>f</math> is defined on the [[complex number]]s by <math>f(z)=(a+bi)z,</math> where <math>a_{}</math> and <math>b_{}</math> are positive numbers.  This [[function]] has the property that the image of each point in the complex plane is [[equidistant]] from that point and the [[origin]].  Given that <math>|a+bi|=8</math> and that <math>b^2=m/n,</math> where <math>m_{}</math> and <math>n_{}</math> are relatively prime positive integers,  find <math>m+n.</math>",
    "solution": "Suppose we pick an arbitrary point on the [[complex plane]], say <math>(1,1)</math>. According to the definition of <math>f(z)</math>,  <cmath>f(1+i) = (a+bi)(1+i) = (a-b) + (a+b)i,</cmath> this image must be equidistant to <math>(1,1)</math> and <math>(0,0)</math>. Thus the image must lie on the line with slope <math>-1</math> and which passes through <math>\\left(\\frac 12, \\frac12\\right)</math>, so its graph is <math>x + y = 1</math>. Substituting <math>x = (a-b)</math> and <math>y = (a+b)</math>, we get <math>2a = 1 \\Rightarrow a = \\frac 12</math>. \n\nBy the [[Pythagorean Theorem]], we have <math>\\left(\\frac{1}{2}\\right)^2 + b^2 = 8^2 \\Longrightarrow b^2 = \\frac{255}{4}</math>, and the answer is <math>\\boxed{259}</math>."
  },
  {
    "year": 1999,
    "variant": "I",
    "problem_number": 10,
    "latex": "Ten [[point]]s in the plane are given, with no three [[collinear]].  Four distinct [[segment]]s joining pairs of these points are chosen at random, all such segments being equally likely.  The [[probability]] that some three of the segments form a [[triangle]] whose vertices are among the ten given points is <math>m/n,</math> where <math>m_{}</math> and <math>n_{}</math> are [[relatively prime]] [[positive]] [[integer]]s.  Find <math>m+n.</math>",
    "solution": "First, let us find the number of triangles that can be formed from the 10 points. Since none of the points are collinear, it is possible to pick <math>{10\\choose3}</math> sets of 3 points which form triangles. However, a fourth distinct segment must also be picked. Since the triangle accounts for 3 segments, there are <math>45 - 3 = 42</math> segments remaining.\n\nThe total number of ways of picking four distinct segments is <math>{45\\choose4}</math>. Thus, the requested probability is <math>\\frac{{10\\choose3} \\cdot 42}{{45\\choose4}} = \\frac{10 \\cdot 9 \\cdot 8 \\cdot 42 \\cdot 4!}{45 \\cdot 44 \\cdot 43 \\cdot 42 \\cdot 3!} = \\frac{16}{473}</math>. The solution is <math>m + n = 489</math>."
  },
  {
    "year": 1999,
    "variant": "I",
    "problem_number": 11,
    "latex": "Given that <math>\\sum_{k=1}^{35}\\sin 5k=\\tan \\frac mn,</math> where angles are measured in degrees, and <math>m_{}</math> and <math>n_{}</math> are relatively prime positive integers that satisfy <math>\\frac mn<90,</math> find <math>m+n.</math>",
    "solution": "Let <math>s = \\sum_{k=1}^{35}\\sin 5k  = \\sin 5 + \\sin 10 + \\ldots + \\sin 175</math>. We could try to manipulate this sum by wrapping the terms around (since the first half is equal to the second half), but it quickly becomes apparent that this way is difficult to pull off. Instead, we look to [[telescope]] the sum. Using the [[trigonometric identity|identity]] <math>\\sin a \\sin b = \\frac 12(\\cos (a-b) - \\cos (a+b))</math>, we can rewrite <math>s</math> as \n\n<cmath>\n\\begin{align*}\ns \\cdot \\sin 5 = \\sum_{k=1}^{35} \\sin 5k \\sin 5 &= \\sum_{k=1}^{35} \\frac{1}{2}(\\cos (5k - 5)- \\cos (5k + 5))\\\\\n&= 0.5(\\cos 0 - \\cos 10 + \\cos 5 - \\cos 15 + \\cos 10 \\ldots + \\cos 165 - \\cos 175+ \\cos 170 - \\cos 180)\n\\end{align*}</cmath>\n\nThis telescopes to <cmath>s = \\frac{\\cos 0 + \\cos 5 - \\cos 175 - \\cos 180}{2 \\sin 5} = \\frac{1 + \\cos 5}{\\sin 5}.</cmath> Manipulating this to use the identity <math>\\tan x = \\frac{1 - \\cos 2x}{\\sin 2x}</math>, we get <cmath>s = \\frac{1 - \\cos 175}{\\sin 175} \\Longrightarrow s = \\tan \\frac{175}{2},</cmath> and our answer is <math>\\boxed{177}</math>."
  },
  {
    "year": 1999,
    "variant": "I",
    "problem_number": 12,
    "latex": "The inscribed circle of triangle <math>ABC</math> is [[tangent]] to <math>\\overline{AB}</math> at <math>P_{},</math>  and its [[radius]] is <math>21</math>.  Given that <math>AP=23</math> and <math>PB=27,</math> find the [[perimeter]] of the triangle.\n\n__TOC__",
    "solution": "<center><asy>\npathpen = black + linewidth(0.65); pointpen = black;\npair A=(0,0),B=(50,0),C=IP(circle(A,23+245/2),circle(B,27+245/2)), I=incenter(A,B,C);\npath P = incircle(A,B,C);\nD(MP(\"A\",A)--MP(\"B\",B)--MP(\"C\",C,N)--cycle);D(P);\nD(MP(\"P\",IP(A--B,P)));\npair Q=IP(C--A,P),R=IP(B--C,P);\nD(MP(\"R\",R,NE));D(MP(\"Q\",Q,NW));\nMP(\"23\",(A+Q)/2,W);MP(\"27\",(B+R)/2,E);\n</asy></center>\n\n=== Solution 1 ===\nLet <math>Q</math> be the tangency point on <math>\\overline{AC}</math>, and <math>R</math> on <math>\\overline{BC}</math>. By the [[Two Tangent Theorem]], <math>AP = AQ = 23</math>, <math>BP = BR = 27</math>, and <math>CQ = CR = x</math>. Using <math>rs = A</math>, where <math>s = \\frac{27 \\cdot 2 + 23 \\cdot 2 + x \\cdot 2}{2} = 50 + x</math>, we get <math>(21)(50 + x) = A</math>. By [[Heron's formula]], <math>A = \\sqrt{s(s-a)(s-b)(s-c)} = \\sqrt{(50+x)(x)(23)(27)}</math>. Equating and squaring both sides, \n\n<cmath>\n\\begin{eqnarray*} \n[21(50+x)]^2 &=& (50+x)(x)(621)\\\\\n441(50+x) &=& 621x\\\\\n180x = 441 \\cdot 50 &\\Longrightarrow & x = \\frac{245}{2}  \n\\end{eqnarray*}\n</cmath>\n\nWe want the perimeter, which is <math>2s = 2\\left(50 + \\frac{245}{2}\\right) = \\boxed{345}</math>.\n\n=== Solution 2 ===\nLet the incenter be denoted <math>I</math>.  It is commonly known that the incenter is the intersection of the angle bisectors of a triangle.  So let <math>\\angle ABI = \\angle CBI = \\alpha, \\angle BAI = \\angle CAI = \\beta,</math> and <math>\\angle BCI = \\angle ACI = \\gamma.</math>\n\nWe have that\n<cmath>\n\\begin{eqnarray*} \\tan \\alpha & = & \\frac {21}{27} \\\\\n\\tan \\beta & = & \\frac {21}{23} \\\\\n\\tan \\gamma & = & \\frac {21}x. \\end{eqnarray*}\n</cmath>\nSo naturally we look at <math>\\tan \\gamma.</math>  But since <math>\\gamma = \\frac \\pi2 - (\\beta + \\alpha)</math> we have\n<cmath>\n\\begin{eqnarray*} \\tan \\gamma & = & \\tan\\left(\\frac \\pi2 - (\\beta + \\alpha)\\right) \\\\\n& = & \\frac 1{\\tan(\\alpha + \\beta)} \\\\\n\\Rightarrow \\frac {21}x & = & \\frac {1 - \\frac {21\\cdot 21}{23\\cdot 27}}{\\frac {21}{27} + \\frac {21}{23}} \\end{eqnarray*}\n</cmath>\nDoing the algebra, we get <math>x = \\frac {245}2.</math>\n\nThe perimeter is therefore <math>2\\cdot\\frac {245}2 + 2\\cdot 23 + 2\\cdot 27 = \\boxed{345}.</math>"
  },
  {
    "year": 1999,
    "variant": "I",
    "problem_number": 13,
    "latex": "Forty teams play a tournament in which every team plays every other team exactly once.  No ties occur, and each team has a <math>50 \\%</math> chance of winning any game it plays.  The [[probability]] that no two teams win the same number of games is <math>\\frac mn,</math> where <math>m_{}</math> and <math>n_{}</math> are [[relatively prime]] positive integers.  Find <math>\\log_2 n.</math>",
    "solution": "There are <math>{40 \\choose 2} = 780</math> total pairings of teams, and thus <math>2^{780}</math> possible outcomes. In order for no two teams to win the same number of games, they must each win a different number of games. Since the minimum and maximum possible number of games won are 0 and 39 respectively, and there are 40 teams in total, each team corresponds uniquely with some <math>k</math>, with <math>0 \\leq k \\leq 39</math>, where <math>k</math> represents the number of games the team won. With this in mind, we see that there are a total of <math>40!</math> outcomes in which no two teams win the same number of games. Further, note that these are all the valid combinations, as the team with 1 win must beat the team with 0 wins, the team with 2 wins must beat the teams with 1 and 0 wins, and so on; thus, this uniquely defines a combination.\n\n\nThe desired probability is thus <math>\\frac{40!}{2^{780}}</math>. We wish to simplify this into the form <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime. The only necessary step is to factor out all the powers of 2 from <math>40!</math>; the remaining number is clearly relatively prime to all powers of 2. \n\n\nThe number of powers of 2 in <math>40!</math> is <math>\\left \\lfloor \\frac{40}{2} \\right \\rfloor + \\left \\lfloor \\frac{40}{4} \\right \\rfloor + \\left \\lfloor \\frac{40}{8} \\right \\rfloor + \\left \\lfloor \\frac{40}{16} \\right \\rfloor + \\left \\lfloor \\frac{40}{32} \\right \\rfloor = 20 + 10 + 5 + 2 + 1 = 38.</math> \n\n\n<math>780-38 = \\boxed{742}</math>."
  },
  {
    "year": 1999,
    "variant": "I",
    "problem_number": 14,
    "latex": "[[Point]] <math>P_{}</math> is located inside [[triangle]] <math>ABC</math> so that [[angle]]s <math>PAB, PBC,</math> and <math>PCA</math> are all congruent.  The sides of the triangle have lengths <math>AB=13, BC=14,</math> and <math>CA=15,</math> and the [[tangent]] of angle <math>PAB</math> is <math>m/n,</math> where <math>m_{}</math> and <math>n_{}</math> are relatively [[prime]] positive integers.  Find <math>m+n.</math>\n\n__TOC__",
    "solution": "<center><asy>\nreal theta = 29.66115; /* arctan(168/295) to five decimal places .. don't know other ways to construct Brocard */ \npathpen = black +linewidth(0.65); pointpen = black;\npair A=(0,0),B=(13,0),C=IP(circle(A,15),circle(B,14));\nD(MP(\"A\",A)--MP(\"B\",B)--MP(\"C\",C,N)--cycle);\n\n/* constructing P, C is there as check */\npair Aa=A+(B-A)*dir(theta),Ba=B+(C-B)*dir(theta),Ca=C+(A-C)*dir(theta), P=IP(A--Aa,B--Ba); \nD(A--MP(\"P\",P,NW)--B);D(P--C);\nD(anglemark(B,A,P,30));D(anglemark(C,B,P,30));D(anglemark(A,C,P,30));\nMP(\"13\",(A+B)/2,S);MP(\"15\",(A+C)/2,NW);MP(\"14\",(C+B)/2,NE);\n</asy></center>\n<!--This image does exist now: [[Image:1999_AIME-14.png]]-->\n\n=== Solution 1 ===\nDrop [[perpendicular]]s from <math>P</math> to the three sides of <math>\\triangle ABC</math> and let them meet <math>\\overline{AB}, \\overline{BC},</math> and <math>\\overline{CA}</math> at <math>D, E,</math> and <math>F</math> respectively.  \n\n<center><asy>\nimport olympiad;\nreal theta = 29.66115; /* arctan(168/295) to five decimal places .. don't know other ways to construct Brocard */ \npathpen = black +linewidth(0.65); pointpen = black;\npair A=(0,0),B=(13,0),C=IP(circle(A,15),circle(B,14));\nD(MP(\"A\",A)--MP(\"B\",B)--MP(\"C\",C,N)--cycle);\n\n/* constructing P, C is there as check */\npair Aa=A+(B-A)*dir(theta),Ba=B+(C-B)*dir(theta),Ca=C+(A-C)*dir(theta), P=IP(A--Aa,B--Ba); \nD(A--MP(\"P\",P,SSW)--B);D(P--C);\nD(anglemark(B,A,P,30));D(anglemark(C,B,P,30));D(anglemark(A,C,P,30));\nMP(\"13\",(A+B)/2,S);MP(\"15\",(A+C)/2,NW);MP(\"14\",(C+B)/2,NE);\n\n/* constructing D,E,F as foot of perps from P */\npair D=foot(P,A,B),E=foot(P,B,C),F=foot(P,C,A);\nD(MP(\"D\",D,NE)--P--MP(\"E\",E,SSW),dashed);D(P--MP(\"F\",F),dashed);\nD(rightanglemark(P,E,C,15));D(rightanglemark(P,F,C,15));D(rightanglemark(P,D,A,15));\n</asy></center>\n\nLet <math>BE = x, CF = y,</math> and <math>AD = z</math>.  We have that\n<cmath>\n\\begin{align*}DP&=z\\tan\\theta\\\\\nEP&=x\\tan\\theta\\\\\nFP&=y\\tan\\theta\\end{align*}\n</cmath>\nWe can then use the tool of calculating area in two ways\n<cmath>\n\\begin{align*}[ABC]&=[PAB]+[PBC]+[PCA]\\\\\n&=\\frac{1}{2}(13)(z\\tan\\theta)+\\frac{1}{2}(14)(x\\tan\\theta)+\\frac{1}{2}(15)(y\\tan\\theta)\\\\\n&=\\frac{1}{2}\\tan\\theta(13z+14x+15y)\\end{align*}\n</cmath>\nOn the other hand,\n<cmath>\n\\begin{align*}[ABC]&=\\sqrt{s(s-a)(s-b)(s-c)}\\\\\n&=\\sqrt{21\\cdot6\\cdot7\\cdot8}\\\\\n&=84\\end{align*}\n</cmath>\nWe still need <math>13z+14x+15y</math> though. We have all these [[right triangle]]s and we haven't even touched [[Pythagorean theorem|Pythagoras]]. So we give it a shot:\n<cmath>\n\\begin{align}x^2+x^2\\tan^2\\theta&=z^2\\tan^2\\theta+(13-z)^2\\\\\nz^2+z^2\\tan^2\\theta&=y^2\\tan^2\\theta+(15-y)^2\\\\\ny^2+y^2\\tan^2\\theta&=x^2\\tan^2\\theta+(14-x)^2\\end{align}\n</cmath>\nAdding <math>(1) + (2) + (3)</math> gives\n<cmath>\n\\begin{align*}x^2+y^2+z^2&=(14-x)^2+(15-y)^2+(13-z)^2\\\\\n\\Rightarrow13z+14x+15y&=295\\end{align*}\n</cmath>\nRecall that we found that <math>[ABC]=\\frac{1}{2}\\tan\\theta(13z+14x+15y)=84</math>. Plugging in <math>13z+14x+15y=295</math>, we get <math>\\tan\\theta=\\frac{168}{295}</math>, giving us <math>\\boxed{463}</math> for an answer.\n\n=== Solution 2 ===\nLet <math>AB=c</math>, <math>BC=a</math>, <math>AC=b</math>, <math>PA=x</math>, <math>PB=y</math>, and <math>PC=z</math>.\n\nSo by the [[Law of Cosines]], we have:\n<cmath>\n\\begin{align*}x^2 &= z^2 + b^2 - 2bz\\cos{\\theta}\\\\\ny^2 &= x^2 + c^2 - 2cx\\cos{\\theta}\\\\\nz^2 &= y^2 + a^2 - 2ay\\cos{\\theta}\\end{align*}\n</cmath>\nAdding these equations and rearranging, we have:\n<cmath>\na^2 + b^2 + c^2 = (2bz + 2cx + 2ay)\\cos{\\theta}\\qquad(1)\n</cmath>\nNow <math>[CAP] + [ABP] + [BCP] = [ABC] = \\sqrt {(21)(8)(7)(6)} = 84</math>, by [[Heron's formula]].\n\nNow the area of a triangle, <math>[A] = \\frac {mn\\sin{\\beta}}{2}</math>, where <math>m</math> and <math>n</math> are sides on either side of an angle, <math>\\beta</math>. So, \n<cmath>\n\\begin{align*}[CAP] &= \\frac {bz\\sin{\\theta}}{2}\\\\\n[ABP] &= \\frac {cx\\sin{\\theta}}{2}\\\\\n[BCP] &= \\frac {ay\\sin{\\theta}}{2}\\end{align*}\n</cmath>\nAdding these equations yields:\n<cmath>\\begin{align*}[ABC]= 84 &= \\frac {(bz + cx + ay)\\sin{\\theta}}{2}\\\\\n\\Rightarrow 168&= (bz + cx + ay)\\sin{\\theta}\\qquad (2)\\end{align*}\n</cmath>\nDividing <math>(2)</math> by <math>(1)</math>, we have:\n<cmath>\n\\begin{align*}\\frac {168}{a^2 + b^2 + c^2} &= \\frac {(bz + cx + ay)\\sin{\\theta}}{(2bz + 2cx + 2ay)\\cos{\\theta}}\\\\\n\\Rightarrow \\tan{\\theta} = \\frac {336}{a^2 + b^2 + c^2} &= \\frac {336}{14^2 + 15^2 + 13^2} = \\frac {336}{590} = \\frac {168}{295}\\end{align*}\n</cmath>\nThus, <math>m + n = 168 + 295 = \\boxed{463}</math>.\n\nNote: In fact, this problem is unfairly easy to those who happen to have learned about Brocard point. The Brocard Angle is given by\n<cmath>cot(\\theta)=\\frac{a^2+b^2+c^2}{4\\Delta}</cmath>\n\n=== Solution 3 ===\n\nLet <math>\\angle{PAB} = \\angle{PBC} = \\angle{PCA} = x.</math> Then, using Law of Cosines on the three triangles containing vertex <math>P,</math> we have\n<cmath>\n\\begin{align*}\nb^2 &= a^2 + 169 - 26a \\cos x \\\\\nc^2 &= b^2 + 196 - 28b \\cos x \\\\\na^2 &= c^2 + 225 - 30c \\cos x.\n\\end{align*}\n</cmath>\nAdd the three equations up and rearrange to obtain <cmath>(13a + 14b + 15c) \\cos x = 295.</cmath> Also, using <math>[ABC] = \\frac{1}{2}ab \\sin \\angle C</math> we have <cmath>[ABC] = [APB] + [BPC] + [CPA] = \\dfrac{\\sin x}{2}(13a + 14b + 15c) = 84 \\iff (13a + 14b + 15c) \\sin x = 168.</cmath> Divide the two equations to obtain <math>\\tan x = \\frac{168}{295} \\iff \\boxed{463}.~\\square</math>\n\n\n=== Solution 4 (Law of sines) ===\nFirstly, denote angles <math>ABC</math>, <math>BCA</math>, and <math>CAB</math> as <math>B</math>, <math>A</math>, and <math>C</math> respectively. Let <math>\\angle{PAB}=x</math>.\nNotice that by angle chasing that <math>\\angle{BPC}=180-C</math> and <math>\\angle{BPA}=180-B</math>.\nUsing the nice properties of the 13-14-15 triangle, we have <math>\\sin B = \\frac{12}{13}</math> and <math>\\sin C = \\frac{4}{5}</math>. <math>\\cos C</math> is easily computed, so we have <math>\\cos C=\\frac{3}{5}</math>.\n\nUsing Law of Sines,\n<cmath>\n\\begin{align*}\n\\frac{BP}{\\sin x} &= \\frac{13}{\\sin (180 - B)} \\\\\n\\frac{BP}{\\sin (C - x)} &= \\frac{14}{\\sin (180 - C)}\n\\end{align*}\n</cmath>\nhence, \n<cmath>\n\\begin{align*}\n\\frac{BP}{\\sin x} &= \\frac{13}{\\sin B} \\\\\n\\frac{BP}{\\sin (C - x)} &= \\frac{14}{\\sin C}\n\\end{align*}\n</cmath>\nNow, computation carries the rest.\n<cmath>\n\\begin{align*}\n\\frac{13 \\sin x}{\\sin B} &= \\frac{14 \\sin (C-x)}{\\sin C}  \\\\\n\\frac{169 \\sin x}{12} &= \\frac{210 \\sin (C-x)}{12} \\\\\n169 \\sin x &= 210 (\\sin C \\cos x - \\cos C \\sin x) \\\\\n169 \\sin x &= 210 (\\frac{4}{5} \\cos x - \\frac{3}{5} \\sin x) \\\\\n169 \\sin x &= 168 \\cos x - 126 \\sin x \\\\\n295 \\sin x &= 168 \\cos x \\\\\n\\tan x &= \\frac{168}{295}\n\\end{align*}\n</cmath>\nExtracting yields <math>168 + 295 = \\boxed{463}</math>."
  },
  {
    "year": 1999,
    "variant": "I",
    "problem_number": 15,
    "latex": "Consider the paper triangle whose vertices are <math>(0,0), (34,0),</math> and <math>(16,24).</math>  The vertices of its midpoint triangle are the [[midpoint]]s of its sides.  A triangular [[pyramid]] is formed by folding the triangle along the sides of its midpoint triangle.  What is the volume of this pyramid?",
    "solution": "<center><asy>defaultpen(fontsize(9)+linewidth(0.63)); pair A=(0,0), B=(16,24), C=(34,0), P=(8,12), Q=(25,12), R=(17,0); draw(A--B--C--A);draw(P--Q--R--P); draw(A--foot(A,B,C));draw(B--foot(B,A,C));draw(C--foot(C,A,B)); label(\"\\(A\\)\",A,SW);label(\"\\(B\\)\",B,NW);label(\"\\(C\\)\",C,SE); label(\"\\(D\\)\",foot(A,B,C),NE);label(\"\\(E\\)\",foot(B,A,C),SW);label(\"\\(F\\)\",foot(C,A,B),NW);label(\"\\(P\\)\",P,NW);label(\"\\(Q\\)\",Q,NE);label(\"\\(R\\)\",R,SE);</asy><asy>import three; defaultpen(linewidth(0.6));\ncurrentprojection=orthographic(1/2,-1,1/2); triple A=(0,0,0), B=(16,24,0), C=(34,0,0), P=(8,12,0), Q=(25,12,0), R=(17,0,0), S=(16,12,12); draw(A--B--C--A); draw(P--Q--R--P); draw(S--P..S--Q..S--R); draw(S--(16,12,0)); </asy></center><!-- Asymptote renderings of Image:AIME_1999_Solution_15_1.png, Image:AIME_1999_Solution_15_2.png, by Minsoens -->\nAs shown in the image above, let <math>D</math>, <math>E</math>, and <math>F</math> be the midpoints of <math>\\overline{BC}</math>, <math>\\overline{CA}</math>, and <math>\\overline{AB}</math>, respectively.  Suppose <math>P</math> is the apex of the tetrahedron, and let <math>O</math> be the foot of the altitude from <math>P</math> to <math>\\triangle ABC</math>.  The crux of this problem is the following lemma.\n\n<b>Lemma:</b> The point <math>O</math> is the orthocenter of <math>\\triangle ABC</math>.\n\n<i>Proof.</i> Observe that <cmath>OF^2 - OE^2 = PF^2 - PE^2 = AF^2 - AE^2;</cmath> the first equality follows by the Pythagorean Theorem, while the second follows from <math>AF = FP</math> and <math>AE = EP</math>.  Thus, by the Perpendicularity Lemma, <math>AO</math> is perpendicular to <math>FE</math> and hence <math>BC</math>.  Analogously, <math>O</math> lies on the <math>B</math>-altitude and <math>C</math>-altitude of <math>\\triangle ABC</math>, and so <math>O</math> is, indeed, the orthocenter of <math>\\triangle ABC</math>.\n\nTo find the coordinates of <math>O</math>, we need to find the intersection point of altitudes <math>BE</math> and <math>AD</math>. The equation of <math>BE</math> is simply <math>x=16</math>. <math>AD</math> is [[perpendicular]] to line <math>BC</math>, so the slope of <math>AD</math> is equal to the negative reciprocal of the slope of <math>BC</math>. <math>BC</math> has slope <math>\\frac{24-0}{16-34}=-\\frac{4}{3}</math>, therefore <math>y=\\frac{3}{4} x</math>. These two lines intersect at <math>(16,12)</math>, so that's the base of the height of the tetrahedron. \n\nLet <math>S</math> be the foot of altitude <math>BS</math> in <math>\\triangle BPQ</math>. From the [[Pythagorean Theorem]], <math>h=\\sqrt{BS^2-SO^2}</math>. However, since <math>S</math> and <math>O</math> are, by coincidence, the same point, <math>SO=0</math> and <math>h=12</math>.\n\nThe area of the base is <math>102</math>, so the volume is <math>\\frac{102*12}{3}=\\boxed{408}</math>.~Shen Kislay Kai"
  },
  {
    "year": 2000,
    "variant": "I",
    "problem_number": 1,
    "latex": "Find the least positive integer <math>n</math> such that no matter how <math>10^{n}</math> is expressed as the product of any two positive integers, at least one of these two integers contains the digit <math>0</math>.",
    "solution": "If a factor of <math>10^{n}</math> has a <math>2</math> and a <math>5</math> in its [[prime factorization]], then that factor will end in a <math>0</math>. Therefore, we have left to consider the case when the two factors have the <math>2</math>s and the <math>5</math>s separated, so we need to find the first power of 2 or 5 that contains a 0.\n\nFor <math>n = 1:</math> <cmath>2^1 = 2 , 5^1 = 5</cmath>\n<math>n = 2:</math> <cmath>2^2 = 4 , 5 ^ 2 =25</cmath>\n<math>n = 3:</math> <cmath>2^3 = 8 , 5 ^3 = 125</cmath>\n\nand so on, until, \n\n<math>n = 8:</math> <math>2^8 = 256</math> | <math>5^8 = 390625</math>\n\nWe see that <math>5^8</math> contains the first zero, so <math>n = \\boxed{8}</math>."
  },
  {
    "year": 2000,
    "variant": "I",
    "problem_number": 2,
    "latex": "Let <math>u</math> and <math>v</math> be [[integer]]s satisfying <math>0 < v < u</math>. Let <math>A = (u,v)</math>, let <math>B</math> be the [[reflection]] of <math>A</math> across the line <math>y = x</math>, let <math>C</math> be the reflection of <math>B</math> across the y-axis, let <math>D</math> be the reflection of <math>C</math> across the x-axis, and let <math>E</math> be the reflection of <math>D</math> across the y-axis. The area of [[pentagon]] <math>ABCDE</math> is <math>451</math>. Find <math>u + v</math>.",
    "solution": "=== Solution 1 ===\n<center><asy>\npointpen = black; pathpen = linewidth(0.7) + black; size(180);\npair A=(11,10), B=(10,11), C=(-10, 11), D=(-10, -11), E=(10, -11);\nD(D(MP(\"A\\ (u,v)\",A,(1,0)))--D(MP(\"B\",B,N))--D(MP(\"C\",C,N))--D(MP(\"D\",D))--D(MP(\"E\",E))--cycle);\nD((-15,0)--(15,0),linewidth(0.6),Arrows(5)); D((0,-15)--(0,15),linewidth(0.6),Arrows(5)); D((-15,-15)--(15,15),linewidth(0.6),Arrows(5));\n</asy></center> <!-- Asymptote replacement for Image:2000_I_AIME-2.png -->\n\nSince <math>A = (u,v)</math>, we can find the coordinates of the other points: <math>B = (v,u)</math>, <math>C = (-v,u)</math>, <math>D = (-v,-u)</math>, <math>E = (v,-u)</math>. If we graph those points, we notice that since the latter four points are all reflected across the x/y-axis, they form a rectangle, and <math>ABE</math> is a triangle. The area of <math>BCDE</math> is <math>(2u)(2v) = 4uv</math> and the area of <math>ABE</math> is <math>\\frac{1}{2}(2u)(u-v) = u^2 - uv</math>. Adding these together, we get <math>u^2 + 3uv = u(u+3v) = 451 = 11 \\cdot 41</math>. Since <math>u,v</math> are positive, <math>u+3v>u</math>, and by matching factors we get either <math>(u,v) = (1,150)</math> or <math>(11,10)</math>. Since <math>v < u</math> the latter case is the answer, and <math>u+v = \\boxed{021}</math>.\n\n=== Solution 2 ===\nWe find the coordinates like in the solution above: <math>A = (u,v)</math>, <math>B = (v,u)</math>, <math>C = (-v,u)</math>, <math>D = (-v,-u)</math>, <math>E = (v,-u)</math>. Then we notice pentagon <math>ABCDE</math> fits into a rectangle of side lengths <math>(u+v)</math> and <math>(2u)</math>, giving us two triangles, each with hypotenuse <math>AB</math> and <math>BE</math>. First, we can solve for the first triangle. Using the coordinates of <math>A</math> and <math>B</math>, we discover the side lengths are both <math>(u-v)</math>, so the area of the triangle of hypotenuse <math>AB</math> is <math>\\frac{1}{2}(u-v)^2</math>. Next, we can solve for the second triangle. Using the coordinates of <math>A</math> and <math>E</math>, we discover the side lengths are <math>(u-v)</math> and <math>(u+v)</math>, so the area of the triangle of hypotenuse <math>AE</math> is <math>\\frac{1}{2}(u-v)(u+v) = \\frac{1}{2}(u^2-v^2)</math>. Now, let‚Äôs subtract the area of these 2 triangles from the rectangle giving us <math>(u+v)(2u)-\\frac{1}{2}(u-v)^2-\\frac{1}{2}(u^2-v^2)=451 ‚Äî> u^2+3uv=451 -> u(u+3v)=451</math>. Next, we take note of the fact that <math>u</math> and <math>u+3v</math> are both factors of 451, and since both <math>u</math> and <math>v</math> are positive integers, <math>u+3v</math> must be greater than <math>u</math>, thus giving us two cases, where either <math>u=1</math> or <math>u=11</math>. After trying both, the only working pair of <math>(u,v)</math> where both <math>u</math> and <math>v</math> are integers are <math>u=11</math> and <math>v=10</math>, thus meaning <math>u + v =</math> <math>\\boxed{021}</math>\n\n~Aeioujyot\n\n=== Solution 3 ===\nWe find the coordinates like in the solution above: <math>A = (u,v)</math>, <math>B = (v,u)</math>, <math>C = (-v,u)</math>, <math>D = (-v,-u)</math>, <math>E = (v,-u)</math>. Then we apply the [[Shoelace Theorem]]. <cmath>A =  \\frac{1}{2}[(u^2 + vu + vu + vu + v^2) - (v^2 - uv - uv - uv -u^2)] = 451</cmath> <cmath>\\frac{1}{2}(2u^2 + 6uv) = 451</cmath> <cmath>u(u + 3v) = 451</cmath>\n\nThis means that <math>(u,v) = (11, 10)</math> or <math>(1,150)</math>, but since <math>v < u</math>, then the answer is <math>\\boxed{021}</math>"
  },
  {
    "year": 2000,
    "variant": "I",
    "problem_number": 3,
    "latex": "In the expansion of <math>(ax + b)^{2000},</math> where <math>a</math> and <math>b</math> are [[relatively prime]] positive integers, the [[coefficient]]s of <math>x^{2}</math> and <math>x^{3}</math> are equal. Find <math>a + b</math>.",
    "solution": "Using the [[binomial theorem]], <math>\\binom{2000}{1998} b^{1998}a^2 = \\binom{2000}{1997}b^{1997}a^3 \\Longrightarrow b=666a</math>.\n\nSince <math>a</math> and <math>b</math> are positive relatively prime integers, <math>a=1</math> and <math>b=666</math>, and <math>a+b=\\boxed{667}</math>."
  },
  {
    "year": 2000,
    "variant": "I",
    "problem_number": 4,
    "latex": "The diagram shows a [[rectangle]] that has been dissected into nine non-overlapping [[square]]s. Given that the width and the height of the rectangle are relatively prime positive integers, find the [[perimeter]] of the rectangle.\n\n<asy>draw((0,0)--(69,0)--(69,61)--(0,61)--(0,0));draw((36,0)--(36,36)--(0,36));\ndraw((36,33)--(69,33));draw((41,33)--(41,61));draw((25,36)--(25,61));\ndraw((34,36)--(34,45)--(25,45));\ndraw((36,36)--(36,38)--(34,38));\ndraw((36,38)--(41,38));\ndraw((34,45)--(41,45));</asy>",
    "solution": "Call the squares' side lengths from smallest to largest <math>a_1,\\ldots,a_9</math>, and let <math>l,w</math> represent the dimensions of the rectangle.\n\nThe picture shows that\n<cmath>\\begin{align*}\na_1+a_2 &= a_3\\\\\na_1 + a_3 &= a_4\\\\\na_3 + a_4 &= a_5\\\\\na_4 + a_5 &= a_6\\\\\na_2 + a_3 + a_5 &= a_7\\\\\na_2 + a_7 &= a_8\\\\\na_1 + a_4 + a_6 &= a_9\\\\\na_6 + a_9 &= a_7 + a_8.\\end{align*}</cmath>\n\nExpressing all terms 3 to 9 in terms of <math>a_1</math> and <math>a_2</math> and substituting their expanded forms into the previous equation will give the expression <math>5a_1 = 2a_2</math>.\n\nWe can guess that <math>a_1 = 2</math>. (If we started with <math>a_1</math> odd, the resulting sides would not be integers and we would need to scale up by a factor of <math>2</math> to make them integers; if we started with <math>a_1 > 2</math> even, the resulting dimensions would not be relatively prime and we would need to scale down.) Then solving gives <math>a_9 = 36</math>, <math>a_6=25</math>, <math>a_8 = 33</math>, which gives us <math>l=61,w=69</math>.  These numbers are relatively prime, as desired. The perimeter is <math>2(61)+2(69)=\\boxed{260}</math>."
  },
  {
    "year": 2000,
    "variant": "I",
    "problem_number": 5,
    "latex": "Each of two boxes contains both black and white marbles, and the total number of marbles in the two boxes is <math>25.</math> One marble is taken out of each box randomly. The [[probability]] that both marbles are black is <math>27/50,</math> and the probability that both marbles are white is <math>m/n,</math> where <math>m</math> and <math>n</math> are [[relatively prime]] positive integers. What is <math>m + n</math>?",
    "solution": "If we work with the problem for a little bit, we quickly see that there is no direct combinatorics way to calculate <math>m/n</math>. The [[Principle of Inclusion-Exclusion]] still requires us to find the individual probability of each box.\n\nLet <math>a, b</math> represent the number of marbles in each box, and [[without loss of generality]] let <math>a>b</math>. Then, <math>a + b = 25</math>, and since the <math>ab</math> may be reduced to form <math>50</math> on the denominator of <math>\\frac{27}{50}</math>, <math>50|ab</math>. It follows that <math>5|a,b</math>, so there are 2 pairs of <math>a</math> and <math>b: (20,5),(15,10)</math>.\n\n*'''Case 1''': Then the product of the number of black marbles in each box is <math>54</math>, so the only combination that works is <math>18</math> black in first box, and <math>3</math> black in second. Then, <math>P(\\text{both white}) = \\frac{2}{20} \\cdot \\frac{2}{5} = \\frac{1}{25},</math> so <math>m + n = 26</math>.\n\n*'''Case 2''': The only combination that works is 9 black in both. Thus, <math>P(\\text{both white}) = \\frac{1}{10}\\cdot \\frac{6}{15} = \\frac{1}{25}</math>. <math>m + n = 26</math>.\n\nThus, <math>m + n = \\boxed{026}</math>."
  },
  {
    "year": 2000,
    "variant": "I",
    "problem_number": 6,
    "latex": "For how many [[ordered pair]]s <math>(x,y)</math> of [[integer]]s is it true that <math>0 < x < y < 10^6</math> and that the [[arithmetic mean]] of <math>x</math> and <math>y</math> is exactly <math>2</math> more than the [[geometric mean]] of <math>x</math> and <math>y</math>?",
    "solution": "=== Solution 1 ===\n<cmath>\\begin{eqnarray*}\n\\frac{x+y}{2} &=& \\sqrt{xy} + 2\\\\\nx+y-4 &=& 2\\sqrt{xy}\\\\\ny - 2\\sqrt{xy} + x &=& 4\\\\\n\\sqrt{y} - \\sqrt{x} &=& \\pm 2\\end{eqnarray*}</cmath>\n\nBecause <math>y > x</math>, we only consider <math>+2</math>.\n\nFor simplicity, we can count how many valid pairs of <math>(\\sqrt{x},\\sqrt{y})</math> that satisfy our equation.\n\nThe maximum that <math>\\sqrt{y}</math> can be is <math>\\sqrt{10^6} - 1 = 999</math> because <math>\\sqrt{y}</math> must be an integer (this is because <math>\\sqrt{y} - \\sqrt{x} = 2</math>, an integer). Then <math>\\sqrt{x} = 997</math>, and we continue this downward until <math>\\sqrt{y} = 3</math>, in which case <math>\\sqrt{x} = 1</math>. The number of pairs of <math>(\\sqrt{x},\\sqrt{y})</math>, and so <math>(x,y)</math> is then <math>\\boxed{997}</math>.\n<!-- solution lost in edit conflict - azjps -\nSince <math>y>x</math>, it follows that each ordered pair <math>(x,y) = (n^2, (n+2)^2)</math> satisfies this equation. The minimum value of <math>x</math> is <math>1</math> and the maximum value of <math>y = 999^2</math> which would make <math>x = 997^2</math>. Thus <math>x</math> can be any of the squares between <math>1</math> and <math>997^2</math> inclusive and the answer is <math>\\boxed{997}</math>.\n-->\n\n=== Solution 2 ===\n\n\nLet <math>a^2</math> = <math>x</math> and <math>b^2</math> = <math>y</math>, where <math>a</math> and <math>b</math> are positive.\n\nThen <cmath>\\frac{a^2 + b^2}{2} = \\sqrt{{a^2}{b^2}} +2</cmath>\n<cmath>a^2 + b^2 = 2ab + 4</cmath>\n<cmath>(a-b)^2 = 4</cmath>\n<cmath>(a-b) = \\pm 2</cmath>\n\nThis makes counting a lot easier since now we just have to find all pairs <math>(a,b)</math> that differ by 2.\n\n\nBecause <math>\\sqrt{10^6} = 10^3</math>, then we can use all positive integers less than 1000 for <math>a</math> and <math>b</math>.\n\n\nWe know that because <math>x < y</math>, we get <math>a < b</math>.\n\n\nWe can count even and odd pairs separately to make things easier*:\n\n\nOdd: <cmath>(1,3) , (3,5) , (5,7)  .  .  .  (997,999)</cmath>\n\n\nEven: <cmath>(2,4) , (4,6) , (6,8)  .  .  .  (996,998)</cmath>\n\n\nThis makes <math>499</math> odd pairs and <math>498</math> even pairs, for a total of <math>\\boxed{997}</math> pairs.\n\n\n\n<math>*</math>Note: We are counting the pairs for the values of <math>a</math> and <math>b</math>, which, when squared, translate to the pairs of <math>(x,y)</math> we are trying to find.\n\n=== Solution 3 ===\nSince the arithmetic mean is 2 more than the geometric mean, <math>\\frac{x+y}{2} = 2 + \\sqrt{xy}</math>. We can multiply by 2 to get <math>x + y = 4 + 2\\sqrt{xy}</math>. Subtracting 4 and squaring gives \n<cmath>((x+y)-4)^2 = 4xy</cmath>\n<cmath>((x^2 + 2xy + y^2) + 16 - 2(4)(x+y)) = 4xy</cmath>\n<cmath>x^2 - 2xy + y^2 + 16 - 8x - 8y = 0</cmath>\n\nNotice that <math>((x-y)-4)^2 = x^2 - 2xy + y^2 + 16 - 8x +8y</math>, so the problem asks for solutions of \n<cmath>(x-y-4)^2 = 16y</cmath>\nSince the left hand side is a perfect square, and 16 is a perfect square, <math>y</math> must also be a perfect square. Since <math>0 < y < (1000)^2</math>, <math>y</math> must be from <math>1^2</math> to <math>999^2</math>, giving at most 999 options for <math>y</math>.\n\nHowever if <math>y = 1^2</math>, you get <math>(x-5)^2 = 16</math>, which has solutions <math>x = 9</math> and <math>x = 1</math>. Both of those solutions are not less than <math>y</math>, so <math>y</math> cannot be equal to 1. If <math>y = 2^2 = 4</math>, you get <math>(x - 8)^2 = 64</math>, which has 2 solutions, <math>x = 16</math>, and <math>x = 0</math>. 16 is not less than 4, and <math>x</math> cannot be 0, so <math>y</math> cannot be 4. However, for all other <math>y</math>, you get exactly 1 solution for <math>x</math>, and that gives a total of <math>999 - 2 = \\boxed{997}</math> pairs.\n\n- asbodke\n\n\n=== Solution 4 (Similar to Solution 3) ===\nRearranging our conditions to \n\n<cmath>x^2-2xy+y^2+16-8x-8y=0 \\implies</cmath>\n<cmath>(y-x)^2=8(x+y-2).</cmath>\n\nThus, <math>4|y-x.</math>\n\nNow, let <math>y = 4k+x.</math> Plugging this back into our expression, we get\n\n<cmath>(k-1)^2=x.</cmath>\n\nThere, a unique value of <math>x, y</math> is formed for every value of <math>k</math>. However, we must have \n\n<cmath>y<10^6 \\implies (k+1)^2< 10^6-1</cmath>\n\nand \n\n<cmath>x=(k-1)^2+1>0.</cmath>\n\nTherefore, there are only <math>\\boxed{997}</math> pairs of <math>(x,y).</math>\n\nSolution by Williamgolly\n\n=== Solution 5 ===\n\nFirst we see that our condition is <math>\\frac{x+y}{2} = 2 + \\sqrt{xy}</math>. Then we can see that <math>x+y = 4 + 2\\sqrt{xy}</math>. From trying a simple example to figure out conditions for <math>x,y</math>, we want to find <math>x-y</math> so we can isolate for <math>x</math>. From doing the example we can note that we can square both sides and subtract <math>4xy</math>: <math>(x-y)^2 = 16 + 16\\sqrt{xy} \\implies x-y = -2(\n\\sqrt{1+\\sqrt{xy}})</math> (note it is negative because <math>y > x</math>. Clearly the square root must be an integer, so now let <math>\\sqrt{xy} = a^2-1</math>. Thus <math>x-y = -2a</math>. Thus <math>x = 2 + \\sqrt{xy} - a = 2 + a^2 - 1 -2a</math>. We can then find <math>y</math>, and use the quadratic formula on <math>x,y</math> to ensure they are <math>>0</math> and <math><10^6</math> respectively. Thus we get that <math>y</math> can go up to 999 and <math>x</math> can go down to <math>3</math>, leaving <math>997</math> possibilities for <math>x,y</math>."
  },
  {
    "year": 2000,
    "variant": "I",
    "problem_number": 7,
    "latex": "Suppose that <math>x,</math> <math>y,</math> and <math>z</math> are three positive numbers that satisfy the equations <math>xyz = 1,</math> <math>x + \\frac {1}{z} = 5,</math> and <math>y + \\frac {1}{x} = 29.</math> Then <math>z + \\frac {1}{y} = \\frac {m}{n},</math> where <math>m</math> and <math>n</math> are [[relatively prime]] positive integers. Find <math>m + n</math>.",
    "solution": "We can rewrite <math>xyz=1</math> as <math>\\frac{1}{z}=xy</math>.\n\nSubstituting into one of the given equations, we have \n<cmath>x+xy=5</cmath>\n<cmath>x(1+y)=5</cmath>\n<cmath>\\frac{1}{x}=\\frac{1+y}{5}.</cmath>\n\nWe can substitute back into <math>y+\\frac{1}{x}=29</math> to obtain\n<cmath>y+\\frac{1+y}{5}=29</cmath>\n<cmath>5y+1+y=145</cmath>\n<cmath>y=24.</cmath>\n\nWe can then substitute once again to get\n<cmath>x=\\frac15</cmath>\n<cmath>z=\\frac{5}{24}.</cmath>\nThus, <math>z+\\frac1y=\\frac{5}{24}+\\frac{1}{24}=\\frac{1}{4}</math>, so <math>m+n=\\boxed{005}</math>."
  },
  {
    "year": 2000,
    "variant": "I",
    "problem_number": 8,
    "latex": "A container in the shape of a right circular [[cone]] is <math>12</math> inches tall and its base has a <math>5</math>-inch [[radius]]. The liquid that is sealed inside is <math>9</math> inches deep when the cone is held with its [[point]] down and its base horizontal. When the liquid is held with its point up and its base horizontal, the height of the liquid is <math>m - n\\sqrt [3]{p},</math> from the base where <math>m,</math> <math>n,</math> and <math>p</math> are positive integers and <math>p</math> is not divisible by the cube of any prime number. Find <math>m + n + p</math>.\n\n__TOC__",
    "solution": "[[Image:2000_I_AIME-8.png]]\n=== Solution 1 ===\nThe scale factor is uniform in all dimensions, so the volume of the liquid is <math>\\left(\\frac{3}{4}\\right)^{3}</math> of the container. The remaining section of the volume is <math>\\frac{1-\\left(\\frac{3}{4}\\right)^{3}}{1}</math> of the volume, and therefore <math>\\frac{\\left(1-\\left(\\frac{3}{4}\\right)^{3}\\right)^{1/3}}{1}</math> of the height when the vertex is at the top.\n\nSo, the liquid occupies <math>\\frac{1-\\left(1-\\left(\\frac{3}{4}\\right)^{3}\\right)^{1/3}}{1}</math> of the height, or <math>12-12\\left(1-\\left(\\frac{3}{4}\\right)^{3}\\right)^{1/3}=12-3\\left(37^{1/3}\\right)</math>. Thus <math>m+n+p=\\boxed{052}</math>.\n\n=== Solution 2 ===\n(Computational) The volume of a cone can be found by <math>V = \\frac{\\pi}{3}r^2h</math>. In the second container, if we let <math>h',r'</math> represent the height, radius (respectively) of the air (so <math>12 -h'</math> is the height of the liquid), then the volume of the liquid can be found by <math>\\frac{\\pi}{3}r^2h - \\frac{\\pi}{3}(r')^2h'</math>. \n\nBy [[similar triangle]]s, we find that the dimensions of the liquid in the first cone to the entire cone is <math>\\frac{3}{4}</math>, and that <math>r' = \\frac{rh'}{h}</math>; equating,\n\n<cmath>\\begin{align*}\\frac{\\pi}{3}\\left(\\frac{3}{4}r\\right)^2 \\left(\\frac{3}{4}h\\right) &= \\frac{\\pi}{3}\\left(r^2h - \\left(\\frac{rh'}{h}\\right)^2h'\\right)\\\\\n\\frac{37}{64}r^2h &= \\frac{r^2}{h^2}(h')^3 \\\\\nh' &= \\sqrt[3]{\\frac{37}{64} \\cdot 12^3} = 3\\sqrt[3]{37}\\end{align*}</cmath>\n\nThus the answer is <math>12 - h' = 12-3\\sqrt[3]{37}</math>, and <math>m+n+p=\\boxed{052}</math>.\n\n=== Solution 3 ===\nFrom the formula <math>V=\\frac{\\pi r^2h}{3}</math>, we can find that the volume of the container is <math>100\\pi</math>. The cone formed by the liquid is similar to the original, but scaled down by <math>\\frac{3}{4}</math> in all directions, so its volume is <math>100\\pi*\\frac{27}{64}=\\frac{675\\pi}{16}</math>. The volume of the air in the container is the volume of the container minus the volume of the liquid, which is <math>\\frac{925\\pi}{16}</math>, which is <math>\\frac{37}{64}</math> of the volume of the container. When the point faces upwards, the air forms a cone at the top of the container. This cone must have <math>\\sqrt[3]{\\frac{37}{64}}=\\frac{\\sqrt[3]{37}}{4}</math> of the height of the container. This means that the height of the liquid is <math>12\\left(1-\\frac{\\sqrt[3]{37}}{4}\\right)=12-3\\sqrt[3]{37}</math> inches, so our answer is <math>\\boxed{052}</math>. Solution by Zeroman\n\n=== Solution 4 ===\nWe find that the volume of the cone is <math>100\\pi</math>. \n\nThe volume of the cone with height 9 is <math>\\frac{675}{16}\\pi</math>. \n\nThe difference between the two volumes is <math>\\frac{925}{16}\\pi</math>. Note that this is the volume of the cone essentially 'on top of' the frustum described in the problem when the liquid is held with the base horizontal. \n\nWe can express the volume as <math>x^2\\pi\\cdot\\frac{12}{5}x\\cdot\\frac{1}{3}</math>, where x is the radius of the cone. \n\nSolving this equation, we get <math>x=\\frac{5\\sqrt[3]{37}}{4}</math>. The height of this cone is <math>\\frac{12}{5}</math> of the radius. \n\nThen we subtract the value from the height, 12, to get our answer: <math>12-3\\sqrt[3]{37}</math>. \n\nTherefore, our answer is <math>12+3+37=\\boxed{52}</math>. ~MC413551"
  },
  {
    "year": 2000,
    "variant": "I",
    "problem_number": 9,
    "latex": "The system of equations\n<cmath>\\begin{eqnarray*}\\log_{10}(2000xy) - (\\log_{10}x)(\\log_{10}y) & = & 4 \\\\\n\\log_{10}(2yz) - (\\log_{10}y)(\\log_{10}z) & = & 1 \\\\\n\\log_{10}(zx) - (\\log_{10}z)(\\log_{10}x) & = & 0 \\\\\n\\end{eqnarray*}</cmath>\n\nhas two solutions <math>(x_{1},y_{1},z_{1})</math> and <math>(x_{2},y_{2},z_{2})</math>. Find <math>y_{1} + y_{2}</math>.",
    "solution": "Since <math>\\log ab = \\log a + \\log b</math>, we can reduce the equations to a more recognizable form:\n\n<cmath>\\begin{eqnarray*} -\\log x \\log y + \\log x + \\log y - 1 &=& 3 - \\log 2000\\\\\n-\\log y \\log z + \\log y + \\log z - 1 &=& - \\log 2\\\\\n-\\log x \\log z + \\log x + \\log z - 1 &=& -1\\\\\n\\end{eqnarray*}</cmath>\n\nLet <math>a,b,c</math> be <math>\\log x, \\log y, \\log z</math> respectively. Using [[Simon's Favorite Factoring Trick|SFFT]], the above equations become (*)\n\n<cmath>\\begin{eqnarray*}(a - 1)(b - 1) &=& \\log 2 \\\\\n(b-1)(c-1) &=& \\log 2 \\\\\n(a-1)(c-1) &=& 1 \n\\end{eqnarray*}</cmath>\n\nSmall note from different author: <math>-(3 - \\log 2000) = \\log 2000 - 3 = \\log 2000 - \\log 1000 = \\log 2.</math>\n\nFrom here, multiplying the three equations gives \n\n<cmath>\\begin{eqnarray*}(a-1)^2(b-1)^2(c-1)^2 &=& (\\log 2)^2\\\\\n(a-1)(b-1)(c-1) &=& \\pm\\log 2\\end{eqnarray*}</cmath>\n\nDividing the third equation of (*) from this equation, <math>b-1 = \\log y - 1 = \\pm\\log 2 \\Longrightarrow \\log y = \\pm \\log 2 + 1</math>. (Note from different author if you are confused on this step: if <math>\\pm</math> is positive then <math>\\log y = \\log 2 + 1 = \\log 2 + \\log 10 = \\log 20,</math> so <math>y=20.</math> if <math>\\pm</math> is negative then <math>\\log y = 1 - \\log 2 = \\log 10 - \\log 2 = \\log 5,</math> so <math>y=5.</math>) This gives <math>y_1 = 20, y_2 = 5</math>, and the answer is <math>y_1 + y_2 = \\boxed{025}</math>."
  },
  {
    "year": 2000,
    "variant": "I",
    "problem_number": 10,
    "latex": "A [[sequence]] of numbers <math>x_{1},x_{2},x_{3},\\ldots,x_{100}</math> has the property that, for every [[integer]] <math>k</math> between <math>1</math> and <math>100,</math> inclusive, the number <math>x_{k}</math> is <math>k</math> less than the sum of the other <math>99</math> numbers. Given that <math>x_{50} = m/n,</math> where <math>m</math> and <math>n</math> are relatively prime positive integers, find <math>m + n</math>.",
    "solution": "Let the sum of all of the terms in the sequence be <math>\\mathbb{S}</math>. Then for each integer <math>k</math>, <math>x_k = \\mathbb{S}-x_k-k \\Longrightarrow \\mathbb{S} - 2x_k = k</math>. Summing this up for all <math>k</math> from <math>1, 2, \\ldots, 100</math>,\n\n<cmath>\\begin{align*}100\\mathbb{S}-2(x_1 + x_2 + \\cdots + x_{100}) &= 1 + 2 + \\cdots + 100\\\\\n100\\mathbb{S} - 2\\mathbb{S} &= \\frac{100 \\cdot 101}{2} = 5050\\\\\n\\mathbb{S}&=\\frac{2525}{49}\\end{align*}</cmath>\n\nNow, substituting for <math>x_{50}</math>, we get <math>2x_{50}=\\frac{2525}{49}-50=\\frac{75}{49} \\Longrightarrow x_{50}=\\frac{75}{98}</math>, and the answer is <math>75+98=\\boxed{173}</math>."
  },
  {
    "year": 2000,
    "variant": "I",
    "problem_number": 11,
    "latex": "Let <math>S</math> be the sum of all numbers of the form <math>a/b,</math> where <math>a</math> and <math>b</math> are [[relatively prime]] positive [[divisor]]s of <math>1000.</math> What is the [[floor function|greatest integer]] that does not exceed <math>S/10</math>?",
    "solution": "Since all divisors of <math>1000 = 2^35^3</math> can be written in the form of <math>2^{m}5^{n}</math>, it follows that <math>\\frac{a}{b}</math> can also be expressed in the form of <math>2^{x}5^{y}</math>, where <math>-3 \\le x,y \\le 3</math>. Thus every number in the form of <math>a/b</math> will be expressed one time in the product\n\n<cmath>(2^{-3} + 2^{-2} + 2^{-1} + 2^{0} + 2^{1} + 2^2 + 2^3)(5^{-3} + 5^{-2} +5^{-1} + 5^{0} + 5^{1} + 5^2 + 5^3)</cmath>\n\nUsing the formula for a [[geometric series]], this reduces to <math>S = \\frac{2^{-3}(2^7 - 1)}{2-1} \\cdot \\frac{5^{-3}(5^{7} - 1)}{5-1} = \\frac{127 \\cdot 78124}{4000} = 2480 + \\frac{437}{1000}</math>, and <math>\\left\\lfloor \\frac{S}{10} \\right\\rfloor = \\boxed{248}</math>."
  },
  {
    "year": 2000,
    "variant": "I",
    "problem_number": 12,
    "latex": "Given a [[function]] <math>f</math> for which\n<cmath>\nf(x) = f(398 - x) = f(2158 - x) = f(3214 - x)</cmath>\nholds for all real <math>x,</math> what is the largest number of different values that can appear in the list <math>f(0),f(1),f(2),\\ldots,f(999)?</math>",
    "solution": "<cmath>\\begin{align*}f(2158 - x) = f(x) &= f(3214 - (2158 - x)) &= f(1056 + x)\\\\\nf(398 - x) = f(x) &= f(2158 - (398 - x)) &= f(1760 + x)\\end{align*}</cmath>\n\nSince <math>\\mathrm{gcd}(1056, 1760) = 352</math> we can conclude that (by the [[Euclidean algorithm]])\n\n<cmath>f(x) = f(352 + x)</cmath>\n\nSo we need only to consider one period <math>f(0), f(1), ... f(351)</math>, which can have at most <math>352</math> distinct values which determine the value of <math>f(x)</math> at all other integers.  \n\nBut we also know that <math>f(x) = f(46 - x) = f(398 - x)</math>, so the values <math>x = 24, 25, ... 46</math> and <math>x = 200, 201, ... 351</math> are repeated.  This gives a total of\n\n<cmath>352 - (46 - 24 + 1) - (351 - 200 + 1) = \\boxed{ 177 }</cmath>\n\ndistinct values.\n\nTo show that it is possible to have <math>f(23), f(24), \\ldots, f(199)</math> distinct, we try to find a function which fulfills the given conditions. A bit of trial and error would lead to the [[cosine]] function: <math>f(x) = \\cos \\left(\\frac{360}{352}(x-23)\\right)</math> (in degrees)."
  },
  {
    "year": 2000,
    "variant": "I",
    "problem_number": 13,
    "latex": "In the middle of a vast prairie, a firetruck is stationed at the intersection of two [[perpendicular]] straight highways. The truck travels at <math>50</math> miles per hour along the highways and at <math>14</math> miles per hour across the prairie. Consider the set of points that can be reached by the firetruck within six minutes. The area of this region is <math>m/n</math> square miles, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m + n</math>.",
    "solution": "Let the intersection of the highways be at the origin <math>O</math>, and let the highways be the x and y axes. We consider the case where the truck moves in the positive x direction. \n\nAfter going <math>x</math> miles, <math>t=\\frac{d}{r}=\\frac{x}{50}</math> hours has passed. If the truck leaves the highway it can travel for at most <math>t=\\frac{1}{10}-\\frac{x}{50}</math> hours, or <math>d=rt=14t=1.4-\\frac{7x}{25}</math> miles. It can end up anywhere off the highway in a circle with this radius centered at <math>(x,0)</math>. All these circles are [[homothety|homothetic]] with respect to a center at <math>(5,0)</math>. \n<center><asy>\npair truck(pair P){\n pair Q = IP(P--P+(7/10,24/10),(35/31,35/31)--(5,0)); \n D(P--Q,EndArrow(5)); D(CP(P,Q),linewidth(0.5));\n return Q;\n}\npointpen = black; pathpen = black+linewidth(0.7); size(250);\npair B=(5,0), C=(35/31,35/31);\nD(D(B)--D(C)--D(B*dir(90))--D(C*dir(90))--D(B*dir(180))--D(C*dir(180))--D(B*dir(270))--D(C*dir(270))--cycle);\nD((-6,0)--(6,0),Arrows(4)); D((0,-6)--(0,6),Arrows(4)); truck((1,0)); truck((2,0)); truck((3,0)); truck((4,0));\n\n</asy>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<asy>\n\npointpen = black; pathpen = black+linewidth(0.7); size(250);\npair O=(0,0), B=(5,0), A=1.4*expi(atan(24/7)), C=1.4*expi(atan(7/24));\nD(D(B)--D(A)--D(O)); D(O--D(C)--D(B*dir(90))--D(A*dir(90))--O--D(C*dir(90))--D(B*dir(180))--D(A*dir(180))--O--D(C*dir(180))--D(B*dir(270))--D(A*dir(270))--O--D(C*dir(270))--B,linewidth(0.5)); D(CR(O,1.4)); \nD((-6,0)--(6,0),Arrows(4)); D((0,-6)--(0,6),Arrows(4));\nMP(\"A\",A,N); MP(\"B\",B); MP(\"(5,0)\",B,N); D(MP(\"\\left(\\frac{35}{31},\\frac{35}{31}\\right)\",(35/31,35/31),NE));\nD(rightanglemark(O,A,B));\n</asy></center>\nNow consider the circle at <math>(0,0)</math>. Draw a line tangent to it at <math>A</math> and passing through <math>B (5,0)</math>. By the Pythagorean Theorem <math>AB^2+AO^2=OB^2 \\Longrightarrow AB=\\sqrt{OB^2-AO^2}=\\sqrt{5^2-1.4^2}=\\frac{24}{5}</math>. Then <math>\\tan(\\angle ABO)=\\frac{OA}{AB}=\\frac{7}{24}</math>, so the [[slope]] of line <math>AB</math> is <math>\\frac{-7}{24}</math>. Since it passes through <math>(5,0)</math> its equation is <math>y=\\frac{-7}{24}(x-5)</math>. \n\nThis line and the x and y axis bound the region the truck can go if it moves in the positive x direction. Similarly, the line <math>y=5-\\frac{24}{7}x</math> bounds the region the truck can go if it moves in positive y direction. The intersection of these two lines is <math>\\left(\\frac{35}{31},\\frac{35}{31}\\right)</math>. The bounded region in Quadrant I is made up of a square and two triangles. <math>A=x^2+x(5-x)=5x</math>. By symmetry, the regions in the other quadrants are the same, so the area of the whole region is <math>20x=\\frac{700}{31}</math> so the answer is <math>700+31=\\boxed{731}</math>."
  },
  {
    "year": 2000,
    "variant": "I",
    "problem_number": 14,
    "latex": "In triangle <math>ABC,</math> it is given that angles <math>B</math> and <math>C</math> are [[congruent (geometry)|congruent]]. Points <math>P</math> and <math>Q</math> lie on <math>\\overline{AC}</math> and <math>\\overline{AB},</math> respectively, so that <math>AP = PQ = QB = BC.</math> Angle <math>ACB</math> is <math>r</math> times as large as angle <math>APQ,</math> where <math>r</math> is a positive real number. Find <math>\\lfloor 1000r \\rfloor</math>.\n\n__TOC__",
    "solution": "== Official Solution (MAA)==\n\n<center><asy>defaultpen(fontsize(10)); size(200); pen p=fontsize(8);\npair A,B,C,P,Q;\nB=MP(\"B\",origin,down+left); C=MP(\"C\",20*right,right+down); A=MP(\"A\",extension(B,dir(80),C,C+dir(100)),up); Q=MP(\"Q\",20*dir(80),left); P=MP(\"P\",Q+(20*dir(60)),right); \ndraw(A--B--C--A, black+1);draw(B--P--Q); MP(\"x\",B,20*dir(75),p); MP(\"x\",P,17*dir(245),p); MP(\"2x\",Q,15*dir(70),p); MP(\"2x\",A,15*dir(-90),p); MP(\"2y\",P,2*left,p); MP(\"3x\",P,10*dir(-95),p); MP(\"x+y\",C,5*dir(135),p); MP(\"y\",B,5*dir(40),p);\n</asy></center> \nLet <math>\\angle QPB=x^\\circ</math>. Because <math>\\angle AQP</math> is exterior to isosceles triangle <math>PQB</math> its measure is <math>2x</math> and <math>\\angle PAQ</math> has the same measure. Because <math>\\angle BPC</math> is exterior to  <math>\\triangle BPA</math> its measure is <math>3x</math>. Let <math>\\angle PBC = y^\\circ</math>. It follows that <math>\\angle ACB = x+y</math> and that <math>4x+2y=180^\\circ</math>. Two of the angles of triangle <math>APQ</math> have measure <math>2x</math>, and thus the measure of <math>\\angle APQ</math> is <math>2y</math>. It follows that <math>AQ=2\\cdot AP\\cdot \\sin y</math>. Because <math>AB=AC</math> and <math>AP=QB</math>, it also follows that <math>AQ=PC</math>. Now apply the Law of Sines to triangle <math>PBC</math> to find <cmath>\\frac{\\sin 3x}{BC}=\\frac{\\sin y}{PC}=\\frac{\\sin y}{2\\cdot AP\\cdot \\sin y}= \\frac{1}{2\\cdot BC}</cmath>because <math>AP=BC</math>. Hence <math>\\sin 3x = \\tfrac 12</math>. Since <math>4x<180</math>, this implies that <math>3x=30</math>, i.e. <math>x=10</math>. Thus <math>y=70</math> and <cmath>r=\\frac{10+70}{2\\cdot 70}=\\frac 47,</cmath>which implies that <math>1000r = 571 + \\tfrac 37</math>. So the answer is <math>\\boxed{571}</math>."
  },
  {
    "year": 2000,
    "variant": "I",
    "problem_number": 15,
    "latex": "A stack of <math>2000</math> cards is labelled with the integers from <math>1</math> to <math>2000,</math> with different integers on different cards. The cards in the stack are not in numerical order. The top card is removed from the stack and placed on the table, and the next card is moved to the bottom of the stack. The new top card is removed from the stack and placed on the table, to the right of the card already there, and the next card in the stack is moved to the bottom of the stack. The process - placing the top card to the right of the cards already on the table and moving the next card in the stack to the bottom of the stack - is repeated until all cards are on the table. It is found that, reading from left to right, the labels on the cards are now in ascending order: <math>1,2,3,\\ldots,1999,2000.</math> In the original stack of cards, how many cards were above the card labeled <math>1999</math>?",
    "solution": "We try to work backwards from when there are 2 cards left, since this is when the 1999 card is laid onto the table. When there are 2 cards left, the 1999 card is on the top of the deck. In order for this to occur, it must be 2nd on the deck when there are 4 cards remaining, and this means it must be the 4th card when there are 8 cards remaining. This pattern continues until it is the 512th card on the deck when there are 1024 cards remaining. Since there are over 1000 cards remaining, some cards have not even made one trip through yet, <math>2(1024 - 1000) = 48</math>, to be exact. Once these cards go through, 1999 will be the <math>512 - 48 = 464^\\text{th}</math> card on the deck. Since every other card was removed during the first round, it goes to show that 1999 was in position <math>464 \\times 2 = 928</math>, meaning that there were <math>\\boxed{927}</math> cards are above the one labeled <math>1999</math>."
  },
  {
    "year": 2000,
    "variant": "II",
    "problem_number": 1,
    "latex": "The number\n<center><math>\\frac 2{\\log_4{2000^6}} + \\frac 3{\\log_5{2000^6}}</math></center>\ncan be written as <math>\\frac mn</math> where <math>m</math> and <math>n</math> are relatively prime positive integers.  Find <math>m + n</math>.",
    "solution": "=== Solution 1 ===\n<math>\\frac 2{\\log_4{2000^6}} + \\frac 3{\\log_5{2000^6}}</math>\n\n<math>=\\frac{\\log_4{16}}{\\log_4{2000^6}}+\\frac{\\log_5{125}}{\\log_5{2000^6}}</math>\n\n<math>=\\frac{\\log{16}}{\\log{2000^6}}+\\frac{\\log{125}}{\\log{2000^6}}</math>\n\n<math>=\\frac{\\log{2000}}{\\log{2000^6}}</math>\n\n<math>=\\frac{\\log{2000}}{6\\log{2000}}</math>\n\n<math>=\\frac{1}{6}</math>\n\nTherefore, <math> m+n=1+6=\\boxed{007}</math>\n\n=== Solution 2 ===\n\nAlternatively, we could've noted that, because <math>\\frac 1{\\log_a{b}} = \\log_b{a}</math>\n\n<cmath>\n\\begin{align*}\n\\frac 2{\\log_4{2000^6}} + \\frac 3{\\log_5{2000^6}} &= 2 \\cdot \\frac{1}{\\log_4{2000^6}} + 3\\cdot \\frac {1}{\\log_5{2000^6} }\\\\\n&=2{\\log_{2000^6}{4}} + 3{\\log_{2000^6}{5}} \\\\\n&={\\log_{2000^6}{4^2}} + {\\log_{2000^6}{5^3}}\\\\\n&={\\log_{2000^6}{4^2 \\cdot 5^3}}\\\\\n&={\\log_{2000^6}{2000}}\\\\\n&= {\\frac{1}{6}}.\\end{align*}</cmath>\n\nTherefore our answer is <math>1 + 6 = \\boxed{007}</math>."
  },
  {
    "year": 2000,
    "variant": "II",
    "problem_number": 2,
    "latex": "A point whose coordinates are both integers is called a lattice point. How many lattice points lie on the hyperbola <math>x^2 - y^2 = 2000^2</math>?",
    "solution": "<cmath>(x-y)(x+y)=2000^2=2^8 \\cdot 5^6</cmath>\n\nNote that <math>(x-y)</math> and <math>(x+y)</math> have the same [[parity|parities]], so both must be even. We first give a factor of <math>2</math> to both <math>(x-y)</math> and <math>(x+y)</math>. We have <math>2^6 \\cdot 5^6</math> left. Since there are <math>7 \\cdot 7=49</math> factors of <math>2^6 \\cdot 5^6</math>, and since both <math>x</math> and <math>y</math> can be negative, this gives us <math>49\\cdot2=\\boxed{098}</math> lattice points."
  },
  {
    "year": 2000,
    "variant": "II",
    "problem_number": 3,
    "latex": "A deck of forty cards consists of four <math>1</math>'s, four <math>2</math>'s,..., and four <math>10</math>'s.  A matching pair (two cards with the same number) is removed from the deck.  Given that these cards are not returned to the deck, let <math>m/n</math> be the [[probability]] that two randomly selected cards also form a pair, where <math>m</math> and <math>n</math> are [[relatively prime]] positive integers.  Find <math>m + n.</math>",
    "solution": "There are <math>{38 \\choose 2} = 703</math> ways we can draw two cards from the reduced deck. The two cards will form a pair if both are one of the nine numbers that were not removed, which can happen in <math>9{4 \\choose 2} = 54</math> ways, or if the two cards are the remaining two cards of the number that was removed, which can happen in <math>1</math> way. Thus, the answer is <math>\\frac{54+1}{703} = \\frac{55}{703}</math>, and <math>m+n = \\boxed{758}</math>."
  },
  {
    "year": 2000,
    "variant": "II",
    "problem_number": 4,
    "latex": "What is the smallest positive integer with six positive odd integer divisors and twelve positive even integer divisors?",
    "solution": "We use the fact that the number of divisors of a number <math>n = p_1^{e_1}p_2^{e_2} \\cdots p_k^{e_k}</math> is <math>(e_1 + 1)(e_2 + 1) \\cdots (e_k + 1)</math>. If a number has <math>18 = 2 \\cdot 3 \\cdot 3</math> factors, then it can have at most <math>3</math> distinct primes in its factorization. \n\nDividing the greatest power of <math>2</math> from <math>n</math>, we have an odd integer with six positive divisors, which indicates that it either is (<math>6 = 2 \\cdot 3</math>) a prime raised to the <math>5</math>th power, or two primes, one of which is squared. The smallest example of the former is <math>3^5 = 243</math>, while the smallest example of the latter is <math>3^2 \\cdot 5 = 45</math>. \n\nSuppose we now divide all of the odd factors from <math>n</math>; then we require a power of <math>2</math> with <math>\\frac{18}{6} = 3</math> factors, namely <math>2^{3-1} = 4</math>. Thus, our answer is <math>2^2 \\cdot 3^2 \\cdot 5 = \\boxed{180}</math>."
  },
  {
    "year": 2000,
    "variant": "II",
    "problem_number": 5,
    "latex": "Given eight distinguishable rings, let <math>n</math> be the number of possible five-ring arrangements on the four fingers (not the thumb) of one hand. The order of rings on each finger is significant, but it is not required that each finger have a ring. Find the leftmost three nonzero digits of <math>n</math>.",
    "solution": "There are <math>\\binom{8}{5}</math> ways to choose the rings, and there are <math>5!</math> distinct arrangements to order the rings [we order them so that the first ring is the bottom-most on the first finger that actually has a ring, and so forth]. The number of ways to distribute the rings among the fingers is equivalent the number of ways we can drop five balls into 4 urns, or similarly dropping five balls into four compartments split by three dividers. The number of ways to arrange those dividers and balls is just <math>\\binom {8}{3}</math>.\n\nMultiplying gives the answer: <math>\\binom{8}{5}\\binom{8}{3}5! = 376320</math>, and the three leftmost digits are <math>\\boxed{376}</math>."
  },
  {
    "year": 2000,
    "variant": "II",
    "problem_number": 6,
    "latex": "One base of a [[trapezoid]] is <math>100</math> units longer than the other base. The segment that joins the [[midpoint]]s of the legs divides the trapezoid into two regions whose areas are in the ratio <math>2: 3</math>. Let <math>x</math> be the length of the segment joining the legs of the trapezoid that is [[parallel]] to the bases and that divides the trapezoid into two regions of equal area. Find the [[ceiling function|greatest integer]] that does not exceed <math>x^2/100</math>.",
    "solution": "Let the shorter base have length <math>b</math> (so the longer has length <math>b+100</math>), and let the height be <math>h</math>. The length of the midline of the trapezoid is the average of its bases, which is <math>\\frac{b+b+100}{2} = b+50</math>. The two regions which the midline divides the trapezoid into are two smaller trapezoids, both with height <math>h/2</math>. Then,\n\n<center><asy>pathpen = linewidth(0.7); pen d = linetype(\"4 4\") + linewidth(0.7);\npair A=(0,0),B=(175,0),C=(105,100),D=(30,100);\nD(A--B--C--D--cycle); D((A+D)/2 -- (B+C)/2, d); MP(\"b\",(C+D)/2,N);MP(\"b+100\",(A+B)/2); \n</asy></center>\n\n<cmath>\n\\frac{\\frac 12 (h/2) (b + b+50)}{\\frac 12 (h/2) (b + 50 + b + 100)} = \\frac{2}{3} \\Longrightarrow \\frac{b + 75}{b + 25} = \\frac 32 \\Longrightarrow b = 75\n</cmath>\n\nConstruct the perpendiculars from the vertices of the shorter base to the longer base. This splits the trapezoid into a rectangle and two triangles; it also splits the desired line segment into three partitions with lengths <math>x_1, 75, x_2</math>. By similar triangles, we easily find that <math>\\frac{x - 75}{100} = \\frac{x_1+x_2}{100} = \\frac{h_1}{h}</math>.\n\n<center><asy>pathpen = linewidth(0.7); pen d = linetype(\"4 4\") + linewidth(0.7);\npair A=(0,0),B=(175,0),C=(105,100),D=(30,100),E=D*(1.75-(18125)^.5/100),F=IP(B--C,E--(175,E.y));\nD(A--B--C--D--cycle); MP(\"75\",(C+D)/2,N);MP(\"175\",(A+B)/2); D(C--(C.x,0),d);D(D--(D.x,0),d); D(E--F,d); D((-20,100)--(-20,0)); MP(\"h\",(-20,50),(-1,0));MP(\"h_1\",(C.x,(C.y+E.y)/2),(-1,0)); MP(\"x_1\",((E.x+D.x)/2,E.y));MP(\"x_2\",((F.x+C.x)/2,E.y));\n</asy></center>\n\nThe area of the region including the shorter base must be half of the area of the entire trapezoid, so\n\n<cmath>2 \\cdot \\frac 12 h_1 (75 + x) = \\frac 12 h (75 + 175) \\Longrightarrow x = 125 \\cdot \\frac{h}{h_1} - 75</cmath>\n\nSubstituting our expression for <math>\\frac h{h_1}</math> from above, we find that\n\n<cmath>x = \\frac{12500}{x-75} - 75 \\Longrightarrow x^2 - 75x = 5625 + 12500 - 75x \\Longrightarrow x^2 = 18125</cmath>\n\nThe answer is <math>\\left\\lfloor\\frac{x^2}{100}\\right\\rfloor = \\boxed{181}</math>."
  },
  {
    "year": 2000,
    "variant": "II",
    "problem_number": 7,
    "latex": "Given that <center><math>\\frac 1{2!17!}+\\frac 1{3!16!}+\\frac 1{4!15!}+\\frac 1{5!14!}+\\frac 1{6!13!}+\\frac 1{7!12!}+\\frac 1{8!11!}+\\frac 1{9!10!}=\\frac N{1!18!}</math></center> find the [[floor function|greatest integer]] that is less than <math>\\frac N{100}</math>.",
    "solution": "Multiplying both sides by <math>19!</math> yields: \n\n<cmath>\\frac {19!}{2!17!}+\\frac {19!}{3!16!}+\\frac {19!}{4!15!}+\\frac {19!}{5!14!}+\\frac {19!}{6!13!}+\\frac {19!}{7!12!}+\\frac {19!}{8!11!}+\\frac {19!}{9!10!}=\\frac {19!N}{1!18!}.</cmath>\n\n<cmath>\\binom{19}{2}+\\binom{19}{3}+\\binom{19}{4}+\\binom{19}{5}+\\binom{19}{6}+\\binom{19}{7}+\\binom{19}{8}+\\binom{19}{9} = 19N.</cmath> \n\nRecall the [[combinatorial identity|Combinatorial Identity]] <math>2^{19} = \\sum_{n=0}^{19} {19 \\choose n}</math>. Since <math>{19 \\choose n} = {19 \\choose 19-n}</math>, it follows that <math>\\sum_{n=0}^{9} {19 \\choose n} = \\frac{2^{19}}{2} = 2^{18}</math>.\n\nThus, <math>19N = 2^{18}-\\binom{19}{1}-\\binom{19}{0}=2^{18}-19-1 = (2^9)^2-20 = (512)^2-20 = 262124</math>.\n\nSo, <math>N=\\frac{262124}{19}=13796</math> and <math>\\left\\lfloor \\frac{N}{100} \\right\\rfloor =\\boxed{137}</math>."
  },
  {
    "year": 2000,
    "variant": "II",
    "problem_number": 8,
    "latex": "In [[trapezoid]] <math>ABCD</math>, leg <math>\\overline{BC}</math> is [[perpendicular]] to bases <math>\\overline{AB}</math> and <math>\\overline{CD}</math>, and diagonals <math>\\overline{AC}</math> and <math>\\overline{BD}</math> are perpendicular. Given that <math>AB=\\sqrt{11}</math> and <math>AD=\\sqrt{1001}</math>, find <math>BC^2</math>.",
    "solution": "=== Solution 1 ===\nLet <math>x = BC</math> be the height of the trapezoid, and let <math>y = CD</math>. Since <math>AC \\perp BD</math>, it follows that <math>\\triangle BAC \\sim \\triangle CBD</math>, so <math>\\frac{x}{\\sqrt{11}} = \\frac{y}{x} \\Longrightarrow x^2 = y\\sqrt{11}</math>.\n\nLet <math>E</math> be the foot of the altitude from <math>A</math> to <math>\\overline{CD}</math>. Then <math>AE = x</math>, and <math>ADE</math> is a [[right triangle]]. By the [[Pythagorean Theorem]], \n\n<cmath>x^2 + \\left(y-\\sqrt{11}\\right)^2 = 1001 \\Longrightarrow x^4 - 11x^2 - 11^2 \\cdot 9 \\cdot 10 = 0</cmath>\n\nThe positive solution to this [[quadratic equation]] is <math>x^2 = \\boxed{110}</math>.\n\n<center><asy>\nsize(200); pathpen = linewidth(0.7);\npair C=(0,0),B=(0,110^.5),A=(11^.5,B.y),D=(10*11^.5,0),E=foot(A,C,D);\nD(MP(\"A\",A,(2,.5))--MP(\"B\",B,W)--MP(\"C\",C)--MP(\"D\",D)--cycle); D(A--C);D(B--D);D(A--E,linetype(\"4 4\") + linewidth(0.7));\nMP(\"\\sqrt{11}\",(A+B)/2,N);MP(\"\\sqrt{1001}\",(A+D)/2,NE);MP(\"\\sqrt{1001}\",(A+D)/2,NE);MP(\"x\",(B+C)/2,W);MP(\"y\",(D+C)/2);D(rightanglemark(B,IP(A--C,B--D),C,20));\n</asy></center>\n\n=== Solution 2 ===\nLet <math>BC=x</math>. Dropping the altitude from <math>A</math> and using the Pythagorean Theorem tells us that <math>CD=\\sqrt{11}+\\sqrt{1001-x^2}</math>. Therefore, we know that vector <math>\\vec{BD}=\\langle \\sqrt{11}+\\sqrt{1001-x^2},-x\\rangle</math> and vector <math>\\vec{AC}=\\langle-\\sqrt{11},-x\\rangle</math>. Now we know that these vectors are perpendicular, so their dot product is 0.<cmath>\\vec{BD}\\cdot \\vec{AC}=-11-\\sqrt{11(1001-x^2)}+x^2=0</cmath>\n<cmath>(x^2-11)^2=11(1001-x^2)</cmath>\n<cmath>x^4-11x^2-11\\cdot 990=0.</cmath>\nAs above, we can solve this quadratic to get the positve solution <math>BC^2=x^2=\\boxed{110}</math>.\n\n=== Solution 3 ===\nLet <math>BC=x</math> and <math>CD=y+\\sqrt{11}</math>. From Pythagoras with <math>AD</math>, we obtain <math>x^2+y^2=1001</math>. Since <math>AC</math> and <math>BD</math> are perpendicular diagonals of a quadrilateral, then <math>AB^2+CD^2=BC^2+AD^2</math>, so we have <cmath>\\left(y+\\sqrt{11}\\right)^2+11=x^2+1001.</cmath> Substituting <math>x^2=1001-y^2</math> and simplifying yields <cmath>y^2+\\sqrt{11}y-990=0,</cmath> and the quadratic formula gives <math>y=9\\sqrt{11}</math>. Then from <math>x^2+y^2=1001</math>, we plug in <math>y</math> to find <math>x^2=\\boxed{110}</math>.\n\n\n=== Solution 4 ===\n\nLet <math>E</math> be the intersection of the diagonals. Since the diagonals are perpendicular, applying the Pythagorean Theorem multiple times we have\n<cmath>\\begin{align*}\nBC^2&=BE^2+CE^2 \\\\\n&=(AB^2-AE^2)+(CD^2-DE^2) \\\\\n&=CD^2+\\sqrt{11}^2-(AE^2+DE^2) \\\\\n&=CD^2+11-AD^2 \\\\\n&=CD^2-990\n\\end{align*}</cmath>\nFollowed by dropping the perpendicular like in solution 1, we obtain system of equation\n<cmath>BC^2=CD^2-990</cmath>\n<cmath>BC^2+CD^2-2\\sqrt{11}CD=990</cmath>\nRearrange the first equation yields\n<cmath>CD^2-BC^2=990</cmath>\nEquating it with the second equation we have\n<cmath>CD^2-BC^2=BC^2+CD^2-2\\sqrt{11}CD</cmath>\nWhich gives <math>CD=\\frac{BC^2}{\\sqrt{11}}</math>.\nSubstituting into equation 1 obtains the quadratic in terms of <math>BC^2</math>\n<cmath>(BC^2)^2-11BC^2-11\\cdot990=0</cmath>\nSolving the quadratic to obtain <math>BC^2=\\boxed{110}</math>.\n\n~Nafer ~edits by fermat_sLastAMC"
  },
  {
    "year": 2000,
    "variant": "II",
    "problem_number": 9,
    "latex": "Given that <math>z</math> is a complex number such that <math>z+\\frac 1z=2\\cos 3^\\circ</math>, find the least integer that is greater than <math>z^{2000}+\\frac 1{z^{2000}}</math>.",
    "solution": "Using the quadratic equation on <math>z^2 - (2 \\cos 3 )z + 1 = 0</math>, we have <math>z = \\frac{2\\cos 3 \\pm \\sqrt{4\\cos^2 3 - 4}}{2} = \\cos 3 \\pm i\\sin 3 = \\text{cis}\\,3^{\\circ}</math>.\n\nThere are other ways we can come to this conclusion. Note that if <math>z</math> is on the [[unit circle]] in the complex plane, then <math>z = e^{i\\theta} = \\cos \\theta + i\\sin \\theta</math>  and <math>\\frac 1z= e^{-i\\theta} = \\cos \\theta - i\\sin \\theta</math>. We have <math>z+\\frac 1z = 2\\cos \\theta = 2\\cos 3^\\circ</math> and <math>\\theta = 3^\\circ</math>. Alternatively, we could let <math>z = a + bi</math> and solve to get <math>z=\\cos 3^\\circ + i\\sin 3^\\circ</math>.\n\n\nUsing [[De Moivre's Theorem]] we have <math>z^{2000} = \\cos 6000^\\circ + i\\sin 6000^\\circ</math>, <math>6000 = 16(360) + 240</math>, so \n<math>z^{2000} = \\cos 240^\\circ + i\\sin 240^\\circ</math>.\n\nWe want <math>z^{2000}+\\frac 1{z^{2000}} = 2\\cos 240^\\circ = -1</math>.\n\nFinally, the least integer greater than <math>-1</math> is <math>\\boxed{000}</math>."
  },
  {
    "year": 2000,
    "variant": "II",
    "problem_number": 10,
    "latex": "A [[circle]] is [[inscribe]]d in [[quadrilateral]] <math>ABCD</math>, [[tangent]] to <math>\\overline{AB}</math> at <math>P</math> and to <math>\\overline{CD}</math> at <math>Q</math>. Given that <math>AP=19</math>, <math>PB=26</math>, <math>CQ=37</math>, and <math>QD=23</math>, find the [[Perfect square|square]] of the [[radius]] of the circle.",
    "solution": "Call the [[center]] of the circle <math>O</math>. By drawing the lines from <math>O</math> tangent to the sides and from <math>O</math> to the vertices of the quadrilateral, four pairs of congruent [[right triangle]]s are formed.\n\nThus, <math>\\angle{AOP}+\\angle{POB}+\\angle{COQ}+\\angle{QOD}=180</math>, or <math>(\\arctan(\\tfrac{19}{r})+\\arctan(\\tfrac{26}{r}))+(\\arctan(\\tfrac{37}{r})+\\arctan(\\tfrac{23}{r}))=180</math>.\n\nTake the <math>\\tan</math> of both sides and use the identity for <math>\\tan(A+B)</math> to get <cmath>\\tan(\\arctan(\\tfrac{19}{r})+\\arctan(\\tfrac{26}{r}))+\\tan(\\arctan(\\tfrac{37}{r})+\\arctan(\\tfrac{23}{r}))=n\\cdot0=0.</cmath>\n\nUse the identity for <math>\\tan(A+B)</math> again to get <cmath>\\frac{\\tfrac{45}{r}}{1-19\\cdot\\tfrac{26}{r^2}}+\\frac{\\tfrac{60}{r}}{1-37\\cdot\\tfrac{23}{r^2}}=0.</cmath>\n\nSolving gives <math>r^2=\\boxed{647}</math>.\n\nNote: the equation may seem nasty at first, but once you cancel the <math>r</math>s and other factors, you are just left with <math>r^2</math>. That gives us <math>647</math> quite easily."
  },
  {
    "year": 2000,
    "variant": "II",
    "problem_number": 11,
    "latex": "The coordinates of the vertices of [[isosceles trapezoid]] <math>ABCD</math> are all integers, with <math>A=(20,100)</math> and <math>D=(21,107)</math>. The trapezoid has no horizontal or vertical sides, and <math>\\overline{AB}</math> and <math>\\overline{CD}</math> are the only [[parallel]] sides. The sum of the absolute values of all possible slopes for <math>\\overline{AB}</math> is <math>m/n</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "For simplicity, we translate the points so that <math>A</math> is on the origin and <math>D = (1,7)</math>. Suppose <math>B</math> has integer coordinates; then <math>\\overrightarrow{AB}</math> is a [[vector]] with integer parameters (vector knowledge is not necessary for this solution). We construct the [[perpendicular]] from <math>A</math> to <math>\\overline{CD}</math>, and let <math>D' = (a,b)</math> be the reflection of <math>D</math> across that perpendicular. Then <math>ABCD'</math> is a [[parallelogram]], and <math>\\overrightarrow{AB} = \\overrightarrow{D'C}</math>. Thus, for <math>C</math> to have integer coordinates, it suffices to let <math>D'</math> have integer coordinates.{{ref|1}}  \n\n<center><asy>\npathpen = linewidth(0.7);\npair A=(0,0), D=(1,7), Da = MP(\"D'\",D((-7,1)),N), B=(-8,-6), C=B+Da, F=foot(A,C,D);\nD(MP(\"A\",A)--MP(\"B\",B)--MP(\"C\",C,N)--MP(\"D\",D,N)--cycle); D(F--A--Da,linetype(\"4 4\")); \n</asy></center>\n\nLet the slope of the perpendicular be <math>m</math>. Then the [[midpoint]] of <math>\\overline{DD'}</math> lies on the line <math>y=mx</math>, so <math>\\frac{b+7}{2} = m \\cdot \\frac{a+1}{2}</math>. Also, <math>AD = AD'</math> implies that <math>a^2 + b^2 = 1^2 + 7^2 = 50</math>. Combining these two equations yields\n\n<cmath>a^2 + \\left(7 - (a+1)m\\right)^2 = 50</cmath>\n\nSince <math>a</math> is an integer, then <math>7-(a+1)m</math> must be an integer. There are <math>12</math> pairs of integers whose squares sum up to <math>50,</math> namely <math>( \\pm 1, \\pm 7), (\\pm 7, \\pm 1), (\\pm 5, \\pm 5)</math>. We exclude the cases <math>(\\pm 1, \\pm 7)</math> because they lead to degenerate parallelograms (rectangle, line segment, vertical and horizontal sides). Thus we have\n\n<cmath>7 - 8m = \\pm 1, \\quad 7 + 6m = \\pm 1, \\quad 7 - 6m = \\pm 5, 7 + 4m = \\pm 5</cmath>\n\nThese yield <math>m = 1, \\frac 34, -1, -\\frac 43, 2, \\frac 13, -3, - \\frac 12</math>. Therefore, the corresponding slopes of <math>\\overline{AB}</math> are <math>-1, -\\frac 43, 1, \\frac 34, -\\frac 12, -3, \\frac 13</math>, and <math>2</math>.  The sum of their absolute values is <math>\\frac{119}{12}</math>. The answer is <math>m+n= \\boxed{131}</math>\n\n<br />\n{{note|1}} <small>In other words, since <math>ABCD'</math> is a parallelogram, the difference between the x-coordinates and the y-coordinates of <math>C</math> and <math>D'</math> are, respectively, the difference between the x-coordinates and the y-coordinates of <math>A</math> and <math>B</math>. But since the latter are integers, then the former are integers also, so <math>C</math> has integer coordinates [[iff]] <math>D'</math> has integer coordinates.</small>\n\n\nNote: It may not seem like we considered that the coordinates of <math>B</math> have to be integers, but since the slopes of <math>\\overline{AB}</math> are all rational, we can just extend <math>\\overline{AB}</math> by some arbitrary amount so that <math>B</math> becomes a lattice point, which won't affect the position of <math>D'</math>. ~inaccessibles"
  },
  {
    "year": 2000,
    "variant": "II",
    "problem_number": 12,
    "latex": "The points <math>A</math>, <math>B</math> and <math>C</math> lie on the surface of a [[sphere]] with center <math>O</math> and radius <math>20</math>. It is given that <math>AB=13</math>, <math>BC=14</math>, <math>CA=15</math>, and that the distance from <math>O</math> to <math>\\triangle ABC</math> is <math>\\frac{m\\sqrt{n}}k</math>, where <math>m</math>, <math>n</math>, and <math>k</math> are positive integers, <math>m</math> and <math>k</math> are relatively prime, and <math>n</math> is not divisible by the square of any prime. Find <math>m+n+k</math>.",
    "solution": "Let <math>D</math> be the foot of the [[perpendicular]] from <math>O</math> to the plane of <math>ABC</math>. By the [[Pythagorean Theorem]] on triangles <math>\\triangle OAD</math>, <math>\\triangle OBD</math> and <math>\\triangle OCD</math> we get:\n\n<cmath>DA^2=DB^2=DC^2=20^2-OD^2</cmath>\n\nIt follows that <math>DA=DB=DC</math>, so <math>D</math> is the [[circumcenter]] of <math>\\triangle ABC</math>.\n\nBy [[Heron's Formula]] the area of <math>\\triangle ABC</math> is (alternatively, a <math>13-14-15</math> triangle may be split into <math>9-12-15</math> and <math>5-12-13</math> [[right triangle]]s):\n\n<cmath>K = \\sqrt{s(s-a)(s-b)(s-c)} = \\sqrt{21(21-15)(21-14)(21-13)} = 84</cmath>\n\nFrom <math>R = \\frac{abc}{4K}</math>, we know that the [[circumradius]] of <math>\\triangle ABC</math> is:\n\n<cmath>R = \\frac{abc}{4K} = \\frac{(13)(14)(15)}{4(84)} = \\frac{65}{8}</cmath>\n\nThus by the [[Pythagorean Theorem]] again,\n\n<cmath>OD = \\sqrt{20^2-R^2} = \\sqrt{20^2-\\frac{65^2}{8^2}} = \\frac{15\\sqrt{95}}{8}.</cmath>\n\nSo the final answer is <math>15+95+8=\\boxed{118}</math>."
  },
  {
    "year": 2000,
    "variant": "II",
    "problem_number": 13,
    "latex": "The [[equation]] <math>2000x^6+100x^5+10x^3+x-2=0</math> has exactly two real roots, one of which is <math>\\frac{m+\\sqrt{n}}r</math>, where <math>m</math>, <math>n</math> and <math>r</math> are integers, <math>m</math> and <math>r</math> are relatively prime, and <math>r>0</math>. Find <math>m+n+r</math>.",
    "solution": "We may factor the equation as:{{ref|1}}\n\n<cmath>\n\\begin{align*}\n2000x^6+100x^5+10x^3+x-2&=0\\\\\n2(1000x^6-1) + x(100x^4+10x^2+1)&=0\\\\\n2[(10x^2)^3-1]+x[(10x^2)^2+(10x^2)+1]&=0\\\\\n2(10x^2-1)[(10x^2)^2+(10x^2)+1]+x[(10x^2)^2+(10x^2)+1]&=0\\\\\n(20x^2+x-2)(100x^4+10x^2+1)&=0\\\\\n\\end{align*}\n</cmath>\n\nNow <math>100x^4+10x^2+1\\ge 1>0</math> for real <math>x</math>. Thus the real roots must be the roots of the equation <math>20x^2+x-2=0</math>. By the [[quadratic formula]] the roots of this are:\n\n<cmath>x=\\frac{-1\\pm\\sqrt{1^2-4(-2)(20)}}{40} = \\frac{-1\\pm\\sqrt{1+160}}{40} = \\frac{-1\\pm\\sqrt{161}}{40}.</cmath>\n\nThus the only root of the required form is <math>x=\\frac{-1+\\sqrt{161}}{40}</math>, and so the final answer is <math>-1+161+40 = \\boxed{200}</math>.\n\n<br />\n{{note|1}} A well-known technique for dealing with symmetric (or in this case, nearly symmetric) polynomials is to divide through by a power of <math>x</math> with half of the polynomial's degree (in this case, divide through by <math>x^3</math>), and then to use one of the substitutions <math>t = x \\pm \\frac{1}{x}</math>. In this case, the substitution <math>t = x\\sqrt{10} - \\frac{1}{x\\sqrt{10}}</math> gives <math>t^2 + 2 = 10x^2 + \\frac 1{10x^2}</math> and <math>2\\sqrt{10}(t^3 + 3t) = 200x^3 - \\frac{2}{10x^3}</math>, which reduces the polynomial to just <math>(t^2 + 3)\\left(2\\sqrt{10}t + 1\\right) = 0</math>. Then one can backwards solve for <math>x</math>.\nNote: After dividing the equation with <math>x^3</math>, divide again with <math>10</math> before substituting it with <math>t</math> to get it right.\n\n\nA slightly different approach using symmetry:\n<br />\nLet <math>y = 10x - 1/x</math>.\nNotice that the equation can be rewritten (after dividing across by <math>x^3</math>) as \n<cmath> 2( (10x)^3 - 1/x^3 ) + (10x)^2 + (1/x)^2 + 10 = 0 </cmath>\nNow it is easy to see that the equation reduces to \n<cmath>\n\\begin{align*}\n2(y^3+30y)+ (y^2+20) + 10 = 0 \\\\\n2y^3 + y^2 + 60y + 30 = 0 \\\\\ny^2(2y+1) + 30(2y+1) = 0 \\\\\n(2y+1)(y^2+30)= 0 \\\\\n\\end{align*}\n</cmath>\nso for real solutions we have <math>y = -1/2</math>. Solve the quadratic in <math>x</math> to get the final answer as <math>\\boxed{200}</math>."
  },
  {
    "year": 2000,
    "variant": "II",
    "problem_number": 14,
    "latex": "Every positive [[integer]] <math>k</math> has a unique factorial base expansion <math>(f_1,f_2,f_3,\\ldots,f_m)</math>, meaning that <math>k=1!\\cdot f_1+2!\\cdot f_2+3!\\cdot f_3+\\cdots+m!\\cdot f_m</math>, where each <math>f_i</math> is an integer, <math>0\\le f_i\\le i</math>, and <math>0<f_m</math>. Given that <math>(f_1,f_2,f_3,\\ldots,f_j)</math> is the factorial base expansion of <math>16!-32!+48!-64!+\\cdots+1968!-1984!+2000!</math>, find the value of <math>f_1-f_2+f_3-f_4+\\cdots+(-1)^{j+1}f_j</math>.",
    "solution": "=== Solution 1 ===\nNote that <math>1+\\sum_{k=1}^{n-1} {k\\cdot k!} = 1+\\sum_{k=1}^{n-1} {((k+1)\\cdot k!- k!)} = 1+\\sum_{k=1}^{n-1} {((k+1)!- k!)} = 1 + ((2! - 1!) + (3! - 2!) + \\cdots + (n! - (n-1)!)) = n!</math>.\n\nThus for all <math>m\\in\\mathbb{N}</math>,\n\n<math>(32m+16)!-(32m)! = \\left(1+\\sum_{k=1}^{32m+15} {k\\cdot k!}\\right)-\\left(1+\\sum_{k=1}^{32m-1} {k\\cdot k!}\\right) = \\sum_{k=32m}^{32m+15}k\\cdot k!.</math>\n\nSo now,\n\n<cmath>\n\\begin{align*}\n16!-32!+48!-64!+\\cdots+1968!-1984!+2000!&=16!+(48!-32!)+(80!-64!)\\cdots+(2000!-1984!)\\\\\n&=16! +\\sum_{m=1}^{62}\\left((32m+16)!-(32m)!\\right)\\\\\n&=16! +\\sum_{m=1}^{62}\\sum_{k=32m}^{32m+15}k\\cdot k!\n\\end{align*}\n</cmath>\n\nTherefore we have <math>f_{16} = 1</math>, <math>f_k=k</math> if <math>32m\\le k \\le 32m+15</math> for some <math>m=1,2,\\ldots,62</math>, and <math>f_k = 0</math> for all other <math>k</math>.\n\nTherefore we have:\n\n<cmath>\n\\begin{align*}\nf_1-f_2+f_3-f_4+\\cdots+(-1)^{j+1}f_j &= (-1)^{17}\\cdot 1 + \\sum_{m=1}^{62}\\sum_{k=32m}^{32m+15}(-1)^{k+1}k\\\\\n&= -1 + \\sum_{m=1}^{62}\\left[\\sum_{j=16m}^{16m+7}(-1)^{2j+1}2j+\\sum_{j=16m}^{16m+7}(-1)^{2j+2}(2j+1)\\right]\\\\\n&= -1 + \\sum_{m=1}^{62}\\sum_{j=16m}^{16m+7}[(-1)^{2j+1}2j+(-1)^{2j+2}(2j+1)]\\\\\n&= -1 + \\sum_{m=1}^{62}\\sum_{j=16m}^{16m+7}[-2j+(2j+1)]\\\\\n&= -1 + \\sum_{m=1}^{62}\\sum_{j=16m}^{16m+7}1\\\\\n&= -1 + \\sum_{m=1}^{62}8\\\\\n&= -1 + 8\\cdot 62\\\\\n&= \\boxed{495}.\n\\end{align*}\n</cmath>\n\n=== Solution 2 (informal)===\nThis is equivalent to Solution 1. I put up this solution merely for learners to see the intuition.\n\nLet us consider a base <math>n</math> number system. It‚Äôs a well known fact that when we take the difference of two integral powers of <math>n</math>, (such as <math>10000_{10} - 100_{10}</math>) the result will be an integer in base <math>n</math> composed only of the digits <math>n - 1</math> and <math>0</math> (in this example, <math>9900</math>). More specifically, the difference <math>(n^k)_n - (n^j)_n</math>, <math>j<k</math> , is an integer <math>k</math> digits long (note that <math>(n^k)_n</math> has <math>k + 1</math> digits). This integer is made up of <math>(k-j)</math> <math>(n - 1)</math>‚Äôs followed by <math>j</math> <math>0</math>‚Äôs.\n\nIt should make sense that this fact carries over to the factorial base, albeit with a modification. Whereas in the general base <math>n</math>, the largest digit value is <math>n - 1</math>, in the factorial base, the largest digit value is the argument of the factorial in that place. (for example, <math>321_!</math> is a valid factorial base number, as is <math>3210_!</math>. However, <math>31_!</math> is not, as <math>3</math> is greater than the argument of the second place factorial, <math>2</math>. <math>31_!</math> should be represented as <math>101_!</math>, and is <math>7_{10}</math>.) Therefore, for example, <math>1000000_! - 10000_!</math> is not <math>990000_!</math>, but rather is <math>650000_!</math>. Thus, we may add or subtract factorials quite easily by converting each factorial to its factorial base expression, with a <math>1</math> in the argument of the factorial‚Äôs place and <math>0</math>‚Äôs everywhere else, and then using a standard carry/borrow system accounting for the place value. \n\nWith general intuition about the factorial base system out of the way, we may tackle the problem. We use the associative property of addition to regroup the terms as follows: <math>(2000! - 1984!) + (1968! - 1952!) + \\cdots + (48! - 32!) + 16!</math> we now apply our intuition from paragraph 2. <math>2000!_{10}</math> is equivalent to <math>1</math> followed by <math>1999</math> <math>0</math>‚Äôs in the factorial base, and <math>1984!</math> is <math>1</math> followed by <math>1983</math> <math>0</math>‚Äôs, and so on. Therefore, <math>2000! - 1984! = (1999)(1998)(1997)\\cdots(1984)</math> followed by <math>1983</math> <math>0</math>‚Äôs in the factorial base. <math>1968! - 1952! = (1967)(1966)\\cdots(1952)</math> followed by <math>1951</math> <math>0</math>‚Äôs, and so on for the rest of the terms, except <math>16!</math>, which will merely have a <math>1</math> in the <math>16!</math> place followed by <math>0</math>‚Äôs. To add these numbers, no carrying will be necessary, because there is only one non-zero value for each place value in the sum. Therefore, the factorial base place value <math>f_k</math> is <math>k</math> for all <math>32m \\leq k \\leq 32m+15</math> if <math>1\\leq m \\in\\mathbb{Z} \\leq 62</math>, <math>f_{16} = 1</math>, and \n<math>f_k = 0</math> for all other <math>k</math>. \n\nTherefore, to answer, we notice that <math>1999 - 1998 = 1997 - 1996 = 1</math>, and this will continue. Therefore, <math>f_{1999} - f_{1998} + \\cdots - f_{1984} = 8</math>. We have 62 sets that sum like this, and each contains <math>8</math> pairs of elements that sum to <math>1</math>, so our answer is almost <math>8 \\cdot 62</math>. However, we must subtract the <math>1</math> in the <math>f_{16}</math> place, and our answer is <math>8 \\cdot 62 - 1 = \\boxed{495}</math>.\n\n=== Solution 3 (less formality) ===\nLet <math>S = 16!-32!+\\cdots-1984!+2000!</math>. Note that since <math>|S - 2000!| << 2000!</math> (or <math>|S - 2000!| = 1984! + \\cdots</math> is significantly smaller than <math>2000!</math>), it follows that <math>1999! < S < 2000!</math>. Hence <math>f_{2000} = 0</math>. Then <math>2000! = 2000 \\cdot 1999! = 1999 \\cdot 1999! + 1999!</math>, and as <math>S - 2000! << 1999!</math>, it follows that <math>1999 \\cdot 1999! < S < 2000 \\cdot 1999!</math>. Hence <math>f_{1999} = 1999</math>, and we now need to find the factorial base expansion of \n\n<cmath>S_2 = S - 1999 \\cdot 1999! = 1999! - 1984! + 1962! - 1946! + \\cdots + 16!</cmath>\n\nSince <math>|S_2 - 1999!| << 1999!</math>, we can repeat the above argument recursively to yield <math>f_{1998} = 1998</math>, and so forth down to <math>f_{1985} = 1985</math>. Now <math>S_{16} = 1985! - 1984! + 1962! + \\cdots = 1984 \\cdot 1984! + 1962! + \\cdots</math>, so <math>f_{1984} = 1984</math>. \n\nThe remaining sum is now just <math>1962! - 1946! + \\cdots + 16!</math>. We can repeatedly apply the argument from the previous two paragraphs to find that <math>f_{16} = 1</math>, and <math>f_k=k</math> if <math>32m\\le k \\le 32m+15</math> for some <math>m=1,2,\\ldots,62</math>, and <math>f_k = 0</math> for all other <math>k</math>.\n\nNow for each <math>m</math>, we have <math>-f_{32m} + f_{32m+1} - f_{32m+2} + \\cdots + f_{32m + 31}</math> <math> = -32m + (32m + 1) - (32m + 2) + \\cdots - (32m - 30) + (32 m + 31)</math> <math>= 1 + 1 + \\cdots + 1 + 1</math> <math>= 8</math>. Thus, our answer is <math>-f_{16} + 8 \\cdot 62 = \\boxed{495}</math>."
  },
  {
    "year": 2000,
    "variant": "II",
    "problem_number": 15,
    "latex": "Find the least positive integer <math>n</math> such that <center><math>\\frac 1{\\sin 45^\\circ\\sin 46^\\circ}+\\frac 1{\\sin 47^\\circ\\sin 48^\\circ}+\\cdots+\\frac 1{\\sin 133^\\circ\\sin 134^\\circ}=\\frac 1{\\sin n^\\circ}.</math></center>",
    "solution": "We apply the identity \n\n<cmath>\\begin{align*}\n\\frac{1}{\\sin n \\sin (n+1)} &= \\frac{1}{\\sin 1} \\cdot \\frac{\\sin (n+1) \\cos n - \\sin n \\cos (n+1)}{\\sin n \\sin (n+1)} \\\\ &= \\frac{1}{\\sin 1} \\cdot \\left(\\frac{\\cos n}{\\sin n} - \\frac{\\cos (n+1)}{\\sin (n+1)}\\right) \\\\ &= \\frac{1}{\\sin 1} \\cdot \\left(\\cot n - \\cot (n+1)\\right). \\end{align*}</cmath>\n\nThe motivation for this identity arises from the need to decompose those fractions, possibly into [[telescoping]]. \n\nThus our summation becomes \n\n<cmath>\\sum_{k=23}^{67} \\frac{1}{\\sin (2k-1) \\sin 2k} = \\frac{1}{\\sin 1} \\left(\\cot 45 - \\cot 46 + \\cot 47 - \\cdots + \\cot 133 - \\cot 134 \\right).</cmath>\n\nSince <math>\\cot (180 - x) = - \\cot x</math>, the summation simply reduces to <math>\\frac{1}{\\sin 1} \\cdot \\left( \\cot 45 - \\cot 90 \\right) = \\frac{1 - 0}{\\sin 1} = \\frac{1}{\\sin 1^{\\circ}}</math>. Therefore, the answer is <math>\\boxed{001}</math>."
  },
  {
    "year": 2001,
    "variant": "I",
    "problem_number": 1,
    "latex": "Find the sum of all positive two-digit integers that are divisible by each of their digits.",
    "solution": "Let our number be <math>10a + b</math>, <math>a,b \\neq 0</math>. Then we have two conditions: <math>10a + b \\equiv 10a \\equiv 0 \\pmod{b}</math> and <math>10a + b \\equiv b \\pmod{a}</math>, or <math>a</math> divides into <math>b</math> and <math>b</math> divides into <math>10a</math>. Thus <math>b = a, 2a,</math> or <math>5a</math> (note that if <math>b = 10a</math>, then <math>b</math> would not be a digit).  \n\n*For <math>b = a</math>, we have <math>n = 11a</math> for nine possibilities, giving us a sum of <math>11 \\cdot \\frac {9(10)}{2} = 495</math>.  \n*For <math>b = 2a</math>, we have <math>n = 12a</math> for four possibilities (the higher ones give <math>b > 9</math>), giving us a sum of <math>12 \\cdot \\frac {4(5)}{2} = 120</math>.\n*For <math>b = 5a</math>, we have <math>n = 15a</math> for one possibility (again, higher ones give <math>b > 9</math>), giving us a sum of <math>15</math>. \nIf we ignore the case <math>b = 0</math> as we have been doing so far, then the sum is <math>495 + 120 + 15 = \\boxed{630}</math>."
  },
  {
    "year": 2001,
    "variant": "I",
    "problem_number": 2,
    "latex": "A finite [[set]] <math>\\mathcal{S}</math> of distinct real numbers has the following properties: the [[arithmetic mean|mean]] of <math>\\mathcal{S}\\cup\\{1\\}</math> is <math>13</math> less than the mean of <math>\\mathcal{S}</math>, and the mean of <math>\\mathcal{S}\\cup\\{2001\\}</math> is <math>27</math> more than the mean of <math>\\mathcal{S}</math>. Find the mean of <math>\\mathcal{S}</math>.",
    "solution": "Let <math>x</math> be the mean of <math>\\mathcal{S}</math>. Let <math>a</math> be the number of elements in <math>\\mathcal{S}</math>.\nThen, the given tells us that <math>\\frac{ax+1}{a+1}=x-13</math> and <math>\\frac{ax+2001}{a+1}=x+27</math>. Subtracting, we have \n<cmath>\\begin{align*}\\frac{ax+2001}{a+1}-40=\\frac{ax+1}{a+1} \\Longrightarrow \\frac{2000}{a+1}=40 \\Longrightarrow a=49\\end{align*}</cmath>\nWe plug that into our very first formula, and get:\n<cmath>\\begin{align*}\\frac{49x+1}{50}&=x-13 \\\\\n49x+1&=50x-650 \\\\\nx&=\\boxed{651}.\\end{align*}</cmath>"
  },
  {
    "year": 2001,
    "variant": "I",
    "problem_number": 3,
    "latex": "Find the sum of the [[root]]s, real and non-real, of the equation <math>x^{2001}+\\left(\\frac 12-x\\right)^{2001}=0</math>, given that there are no multiple roots.",
    "solution": "By [[Vieta's formulas|Vieta's formulae]], for a [[polynomial]] equation of the form <math>a_nx^n + a_{n-1}x^{n-1} + \\dotsb + a_0 = 0</math>, the sum of the roots, ''counted with multiplicity'', is <math>-\\frac{a_{n-1}}{a_n}</math>. \n\nNow, by the [[Binomial Theorem]], the highest-degree term of the expansion of <math>\\left(\\frac 12-x\\right)^{2001}</math> is <math>-x^{2001}</math>, but <math>x^{2001}+\\left(-x^{2001}\\right) = 0</math>, so the highest-degree term is in fact the <math>x^{2000}</math> term. Since there are no multiple roots, counting them with multiplicity includes each root exactly once, so the required sum will be given by precisely the formula above.\n\nWe accordingly need to compute the coefficients of the <math>x^{2000}</math> and <math>x^{1999}</math> terms, which is straightforward using the [[Binomial Theorem]] again:\n\n<cmath>\\begin{align*}&\\binom{2001}{1} \\cdot (-x)^{2000} \\cdot \\left(\\frac{1}{2}\\right)^1 =\\frac{2001}{2}x^{2000}, \\quad\\text{and} \\\\\n&\\binom{2001}{2} \\cdot (-x)^{1999} \\cdot \\left(\\frac{1}{2}\\right)^2 =-\\frac{2001 \\cdot 2000}{8}x^{1999} = -2001 \\cdot 250x^{1999}.\n\\end{align*}</cmath>\n\nHence the sum of all the distinct roots is <math>-\\frac{-2001 \\cdot 250}{\\left(\\frac{2001}{2}\\right)} = 250 \\cdot 2 = \\boxed{500}</math>."
  },
  {
    "year": 2001,
    "variant": "I",
    "problem_number": 4,
    "latex": "In triangle <math>ABC</math>, angles <math>A</math> and <math>B</math> measure <math>60</math> degrees and <math>45</math> degrees, respectively. The bisector of angle <math>A</math> intersects <math>\\overline{BC}</math> at <math>T</math>, and <math>AT=24</math>. The area of triangle <math>ABC</math> can be written in the form <math>a+b\\sqrt{c}</math>, where <math>a</math>, <math>b</math>, and <math>c</math> are positive integers, and <math>c</math> is not divisible by the square of any prime. Find <math>a+b+c</math>.",
    "solution": "After chasing angles, <math>\\angle ATC=75^{\\circ}</math> and <math>\\angle TCA=75^{\\circ}</math>, meaning <math>\\triangle TAC</math> is an isosceles triangle and <math>AC=24</math>.\n\nUsing law of sines on <math>\\triangle ABC</math>, we can create the following equation:\n\n<math>\\frac{24}{\\sin(\\angle ABC)}</math> <math>=</math> <math>\\frac{BC}{\\sin(\\angle BAC)}</math>\n\n<math>\\angle ABC=45^{\\circ}</math> and <math>\\angle BAC=60^{\\circ}</math>, so <math>BC = 12\\sqrt{6}</math>.\n\nWe can then use the Law of Sines area formula <math>\\frac{1}{2} \\cdot BC \\cdot AC \\cdot \\sin(\\angle BCA)</math> to find the area of the triangle.\n\n<math>\\sin(75)</math> can be found through the sin addition formula.\n\n<math>\\sin(75)</math> <math>=</math> <math>\\frac{\\sqrt{6} + \\sqrt{2}}{4}</math>\n\nTherefore, the area of the triangle is <math>\\frac{\\sqrt{6} + \\sqrt{2}}{4}</math> <math>\\cdot</math> <math>24</math> <math>\\cdot</math> <math>12\\sqrt{6}</math> <math>\\cdot</math> <math>\\frac{1}{2}</math>\n\n<math>72\\sqrt{3} + 216</math>\n\n<math>72 + 3 + 216 =</math> <math>\\boxed{291}</math>"
  },
  {
    "year": 2001,
    "variant": "I",
    "problem_number": 5,
    "latex": "An [[equilateral triangle]] is inscribed in the [[ellipse]] whose equation is <math>x^2+4y^2=4</math>. One vertex of the triangle is <math>(0,1)</math>, one altitude is contained in the y-axis, and the square of the length of each side is <math>\\sqrt{\\frac{m}{n}}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.\n\n__TOC__",
    "solution": "<center><asy>\npointpen = black; pathpen = black + linewidth(0.7);\npath e = xscale(2)*unitcircle; real x = -8/13*3^.5;\nD((-3,0)--(3,0)); D((0,-2)--(0,2)); /* axes */\nD(e); D(D((0,1))--(x,x*3^.5+1)--(-x,x*3^.5+1)--cycle);\n</asy></center>\n=== Solution 1 ===\nDenote the vertices of the triangle <math>A,B,</math> and <math>C,</math> where <math>B</math> is in [[quadrant]] 4 and <math>C</math> is in quadrant <math>3.</math>\n\nNote that the slope of <math>\\overline{AC}</math> is <math>\\tan 60^\\circ = \\sqrt {3}.</math> Hence, the equation of the line containing <math>\\overline{AC}</math> is\n<cmath>\ny = x\\sqrt {3} + 1.\n</cmath>\nThis will intersect the ellipse when\n<cmath>\n\\begin{eqnarray*}4 = x^{2} + 4y^{2} & = & x^{2} + 4(x\\sqrt {3} + 1)^{2} \\\\\n& = & x^{2} + 4(3x^{2} + 2x\\sqrt {3} + 1) \\implies x(13x+8\\sqrt 3)=0\\implies x = \\frac { - 8\\sqrt {3}}{13}. \\end{eqnarray*}\n</cmath>\nWe ignore the <math>x=0</math> solution because it is not in quadrant 3.\n\nSince the triangle is symmetric with respect to the y-axis, the coordinates of <math>B</math> and <math>C</math> are now <math>\\left(\\frac {8\\sqrt {3}}{13},y_{0}\\right)</math> and <math>\\left(\\frac { - 8\\sqrt {3}}{13},y_{0}\\right),</math> respectively, for some value of <math>y_{0}.</math>\n\nIt is clear that the value of <math>y_{0}</math> is irrelevant to the length of <math>BC</math>. Our answer is\n<cmath>\nBC = 2 \\cdot \\frac {8\\sqrt {3}}{13}=\\sqrt {4\\left(\\frac {8\\sqrt {3}}{13}\\right)^{2}} = \\sqrt {\\frac {768}{169}}\\implies m + n = \\boxed{937}.\n</cmath>\n\n=== Solution 2 ===\nSolving for <math>y</math> in terms of <math>x</math> gives <math>y=\\sqrt{4-x^2}/2</math>, so the two other points of the triangle are <math>(x,\\sqrt{4-x^2}/2)</math> and <math>(-x,\\sqrt{4-x^2}/2)</math>, which are a distance of <math>2x</math> apart. Thus <math>2x</math> equals the distance between <math>(x,\\sqrt{4-x^2}/2)</math> and <math>(0,1)</math>, so by the distance formula we have \n\n<cmath>2x=\\sqrt{x^2+(1-\\sqrt{4-x^2}/2)^2}.</cmath> \n\nSquaring both sides and simplifying through algebra yields <math>x^2=192/169</math>, so <math>2x=\\sqrt{768/169}</math> and the answer is <math>\\boxed{937}</math>.\n\n=== Solution 3 ===\nSince the altitude goes along the <math>y</math> axis, this means that the base is a horizontal line, which means that the endpoints of the base are <math>(x,y)</math> and <math>(-x,y)</math>, and WLOG, we can say that <math>x</math> is positive.\n\nNow, since all sides of an equilateral triangle are the same, we can do this (distance from one of the endpoints of the base to the vertex and the length of the base):\n\n<math>\\sqrt{x^2 + (y-1)^2} = 2x</math>\n\nSquare both sides,\n\n<math>x^2 + (y-1)^2 = 4x^2\\implies (y-1)^2 = 3x^2</math>\n\nNow, with the equation of the ellipse:\n<math>x^2 + 4y^2 = 4</math>\n\n<math>x^2 = 4-4y^2</math>\n\n<math>3x^2 = 12-12y^2</math>\n\nSubstituting, \n\n<math>12-12y^2 = y^2 - 2y +1</math>\n\nMoving stuff around and solving:\n\n<math>y = \\frac{-11}{13}, 1</math>\n\nThe second is found to be extraneous, so, when we go back and figure out <math>x</math> and then <math>2x</math>  (which is the side length), we find it to be:\n\n<math>\\sqrt{\\frac{768}{169}}</math> \n\nand so we get the desired answer of <math>\\boxed{937}</math>.\n\n===Solution 4===\n\nDenote <math>(0,1)</math> as vertex <math>A,</math> <math>B</math> as the vertex to the left of the <math>y</math>-axis and <math>C</math> as the vertex to the right of the <math>y</math>-axis. Let <math>D</math> be the intersection of <math>BC</math> and the <math>y</math>-axis.\n\nLet <math>x_0</math> be the <math>x</math>-coordinate of <math>C.</math> This implies\n<cmath>C=\\left(x_0 , \\sqrt{\\frac{4-x_0^2}{4}}\\right)</cmath>\nand \n<cmath>B=\\left(-x_0 , \\sqrt{\\frac{4-x_0^2}{4}}\\right).</cmath>\nNote that <math>BC=2x_0</math> and \n<cmath>\\frac{BC}{\\sqrt3}=AD=1-\\sqrt{\\frac{4-x_0^2}{4}}.</cmath>\nThis yields\n<cmath>\\frac{2x_0}{\\sqrt3}=1-\\sqrt{\\frac{4-x_0^2}{4}}.</cmath>\nRe-arranging and squaring, we have\n<cmath>\\frac{4-x_0^2}{4}=\\frac{4x_0^2}{3}-\\frac{4x_0}{\\sqrt3} +1.</cmath>\nSimplifying and solving for <math>x_0</math>, we have\n<cmath>x_0=\\frac{48}{13\\sqrt 3}.</cmath>\nAs the length of each side is <math>2x_0,</math> our desired length is\n<cmath>4x_0^2=\\frac{768}{169}</cmath>\nwhich means our desired answer is\n<cmath>768+169=\\boxed{937}</cmath>\n\n~ASAB\n\n===Solution 5===\n\nNotice that <math>x^2+4y^2=4</math> can be rewritten as <math>(x)^2+(2y)^2=2^2</math>. The points of the triangle are <math>(0, 1)</math>, <math>(-x, 1-x\\sqrt{3})</math>, and <math>(x, 1-x\\sqrt{3})</math>. When plugging the second coordinate into the equation, we get <math>x^2+4-8x\\sqrt{3}+12x^2=4</math>, which equals <math>13x^2-8x\\sqrt{3}=0</math>. \nThis yields <math>x(13x-8\\sqrt{3})=0</math>. Obviously x can't be 0, so <math>x=\\frac{8\\sqrt{3}}{13}</math>. The side length of the equilateral triangle is twice of this, so <math>\\frac{16\\sqrt{3}}{13}</math>.\nThis can be rewritten as <math>\\sqrt{\\frac{256\\cdot3}{169}}=\\sqrt{\\frac{768}{169}}</math>. \n<math>768+169=\\boxed{937}</math>.\n~ MC413551\n\n===Solution 6===\nConsider the transformation <math>(x,y)</math> to <math>(x/2, y).</math> This sends the ellipse to the unit circle. If we let <math>n</math> be one-fourth of the side length of the triangle, the equilateral triangle is sent to an isosceles triangle with side lengths <math>2n, n\\sqrt{13}, n\\sqrt{13}.</math> Let the triangle be <math>ABC</math> such that <math>AB=AC.</math> Let the foot of the altitude from A be <math>X.</math> Then <math>BX=n,</math> and <math>AX=2n\\sqrt{3}.</math> Let <math>C</math> be a point such that <math>AC</math> is a diameter of the unit circle. Then <math>XC=2-2n\\sqrt{3}.</math> Using power of a point on X,\n<cmath>n^2=2n\\sqrt{3}(2-2n\\sqrt{3})</cmath>\nSimplifying gets us to <math>13n^2=4n\\sqrt{3}.</math> Then, <math>n=\\dfrac{4\\sqrt{3}}{13}</math> which means the side length is <math>\\dfrac{16\\sqrt{3}}{13}=\\sqrt{\\dfrac{768}{169}}.</math>\nThus, the answer is <math>768+169=\\boxed{937}.</math>"
  },
  {
    "year": 2001,
    "variant": "I",
    "problem_number": 6,
    "latex": "A fair die is rolled four times. The [[probability]] that each of the final three rolls is at least as large as the roll preceding it may be expressed in the form <math>\\frac{m}{n}</math> where <math>m</math> and <math>n</math> are [[relatively prime]] [[positive]] [[integer]]s. Find <math>m + n</math>.\n\n__TOC__",
    "solution": "=== Solution 1 ===\nRecast the problem entirely as a block-walking problem.  Call the respective dice <math>a, b, c, d</math>.  In the diagram below, the lowest <math>y</math>-coordinate at each of <math>a</math>, <math>b</math>, <math>c</math>, and <math>d</math> corresponds to the value of the roll.\n\n[[File:AIME01IN6.png]]\n\nThe red path corresponds to the sequence of rolls <math>2, 3, 5, 5</math>.  This establishes a [[bijection]] between valid dice roll sequences and block walking paths.  \n\nThe solution to this problem is therefore <math>\\dfrac{\\binom{9}{4}}{6^4} = {\\dfrac{7}{72}}</math>. So the answer is <math>\\boxed{079}</math>.\n\n=== Solution 2 ===\nLet <math>a, b, c,</math> and <math>d</math> be the results of rolling the four dice respectively. We have the range <math>1\\leq a\\leq b\\leq c\\leq d\\leq 6</math>, and there are <math>6^4=1296</math> total outcomes from rolling the dice. To transfer the inequality into a strictly increasing inequality, we can transform it into <math>1\\leq a<b+1<c+2<d+3\\leq 9</math>. Now, lets suppose <math>a'=a, b'=b+1, c'=c+2,</math> and <math>d'=d+3</math>. Then, <math>1\\leq a'<b'<c'<d' \\leq 9</math>. Clearly, there are <math>\\binom{9}{4}=126</math> values that satisfy this equation, so our answer is <math>\\dfrac{\\binom{9}{4}}{6^4} = {\\dfrac{7}{72}}\\implies \\boxed{079}</math>.\n\n~Mathkiddie\n\n=== Solution 3 ===\n\nIf we take any [[combination]] of four numbers, there is only one way to order them in a non-decreasing order. It suffices now to find the number of combinations for four numbers from <math>\\{1,2,3,4,5,6\\}</math>. We can visualize this as taking the four dice and splitting them into 6 slots (each slot representing one of {1,2,3,4,5,6}), or dividing them amongst 5 separators. Thus, there are <math>{9\\choose4} = 126</math> outcomes of four dice. The solution is therefore <math>\\frac{126}{6^4} = \\frac{7}{72}</math>, and <math>7 + 72 = \\boxed{079}</math>.\n\n=== Solution 4 ===\nCall the dice rolls <math>a, b, c, d</math>. The difference between the <math>a</math> and <math>d</math> distinguishes the number of possible rolls there are. \n\n*If <math>a - d = 0</math>, then the values of <math>b,\\ c</math> are set, and so there are <math>6</math> values for <math>a,\\ d</math>.\n*If <math>a - d = 1</math>, then there are <math>{3\\choose2} = 3</math> ways to arrange for values of <math>b,\\ c</math>, but only <math>5</math> values for <math>a,\\ d</math>.\n*If <math>a - d = 2</math>, then there are <math>{4\\choose2} = 6</math> ways to arrange <math>b, c</math>, and there are only <math>6 - 2 = 4</math> values for <math>a, d</math>.\n\nContinuing, we see that the sum is equal to <math>\\sum_{i = 0}^{5}{i+2\\choose2}(6 - i) = 6 + 15 + 24 + 30 + 30 + 21 = 126</math>. The requested probability is <math>\\frac{126}{6^4} = \\frac{7}{72}</math> and our answer is <math>\\boxed{79}</math>.\n\n=== Solution 5 ===\nThe dice rolls can be in the form \n\n<div style=\"text-align:center;\">\nABCD<br />\nAABC<br />\nAABB<br />\nAAAB<br />\nAAAA\n</div>\n\nwhere A, B, C, D are some possible value of the dice rolls. (These forms are not keeping track of whether or not the dice are in ascending order, just the possible outcomes.) \n\n#Now, for the first case, there are <math>{6\\choose4} = 15</math> ways for this. We do not have to consider the order because the combination counts only one of the permutations; we can say that it counts the correct (ascending order) permutation. \n#Second case: <math>{6\\choose3} = 20</math> ways to pick 3 numbers, <math>{3\\choose1}</math> ways to pick 1 of those 3 to duplicate. A total of 60 for this case. \n#Third case: <math>{6\\choose2}=15</math> ways to pick 2 numbers. We will duplicate both, so nothing else in this case matters. \n#Fourth case: <math>{6\\choose2} = 15</math> ways to pick 2 numbers. We pick one to duplicate with <math>{2\\choose1} = 2</math>, so there are a total of 30 in this case. \n#Fifth case: <math>{6\\choose1} = 6</math>; all get duplicated so nothing else matters. \n\nThere are a total of <math>6^4</math> possible dice rolls. \n\nThus, \n\n<div style=\"text-align:center;\"><math>\\frac{m}{n} = \\frac{15 + 60 + 15 + 30 + 6}{6^4} = \\frac{126}{6^4} = \\frac{7}{72}</math></div>\n\nTherefore, our answer is <math>\\boxed{079}</math>\n\n=== Solution 6 ===\nConsider the number of possible dice roll combinations which work after <math>1</math> roll, after <math>2</math> rolls, and so on. There is 6 possible rolls for the first dice. If the number rolled is a 1, then there are 6 further values that are possible for the second dice; if the number rolled is a 2, then there are 5 further values that are possible for the second dice, and so on. \n\nSuppose we generalize this as a function, say <math>f(l,r)</math> return the number of possible combinations after <math>l</math> rolls and <math>r</math> being the beginning value of the first roll. It becomes clear that from above, <math>f(1,r) = 1</math>; every value of <math>l</math> after that is equal to the sum of the number of combinations of <math>l - 1</math> rolls that have a starting value of at least <math>r</math>. If we slowly count through and add up all the possible combinations we get <math>\\frac{7}{72}</math> possibilities.\n\n=== Solution 7 ===\nIn a manner similar to the above solution, instead consider breaking it down into two sets of two dice rolls. The first [[subset]] must have a maximum value which is <math>\\le</math> the minimum value of the second subset. \n\n*If the first subset ends in a 1, there is <math>1</math> such subset and there are <math>6 + 5 + 4 + 3 + 2 + 1 = \\frac{6}{2}(6 + 1) = 21</math> ways of making the second subset.\n*If the first subset ends in a 2, there is <math>2</math> such subsets and there are <math>5 + \\ldots + 1 = \\frac{5}{2}(5 + 1) = 15</math> ways of making the second subset.\n\nThus, the number of combinations is <math>\\sum_{i=1}^6 i \\cdot \\left(\\frac{(7 - i)(8 - i)}{2}\\right) = 21 + 30 + 30 + 24 + 15 + 6 = 126</math>, and the probability again is <math>\\frac7{72}</math>, giving <math>m+n=\\boxed{079}</math>.\n\n=== Solution 8 Recursion Formula ===\nIf you're too tired to think about any of the above smart transformations of the problem, a recursion formula can be a robust way to the correct answer. \n\nWe just need to work out the valid cases for each roll. Denote by <math>N_{k}(n)</math> the number of valid cases in the <math>k+1</math>-th roll when the number <math>n</math> is rolled, for <math>k=1,2,3</math> and <math>1 <= n <= 6</math>. Then we have the following recursion formula:\n<cmath> N_{1}(n) = n</cmath>\n<cmath> N_{2}(n) = N_{1}(1) + N_{1}(2) + ... + N_{1}(n)=N_{2}(n-1)+N_{1}(n)</cmath>\n<cmath> N_{3}(n) = N_{2}(1) + N_{2}(2) + ... + N_{2}(n)=N_{3}(n-1)+N_{2}(n)</cmath>\nThe logic is that, if <math>n</math> is rolled, then the number of valid cases is the subtotal of valid cases in the preceding roll for the outcome of 1 to <math>n</math>.  The recursion can be easily calculated by hand when <math>N_k(n)</math> are put in columns side by side, given the fact that te numbers are smaller than 100. \nFinally, the total number of cases is\n<cmath> N = \\sum_{n=1}^{6} N_{3}(n)</cmath>\nand\n<cmath> P = \\frac{N}{6^4}</cmath>\n\n===Solution 9: Observation of each case===\nLets try casework and observe the cases. Notice that if the last roll is a <math>1</math>, then the only dice rolls may be <math>1-1-1-1</math>, which is only <math>1</math> possibility. Observe that if the last roll is <math>2</math>, then there are <math>4 = 1 + 3</math> possibilities. When the last roll is a <math>3</math>, there are <math>10 = 1 + 3 + 6</math> possibilities. Notice when the last roll is <math>n</math>, the number of cases is the sum of the first <math>n</math> positive triangular numbers. This is easily provable when observing the numbers of possibilities after assigning a value to the last and second to last rolls.\nSo there are a total of <math>1 + 1 + 3 + 1 + 3 + 6 + 1 + 3 + 6 + 10 + 1 + 3 + 6 + 10 + 15 + 1 + 3 + 6 + 10 + 15 + 21 = 126</math> possibilities. So the probability is <math>\\frac{126}{6^4} = \\frac{7}{72}</math> and <math> 7 + 72 = \\boxed{079}</math>. ~skyscraper\n\n===Solution 10: Distributions===\n\nThis is equivalent to picking a four-element sequence of <math>\\{1, 2, 3, 4, 5, 6\\}</math> with repetition. Notice that once the sequence is picked, there is one and only one way to order these so that they form a sequence of rolls satisfying our conditions. \n\nNow count the number of such four-element sequences, let <math>a</math> be the number of <math>1</math>s in the sequence, <math>b</math> be the number of <math>2</math>s, <math>c</math> <math>3</math>s, <math>d</math> <math>4</math>s, <math>e</math> <math>5</math>s, and <math>f</math> <math>6</math>s. Now we see that we must have <cmath>a + b + c + d + e + f = 4</cmath> with <math>a, b, c, d, e, f</math> being nonnegative integers since there are a total of <math>4</math> numbers picked. The number of solutions to this is <math>\\dbinom{9}{4},</math> so our total number is equal to <math>\\dfrac{\\binom{9}{4}}{6^4} = \\dfrac{7}{72},</math> making our answer <math>\\boxed{079}.</math> \n\n~Ilikeapos\n\n===Solution 11: Stars and Bars(Under 2 minutes)===\nLet the rolls be <math>a,b,c</math> and <math>d\\newline</math> let <math>z=a-1, e=b-a, f=c-b, g=d-c, h=6-d\\newline</math> <math>z+e+f+g+h=5\\newline</math> This equation has <math>C(5+5-1, 5-1)=126</math> integer solutions<math>\\newline</math> <math>126/1296=7/72\\newline</math> <math>7+72=\\boxed{79}</math>\n~ryanbear\n\n===Solution 12===\n\nLet's say the four dice values are all different. These can only be arranged in one way to satisfy our conditions, so there are <math>\\binom{6}{4}=15</math> ways. If there are three different values, there are <math>\\binom{6}{3}</math> to choose the numbers and <math>\\binom{3}{1}</math> to choose which number will have the repeat, so <math>20\\cdot3=60</math> ways. If there are two different values, there are <math>\\binom{6}{2}</math> ways to choose the numbers. If there are two of each, then there is one way. If there are three of one and one of another, then there are <math>\\binom{2}{1}</math> ways. Therefore <math>15\\cdot(1+2)=45</math>. Now if all the numbers are the same, there are <math>\\binom{6}{1}=6</math> ways. Altogether we have <math>15+60+45+6=126</math> ways. <math>\\frac{126}{6^4}=\\frac{21}{216}=\\frac{7}{72}</math>. <math>7+72=\\boxed{79}</math>. \n~MC413551"
  },
  {
    "year": 2001,
    "variant": "I",
    "problem_number": 7,
    "latex": "[[Triangle]] <math>ABC</math> has <math>AB=21</math>, <math>AC=22</math> and <math>BC=20</math>. Points <math>D</math> and <math>E</math> are located on <math>\\overline{AB}</math> and <math>\\overline{AC}</math>, respectively, such that <math>\\overline{DE}</math> is [[parallel]] to <math>\\overline{BC}</math> and contains the center of the [[incircle|inscribed circle]] of triangle <math>ABC</math>. Then <math>DE=m/n</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.\n\n__TOC__",
    "solution": "<center><asy>\npointpen = black; pathpen = black+linewidth(0.7);\npair B=(0,0), C=(20,0), A=IP(CR(B,21),CR(C,22)), I=incenter(A,B,C), D=IP((0,I.y)--(20,I.y),A--B), E=IP((0,I.y)--(20,I.y),A--C);\nD(MP(\"A\",A,N)--MP(\"B\",B)--MP(\"C\",C)--cycle); D(MP(\"I\",I,NE)); D(MP(\"E\",E,NE)--MP(\"D\",D,NW));\n// D((A.x,0)--A,linetype(\"4 4\")+linewidth(0.7)); D((I.x,0)--I,linetype(\"4 4\")+linewidth(0.7)); D(rightanglemark(B,(A.x,0),A,30));\nD(B--I--C);\nMP(\"20\",(B+C)/2); MP(\"21\",(A+B)/2,NW); MP(\"22\",(A+C)/2,NE);\n</asy></center>\n\nLet <math>I</math> be the [[incenter]] of <math>\\triangle ABC</math>, so that <math>BI</math> and <math>CI</math> are [[angle bisector]]s of <math>\\angle ABC</math> and <math>\\angle ACB</math> respectively. Then, <math>\\angle BID = \\angle CBI = \\angle DBI,</math> so <math>\\triangle BDI</math> is [[Isosceles triangle|isosceles]], and similarly <math>\\triangle CEI</math> is isosceles. It follows that <math>DE = DB + EC</math>, so the perimeter of <math>\\triangle ADE</math> is <math>AD + AE + DE = AB + AC = 43</math>. Hence, the ratio of the perimeters of <math>\\triangle ADE</math> and <math>\\triangle ABC</math> is <math>\\frac{43}{63}</math>, which is the scale factor between the two similar triangles, and thus <math>DE = \\frac{43}{63} \\times 20 = \\frac{860}{63}</math>. Thus, <math>m + n = \\boxed{923}</math>."
  },
  {
    "year": 2001,
    "variant": "I",
    "problem_number": 8,
    "latex": "Call a positive integer <math>N</math> a ''7-10 double'' if the digits of the base-<math>7</math> representation of <math>N</math> form a base-<math>10</math> number that is twice <math>N</math>. For example, <math>51</math> is a 7-10 double because its base-<math>7</math> representation is <math>102</math>. What is the largest 7-10 double?",
    "solution": "We let <math>N_7 = \\overline{a_na_{n-1}\\cdots a_0}_7</math>; we are given that\n\n<cmath>2(a_na_{n-1}\\cdots a_0)_7 = (a_na_{n-1}\\cdots a_0)_{10}</cmath> (This is because the digits in <math>N</math> ' s base 7 representation make a number with the same digits in base 10 when multiplied by 2)\n\nExpanding, we find that\n\n<cmath>2 \\cdot 7^n a_n + 2 \\cdot 7^{n-1} a_{n-1} + \\cdots + 2a_0 = 10^na_n + 10^{n-1}a_{n-1} + \\cdots + a_0</cmath>\n\nor re-arranging,\n\n<cmath>a_0 + 4a_1 = 2a_2 + 314a_3 + \\cdots + (10^n - 2 \\cdot 7^n)a_n</cmath>\n\nSince the <math>a_i</math>s are base-<math>7</math> digits, it follows that <math>a_i < 7</math>, and the LHS is less than or equal to <math>30</math>. Hence our number can have at most <math>3</math> digits in base-<math>7</math>. Letting <math>a_2 = 6</math>, we find that <math>630_7 = \\boxed{315}_{10}</math> is our largest 7-10 double."
  },
  {
    "year": 2001,
    "variant": "I",
    "problem_number": 9,
    "latex": "In [[triangle]] <math>ABC</math>, <math>AB=13</math>, <math>BC=15</math> and <math>CA=17</math>. Point <math>D</math> is on <math>\\overline{AB}</math>, <math>E</math> is on <math>\\overline{BC}</math>, and <math>F</math> is on <math>\\overline{CA}</math>. Let <math>AD=p\\cdot AB</math>, <math>BE=q\\cdot BC</math>, and <math>CF=r\\cdot CA</math>, where <math>p</math>, <math>q</math>, and <math>r</math> are positive and satisfy <math>p+q+r=2/3</math> and <math>p^2+q^2+r^2=2/5</math>. The ratio of the area of triangle <math>DEF</math> to the area of triangle <math>ABC</math> can be written in the form <math>m/n</math>, where <math>m</math> and <math>n</math> are [[relatively prime]] positive integers. Find <math>m+n</math>.",
    "solution": "=== Solution 1 ===\n<center><asy> \n/* -- arbitrary values, I couldn't find nice values for pqr please replace if possible -- */\n\nreal p = 0.5, q = 0.1, r = 0.05;\n \n/* -- arbitrary values, I couldn't find nice values for pqr please replace if possible -- */\n\npointpen = black; pathpen = linewidth(0.7) + black;\npair A=(0,0),B=(13,0),C=IP(CR(A,17),CR(B,15)), D=A+p*(B-A), E=B+q*(C-B), F=C+r*(A-C);\nD(D(MP(\"A\",A))--D(MP(\"B\",B))--D(MP(\"C\",C,N))--cycle);\nD(D(MP(\"D\",D))--D(MP(\"E\",E,NE))--D(MP(\"F\",F,NW))--cycle);\n</asy></center>\n\nWe let <math>[\\ldots]</math> denote area; then the desired value is \n<center><math>\\frac mn = \\frac{[DEF]}{[ABC]} = \\frac{[ABC] - [ADF] - [BDE] - [CEF]}{[ABC]}</math></center>\nUsing the [[Triangle#Related Formulae and Theorems|formula]] for the area of a triangle <math>\\frac{1}{2}ab\\sin C</math>, we find that\n<center><math>\n\\frac{[ADF]}{[ABC]} = \\frac{\\frac 12 \\cdot p \\cdot AB \\cdot (1-r) \\cdot AC \\cdot \\sin \\angle CAB}{\\frac 12 \\cdot AB \\cdot AC \\cdot \\sin \\angle CAB} = p(1-r)\n</math></center>\nand similarly that <math>\\frac{[BDE]}{[ABC]} = q(1-p)</math> and <math>\\frac{[CEF]}{[ABC]} = r(1-q)</math>. Thus, we wish to find \n<cmath>\\begin{align*}\\frac{[DEF]}{[ABC]} &= 1 - \\frac{[ADF]}{[ABC]} - \\frac{[BDE]}{[ABC]} - \\frac{[CEF]}{[ABC]}\n \\\\ &= 1 - p(1-r) - q(1-p) - r(1-q)\\\\ &= (pq + qr + rp) - (p + q + r) + 1 \\end{align*}</cmath>\nWe know that <math>p + q + r = \\frac 23</math>, and also that <math>(p+q+r)^2 = p^2 + q^2 + r^2 + 2(pq + qr + rp) \\Longleftrightarrow pq + qr + rp = \\frac{\\left(\\frac 23\\right)^2 - \\frac 25}{2} = \\frac{1}{45}</math>. Substituting, the answer is <math>\\frac 1{45} - \\frac 23 + 1 = \\frac{16}{45}</math>, and <math>m+n = \\boxed{061}</math>.\n\n=== Solution 2 ===\n\nBy the barycentric area formula, our desired ratio is equal to \n<cmath>\\begin{align*}\n\\begin{vmatrix}\n1-p & p & 0 \\\\ \n0 & 1-q & q  \\\\ \nr & 0 & 1-r \\notag\n\\end{vmatrix} &=1-p-q-r+pq+qr+pr\\\\\n&=1-(p+q+r)+\\frac{(p+q+r)^2-(p^2+q^2+r^2)}{2}\\\\\n&=1-\\frac{2}{3}+\\frac{\\frac{4}{9}-\\frac{2}{5}}{2}\\\\\n&=\\frac{16}{45},\n\\end{align*}</cmath> so the answer is <math>\\boxed{061}</math>\n\n=== Solution 3 (Informal) ===\n\nSince the only conditions are that <math>p + q + r = \\frac{2}{3}</math> and <math>p^2 + q^2 + r^2 = \\frac{2}{5}</math>, we can simply let one of the variables be equal to 0. In this case, let <math>p = 0</math>. Then, <math>q + r = \\frac{2}{3}</math> and <math>q^2 + r^2</math> = <math>\\frac{2}{5}</math>. Note that the ratio between the area of <math>DEF</math> and <math>ABC</math> is equivalent to <math>(1-q)(1-r)</math>. Solving this system of equations, we get <math>q = \\frac{1}{3} \\pm \\sqrt{\\frac{4}{45}}</math>, and <math>r = \\frac{1}{3} \\mp \\sqrt{\\frac{4}{45}}</math>. Plugging back into <math>(1-q)(1-r)</math>, we get <math>\\frac{16}{45}</math>, so the answer is <math>\\boxed{061}</math>\n\n=== Note ===\n\nBecause the givens in the problem statement are all regarding the ratios of the sides, the side lengths of triangle <math>ABC</math>, namely <math>13, 15, 17</math>, are actually not necessary to solve the problem. This is clearly demonstrated in all of the above solutions, as the side lengths are not used at all."
  },
  {
    "year": 2001,
    "variant": "I",
    "problem_number": 10,
    "latex": "Let <math>S</math> be the [[set]] of points whose [[coordinate]]s <math>x,</math> <math>y,</math> and <math>z</math> are integers that satisfy <math>0\\le x\\le2,</math> <math>0\\le y\\le3,</math> and <math>0\\le z\\le4.</math>  Two distinct points are randomly chosen from <math>S.</math>  The [[probability]] that the [[midpoint]] of the segment they determine also belongs to <math>S</math> is <math>m/n,</math> where <math>m</math> and <math>n</math> are relatively prime positive integers.  Find <math>m + n.</math>",
    "solution": "=== Solution 1 ===\n\nThe distance between the <math>x</math>, <math>y</math>, and <math>z</math> coordinates must be even so that the midpoint can have integer coordinates. Therefore, \n*For <math>x</math>, we have the possibilities <math>(0,0)</math>, <math>(1,1)</math>, <math>(2,2)</math>, <math>(0,2)</math>, and <math>(2,0)</math>, <math>5</math> possibilities. \n*For <math>y</math>, we have the possibilities <math>(0,0)</math>, <math>(1,1)</math>, <math>(2,2)</math>, <math>(3,3)</math>, <math>(0,2)</math>, <math>(2,0)</math>, <math>(1,3)</math>, and <math>(3,1)</math>, <math>8</math> possibilities. \n*For <math>z</math>, we have the possibilities <math>(0,0)</math>, <math>(1,1)</math>, <math>(2,2)</math>, <math>(3,3)</math>, <math>(4,4)</math>, <math>(0,2)</math>, <math>(0,4)</math>, <math>(2,0)</math>, <math>(4,0)</math>, <math>(2,4)</math>, <math>(4,2)</math>, <math>(1,3)</math>, and <math>(3,1)</math>, <math>13</math> possibilities. \nHowever, we have <math>3\\cdot 4\\cdot 5 = 60</math> cases where we have simply taken the same point twice, so we subtract those. Therefore, our answer is <math>\\frac {5\\cdot 8\\cdot 13 - 60}{60\\cdot 59} = \\frac {23}{177}\\Longrightarrow m+n = \\boxed{200}</math>.\n\n=== Solution 2 ===\n\nThere are <math>(2 + 1)(3 + 1)(4 + 1) = 60</math> points in total. We group the points by parity of each individual coordinate -- that is, if <math>x</math> is even or odd, <math>y</math> is even or odd, and <math>z</math> is even or odd. Note that to have something that works, the two points must have this same type of classification (otherwise, if one doesn't match, the resulting sum for the coordinates will be odd at that particular spot).\n\nThere are <math>12</math> EEEs (the first position denotes the parity of <math>x,</math> the second <math>y,</math> and the third <math>z.</math>), <math>8</math> EEOs, <math>12</math> EOEs, <math>6</math> OEEs, <math>8</math> EOOs, <math>4</math> OEOs, <math>6</math> OOEs, and <math>4</math> OOOs. Doing a sanity check, <math>12 + 8 + 12 + 6 + 8 + 4 + 6 + 4 = 60,</math> which is the total number of points.\n\nNow, we can see that there are <math>12 \\cdot 11</math> ways to choose two EEEs (respective to order), <math>8 \\cdot 7</math> ways to choose two EEOs, and so on. Therefore, we get <cmath>12\\cdot11 + 8\\cdot7 + 12\\cdot11 + 6\\cdot5 + 8\\cdot7 + 4\\cdot3 + 6\\cdot5 + 4\\cdot3 = 460</cmath> ways to choose two points where order matters. There are <math>60 \\cdot 59</math> total ways to do this, so we get a final answer of <cmath>\\dfrac{460}{60 \\cdot 59} = \\dfrac{23}{3 \\cdot 59} = \\dfrac{23}{177},</cmath> for our answer of <math>23 + 177 = \\boxed{200}.</math>\n\nSolution by Ilikeapos\n\n=== Solution 3 ===\nSimilarly to Solution 2, we note that there are <math>60</math> points and that the parities of the two points' coordinates must be the same in order for the midpoint to be in <math>S</math>.\n\nIgnore the distinct points condition. The probability that the midpoint is in <math>S</math> is then\n<cmath>\\left(\\left(\\frac 23\\right)^2+\\left(\\frac 13\\right)^2\\right)\\left(\\left(\\frac 24\\right)^2+\\left(\\frac 24\\right)^2\\right)\\left(\\left(\\frac 35\\right)^2+\\left(\\frac 25\\right)^2\\right)=\\frac{13}{90}.</cmath>\n\nNote that <math>\\frac{13}{90}=\\frac{520}{3600}</math>. Since there are <math>3600</math> total ways to choose <math>2</math> points from <math>S</math>, there must be <math>520</math> pairs of points that have their midpoint in <math>S</math>. Of these pairs, <math>60</math> of them contain identical points (not distinct).\n\nSubtracting these cases, our answer is <math>\\frac{520-60}{3600-60}=\\frac{23}{177}\\implies\\boxed{200}</math>.\n\n=== Solution 4 ===\nThere are <math>(2 + 1)(3 + 1)(4 + 1) = 60</math> points in total. Note that in order for the midpoint of the line segment to be a lattice point, the lengths on the x, y, and z axis must be even numbers. We will define all segments by denoting the amount they extend in each dimension: <math>(x, y, z)</math>. For example, the longest diagonal possible will be <math>(2,3,4)</math>, the space diagonal of the box. Thus, any line segment must have dimensions that are even. For <math>x</math> the segment may have a value of <math>0</math> for <math>x</math>, (in which case the segment would be two dimensional) or a value of <math>2</math>. The same applies for <math>y</math>, because although it is three units long the longest even integer is two. For <math>z</math> the value may be <math>0</math>, <math>2</math>, or <math>4</math>. Notice that if a value is zero, then the segment will pertain to only two dimensions. If two values are zero then the line segment becomes one dimensional. \n\nThen the total number of possibilities will be <math>2 \\cdot 2 \\cdot 3</math>.\n\nListing them out appears as follows:\n\n<math>2,2,4</math>\n\n<math>2,2,2</math>\n\n<math>2,2,0</math>\n\n<math>2,0,4</math>\n\n<math>2,0,2</math>\n\n<math>2,0,0</math>\n\n<math>0,2,4</math>\n\n<math>0,2,2</math>\n\n<math>0,2,0</math>\n\n<math>0,0,4</math>\n\n<math>0,0,2</math>\n\n<math>0,0,0</math> * this value is a single point\n\n\nNow, picture every line segment to be the space diagonal of a box. Allow this box to define the space the segment occupies. The question now transforms into \"how many ways can we arrange this smaller box in the two by three by four?\".\n\nNotice that the amount an edge can shift inside the larger box is the length of an edge of the larger box (2, 3, or 4) minus the edge of the smaller box (also known as the edge),  plus one. For example, (0, 2, 2) would be <math>3 \\cdot 2 \\cdot 3</math>. Repeat this process.\n\n\n<math>2,2,4</math> 2\n\n<math>2,2,2</math> 6\n\n<math>2,2,0</math> 10\n\n<math>2,0,4</math> 4 \n\n<math>2,0,2</math> 12\n\n<math>2,0,0</math> 20\n\n<math>0,2,4</math> 6\n\n<math>0,2,2</math> 18\n\n<math>0,2,0</math> 30\n\n<math>0,0,4</math> 12\n\n<math>0,0,2</math> 36\n\n<math>0,0,0</math> 60 * this won't be included, but notice that sixty the number of lattice points\n\n\nFinally, we remember that there are four distinct space diagonals in a box, so we should multiply every value by four, right? Unfortunately we forgot to consider that some values have only one or two dimensions. They should be multiplied by one or two, respectively. This is because segments with two dimensions are the diagonals of a rectangle and thus have two orientations. Then any value on our list without any zeroes will be multiplied by four, and any value on our list with only one zero will be multiplied by two, and finally any value on our list with two zeroes will be multiplied by one:\n\n<math>2,2,4</math> 2 8\n\n<math>2,2,2</math> 6 24\n\n<math>2,2,0</math> 10 20\n\n<math>2,0,4</math> 4 8\n\n<math>2,0,2</math> 12 24\n\n<math>2,0,0</math> 20 20\n\n<math>0,2,4</math> 6 12\n\n<math>0,2,2</math> 18 36\n\n<math>0,2,0</math> 30 30\n\n<math>0,0,4</math> 12 12\n\n<math>0,0,2</math> 36 36\n\n<math>0,0,0</math> 60 * it's nice to point out that this value will be multiplied by zero\n\n\nadd every value on the rightmost side of each term and we will receive <math>230</math>. Multiply by two because each segment can be flipped, to receive <math>460</math>. There are <math>60 \\cdot 59</math> ways to choose two distinct points, so we get <cmath>\\dfrac{460}{60 \\cdot 59} = \\dfrac{23}{3 \\cdot 59} = \\dfrac{23}{177},</cmath> for our answer of <math>23 + 177 = \\boxed{200}</math>.\n\n\nSolution by jackshi2006"
  },
  {
    "year": 2001,
    "variant": "I",
    "problem_number": 11,
    "latex": "In a [[rectangle|rectangular]] array of points, with 5 rows and <math>N</math> columns, the points are numbered consecutively from left to right beginning with the top row.  Thus the top row is numbered 1 through <math>N,</math> the second row is numbered <math>N + 1</math> through <math>2N,</math> and so forth.  Five points, <math>P_1, P_2, P_3, P_4,</math> and <math>P_5,</math> are selected so that each <math>P_i</math> is in row <math>i.</math>  Let <math>x_i</math> be the number associated with <math>P_i.</math>  Now renumber the array consecutively from top to bottom, beginning with the first column.  Let <math>y_i</math> be the number associated with <math>P_i</math> after the renumbering.  It is found that <math>x_1 = y_2,</math> <math>x_2 = y_1,</math> <math>x_3 = y_4,</math> <math>x_4 = y_5,</math> and <math>x_5 = y_3.</math>  Find the smallest possible value of <math>N.</math>",
    "solution": "Let each point <math>P_i</math> be in column <math>c_i</math>. The numberings for <math>P_i</math> can now be defined as follows.\n<cmath>\\begin{align*}x_i &= (i - 1)N + c_i\\\\\ny_i &= (c_i - 1)5 + i\n\\end{align*}</cmath>\n\nWe can now convert the five given equalities.\n<cmath>\\begin{align}x_1&=y_2 & \\Longrightarrow & & c_1 &= 5 c_2-3\\\\\nx_2&=y_1 & \\Longrightarrow & & N+c_2 &= 5 c_1-4\\\\\nx_3&=y_4 & \\Longrightarrow & & 2 N+c_3 &= 5 c_4-1\\\\\nx_4&=y_5 & \\Longrightarrow & & 3 N+c_4 &= 5 c_5\\\\\nx_5&=y_3 & \\Longrightarrow & & 4 N+c_5 &= 5 c_3-2\n\\end{align}</cmath>\nEquations <math>(1)</math> and <math>(2)</math> combine to form\n<cmath>N = 24c_2 - 19</cmath>\nSimilarly equations <math>(3)</math>, <math>(4)</math>, and <math>(5)</math> combine to form\n<cmath>117N +51 = 124c_3</cmath>\nTake this equation modulo 31\n<cmath>24N+20\\equiv 0 \\pmod{31}</cmath>\nAnd substitute for N\n<cmath>24 \\cdot 24 c_2 - 24 \\cdot 19 +20\\equiv 0 \\pmod{31}</cmath>\n<cmath>18 c_2 \\equiv 2 \\pmod{31}</cmath>\n\nThus the smallest <math>c_2</math> might be is <math>7</math> and by substitution <math>N = 24 \\cdot 7 - 19 = 149</math>\n\nThe column values can also easily be found by substitution\n<cmath>\\begin{align*}c_1&=32\\\\\nc_2&=7\\\\\nc_3&=141\\\\\nc_4&=88\\\\\nc_5&=107\n\\end{align*}</cmath>\nAs these are all positive and less than <math>N</math>, <math>\\boxed{149}</math> is the solution."
  },
  {
    "year": 2001,
    "variant": "I",
    "problem_number": 12,
    "latex": "A [[sphere]] is inscribed in the [[tetrahedron]] whose vertices are <math>A = (6,0,0), B = (0,4,0), C = (0,0,2),</math> and <math>D = (0,0,0).</math>  The [[radius]] of the sphere is <math>m/n,</math> where <math>m</math> and <math>n</math> are relatively prime positive integers.  Find <math>m + n.</math>",
    "solution": "<asy>\nimport three; \ncurrentprojection = perspective(-2,9,4);\ntriple A = (6,0,0), B = (0,4,0), C = (0,0,2), D = (0,0,0);\ntriple E = (2/3,0,0), F = (0,2/3,0), G = (0,0,2/3), L = (0,2/3,2/3), M = (2/3,0,2/3), N = (2/3,2/3,0);\ntriple I = (2/3,2/3,2/3);\ntriple J = (6/7,20/21,26/21);\ndraw(C--A--D--C--B--D--B--A--C);\ndraw(L--F--N--E--M--G--L--I--M--I--N--I--J);\nlabel(\"$I$\",I,W);\nlabel(\"$A$\",A,S);\nlabel(\"$B$\",B,S);\nlabel(\"$C$\",C,W*-1);\nlabel(\"$D$\",D,W*-1);\n</asy>\n\nThe center <math>I</math> of the insphere must be located at <math>(r,r,r)</math> where <math>r</math> is the sphere's radius.\n<math>I</math> must also be a distance <math>r</math> from the plane <math>ABC</math>\n\nThe signed distance between a plane and a point <math>I</math> can be calculated as <math>\\frac{(I-G) \\cdot P}{|P|}</math>, where G is any point on the plane, and P is a vector perpendicular to ABC.\n\nA vector <math>P</math> perpendicular to plane <math>ABC</math> can be found as <math>V=(A-C)\\times(B-C)=\\langle 8, 12, 24 \\rangle</math>\n\nThus <math>\\frac{(I-C) \\cdot P}{|P|}=-r</math> where the negative comes from the fact that we want <math>I</math> to be in the opposite direction of <math>P</math>\n\n<cmath>\\begin{align*}\\frac{(I-C) \\cdot P}{|P|}&=-r\\\\\n\\frac{(\\langle r, r, r \\rangle-\\langle 0, 0, 2 \\rangle) \\cdot P}{|P|}&=-r\\\\\n\\frac{\\langle r, r, r-2 \\rangle \\cdot \\langle 8, 12, 24 \\rangle}{\\langle 8, 12, 24 \\rangle}&=-r\\\\\n\\frac{44r -48}{28}&=-r\\\\\n44r-48&=-28r\\\\\n72r&=48\\\\\nr&=\\frac{2}{3}\n\\end{align*}</cmath>\n\n\nFinally <math>2+3=\\boxed{005}</math>"
  },
  {
    "year": 2001,
    "variant": "I",
    "problem_number": 13,
    "latex": "In a certain [[circle]], the [[chord]] of a <math>d</math>-degree arc is <math>22</math> centimeters long, and the chord of a <math>2d</math>-degree arc is <math>20</math> centimeters longer than the chord of a <math>3d</math>-degree arc, where <math>d < 120.</math>  The length of the chord of a <math>3d</math>-degree arc is <math>- m + \\sqrt {n}</math> centimeters, where <math>m</math> and <math>n</math> are positive integers.  Find <math>m + n.</math>",
    "solution": "=== Solution 1 ===\n<center>[[File:2001AIME13.png]]</center>\n\nNote that a cyclic quadrilateral in the form of an isosceles trapezoid can be formed from three chords of three <math>d</math>-degree arcs and one chord of one <math>3d</math>-degree arc. The diagonals of this trapezoid turn out to be two chords of two <math>2d</math>-degree arcs. Let <math>AB</math>, <math>AC</math>, and <math>BD</math> be the chords of the <math>d</math>-degree arcs, and let <math>CD</math> be the chord of the <math>3d</math>-degree arc. Also let <math>x</math> be equal to the chord length of the <math>3d</math>-degree arc. Hence, the length of the chords, <math>AD</math> and <math>BC</math>, of the <math>2d</math>-degree arcs can be represented as <math>x + 20</math>, as given in the problem. \n\nUsing [[Ptolemy's theorem]],\n\n<cmath>AB \\cdot CD + AC \\cdot BD = AD \\cdot BC</cmath>\n<cmath>\\iff 22x + 22 \\cdot 22  = (x + 20)^2</cmath>\n<cmath>\\iff 22x + 484 = x^2 + 40x + 400</cmath>\n<cmath>\\iff x^2 + 18x - 84 = 0.</cmath>\n\nWe can then apply the quadratic formula to find the positive root of this equation (since polygons obviously cannot have sides of negative length):\n<cmath>x = \\frac{-18 + \\sqrt{18^2 + 4 \\cdot 84}}{2} = \\frac{-18 + \\sqrt{660}}{2}.</cmath>\n\nThis simplifies to <math>x = \\frac{-18 + 2\\sqrt{165}}{2} = -9 + \\sqrt{165}</math>. Thus the answer is <math>9 + 165 = \\boxed{174}</math>.\n\n=== Solution 2 ===\n\nLet <math>z=\\frac{d}{2},</math> and <math>R</math> be the circumradius. From the given information, <cmath>2R\\sin z=22, \\quad\\text{and}</cmath> <cmath>2R(\\sin 2z-\\sin 3z)=20.</cmath> Dividing the latter equation by the former gives <cmath>\\frac{2\\sin z\\cos z-\\left(3\\cos^2z\\sin z-\\sin^3 z\\right)}{\\sin z}=2\\cos z-\\left(3\\cos^2z-\\sin^2z\\right)=1+2\\cos z-4\\cos^2z=\\frac{10}{11}</cmath> <cmath>\\iff 4\\cos^2z-2\\cos z-\\frac{1}{11}=0. \\qquad (*)</cmath> We want to find <cmath>\\frac{22\\sin (3z)}{\\sin z}=22(3-4\\sin^2z)=22(4\\cos^2z-1).</cmath> From <math>(*),</math> this is equivalent to <math>44\\cos z-20</math>. Using the quadratic formula, we deduce that this expression equals <math>-9+\\sqrt{165}</math>, so our answer is <math>\\boxed{174}</math>.\n\n===Solution 3===\n\nLet <math>z=\\frac{d}{2}</math>, <math>R</math> be the circumradius, and <math>a</math> be the length of a <math>3d</math>-degree chord. Using the extended sine law, we obtain:\n<cmath>22=2R\\sin(z),</cmath>\n<cmath>20+a=2R\\sin(2z), \\quad\\text{and}</cmath>\n<cmath>a=2R\\sin(3z).</cmath>\nDividing the second equation by the first, and using the double angle formula, we obtain <math>\\cos(z)=\\frac{20+a}{44}</math>.\nNow, using the triple angle formula, we can rewrite the third equation as follows: <cmath>a=2R \\sin(3z)=\\frac{22}{\\sin(z)}\\left(3\\sin(z)-4\\sin^3(z)\\right) = 22\\left(3-4\\sin^2(z)\\right) = 22\\left(4\\cos^2(z)-1\\right) = \\frac{(20+a)^2}{22}-22,</cmath>\nand solving this quadratic equation gives the answer as <math>\\boxed{174}</math>."
  },
  {
    "year": 2001,
    "variant": "I",
    "problem_number": 14,
    "latex": "A mail carrier delivers mail to the nineteen houses on the east side of Elm Street. The carrier notices that no two adjacent houses ever get mail on the same day, but that there are never more than two houses in a row that get no mail on the same day. How many different patterns of mail delivery are possible?"
  },
  {
    "year": 2001,
    "variant": "I",
    "problem_number": 15,
    "latex": "The numbers <math>1, 2, 3, 4, 5, 6, 7,</math> and <math>8</math> are randomly written on the faces of a regular [[octahedron]] so that each face contains a different number.  The [[probability]] that no two consecutive numbers, where <math>8</math> and <math>1</math> are considered to be consecutive, are written on faces that share an edge is <math>m/n,</math> where <math>m</math> and <math>n</math> are relatively prime positive integers.  Find <math>m + n.</math>",
    "solution": "== Official Solution (MAA)==\n\nIt is helpful to consider the cube <math>ABCDEFGH</math>, where the vertices of the cube represent the faces of the octahedron, and the edges of the cube represent adjacent octahedral faces. Each assignment of the numbers <math>1,2,3,4,5,6,7</math>, and <math>8</math> to the faces of the octahedron corresponds to a permutation of <math>ABCDEFGH</math>, and thus to an octagonal circuit of these vertices. The cube has 16 diagonal segments that join nonadjacent vertices. In effect, the problem asks one to count octagonal circuits that can be formed by eight of these diagonals. Six of the diagonals are edges of tetrahedron <math>ACFH</math>, six are edges of tetrahedron <math>DBEG</math>, and four are <math>\\textit{long}</math>, joining a vertex of one tetrahedron to the diagonally opposite point from the other. Notice that each vertex belongs to exactly one long diagonal. \n\nIt follows that an octagon cannot have two successive long diagonals. Also notice that an octagonal path can jump from one tetrahedron to the other only along one of the long diagonals. It follows that an octagon must contain either 2 long diagonals separated by 3 tetrahedron edges or 4 long diagonals alternating with tetrahedron edges. \n\nTo form an octagon that contains four long diagonals, choose two opposite edges from tetrahedron <math>ACFH</math> and two opposite edges from tetrahedron <math>DBEG</math>. For each of the three ways to choose a pair of opposite edges from tetrahedron <math>ACFH</math>, there are two possible ways to choose a pair of opposite edges from tetrahedron <math>DBEG</math>. There are 6 distinct octagons of this type and <math>8\\cdot 2</math> ways to describe each of them, making 96 permutations. \n\nTo form an octagon that contains exactly two of the long diagonals, choose a three-edge path along tetrahedron <math>ACFH</math>, which can be done in <math>4! = 24</math> ways. Then choose a three-edge path along tetrahedron <math>DBEG</math> which, because it must start and finish at specified vertices, can be done in only 2 ways. Since this counting method treats each path as different from its reverse, there are <math>8\\cdot 24\\cdot 2=384</math> permutations of this type. \n\nIn all, there are <math>96 +384 = 480</math> permutations that correspond to octagonal circuits formed exclusively from cube diagonals. The probability of randomly choosing such a permutation is <math>\\tfrac{480}{8!}=\\tfrac{1}{84}</math>, and <math>m+n=\\boxed{085}</math>."
  },
  {
    "year": 2001,
    "variant": "II",
    "problem_number": 1,
    "latex": "Let <math>N</math> be the largest positive integer with the following property: reading from left to right, each pair of consecutive digits of <math>N</math> forms a perfect square. What are the leftmost three digits of <math>N</math>?",
    "solution": "The two-digit perfect squares are <math>16, 25, 36, 49, 64, 81</math>. We try making a sequence starting with each one:\n\n*<math>16 - 64 - 49</math>. This terminates since none of them end in a <math>9</math>, giving us <math>1649</math>.\n*<math>25</math>.\n*<math>36 - 64 - 49</math>, <math>3649</math>.\n*<math>49</math>.\n*<math>64 - 49</math>, <math>649</math>.\n*<math>81 - 16 - 64 - 49</math>, <math>81649</math>.\n\nThe largest is <math>81649</math>, so our answer is <math>\\boxed{816}</math>."
  },
  {
    "year": 2001,
    "variant": "II",
    "problem_number": 2,
    "latex": "Each of the <math>2001</math> students at a high school studies either Spanish or French, and some study both. The number who study Spanish is between <math>80</math> percent and <math>85</math> percent of the school population, and the number who study French is between <math>30</math> percent and <math>40</math> percent. Let <math>m</math> be the smallest number of students who could study both languages, and let <math>M</math> be the largest number of students who could study both languages. Find <math>M-m</math>.",
    "solution": "Let <math>S</math> be the percent of people who study Spanish, <math>F</math> be the number of people who study French, and let <math>S \\cap F</math> be the number of students who study both. Then <math>\\left\\lceil 80\\% \\cdot 2001 \\right\\rceil = 1601 \\le S \\le \\left\\lfloor 85\\% \\cdot 2001 \\right\\rfloor = 1700</math>, and <math>\\left\\lceil 30\\% \\cdot 2001 \\right\\rceil = 601 \\le F \\le \\left\\lfloor 40\\% \\cdot 2001 \\right\\rfloor = 800</math>. By the [[Principle of Inclusion-Exclusion]],\n\n<cmath>S+F- S \\cap F = S \\cup F = 2001 </cmath>\n\nFor <math>m = S \\cap F</math> to be smallest, <math>S</math> and <math>F</math> must be minimized.\n\n<cmath>1601 + 601 - m = 2001 \\Longrightarrow m = 201</cmath>\n\nFor <math>M = S \\cap F</math> to be largest, <math>S</math> and <math>F</math> must be maximized.\n\n<cmath>1700 + 800 - M = 2001 \\Longrightarrow M = 499</cmath>\n\nTherefore, the answer is <math>M - m = 499 - 201 = \\boxed{298}</math>."
  },
  {
    "year": 2001,
    "variant": "II",
    "problem_number": 3,
    "latex": "Given that\n\n<cmath>\n\\begin{align*}x_{1}&=211,\\\\\nx_{2}&=375,\\\\\nx_{3}&=420,\\\\\nx_{4}&=523,\\ \\text{and}\\\\\nx_{n}&=x_{n-1}-x_{n-2}+x_{n-3}-x_{n-4}\\ \\text{when}\\ n\\geq5, \\end{align*}\n</cmath>\n\nfind the value of <math>x_{531}+x_{753}+x_{975}</math>.",
    "solution": "We find that <math>x_5 = 267</math> by the recursive formula. Summing the [[recursion]]s\n\n<cmath>\\begin{align*}\nx_{n}&=x_{n-1}-x_{n-2}+x_{n-3}-x_{n-4} \\\\\nx_{n-1}&=x_{n-2}-x_{n-3}+x_{n-4}-x_{n-5}\n\\end{align*}</cmath>\n\nyields <math>x_{n} = -x_{n-5}</math>. Thus <math>x_n = (-1)^k x_{n-5k}</math>. Since <math>531 = 106 \\cdot 5 + 1,\\ 753 = 150 \\cdot 5 + 3,\\ 975 = 194 \\cdot 5 + 5</math>, it follows that\n\n<cmath>x_{531} + x_{753} + x_{975} = (-1)^{106} x_1 + (-1)^{150} x_3 + (-1)^{194} x_5 = 211 + 420 + 267 = \\boxed{898}.</cmath>"
  },
  {
    "year": 2001,
    "variant": "II",
    "problem_number": 4,
    "latex": "Let <math>R = (8,6)</math>. The lines whose equations are <math>8y = 15x</math> and <math>10y = 3x</math> contain points <math>P</math> and <math>Q</math>, respectively, such that <math>R</math> is the [[midpoint]] of <math>\\overline{PQ}</math>. The length of <math>PQ</math> equals <math>\\frac {m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m + n</math>.",
    "solution": "<center><asy>\npointpen = black; pathpen = black+linewidth(0.7);\npair R = (8,6), P = (32,60)/7, Q= (80,24)/7;\nD((0,0)--MP(\"x\",(13,0),E),EndArrow(6)); D((0,0)--MP(\"y\",(0,10),N),EndArrow(6));\nD((0,0)--(10/(15/8),10),EndArrow(6)); D((0,0)--(13,13 * 3/10),EndArrow(6));\nD(D(MP(\"P\",P,NW))--D(MP(\"Q\",Q),SE),linetype(\"4 4\")); D(MP(\"R\",R,NE));\n</asy></center>\n\nThe coordinates of <math>P</math> can be written as <math>\\left(a, \\frac{15a}8\\right)</math> and the coordinates of point <math>Q</math> can be written as <math>\\left(b,\\frac{3b}{10}\\right)</math>. By the midpoint formula, we have <math>\\frac{a+b}2=8</math> and <math>\\frac{15a}{16}+\\frac{3b}{20}=6</math>. Solving for <math>b</math> gives <math>b= \\frac{80}{7}</math>, so the point <math>Q</math> is <math>\\left(\\frac{80}7, \\frac{24}7\\right)</math>. The answer is twice the distance from <math>Q</math> to <math>(8,6)</math>, which by the distance formula is <math>\\frac{60}{7}</math>. Thus, the answer is <math>\\boxed{067}</math>."
  },
  {
    "year": 2001,
    "variant": "II",
    "problem_number": 5,
    "latex": "A [[set]] of positive numbers has the ''triangle property'' if it has three distinct elements that are the lengths of the sides of a [[triangle]] whose area is positive. Consider sets <math>\\{4, 5, 6, \\ldots, n\\}</math> of consecutive positive integers, all of whose ten-element subsets have the triangle property. What is the largest possible value of <math>n</math>?",
    "solution": "Out of all ten-element subsets with distinct elements that do not possess the triangle property, we want to find the one with the smallest maximum element. Call this subset <math>\\mathcal{S}</math>. Without loss of generality, consider any <math>a, b, c \\,\\in \\mathcal{S}</math> with <math>a < b < c</math>. <math>\\,\\mathcal{S}</math> does not possess the [[triangle inequality|triangle property]], so <math>c \\geq a + b</math>. We use this property to build up <math>\\mathcal{S}</math> from the smallest possible <math>a</math> and <math>b</math>:\n\n<cmath>\\mathcal{S} = \\{\\, 4,\\, 5,\\, 4+5, \\,5+(4+5),\\, \\ldots\\,\\} = \\{4, 5, 9, 14, 23, 37, 60, 97, 157, 254\\}</cmath>\n\n<math>\\mathcal{S}</math> is the \"smallest\" ten-element subset without the triangle property, and since the set <math>\\{4, 5, 6, \\ldots, 253\\}</math> is the largest set of consecutive integers that does not contain this subset, it is also the largest set of consecutive integers in which all ten-element subsets possess the triangle property. Thus, our answer is <math>n = \\fbox{253}</math>.\n\n===Note===\n\nIf we wanted to find this for a much larger number (say 2001), we could have noted that this is a \"quasi-Fibonacci\" sequence with initial terms <math>4,5</math> and built up an explicit function to find the <math>nth</math> term. (The latter part is generally pretty annoying).\n\n~Dhillonr25\n~Minor edit by Yiyj1"
  },
  {
    "year": 2001,
    "variant": "II",
    "problem_number": 6,
    "latex": "[[Square]] <math>ABCD</math> is inscribed in a [[circle]]. Square <math>EFGH</math> has vertices <math>E</math> and <math>F</math> on <math>\\overline{CD}</math> and vertices <math>G</math> and <math>H</math> on the circle. If the area of square <math>ABCD</math> is <math>1</math>, then the area of square <math>EFGH</math> can be expressed as <math>\\frac {m}{n}</math> where <math>m</math> and <math>n</math> are relatively prime positive integers and <math>m < n</math>. Find <math>10n + m</math>.",
    "solution": "Let <math>O</math> be the center of the circle, <math>2a</math> be the side length of square <math>ABCD</math>, and <math>2b</math> be the side length of square <math>EFGH</math>. By symmetry, the horizontal and vertical displacements of <math>C</math> from <math>O</math> are both <math>\\frac{2a}{2} = a</math>, so by the [[Pythagorean Theorem|Pythagorean theorem]], the radius of the circle is <math>OC = \\sqrt{a^2+a^2} = a\\sqrt{2}</math>.\n \n<center><asy>\nsize(150); pointpen = black; pathpen = black+linewidth(0.7); pen d = linetype(\"4 4\") + blue + linewidth(0.7);\npair C=(1,1), D=(1,-1), B=(-1,1), A=(-1,-1), E= (1, -0.2), F=(1, 0.2), G=(1.4, 0.2), H=(1.4, -0.2);\nD(MP(\"A\",A)--MP(\"B\",B,N)--MP(\"C\",C,N)--MP(\"D\",D)--cycle); D(MP(\"E\",E,SW)--MP(\"F\",F,NW)--MP(\"G\",G,NE)--MP(\"H\",H,SE)--cycle); D(CP(D(MP(\"O\",(0,0))), A));\n\nD((0,0) -- (2^.5, 0), d); D((0,0) -- G -- (G.x,0), d); \n</asy></center>\n\nNow let <math>I</math> be the midpoint of <math>\\overline{GH}</math>, giving <math>\\overline{GI} = \\frac{2b}{2} = b</math>, and let <math>J</math> be the point where <math>\\overline{OI}</math> intersects <math>\\overline{CD}</math>. We observe that since a diameter bisects a chord perpendicular to it, <math>\\overline{GH}</math> must be perpendicular to the diameter passing through <math>I</math>. This means that triangle <math>OGI</math> has a right angle at <math>I</math>, and that <math>\\overline{OJ}</math> and <math>\\overline{JI}</math> are both parallel to <math>\\overline{BC}</math> and <math>\\overline{FG}</math>. As the horizontal displacement of <math>C</math> from <math>O</math> is <math>a</math> (from above), it follows that <math>\\overline{OJ} = a</math>, and hence <cmath>\\overline{OI} = \\overline{OJ}+\\overline{JI} = a+\\overline{FG} = a+2b,</cmath> so by the Pythagorean Theorem again,\n\n<cmath>\\begin{align*}\n\\overline{OG}^2 = \\overline{OI}^2 + \\overline{GI}^2 &\\iff \\left(a\\sqrt{2}\\right)^2 = (a+2b)^2 + b^2 \\\\\n&\\iff 2a^2 = a^2+4ab+4b^2+b^2 \\\\ &\\iff a^2-4ab-5b^2 = 0 \\\\ &\\iff (a-5b)(a+b) = 0\n\\end{align*}\n</cmath>\n\nSince lengths must be positive, we clearly cannot have <math>a+b = 0</math>, so the solution must instead be <math>a = 5b</math>. Since the ratio of the areas of two similar figures is the square of the ratio of their corresponding side lengths, we deduce that the required ratio is <math>\\left(\\frac{1}{5}\\right)^2 = \\frac{1}{25}</math>, and so the answer is <math>10 \\cdot 25 + 1 = \\boxed{251}</math>."
  },
  {
    "year": 2001,
    "variant": "II",
    "problem_number": 7,
    "latex": "Let <math>\\triangle{PQR}</math> be a [[right triangle]] with <math>PQ = 90</math>, <math>PR = 120</math>, and <math>QR = 150</math>. Let <math>C_{1}</math> be the [[incircle|inscribed circle]]. Construct <math>\\overline{ST}</math> with <math>S</math> on <math>\\overline{PR}</math> and <math>T</math> on <math>\\overline{QR}</math>, such that <math>\\overline{ST}</math> is [[perpendicular]] to <math>\\overline{PR}</math> and tangent to <math>C_{1}</math>. Construct <math>\\overline{UV}</math> with <math>U</math> on <math>\\overline{PQ}</math> and <math>V</math> on <math>\\overline{QR}</math> such that <math>\\overline{UV}</math> is perpendicular to <math>\\overline{PQ}</math> and tangent to <math>C_{1}</math>. Let <math>C_{2}</math> be the inscribed circle of <math>\\triangle{RST}</math> and <math>C_{3}</math> the inscribed circle of <math>\\triangle{QUV}</math>. The distance between the centers of <math>C_{2}</math> and <math>C_{3}</math> can be written as <math>\\sqrt {10n}</math>. What is <math>n</math>?\n\n__TOC__",
    "solution": "=== Solution 1 (analytic) ===\n<center><asy>\npointpen = black; pathpen = black + linewidth(0.7);\n\npair P = (0,0), Q = (90, 0), R = (0, 120), S=(0, 60), T=(45, 60), U = (60,0), V=(60, 40), O1 = (30,30), O2 = (15, 75), O3 = (70, 10);\nD(MP(\"P\",P)--MP(\"Q\",Q)--MP(\"R\",R,W)--cycle); D(MP(\"S\",S,W) -- MP(\"T\",T,NE)); D(MP(\"U\",U) -- MP(\"V\",V,NE)); D(O2 -- O3, rgb(0.2,0.5,0.2)+ linewidth(0.7) + linetype(\"4 4\"));\nD(CR(D(O1), 30)); D(CR(D(O2), 15)); D(CR(D(O3), 10));\n</asy></center>\n\nLet <math>P = (0,0)</math> be at the origin. Using the formula <math>A = rs</math> on <math>\\triangle PQR</math>, where <math>r_{1}</math> is the [[inradius]] (similarly define <math>r_2, r_3</math> to be the radii of <math>C_2, C_3</math>), <math>s = \\frac{PQ + QR + RP}{2} = 180</math> is the [[semiperimeter]], and <math>A = \\frac 12 bh = 5400</math> is the area, we find <math>r_{1} = \\frac As = 30</math>. Or, the inradius could be directly by using the formula <math>\\frac{a+b-c}{2}</math>, where <math>a</math> and <math>b</math> are the legs of the right triangle and <math>c</math> is the hypotenuse. (This formula should be used ''only for right triangles''.) Thus <math>ST, UV</math> lie respectively on the lines <math>y = 60, x = 60</math>, and so <math>RS = 60, UQ = 30</math>.  \n\nNote that <math>\\triangle PQR \\sim \\triangle STR \\sim \\triangle UQV</math>. Since the ratio of corresponding lengths of similar figures are the same, we have \n\n<cmath>\\frac{r_{1}}{PR} = \\frac{r_{2}}{RS} \\Longrightarrow r_{2} = 15\\ \\text{and} \\ \\frac{r_{1}}{PQ} = \\frac{r_{3}}{UQ} \\Longrightarrow r_{3} = 10.</cmath>\n\nLet the centers of <math>\\odot C_2, C_3</math> be <math>O_2 = (0 + r_{2}, 60 + r_{2}) = (15, 75), O_3 = (60 + r_{3}, 0 + r_{3}) = (70,10)</math>, respectively; then by the [[distance formula]] we have <math>O_2O_3 = \\sqrt{55^2 + 65^2} = \\sqrt{10 \\cdot 725}</math>. Therefore, the answer is <math>n = \\boxed{725}</math>.\n\n=== Solution 2 (synthetic) ===\n<center><asy>\npointpen = black; pathpen = black + linewidth(0.7);\n\npair P = (0,0), Q = (90, 0), R = (0, 120), S=(0, 60), T=(45, 60), U = (60,0), V=(60, 40), O1 = (30,30), O2 = (15, 75), O3 = (70, 10);\nD(MP(\"P\",P)--MP(\"Q\",Q)--MP(\"R\",R,W)--cycle); D(MP(\"S\",S,W) -- MP(\"T\",T,NE)); D(MP(\"U\",U) -- MP(\"V\",V,NE)); D(O2 -- O3, rgb(0.2,0.5,0.2)+ linewidth(0.7) + linetype(\"4 4\"));\nD(CR(D(O1), 30)); D(CR(D(O2), 15)); D(CR(D(O3), 10));\n\npair A2 = IP(incircle(R,S,T), Q--R), A3 = IP(incircle(Q,U,V), Q--R);\nD(D(MP(\"A_2\",A2,NE)) -- O2, linetype(\"4 4\")+linewidth(0.6)); D(D(MP(\"A_3\",A3,NE)) -- O3 -- foot(O3, A2, O2), linetype(\"4 4\")+linewidth(0.6));\n</asy></center>\n\nWe compute <math>r_1 = 30, r_2 = 15, r_3 = 10</math> as above. Let <math>A_1, A_2, A_3</math> respectively the points of tangency of <math>C_1, C_2, C_3</math> with <math>QR</math>. \n\nBy the [[Two Tangent Theorem]], we find that <math>A_{1}Q = 60</math>, <math>A_{1}R = 90</math>. Using the similar triangles, <math>RA_{2} = 45</math>, <math>QA_{3} = 20</math>, so <math>A_{2}A_{3} = QR - RA_2 - QA_3 = 85</math>. Thus <math>(O_{2}O_{3})^{2} = (15 - 10)^{2} + (85)^{2} = 7250\\implies n=\\boxed{725}</math>.\n\n\n===Solution 3===\n\nThe radius of an incircle is <math> r=A_t/\\text{semiperimeter} </math>. The area of the triangle is equal to <math> \\frac{90\\times120}{2} = 5400</math> and the semiperimeter is equal to <math> \\frac{90+120+150}{2} = 180</math>. The radius, therefore, is equal to <math>\\frac{5400}{180} = 30</math>. Thus using similar triangles the dimensions of the triangle circumscribing the circle with center <math>C_2</math> are equal to <math>120-2(30) = 60</math>, <math>\\frac{1}{2}(90) = 45</math>, and <math>\\frac{1}{2}\\times150 = 75</math>. The radius of the circle inscribed in this triangle with dimensions <math>45\\times60\\times75</math> is found using the formula mentioned at the very beginning. The radius of the incircle is equal to <math>15</math>. \n\n\nDefining <math>P</math> as <math>(0,0)</math>, <math>C_2</math> is equal to <math>(60+15,15)</math> or <math>(75,15)</math>. Also using similar triangles, the dimensions of the triangle circumscribing the circle with center <math>C_3</math> are equal to <math>90-2(30)</math>, <math>\\frac{1}{3}\\times120</math>, <math>\\frac{1}{3}\\times150</math> or <math> 30,40,50</math>. The radius of <math>C_3</math> by using the formula mentioned at the beginning  is <math>10</math>. Using <math>P</math> as <math>(0,0)</math>, <math>C_3</math> is equal to <math>(10, 60+10)</math> or <math>(10,70)</math>. Using the distance formula, the distance between <math>C_2</math> and <math>C_3</math>: <math>\\sqrt{(75-10)^2 +(15-70)^2}</math> this equals <math>\\sqrt{7250}</math> or <math>\\sqrt{725\\times10}</math>, thus <math>n</math> is <math>\\boxed{725}</math>.\n\n===Note===\nThe problem can be reduced to a <math>3-4-5</math> triangle for the initial calculations, where <math>C_2</math> is calculated to be (<math>\\frac{5}{2}, \\frac{1}{2})</math>, and <math>C_3</math> is calculated to be (<math>\\frac{1}{3}, \\frac{7}{3})</math>. After we find the incenters the points can be scaled up by a factor of <math>30</math> for the final distance calculation.\n\n=== Solution 4 (easy but hard to see) ===\nWe can calculate the inradius of each triangle as with the previous solutions. Now, notice that the hexagon <math>PSTVU</math> is a square with its corner cut off. We literally complete the square and mark the last corner as point X. Now, construct right triangle with <math>C_3C_2</math> as its hypotenuse. The right angle will be at point <math>Y</math>. We will now find the length of each leg and use the Pythagorean Theorem to compute the desired length. We see that the length of <math>C_3Y</math> is <math>50 + 15 = 65</math>, as seen by the inradius of <math>C_2</math> and <math>10</math> less than the square's side length. <math>C_2Y</math> is <math>45 + 10 = 55</math>, which is <math>15</math> less than the square plus the inradius of <math>C_3</math>. Our final answer is <math>\\sqrt{65^2 + 55^2} = \\sqrt{7250} = \\sqrt{(10)(725)} \\rightarrow \\boxed{725}</math>."
  },
  {
    "year": 2001,
    "variant": "II",
    "problem_number": 8,
    "latex": "A certain [[function]] <math>f</math> has the properties that <math>f(3x) = 3f(x)</math> for all positive real values of <math>x</math>, and that <math>f(x) = 1-|x-2|</math> for <math>1\\le x \\le 3</math>. Find the smallest <math>x</math> for which <math>f(x) = f(2001)</math>.",
    "solution": "Iterating the condition <math>f(3x) = 3f(x)</math>, we find that <math>f(x) = 3^kf\\left(\\frac{x}{3^k}\\right)</math> for positive integers <math>k</math>. We know the definition of <math>f(x)</math> from <math>1 \\le x \\le 3</math>, so we would like to express <math>f(2001) = 3^kf\\left(\\frac{2001}{3^k}\\right),\\ 1 \\le \\frac{2001}{3^k} \\le 3 \\Longrightarrow k = 6</math>. Indeed,\n \n<cmath>f(2001) = 729\\left[1 - \\left| \\frac{2001}{729} - 2\\right|\\right] = 186.</cmath>\n\nWe now need the smallest <math>x</math> such that <math>f(x) = 3^kf\\left(\\frac{x}{3^k}\\right) = 186</math>. The [[range]] of <math>f(x),\\ 1 \\le x \\le 3</math>, is <math>0 \\le f(x) \\le 1</math>. So when <math>1 \\le \\frac{x}{3^k} \\le 3</math>, we have <math>0 \\le f\\left(\\frac{x}{3^k}\\right) = \\frac{186}{3^k} \\le 1</math>. Multiplying by <math>3^k</math>: <math>0 \\le 186 \\le 3^k</math>, so the smallest value of <math>k</math> is <math>k = 5</math>. Then,\n\n<cmath>186 = {3^5}f\\left(\\frac{x}{3^5}\\right).</cmath>\n\nBecause we forced <math>1 \\le \\frac{x}{3^5} \\le 3</math>, so\n\n<cmath>186 = {3^5}f\\left(\\frac{x}{3^5}\\right) = 243\\left[1 - \\left| \\frac{x}{243} - 2\\right|\\right] \\Longrightarrow x = \\pm 57 + 2 \n\\cdot 243.</cmath>\n\nWe want the smaller value of <math>x = \\boxed{429}</math>.\n\nAn alternative approach is to consider the graph of <math>f(x)</math>, which iterates every power of <math>3</math>, and resembles the section from <math>1 \\le x \\le 3</math> dilated by a factor of <math>3</math> at each iteration."
  },
  {
    "year": 2001,
    "variant": "II",
    "problem_number": 9,
    "latex": "Each unit [[square]] of a 3-by-3 unit-square grid is to be colored either blue or red. For each square, either color is equally likely to be used. The [[probability]] of obtaining a grid that does not have a 2-by-2 red square is <math>\\frac {m}{n}</math>, where <math>m</math> and <math>n</math> are [[relatively prime]] positive integers. Find <math>m + n</math>.",
    "solution": "We can use [[complementary counting]], counting all of the colorings that have at least one red <math>2\\times 2</math> square.\n\n*For at least one red <math>2 \\times 2</math> square:\n:There are four <math>2 \\times 2</math> squares to choose which one will be red. Then there are <math>2^5</math> ways to color the rest of the squares. <math>4 \\cdot 32=128</math>\n*For at least two <math>2 \\times 2</math> squares:\n:There are two cases: those with two <math>2x2</math> red squares on one side and those without red squares on one side but at two corners.\n:The first case is easy: 4 ways to choose which the side the squares will be on, and <math>2^3</math> ways to color the rest of the squares, so 32 ways to do that. For the second case, there will be only two ways to pick two squares, and <math>2^2</math> ways to color the other squares. <math>32+8=40</math>\n*For at least three <math>2 \\times 2</math> squares:\n:Choosing three such squares leaves only one square left, with four places to place it. This is <math>2 \\cdot 4 = 8</math> ways.\n*For at least four <math>2 \\times 2</math> squares, we clearly only have one way.\n\nBy the [[Principle of Inclusion-Exclusion]], there are (alternatively subtracting and adding) <math>128-40+8-1=95</math> ways to have at least one red <math>2 \\times 2</math> square.\n\nThere are <math>2^9=512</math> ways to paint the <math>3 \\times 3</math> square with no restrictions, so there are <math>512-95=417</math> ways to paint the square with the restriction. Therefore, the probability of obtaining a grid that does not have a <math>2 \\times 2</math> red square is <math>\\frac{417}{512}</math>, and <math>417+512=\\boxed{929}</math>."
  },
  {
    "year": 2001,
    "variant": "II",
    "problem_number": 10,
    "latex": "How many positive integer multiples of <math>1001</math> can be expressed in the form <math>10^{j} - 10^{i}</math>, where <math>i</math> and <math>j</math> are integers and <math>0\\leq i < j \\leq 99</math>?",
    "solution": "The [[prime factorization]] of <math>1001 = 7\\times 11\\times 13</math>. We have <math>7\\times 11\\times 13\\times k = 10^j - 10^i = 10^i(10^{j - i} - 1)</math>. Since <math>\\text{gcd}\\,(10^i = 2^i \\times 5^i, 7 \\times 11 \\times 13) = 1</math>, we require that <math>1001 = 10^3 + 1 | 10^{j-i} - 1</math>. From the factorization <math>10^6 - 1 = (10^3 + 1)(10^{3} - 1)</math>, we see that <math>j-i = 6</math> works; also, <math>a-b | a^n - b^n</math> implies that <math>10^{6} - 1 | 10^{6k} - 1</math>, and so any <math>\\boxed{j-i \\equiv 0 \\pmod{6}}</math> will work. \n\n<!-- I cannot make sense of this, so I commented it: - azjps - we require that <math>10^{j - i} - 1\\equiv 0 \\mod 1001</math>. By [[Euler's totient theorem]], <math>j - i\\equiv 0\\mod 6</math>. -->\nTo show that no other possibilities work, suppose <math>j-i \\equiv a \\pmod{6},\\ 1 \\le a \\le 5</math>, and let <math>j-i-a = 6k</math>. Then we can write <math>10^{j-i} - 1 = 10^{a} \\left(10^{6k} - 1\\right) + \\left(10^{a} - 1\\right)</math>, and we observe that <math>10^{6k}-1 = \\left(10^6\\right)^k-1^k</math>, which is divisible by <math>10^6-1</math>, and thus by <math>10^3+1</math> (as <math>10^6-1 = \\left(10^3\\right)^2-1^2 = \\left(10^3+1\\right)\\left(10^3-1\\right)</math>). It follows that the first term is divisible by <math>1001</math>, whereas we can easily verify that the second term, <math>10^a-1</math>, is not divisible by <math>1001</math> for <math>1 \\le a \\le 5</math>, so <math>10^{j-i}</math> is not divisible by <math>1001</math> for such <math>a</math>.\n\nIf <math>j - i = 6, j\\leq 99</math>, then we can have solutions of <math>10^6 - 10^0, 10^7 - 10^1, \\dots\\implies 94</math> ways. If <math>j - i = 12</math>, we can have the solutions of <math>10^{12} - 10^{0},\\dots\\implies 94 - 6 = 88</math>, and so forth. Therefore, the answer is <math>94 + 88 + 82 + \\dots + 4\\implies 16\\left(\\dfrac{98}{2}\\right) = \\boxed{784}</math>."
  },
  {
    "year": 2001,
    "variant": "II",
    "problem_number": 11,
    "latex": "Club Truncator is in a soccer league with six other teams, each of which it plays once. In any of its 6 matches, the probabilities that Club Truncator will win, lose, or tie are each <math>\\frac {1}{3}</math>. The [[probability]] that Club Truncator will finish the season with more wins than losses is <math>\\frac {m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m + n</math>.",
    "solution": "Note that the probability that Club Truncator will have more wins than losses is equal to the probability that it will have more losses than wins; the only other possibility is that they have the same number of wins and losses. Thus, by the [[complement principle]], the desired probability is half the probability that Club Truncator does not have the same number of wins and losses.\n\nThe possible ways to achieve the same number of wins and losses are <math>0</math> ties, <math>3</math> wins and <math>3</math> losses; <math>2</math> ties, <math>2</math> wins, and <math>2</math> losses; <math>4</math> ties, <math>1</math> win, and <math>1</math> loss; or <math>6</math> ties. Since there are <math>6</math> games, there are <math>\\frac{6!}{3!3!}</math> ways for the first, and <math>\\frac{6!}{2!2!2!}</math>, <math>\\frac{6!}{4!}</math>, and <math>1</math> ways for the rest, respectively, out of a total of <math>3^6</math>. This gives a probability of <math>141/729</math>. Then the desired answer is <math>\\frac{1 - \\frac{141}{729}}{2} = \\frac{98}{243}</math>, so the answer is <math>m+n = \\boxed{341}</math>."
  },
  {
    "year": 2001,
    "variant": "II",
    "problem_number": 12,
    "latex": "Given a [[triangle]], its [[midpoint]] triangle is obtained by joining the midpoints of its sides. A sequence of [[polyhedra]] <math>P_{i}</math> is defined recursively as follows: <math>P_{0}</math> is a regular [[tetrahedron]] whose volume is 1. To obtain <math>P_{i + 1}</math>, replace the midpoint triangle of every face of <math>P_{i}</math> by an outward-pointing regular tetrahedron that has the midpoint triangle as a face. The [[volume]] of <math>P_{3}</math> is <math>\\frac {m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m + n</math>.",
    "solution": "On the first construction, <math>P_1</math>, four new tetrahedra will be constructed with side lengths <math>\\frac 12</math> of the original one. Since the ratio of the volume of similar polygons is the cube of the ratio of their corresponding lengths, it follows that each of these new tetrahedra will have volume <math>\\left(\\frac 12\\right)^3 = \\frac 18</math>. The total volume added here is then <math>\\Delta P_1 = 4 \\cdot \\frac 18 = \\frac 12</math>.\n\nWe now note that for each midpoint triangle we construct in step <math>P_{i}</math>, there are now <math>6</math> places to construct new midpoint triangles for step <math>P_{i+1}</math>. The outward tetrahedron for the midpoint triangle provides <math>3</math> of the faces, while the three equilateral triangles surrounding the midpoint triangle provide the other <math>3</math>. This is because if you read this question carefully, it asks to add new tetrahedra to each face of <math>P_{i}</math> which also includes the ones that were left over when we did the previous addition of tetrahedra. However, the volume of the tetrahedra being constructed decrease by a factor of <math>\\frac 18</math>. Thus we have the recursion <math>\\Delta P_{i+1} = \\frac{6}{8} \\Delta P_i</math>, and so <math>\\Delta P_i = \\frac 12 \\cdot \\left(\\frac{3}{4}\\right)^{i-1} P_1</math>.\n\nThe volume of <math>P_3 = P_0 + \\Delta P_1 + \\Delta P_2 + \\Delta P_3 = 1 + \\frac 12 + \\frac 38 + \\frac 9{32} = \\frac{69}{32}</math>, and <math>m+n=\\boxed{101}</math>. Note that the summation was in fact a [[geometric series]]."
  },
  {
    "year": 2001,
    "variant": "II",
    "problem_number": 13,
    "latex": "In [[quadrilateral]] <math>ABCD</math>, <math>\\angle{BAD}\\cong\\angle{ADC}</math> and <math>\\angle{ABD}\\cong\\angle{BCD}</math>, <math>AB = 8</math>, <math>BD = 10</math>, and <math>BC = 6</math>. The length <math>CD</math> may be written in the form <math>\\frac {m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m + n</math>.",
    "solution": "Extend <math>\\overline{AD}</math> and <math>\\overline{BC}</math> to meet at <math>E</math>. Then, since <math>\\angle BAD = \\angle ADC</math> and <math>\\angle ABD = \\angle DCE</math>, we know that <math>\\triangle ABD \\sim \\triangle DCE</math>. Hence <math>\\angle ADB = \\angle DEC</math>, and <math>\\triangle BDE</math> is [[isosceles triangle|isosceles]]. Then <math>BD = BE = 10</math>. \n\n<center><asy>\n/* We arbitrarily set AD = x */\nreal x = 60^.5, anglesize = 28;\n\npointpen = black; pathpen = black+linewidth(0.7); pen d = linetype(\"6 6\")+linewidth(0.7);\npair A=(0,0), D=(x,0), B=IP(CR(A,8),CR(D,10)), E=(-3x/5,0), C=IP(CR(E,16),CR(D,64/5));\nD(MP(\"A\",A)--MP(\"B\",B,NW)--MP(\"C\",C,NW)--MP(\"D\",D)--cycle); D(B--D); D(A--MP(\"E\",E)--B,d);\nD(anglemark(D,A,B,anglesize));D(anglemark(C,D,A,anglesize));D(anglemark(A,B,D,anglesize));D(anglemark(E,C,D,anglesize));D(anglemark(A,B,D,5/4*anglesize));D(anglemark(E,C,D,5/4*anglesize));\nMP(\"10\",(B+D)/2,SW);MP(\"8\",(A+B)/2,W);MP(\"6\",(B+C)/2,NW);\n</asy></center>\n\nUsing the similarity, we have:\n\n<cmath>\\frac{AB}{BD} = \\frac 8{10} = \\frac{CD}{CE} = \\frac{CD}{16} \\Longrightarrow CD = \\frac{64}5</cmath>\n\nThe answer is <math>m+n = \\boxed{069}</math>.\n\n\n'''Extension''': To Find <math>AD</math>, use Law of Cosines on <math>\\triangle BCD</math> to get <math>\\cos(\\angle BCD)=\\frac{13}{20}</math>\nThen since <math>\\angle BCD=\\angle ABD</math> use Law of Cosines on <math>\\triangle ABD</math> to find <math>AD=2\\sqrt{15}</math>"
  },
  {
    "year": 2001,
    "variant": "II",
    "problem_number": 14,
    "latex": "There are <math>2n</math> [[complex number]]s that satisfy both <math>z^{28} - z^{8} - 1 = 0</math> and <math>\\mid z \\mid = 1</math>. These numbers have the form <math>z_{m} = \\cos\\theta_{m} + i\\sin\\theta_{m}</math>, where <math>0\\leq\\theta_{1} < \\theta_{2} < \\ldots < \\theta_{2n} < 360</math> and angles are measured in degrees. Find the value of <math>\\theta_{2} + \\theta_{4} + \\ldots + \\theta_{2n}</math>.\n\n__TOC__",
    "solution": "<math>z</math> can be written in the form <math> \\text{cis\\,}\\theta</math>. Rearranging, we find that  <math> \\text{cis\\,}{28}\\theta = \\text{cis\\,}{8}\\theta+1</math>\n\nSince the real part of <math>\\text{cis\\,}{28}\\theta</math> is one more than the real part of <math>\\text{cis\\,} {8}\\theta</math> and their imaginary parts are equal, it is clear that either <math>\\text{cis\\,}{28}\\theta = \\frac{1}{2}+\\frac {\\sqrt{3}}{2}i</math> and <math>\\text{cis\\,} {8}\\theta =  -\\frac{1}{2}+\\frac {\\sqrt{3}}{2}i</math>, or <math>\\text{cis\\,}{28}\\theta = \\frac{1}{2} - \\frac{\\sqrt{3}}{2}i</math> and  <math>\\text{cis\\,} {8}\\theta =  -\\frac{1}{2}- \\frac{\\sqrt{3}}{2}i</math>\n\n*Case 1  : <math>\\text{cis\\,}{28}\\theta = \\frac{1}{2}+ \\frac{\\sqrt{3}}{2}i</math> and <math>\\text{cis\\,} {8}\\theta =  -\\frac{1}{2}+\\frac{\\sqrt{3}}{2}i</math>\nSetting up and solving equations, <math>Z^{28}= \\text{cis\\,}{60^\\circ}</math> and <math>Z^8= \\text{cis\\,}{120^\\circ}</math>, we see that the solutions common to both equations have arguments <math>15^\\circ , 105^\\circ, 195^\\circ, </math> and <math>\\ 285^\\circ</math>. We can figure this out by adding 360 repeatedly to the number 60 to try and see if it will satisfy what we need. We realize that it does not work in the integer values.\n\n*Case 2  : <math>\\text{cis\\,}{28}\\theta = \\frac{1}{2} -\\frac {\\sqrt{3}}{2}i</math> and <math>\\text{cis\\,} {8}\\theta =  -\\frac {1}{2} -\\frac{\\sqrt{3}}{2}i</math>\n\nAgain setting up equations (<math>Z^{28}= \\text{cis\\,}{300^\\circ}</math> and <math>Z^{8} = \\text{cis\\,}{240^\\circ}</math>) we see that the common solutions have arguments of  <math>75^\\circ, 165^\\circ, 255^\\circ, </math> and <math>345^\\circ</math>\n\nListing all of these values, we find that <math>\\theta_{2} + \\theta_{4} + \\ldots + \\theta_{2n}</math> is equal to <math>(75 + 165 + 255 + 345) ^\\circ</math> which is equal to <math>\\boxed {840}</math> degrees. We only want the sum of a certain number of theta, not all of it."
  },
  {
    "year": 2001,
    "variant": "II",
    "problem_number": 15,
    "latex": "Let <math>EFGH</math>, <math>EFDC</math>, and <math>EHBC</math> be three adjacent [[square]] faces of a [[cube]], for which <math>EC = 8</math>, and let <math>A</math> be the eighth [[vertex]] of the cube. Let <math>I</math>, <math>J</math>, and <math>K</math>, be the points on <math>\\overline{EF}</math>, <math>\\overline{EH}</math>, and <math>\\overline{EC}</math>, respectively, so that <math>EI = EJ = EK = 2</math>. A solid <math>S</math> is obtained by drilling a tunnel through the cube. The sides of the tunnel are planes parallel to <math>\\overline{AE}</math>, and containing the edges, <math>\\overline{IJ}</math>, <math>\\overline{JK}</math>, and <math>\\overline{KI}</math>. The [[surface area]] of <math>S</math>, including the walls of the tunnel, is <math>m + n\\sqrt {p}</math>, where <math>m</math>, <math>n</math>, and <math>p</math> are positive integers and <math>p</math> is not divisible by the square of any prime. Find <math>m + n + p</math>.",
    "solution": "<center><asy>\nimport three; currentprojection = orthographic(camera=(1/4,2,3/4)); defaultpen(linewidth(0.7)); pen l = linewidth(0.5) + linetype(\"10 2\");\n\ntriple S=(1,0,0), T=(2,0,2), U=(8,6,8), V=(8,8,6), W=(2,2,0), X=(6,8,8);\ndraw((1,0,0)--(8,0,0)--(8,0,8)--(0,0,8)--(0,0,1)); draw((1,0,0)--(8,0,0)--(8,8,0)--(0,8,0)--(0,1,0),l); draw((0,8,0)--(0,8,8)); draw((0,8,8)--(0,0,8)--(0,0,1)); draw((8,8,0)--(8,8,6),l); draw((8,0,8)--(8,6,8)); draw((0,8,8)--(6,8,8));\n\ndraw(S--T--U--V--W--cycle); draw((0,0,1)--T--U--X--(0,2,2)--cycle); draw((0,1,0)--W--V--X--(0,2,2)--cycle);\n</asy> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <asy>\nimport three; currentprojection = orthographic(camera=(1/2,1/3,-1/4)); defaultpen(linewidth(0.7)); pen l = linewidth(0.5) + linetype(\"10 2\");\n\ntriple S=(1,0,0), T=(2,0,2), U=(8,6,8), V=(8,8,6), W=(2,2,0), X=(6,8,8);\ndraw((1,0,0)--(8,0,0)--(8,0,8),l); draw((8,0,8)--(0,0,8)); draw((0,0,8)--(0,0,1),l); draw((8,0,0)--(8,8,0)); draw((8,8,0)--(0,8,0)); draw((0,8,0)--(0,1,0),l); draw((0,8,0)--(0,8,8)); draw((0,0,8)--(0,0,1),l); draw((8,8,0)--(8,8,6)); draw((8,0,8)--(8,6,8)); draw((0,0,8)--(0,8,8)--(6,8,8));\n\ndraw(S--T--U--V--W--cycle); draw((0,0,1)--T--U--X--(0,2,2)--cycle); draw((0,1,0)--W--V--X--(0,2,2)--cycle);\n</asy></center>\n\nSet the coordinate system so that vertex <math>E</math>, where the drilling starts, is at <math>(8,8,8)</math>. Using a little visualization (involving some [[similar triangles]], because we have parallel lines) shows that the tunnel meets the bottom face (the xy plane one) in the line segments joining <math>(1,0,0)</math> to <math>(2,2,0)</math>, and <math>(0,1,0)</math> to <math>(2,2,0)</math>, and similarly for the other three faces meeting at the origin (by symmetry). So one face of the tunnel is the polygon with vertices (in that order), <math>S(1,0,0), T(2,0,2), U(8,6,8), V(8,8,6), W(2,2,0)</math>, and the other two faces of the tunnel are congruent to this shape. \n\nObserve that this shape is made up of two congruent [[trapezoid]]s each with height <math>\\sqrt {2}</math> and bases <math>7\\sqrt {3}</math> and <math>6\\sqrt {3}</math>. Together they make up an area of <math>\\sqrt {2}(7\\sqrt {3} + 6\\sqrt {3}) = 13\\sqrt {6}</math>. The total area of the tunnel is then <math>3\\cdot13\\sqrt {6} = 39\\sqrt {6}</math>. Around the corner <math>E</math> we're missing an area of <math>6</math>, the same goes for the corner opposite <math>E</math> . So the outside area is <math>6\\cdot 64 - 2\\cdot 6 = 372</math>. Thus the the total surface area is <math>372 + 39\\sqrt {6}</math>, and the answer is <math>372 + 39 + 6 = \\boxed{417}</math>."
  },
  {
    "year": 2002,
    "variant": "I",
    "problem_number": 1,
    "latex": "Many states use a sequence of three letters followed by a sequence of three digits as their standard license-plate pattern. Given that each three-letter three-digit arrangement is equally likely,  the probability that such a license plate will contain at least one palindrome (a three-letter arrangement or a three-digit arrangement that reads the same left-to-right as it does right-to-left) is <math>\\dfrac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n.</math>",
    "solution": "Consider the three-digit arrangement, <math>\\overline{aba}</math>. There are <math>10</math> choices for <math>a</math> and <math>10</math> choices for <math>b</math> (since it is possible for <math>a=b</math>), and so the probability of picking the palindrome is <math>\\frac{10 \\times 10}{10^3} = \\frac 1{10}</math>. Similarly, there is a <math>\\frac 1{26}</math> probability of picking the three-letter palindrome.  \n\nBy the [[Principle of Inclusion-Exclusion]], the total probability is\n<center><math>\\frac{1}{26}+\\frac{1}{10}-\\frac{1}{260}=\\frac{35}{260}=\\frac{7}{52}\\quad\\Longrightarrow\\quad7+52=\\boxed{59}</math></center>"
  },
  {
    "year": 2002,
    "variant": "I",
    "problem_number": 2,
    "latex": "The diagram shows twenty congruent [[circle]]s arranged in three rows and enclosed in a rectangle. The circles are tangent to one another and to the sides of the rectangle as shown in the diagram. The [[ratio]] of the longer dimension of the rectangle to the shorter dimension can be written as <math>\\dfrac{1}{2}(\\sqrt{p}-q)</math> where <math>p</math> and <math>q</math> are positive integers. Find <math>p+q</math>.\n\n<center>[[Image:AIME_2002I_Problem_02.png]]</center>",
    "solution": "Let the [[radius]] of the circles be <math>r</math>. The longer dimension of the rectangle can be written as <math>14r</math>, and by the [[Pythagorean Theorem]], we find that the shorter dimension is <math>2r\\left(\\sqrt{3}+1\\right)</math>.\n\nTherefore, <math>\\frac{14r}{2r\\left(\\sqrt{3}+1\\right)}= \\frac{7}{\\sqrt{3} + 1} \\cdot \\left[\\frac{\\sqrt{3}-1}{\\sqrt{3}-1}\\right] = \\frac{1}{2}\\left(7\\sqrt{3} - 7\\right) = \\frac{1}{2}\\left(\\sqrt{p}-q\\right)</math>. Thus we have <math>p=147</math> and <math>q=7</math>, so <math>p+q=\\boxed{154}</math>."
  },
  {
    "year": 2002,
    "variant": "I",
    "problem_number": 3,
    "latex": "Jane is 25 years old. Dick is older than Jane. In <math>n</math> years, where <math>n</math> is a positive integer, Dick's age and Jane's age will both be two-digit numbers and will have the property that Jane's age is obtained by interchanging the digits of Dick's age. Let <math>d</math> be Dick's present age. How many ordered pairs of positive integers <math>(d,n)</math> are possible?",
    "solution": "Let Jane's age <math>n</math> years from now be <math>10a+b</math>, and let Dick's age be <math>10b+a</math>. If <math>10b+a>10a+b</math>, then <math>b>a</math>. The possible pairs of <math>a,b</math> are:\n\n<center><math>(1,2), (1,3), (2,3), (1,4), (2,4), (3,4), \\dots , (8,9)</math></center>\n\nThat makes 36. But <math>10a+b>25</math>, so we subtract all the extraneous pairs: <math>(1,2), (1,3), (2,3), (1,4), (2,4), (1,5), (2,5), (1,6), (1,7), (1,8),</math> and <math>(1,9)</math>. <math>36-11=\\boxed{025}</math>"
  },
  {
    "year": 2002,
    "variant": "I",
    "problem_number": 4,
    "latex": "Consider the sequence defined by <math>a_k =\\dfrac{1}{k^2+k}</math> for <math>k\\geq 1</math>. Given that <math>a_m+a_{m+1}+\\cdots+a_{n-1}=\\dfrac{1}{29}</math>, for positive integers <math>m</math> and <math>n</math> with <math>m<n</math>, find <math>m+n</math>.",
    "solution": "Using [[partial fraction decomposition]] yields <math>\\dfrac{1}{k^2+k}=\\dfrac{1}{k(k+1)}=\\dfrac{1}{k}-\\dfrac{1}{k+1}</math>. Thus,\n\n<math>a_m+a_{m+1}+\\cdots +a_{n-1}=\\dfrac{1}{m}-\\dfrac{1}{m+1}+\\dfrac{1}{m+1}-\\dfrac{1}{m+2}+\\cdots +\\dfrac{1}{n-1}-\\dfrac{1}{n}=\\dfrac{1}{m}-\\dfrac{1}{n}</math>\n\nWhich means that\n\n<math>\\dfrac{n-m}{mn}=\\dfrac{1}{29}</math>\n\nSince we need a factor of 29 in the denominator, we let <math>n=29t</math>.* Substituting, we get\n\n<math>29t-m=mt</math>\n\nso\n\n<math>\\frac{29t}{t+1} = m</math>\n\nSince <math>m</math> is an integer, <math>t+1 = 29</math>, so <math>t=28</math>. It quickly follows that <math>n=29(28)</math> and <math>m=28</math>, so <math>m+n = 30(28) = \\fbox{840}</math>.\n\n *If <math>m=29t</math>, a similar argument to the one above implies <math>m=29(28)</math> and <math>n=28</math>, which implies <math>m>n</math>. This is impossible since <math>n-m>0</math>."
  },
  {
    "year": 2002,
    "variant": "I",
    "problem_number": 5,
    "latex": "Let <math>A_1,A_2,A_3,\\cdots,A_{12}</math> be the vertices of a regular dodecagon. How many distinct squares in the plane of the dodecagon have at least two vertices in the set <math>\\{A_1,A_2,A_3,\\cdots,A_{12}\\} ?</math>",
    "solution": "There are 66 ways of picking two vertices. Note with any two vertices one can draw three squares (''two'' with the vertices forming a side, another with the vertices forming the diagonal). So so far we have <math>66(3)=198</math> squares, but we have overcounted since some squares have their other two vertices in the dodecagon as well. All 12 combinations of two distinct vertices that form a square side only form 3 squares, and all 12 combinations of two vertices that form a square diagonal only form 6 squares. So in total, we have overcounted by <math>9+6=15</math>, and <math>198-15=\\fbox{183}</math>."
  },
  {
    "year": 2002,
    "variant": "I",
    "problem_number": 6,
    "latex": "The solutions to the system of equations\n<center><math>\\log_{225}x+\\log_{64}y=4</math></center>\n<center><math>\\log_{x}225-\\log_{y}64=1</math></center>\nare <math>(x_1,y_1)</math> and <math>(x_2,y_2)</math>. Find <math>\\log_{30}\\left(x_1y_1x_2y_2\\right)</math>.",
    "solution": "Let <math>A=\\log_{225}x</math> and let <math>B=\\log_{64}y</math>. \n\nFrom the first equation: <math>A+B=4 \\Rightarrow B = 4-A</math>. \n\nPlugging this into the second equation yields <math>\\frac{1}{A}-\\frac{1}{B}=\\frac{1}{A}-\\frac{1}{4-A}=1 \\Rightarrow A = 3\\pm\\sqrt{5}</math> and thus, <math>B=1\\pm\\sqrt{5}</math>. \n\nSo, <math>\\log_{225}(x_1x_2)=\\log_{225}(x_1)+\\log_{225}(x_2)=(3+\\sqrt{5})+(3-\\sqrt{5})=6</math> <math>\\Rightarrow x_1x_2=225^6=15^{12}</math>. \n\nAnd <math>\\log_{64}(y_1y_2)=\\log_{64}(y_1)+\\log_{64}(y_2)=(1+\\sqrt{5})+(1-\\sqrt{5})=2</math> <math>\\Rightarrow y_1y_2=64^2=2^{12}</math>. \n\nThus, <math>\\log_{30}\\left(x_1y_1x_2y_2\\right) = \\log_{30}\\left(15^{12}\\cdot2^{12} \\right) = \\log_{30}\\left(30^{12} \\right) = \\boxed{012}</math>. \n\n\nOne may simplify the work by applying [[Vieta's formulas]] to directly find that <math>\\log x_1 + \\log x_2 = 6 \\log 225, \\log y_1 + \\log y_2 = 2 \\log 64</math>."
  },
  {
    "year": 2002,
    "variant": "I",
    "problem_number": 7,
    "latex": "The Binomial Expansion is valid for exponents that are not integers. That is, for all real numbers <math>x,y</math> and <math>r</math> with <math>|x|>|y|</math>,\n\n<cmath>(x+y)^r=x^r+rx^{r-1}y+\\dfrac{r(r-1)}{2}x^{r-2}y^2+\\dfrac{r(r-1)(r-2)}{3!}x^{r-3}y^3 \\cdots</cmath>\n\nWhat are the first three digits to the right of the decimal point in the decimal representation of <math>(10^{2002}+1)^{\\frac{10}{7}}</math>?",
    "solution": "<math>1^n</math> will always be 1, so we can ignore those terms, and using the definition (<math>2002 / 7 = 286</math>):\n\n<cmath>(10^{2002} + 1)^{\\frac {10}7} = 10^{2860}+\\dfrac{10}{7}10^{858}+\\dfrac{15}{49}10^{-1144}+\\cdots</cmath>\n\nSince the exponent of the <math>10</math> goes down extremely fast, it suffices to consider the first few terms. Also, the <math>10^{2860}</math> term will not affect the digits after the decimal, so we need to find the first three digits after the decimal in\n\n<cmath>\\dfrac{10}{7}10^{858}</cmath>.\n\n(The remainder after this term is positive by the Remainder Estimation Theorem. Since the repeating decimal of <math>\\dfrac{10}{7}</math> repeats every 6 digits, we can cut out a lot of 6's from <math>858</math> to reduce the problem to finding the first three digits after the decimal of \n\n<math>\\dfrac{10}{7}</math>.\n\nThat is the same as <math>1+\\dfrac{3}{7}</math>, and the first three digits after <math>\\dfrac{3}{7}</math> are <math>\\boxed{428}</math>."
  },
  {
    "year": 2002,
    "variant": "I",
    "problem_number": 8,
    "latex": "Find the smallest integer <math>k</math> for which the conditions\n\n(1) <math>a_1,a_2,a_3\\cdots</math> is a nondecreasing sequence of positive integers\n\n(2) <math>a_n=a_{n-1}+a_{n-2}</math> for all <math>n>2</math>\n\n(3) <math>a_9=k</math>\n\nare satisfied by more than one sequence.",
    "solution": "From <math>(2)</math>, <math>a_9=</math> <math>a_8+a_7=2a_7+a_6=3a_6+2a_5=5a_5+3a_4=8a_4+5a_3=13a_3+8a_2=21a_2+13a_1</math> <math>=k</math>\n\nSuppose that <math>a_1=x_0</math> is the smallest possible value for <math>a_1</math> that yields a good sequence, and <math>a_2=y_0</math> in this sequence. So, <math>13x_0+21y_0=k</math>. \n\nSince <math>\\gcd(13,21)=1</math>, the next smallest possible value for <math>a_1</math> that yields a good sequence is <math>a_1=x_0+21</math>. Then, <math>a_2=y_0-13</math>. \n\nBy <math>(1)</math>, <math>a_2 \\ge a_1 \\Rightarrow y_0-13 \\ge x_0+21 \\Rightarrow y_0 \\ge x_0+34 \\ge 35</math>. So the smallest value of <math>k</math> is attained when <math>(x_0,y_0)=(1,35)</math> which yields <math>(a_1,a_2)=(1,35)</math> or <math>(22,22)</math>. \n\nThus, <math>k=13(1)+21(35)=\\boxed{748}</math> is the smallest possible value of <math>k</math>."
  },
  {
    "year": 2002,
    "variant": "I",
    "problem_number": 9,
    "latex": "Harold, Tanya, and Ulysses paint a very long picket fence. \n\n* Harold starts with the first picket and paints every <math>h</math>th picket; \n* Tanya starts with the second picket and paints every <math>t</math>th picket; and \n* Ulysses starts with the third picket and paints every <math>u</math>th picket. \n\nCall the positive integer <math>100h+10t+u</math> paintable when the triple <math>(h,t,u)</math> of positive integers results in every picket being painted exactly once. Find the sum of all the paintable integers.",
    "solution": "=== Solution 1 ===\nNote that it is impossible for any of <math>h,t,u</math> to be <math>1</math>, since then each picket will have been painted one time, and then some will be painted more than once.  \n\n<math>h</math> cannot be <math>2</math>, or that will result in painting the third picket twice. If <math>h=3</math>, then <math>t</math> may not equal anything not divisible by <math>3</math>, and the same for <math>u</math>. Now for fourth and fifth pickets to be painted, <math>t</math> and <math>u</math> must be <math>3</math> as well. This configuration works, so <math>333</math> is paintable.\n\nIf <math>h</math> is <math>4</math>, then <math>t</math> must be even. The same for <math>u</math>, except that it can't be <math>2 \\mod 4</math>. Thus <math>u</math> is <math>0 \\mod 4</math> and <math>t</math> is <math>2 \\mod 4</math>. Since this is all <math>\\mod 4</math>, <math>t</math> must be <math>2</math> and <math>u</math> must be <math>4</math>, in order for <math>5,6</math> to be paint-able. Thus <math>424</math> is paintable.\n\n<math>h</math> cannot be greater than <math>4</math>, since if that were the case then the answer would be greater than <math>999</math>, which would be impossible for the AIME.\n\nThus the sum of all paintable numbers is <math>\\boxed{757}</math>.\n\n=== Solution 2 ===\nAgain, note that <math>h,t,u \\neq 1</math>. The three conditions state that no picket number <math>n</math> may satisfy any two of the conditions: <math>n \\equiv 1 \\pmod{h},\\ n \\equiv 2 \\pmod{t},\\ n \\equiv 3 \\pmod{u}</math>. By the [[Chinese Remainder Theorem]], the [[greatest common divisor]] of any pair of the three numbers <math>\\{h,t,u\\}</math> cannot be <math>1</math> (since otherwise [[without loss of generality]] consider <math>\\text{gcd}\\,(h,t) = 1</math>; then there will be a common solution <math>\\pmod{h \\times t}</math>). \n\nNow for <math>4</math> to be paint-able, we require either <math>h = 3</math> or <math>t=2</math>, but not both. \n*In the former condition, since <math>\\text{gcd}\\,(h,t),\\ \\text{gcd}\\,(h,u) \\neq 1</math>, it follows that <math>3|t,u</math>. For <math>5</math> and <math>6</math> to be paint-able, we require <math>t = u = 3</math>, and it is easy to see that <math>333</math> works.\n*In the latter condition, similarly we require that <math>2|h,u</math>. All even numbers are painted. We now renumber the remaining odd pickets to become the set of all positive integers (<math>1,3,5, \\ldots \\rightarrow 1',2',3', \\ldots</math>, where <math>n' = \\frac{n+1}{2}</math>), which requires the transformation <math>h' = h/2,\\ u' = u/2</math>, and with the painting starting respectively at <math>1',2'</math>. Our new number system retains the same conditions as above, except without <math>t</math>. We thus need <math>\\text{gcd}\\, (h',u') \\neq 1, h',u' \\neq 1</math>. Then for <math>3',4'</math> to be painted, we require <math>h' = u' = 2</math>. This translates to <math>424</math>, which we see works.   \n\nThus the answer is <math>333+424 = \\boxed{757}</math>.\n=== Solution 3 ===\nThe three conditions state that no picket number <math>n</math> may satisfy any two of the conditions: <math>n \\equiv 1 \\pmod{h},\\ n \\equiv 2 \\pmod{t},\\ n \\equiv 3 \\pmod{u}</math>. Note that the smallest number, <math>min \\{ h,t,u \\}, </math> divides the other <math>2</math>, and the next smallest divide the largest number, otherwise there is a common solution by the [[Chinese Remainder Theorem]]. It is also a necessary condition so that it paints exactly once. Note that the smallest number can't be at least <math>5</math>, otherwise not all picket will be painted. We are left with few cases (we could also exclude <math>1</math> as the possibility) which could be done quickly. Thus the answer is <math>333+424 = \\boxed{757}</math>.\n\n=== Solution 4 ===\nThe wording of this problem is a bit dissatisfying and could have been improved by stating that there are at least h + t + u pickets instead of \"very long\". For example, a very long fence could have 5 pickets, h = 78, t = 47, u = 1. To compensate for this we should lean on the fact that the answer cannot exceed 999.\n\nClearly we have to accept that there are 4 pickets or more, and the 4th picket is not reached from setting u = 1. If the 4th picket is reached from h = 3, then the 5th picket will not be reached via u = 2, or else we'd be unable to have 7 pickets. So h = 3 => t = 3 => u = 3, and 333 is a solution. We now have h > 3 for any remaining cases, and thus we only have room for 1 more case.\n\nSince the 4th picket must henceforth be reached via t = 2, we either have the 5th picket reached via u = 2 (requiring h to be any number exceeding the number of pickets, and we're stipulating that this is not allowed), or we have the 5th picket reached via h = 4, from which it follows that u = 4. So we have accumulated the solutions 333 and 424 and we have exhausted both the space of reasonable possibilities as well as the available space before we would exceed 999."
  },
  {
    "year": 2002,
    "variant": "I",
    "problem_number": 10,
    "latex": "In the diagram below, angle <math>ABC</math> is a right angle. Point <math>D</math> is on <math>\\overline{BC}</math>, and <math>\\overline{AD}</math> bisects angle <math>CAB</math>. Points <math>E</math> and <math>F</math> are on <math>\\overline{AB}</math> and <math>\\overline{AC}</math>, respectively, so that <math>AE=3</math> and <math>AF=10</math>. Given that <math>EB=9</math> and <math>FC=27</math>, find the integer closest to the area of quadrilateral <math>DCFG</math>.\n\n<center>[[Image:AIME_2002I_Problem_10.png]]</center>",
    "solution": "By the Pythagorean Theorem, <math>BC=35</math>. Letting <math>BD=x</math> we can use the Angle Bisector Theorem on triangle <math>ABC</math> to get <math>x/12=(35-x)/37</math>, and solving gives <math>BD=60/7</math> and <math>DC=185/7</math>.\n\nThe area of triangle <math>AGF</math> is <math>10/3</math> that of triangle <math>AEG</math>, since they share a common side and angle, so the area of triangle <math>AGF</math> is <math>10/13</math> the area of triangle <math>AEF</math>.\n\nSince the area of a triangle is <math>\\frac{ab\\sin{C}}2</math>, the area of <math>AEF</math> is <math>525/37</math> and the area of <math>AGF</math> is <math>5250/481</math>.\n\nThe area of triangle <math>ABD</math> is <math>360/7</math>, and the area of the entire triangle <math>ABC</math> is <math>210</math>. Subtracting the areas of <math>ABD</math> and <math>AGF</math> from <math>210</math> and finding the closest integer gives <math>\\boxed{148}</math> as the answer."
  },
  {
    "year": 2002,
    "variant": "I",
    "problem_number": 11,
    "latex": "Let <math>ABCD</math> and <math>BCFG</math> be two faces of a cube with <math>AB=12</math>. A beam of light emanates from vertex <math>A</math> and reflects off face <math>BCFG</math> at point <math>P</math>, which is 7 units from <math>\\overline{BG}</math> and 5 units from <math>\\overline{BC}</math>. The beam continues to be reflected off the faces of the cube. The length of the light path from the time it leaves point <math>A</math> until it next reaches a vertex of the cube is given by <math>m\\sqrt{n}</math>, where <math>m</math> and <math>n</math> are integers and <math>n</math> is not divisible by the square of any prime. Find <math>m+n</math>.",
    "solution": "When a light beam reflects off a surface, the path is like that of a ball bouncing. Picture that, and also imagine X, Y, and Z coordinates for the cube vertices. The coordinates will all involve 0's and 12's only, so that means that the X, Y, and Z distance traveled by the light must all be divisible by 12. Since the light's Y changes by 5 and the X changes by 7 (the Z changes by 12, don't worry about that), and 5 and 7 are relatively prime to 12, the light must make 12 reflections onto the XY plane or the face parallel to the XY plane. \n\nIn each reflection, the distance traveled by the light is <math>\\sqrt{ (12^2) + (5^2) + (7^2) }</math> = <math>\\sqrt{218}</math>. This happens 12 times, so the total distance is <math>12\\sqrt{218}</math>. <math>m=12</math> and <math>n=218</math>, so therefore, the answer is <math>m+n=\\boxed{230}</math>."
  },
  {
    "year": 2002,
    "variant": "I",
    "problem_number": 12,
    "latex": "Let <math>F(z)=\\dfrac{z+i}{z-i}</math> for all complex numbers <math>z\\neq i</math>, and let <math>z_n=F(z_{n-1})</math> for all positive integers <math>n</math>. Given that <math>z_0=\\dfrac{1}{137}+i</math> and <math>z_{2002}=a+bi</math>, where <math>a</math> and <math>b</math> are real numbers, find <math>a+b</math>.",
    "solution": "Iterating <math>F</math> we get:\n\n<cmath>\n\\begin{align*}\nF(z) &= \\frac{z+i}{z-i}\\\\\nF(F(z)) &= \\frac{\\frac{z+i}{z-i}+i}{\\frac{z+i}{z-i}-i} = \\frac{(z+i)+i(z-i)}{(z+i)-i(z-i)}= \\frac{z+i+zi+1}{z+i-zi-1}= \\frac{(z+1)(i+1)}{(z-1)(1-i)}\\\\\n&= \\frac{(z+1)(i+1)^2}{(z-1)(1^2+1^2)}= \\frac{(z+1)(2i)}{(z-1)(2)}= \\frac{z+1}{z-1}i\\\\\nF(F(F(z))) &= \\frac{\\frac{z+1}{z-1}i+i}{\\frac{z+1}{z-1}i-i} = \\frac{\\frac{z+1}{z-1}+1}{\\frac{z+1}{z-1}-1} = \\frac{(z+1)+(z-1)}{(z+1)-(z-1)} = \\frac{2z}{2} = z.\n\\end{align*}\n</cmath>\n\nFrom this, it follows that <math>z_{k+3} = z_k</math>, for all <math>k</math>. Thus \n<math>z_{2002} = z_{3\\cdot 667+1} = z_1 = \\frac{z_0+i}{z_0-i} = \\frac{(\\frac{1}{137}+i)+i}{(\\frac{1}{137}+i)-i}= \\frac{\\frac{1}{137}+2i}{\\frac{1}{137}}= 1+274i.</math>\n\nThus <math>a+b = 1+274 = \\boxed{275}</math>."
  },
  {
    "year": 2002,
    "variant": "I",
    "problem_number": 13,
    "latex": "In [[triangle]] <math>ABC</math> the [[median]]s <math>\\overline{AD}</math> and <math>\\overline{CE}</math> have lengths <math>18</math> and <math>27</math>, respectively, and <math>AB=24</math>. Extend <math>\\overline{CE}</math> to intersect the [[circumcircle]] of <math>ABC</math> at <math>F</math>. The area of triangle <math>AFB</math> is <math>m\\sqrt{n}</math>, where <math>m</math> and <math>n</math> are positive integers and <math>n</math> is not divisible by the square of any prime. Find <math>m+n</math>.",
    "solution": "<center><asy>\nsize(150); pathpen = linewidth(0.7); pointpen = black; pen f = fontsize(8); pair A=(0,0), B=(24,0), E=(A+B)/2, C=IP(CR(A,3*70^.5),CR(E,27)), D=(B+C)/2, F=IP(circumcircle(A,B,C),E--C+2*(E-C));\nD(D(MP(\"A\",A))--D(MP(\"B\",B))--D(MP(\"C\",C,NW))--cycle); D(circumcircle(A,B,C)); D(MP(\"F\",F)); D(A--D); D(C--F); D(A--F--B); D(MP(\"E\",E,NE)); D(MP(\"D\",D,NE)); MP(\"12\",(A+E)/2,SE,f);MP(\"12\",(B+E)/2,f); MP(\"27\",(C+E)/2,SW,f); MP(\"18\",(A+D)/2,SE,f);\n</asy></center>\n\nApplying [[Stewart's Theorem]] to medians <math>AD, CE</math>, we have:\n<center>\n<cmath>\\begin{align*}\nBC^2 + 4 \\cdot 18^2 &= 2\\left(24^2 + AC^2\\right) \\\\\n24^2 + 4 \\cdot 27^2 &= 2\\left(AC^2 + BC^2\\right) \n\\end{align*}</cmath>\n</center>\nSubstituting the first equation into the second and simplification yields <math>24^2 = 2\\left(3AC^2 + 2 \\cdot 24^2 - 4 \\cdot 18^2\\right)- 4 \\cdot 27^2</math> <math> \\Longrightarrow AC = \\sqrt{2^5 \\cdot 3 + 2 \\cdot 3^5 + 2^4 \\cdot 3^3 - 2^7 \\cdot 3} = 3\\sqrt{70}</math>. \n\nBy the [[Power of a Point Theorem]] on <math>E</math>, we get <math>EF = \\frac{12^2}{27} = \\frac{16}{3}</math>. The [[Law of Cosines]] on <math>\\triangle ACE</math> gives \n<center>\n<cmath>\\begin{align*}\n\\cos \\angle AEC = \\left(\\frac{12^2 + 27^2 - 9 \\cdot 70}{2 \\cdot 12 \\cdot 27}\\right) = \\frac{3}{8}\n\\end{align*}</cmath>\n</center>\nHence <math>\\sin \\angle AEC = \\sqrt{1 - \\cos^2 \\angle AEC} = \\frac{\\sqrt{55}}{8}</math> (taking the positive square root since <math>0^{\\circ} < \\angle AEC < 180^{\\circ}</math>, so <math>\\sin\\angle AEC > 0</math>). Using the identity <math>\\sin x^{\\circ} \\equiv \\sin\\left(180-x\\right)^{\\circ}</math>, we now deduce <math>\\sin \\angle AEF = \\frac{\\sqrt{55}}{8}</math>. Finally, because <math>\\triangle AEF, BEF</math> have the same height and equal bases, they have the same area, yielding <cmath>[ABF] = 2[AEF] = 2 \\cdot \\frac 12 \\cdot AE \\cdot EF \\sin \\angle AEF = 12 \\cdot \\frac{16}{3} \\cdot \\frac{\\sqrt{55}}{8} = 8\\sqrt{55},</cmath> and so the answer is <math>8 + 55 = \\boxed{063}</math>."
  },
  {
    "year": 2002,
    "variant": "I",
    "problem_number": 14,
    "latex": "A set <math>\\mathcal{S}</math> of distinct positive integers has the following property: for every integer <math>x</math> in <math>\\mathcal{S},</math> the arithmetic mean of the set of values obtained by deleting <math>x</math> from <math>\\mathcal{S}</math> is an integer.  Given that 1 belongs to <math>\\mathcal{S}</math> and that 2002 is the largest element of <math>\\mathcal{S},</math> what is the greatest number of elements that <math>\\mathcal{S}</math> can have?",
    "solution": "Let the sum of the integers in <math>\\mathcal{S}</math> be <math>N</math>, and let the size of <math>|\\mathcal{S}|</math> be <math>n+1</math>. After any element <math>x</math> is removed, we are given that <math>n|N-x</math>, so <math>x\\equiv N\\pmod{n}</math>. Since <math>1\\in\\mathcal{S}</math>, <math>N\\equiv1\\pmod{n}</math>, and all elements are congruent to 1 mod <math>n</math>. Since they are positive integers, the largest element is at least <math>n^2+1</math>, the <math>(n+1)</math>th positive integer congruent to 1 mod <math>n</math>.\n\nWe are also given that this largest member is 2002, so <math>2002\\equiv1\\pmod{n}</math>, and <math>n|2001=3\\cdot23\\cdot29</math>. Also, we have <math>n^2+1\\le2002</math>, so <math>n \\leq 44</math>. The largest factor of 2001 less than 45 is 29, so <math>n=29</math> and <math>n+1</math> <math>\\Rightarrow{\\fbox{30}}</math> is the largest possible. This can be achieved with <math>\\mathcal{S}=\\{1,30,59,88,\\ldots,813,2002\\}</math>, for instance."
  },
  {
    "year": 2002,
    "variant": "I",
    "problem_number": 15,
    "latex": "Polyhedron <math>ABCDEFG</math> has six faces.  Face <math>ABCD</math> is a square with <math>AB = 12;</math> face <math>ABFG</math> is a trapezoid with <math>\\overline{AB}</math> parallel to <math>\\overline{GF},</math> <math>BF = AG = 8,</math> and <math>GF = 6;</math> and face <math>CDE</math> has <math>CE = DE = 14.</math>  The other three faces are <math>ADEG, BCEF,</math> and <math>EFG.</math>  The distance from <math>E</math> to face <math>ABCD</math> is 12.  Given that <math>EG^2 = p - q\\sqrt {r},</math> where <math>p, q,</math> and <math>r</math> are positive integers and <math>r</math> is not divisible by the square of any prime, find <math>p + q + r.</math>",
    "solution": "<center><asy>\nsize(200);\nimport three;\nimport graph;\ndefaultpen(linewidth(0.7)+fontsize(8));\ncurrentprojection=orthographic(-30,50,40);\ntriple A=(-6,-6,0), B = (-6,6,0), C = (6,6,0), D = (6,-6,0), E = (2,0,12), H=(-6+2*sqrt(19),0,12), H1=(-6-2*sqrt(19),0,12), F, G, E1 = (6,0,12);\nF = 1/2*H+1/2*B;\nG = 1/2*H+1/2*A;\ndraw((A--B--C--D--A)^^(D--E--C)^^(A--G--F--B)^^(G--E--F));draw((G--H--F)^^(H--E1),gray(0.6));\ndot(H1^^H,linewidth(2));\nlabel(\"$A$\",A,( 0,-1, 0));\nlabel(\"$B$\",B,( 0, 1, 0));\nlabel(\"$C$\",C,( 0, 1, 0));\nlabel(\"$D$\",D,( 0,-1, 0));\nlabel(\"$E$\",E,(-1,-1, 1));\nlabel(\"$F$\",F,( 0, 1, 0));\nlabel(\"$G$\",G,(-1,-1, 1));\nlabel(\"$H$\",H,( 1,-1, 1));\nlabel(\"$H'$\",H1,(-1,-1, 1));\n</asy></center>\n\nLet's put the polyhedron onto a coordinate plane. For simplicity, let the origin be the center of the square: <math>A(-6,6,0)</math>, <math>B(-6,-6,0)</math>, <math>C(6,-6,0)</math> and <math>D(6,6,0)</math>. Since <math>ABFG</math> is an isosceles trapezoid and <math>CDE</math> is an isosceles triangle, we have symmetry about the <math>xz</math>-plane.\n\nTherefore, the <math>y</math>-component of <math>E</math> is 0. We are given that the <math>z</math> component is 12, and it lies over the square, so we must have <math>E(2,0,12)</math> so <math>CE=\\sqrt{4^2+6^2+12^2}=\\sqrt{196}=14</math> (the other solution, <math>E(10,0,12)</math> does not lie over the square). Now let <math>F(a,-3,b)</math> and <math>G(a,3,b)</math>, so <math>FG=6</math> is parallel to <math>\\overline{AB}</math>. We must have <math>BF=8</math>, so <math>(a+6)^2+b^2=8^2-3^2=55</math>.\n\nThe last piece of information we have is that <math>ADEG</math> (and its reflection, <math>BCEF</math>) are faces of the polyhedron, so they must all lie in the same plane. Since we have <math>A</math>, <math>D</math>, and <math>E</math>, we can derive this plane.* Let <math>H</math> be the extension of the intersection of the lines containing <math>\\overline{AG}, \\overline{BF}</math>. It follows that the projection of <math>\\triangle AHB</math> onto the plane <math>x = 6</math> must coincide with the <math>\\triangle CDE'</math>, where <math>E'</math> is the projection of <math>E</math> onto the plane <math>x = 6</math>. <math>\\triangle GHF \\sim \\triangle AHB</math> by a ratio of <math>1/2</math>, so the distance from <math>H</math> to the plane <math>x = -6</math> is <cmath>\\sqrt{\\left(\\sqrt{(2 \\times 8)^2 - 6^2}\\right)^2 - 12^2} = 2\\sqrt{19};</cmath> and by the similarity, the distance from <math>G</math> to the plane <math>x = -6</math> is <math>\\sqrt{19}</math>. The altitude from <math>G</math> to <math>ABCD</math> has height <math>12/2 = 6</math>. By similarity, the x-coordinate of <math>G</math> is <math>-6/2 = -3</math>. Then <math>G = (-6 \\pm \\sqrt{19}, -3, 6)</math>.\n\nNow that we have located <math>G</math>, we can calculate <math>EG^2</math>:\n<cmath>EG^2=(8\\pm\\sqrt{19})^2+3^2+6^2=64\\pm16\\sqrt{19}+19+9+36=128\\pm16\\sqrt{19}.</cmath> Taking the negative root because the answer form asks for it, we get <math>128-16\\sqrt{19}</math>, and <math>128+16+19=\\fbox{163}</math>.\n\n----\n*One may also do this by vectors; <math>\\overrightarrow{AD}\\times\\overrightarrow{DE}=(12,0,0)\\times(-4,-6,12)=(0,-144,-72)=-72(0,2,1)</math>, so the plane is <math>2y+z=2\\cdot6=12</math>. Since <math>G</math> lies on this plane, we must have <math>2\\cdot3+b=12</math>, so <math>b=6</math>. Therefore, <math>a=-6\\pm\\sqrt{55-6^2}=-6\\pm\\sqrt{19}</math>. So <math>G(-6\\pm\\sqrt{19},-3,6)</math>."
  },
  {
    "year": 2002,
    "variant": "II",
    "problem_number": 1,
    "latex": "Given that<br>\n<cmath>\\begin{eqnarray*}&(1)& x\\text{ and }y\\text{ are both integers between 100 and 999, inclusive;}\\qquad \\qquad \\qquad \\qquad \\qquad \\\\\n    &(2)& y\\text{ is the number formed by reversing the digits of }x\\text{; and}\\\\\n    &(3)& z=|x-y|.\n\\end{eqnarray*}</cmath>\n\nHow many distinct values of <math>z</math> are possible?",
    "solution": "We express the numbers as <math>x=100a+10b+c</math> and <math>y=100c+10b+a</math>.  From this, we have \n<cmath>\\begin{eqnarray*}z&=&|100a+10b+c-100c-10b-a|\\\\&=&|99a-99c|\\\\&=&99|a-c|\\\\\n\\end{eqnarray*}</cmath>\nBecause <math>a</math> and <math>c</math> are digits, and <math>a</math> and <math>c</math> are both between 1 and 9 (from condition 1), there are <math>\\boxed{009}</math> possible values (since all digits except <math>9</math> can be expressed this way)."
  },
  {
    "year": 2002,
    "variant": "II",
    "problem_number": 2,
    "latex": "Three [[vertex|vertices]] of a [[cube]] are <math>P=(7,12,10)</math>, <math>Q=(8,8,1)</math>, and <math>R=(11,3,9)</math>. What is the [[surface area]] of the cube?",
    "solution": "<math>PQ=\\sqrt{(8-7)^2+(8-12)^2+(1-10)^2}=\\sqrt{98}</math>\n\n<math>PR=\\sqrt{(11-7)^2+(3-12)^2+(9-10)^2}=\\sqrt{98}</math>\n\n<math>QR=\\sqrt{(11-8)^2+(3-8)^2+(9-1)^2}=\\sqrt{98}</math>\n\nSo, <math>PQR</math> is an equilateral triangle. Let the side of the cube be <math>a</math>.\n\n<math>a\\sqrt{2}=\\sqrt{98}</math>\n\nSo, <math>a=7</math>, and hence the surface area is <math>6a^2=\\framebox{294}</math>."
  },
  {
    "year": 2002,
    "variant": "II",
    "problem_number": 3,
    "latex": "It is given that <math>\\log_{6}a + \\log_{6}b + \\log_{6}c = 6,</math> where <math>a,</math> <math>b,</math> and <math>c</math> are [[positive]] [[integer]]s that form an increasing [[geometric sequence]] and <math>b - a</math> is the [[Perfect square|square]] of an integer. Find <math>a + b + c.</math>",
    "solution": "<math>abc=6^6</math>. Since they form an increasing geometric sequence, <math>b</math> is the [[geometric mean]] of the [[product]] <math>abc</math>. <math>b=\\sqrt[3]{abc}=6^2=36</math>.\n\nSince <math>b-a</math> is the square of an integer, we can find a few values of <math>a</math> that work: <math>11, 20, 27, 32,</math> and <math>35</math>. Out of these, the only value of <math>a</math> that works is <math>a=27</math>, from which we can deduce that <math>c=\\dfrac{36}{27}\\cdot 36=\\dfrac{4}{3}\\cdot 36=48</math>.\n\nThus, <math>a+b+c=27+36+48=\\boxed{111}</math>"
  },
  {
    "year": 2002,
    "variant": "II",
    "problem_number": 4,
    "latex": "Patio blocks that are hexagons <math>1</math> unit on a side are used to outline a garden by placing the blocks edge to edge with <math>n</math> on each side. The diagram indicates the path of blocks around the garden when <math>n=5</math>.\n\n[[Image:AIME 2002 II Problem 4.gif]]\n\nIf <math>n=202</math>, then the area of the garden enclosed by the path, not including the path itself, is <math>m\\left(\\sqrt3/2\\right)</math> square units, where <math>m</math> is a positive integer. Find the remainder when <math>m</math> is divided by <math>1000</math>.",
    "solution": "When <math>n>1</math>, the path of blocks has <math>6(n-1)</math> blocks total in it. When <math>n=1</math>, there is just one lonely block. Thus, the area of the garden enclosed by the path when <math>n=202</math> is\n\n<cmath>(1+6+12+18+\\cdots +1200)A=(1+6(1+2+3...+200))A</cmath>,\n\nwhere <math>A</math> is the area of one block. Then, because <math>n(n+1)/2</math> is equal to the sum of the first <math>n</math> integers:\n\n<cmath>(1+6(1+2+3...+200))=(1+6((200)(201)/2))A=120601A</cmath>.\n\nSince <math>A=\\dfrac{3\\sqrt{3}}{2}</math>, the area of the garden is\n\n<cmath>120601\\cdot \\dfrac{3\\sqrt{3}}{2}=\\dfrac{361803\\sqrt{3}}{2}</cmath>.\n\n<math>m=361803</math>, <math>\\dfrac{m}{1000}=361</math> Remainder <math>\\boxed{803}</math>."
  },
  {
    "year": 2002,
    "variant": "II",
    "problem_number": 5,
    "latex": "Find the sum of all positive integers <math>a=2^n3^m</math> where <math>n</math> and <math>m</math> are non-negative integers, for which <math>a^6</math> is not a divisor of <math>6^a</math>.",
    "solution": "Substitute <math>a=2^n3^m</math> into <math>a^6</math> and <math>6^a</math>, and find all pairs of non-negative integers (n,m) for which <math>(2^n3^m)^{6}</math> is not a divisor of <math>6^{2^n3^m}</math>\n\nSimplifying both expressions:\n\n<math>2^{6n} \\cdot 3^{6m}</math> is not a divisor of <math>2^{2^n3^m} \\cdot 3^{2^n3^m}</math>\n\nComparing both exponents (noting that there must be either extra powers of 2 or extra powers of 3 in the left expression):\n\n<math>6n > 2^n3^m</math>  OR  <math>6m > 2^n3^m</math>\n\n\nUsing the first inequality <math>6n > 2^n3^m</math> and going case by case starting with n <math>\\in</math> {0, 1, 2, 3...}:\n\nn=0:\n<math>0>1 \\cdot 3^m</math> which has no solution for non-negative integers m \n\nn=1:\n<math>6 > 2 \\cdot 3^m</math> which is true for m=0 but fails for higher integers <math>\\Rightarrow (1,0)</math>\n\nn=2:\n<math>12 > 4 \\cdot 3^m</math> which is true for m=0 but fails for higher integers <math>\\Rightarrow (2,0)</math>\n\nn=3:\n<math>18 > 8 \\cdot 3^m</math> which is true for m=0 but fails for higher integers <math>\\Rightarrow (3,0)</math>\n\nn=4:\n<math>24 > 16 \\cdot 3^m</math> which is true for m=0 but fails for higher integers <math>\\Rightarrow (4,0)</math>\n\nn=5:\n<math>30 > 32 \\cdot 3^m</math> which has no solution for non-negative integers m \n\nThere are no more solutions for higher <math>n</math>, as polynomials like <math>6n</math> grow slower than exponentials like <math>2^n</math>.\n\n\n\nUsing the second inequality <math>6m > 2^n3^m</math> and going case by case starting with m <math>\\in</math> {0, 1, 2, 3...}:\n\nm=0:\n<math>0>2^n \\cdot 1</math> which has no solution for non-negative integers n \n\nm=1:\n<math>6>2^n \\cdot 3</math> which is true for n=0 but fails for higher integers <math>\\Rightarrow (0,1)</math>\n\nm=2:\n<math>12>2^n \\cdot 9</math> which is true for n=0 but fails for higher integers <math>\\Rightarrow (0,2)</math>\n\nm=3:\n<math>18>2^n \\cdot 27</math> which has no solution for non-negative integers n \n\nThere are no more solutions for higher <math>m</math>, as polynomials like <math>6m</math> grow slower than exponentials like <math>3^m</math>.\n\n\nThus there are six numbers corresponding to (1,0), (2,0), (3,0), (4,0), (0,1), and (0,2).  \nPlugging them back into the original expression, these numbers are 2, 4, 8, 16, 3, and 9, respectively.  Their sum is <math>\\framebox{042}</math>."
  },
  {
    "year": 2002,
    "variant": "II",
    "problem_number": 6,
    "latex": "Find the integer that is closest to <math>1000\\sum_{n=3}^{10000}\\frac1{n^2-4}</math>.",
    "solution": "We know that <math>\\frac{1}{n^2 - 4} = \\frac{1}{(n+2)(n-2)}</math>. We can use the process of fractional decomposition to split this into two fractions: <math>\\frac{1}{(n+2)(n-2)} = \\frac{A}{(n+2)} + \\frac{B}{(n-2)}</math> for some A and B. \n\nSolving for A and B gives <math>1 = (n-2)A + (n+2)B</math> or <math>1 = n(A+B)+ 2(B-A)</math>. Since there is no n term on the left hand side, <math> A+B=0</math> and by inspection <math>1 = 2(B-A)</math>. Solving yields <math> A=\\frac{-1}{4},  B=\\frac{1}{4}</math>\n\nTherefore, <math>\\frac{1}{n^2-4} = \\frac{1}{(n+2)(n-2)} = \\frac{ \\frac{1}{4} }{(n-2)} + \\frac{ \\frac{-1}{4} }{(n+2)} = \\frac{1}{4} \\left( \\frac{1}{n-2} - \\frac{1}{n+2} \\right)</math>.\n\nAnd so, <math>1000\\sum_{n=3}^{10,000} \\frac{1}{n^2-4} = 1000\\sum_{n=3}^{10,000} \\frac{1}{4} \\left( \\frac{1}{n-2} - \\frac{1}{n+2} \\right) = 250\\sum_{n=3}^{10,000} (\\frac{1}{n-2} - \\frac{1}{n + 2})</math>.\n\nThis telescopes into:\n\n<math>250 (1 + \\frac{1}{2} + \\frac{1}{3} + \\frac{1}{4} - \\frac{1}{9999} - \\frac{1}{10000} - \\frac{1}{10001} - \\frac{1}{10002}) = 250 + 125 + 83.3 + 62.5 - 250 (\\frac{1}{9999} + \\frac{1}{10000} + \\frac{1}{10001} + \\frac{1}{10002})</math>\n\nThe small fractional terms are not enough to bring <math>520.8</math> lower than <math>520.5,</math>  so the answer is <math>\\fbox{521}</math>"
  },
  {
    "year": 2002,
    "variant": "II",
    "problem_number": 7,
    "latex": "It is known that, for all positive integers <math>k</math>,\n<center><math>1^2+2^2+3^2+\\ldots+k^{2}=\\frac{k(k+1)(2k+1)}6</math>.</center>\nFind the smallest positive integer <math>k</math> such that <math>1^2+2^2+3^2+\\ldots+k^2</math> is a multiple of <math>200</math>.",
    "solution": "Using the given formula, we require <math>\\frac{k(k+1)(2k+1)}{6}</math> to be a multiple of <math>200</math>, i.e. <math>k(k+1)(2k+1)</math> to be a multiple of <math>200 \\cdot 6 = 1200 = 2^4 \\cdot 3 \\cdot 5^2</math>. This is equivalent to <math>k(k+1)(2k+1)</math> being divisible by each of these factors (<math>2^4 = 16</math>, <math>3</math>, and <math>5^2 = 25</math>) separately, since they are coprime.\n\nThus, for divisibility by <math>16</math>, we observe that <math>(2k+1)</math> is necessarily odd, while exactly one of <math>k</math> and <math>(k+1)</math> is even. It follows that the (at least) <math>4</math> factors of <math>2</math> must be either all contained in <math>k</math>, or all contained in <math>(k+1)</math>, yielding <math>k \\equiv 0 \\pmod{16}</math> or <math>k+1 \\equiv 0 \\pmod{16}</math> respectively. This reduces to <math>k \\in \\left\\{0,15\\right\\} \\pmod{16}</math>.\n\nNext, if <math>k \\equiv 0 \\pmod{3}</math>, then obviously <math>k(k+1)(2k+1)</math> will be divisible by 3; otherwise, we will have either <math>k \\equiv 1 \\pmod{3}</math>, giving <math>2k+1 \\equiv 2 \\cdot 1 + 1 \\equiv 3 \\equiv 0 \\pmod{3}</math>, or <math>k \\equiv 2 \\pmod{3}</math>, giving <math>k+1 \\equiv 2+1 \\equiv 3 \\equiv 0 \\pmod{3}</math>. Hence <math>k(k+1)(2k+1)</math> is in fact always divisible by <math>3</math>, regardless of the value of <math>k</math>.\n\nSimilarly, considering the cases <math>k \\equiv 0,1,2,3,4 \\pmod{5}</math> in turn, the residues modulo <math>5</math> of <math>k</math>, <math>(k+1)</math>, and <math>(2k+1)</math> respectively are <math>0,1,1</math>; <math>1,2,3</math>; <math>2,3,0</math>; <math>3,4,2</math>; and <math>4,0,4</math>. As <math>0</math> never appears more than once in any of these cases, we deduce that at most one of <math>k</math>, <math>(k+1)</math>, and <math>(2k+1)</math> is divisible by 5. Analogously to above, it follows that the (at least) <math>2</math> factors of <math>5</math> must be either all contained in <math>k</math>, all contained in <math>(k+1)</math>, or all contained in <math>(2k+1)</math>. These respectively give <math>k,k+1,2k+1 \\equiv 0 \\pmod{25}</math>, which reduces to <math>k \\in \\left\\{0,12,24\\right\\} \\pmod{25}</math>. \n\nAccordingly, as there are <math>2</math> possible residues for <math>k</math> modulo <math>16</math> and <math>3</math> possible residues modulo <math>25</math>, we obtain a total of <math>2 \\cdot 3 = 6</math> pairs of simultaneous congruences. By the [[Chinese Remainder Theorem|Chinese remainder theorem]], as <math>16</math> and <math>25</math> are coprime, each pair has a unique solution modulo <math>16 \\cdot 25 = 400</math>, which we can easily calculate by simply writing out the solutions of the first congruence, then checking whether each of them also satisfies the second congruence.\n\nFor instance, to solve <math>k \\equiv 0 \\pmod{16}</math>, <math>k \\equiv 12 \\pmod{25}</math>, we can write out the positive multiples of <math>16</math> (to satisfy the first congruence, together with the fact that <math>k > 0</math>), then subtract <math>12</math> from each, until we find a multiple of <math>16</math> for which this subtraction gives a multiple of <math>25</math>. As it turns out, <math>16 \\cdot 7 = 112</math> and <math>112-12 = 100 = 25 \\cdot 4</math>, so the solution of this pair is precisely <math>k \\equiv 112 \\pmod{400}</math>. By applying this algorithm to each of the remaining pairs of congruences, we eventually obtain the complete solution <math>k \\in \\left\\{0,112,175,224,287,399\\right\\} \\pmod{400}</math>, so the smallest possible positive value of <math>k</math> is <math>\\boxed{112}</math>."
  },
  {
    "year": 2002,
    "variant": "II",
    "problem_number": 8,
    "latex": "Find the least positive integer <math>k</math> for which the equation <math>\\left\\lfloor\\frac{2002}{n}\\right\\rfloor=k</math> has no integer solutions for <math>n</math>. (The notation <math>\\lfloor x\\rfloor</math> means the greatest integer less than or equal to <math>x</math>.)",
    "solution": "===Solution 1===\nNote that if <math>\\frac{2002}n - \\frac{2002}{n+1}\\leq 1</math>, then either <math>\\left\\lfloor\\frac{2002}{n}\\right\\rfloor=\\left\\lfloor\\frac{2002}{n+1}\\right\\rfloor</math>,\nor <math>\\left\\lfloor\\frac{2002}{n}\\right\\rfloor=\\left\\lfloor\\frac{2002}{n+1}\\right\\rfloor+1</math>. Either way, we won't skip any natural numbers.\n\nThe greatest <math>n</math> such that <math>\\frac{2002}n - \\frac{2002}{n+1} > 1</math> is <math>n=44</math>. (The inequality simplifies to <math>n(n+1)<2002</math>, which is easy to solve by trial, as the solution is obviously <math>\\simeq \\sqrt{2002}</math>.)\n\n\nWe can now compute:\n<cmath>\\left\\lfloor\\frac{2002}{45}\\right\\rfloor=44 </cmath>\n<cmath>\\left\\lfloor\\frac{2002}{44}\\right\\rfloor=45 </cmath>\n<cmath>\\left\\lfloor\\frac{2002}{43}\\right\\rfloor=46 </cmath>\n<cmath>\\left\\lfloor\\frac{2002}{42}\\right\\rfloor=47 </cmath>\n<cmath>\\left\\lfloor\\frac{2002}{41}\\right\\rfloor=48 </cmath>\n<cmath>\\left\\lfloor\\frac{2002}{40}\\right\\rfloor=50 </cmath>\n\nFrom the observation above (and the fact that <math>\\left\\lfloor\\frac{2002}{2002}\\right\\rfloor=1</math>) we know that all integers between <math>1</math> and <math>44</math> will be achieved for some values of <math>n</math>. Similarly, for <math>n<40</math> we obviously have <math>\\left\\lfloor\\frac{2002}{n}\\right\\rfloor > 50</math>.\n\nHence the least positive integer <math>k</math> for which the equation <math>\\left\\lfloor\\frac{2002}{n}\\right\\rfloor=k</math> has no integer solutions for <math>n</math> is <math>\\boxed{049}</math>.\n\n====Note====\n\nAfter getting that <math>\\left\\lfloor\\frac{2002}{45}\\right\\rfloor=44</math>, for ease of computation above, we can use the fact that <math>(40+k)(49-k)</math> varies solely based on <math>k^2</math> and checking these gives us that the pattern fails at <math>k=0</math> giving us <math>\\boxed{049}</math> as the answer.\n\n~Dhillonr25\n\n===Solution 2===\nRewriting the given information and simplifying it a bit, we have\n<cmath> \\begin{align*} \nk \\le \\frac{2002}{n} < k+1 &\\implies \\frac{1}{k} \\ge \\frac{n}{2002} > \\frac{1}{k+1}. \\\\ &\\implies \\frac{2002}{k} \\ge n > \\frac{2002}{k+1}.  \n\\end{align*} </cmath>\n\nNow note that in order for there to be no integer solutions to <math>n,</math> we must have <math>\\left\\lfloor \\frac{2002}{k} \\right\\rfloor = \\left\\lfloor \\frac{2002}{k+1} \\right\\rfloor.</math> We seek the smallest such <math>k.</math> A bit of experimentation yields that <math>k=49</math> is the smallest solution, as for <math>k=49,</math> it is true that <math>\\left\\lfloor \\frac{2002}{49} \\right\\rfloor = \\left\\lfloor \\frac{2002}{50} \\right\\rfloor = 40.</math> Furthermore, <math>k=49</math> is the smallest such case. (If unsure, we could check if the result holds for <math>k=48,</math> and as it turns out, it doesn't.) Therefore, the answer is <math>\\boxed{049}.</math>\n\n===Solution 3===\nIn this solution we use inductive reasoning and a lot of trial and error. Depending on how accurately you can estimate, the solution will come quicker or slower.\n\nUsing values of <math>k</math> as <math>1, 2, 3, 4,</math> and <math>5,</math> we can find the corresponding values of <math>n</math> relatively easily. For <math>k = 1</math>, <math>n</math> is in the range <math>[2002-1002]</math>; for <math>k = 2</math>, <math>n</math> is the the range <math>[1001-668]</math>, etc: <math>3, [667,501]; 4, [500-401]; 5, [400-334]</math>. For any positive integer <math>k, n</math> is in a range of <math>\\left\\lfloor \\frac{2002}{k} \\right\\rfloor -\\left\\lceil \\frac{2002}{k+1} \\right\\rceil</math>.\n\nNow we try testing <math>k = 1002</math> to get a better understanding of what our solution will look like. Obviously, there will be no solution for <math>n</math>, but we are more interested in how the range will compute to. Using the formula we got above, the range will be <math>1-2</math>. Testing any integer <math>k</math> from <math>1002-2000</math> will result in the same range. Also, notice that each and every one of them have no solution for <math>n</math>. Testing <math>1001</math> gives a range of <math>2-2</math>, and <math>2002</math> gives <math>1-1</math>. They each have a solution for <math>n</math>, and their range is only one value. Therefore, we can assume with relative safety that the integer <math>k</math> we want is the lowest integer that follows this equation\n\n<cmath>\\left\\lfloor\\frac{2002}{k}\\right\\rfloor + 1 = \\left\\lceil \\frac{2002}{k+1}\\right\\rceil</cmath>\n\nNow we can easily guess and check starting from <math>k = 1</math>. After a few tests it's not difficult to estimate a few jumps, and it took me only a few minutes to realize the answer was somewhere in the forties (You could also use the fact that <math>45^2=2025</math>). Then it's just a matter of checking them until we get <math>\\boxed{049}</math>.\nAlternatively, you could use the equation above and proceed with one of the other two solutions listed.\n\n\n-jackshi2006\n\nEdited and <math>\\LaTeX</math>ed by PhunsukhWangdu\n\n===Solution 4===\n\nHere is an intuitive way to approximate the answer is around <math>45</math>: For the function \n<math>f(n)=\\frac{2002}{n}</math> \nits derivative is \n<math>-\\frac{2002}{n^2}</math>,\nwhich should be close to <math>-1</math> because we need to find the smallest skipped integer. The rest of the steps are the same as Solution 1.\n\n-maxamc"
  },
  {
    "year": 2002,
    "variant": "II",
    "problem_number": 9,
    "latex": "Let <math>\\mathcal{S}</math> be the [[set]] <math>\\lbrace1,2,3,\\ldots,10\\rbrace</math>. Let <math>n</math> be the number of sets of two non-empty disjoint subsets of <math>\\mathcal{S}</math>. (Disjoint sets are defined as sets that have no common elements.) Find the remainder obtained when <math>n</math> is divided by <math>1000</math>.",
    "solution": "Let the two disjoint subsets be <math>A</math> and <math>B</math>, and define <math>C = \\mathcal{S}\\setminus\\left(A \\cup B\\right)</math> (so <math>C</math> is disjoint from both <math>A</math> and <math>B</math>, and every element of <math>\\mathcal{S}</math>, if not contained in <math>A</math> or <math>B</math>, is necessarily contained in <math>C</math>). This means every element <math>s \\in \\mathcal{S}</math> satisfies exactly one of <math>s \\in A</math>, <math>s \\in B</math>, or <math>s \\in C</math>, i.e. for each of the <math>10</math> elements, we have to independently choose <math>1</math> of these <math>3</math> subsets into which to place it. Hence there are a total of <math>3^{10}</math> ways to partition <math>\\mathcal{S}</math> into disjoint subsets <math>A</math>, <math>B</math>, and <math>C</math>. \n\nHowever, we must exclude those partitions in which <math>A</math> or <math>B</math> (or both) is empty. If <math>A = \\emptyset</math>, and thus <math>\\mathcal{S} = B \\cup C</math>, then we have to place each of the <math>10</math> elements of <math>\\mathcal{S}</math> into either <math>B</math> or <math>C</math>, giving <math>2^{10}</math> such partitions (similarly to above). By symmetry, the case where <math>B = \\emptyset</math> and <math>\\mathcal{S} = A \\cup C</math> also gives <math>2^{10}</math> partitions, so we need to subtract <math>2^{10}</math> twice from <math>3^{10}</math>. But then the partition <math>A = B = \\emptyset, \\mathcal{S} = C</math>, which falls within ''both'' of the above <math>2</math> cases, would be double-counted in the subtraction, so we must add it back. \n\nAccordingly, there are <math>\\left(3^{10}-2\\cdot2^{10}+1\\right)</math> possible ordered pairs <math>(A,B)</math> (or equivalently, partitions <math>A,B,C</math>). Each pair has <math>2</math> possible orders (as <math>A</math> and <math>B</math>, being disjoint, obviously cannot be the same), so the above expression counts each ''unordered'' set <math>\\left\\{A,B\\right\\}</math> exactly twice. Thus, finally, we deduce that <math>n = \\frac{1}{2}\\left(3^{10}-2\\cdot2^{10}+1\\right) = 28501 \\equiv \\boxed{501} \\pmod{1000}</math>."
  },
  {
    "year": 2002,
    "variant": "II",
    "problem_number": 10,
    "latex": "While finding the sine of a certain angle, an absent-minded professor failed to notice that his calculator was not in the correct angular mode. He was lucky to get the right answer. The two least positive real values of <math>x</math> for which the sine of <math>x</math> degrees is the same as the sine of <math>x</math> radians are <math>\\frac{m\\pi}{n-\\pi}</math> and <math>\\frac{p\\pi}{q+\\pi}</math>, where <math>m</math>, <math>n</math>, <math>p</math>, and <math>q</math> are positive integers. Find <math>m+n+p+q</math>.",
    "solution": "Note that <math>x</math> degrees is equal to <math>\\frac{\\pi x}{180}</math> radians. Also, for <math>\\alpha \\in \\left[0 , \\frac{\\pi}{2} \\right]</math>, the two least positive angles <math>\\theta > \\alpha</math> such that <math>\\sin{\\theta} = \\sin{\\alpha}</math> are <math>\\theta = \\pi-\\alpha</math>, and <math>\\theta = 2\\pi + \\alpha</math>. \n\nClearly <math>x > \\frac{\\pi x}{180}</math> for positive real values of <math>x</math>. \n\n<math>\\theta = \\pi-\\alpha</math> yields: <math>x = \\pi - \\frac{\\pi x}{180} \\Rightarrow x = \\frac{180\\pi}{180+\\pi} \\Rightarrow (p,q) = (180,180)</math>. \n\n<math>\\theta = 2\\pi + \\alpha</math> yields: <math>x = 2\\pi + \\frac{\\pi x}{180} \\Rightarrow x = \\frac{360\\pi}{180-\\pi} \\Rightarrow (m,n) = (360,180)</math>. \n\nSo, <math>m+n+p+q = \\boxed{900}</math>."
  },
  {
    "year": 2002,
    "variant": "II",
    "problem_number": 11,
    "latex": "Two distinct, real, infinite geometric series each have a sum of <math>1</math> and have the same second term. The third term of one of the series is <math>1/8</math>, and the second term of both series can be written in the form <math>\\frac{\\sqrt{m}-n}p</math>, where <math>m</math>, <math>n</math>, and <math>p</math> are positive integers and <math>m</math> is not divisible by the square of any prime. Find <math>100m+10n+p</math>.",
    "solution": "Let the second term of each series be <math>x</math>. Then, the common ratio is <math>\\frac{1}{8x}</math>, and the first term is <math>8x^2</math>. \n\nSo, the sum is <math>\\frac{8x^2}{1-\\frac{1}{8x}}=1</math>. Thus, <math>64x^3-8x+1 = (4x-1)(16x^2+4x-1) = 0 \\Rightarrow x = \\frac{1}{4}, \\frac{-1 \\pm \\sqrt{5}}{8}</math>. \n\nThe only solution in the appropriate form is <math>x = \\frac{\\sqrt{5}-1}{8}</math>. Therefore, <math>100m+10n+p = \\boxed{518}</math>."
  },
  {
    "year": 2002,
    "variant": "II",
    "problem_number": 12,
    "latex": "A basketball player has a constant probability of <math>.4</math> of making any given shot, independent of previous shots. Let <math>a_n</math> be the ratio of shots made to shots attempted after <math>n</math> shots. The probability that <math>a_{10} = .4</math> and <math>a_n\\le.4</math> for all <math>n</math> such that <math>1\\le n\\le9</math> is given to be <math>p^aq^br/\\left(s^c\\right)</math> where <math>p</math>, <math>q</math>, <math>r</math>, and <math>s</math> are primes, and <math>a</math>, <math>b</math>, and <math>c</math> are positive integers. Find <math>\\left(p+q+r+s\\right)\\left(a+b+c\\right)</math>.",
    "solution": "=== Solution 1 ===\nWe graph the <math>10</math> shots on a grid. Suppose that a made shot is represented by a step of <math>(0,1)</math>, and a missed shot is represented by <math>(1,0)</math>. Then the basketball player's shots can be represented by the number of paths from <math>(0,0)</math> to <math>(6,4)</math> that always stay below the line <math>y=\\frac{2x}{3}</math>. We can find the number of such paths using a Pascal's Triangle type method below, computing the number of paths to each point that only move right and up.\n<asy>\nsize(150);\nfor (int i=0;i<7;++i) {draw((i,0)--(i,4));}\nfor (int i=0;i<5;++i) {draw((0,i)--(6,i));}\ndraw((0,0)--(6,4),dashed);\nlabel(\"$1$\",(0,0),SE,fontsize(8));\nlabel(\"$1$\",(1,0),SE,fontsize(8));\nlabel(\"$1$\",(2,0),SE,fontsize(8));\nlabel(\"$1$\",(2,1),SE,fontsize(8));\nlabel(\"$1$\",(3,0),SE,fontsize(8));\nlabel(\"$2$\",(3,1),SE,fontsize(8));\nlabel(\"$2$\",(3,2),SE,fontsize(8));\nlabel(\"$1$\",(4,0),SE,fontsize(8));\nlabel(\"$3$\",(4,1),SE,fontsize(8));\nlabel(\"$5$\",(4,2),SE,fontsize(8));\nlabel(\"$1$\",(5,0),SE,fontsize(8));\nlabel(\"$4$\",(5,1),SE,fontsize(8));\nlabel(\"$9$\",(5,2),SE,fontsize(8));\nlabel(\"$9$\",(5,3),SE,fontsize(8));\nlabel(\"$1$\",(6,0),SE,fontsize(8));\nlabel(\"$5$\",(6,1),SE,fontsize(8));\nlabel(\"$14$\",(6,2),SE,fontsize(8));\nlabel(\"$23$\",(6,3),SE,fontsize(8));\nlabel(\"$23$\",(6,4),SE,fontsize(8));\n</asy>\nTherefore, there are <math>23</math> ways to shoot <math>4</math> makes and <math>6</math> misses under the given conditions. The probability of each possible sequence occurring is <math>(.4)^4(.6)^6</math>. Hence the desired probability is\n<cmath>\\frac{23\\cdot 2^4\\cdot 3^6}{5^{10}},</cmath>\nand the answer is <math>(23+2+3+5)(4+6+10)=\\boxed{660}</math>.\n\n=== Solution 2 ===\nThe first restriction is that <math>a_{10} = .4</math>, meaning that the player gets exactly 4 out of 10 baskets.  The second restriction is <math>a_n\\le.4</math>.  This means that the player may never have a shooting average over 40%.  Thus, the first and second shots must fail, since <math>\\frac{1}{1}</math> and <math>\\frac{1}{2}</math> are both over <math>.4</math>, but the player may make the third basket, since <math>\\frac{1}{3} \\le .4</math>  In other words, the earliest the first basket may be made is attempt 3.  Using similar reasoning, the earliest the second basket may be made is attempt 5, the earliest the third basket may be made is attempt 8, and the earliest the fourth basket may be made is attempt 10.\n\nUsing X to represent a basket and O to represent a failure, this 'earliest' solution may be represented as:\n\nOOXOXOOXOX\n\nTo simplify counting, note that the first, second, and tenth shots are predetermined.  The first two shots must fail, and the last shot must succeed.  Thus, only slots 3-9 need to be counted, and can be abbreviated as follows:\n\nXOXOOXO\n\nThe problem may be separated into five cases, since the first shot may be made on attempt 3, 4, 5, 6, or 7.  The easiest way to count the problem is to remember that each X may slide to the right, but NOT to the left.\n\nFirst shot made on attempt 3:\n\nXOXOOXO\n\nXOXOOOX\n\nXOOXOXO\n\nXOOXOOX\n\nXOOOXXO\n\nXOOOXOX\n\nXOOOOXX\n\n'''Total - 7'''\n\nFirst shot made on attempt 4:\n\nNote that all that needs to be done is change each line in the prior case from starting with \"XO.....\" to \"OX.....\".\n\n'''Total - 7'''\n\nFirst shot made on attempt 5:\n\nOOXXOXO\n\nOOXXOOX\n\nOOXOXXO\n\nOOXOXOX\n\nOOXOOXX\n\n'''Total - 5'''\n\nFirst shot made on attempt 6:\n\nOOOXXXO\n\nOOOXXOX\n\nOOOXOXX\n\n'''Total - 3'''\n\nFirst shot made on attempt 7:\n\nOOOOXXX\n\n'''Total - 1'''\n\nThe total number of ways the player may satisfy the requirements is <math>7+7+5+3+1=23</math>.\n\nThe chance of hitting any individual combination (say, for example, OOOOOOXXXX) is <math>\\left(\\frac{3}{5}\\right)^6\\left(\\frac{2}{5}\\right)^4</math>\n\nThus, the chance of hitting any of these 23 combinations is <math>23\\left(\\frac{3}{5}\\right)^6\\left(\\frac{2}{5}\\right)^4 = \\frac{23\\cdot3^6\\cdot2^4}{5^{10}}</math>\n\nThus, the final answer is <math>(23+3+2+5)(6+4+10)=\\boxed{660}</math>\n\n=== Solution 3 ===\nNote <math>a_{10}=.4</math>. Therefore the player made 4 shots out of 10. He must make the 10th shot, because if he doesn't, then <math>a_9=\\frac{4}{9}>.4</math>. Since <math>a_n\\leq .4</math> for all <math>n</math> less than 11, we know that <math>a_1=a_2=0</math>. Now we must look at the 3rd through 9th shot.\n\nNow let's take a look at those un-determined shots. Let's put them into groups: the 3rd, 4th, and 5th shots in group A, and the 6th, 7th, 8th, and 9th shots in group B. The total number of shots made in groups A and B must be 3, since the player makes the 10th shot. We cannot have all three shots made in group A, since <math>a_5\\leq .4</math>. Therefore we can have two shots made, one shot made, or no shots made in group A.\n\n'''Case 1: Group A contains no made shots.'''\n\nThe number of ways this can happen in group A is 1. Now we must arrange the shots in group B accordingly. There are four ways to arrange them total, and all of them work. There are <math>\\textbf{4}</math> possibilities here.\n\n'''Case 2: Group A contains one made shot.'''\n\nThe number of ways this could happen in group A is 3.  Now we must arrange the shots in group B accordingly. There are six ways to arrange them total, but the arrangement \"hit hit miss miss\" fails, because that would mean <math>a_7=\\frac{3}{7}>.4</math>. All the rest work. Therefore there are <math>3\\cdot5=\\textbf{15}</math> possibilities here.\n\n'''Case 3: Group A contains two made shots.'''\n\nThe number of ways this could happen in group A is 2 (hit hit miss doesn't work but the rest do). Now we must arrange the shots in group B accordingly. Note hit miss miss miss and miss hit miss miss fail. Therefore there are only 2 ways to do this, and there are <math>2\\cdot 2=\\textbf{4}</math> total possibilities for this case.\n\n\nTaking all these cases into account, we find that there are <math>4+15+4=23</math> ways to have <math>a_{10} = .4</math> and <math>a_n\\leq .4</math>. Each of these has a probability of <math>.4^4\\cdot.6^6=\\frac{2^4\\cdot 3^6}{5^{10}}</math>. Therefore the probability that we have <math>a_{10} = .4</math> and <math>a_n\\leq .4</math> is <math>\\frac{23\\cdot2^4\\cdot3^6}{5^{10}}</math>. Now we are asked to find the product of the sum of the primes and the sum of the exponents, which is <math>(23+2+3+5)(4+6+10)=33\\cdot20=\\boxed{660}</math>."
  },
  {
    "year": 2002,
    "variant": "II",
    "problem_number": 13,
    "latex": "In triangle <math>ABC,</math> point <math>D</math> is on <math>\\overline{BC}</math> with <math>CD = 2</math> and <math>DB = 5,</math> point <math>E</math> is on <math>\\overline{AC}</math> with <math>CE = 1</math> and <math>EA = 3,</math> <math>AB = 8,</math> and <math>\\overline{AD}</math> and <math>\\overline{BE}</math> intersect at <math>P.</math> Points <math>Q</math> and <math>R</math> lie on <math>\\overline{AB}</math> so that <math>\\overline{PQ}</math> is parallel to <math>\\overline{CA}</math> and <math>\\overline{PR}</math> is parallel to <math>\\overline{CB}.</math> It is given that the ratio of the area of triangle <math>PQR</math> to the area of triangle <math>ABC</math> is <math>m/n,</math> where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m + n</math>.",
    "solution": "Let <math>X</math> be the intersection of <math>\\overline{CP}</math> and <math>\\overline{AB}</math>. \n\n<asy>\nsize(10cm);\npair A,B,C,D,E,X,P,Q,R; \nA=(0,0); \nB=(8,0); \nC=(1.9375,3.4994); \nD=(3.6696,2.4996); \nE=(1.4531,2.6246); \nX=(4.3636,0); \nP=(2.9639,2.0189); \nQ=(1.8462,0); \nR=(6.4615,0); \ndot(A);\ndot(B);\ndot(C);\ndot(D);\ndot(E);\ndot(X);\ndot(P);\ndot(Q);\ndot(R);\nlabel(\"$A$\",A,WSW);\nlabel(\"$B$\",B,ESE);\nlabel(\"$C$\",C,NNW);\nlabel(\"$D$\",D,NE);\nlabel(\"$E$\",E,WNW);\nlabel(\"$X$\",X,SSE);\nlabel(\"$P$\",P,NNE);\nlabel(\"$Q$\",Q,SSW);\nlabel(\"$R$\",R,SE);\ndraw(A--B--C--cycle);\ndraw(P--Q--R--cycle);\ndraw(A--D);\ndraw(B--E);\ndraw(C--X);\n</asy>\n\nSince <math>\\overline{PQ} \\parallel \\overline{CA}</math> and <math>\\overline{PR} \\parallel \\overline{CB}</math>, <math>\\angle CAB = \\angle PQR</math> and <math>\\angle CBA = \\angle PRQ</math>. So <math>\\Delta ABC \\sim \\Delta QRP</math>, and thus, <math>\\frac{[\\Delta PQR]}{[\\Delta ABC]} = \\left(\\frac{PX}{CX}\\right)^2</math>. \n\nUsing [[mass points]]: \n\n[[WLOG]], let <math>W_C=15</math>. \n\nThen: \n\n<math>W_A = \\left(\\frac{CE}{AE}\\right)W_C = \\frac{1}{3}\\cdot15=5</math>.\n\n<math>W_B = \\left(\\frac{CD}{BD}\\right)W_C = \\frac{2}{5}\\cdot15=6</math>. \n\n<math>W_X=W_A+W_B=5+6=11</math>. \n\n<math>W_P=W_C+W_X=15+11=26</math>. \n\nThus, <math>\\frac{PX}{CX}=\\frac{W_C}{W_P}=\\frac{15}{26}</math>. Therefore, <math>\\frac{[\\Delta PQR]}{[\\Delta ABC]} = \\left( \\frac{15}{26} \\right)^2 = \\frac{225}{676}</math>, and <math>m+n=\\boxed{901}</math>. Note we can just use mass points to get  <math>\\left( \\frac{15}{26} \\right)^2= \\frac{225}{676}</math> which is <math>\\boxed{901}</math>."
  },
  {
    "year": 2002,
    "variant": "II",
    "problem_number": 14,
    "latex": "The [[perimeter]] of triangle <math>APM</math> is <math>152</math>, and the angle <math>PAM</math> is a [[right angle]]. A [[circle]] of [[radius]] <math>19</math> with center <math>O</math> on <math>\\overline{AP}</math> is drawn so that it is [[Tangent (geometry)|tangent]] to <math>\\overline{AM}</math> and <math>\\overline{PM}</math>. Given that <math>OP=m/n</math> where <math>m</math> and <math>n</math> are [[relatively prime]] positive integers, find <math>m+n</math>.",
    "solution": "Let the circle intersect <math>\\overline{PM}</math> at <math>B</math>. Then note <math>\\triangle OPB</math> and <math>\\triangle MPA</math> are similar. Also note that <math>AM = BM</math> by [[power of a point]]. Using the fact that the ratio of corresponding sides in similar triangles is equal to the ratio of their perimeters, we have\n<cmath>\\frac{19}{AM} = \\frac{152-2AM-19+19}{152} = \\frac{152-2AM}{152}</cmath>\nSolving, <math>AM = 38</math>. So the ratio of the side lengths of the triangles is 2. Therefore,\n<cmath>\\frac{PB+38}{OP}= 2 \\text{ and } \\frac{OP+19}{PB} = 2</cmath>\nso <math>2OP = PB+38</math> and <math>2PB = OP+19.</math> Substituting for <math>PB</math>, we see that <math>4OP-76 = OP+19</math>, so <math>OP = \\frac{95}3</math> and the answer is <math>\\boxed{098}</math>."
  },
  {
    "year": 2002,
    "variant": "II",
    "problem_number": 15,
    "latex": "Circles <math>\\mathcal{C}_{1}</math> and <math>\\mathcal{C}_{2}</math> intersect at two points, one of which is <math>(9,6)</math>, and the product of the radii is <math>68</math>. The x-axis and the line <math>y = mx</math>, where <math>m > 0</math>, are tangent to both circles. It is given that <math>m</math> can be written in the form <math>a\\sqrt {b}/c</math>, where <math>a</math>, <math>b</math>, and <math>c</math> are positive integers, <math>b</math> is not divisible by the square of any prime, and <math>a</math> and <math>c</math> are relatively prime. Find <math>a + b + c</math>.",
    "solution": "Let the smaller angle between the <math>x</math>-axis and the line <math>y=mx</math> be <math>\\theta</math>. Note that the centers of the two circles lie on the angle bisector of the angle between the <math>x</math>-axis and the line <math>y=mx</math>. Also note that if <math>(x,y)</math> is on said angle bisector, we have that <math>\\frac{y}{x}=\\tan{\\frac{\\theta}{2}}</math>.  Let <math>\\tan{\\frac{\\theta}{2}}=m_1</math>, for convenience. Therefore if <math>(x,y)</math> is on the angle bisector, then <math>x=\\frac{y}{m_1}</math>. Now let the centers of the two relevant circles be <math>(a/m_1 , a)</math> and <math>(b/m_1 , b)</math> for some positive reals <math>a</math> and <math>b</math>. These two circles are tangent to the <math>x</math>-axis, so the radii of the circles are <math>a</math> and <math>b</math> respectively. We know that the point <math>(9,6)</math> is a point on both circles, so we have that\n\n<cmath>(9-\\frac{a}{m_1})^2+(6-a)^2=a^2</cmath>\n\n<cmath>(9-\\frac{b}{m_1})^2+(6-b)^2=b^2</cmath>\n\nExpanding these and manipulating terms gives\n\n<cmath>\\frac{1}{m_1^2}a^2-[(18/m_1)+12]a+117=0</cmath>\n\n<cmath>\\frac{1}{m_1^2}b^2-[(18/m_1)+12]b+117=0</cmath>\n\nIt follows that <math>a</math> and <math>b</math> are the roots of the quadratic\n\n<cmath>\\frac{1}{m_1^2}x^2-[(18/m_1)+12]x+117=0</cmath>\n\nIt follows from Vieta's Formulas that the product of the roots of this quadratic is <math>117m_1^2</math>, but we were also given that the product of the radii was 68. Therefore <math>68=117m_1^2</math>, or <math>m_1^2=\\frac{68}{117}</math>. Note that the half-angle formula for tangents is\n\n<cmath>\\tan{\\frac{\\theta}{2}}=\\sqrt{\\frac{1-\\cos{\\theta}}{1+\\cos{\\theta}}}</cmath>\n\nTherefore\n\n<cmath>\\frac{68}{117}=\\frac{1-\\cos{\\theta}}{1+\\cos{\\theta}}</cmath>\n\nSolving for <math>\\cos{\\theta}</math> gives that <math>\\cos{\\theta}=\\frac{49}{185}</math>. It then follows that <math>\\sin{\\theta}=\\sqrt{1-\\cos^2{\\theta}}=\\frac{12\\sqrt{221}}{185}</math>.\n\nIt then follows that <math>m=\\tan{\\theta}=\\frac{12\\sqrt{221}}{49}</math>. Therefore <math>a=12</math>, <math>b=221</math>, and <math>c=49</math>. The desired answer is then <math>12+221+49=\\boxed{282}</math>."
  },
  {
    "year": 2003,
    "variant": "I",
    "problem_number": 1,
    "latex": "Given that\n\n<center><math> \\frac{((3!)!)!}{3!} = k \\cdot n!, </math></center>\n\nwhere <math> k </math> and <math> n </math> are [[positive integer]]s and <math> n </math> is as large as possible, find <math> k + n. </math>",
    "solution": "Note that<cmath>{{\\left((3!)!\\right)!}\\over{3!}}=\n{{(6!)!}\\over{6}}={{720!}\\over6}={{720\\cdot719!}\\over6}=120\\cdot719!.</cmath>Because <math>120\\cdot719!<720!</math>, we can conclude that <math>n < 720</math>. Thus, the maximum value of <math>n</math> is <math>719</math>. The requested value of <math>k+n</math> is therefore <math>120+719=\\boxed{839}</math>.\n\n~yofro"
  },
  {
    "year": 2003,
    "variant": "I",
    "problem_number": 2,
    "latex": "One hundred [[concentric]] [[circle]]s with [[radius | radii]] <math> 1, 2, 3, \\dots, 100 </math> are drawn in a plane. The interior of the circle of radius <math>1</math> is colored red, and each region bounded by consecutive circles is colored either red or green, with no two adjacent regions the same color. The [[ratio]] of the total area of the green regions to the area of the circle of radius <math>100</math> can be expressed as <math> m/n, </math> where <math> m </math> and <math> n </math> are [[relatively prime]] [[positive integer]]s. Find <math> m + n. </math>",
    "solution": "To get the green area, we can color all the circles of radius <math>100</math> or below green, then color all those with radius <math>99</math> or below red, then color all those with radius <math>98</math> or below green, and so forth.  This amounts to adding the area of the circle of radius <math>100</math>, but subtracting the circle of radius <math>99</math>, then adding the circle of radius <math>98</math>, and so forth.\n\nThe total green area is thus given by <math> 100^{2} \\pi - 99^{2} \\pi + 98^{2} \\pi - \\ldots - 1^{2} \\pi</math>, while the total area is given by <math>100^{2} \\pi</math>, so the ratio is\n<cmath>\\frac{100^{2}\\pi - 99^{2}\\pi + 98^{2}\\pi - \\ldots - 1^{2}\\pi}{100^{2}\\pi}</cmath>\n\nFor any <math>a</math>, <math>a^{2}-(a-1)^{2}=a^{2}-(a^{2}-2a+1)=2a-1</math>.  We can cancel the [[divisor | factor]] of [[pi]] from the [[numerator]] and [[denominator]] and simplify the ratio to \n\n<cmath>\\frac{(2\\cdot100 - 1)+(2\\cdot98 - 1) + \\ldots + (2\\cdot 2 - 1)}{100^{2}} = \\frac{2\\cdot(100 + 98 + \\ldots + 2) - 50}{100^2}.</cmath>  \n\nUsing the formula for the sum of an [[arithmetic series]], we see that this is equal to \n\n<cmath>\\frac{2(50)(51)-50}{100^{2}}=\\frac{50(101)}{100^{2}}=\\frac{101}{200},</cmath>\n\nso the answer is <math>101 + 200 =\\boxed{301}</math>.\n\n----\n\nAlternatively, we can determine a pattern through trial-and-error using smaller numbers. \n\n*For <math>2</math> circles, the ratio is <math>3/4</math>.\n*For <math>4</math> circles, the ratio is <math>5/8</math>.\n*For <math>6</math> circles, the ratio is <math>7/12</math>.\n*For <math>8</math> circles, the ratio is <math>9/16</math>.\n\nNow the pattern for each ratio is clear.  Given <math>x</math> circles, the ratio is <math>\\frac{x+1}{2x}</math>.\nFor the <math>100</math> circle case (which is what this problem is), <math>x=100</math>, and the ratio is <math>\\frac{101}{200}</math>.\n\n\n----\n\nAlso, using the difference of squares, the expression simplifies to <math>\\frac{100 + 99 + 98 + 97 + ... + 1}{100^2}</math>. We can easily determine the sum with <math>\\frac{100(101)}{2} = 5050</math>. Simplifying gives us <math>\\frac{5050}{100^2} = \\frac{101}{200}</math> and the answer is <math>101 + 200 =\\boxed{301}</math>.\n\n----"
  },
  {
    "year": 2003,
    "variant": "I",
    "problem_number": 3,
    "latex": "Let the [[set]] <math> \\mathcal{S} = \\{8, 5, 1, 13, 34, 3, 21, 2\\}. </math> Susan makes a list as follows: for each two-element subset of <math> \\mathcal{S}, </math> she writes on her list the greater of the set's two elements. Find the sum of the numbers on the list.",
    "solution": "Order the numbers in the set from greatest to least to reduce error: <math>\\{34, 21, 13, 8, 5, 3, 2, 1\\}.</math>\nEach [[element]] of the [[set]] will appear in <math>7</math> two-element [[subset]]s, once with each other number.\n\n*<math>34</math> will be the greater number in <math>7</math> subsets. \n*<math>21</math> will be the greater number in <math>6</math> subsets. \n*<math>13</math> will be the greater number in <math>5</math> subsets. \n*<math>8</math> will be the greater number in <math>4</math> subsets. \n*<math>5</math> will be the greater number in <math>3</math> subsets. \n*<math>3</math> will be the greater number in <math>2</math> subsets. \n*<math>2</math> will be the greater number in <math>1</math> subsets. \n*<math>1</math> will be the greater number in <math>0</math> subsets. \n\nTherefore the desired sum is <math>34\\cdot7+21\\cdot6+13\\cdot5+8\\cdot4+5\\cdot3+3 \\cdot2+2\\cdot1+1\\cdot0=\\boxed{484}</math>.\n\nNote: Note that <math>7+6+5+4+3+2+1=\\binom{8}{2}</math>, so we have counted all the possible cases.\n\n~Yiyj1"
  },
  {
    "year": 2003,
    "variant": "I",
    "problem_number": 4,
    "latex": "Given that <math> \\log_{10} \\sin x + \\log_{10} \\cos x = -1 </math> and that <math> \\log_{10} (\\sin x + \\cos x) = \\frac{1}{2} (\\log_{10} n - 1), </math> find <math> n. </math>",
    "solution": "Using the properties of [[logarithm]]s, we can simplify the first equation to <math>\\log_{10} \\sin x + \\log_{10} \\cos x = \\log_{10}(\\sin x \\cos x) = -1 </math>. Therefore, <cmath> \\sin x \\cos x = \\frac{1}{10}.\\qquad (*)</cmath>\n\nNow, manipulate the second equation.\n<cmath>\\begin{align*}\n\\log_{10} (\\sin x + \\cos x) &= \\frac{1}{2}(\\log_{10} n - \\log_{10} 10) \\\\\n\\log_{10} (\\sin x + \\cos x) &= \\left(\\log_{10} \\sqrt{\\frac{n}{10}}\\right) \\\\\n\\sin x + \\cos x &= \\sqrt{\\frac{n}{10}} \\\\\n(\\sin x + \\cos x)^{2} &= \\left(\\sqrt{\\frac{n}{10}}\\right)^2 \\\\\n\\sin^2 x + \\cos^2 x +2 \\sin x \\cos x &= \\frac{n}{10} \\\\\n\\end{align*}\n</cmath>\n\nBy the Pythagorean identities, <math>\\sin ^2 x + \\cos ^2 x = 1</math>, and we can substitute the value for <math>\\sin x \\cos x</math> from <math>(*)</math>. <math>1 + 2\\left(\\frac{1}{10}\\right) = \\frac{n}{10} \\Longrightarrow n = \\boxed{012} </math>."
  },
  {
    "year": 2003,
    "variant": "I",
    "problem_number": 5,
    "latex": "Consider the [[set]] of [[point]]s that are inside or within one unit of a [[rectangular prism|rectangular parallelepiped]] (box) that measures <math>3</math> by <math>4</math> by <math>5</math> units. Given that the [[volume]] of this set is <math>\\frac{m + n\\pi}{p}, </math> where <math> m, n, </math> and <math> p </math> are positive [[integer]]s, and <math> n </math> and <math> p </math> are [[relatively prime]], find <math> m + n + p. </math>",
    "solution": "<center><asy>\nsize(220);\nimport three; currentprojection = perspective(5,4,3); defaultpen(linetype(\"8 8\")+linewidth(0.6));\ndraw(box((0,-.1,0),(0.4,0.6,0.3)));\ndraw(box((-.1,0,0),(0.5,0.5,0.3)));\ndraw(box((0,0,-.1),(0.4,0.5,0.4)));\ndraw(box((0,0,0),(0.4,0.5,0.3)),linewidth(1.2)+linetype(\"1\"));\n</asy></center>\n\nThe set can be broken into several parts: the big <math>3\\times 4 \\times 5</math> parallelepiped, <math>6</math> external parallelepipeds that each share a face with the large parallelepiped and have a height of <math>1</math>, the <math>1/8</math> [[sphere]]s (one centered at each [[vertex]] of the large parallelepiped), and the <math>1/4</math> [[cylinder]]s connecting each adjacent pair of spheres.\n\n*The volume of the parallelepiped is <math>3 \\times 4 \\times 5 = 60 </math> cubic units.\n*The volume of the external parallelepipeds is <math>2(3 \\times 4 \\times 1)+2(3 \\times 5 \\times 1 )+2(4 \\times 5 \\times 1)=94 </math>.\n*There are <math>8</math> of the <math>1/8</math> spheres, each of radius <math>1</math>. Together, their volume is <math> \\frac{4}{3}\\pi </math>.\n*There are <math>12</math> of the <math>1/4</math> cylinders, so <math>3</math> complete cylinders can be formed. Their volumes are <math> 3\\pi </math>, <math> 4\\pi </math>, and <math> 5\\pi </math>, adding up to <math>12\\pi</math>.\n\nThe combined volume of these parts is <math> 60+94+\\frac{4}{3}\\pi+12\\pi = \\frac{462+40\\pi}{3} </math>. Thus, the answer is <math> m+n+p = 462+40+3 = \\boxed{505} </math>."
  },
  {
    "year": 2003,
    "variant": "I",
    "problem_number": 6,
    "latex": "The sum of the areas of all triangles whose vertices are also vertices of a <math>1</math> by <math>1</math> by <math>1</math> cube is <math> m + \\sqrt{n} + \\sqrt{p}, </math> where <math> m, n, </math> and <math> p </math> are [[integer]]s. Find <math> m + n + p. </math>",
    "solution": "<center>\n<asy>\nsize(120);\nimport three;\nunitsize(1cm);\ndraw((0,0,0)--(1,0,0)--(1,1,0)--(0,1,0)--(0,0,0)--(0,0,1)--(0,1,1)--(1,1,1)--(1,0,1)--(0,0,1));\ndraw((0,1,1)--(0,1,0)); draw((1,1,1)--(1,1,0)); draw((1,0,1)--(1,0,0));\ndraw((1,1,1)--(1,0,0)--(1,1,0)--(1,1,1), blue);\n</asy>\n\n<asy>\nsize(120);\nimport three;\nunitsize(1cm);\ndraw((0,0,0)--(1,0,0)--(1,1,0)--(0,1,0)--(0,0,0)--(0,0,1)--(0,1,1)--(1,1,1)--(1,0,1)--(0,0,1));\ndraw((0,1,1)--(0,1,0)); draw((1,1,1)--(1,1,0)); draw((1,0,1)--(1,0,0));\ndraw((0,1,1)--(1,0,0)--(1,1,0)--(0,1,1), blue);\n</asy>\n\n<asy>\nsize(120);\nimport three;\nunitsize(1cm);\ndraw((0,0,0)--(1,0,0)--(1,1,0)--(0,1,0)--(0,0,0)--(0,0,1)--(0,1,1)--(1,1,1)--(1,0,1)--(0,0,1));\ndraw((0,1,1)--(0,1,0)); draw((1,1,1)--(1,1,0)); draw((1,0,1)--(1,0,0));\ndraw((1,0,0)--(0,1,0)--(1,1,1)--(1,0,0), blue);\n</asy>\n</center>\nSince there are <math>8</math> [[vertex | vertices]] of a [[cube (geometry) | cube]], there are <math>{8 \\choose 3} = 56</math> total [[triangle]]s to consider.  They fall into three categories: there are those which are entirely contained within a single [[face]] of the cube (whose sides are two [[edge]]s and one face [[diagonal]]), those which lie in a [[plane]] [[perpendicular]] to one face of the cube (whose sides are one edge, one face diagonal and one space diagonal of the cube) and those which lie in a plane [[oblique]] to the edges of the cube, whose sides are three face diagonals of the cube.  \n\nEach face of the cube contains <math>{4\\choose 3} = 4</math> triangles of the first type, and there are <math>6</math> faces, so there are <math>24</math> triangles of the first type. Each of these is a [[right triangle]] with legs of length <math>1</math>, so each triangle of the first type has area <math>\\frac 12</math>.\n\nEach edge of the cube is a side of exactly <math>2</math> of the triangles of the second type, and there are <math>12</math> edges, so there are <math>24</math> triangles of the second type. Each of these is a right triangle with legs of length <math>1</math> and <math>\\sqrt 2</math>, so each triangle of the second type has area <math>\\frac{\\sqrt{2}}{2}</math>.\n\nEach vertex of the cube is associated with exactly one triangle of the third type (whose vertices are its three neighbors), and there are <math>8</math> vertices of the cube, so there are <math>8</math> triangles of the third type. Each of the these is an [[equilateral triangle]] with sides of length <math>\\sqrt 2</math>, so each triangle of the third type has area <math>\\frac{\\sqrt 3}2</math>.\n\nThus the total area of all these triangles is <math>24 \\cdot \\frac12 + 24\\cdot\\frac{\\sqrt2}2 + 8\\cdot\\frac{\\sqrt3}2 = 12 + 12\\sqrt2 + 4\\sqrt3 = 12 + \\sqrt{288} + \\sqrt{48}</math> and the answer is <math>12 + 288 + 48 = \\boxed{348}</math>."
  },
  {
    "year": 2003,
    "variant": "I",
    "problem_number": 7,
    "latex": "[[Point]] <math> B </math> is on <math> \\overline{AC} </math> with <math> AB = 9 </math> and <math> BC = 21. </math> Point <math> D </math> is not on <math> \\overline{AC} </math> so that <math> AD = CD, </math> and <math> AD </math> and <math> BD </math> are [[integer]]s. Let <math> s </math> be the sum of all possible [[perimeter]]s of <math> \\triangle ACD</math>. Find <math> s. </math>",
    "solution": "<center><asy>\nsize(220);\npointpen = black; pathpen = black + linewidth(0.7);\npair O=(0,0),A=(-15,0),B=(-6,0),C=(15,0),D=(0,8);\nD(D(MP(\"A\",A))--D(MP(\"C\",C))--D(MP(\"D\",D,NE))--cycle);\nD(D(MP(\"B\",B))--D); D((0,-4)--(0,12),linetype(\"4 4\")+linewidth(0.7));\nMP(\"6\",B/2); MP(\"15\",C/2); MP(\"9\",(A+B)/2);\n</asy></center> <!-- Asymptote replacement for Image:2003_I_AIME-7.png by azjps -->\n\nDenote the height of <math>\\triangle ACD</math> as <math>h</math>, <math>x = AD = CD</math>, and <math>y = BD</math>. Using the [[Pythagorean theorem]], we find that <math>h^2 = y^2 - 6^2</math> and <math>h^2 = x^2 - 15^2</math>. Thus, <math>y^2 - 36 = x^2 - 225 \\Longrightarrow x^2 - y^2 = 189</math>. The LHS is [[difference of squares]], so <math>(x + y)(x - y) = 189</math>. As both <math>x,\\ y</math> are integers, <math>x+y,\\ x-y</math> must be integral divisors of <math>189</math>. \n\nThe pairs of divisors of <math>189</math> are <math>(1,189)\\ (3,63)\\ (7,27)\\ (9,21)</math>. This yields the four potential sets for <math>(x,y)</math> as <math>(95,94)\\ (33,30)\\ (17,10)\\ (15,6)</math>. The last is not a possibility since it simply [[degenerate]]s into a [[line]]. The sum of the three possible perimeters of <math>\n\\triangle ACD</math> is equal to <math>3(AC) + 2(x_1 + x_2 + x_3) = 90 + 2(95 + 33 + 17) = \\boxed{380}</math>."
  },
  {
    "year": 2003,
    "variant": "I",
    "problem_number": 8,
    "latex": "== Problem 8==\nIn an [[increasing sequence]] of four positive integers, the first three terms form an [[arithmetic progression]], the last three terms form a [[geometric progression]], and the first and fourth terms differ by <math>30</math>. Find the sum of the four terms.",
    "solution": "Denote the first term as <math>a</math>, and the common difference between the first three terms as <math>d</math>. The four numbers thus are in the form <math>a,\\ a+d,\\ a+2d,\\ \\frac{(a + 2d)^2}{a + d}</math>. \n\nSince the first and fourth terms differ by <math>30</math>, we have that <math>\\frac{(a + 2d)^2}{a + d} - a = 30</math>. Multiplying out by the denominator, \n<cmath>(a^2 + 4ad + 4d^2) - a(a + d) = 30(a + d).</cmath> \nThis simplifies to <math>3ad + 4d^2 = 30a + 30d</math>, which upon rearranging yields <math>2d(2d - 15) = 3a(10 - d)</math>.\n\nBoth <math>a</math> and <math>d</math> are positive integers, so <math>2d - 15</math> and <math>10 - d</math> must have the same sign. Try if they are both [[positive]] (notice if they are both [[negative]], then <math>d > 10</math> and <math>d < \\frac{15}{2}</math>, which is a contradiction). Then, <math>d = 8, 9</math>. Directly substituting and testing shows that <math>d \\neq 8</math>, but that if <math>d = 9</math> then <math>a = 18</math>. Alternatively, note that <math>3|2d</math> or <math>3|2d-15</math> implies that <math>3|d</math>, so only <math>9</math> may work. Hence, the four terms are <math>18,\\ 27,\\ 36,\\ 48</math>, which indeed fits the given conditions. Their sum is <math>\\boxed{129}</math>.\n\n\nPostscript\n\nAs another option, <math>3ad + 4d^2 = 30a + 30d</math> could be rewritten as follows:\n\n\n<math>d(3a + 4d) = 30(a + d)</math>\n\n\n<math>d(3a + 3d)+ d^2 = 30(a + d)</math>\n\n\n\n<math>3d(a + d)+ d^2 = 30(a + d)</math>\n\n\n<math>(3d - 30)(a + d)+ d^2 = 0</math>\n\n\n<math>3(d - 10)(a + d)+ d^2 = 0</math>\n\n\nThis gives another way to prove <math>d<10</math>, and when rewritten one last time:\n\n\n<math>3(10 -d)(a + d) = d^2</math>\n\n\nshows that <math>d</math> must contain a factor of 3.\n\n\n-jackshi2006\n\nEDIT by NealShrestha:\nNote that once we reach <math>3ad + 4d^2 = 30a + 30d</math> this implies <math>3|d</math> since all other terms are congruent to <math>0\\mod 3</math>."
  },
  {
    "year": 2003,
    "variant": "I",
    "problem_number": 9,
    "latex": "An [[integer]] between <math>1000</math> and <math>9999</math>, inclusive, is called ''balanced'' if the sum of its two leftmost [[digit]]s equals the sum of its two rightmost digits. How many balanced integers are there?",
    "solution": "If the common sum of the first two and last two digits is <math>n</math>, such that <math>1 \\leq n \\leq 9</math>, there are <math>n</math> choices for the first two digits and <math>n + 1</math> choices for the second two digits (since zero may not be the first digit).  This gives <math>\\sum_{n = 1}^9 n(n + 1) = 330</math> balanced numbers.  If the common sum of the first two and last two digits is <math>n</math>, such that <math>10 \\leq n \\leq 18</math>, there are <math>19 - n</math> choices for both pairs.  This gives <math>\\sum_{n = 10}^{18} (19 - n)^2 = \\sum_{n = 1}^9 n^2 = 285</math> balanced numbers.  Thus, there are in total <math>330 + 285 = \\boxed{615}</math> balanced numbers.\n\nBoth summations may be calculated using the formula for the [[perfect square|sum of consecutive squares]], namely <math>\\sum_{k=1}^n k^2 = \\frac{n(n+1)(2n+1)}{6}</math>."
  },
  {
    "year": 2003,
    "variant": "I",
    "problem_number": 10,
    "latex": "[[Triangle]] <math> ABC </math> is [[isosceles triangle | isosceles]] with <math> AC = BC </math> and <math> \\angle ACB = 106^\\circ. </math> Point <math> M </math> is in the interior of the triangle so that <math> \\angle MAC = 7^\\circ </math> and <math> \\angle MCA = 23^\\circ. </math> Find the number of degrees in <math> \\angle CMB. </math>\n<center><asy>\npointpen = black; pathpen = black+linewidth(0.7); size(220);\n\n/* We will WLOG AB = 2 to draw following */\n\npair A=(0,0), B=(2,0), C=(1,Tan(37)), M=IP(A--(2Cos(30),2Sin(30)),B--B+(-2,2Tan(23)));\n\nD(MP(\"A\",A)--MP(\"B\",B)--MP(\"C\",C,N)--cycle); D(A--D(MP(\"M\",M))--B); D(C--M);\n</asy></center>\n\n\n__TOC__",
    "solution": "<center><asy>\npointpen = black; pathpen = black+linewidth(0.7); size(220);\n\n/* We will WLOG AB = 2 to draw following */\n\npair A=(0,0), B=(2,0), C=(1,Tan(37)), M=IP(A--(2Cos(30),2Sin(30)),B--B+(-2,2Tan(23)));\n\nD(MP(\"A\",A)--MP(\"B\",B)--MP(\"C\",C,N)--cycle); D(A--D(MP(\"M\",M))--B); D(C--M);\n</asy></center>\n\n=== Solution 1 ===\n<center><asy>\npointpen = black; pathpen = black+linewidth(0.7); size(220);\n\n/* We will WLOG AB = 2 to draw following */\n\npair A=(0,0), B=(2,0), C=(1,Tan(37)), M=IP(A--(2Cos(30),2Sin(30)),B--B+(-2,2Tan(23))), N=(2-M.x,M.y);\n\nD(MP(\"A\",A)--MP(\"B\",B)--MP(\"C\",C,N)--cycle); D(A--D(MP(\"M\",M))--B); D(C--M); D(C--D(MP(\"N\",N))--B--N--M,linetype(\"6 6\")+linewidth(0.7)); \n</asy></center>\n\nTake point <math>N</math> inside <math>\\triangle ABC</math> such that <math>\\angle CBN = 7^\\circ</math> and <math>\\angle BCN = 23^\\circ</math>.\n\n<math>\\angle MCN = 106^\\circ - 2\\cdot 23^\\circ = 60^\\circ</math>. Also, since <math>\\triangle AMC</math> and <math>\\triangle BNC</math> are congruent (by ASA), <math>CM = CN</math>. Hence <math>\\triangle CMN</math> is an [[equilateral triangle]], so <math>\\angle CNM = 60^\\circ</math>.\n\nThen <math>\\angle MNB = 360^\\circ - \\angle CNM - \\angle CNB = 360^\\circ - 60^\\circ - 150^\\circ = 150^\\circ</math>. We now see that <math>\\triangle MNB</math> and <math>\\triangle CNB</math> are congruent. Therefore, <math>CB = MB</math>, so <math>\\angle CMB = \\angle MCB = \\boxed{83^\\circ}</math>.\n\n=== Solution 2 ===\nFrom the givens, we have the following [[angle]] [[measure]]s: <math>m\\angle AMC = 150^\\circ</math>, <math>m\\angle MCB = 83^\\circ</math>.  If we define <math>m\\angle CMB = \\theta</math> then we also have <math>m\\angle CBM = 97^\\circ - \\theta</math>.  Then apply the [[Law of Sines]] to triangles <math>\\triangle AMC</math> and <math>\\triangle BMC</math> to get\n\n<cmath>\\frac{\\sin 150^\\circ}{\\sin 7^\\circ} = \\frac{AC}{CM} = \\frac{BC}{CM} = \\frac{\\sin \\theta}{\\sin (97^\\circ - \\theta)}</cmath>\n\nClearing [[denominator]]s, evaluating <math>\\sin 150^\\circ = \\frac 12</math> and applying one of our [[trigonometric identities]] to the result gives\n\n<cmath>\\frac{1}{2} \\cos (7^\\circ - \\theta )= \\sin 7^\\circ \\sin \\theta</cmath>\n\nand multiplying through by 2 and applying the [https://artofproblemsolving.com/wiki/index.php/Trigonometric_identities#Double-angle_identities| double angle formulas] gives\n\n<cmath>\\cos 7^\\circ\\cos\\theta + \\sin7^\\circ\\sin\\theta = 2 \\sin7^\\circ \\sin\\theta</cmath>\n\nand so <math>\\cos 7^\\circ \\cos \\theta = \\sin 7^\\circ \\sin\\theta \\Longleftrightarrow \\tan 7^{\\circ} = \\cot \\theta</math>; since <math>0^\\circ < \\theta < 180^\\circ</math>, we must have <math>\\theta = 83^\\circ</math>, so the answer is <math>\\boxed{83}</math>.\n\n=== Solution 3 ===\n[[Without loss of generality]], let <math>AC = BC = 1</math>.  Then, using the [[Law of Sines]] in triangle <math>AMC</math>, we get <math>\\frac {1}{\\sin 150} = \\frac {MC}{\\sin 7}</math>, and using the sine addition formula to evaluate <math>\\sin 150 = \\sin (90 + 60)</math>, we get <math>MC = 2 \\sin 7</math>.  \n\nThen, using the [[Law of Cosines]] in triangle <math>MCB</math>, we get <math>MB^2 = 4\\sin^2 7 + 1 - 4\\sin 7(\\cos 83) = 1</math>, since <math>\\cos 83 = \\sin 7</math>. So triangle <math>MCB</math> is isosceles, and <math>\\angle CMB = \\boxed{83}</math>.\n\n=== Solution 4 ===\nNote: A diagram would be much appreciated; I cannot make one since I'm bad at asymptote. Also, please make this less cluttered :) ~tauros\n\nFirst, take point <math>E</math> outside of <math>\\triangle{ABC}</math> so that <math>\\triangle{CEB}</math> is equilateral. Then, connect <math>A</math>, <math>C</math>, and <math>M</math> to <math>E</math>. Also, let <math>ME</math> intersect <math>AB</math> at <math>F</math>. <math>\\angle{MCE} = 83^\\circ - 60^\\circ = 23^\\circ</math>, <math>CE = AB</math>, and (trivially) <math>CM = CM</math>, so <math>\\triangle{MCE} \\cong \n\\triangle{MCA}</math> by SAS congruence. Also, <math>\\angle{CMA} = \\angle{CME} = 150^\\circ</math>, so <math>\\angle{AME} = 60^\\circ</math>, and <math>AM = ME</math>,\nmaking <math>\\triangle{AME}</math> also equilateral. (it is isosceles with a <math>60^\\circ</math> angle) <math>\\triangle{MAF} \\cong \\triangle{EAF}</math> by SAS (<math>MA = AE</math>, \n<math>AF = AF</math>, and <math>m\\angle{MAF} = m\\angle{EAF} = 30^\\circ</math>), and <math>\\triangle{MAB} \\cong \\triangle{EAB}</math> by SAS (<math>MA = AE</math>, <math>AB = AB</math>, and \n<math>m\\angle{MAB} = m\\angle{EAB} = 30^\\circ</math>). Thus, <math>\\triangle{BME}</math> is isosceles, with <math>m\\angle{BME} = m\\angle{BEM} = 60^\\circ + 7^\\circ = 67^\\circ</math>. Also, <math>\\angle{EMB} + \\angle {CMB} = \\angle{CME} = 150^\\circ</math>, so <math>\\angle{CME} = 150^\\circ - 67^\\circ  = \\boxed{83^\\circ}</math>.\n\n=== Solution 5 (Ceva) ===\n\nNoticing that we have three concurrent cevians, we apply Ceva's theorem:\n\n<cmath>(\\sin \\angle ACM)(\\sin \\angle BAM)(\\sin \\angle CBM) = (\\sin \\angle CAM)(\\sin \\angle ABM)(\\sin \\angle BCM) </cmath>\n<cmath>(\\sin 23)(\\sin 30)(\\sin x) = (\\sin 7)(\\sin 37-x)(\\sin 83)</cmath>\n\nusing the fact that <math>\\sin 83 = \\cos 7</math> and <math>(\\sin 7)(\\cos 7) = 1/2 (\\sin 14)</math> we have:\n\n<cmath> (\\sin 23)(\\sin x) = (\\sin 14)(\\sin 37-x)</cmath>\n\nBy inspection, <math>x=14^\\circ</math> works, so the answer is <math>180-83-14= \\boxed{083}</math>\n=== Solution 6 ===\n\nLet <math>\\angle{APC} = \\theta^{\\circ}</math>\nUsing sine rule on <math>\\triangle{APB}, \\triangle{APC}</math>, letting <math>AP=d</math> we get :\n<math>\\frac{d}{1} = \\frac{\\sin{7^{\\circ}}}{\\sin{150^{\\circ}}} = 2\\sin{7^{\\circ}}= \\frac{\\sin{14^{\\circ}}}{\\cos{7^{\\circ}}}= \\frac{\\sin{14^{\\circ}}}{\\sin{83^{\\circ}}}= \\frac{\\sin{(97-\\theta)^{\\circ}}}{\\sin{\\theta^{\\circ}}}</math>\nSimplifying, we get that\n<math>\\cos{(14-\\theta)^{\\circ}}-\\cos{(14+\\theta)^{\\circ}}=\\cos{(14-\\theta)^{\\circ}}-\\cos{(180-\\theta)^{\\circ}},</math> from where <math>\\cos{(14-\\theta)^{\\circ}}=\\cos{(180-\\theta)^{\\circ}}</math>\nSimplifying more, we get that <math>\\sin{97^{\\circ}} \\cdot \\sin{(\\theta-83)^{\\circ}} = 0</math>, so <math>\\theta = 83^{\\circ}</math>\nNOTE: The simplifications were carried out by the product-to-sum and sum-to-product identities \n~Prabh1512\n\n=== Solution 7 ===\n\nBecause protractors are allowed on the AIME, it is practical to solve this problem by carefully drawing the picture and measuring the angle."
  },
  {
    "year": 2003,
    "variant": "I",
    "problem_number": 11,
    "latex": "An [[angle]] <math> x </math> is chosen at random from the [[interval]] <math> 0^\\circ < x < 90^\\circ. </math> Let <math> p </math> be the probability that the numbers <math> \\sin^2 x, \\cos^2 x, </math> and <math> \\sin x \\cos x </math> are not the lengths of the sides of a triangle. Given that <math> p = d/n, </math> where <math> d </math> is the number of degrees in <math> \\text{arctan}</math> <math>m</math> and <math> m </math> and <math> n </math> are [[positive integer]]s with <math> m + n < 1000, </math> find <math> m + n. </math>",
    "solution": "Note that the three expressions are symmetric with respect to interchanging <math>\\sin</math> and <math>\\cos</math>, and so the probability is symmetric around <math>45^\\circ</math>.  Thus, take <math>0 < x < 45</math> so that <math>\\sin x < \\cos x</math>.  Then <math>\\cos^2 x</math> is the largest of the three given expressions and those three lengths not forming a [[triangle]] is equivalent to a violation of the [[triangle inequality]]\n\n<cmath>\\cos^2 x > \\sin^2 x + \\sin x \\cos x</cmath>\n\nThis is equivalent to \n\n<cmath>\\cos^2 x - \\sin^2 x > \\sin x \\cos x</cmath>\n\nand, using some of our [[trigonometric identities]], we can re-write this as <math>\\cos 2x > \\frac 12 \\sin 2x</math>. Since we've chosen <math>x \\in (0, 45)</math>, <math>\\cos 2x > 0</math> so \n\n<cmath>2 > \\tan 2x \\Longrightarrow  x < \\frac 12 \\arctan 2.</cmath>\n\nThe [[probability]] that <math>x</math> lies in this range is <math>\\frac 1{45} \\cdot \\left(\\frac 12 \\arctan 2\\right) = \\frac{\\arctan 2}{90}</math> so that <math>m = 2</math>, <math>n = 90</math> and our answer is <math>\\boxed{092}</math>."
  },
  {
    "year": 2003,
    "variant": "I",
    "problem_number": 12,
    "latex": "In [[convex]] [[quadrilateral]] <math> ABCD, \\angle A \\cong \\angle C, AB = CD = 180, </math> and <math> AD \\neq BC. </math> The [[perimeter]] of <math> ABCD </math> is <math> 640 </math>. Find <math> \\lfloor 1000 \\cos A \\rfloor. </math> (The notation <math> \\lfloor x \\rfloor </math> means the greatest [[integer]] that is less than or equal to <math> x. </math>)",
    "solution": "===Solution 1===\n<center><asy>\nreal x = 1.60; /* arbitrary */\n\npointpen = black; pathpen = black+linewidth(0.7); size(180);\nreal BD = x*x + 1.80*1.80 - 2 * 1.80 * x * 7 / 9;\npair A=(0,0),B=(1.8,0),D=IP(CR(A,x),CR(B,BD)),C=OP(CR(D,1.8),CR(B,2.80 - x));\nD(MP(\"A\",A)--MP(\"B\",B)--MP(\"C\",C)--MP(\"D\",D,N)--B--A--D);\nMP(\"180\",(A+B)/2); MP(\"180\",(C+D)/2,NE); D(anglemark(B,A,D)); D(anglemark(D,C,B));\n</asy></center>\n\nBy the [[Law of Cosines]] on <math>\\triangle ABD</math> at angle <math>A</math> and on <math>\\triangle BCD</math> at angle <math>C</math> (note <math>\\angle C = \\angle A</math>),\n\n<cmath>180^2 + AD^2 - 360 \\cdot AD \\cos A = 180^2 + BC^2 - 360 \\cdot BC \\cos A </cmath>\n<cmath>(AD^2 - BC^2) = 360(AD - BC) \\cos A</cmath>\n<cmath>(AD - BC)(AD + BC) = 360(AD - BC) \\cos A</cmath>\n<cmath>(AD + BC) = 360 \\cos A</cmath>\nWe know that <math>AD + BC = 640 - 360 = 280</math>. <math>\\cos A = \\dfrac{280}{360} =  \\dfrac{7}{9} = 0.777 \\ldots</math>\n\n<math>\\lfloor 1000 \\cos  A \\rfloor = \\boxed{777}</math>.\n\n===Solution 2===\nNotice that <math>AB = CD</math>, and <math>BD = DB</math>, and <math>\\angle{DAB} \\cong \\angle{BCD}</math>, so we have side-side-angle matching on triangles <math>ABD</math> and <math>CDB</math>.  Since the problem does not allow <math>\\triangle{ABD} \\cong \\triangle{CDB}</math>, we know that <math>\\angle{ADB}</math> is not a right angle, and there is a unique other triangle with the matching side-side-angle.\n\nExtend <math>AD</math> to <math>C'</math> so that <math>\\triangle{ABC'}</math> is isosceles with <math>AB = C'B</math>.  Then notice that <math>\\triangle{DC'B}</math> has matching side-side-angle, and yet <math>\\triangle{ADB} \\not\\cong \\triangle{C'DB}</math> because <math>\\angle{ADB}</math> is not right.  Therefore <math>\\triangle{C'DB}</math> is the unique triangle mentioned above, so <math>\\triangle{CDB}</math> is congruent, in some order of vertices, to <math>\\triangle{C'DB}</math>.  Since <math>\\triangle{CDB} \\cong \\triangle{C'DB}</math> would imply <math>\\triangle{CDB} = \\triangle{C'DB}</math>, making quadrilateral <math>ABCD</math> degenerate, we must have <math>\\triangle{CDB} \\cong \\triangle{C'BD}</math>.\n\nSince the perimeter of <math>ABCD</math> is <math>640</math>, <math>AD + BC = 640 - 180 - 180 = 280</math>.  Hence <math>280 = AD + BC = AD + DC'</math>.  Drop the altitude of <math>\\triangle{ABC'}</math> from <math>B</math> and call the foot <math>P</math>.  Then right triangle trigonometry on <math>\\triangle{APB}</math> shows that <math>\\cos{A} = AP/AB = 140/180 = 7/9</math>, so <math>\\lfloor 1000 \\cos A \\rfloor = \\boxed{777}</math>."
  },
  {
    "year": 2003,
    "variant": "I",
    "problem_number": 13,
    "latex": "Let <math> N </math> be the number of positive integers that are less than or equal to <math>2003</math> and whose base-<math>2</math> representation has more <math>1</math>'s than <math>0</math>'s. Find the [[remainder]] when <math> N </math> is divided by <math>1000</math>.",
    "solution": "In base-<math>2</math> representation, all positive numbers have a leftmost digit of <math>1</math>. Thus there are <math>{n \\choose k}</math> numbers that have <math>n+1</math> digits in base <math>2</math> notation, with <math>k+1</math> of the digits being <math>1</math>'s. \n\nIn order for there to be more <math>1</math>'s than <math>0</math>'s, we must have <math>k+1 > \\frac{n+1}{2} \\implies k > \\frac{n-1}{2} \\implies k \\ge \\frac{n}{2}</math>. Therefore, the number of such numbers corresponds to the sum of all numbers on or to the right of the vertical line of symmetry in [[Pascal's Triangle]], from rows <math>0</math> to <math>10</math> (as <math>2003 < 2^{11}-1</math>). Since the sum of the elements of the <math>r</math>th row is <math>2^r</math>, it follows that the sum of all elements in rows <math>0</math> through <math>10</math> is <math>2^0 + 2^1 + \\cdots + 2^{10} = 2^{11}-1 = 2047</math>. The center elements are in the form <math>{2i \\choose i}</math>, so the sum of these elements is <math>\\sum_{i=0}^{5} {2i \\choose i} = 1 + 2 +6 + 20 + 70 + 252 = 351</math>.\n\nThe sum of the elements on or to the right of the line of symmetry is thus <math>\\frac{2047 + 351}{2} = 1199</math>. However, we also counted the <math>44</math> numbers from <math>2004</math> to <math>2^{11}-1 = 2047</math>. Indeed, all of these numbers have at least <math>6</math> <math>1</math>'s in their base-<math>2</math> representation, as all of them are greater than <math>1984 = 11111000000_2</math>, which has <math>5</math> <math>1</math>'s. Therefore, our answer is <math>1199 - 44 = 1155</math>, and the remainder is <math>\\boxed{155}</math>."
  },
  {
    "year": 2003,
    "variant": "I",
    "problem_number": 14,
    "latex": "The [[decimal]] representation of <math> m/n, </math> where <math> m </math> and <math> n </math> are [[relatively prime]] positive integers and <math> m < n, </math> contains the digits <math>2, 5</math>, and <math>1</math> consecutively and in that order. Find the smallest value of <math> n </math> for which this is possible.",
    "solution": "To find the smallest value of <math>n</math>, we consider when the first three digits after the decimal point are <math>0.251\\ldots</math>. \n\n\nOtherwise, suppose the number is in the form of <math>\\frac{m}{n} = 0.X251 \\ldots</math>, where <math>X</math> is a string of <math>k</math> digits and <math>n</math> is small as possible. Then <math>10^k \\cdot \\frac{m}{n} - X = \\frac{10^k m - nX}{n} = 0.251 \\ldots</math>. Since <math>10^k m - nX</math> is an integer and <math>\\frac{10^k m - nX}{n}</math> is a fraction between <math>0</math> and <math>1</math>, we can rewrite this as <math>\\frac{10^k m - nX}{n} = \\frac{p}{q}</math>, where <math>q \\le n</math>. Then the fraction <math>\\frac pq = 0.251 \\ldots</math> suffices. \n\nThus we have <math>\\frac{m'}{n} = 0.251\\ldots</math>, or \n\n<center><math>\\frac{251}{1000} \\le \\frac{m'}{n} < \\frac{252}{1000} \\Longleftrightarrow 251n \\le 1000m' < 252n \\Longleftrightarrow n \\le 250(4m'-n) < 2n.</math></center> \n\nAs <math>4m' > n</math>, we know that the minimum value of <math>4m' - n</math> is <math>1</math>; hence we need <math>250 < 2n \\Longrightarrow 125 < n</math>. Since <math>4m' - n = 1</math>, we need <math>n + 1</math> to be divisible by <math>4</math>, and this first occurs when <math>n = \\boxed{ 127 }</math> (note that if <math>4m'-n > 1</math>, then <math>n > 250</math>). Indeed, this gives <math>m' = 32</math> and the fraction <math>\\frac {32}{127}\\approx 0.25196 \\ldots</math>)."
  },
  {
    "year": 2003,
    "variant": "I",
    "problem_number": 15,
    "latex": "In <math> \\triangle ABC, AB = 360, BC = 507, </math> and <math> CA = 780. </math> Let <math> M </math> be the [[midpoint]] of <math> \\overline{CA}, </math> and let <math> D </math> be the point on <math> \\overline{CA} </math> such that <math> \\overline{BD} </math> bisects angle <math> ABC. </math> Let <math> F </math> be the point on <math> \\overline{BC} </math> such that <math> \\overline{DF} \\perp \\overline{BD}. </math> Suppose that <math> \\overline{DF} </math> meets <math> \\overline{BM} </math> at <math> E. </math> The ratio <math> DE: EF </math> can be written in the form <math> m/n, </math> where <math> m </math> and <math> n </math> are relatively prime positive integers. Find <math> m + n. </math>",
    "solution": "In the following, let the name of a point represent the mass located there. Since we are looking for a ratio, we assume that <math>AB=120</math>, <math>BC=169</math>, and <math>CA=260</math> in order to simplify our computations.\n\nFirst, reflect point <math>F</math> over angle bisector <math>BD</math> to a point <math>F'</math>.\n<center><asy>\nsize(400); pointpen = black; pathpen = black+linewidth(0.7); \npair A=(0,0),C=(7.8,0),B=IP(CR(A,3.6),CR(C,5.07)), M=(A+C)/2, Da = bisectorpoint(A,B,C), D=IP(B--B+(Da-B)*10,A--C), F=IP(D--D+10*(B-D)*dir(270),B--C), E=IP(B--M,D--F);pair Fprime=2*D-F; /* scale down by 100x */\nD(MP(\"A\",A,NW)--MP(\"B\",B,N)--MP(\"C\",C)--cycle); D(B--D(MP(\"D\",D))--D(MP(\"F\",F,NE))); D(B--D(MP(\"M\",M)));D(A--MP(\"F'\",Fprime,SW)--D); MP(\"E\",E,NE); D(rightanglemark(F,D,B,4)); MP(\"390\",(M+C)/2); MP(\"390\",(M+C)/2); MP(\"360\",(A+B)/2,NW); MP(\"507\",(B+C)/2,NE);\n</asy></center>\nAs <math>BD</math> is an angle bisector of both triangles <math>BAC</math> and <math>BF'F</math>, we know that <math>F'</math> lies on <math>AB</math>. We can now balance triangle <math>BF'C</math> at point <math>D</math> using mass points.\n\nBy the [[Angle Bisector Theorem]], we can place [[mass points]] on <math>C,D,A</math> of <math>120,\\,289,\\,169</math> respectively. Thus, a mass of <math>\\frac {289}{2}</math> belongs at both <math>F</math> and <math>F'</math> because BD is a median of triangle <math>BF'F</math> . Therefore, <math>CB/FB=\\frac{289}{240}</math>.\n\nNow, we reassign mass points to determine <math>FE/FD</math>. This setup involves <math>\\triangle CFD</math> and [[transversal]] <math>MEB</math>. For simplicity, put masses of <math>240</math> and <math>289</math> at <math>C</math> and <math>F</math> respectively. To find the mass we should put at <math>D</math>, we compute <math>CM/MD</math>. Applying the Angle Bisector Theorem again and using the fact <math>M</math> is a midpoint of <math>AC</math>, we find\n<cmath>\n\\frac {MD}{CM} = \\frac {\\frac{169}{289}\\cdot 260 - 130}{130} = \\frac {49}{289}\n</cmath>\nAt this point we could find the mass at <math>D</math> but it's unnecessary.\n<cmath>\n\\frac {DE}{EF} = \\frac {F}{D} = \\frac {F}{C}\\cdot\\frac {C}{D} = \\frac {289}{240}\\cdot\\frac {49}{289} = \\boxed{\\frac {49}{240}}\n</cmath>\nand the answer is <math>49 + 240 = \\boxed{289}</math>."
  },
  {
    "year": 2003,
    "variant": "II",
    "problem_number": 1,
    "latex": "The [[product]] <math>N</math> of three [[positive integer]]s is <math>6</math> times their [[sum]], and one of the [[integer]]s is the sum of the other two. Find the sum of all possible values of <math>N</math>.",
    "solution": "Let the three integers be <math>a, b, c</math>.  <math>N = abc = 6(a + b + c)</math> and <math>c = a + b</math>.  Then <math>N = ab(a + b) = 6(a + b + a + b) = 12(a + b)</math>.  Since <math>a</math> and <math>b</math> are positive, <math>ab = 12</math> so <math>\\{a, b\\}</math> is one of <math>\\{1, 12\\}, \\{2, 6\\}, \\{3, 4\\}</math> so <math>a + b</math> is one of <math>13, 8, 7</math> so the sum of all possible values of <math>N</math> is <math>12 \\cdot (13 + 8 + 7) = 12(28) = \\boxed{336}</math>."
  },
  {
    "year": 2003,
    "variant": "II",
    "problem_number": 2,
    "latex": "Let <math>N</math> be the greatest integer multiple of 8, no two of whose digits are the same. What is the remainder when <math>N</math> is divided by 1000?",
    "solution": "We want a number with no digits repeating, so we can only use the digits <math>0-9</math> once in constructing our number. To make the greatest number, we want the greatest digit to occupy the leftmost side and the least digit to occupy the rightmost side. Therefore, the last three digits of the greatest number should be an arrangement of the digits <math>0,1,2</math>. Since the number has to be divisible by 8, the integer formed by the arrangement of <math>0,1,2</math> is also divisible by 8. The only arrangement that works is <math>120</math>. \n\nTherefore, the remainder when the number is divided by <math>1000</math> is <math>\\boxed{120}</math>.\n\nNote: The number is <math>9876543120</math>"
  },
  {
    "year": 2003,
    "variant": "II",
    "problem_number": 3,
    "latex": "Define a <math>\\text{good~word}</math> as a sequence of letters that consists only of the letters <math>A</math>, <math>B</math>, and <math>C</math> - some of these letters may not appear in the sequence - and in which <math>A</math> is never immediately followed by <math>B</math>, <math>B</math> is never immediately followed by <math>C</math>, and <math>C</math> is never immediately followed by <math>A</math>. How many seven-letter good words are there?",
    "solution": "There are three letters to make the first letter in the sequence. However, after the first letter (whatever it is), only two letters can follow it, since one of the letters is restricted. Therefore, the number of seven-letter good words is <math>3*2^6=192</math>\n\nTherefore, there are <math>\\boxed{192}</math> seven-letter good words."
  },
  {
    "year": 2003,
    "variant": "II",
    "problem_number": 4,
    "latex": "In a regular tetrahedron the centers of the four faces are the vertices of a smaller tetrahedron. The ratio of the volume of the smaller tetrahedron to that of the larger is <math>m/n</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.\n\n__TOC__",
    "solution": "=== Solution 1 ===\nEmbed the tetrahedron in 4-space to make calculations easier.\nIts vertices are\n<math>(1,0,0,0)</math>, <math>(0,1,0,0)</math>, <math>(0,0,1,0)</math>, <math>(0,0,0,1)</math>.\n\nTo get the center of any face, we take the average of the three coordinates of that face. The vertices of the center of the faces are:\n<math>(\\frac{1}{3}, \\frac{1}{3}, \\frac{1}{3}, 0)</math>,<math>(\\frac{1}{3}, \\frac{1}{3},0, \\frac{1}{3})</math>,<math>(\\frac{1}{3},0, \\frac{1}{3}, \\frac{1}{3})</math>,<math>(0,\\frac{1}{3}, \\frac{1}{3}, \\frac{1}{3})</math>.\n\nThe side length of the large tetrahedron is <math>\\sqrt{2}</math> by the distance formula.\nThe side length of the smaller tetrahedron is <math>\\frac{\\sqrt{2}}{3}</math> by the distance formula.\n\nTheir ratio is <math>1:3</math>, so the ratio of their volumes is <math>\\left(\\frac{1}{3}\\right)^3 = \\frac{1}{27}</math>.\n\n<math>m+n = 1 + 27 = \\boxed{28}</math>.\n\n=== Solution 2 ===\n\nLet the large tetrahedron be <math>ABCD</math>, and the small tetrahedron be <math>WXYZ</math>, with <math>W</math> on <math>ABC</math>, <math>X</math> on <math>BCD</math>, <math>Y</math> on <math>ACD</math>, and <math>Z</math> on <math>ABD</math>. Clearly, the two regular tetrahedrons are similar, so if we can find the ratio of the sides, we can find the ratio of the volumes. Let <math>AB=1</math>, for our convenience. Dropping an altitude from <math>W</math> to <math>BC</math>, and calling the foot <math>M</math>, we have <math>WM=XM=\\frac{\\sqrt3}{6}</math>. Since <math>\\cos\\angle{WMX}=\\cos\\angle{AMX}=MX/AM=1/3</math>. By Law of Cosines, we have <math>WX=\\sqrt{1/12+1/12-2(1/12)(1/3)}=1/3</math>. Hence, the ratio of the volumes is <math>\\left(\\frac{1}{3}\\right)^3=1/27</math>. <math>m+n=1+27=\\boxed{028}</math>\n\n===Solution 3===\n\nConsider the large tetrahedron <math>ABCD</math> and the smaller tetrahedron <math>WXYZ</math>.  Label the points as you wish, but dropping an altitude from the top vertex of <math>ABCD</math>, we see it hits the center of the base face of <math>ABCD</math>.  This center is also one vertex of <math>WXYZ</math>.  Consider a \"side\" face of <math>ABCD</math>, and the center of that face, which is another vertex of <math>WXYZ</math>.  Draw the altitude of this side face (which is an equilateral triangle).  These two altitudes form a right triangle.  Since the center of the Side face splits the altitude of the side face into segments in the ratio of <math>2:1</math> (centroid), and since the bases of <math>WXYZ</math> and <math>ABCD</math> are parallel, we can say that the altitudes of tetrahedron <math>ABCD</math> and <math>WXYZ</math> are in the ratio <math>3:1</math>.  Thus we compute <math>\\left(\\frac{1}{3}\\right)^3</math>, and find <math>\\frac{1}{27}</math>.  The sum of the numerator and denominator is thus <math>28</math>.\n\n===Video Solution by Sal Khan===\nPart 1: https://www.youtube.com/watch?v=gXnHodHNusg&list=PLSQl0a2vh4HCtW1EiNlfW_YoNAA38D0l4&index=15\n\nPart 2: https://www.youtube.com/watch?v=wQ34EIfd-5A&list=PLSQl0a2vh4HCtW1EiNlfW_YoNAA38D0l4&index=21\n\n- AMBRIGGS"
  },
  {
    "year": 2003,
    "variant": "II",
    "problem_number": 5,
    "latex": "A cylindrical log has diameter <math>12</math> inches. A wedge is cut from the log by making two planar cuts that go entirely through the log. The first is perpendicular to the axis of the cylinder, and the plane of the second cut forms a <math>45^\\circ</math> angle with the plane of the first cut. The intersection of these two planes has exactly one point in common with the log. The number of cubic inches in the wedge can be expressed as <math>n\\pi</math>, where n is a positive integer. Find <math>n</math>.",
    "solution": "The volume of the wedge is half the volume of a cylinder with height <math>12</math> and radius <math>6</math>. (Imagine taking another identical wedge and sticking it to the existing one).  Thus, <math>V=\\dfrac{6^2\\cdot 12\\pi}{2}=216\\pi</math>, so <math>n=\\boxed{216}</math>."
  },
  {
    "year": 2003,
    "variant": "II",
    "problem_number": 6,
    "latex": "In triangle <math>ABC,</math> <math>AB = 13,</math> <math>BC = 14,</math> <math>AC = 15,</math> and point <math>G</math> is the intersection of the medians. Points <math>A',</math> <math>B',</math> and <math>C',</math> are the images of <math>A,</math> <math>B,</math> and <math>C,</math> respectively, after a <math>180^\\circ</math> rotation about <math>G.</math> What is the area of the union of the two regions enclosed by the triangles <math>ABC</math> and <math>A'B'C'?</math>",
    "solution": "Since a <math>13-14-15</math> triangle is a <math>5-12-13</math> triangle and a <math>9-12-15</math> triangle \"glued\" together on the <math>12</math> side, <math>[ABC]=\\frac{1}{2}\\cdot12\\cdot14=84</math>. \n\nThere are six points of intersection between <math>\\Delta ABC</math> and <math>\\Delta A'B'C'</math>. Connect each of these points to <math>G</math>. \n\n<asy>\nsize(8cm);\npair A,B,C,G,D,E,F,A_1,A_2,B_1,B_2,C_1,C_2;\nB=(0,0);\nA=(5,12);\nC=(14,0);\nE=(12.6667,8);\nD=(7.6667,-4);\nF=(-1.3333,8);\nG=(6.3333,4);\nB_1=(4.6667,0);\nB_2=(1.6667,4);\nA_1=(3.3333,8);\nA_2=(8,8);\nC_1=(11,4);\nC_2=(9.3333,0);\ndot(A);\ndot(B);\ndot(C);\ndot(G);\ndot(D);\ndot(E);\ndot(F);\ndot(A_1);\ndot(B_1);\ndot(C_1);\ndot(A_2);\ndot(B_2);\ndot(C_2);\ndraw(B--A--C--cycle);\ndraw(E--D--F--cycle);\ndraw(B_1--A_2);\ndraw(A_1--C_2);\ndraw(C_1--B_2);\nlabel(\"$B$\",B,WSW);\nlabel(\"$A$\",A,N);\nlabel(\"$C$\",C,ESE);\nlabel(\"$G$\",G,S);\nlabel(\"$B'$\",E,ENE);\nlabel(\"$A'$\",D,S);\nlabel(\"$C'$\",F,WNW);\n</asy>\n\nThere are <math>12</math> smaller congruent triangles which make up the desired area. Also, <math>\\Delta ABC</math> is made up of <math>9</math> of such triangles. \nTherefore, <math>\\left[\\Delta ABC \\bigcup \\Delta A'B'C'\\right] = \\frac{12}{9}[\\Delta ABC]= \\frac{4}{3}\\cdot84=\\boxed{112}</math>."
  },
  {
    "year": 2003,
    "variant": "II",
    "problem_number": 7,
    "latex": "Find the area of rhombus <math>ABCD</math> given that the circumradii of triangles <math>ABD</math> and <math>ACD</math> are <math>12.5</math> and <math>25</math>, respectively.",
    "solution": "The diagonals of the rhombus perpendicularly bisect each other. Call half of diagonal BD <math>a</math> and half of diagonal AC <math>b</math>. The length of the four sides of the rhombus is <math>\\sqrt{a^2+b^2}</math>. \n\nThe area of any triangle can be expressed as <math>\\frac{a\\cdot b\\cdot c}{4R}</math>, where <math>a</math>, <math>b</math>, and <math>c</math> are the sides and <math>R</math> is the circumradius. Thus, the area of <math>\\triangle ABD</math> is <math>ab=2a(a^2+b^2)/(4\\cdot12.5)</math>. Also, the area of <math>\\triangle ABC</math> is <math>ab=2b(a^2+b^2)/(4\\cdot25)</math>. Setting these two expressions equal to each other and simplifying gives <math>b=2a</math>. Substitution yields <math>a=10</math> and <math>b=20</math>, so the area of the rhombus is <math>20\\cdot40/2=\\boxed{400}</math>."
  },
  {
    "year": 2003,
    "variant": "II",
    "problem_number": 8,
    "latex": "Find the eighth term of the sequence <math>1440,</math> <math>1716,</math> <math>1848,\\ldots,</math> whose terms are formed by multiplying the corresponding terms of two arithmetic sequences.",
    "solution": "If you multiply the corresponding terms of two arithmetic sequences, you get the terms of a quadratic function. Thus, we have a quadratic <math>ax^2+bx+c</math> such that <math>f(1)=1440</math>, <math>f(2)=1716</math>, and <math>f(3)=1848</math>. Plugging in the values for x gives us a system of three equations:\n\n<math>a+b+c=1440</math>\n\n<math>4a+2b+c=1716</math>\n\n<math>9a+3b+c=1848</math>\n\nSolving gives <math>a=-72, b=492,</math> and <math>c=1020</math>. Thus, the answer is <math>-72(8)^2+492\\cdot8+1020= \\boxed{348}.</math>"
  },
  {
    "year": 2003,
    "variant": "II",
    "problem_number": 9,
    "latex": "Consider the polynomials <math>P(x) = x^{6} - x^{5} - x^{3} - x^{2} - x</math> and <math>Q(x) = x^{4} - x^{3} - x^{2} - 1.</math> Given that <math>z_{1},z_{2},z_{3},</math> and <math>z_{4}</math> are the roots of <math>Q(x) = 0,</math> find <math>P(z_{1}) + P(z_{2}) + P(z_{3}) + P(z_{4}).</math>",
    "solution": "When we use long division to divide <math>P(x)</math> by <math>Q(x)</math>, the remainder is <math>x^2-x+1</math>.\n\nSo, since <math>z_1</math> is a root, <math>P(z_1)=(z_1)^2-z_1+1</math>.\n\nNow this also follows for all roots of <math>Q(x)</math>\nNow <cmath>P(z_2)+P(z_1)+P(z_3)+P(z_4)=z_1^2-z_1+1+z_2^2-z_2+1+z_3^2-z_3+1+z_4^2-z_4+1</cmath>\n\nNow by [[Vieta's formulas|Vieta's]] we know that <math>-z_4-z_3-z_2-z_1=-1</math>,\nso by [[Newton's Sums]] we can find <math>z_1^2+z_2^2+z_3^2+z_4^2</math>\n\n<math>a_ns_2+a_{n-1}s_1+2a_{n-2}=0</math>\n\n<math>(1)(s_2)+(-1)(1)+2(-1)=0</math>\n\n<math>s_2-1-2=0</math>\n\n<math>s_2=3</math>\n\nSo finally\n<math>P(z_2)+P(z_1)+P(z_3)+P(z_4)=3+4-1=\\boxed{006}.</math>"
  },
  {
    "year": 2003,
    "variant": "II",
    "problem_number": 10,
    "latex": "Two positive integers differ by <math>60</math>. The sum of their square roots is the square root of an integer that is not a perfect square. What is the maximum possible sum of the two integers?",
    "solution": "Call the two integers <math>b</math> and <math>b+60</math>, so we have <math>\\sqrt{b}+\\sqrt{b+60}=\\sqrt{c}</math>. Square both sides to get <math>2b+60+2\\sqrt{b^2+60b}=c</math>. Thus, <math>b^2+60b</math> must be a square, so we have <math>b^2+60b=n^2</math>, and <math>(b+n+30)(b-n+30)=900</math>. The sum of these two factors is <math>2b+60</math>, so they must both be even. To maximize <math>b</math>, we want to maximixe <math>b+n+30</math>, so we let it equal <math>450</math> and the other factor <math>2</math>, but solving gives <math>b=196</math>, which is already a perfect square, so we have to keep going. In order to keep both factors even, we let the larger one equal <math>150</math> and the other <math>6</math>, which gives <math>b=48</math>. This checks, so the solution is <math>48+108=\\boxed{156}</math>."
  },
  {
    "year": 2003,
    "variant": "II",
    "problem_number": 11,
    "latex": "Triangle <math>ABC</math> is a right triangle with <math>AC = 7,</math> <math>BC = 24,</math> and right angle at <math>C.</math> Point <math>M</math> is the midpoint of <math>AB,</math> and <math>D</math> is on the same side of line <math>AB</math> as <math>C</math> so that <math>AD = BD = 15.</math> Given that the area of triangle <math>CDM</math> may be expressed as <math>\\frac {m\\sqrt {n}}{p},</math> where <math>m,</math> <math>n,</math> and <math>p</math> are positive integers, <math>m</math> and <math>p</math> are relatively prime, and <math>n</math> is not divisible by the square of any prime, find <math>m + n + p.</math>",
    "solution": "===Solution 1===\n\nWe use the [[Pythagorean Theorem]] on <math>ABC</math> to determine that <math>AB=25.</math>\n\nLet <math>N</math> be the orthogonal projection from <math>C</math> to <math>AB.</math> Thus, <math>[CDM]=\\frac{(DM)(MN)} {2}</math>, <math>MN=BN-BM</math>, and <math>[ABC]=\\frac{24 \\cdot 7} {2} =\\frac{25 \\cdot (CN)} {2}.</math>\n\nFrom the third equation, we get \n<math>CN=\\frac{168} {25}.</math>\n\nBy the [[Pythagorean Theorem]] in <math>\\Delta BCN,</math> we have \n\n<math>BN=\\sqrt{\\left(\\frac{24 \\cdot 25} {25}\\right)^2-\\left(\\frac{24 \\cdot 7} {25}\\right)^2}=\\frac{24} {25}\\sqrt{25^2-7^2}=\\frac{576} {25}.</math> \n\nThus, \n<math>MN=\\frac{576} {25}-\\frac{25} {2}=\\frac{527} {50}.</math> \n\nIn <math>\\Delta ADM</math>, we use the [[Pythagorean Theorem]] to get \n<math>DM=\\sqrt{15^2-\\left(\\frac{25} {2}\\right)^2}=\\frac{5} {2} \\sqrt{11}.</math>\n\nThus, \n<math>[CDM]=\\frac{527 \\cdot 5\\sqrt{11}} {50 \\cdot 2 \\cdot 2}= \\frac{527\\sqrt{11}} {40}.</math>\n\nHence, the answer is <math>527+11+40=\\boxed{578}.</math>\n\n~ minor edits by kundusne000\n\n===Solution 2===\n\nBy the [[Pythagorean Theorem]] in <math>\\Delta AMD</math>, we get <math>DM=\\frac{5\\sqrt{11}} {2}</math>. Since <math>ABC</math> is a right triangle, <math>M</math> is the circumcenter and thus, <math>CM=\\frac{25} {2}</math>. We let <math>\\angle CMD=\\theta</math>. By the [[Law of Cosines]],\n\n<math>24^2 = 2 \\cdot (12.5)^2-2 \\cdot (12.5)^2 * \\cos (90+\\theta).</math>\n\nIt follows that <math>\\sin \\theta = \\frac{527} {625}</math>. Thus,\n<math>[CMD]=\\frac{1} {2} (12.5) \\left(\\frac{5\\sqrt{11}} {2}\\right)\\left(\\frac{527} {625}\\right)=\\frac{527\\sqrt{11}} {40}</math>.\n\n===Solution 3===\n\nSuppose <math>ABC</math> is plotted on the [[cartesian plane]] with <math>C</math> at <math>(0,0)</math>, <math>A</math> at <math>(0,7)</math>, and <math>B</math> at <math>(24,0)</math>.\nThen <math>M</math> is at <math>(12,3.5)</math>. Since <math>\\Delta ABD</math> is isosceles, <math>MD</math> is perpendicular to <math>AM</math>, and since <math>AM=12.5</math> and <math>AD=15, MD=2.5\\sqrt{11}</math>.\nThe slope of <math>AM</math> is <math>-\\frac{7}{24}</math> so the slope of <math>MD</math> is <math>\\frac{24}{7}</math>.\nDraw a vertical line through <math>M</math> and a horizontal line through <math>D</math>. Suppose these two lines meet at <math>X</math>. then <math>MX=\\frac{24}{7}DX</math> so <math>MD=\\frac{25}{7}DX=\\frac{25}{24}MD</math> by the pythagorean theorem.\nSo <math>MX=2.4\\sqrt{11}</math> and <math>DX=.7\\sqrt{11}</math> so the coordinates of D are <math>(12-.7\\sqrt{11},\\, 3.5-2.4\\sqrt{11})</math>.\nSince we know the coordinates of each of the vertices of <math>\\Delta CMD</math>, we can apply the [[Shoelace Theorem]] to find the area of <math>\\Delta CMD, \\frac{527 \\sqrt{11}}{40}</math>.\n\n~ minor edit by kundusne000\n\n===Solution 4===\n\nLet <math>E</math> be the intersection of lines <math>BC</math> and <math>DM</math>.  Since triangles <math>\\Delta CME</math> and <math>\\Delta CMD</math> share a side and height, the area of <math>\\Delta CDM</math> is equal to <math>\\frac{DM}{EM}</math> times the area of <math>\\Delta CME</math>.\nBy AA similarity, <math>\\Delta EMB</math> is similar to <math>\\Delta ACB</math>, <math>\\frac{EM}{AC}=\\frac{MB}{CB}</math>. Solving yields <math>EM=\\frac{175}{48}</math>. Using the same method but for <math>EB</math> yields <math>EB=\\frac{625}{48}</math>. As in previous solutions, by the [[Pythagorean Theorem]], <math>DM=\\frac{5\\sqrt{11}}{2}</math>. So, <math>\\frac{DM}{EM}=\\frac{24\\sqrt{11}}{35}</math>.\nNow, since we know both <math>CB</math> and <math>EB</math>, we can find that <math>CE=\\frac{527}{48}</math>. The height of <math>\\Delta CME</math> is the length from point <math>M</math> to <math>CB</math>. Since <math>M</math> is the midpoint of <math>AB</math>, the height is just <math>\\frac{1}{2}\\cdot7=\\frac{7}{2}</math>. Using this, we can find that the area of <math>\\Delta CMD</math> is <math>\\frac{1}{2}\\cdot\\frac{7}{2}\\cdot\\frac{527}{48}\\cdot\\frac{24\\sqrt{11}}{35}=\\frac{527\\sqrt{11}}{40}</math>, giving our answer of <math>\\boxed{578}</math>.\n\nSolution by someonenumber011."
  },
  {
    "year": 2003,
    "variant": "II",
    "problem_number": 12,
    "latex": "The members of a distinguished committee were choosing a president, and each member gave one vote to one of the 27 candidates.  For each candidate, the exact percentage of votes the candidate got was smaller by at least 1 than the number of votes for that candidate.  What was the smallest possible number of members of the committee?",
    "solution": "Let <math>v_i</math> be the number of votes candidate <math>i</math> received, and let <math>s=v_1+\\cdots+v_{27}</math> be the total number of votes cast. Our goal is to determine the smallest possible <math>s</math>.\n\nCandidate <math>i</math> got <math>\\frac{v_i}s</math> of the votes, hence the percentage of votes they received is <math>\\frac{100v_i}s</math>. The condition in the problem statement says that <math>\\forall i: \\frac{100v_i}s + 1 \\leq v_i</math>.  (<math>\\forall</math> means \"for all\", so this means \"For all <math>i</math>, <math>\\frac{100v_i}s + 1 \\leq v_i</math> is true\")\n\nObviously, if some <math>v_i</math> would be <math>0</math> or <math>1</math>, the condition would be false. Thus <math>\\forall i: v_i\\geq 2</math>. We can then rewrite the above inequality as <math>\\forall i: s\\geq\\frac{100v_i}{v_i-1}</math>. \n\nIf for some <math>i</math> we have <math>v_i=2</math>, then from the inequality we just derived we would have <math>s\\geq 200</math>.\n\nIf for some <math>i</math> we have <math>v_i=3</math>, then <math>s\\geq 150</math>.\n\nAnd if for some <math>i</math> we have <math>v_i=4</math>, then <math>s\\geq \\frac{400}3 = 133\\frac13</math>, and hence <math>s\\geq 134</math>.\n\nIs it possible to have <math>s<134</math>? We just proved that to have such <math>s</math>, all <math>v_i</math> have to be at least <math>5</math>. But then <math>s=v_1+\\cdots+v_{27}\\geq 27\\cdot 5 = 135</math>, which is a contradiction. Hence the smallest possible <math>s</math> is at least <math>134</math>.\n\nNow consider a situation where <math>26</math> candidates got <math>5</math> votes each, and one candidate got <math>4</math> votes. In this situation, the total number of votes is exactly <math>134</math>, and for each candidate the above inequality is satisfied. Hence the minimum number of committee members is <math>s=\\boxed{134}</math>.\n\nNote: Each of the <math>26</math> candidates received <math>\\simeq 3.63\\%</math> votes, and the last candidate received <math>\\simeq 2.985\\%</math> votes."
  },
  {
    "year": 2003,
    "variant": "II",
    "problem_number": 13,
    "latex": "A bug starts at a vertex of an equilateral triangle. On each move, it randomly selects one of the two vertices where it is not currently located, and crawls along a side of the triangle to that vertex. Given that the probability that the bug moves to its starting vertex on its tenth move is <math>m/n,</math> where <math>m</math> and <math>n</math> are relatively prime positive integers, find <math>m + n.</math>",
    "solution": "===Solution 1 (Easiest)===\nLet <math>P_n</math> represent the probability that the bug is at its starting vertex after <math>n</math> moves. If the bug is on its starting vertex after <math>n</math> moves, then it must be not on its starting vertex after <math>n-1</math> moves. At this point it has <math>\\frac{1}{2}</math> chance of reaching the starting vertex in the next move. Thus <math>P_n=\\frac{1}{2}(1-P_{n-1})</math>. \n<math>P_0=1</math>, so now we can build it up:\n\n<math>P_1=0</math>,\n<math>P_2=\\frac{1}{2}</math>,\n<math>P_3=\\frac{1}{4}</math>,\n<math>P_4=\\frac{3}{8}</math>,\n<math>P_5=\\frac{5}{16}</math>,\n<math>P_6=\\frac{11}{32}</math>,\n<math>P_7=\\frac{21}{64}</math>,\n<math>P_8=\\frac{43}{128}</math>,\n<math>P_9=\\frac{85}{256}</math>,\n<math>P_{10}=\\frac{171}{512}</math>,\n\nThus the answer is <math>171+512=</math><math>\\boxed{683}</math>\n\n===Solution 2 (also easiest)===\nConsider there to be a clockwise and a counterclockwise direction around the triangle.  Then, in order for the ant to return to the original vertex, the net number of clockwise steps must be a multiple of 3, i.e., <math>\\#CW - \\#CCW \\equiv 0 \\pmod{3}</math>.  Since <math>\\#CW + \\#CCW = 10</math>, it is only possible that <math>(\\#CW,\\, \\#CCW) = (5,5), (8,2), (2,8)</math>.\n\nIn the first case, we pick <math>5</math> out of the ant's <math>10</math> steps to be clockwise, for a total of <math>{10 \\choose 5}</math> paths.  In the second case, we choose <math>8</math> of the steps to be clockwise, and in the third case we choose <math>2</math> to be clockwise.  Hence the total number of ways to return to the original vertex is <math>{10 \\choose 5} + {10 \\choose 8} + {10 \\choose 2} = 252 + 45 + 45 = 342</math>.  Since the ant has two possible steps at each point, there are <math>2^{10}</math> routes the ant can take, and the probability we seek is <math>\\frac{342}{2^{10}} = \\frac{171}{512}</math>, and the answer is <math>\\boxed{683}</math>.\n\n===Solution 3===\nLabel the vertices of the triangle <math>A,B,C</math> with the ant starting at <math>A</math>. We will make a table of the number of ways to get to <math>A,B,C</math> in <math>n</math> moves <math>n\\leq10</math>. The values of the table are calculated from the fact that the number of ways from a vertex say <math>A</math> in <math>n</math> steps equals the number of ways to get to <math>B</math> in <math>n-1</math> steps plus the number of ways to get to <math>C</math> in <math>n-1</math> steps.\n\n\n\n\n<cmath>\\begin{array}{|l|ccc|}\n\\multicolumn{4}{c}{\\text{Table}}\\\\\\hline\n\\text{Step}&A&B&C \\\\\\hline\n1 &0 &1 &1 \\\\\n2 &2 &1 &1 \\\\\n3 &2 &3 &3\\\\\n\\vdots &\\vdots&\\vdots&\\vdots \\\\\n10 &342 &341 &341 \\\\\\hline\n\\end{array}</cmath>\nTherefore, our answer is <math>512+171=\\boxed{683}.</math>\n\n\n\nNotice the pattern that there are <math>\\left\\lceil\\frac{2^n}{3}\\right\\rceil</math> way to get to <math>A</math> for even <math>n</math> moves. Thus, there are <math>\\left\\lceil\\frac{2^{10}}{3}\\right\\rceil=342</math> ways.\n\n===Solution 4===\nNotice that this problem can be converted into a Markov Chain transition matrix.\n\nThe transition matrix is { {0,1,1}, {1,0,1} , {1,1,0} } * (1/2) . Then use the exponentiation method of squaring ( A*A---(A^2)*(A^2)---(A^4*A^4)--(A^8*A^2) to get the transition value of 342. Divide by 2^10 for the probability, reduce fractions, for the result of 171+512 = 683.\n\n===Solution 4.1 (solution 4 but rigorized and generalized)===\n\nAs a note, do NOT do this on the exam as it will eat up your time, but feel free to experiment around with this if you have a good enough understanding of linear algebra. This writeup will be extremely lengthy because I am assuming just very basic concepts of linear algebra. The concepts here extend to higher levels of mathematics, so feel free to explore more in depth so that you can end up solving almost any variation of this classic problem.\n\n====4.1.1: Conceptual Setup====\nThere are a possible of 3 states for this problem, so we can model the problem as a stochastic process. The resulting process has a transition matrix of:\n\n<cmath>\\hat{T} = \\begin{bmatrix}\n0 & 0.5 & 0.5\\\\\n0.5 & 0 & 0.5\\\\\n0.5 & 0.5 & 0\n\\end{bmatrix}</cmath>\n\nWe aim to diagonalize this transition matrix to make it easier to exponentiate by converting it into what's known as it's Jordan Canonical Form. \n====4.1.2: Eigenvalue/vector bash====\nIn order to do this, we must extract the eigenvalues and eigenvectors of the matrix. The eigenpolynomial for this matrix is obtained by calculating this matrix's determinant with <math>0-\\lambda</math> about it's main diagonal like so:\n<cmath>\\hat{T}_{\\lambda} = \\begin{bmatrix}\n0-\\lambda & 0.5 & 0.5\\\\\n0.5 & 0-\\lambda & 0.5\\\\\n0.5 & 0.5 & 0-\\lambda\n\\end{bmatrix}</cmath>\n\nWe have the matrix's eigenpolynomial to be <math>\\lambda^3 - \\frac{3\\lambda}{4} + \\frac{1}{4}</math>, and extracting eigenvalues by setting the polynomial equal to <math>0</math>, we have 2 eigenvalues: <math>\\lambda_1 = 1</math> of multiplicity 1, and <math>\\lambda_2 = -\\frac{1}{2}</math> of multiplicity 2. To extract the eigenvectors, we must assess the kernel of this matrix (also known as the null space), or the linear subspace of the domain of <math>\\hat{T}</math> where everything gets mapped to the null vector. \n\nWe first do this for <math>\\lambda_1</math>. Taking <math>-\\lambda_1</math> across the diagonals to get <math>\\hat{T}_{\\lambda_1} = \\begin{bmatrix}\n-1 & 0.5 & 0.5\\\\\n0.5 & -1 & 0.5\\\\\n0.5 & 0.5 & -1\n\\end{bmatrix}</math>, we first reduce it to reduced row echelon form, which is <math>\\begin{bmatrix}\n1 & 0 & -1\\\\\n0 & 1 & -1\\\\\n0 & 0 & 0\n\\end{bmatrix}</math>. From here, we compute the kernel by setting  <cmath>\\begin{bmatrix}\n1 & 0 & -1\\\\\n0 & 1 & -1\\\\\n0 & 0 & 0\n\\end{bmatrix} \\begin{bmatrix}\nx_1\\\\\nx_2\\\\\nx_3 \n\\end{bmatrix} = 0</cmath>. So if we take our free variable <math>x_3 = 0 = t</math>, then that means that in the same fashion, <math>x_1 - x_1 = x_2 - x_2 = 0 = t</math>, so hence, the kernel of <math>\\hat{T}_{\\lambda} = \\begin{bmatrix}\nt\\\\\nt\\\\\nt\n\\end{bmatrix}</math>, or more simply, <math>t\\begin{bmatrix}\n1\\\\\n1\\\\\n1\n\\end{bmatrix}</math>. <math>\\begin{bmatrix}\n1\\\\\n1\\\\\n1\n\\end{bmatrix}</math> is the eigenvector corresponding to <math>\\lambda_1</math>. We do the same computations for our second unique eigenvalue, but I will save the computation to you. There are actually 2 eigenvectors for <math>\\lambda_2</math>, because the reduced row echelon form for <math>\\hat{T}_{\\lambda_2}</math> has 2 free variables instead of 1, so our eigenvectors for <math>\\lambda_2</math> are <math>\\begin{bmatrix}\n-1\\\\\n1\\\\\n0\n\\end{bmatrix}, \\begin{bmatrix}\n-1\\\\\n0\\\\\n1\n\\end{bmatrix}</math>. We are now ready to begin finding the Jordan canonical form\n====4.1.3 Jordan Canonical Form====\nIn linear algebra, the JCF (which also goes by the name of Jordan Normal Form) is an upper triangular matrix representing a linear transformation over a finite-dimensional complex vector space. Any square matrix that has a Jordan Canonical Form has its field of coefficients extended into a field containing all it's eigenvalues. You can find more information about them on google, as well as exactly how to find them but for now let's get on with the problem. I will skip the computation in this step, largley because this writeup is already gargantuan for a simple AIME problem, and because there are countless resources explaining how to do so.\n\nWe aim to decompose <math>\\hat{T}</math> into the form <math>\\hat{T} = SJS^{-1}</math>, where <math>S</math> is a matrix whose columns consist of the eigenvectors of <math>\\hat{T}</math>, <math>J</math> is the Jordan matrix, and <math>S^{-1}</math> is, well, the inverse of <math>S</math>. We have 1 eigenvalue of multiplicity 1, and 1 of multiplicity 2, so based on this info, we set our eigenvalues along the diagonals like so.\nWe have:\n<cmath>J = \\begin{bmatrix}\n-\\frac{1}{2} & 0 & 0\\\\\n0 & -\\frac{1}{2} & 0\\\\\n0 & 0 & 1\n\\end{bmatrix}, S = \\begin{bmatrix}\n-1 & -1 & 1\\\\\n0 & 1 & 1\\\\\n1 & 0 & 1\n\\end{bmatrix}, S^{-1} = \\frac{1}{3}\\begin{bmatrix}\n-1 & -1 & 2\\\\\n-1 & 2 & -1\\\\\n1 & 1 & 1\n\\end{bmatrix}</cmath>\nand so:\n<cmath>\\hat{T} = \\begin{bmatrix}\n0 & 0.5 & 0.5\\\\\n0.5 & 0 & 0.5\\\\\n0.5 & 0.5 & 0\n\\end{bmatrix} = SJS^{-1} = \\begin{bmatrix}\n-1 & -1 & 1\\\\\n0 & 1 & 1\\\\\n1 & 0 & 1\n\\end{bmatrix}\\begin{bmatrix}\n-\\frac{1}{2} & 0 & 0\\\\\n0 & -\\frac{1}{2} & 0\\\\\n0 & 0 & 1\n\\end{bmatrix}\\begin{bmatrix}\n-\\frac{1}{3} & -\\frac{1}{3} & \\frac{2}{3}\\\\\n-\\frac{1}{3} & \\frac{2}{3} & -\\frac{1}{3}\\\\\n\\frac{1}{3} & \\frac{1}{3} & \\frac{1}{3}\n\\end{bmatrix}</cmath>\nNow that we have converted to Jordan Canonical Form, it is extremely easy to compute <math>\\hat{T}^n</math>.\n====4.1.4: Using the JCF to calculate the transition matrix to the power of any n, large or small====\nIt is an important fact that for any matrix <math>K</math> with Jordan decomposition <math>SJ_kS^{-1}</math>, we have that <math>K^n = S(J_k)^nS^{-1}</math>\nUsing this fact, we aim to find the general solution for the problem. \n<math>J^n = \\begin{bmatrix}\n\\left(-\\frac{1}{2}\\right)^n & 0 & 0\\\\\n0 & \\left(-\\frac{1}{2}\\right)^n & 0\\\\\n0 & 0 & 1\n\\end{bmatrix}</math>, and using the laws of matrix multiplication, <cmath>SJ^n = \\begin{bmatrix}\n(-1)^{n+1}\\left(\\frac{1}{2}\\right)^n & (-1)^{n+1}\\left(\\frac{1}{2}\\right)^n & 1\\\\\n0 & \\left(-\\frac{1}{2}\\right)^n & 1\\\\\n\\left(-\\frac{1}{2}\\right)^n & 0 & 1\n\\end{bmatrix}</cmath>\nSo finally, our final, generalized transition matrix after any number of steps <math>n</math> is:\n<cmath>\\hat{T}^n = \\begin{bmatrix}\n\\frac{1}{3} - \\frac{1}{3}(-1)^{1+n}(2)^{1-n} & \\frac{1}{3} + \\frac{1}{3}(-1)^{n+1}(2)^{1-(1+n)} & \\frac{1}{3} + \\frac{1}{3}(-1)^{n+1}(2)^{1-(1+n)}\\\\\n\\frac{1}{3} + \\frac{1}{3}(-1)^{n+1}(2)^{1-(1+n)} & \\frac{1}{3} - \\frac{1}{3}(-1)^{1+n}(2)^{1-n} & \\frac{1}{3} + \\frac{1}{3}(-1)^{n+1}(2)^{1-(1+n)}\\\\\n\\frac{1}{3} + \\frac{1}{3}(-1)^{n+1}(2)^{1-(1+n)} & \\frac{1}{3} + \\frac{1}{3}(-1)^{n+1}(2)^{1-(1+n)} & \\frac{1}{3} - \\frac{1}{3}(-1)^{1+n}(2)^{1-n}\n\\end{bmatrix}</cmath>\n====4.1.5 just plugging in for this problem lol====\nFor the sake of this problem, we seek the top left element, which is <math>\\frac{1}{3} - \\frac{1}{3}(-1)^{1+n}(2)^{1-n}</math>. Substituting <math>n=10</math> readily gives the probability of the bug reaching it's starting position within 10 moves to be <math>\\frac{171}{512} \\implies m+n = \\boxed{683}</math>\n\nAnd we have also derived formulae for the bug reaching any state within <math>n</math> moves as a byproduct!\n\n~RedFlame2112\n\n===Solution 5 (guess & check)===\nThis method does not rigorously get the answer, but it works. As the bug makes more and more moves, the probability of it going back to the origin approaches closer and closer to 1/3. Therefore, after 10 moves, the probability gets close to <math>341.33/1024</math>. We can either round up or down. If we round down, we see <math>341/1024</math> cannot be reduced any further and because the only answers on the AIME are below 1000, this cannot be the right answer. However, if we round up, <math>342/1024</math> can be reduced to <math>171/512</math> where the sum 171+512= <math>\\boxed{683}</math> is an accepted answer.\n\n===Solution 6 (generating functions)===\nThe generating function for this is <math>(x+x^2)</math> since an ant on any vertex of the equilateral triangle can go <math>120</math> degrees or <math>240</math> degrees to a side and simplifying <math>(x^{120}+x^{240})</math> gets you <math>(x+x^2)</math>. Since <math>360</math> degrees brings you back to the original vertex then we must find the sum of the coefficients that share a variable with a power divisible by <math>3</math>.\n\nSince we take this rotation <math>10</math> times, our function becomes <math>(x+x^2)^{10}</math> which is the same as <math>x^{10}(x+1)^{10}</math>. This completely simplified is <math>x(x+1)^{10}</math> and since your maximum power is <math>11</math>, we only have to find the coefficients for <math>3</math>, <math>6</math>, and <math>9</math> (<math>0</math> would apply here but the <math>x</math> is the lowest power there is).\n\nFor <math>x^9</math>, the coefficient is <math>{10 \\choose 2}</math> , and the same goes for <math>x^3</math>. For <math>x^6</math>, the coefficient is <math>{10 \\choose 5}</math> and the final sum for the numerator is <math>2*{10 \\choose 2} + {10 \\choose 5}</math> . The total sum is <math>90+252=342</math> and for the denominator, it was simply <math>2^{10}</math> and this simplified was <math>171/512</math>. Therefore the sum is <math>683</math>.\n\n===Solution 7 (trees)===\nStart of with any vertex, say <math>A</math>. Denote <math>a_n</math> the number of paths ending where it started. Then notice that for a path to end in the vertex you started on, you must have for the <math>(n-1)</math> case that of the <math>2^{n-1}</math> total paths, we must take away the paths that end in the <math>(n-1)</math>-st term where it started off. (Because imagine on the <math>(n-1)</math> move that it landed on vertex <math>A</math>. Then if we wanted to find the number of length <math>n</math> paths that end at <math>A</math>, we would be able to find that path, because on the <math>(n-1)</math>-st move it landed at <math>A</math>. You can't go from <math>A</math> to <math>A</math>). Hence we have the recursion <math>a_n=2^{n-1}-a_{n-1}</math>, with <math>a_3 = 2</math>. Now reiterating gives us <math>a_{10} = 342</math>, so that the probability is <math>\\frac{342}{2^{10}} = \\frac{171}{512}</math>. So we have <math>171 + 512 = \\boxed{683}</math>.\n~th1nq3r\n\n(Note: One might be confused because you might think maybe \"But we only did it for case <math>A</math>. Now for <math>B</math> and <math>C</math>. Oh wait they are symmetric. So then if this is the correct answer, why am I wrong, or what happened to that factor of <math>3</math>?\" Well truth be told, I skipped a somewhat major step. Notice that the total amount <math>2^n</math> only comes from if we START OFF at vertex <math>A</math>. So we really need to multiply <math>2^n</math> by <math>3</math> to get <math>3(2^n)</math> as the TRUE total amount. However this factor of <math>3</math> doesn't matter because now that we do case work, let <math>a_n</math> once again denote the number of paths starting at vertex <math>A</math>. Then abusing symmetry, we have that the number of paths ending where it started as <math>3(a_n)=3(2^{n-1}-a_{n-1})</math>. So now when we take the probability, we cancel the factor of <math>3</math>, and obtain the same answer as if it were for all three vertices).\n\n===Video Solution by Sal Khan===\nhttps://www.youtube.com/watch?v=vKMNRcctwL4&list=PLSQl0a2vh4HCtW1EiNlfW_YoNAA38D0l4&index=20 - AMBRIGGS"
  },
  {
    "year": 2003,
    "variant": "II",
    "problem_number": 14,
    "latex": "Let <math>A = (0,0)</math> and <math>B = (b,2)</math> be points on the coordinate plane. Let <math>ABCDEF</math> be a convex equilateral hexagon such that <math>\\angle FAB = 120^\\circ,</math> <math>\\overline{AB}\\parallel \\overline{DE},</math> <math>\\overline{BC}\\parallel \\overline{EF,}</math> <math>\\overline{CD}\\parallel \\overline{FA},</math> and the y-coordinates of its vertices are distinct elements of the set <math>\\{0,2,4,6,8,10\\}.</math> The area of the hexagon can be written in the form <math>m\\sqrt {n},</math> where <math>m</math> and <math>n</math> are positive integers and <math>n</math> is not divisible by the square of any prime. Find <math>m + n.</math>",
    "solution": "The y-coordinate of <math>F</math> must be <math>4</math>.  All other cases yield non-convex and/or degenerate hexagons, which violate the problem statement.\n\nLetting <math>F = (f,4)</math>, and knowing that <math>\\angle FAB = 120^\\circ</math>, we can use rewrite <math>F</math> using complex numbers:\n<math>f + 4 i = (b + 2 i)\\left(e^{i(2 \\pi / 3)}\\right) = (b + 2 i)\\left(-\\frac{1}{2} + \\frac{\\sqrt{3}}{2} i\\right) = -\\frac{b}{2}-\\sqrt{3}+\\left(\\frac{b\\sqrt{3}}{2}-1\\right)i</math>.  We solve for <math>b</math> and <math>f</math> and find that <math>F = \\left(-\\frac{8}{\\sqrt{3}}, 4\\right)</math> and that <math>B = \\left(\\frac{10}{\\sqrt{3}}, 2\\right)</math>.\n\nThe area of the hexagon can then be found as the sum of the areas of two congruent triangles (<math>EFA</math> and <math>BCD</math>, with height <math>8</math> and base <math>\\frac{8}{\\sqrt{3}}</math>) and a parallelogram (<math>ABDE</math>, with height <math>8</math> and base <math>\\frac{10}{\\sqrt{3}}</math>).\n\n<math>A = 2 \\times \\frac{1}{2} \\times 8 \\times \\frac{8}{\\sqrt{3}} + 8 \\times \\frac{10}{\\sqrt{3}} = \\frac{144}{\\sqrt{3}} = 48\\sqrt{3}</math>.\n\nThus, <math>m+n = \\boxed{051}</math>."
  },
  {
    "year": 2003,
    "variant": "II",
    "problem_number": 15,
    "latex": "Let <cmath>P(x) = 24x^{24} + \\sum_{j = 1}^{23}(24 - j)(x^{24 - j} + x^{24 + j}).</cmath> Let <math>z_{1},z_{2},\\ldots,z_{r}</math> be the distinct zeros of <math>P(x),</math> and let <math>z_{k}^{2} = a_{k} + b_{k}i</math> for <math>k = 1,2,\\ldots,r,</math> where <math>a_{k}</math> and <math>b_{k}</math> are real numbers. Let\n<center><math>\\sum_{k = 1}^{r}|b_{k}| = m + n\\sqrt {p},</math></center>\nwhere <math>m, n,</math> and <math>p</math> are integers and <math>p</math> is not divisible by the square of any prime. Find <math>m + n + p.</math>",
    "solution": "This can be factored as:\n\n<cmath> P(x) = x\\left( x^{23} + x^{22} + \\cdots + x^2 + x + 1 \\right)^2 </cmath>\n\nNote that <math> \\left( x^{23} + x^{22} + \\cdots + x^2 + x + 1 \\right) \\cdot (x-1) = x^{24} - 1 </math>.\nSo the roots of <math>x^{23} + x^{22} + \\cdots + x^2 + x + 1</math> are exactly all <math>24</math>-th complex roots of <math>1</math>, except for the root <math>x=1</math>. \n\nLet <math>\\omega=\\cos \\frac{360^\\circ}{24} + i\\sin \\frac{360^\\circ}{24}</math>. Then the distinct zeros of <math>P</math> are <math>0,\\omega,\\omega^2,\\dots,\\omega^{23}</math>.\n\nWe can clearly ignore the root <math>x=0</math> as it does not contribute to the value that we need to compute. \n\nThe squares of the other roots are <math>\\omega^2,~\\omega^4,~\\dots,~\\omega^{24}=1,~\\omega^{26}=\\omega^2,~\\dots,~\\omega^{46}=\\omega^{22}</math>.\n\nHence we need to compute the following sum:\n\n<cmath>R = \\sum_{k = 1}^{23} \\left|\\, \\sin \\left( k\\cdot \\frac{360^\\circ}{12} \\right) \\right|</cmath>\n\nUsing basic properties of the sine function, we can simplify this to\n\n<cmath>R = 4 \\cdot \\sum_{k = 1}^{5} \\sin \\left( k\\cdot \\frac{360^\\circ}{12} \\right)</cmath>\n\nThe five-element sum is just <math>\\sin 30^\\circ + \\sin 60^\\circ + \\sin 90^\\circ + \\sin 120^\\circ + \\sin 150^\\circ</math>. \nWe know that <math>\\sin 30^\\circ = \\sin 150^\\circ = \\frac 12</math>, <math>\\sin 60^\\circ = \\sin 120^\\circ = \\frac{\\sqrt 3}2</math>, and <math>\\sin 90^\\circ = 1</math>.\nHence our sum evaluates to:\n\n<cmath>R = 4 \\cdot \\left( 2\\cdot \\frac 12 + 2\\cdot \\frac{\\sqrt 3}2 + 1 \\right) = 8 + 4\\sqrt 3</cmath>\n\nTherefore the answer is <math>8+4+3 = \\boxed{015}</math>."
  },
  {
    "year": 2004,
    "variant": "I",
    "problem_number": 1,
    "latex": "The digits of a positive integer <math> n </math> are four consecutive integers in decreasing order when read from left to right. What is the sum of the possible remainders when <math> n </math> is divided by <math>37</math>?",
    "solution": "A brute-force solution to this question is fairly quick, but we'll try something slightly more clever:  our numbers have the form <math>{\\underline{(n+3)}}\\,{\\underline{(n+2)}}\\,{\\underline{( n+1)}}\\,{\\underline {(n)}} </math><math>= 1000(n + 3) + 100(n + 2) + 10(n + 1) + n = 3210 + 1111n</math>, for <math>n \\in \\lbrace0, 1, 2, 3, 4, 5, 6\\rbrace</math>.\n\nNow, note that <math>3\\cdot 37 = 111</math> so <math>30 \\cdot 37 = 1110</math>, and <math>90 \\cdot 37 = 3330</math> so <math>87 \\cdot 37 = 3219</math>. So the [[remainder]]s are all congruent to <math>n - 9 \\pmod{37}</math>. However, these numbers are negative for our choices of <math>n</math>, so in fact the remainders must equal <math>n + 28</math>.\n\nAdding these numbers up, we get <math>(0 + 1 + 2 + 3 + 4 + 5 + 6) + 7\\cdot28 = \\boxed{217}</math>"
  },
  {
    "year": 2004,
    "variant": "I",
    "problem_number": 2,
    "latex": "[[Set]] <math>A</math> consists of <math>m</math> consecutive integers whose sum is <math>2m</math>, and set <math>B</math> consists of <math>2m</math> consecutive integers whose sum is <math>m.</math> The absolute value of the difference between the greatest element of <math>A</math> and the greatest element of <math>B</math> is <math>99</math>. Find <math>m.</math>",
    "solution": "Note that since set <math>A</math> has <math>m</math> consecutive integers that sum to <math>2m</math>, the middle integer (i.e., the median) must be <math>2</math>.  Therefore, the largest element in <math>A</math> is <math>2 + \\frac{m-1}{2}</math>. \n\nFurther, we see that the median of set <math>B</math> is <math>0.5</math>, which means that the \"middle two\" integers of set <math>B</math> are <math>0</math> and <math>1</math>.  Therefore, the largest element in <math>B</math> is <math>1 + \\frac{2m-2}{2} = m</math>.  <math>2 + \\frac{m-1}{2} > m</math> if <math>m < 3</math>, which is clearly not possible, thus <math>2 + \\frac{m-1}{2} < m</math>.\n\nSolving, we get <cmath>\\begin{align*}\nm - 2 - \\frac{m-1}{2} &= 99\\\\ m-\\frac{m}{2}+\\frac{1}{2}&=101\\\\ \\frac{m}{2}&=100\\frac{1}{2}.\\\\ m &= \\boxed{201}\\end{align*}</cmath>"
  },
  {
    "year": 2004,
    "variant": "I",
    "problem_number": 3,
    "latex": "A [[convex]] polyhedron <math> P </math> has <math>26</math> vertices, <math>60</math> edges, and <math>36</math> faces, <math>24</math> of which are triangular and <math>12</math> of which are quadrilaterals. A space diagonal is a line segment connecting two non-adjacent vertices that do not belong to the same face. How many space diagonals does <math> P </math> have?",
    "solution": "Every pair of [[vertex | vertices]] of the [[polyhedron]] determines either an [[edge]], a face [[diagonal]] or a space diagonal.  We have <math>{26 \\choose 2} = \\frac{26\\cdot25}2 = 325</math> total [[line segment]]s determined by the vertices.  Of these, <math>60</math> are edges.  Each [[triangle|triangular]] face has <math>0</math> face diagonals and each [[quadrilateral]] face has <math>2</math>, so there are <math>2 \\cdot 12 = 24</math> face diagonals.  This leaves <math>325 - 60 - 24 = \\boxed{241}</math> segments to be the space diagonals."
  },
  {
    "year": 2004,
    "variant": "I",
    "problem_number": 4,
    "latex": "[[square (geometry) | Square]] <math>ABCD</math> has sides of length 2.  [[Set]] <math> S  </math> is the set of all [[line segment]]s that have length 2 and whose [[endpoint]]s are on adjacent sides of the square. The [[midpoint]]s of the line segments in set <math> S </math> enclose a region whose [[area]] to the nearest hundredth is <math>k</math>.  Find <math> 100k</math>.",
    "solution": "Without loss of generality, let <math>(0,0)</math>, <math>(2,0)</math>, <math>(0,2)</math>, and <math>(2,2)</math> be the [[vertex | vertices]] of the square. Suppose the endpoints of the segment lie on the two sides of the square determined by the vertex <math>(0,0)</math>.  Let the two endpoints of the segment have coordinates <math>(x,0)</math> and <math>(0,y)</math>. Because the segment has length 2, <math>x^2+y^2=4</math>. Using the midpoint formula, we find that the midpoint of the segment has coordinates <math>\\left(\\frac{x}{2},\\frac{y}{2}\\right)</math>. Let <math>d</math> be the distance from <math>(0,0)</math> to <math>\\left(\\frac{x}{2},\\frac{y}{2}\\right)</math>. Using the [[distance formula]] we see that <math>d=\\sqrt{\\left(\\frac{x}{2}\\right)^2+\\left(\\frac{y}{2}\\right)^2}=\n\\sqrt{\\frac{1}{4}\\left(x^2+y^2\\right)}=\\sqrt{\\frac{1}{4}(4)}=1</math>. Thus the midpoints lying on the sides determined by vertex <math>(0,0)</math> form a quarter-[[circle]] with [[radius]] 1.  \n<center><asy>\nsize(100);\npointpen=black;pathpen = black+linewidth(0.7);\npair A=(0,0),B=(2,0),C=(2,2),D=(0,2);\nD(A--B--C--D--A); \npicture p;\ndraw(p,CR(A,1));draw(p,CR(B,1));draw(p,CR(C,1));draw(p,CR(D,1));\nclip(p,A--B--C--D--cycle);\nadd(p);\n</asy></center>\nThe set of all midpoints forms a quarter circle at each corner of the square.  The area enclosed by all of the midpoints is <math>4-4\\cdot \\left(\\frac{\\pi}{4}\\right)=4-\\pi \\approx .86</math> to the nearest hundredth. Thus <math>100\\cdot k=\\boxed{86}</math>"
  },
  {
    "year": 2004,
    "variant": "I",
    "problem_number": 5,
    "latex": "Alpha and Beta both took part in a two-day problem-solving competition. At the end of the second day, each had attempted questions worth a total of 500 points. Alpha scored 160 points out of 300 points attempted on the first day, and scored 140 points out of 200 points attempted on the second day. Beta who did not attempt 300 points on the first day, had a positive integer score on each of the two days, and Beta's daily success rate (points scored divided by points attempted) on each day was less than Alpha's on that day. Alpha's two-day success ratio was 300/500 = 3/5. The largest possible two-day success ratio that Beta could achieve is <math> m/n, </math> where <math> m </math> and <math> n </math> are relatively prime positive integers. What is <math> m+n </math>?",
    "solution": "Let <math>q</math> be the number of questions Beta takes on day 1 and <math>a</math> be the number he gets right. Let <math>b</math> be the number he gets right on day 2.\n\nThese inequalities follow:\n<cmath>\n\\frac{a}{q} < \\frac{160}{300} = \\frac{8}{15}\n</cmath>\n<cmath>\n\\frac{b}{500-q} < \\frac{140}{200} = \\frac{7}{10}\n</cmath>\nSolving for a and b and adding the two inequalities:\n<cmath>\na + b < \\frac{8}{15}q + (350 - \\frac{7}{10}q)\n</cmath>\n<cmath>a + b < 350 - \\frac{1}{6}q\n</cmath>\nFrom here, we see the largest possible value of <math>a+b</math> is <math>349</math>.\n\nChecking our conditions, we know that <math>a</math> must be positive so therefore <math>q</math> must be positive. A quick check shows that for <math>2\\le q \\le 5</math>, <math>q</math> follows all the conditions and results in <math>a+b=349</math>.\n\nThis makes Beta's success ratio <math>\\frac{349}{500}</math>. Thus, the answer is <math>m+n = 349 + 500 = \\boxed{849}</math>."
  },
  {
    "year": 2004,
    "variant": "I",
    "problem_number": 6,
    "latex": "An integer is called snakelike if its decimal representation <math> a_1a_2a_3\\cdots a_k </math> satisfies <math> a_i<a_{i+1} </math> if <math> i </math> is [[odd integer | odd]] and <math> a_i>a_{i+1} </math> if <math> i </math> is [[even integer | even]]. How many snakelike integers between 1000 and 9999 have four distinct digits?",
    "solution": "We divide the problem into two cases: one in which zero is one of the digits and one in which it is not. In the latter case, suppose we pick digits \n<math>x_1,x_2,x_3,x_4</math> such that <math>x_1<x_2<x_3<x_4</math>. There are five arrangements of these digits that satisfy the condition of being snakelike: <math>x_1x_3x_2x_4</math>, <math>x_1x_4x_2x_3</math>, <math>x_2x_3x_1x_4</math>, <math>x_2x_4x_1x_3</math>, <math>x_3x_4x_1x_2</math>. Thus there are <math>5\\cdot {9\\choose 4}=630</math> snakelike numbers which do not contain the digit zero.\n\nIn the second case we choose zero and three other digits such that <math>0<x_2<x_3<x_4</math>. There are three arrangements of these digits that satisfy the condition of being snakelike: <math>x_2x_30x_4</math>, <math>x_2x_40x_3</math>, <math>x_3x_40x_2</math>. Because we know that zero is a digit, there are <math>3\\cdot{9\\choose 3}=252</math> snakelike numbers which contain the digit zero. Thus there are <math>630+252=\\boxed{882}</math> snakelike numbers."
  },
  {
    "year": 2004,
    "variant": "I",
    "problem_number": 7,
    "latex": "Let <math> C </math> be the [[coefficient]] of <math> x^2 </math> in the expansion of the product <math> (1 - x)(1 + 2x)(1 - 3x)\\cdots(1 + 14x)(1 - 15x). </math> Find <math> |C|. </math>\n\n__TOC__",
    "solution": "=== Solution 1 ===\nLet our [[polynomial]] be <math>P(x)</math>.\n\nIt is clear that the coefficient of <math>x</math> in <math>P(x)</math> is <math>-1 + 2 - 3 + \\ldots + 14 - 15 = -8</math>, so <math>P(x) = 1 -8x + Cx^2 + Q(x)</math>, where <math>Q(x)</math> is some polynomial [[divisibility | divisible]] by <math>x^3</math>.\n\nThen <math>P(-x) = 1 + 8x + Cx^2 + Q(-x)</math> and so <math>P(x)\\cdot P(-x) = 1 + (2C - 64)x^2 + R(x)</math>, where <math>R(x)</math> is some polynomial divisible by <math>x^3</math>.\n\nHowever, we also know <math>P(x)\\cdot P(-x) = (1 - x)(1 + x)(1 +2x)(1 - 2x) \\cdots (1 - 15x)(1 + 15x)</math> <math>= (1 - x^2)(1 - 4x^2)\\cdots(1 - 225x^2)</math> <math>= 1 - (1 + 4 + \\ldots + 225)x^2 + R(x)</math>.\n\nEquating coefficients, we have <math>2C - 64 = -(1 + 4 + \\ldots + 225) = -1240</math>, so <math>-2C = 1176</math> and <math>|C| = \\boxed{588}</math>.\n\n=== Solution 2 ===\nLet <math>S</math> be the [[set]] of integers <math>\\{-1,2,-3,\\ldots,14,-15\\}</math>. The coefficient of <math>x^2</math> in the expansion is equal to the sum of the product of each pair of distinct terms, or <math>C = \\sum_{1 \\le i \\neq j}^{15} S_iS_j</math>. Also, we know that \n<cmath>\\begin{align*}\\left(\\sum_{i=1}^{n} S_i\\right)^2 &= \\left(\\sum_{i=1}^{n} S_i^2\\right) + 2\\left(\\sum_{1 \\le i \\neq j}^{15} S_iS_j\\right)\\\\ (-8)^2 &= \\frac{15(15+1)(2\\cdot 15+1)}{6} + 2C\\end{align*}</cmath>\nwhere the left-hand sum can be computed from:\n<center><math>\\sum_{i=1}^{15} S_i = S_{15} + \\left(\\sum_{i=1}^{7} S_{2i-1} + S_{2i}\\right) = -15 + 7 = -8</math></center>\nand the right-hand sum comes from the formula for the sum of the first <math>n</math> perfect squares. Therefore, <math>|C| = \\left|\\frac{64-1240}{2}\\right| = \\boxed{588}</math>.\n\n=== Solution 3 (Bash)===\n\nConsider the set <math>[-1, 2,-3,4,-5,6,-7,8,-9,10,-11,12,-13,14,-15]</math>. Denote by <math>S</math> all size 2 subsets of this set. Replace each element of <math>S</math> by the product of the elements. Now, the quantity we seek is the sum of each element. Since consecutive elements add to <math>1</math> or <math>-1</math>, we can simplify this to <math>588</math>\n\n=== Solution 4 (Easy) ===\nWe know that this polynomial has roots <math>1, -\\frac{1}{2}, \\frac{1}{3},\\ldots</math> and the coefficient of <math>x^2</math> will be the sum of the product taken by <math>13</math>. However, since this is closer to the constant side, we can create a new polynomial with the reciprocal roots which will make <math>C</math> the coefficient of <math>x^{13}</math> and thus the sum of the reciprocal roots taken by 2. We can calculate this with <math>1\\cdot(8-1)-2\\cdot(8-(-2))+\\ldots+15(8-15)</math>. This will give us <math>2C = -1176</math> giving us a final answer of <math>|C| = \\fbox{588}</math>.\n\n~ Vedoral\n\n===Solution 4.5(easier explanation)===\n\nIn this polynomial, we can see that the coefficient of <math>x^2</math> by Vieta‚Äôs Formulae is the sum of the products of every 13 of the roots. Let us denote the roots <math>r_1, r_2 \\dots ,r_15</math>\n\nThen, by Veita‚Äôs, we have that <cmath>r_1\\cdot r_2 \\dots \\cdot r_13 + \\dots + r_3 \\cdot r_4 + \\cdots r_15</cmath>. Also, since we know that the product of the roots is <math>1</math> again by vieta‚Äôs formulae, we can make an arbitrary term of this expression, for example the <math>r_1 \\cdot r_2 \\dots r_13</math> equal to <cmath>\\frac{r_1 \\cdot r_2 \\dots \\cdot r_15}{r_14 \\cdot r_15} = \\frac{1}{r_14 , r_15}</cmath> Now we are just finding the expression, because this is just an expansion of <cmath>\\frac{(\\frac{1}{r_1} + \\dots \\frac{1}{r_15}) \\cdot (\\frac{1}{r_1} + \\dots \\frac{1}{r_15}) - ((\\frac{1}{r_1})^2 \\dots)}{2}</cmath> which easily evaluates to <math>8 \\cdot \\frac{147}{2} = \\fbox{588}</math>"
  },
  {
    "year": 2004,
    "variant": "I",
    "problem_number": 8,
    "latex": "Define a regular <math> n </math>-pointed star to be the union of <math> n </math> line segments <math> P_1P_2, P_2P_3,\\ldots, P_nP_1 </math> such that\n\n* the points <math> P_1, P_2,\\ldots, P_n </math> are coplanar and no three of them are collinear,\n* each of the <math> n </math> line segments intersects at least one of the other line segments at a point other than an endpoint,\n* all of the angles at <math> P_1, P_2,\\ldots, P_n </math> are congruent,\n* all of the <math> n </math> line segments <math>P_1P_2, P_2P_3,\\ldots, P_nP_1 </math> are congruent, and\n* the path <math> P_1P_2, P_2P_3,\\ldots, P_nP_1 </math> turns counterclockwise at an angle of less than 180 degrees at each vertex.\n\nThere are no regular 3-pointed, 4-pointed, or 6-pointed stars. All regular 5-pointed stars are similar, but there are two non-similar regular 7-pointed stars. How many non-similar regular 1000-pointed stars are there?",
    "solution": "We use the [[Principle of Inclusion-Exclusion]] (PIE).\n\nIf we join the adjacent vertices of the  regular <math>n</math>-star, we get a regular <math>n</math>-gon. We number the vertices of this <math>n</math>-gon in a counterclockwise direction: <math>0, 1, 2, 3, \\ldots, n-1.</math>\n\nA regular <math>n</math>-star will be formed if we choose a vertex number <math>m</math>, where <math>0 \\le m \\le n-1</math>, and then form the line segments by joining the following pairs of vertex numbers:\n<math>(0 \\mod{n}, m \\mod{n}),</math>\n<math>(m \\mod{n}, 2m \\mod{n}),</math>\n<math>(2m \\mod{n}, 3m \\mod{n}),</math>\n<math>\\cdots,</math>\n<math>((n-2)m \\mod{n}, (n-1)m \\mod{n}),</math>\n<math>((n-1)m \\mod{n}, 0 \\mod{n}).</math>\n\nIf <math>\\gcd(m,n) > 1</math>, then the star degenerates into a regular <math>\\frac{n}{\\gcd(m,n)}</math>-gon or a (2-vertex) line segment if\n<math>\\frac{n}{\\gcd(m,n)}= 2</math>. Therefore, we need to find all <math>m</math> such that <math>\\gcd(m,n) = 1</math>.\n\nNote that <math>n = 1000 = 2^{3}5^{3}.</math>\n\nLet <math>S = \\{1,2,3,\\ldots, 1000\\}</math>, and <math>A_{i}= \\{i \\in S \\mid i\\, \\textrm{ divides }\\,1000\\}</math>. The number of <math>m</math>'s that are not relatively prime to <math>1000</math> is:\n<math>\\mid A_{2}\\cup A_{5}\\mid = \\mid A_{2}\\mid+\\mid A_{5}\\mid-\\mid A_{2}\\cap A_{5}\\mid</math>\n<math>= \\left\\lfloor \\frac{1000}{2}\\right\\rfloor+\\left\\lfloor \\frac{1000}{5}\\right\\rfloor-\\left\\lfloor \\frac{1000}{2 \\cdot 5}\\right\\rfloor</math>\n<math>= 500+200-100 = 600.</math>\n\nVertex numbers <math>1</math> and <math>n-1=999</math> must be excluded as values for <math>m</math> since otherwise a regular n-gon, instead of an n-star, is formed.\n\nThe cases of a 1st line segment of (0, m) and (0, n-m) give the same star. Therefore we should halve the count to get non-similar stars.\n\nTherefore, the number of non-similar 1000-pointed stars is <math>\\frac{1000-600-2}{2}= \\boxed{199}.</math>\n\n----\n\nNote that in general, the number of <math>n</math>-pointed stars is given by <math>\\frac{\\phi(n)}{2} - 1</math> (dividing by <math>2</math> to remove the reflectional symmetry, subtracting <math>1</math> to get rid of the <math>1</math>-step case), where <math>\\phi(n)</math> is the [[Euler's totient function]]. It is well-known that <math>\\phi(n) = n\\left(1-\\frac{1}{p_1}\\right)\\left(1-\\frac{1}{p_2}\\right)\\cdots \\left(1-\\frac{1}{p_n}\\right)</math>, where <math>p_1,\\,p_2,\\ldots,\\,p_n</math> are the distinct prime factors of <math>n</math>. Thus <math>\\phi(1000) = 1000\\left(1 - \\frac 12\\right)\\left(1 - \\frac 15\\right) = 400</math>, and the answer is <math>\\frac{400}{2} - 1 = 199</math>."
  },
  {
    "year": 2004,
    "variant": "I",
    "problem_number": 9,
    "latex": "Let <math> ABC </math> be a [[triangle]] with sides 3, 4, and 5, and <math> DEFG </math> be a 6-by-7 [[rectangle]]. A segment is drawn to divide triangle <math> ABC </math> into a triangle <math> U_1 </math> and a trapezoid <math> V_1 </math> and another segment is drawn to divide rectangle <math> DEFG </math> into a triangle <math> U_2 </math> and a trapezoid <math> V_2 </math> such that <math> U_1 </math> is similar to <math> U_2 </math> and <math> V_1 </math> is similar to <math> V_2. </math> The minimum value of the area of <math> U_1 </math> can be written in the form <math> m/n, </math> where <math> m </math> and <math> n</math> are [[relatively prime]] positive integers. Find <math> m+n. </math>",
    "solution": "We let <math>AB=3, AC=4, DE=6, DG=7</math> for the purpose of labeling. Clearly, the dividing segment in <math>DEFG</math> must go through one of its vertices, [[without loss of generality]] <math>D</math>. The other endpoint (<math>D'</math>) of the segment can either lie on <math>\\overline{EF}</math> or <math>\\overline{FG}</math>. <math>V_2</math> is a trapezoid with a right angle then, from which it follows that <math>V_1</math> contains one of the right angles of <math>\\triangle ABC</math>, and so <math>U_1</math> is similar to <math>ABC</math>. Thus <math>U_1</math>, and hence <math>U_2</math>, are <math>3-4-5\\,\\triangle</math>s.  \n\nSuppose we find the ratio <math>r</math> of the smaller base to the larger base for <math>V_2</math>, which consequently is the same ratio for <math>V_1</math>. By similar triangles, it follows that <math>U_1 \\sim \\triangle ABC</math> by the same ratio <math>r</math>, and since the ratio of the areas of two similar figures is equal to the square of the ratio of their corresponding lengths, it follows that <math>[U_1] = r^2 \\cdot [ABC] = 6r^2</math>.\n<center><table><tr><td>\n\n<asy> defaultpen(linewidth(0.7)); \npair A=(0,0),B=(0,3),C=(4,0);\ndraw(MP(\"A\",A)--MP(\"B\",B,N)--MP(\"C\",C)--cycle);\ndraw((9*4/14,0)--(9*4/14,5*3/14),dashed);\nlabel(\"\\(V_1\\)\",(1,1.2)); label(\"\\(U_1\\)\",(3,0.3));\n</asy>\n<asy> defaultpen(linewidth(0.7)); pointpen = black;\npair D=(0,0),E=(0,6),F=(7,6),G=(7,0),H=(4.5,6);\ndraw(MP(\"D\",D)--MP(\"E\",E,N)--MP(\"F\",F,N)--MP(\"G\",G)--cycle);\ndraw(D--D(MP(\"D'\",H,N)),dashed);\nlabel(\"\\(U_2\\)\",(1,3)); label(\"\\(V_2\\)\",(5,3)); MP(\"7\",(D+G)/2,S); MP(\"6\",(D+E)/2,W); MP(\"9/2\",(E+H)/2,N);\n</asy>\n\n</td></tr><tr><td>\n\n<asy> defaultpen(linewidth(0.7)); \npair A=(0,0),B=(0,3),C=(4,0);\ndraw(MP(\"A\",A)--MP(\"B\",B,N)--MP(\"C\",C)--cycle);\ndraw((3.5,0)--(3.5,3/8),dashed);\nlabel(\"\\(V_1\\)\",(1.5,1)); label(\"\\(U_1\\)\",(3.8,0.4));\n</asy>\n<asy> defaultpen(linewidth(0.7));  pointpen = black;\npair D=(0,0),E=(0,6),F=(7,6),G=(7,0),H=(7,21/4);\ndraw(MP(\"D\",D)--MP(\"E\",E,N)--MP(\"F\",F,N)--MP(\"G\",G)--cycle);\ndraw(D--D(MP(\"D'\",H,NW)),dashed);\nlabel(\"\\(V_2\\)\",(2,3)); label(\"\\(U_2\\)\",(5,1)); MP(\"7\",(D+G)/2,S); MP(\"6\",(D+E)/2,W); MP(\"21/4\",(G+H)/2,(-1,0));\n</asy>\n\n</td></tr></table></center>\n\n*If <math>D'</math> lies on <math>\\overline{EF}</math>, then <math>ED' = \\frac34 \\cdot 6 = \\frac{9}{2},\\, 8</math> from maintaining the <math>3-4-5</math> triangular ratio; the latter (<math>\\frac43 \\cdot 6 = 8</math>) can be discarded as extraneous since we need <math>ED'<EF</math>. Therefore, <math>D'F = \\frac{5}{2}</math>, and the ratio <math>r = \\frac{D'F}{DG} = \\frac{5}{14}</math>. The area of <math>[U_1] = 6\\left(\\frac{5}{14}\\right)^2 </math> in this case.\n\n*If <math>D'</math> lies on <math>\\overline{FG}</math>, then <math>GD' = \\frac{21}{4},\\, \\frac{28}{3}</math>; the latter can be discarded as extraneous since we need <math>GD'<GF</math>. Therefore, <math>D'F = \\frac{3}{4}</math>, and the ratio <math>r = \\frac{D'F}{DE} = \\frac{1}{8}</math>. The area of <math>[U_1] = 6\\left(\\frac{1}{8}\\right)^2</math> in this case.\n\nOf the two cases, the second is smaller; the answer is <math>\\frac{3}{32}</math>, and <math>m+n = \\boxed{035}</math>."
  },
  {
    "year": 2004,
    "variant": "I",
    "problem_number": 10,
    "latex": "A [[circle]] of [[radius]] 1 is randomly placed in a 15-by-36 [[rectangle]] <math> ABCD </math> so that the circle lies completely within the rectangle. Given that the [[probability]] that the circle will not touch diagonal <math> AC </math> is <math> m/n, </math> where <math> m </math> and <math> n </math> are relatively prime positive integers. Find <math> m + n. </math>\n\n__TOC__",
    "solution": "[[Image:2004_I_AIME-10.png]]\n\n=== Solution 1 ===\nThe location of the center of the circle must be in the <math>34 \\times 13</math> rectangle that is one unit away from the sides of rectangle <math>ABCD</math>. We want to find the area of the [[right triangle]] with [[hypotenuse]] one unit away from <math>\\overline{AC}</math>. Let this triangle be <math>A'B'C'</math>.\n\nNotice that <math>ABC</math> and <math>A'B'C'</math> share the same [[incenter]]; this follows because the corresponding sides are parallel, and so the perpendicular [[inradius|inradii]] are concurrent, except that the inradii of <math>\\triangle ABC</math> extend one unit farther than those of <math>\\triangle A'B'C'</math>. From <math>A = rs</math>, we note that <math>r_{ABC} = \\frac{[ABC]}{s_{ABC}} = \\frac{15 \\cdot 36 /2}{(15+36+39)/2} = 6</math>. Thus <math>r_{A'B'C'} = r_{ABC} - 1 = 5</math>, and since the ratio of the areas of two similar figures is equal to the square of the ratio of their corresponding lengths, <math>[A'B'C'] = [ABC] \\cdot \\left(\\frac{r_{A'B'C'}}{r_{ABC}}\\right)^2 = \\frac{15 \\times 36}{2} \\cdot \\frac{25}{36} = \\frac{375}{2}</math>. \n\nThe probability is <math>\\frac{2[A'B'C']}{34 \\times 13} = \\frac{375}{442}</math>, and <math>m + n = \\boxed{817}</math>.  \n\n=== Solution 2 ===\n[[Image:2004_I_AIME-10.png]]\n\nLet the bisector of <math>\\angle CAD</math> be <math>AE</math>, with <math>E</math> on <math>CD</math>. By the angle bisector theorem, <math>DE = 36/5</math>. Since <math>\\triangle AOR \\sim \\triangle AED</math> (<math>O</math> is the center of the circle), we find that <math>AR = 5</math> since <math>OR = 1</math>. Also <math>AT = 35</math> so <math>RT = OQ = 30</math>.\n\nWe can apply the same principle again to find that <math>PT = 27/2</math>, and since <math>QT = 1</math>, we find that <math>PQ = 27/2 - 1 = 25/2</math>. The locus of all possible centers of the circle on this \"half\" of the rectangle is triangle <math>\\triangle OPQ</math>. There exists another congruent triangle that is symmetric over <math>AC</math> that has the same area as triangle <math>\\triangle OPQ</math>. <math>\\triangle APQ</math> has area <math>\\frac {1}{2}\\cdot OP \\cdot PQ = \\frac {1}{2}\\cdot 30\\cdot \\frac {25}{2}</math>, since <math>\\angle OQP</math> is right. Thus the total area that works is <math>30\\cdot \\frac {25}{2} = 375</math>, and the area of the locus of all centers of any circle with radius 1 is <math>34\\cdot 13 = 442</math>. Hence, the desired probability is <math>\\frac {375}{442}</math>, and our answer is <math>\\boxed {817}</math>.\n\n=== Solution 3 ===\n[[Image:2004_I_AIME-10b.png]]\n\nAgain, the location of the center of the circle must be in the <math>34 \\times 13</math> rectangle that is one unit away from the sides of rectangle <math>ABCD</math>. We want to find the area of the [[right triangle]] with [[hypotenuse]] one unit away from <math>\\overline{AC}</math>.\n\nLet <math>A</math> be at the origin, <math>B (36,0)</math>, <math>C (36,15)</math>, <math>D (0,15)</math>. The slope of <math>\\overline{AC}</math> is <math>\\frac{15}{36} = \\frac{5}{12}</math>. Let <math>\\triangle A'B'C'</math> be the right triangle with sides one unit inside <math>\\triangle ABC</math>. Since <math>\\overline{AC} || \\overline{A'C'}</math>, they have the same slope, and the equation of <math>A'C'</math> is <math>y = \\frac{5}{12}x + c</math>. Manipulating, <math>5x - 12y + 12c = 0</math>. We need to find the value of <math>c</math>, which can be determined since <math>\\overline{AC}</math> is one unit away from <math>\\overline{A'C'}</math>. Since the diagonal contains the origin, we can use the distance from a point to the line formula at the origin:\n\n<cmath>\\left|\\frac{Ax + By + C}{\\sqrt{A^2+B^2}}\\right| = 1 \\Longrightarrow \\left|\\frac{(5)(0) + (-12)(0) + 12c}{\\sqrt{5^2 + (-12)^2}}\\right| = 1</cmath>\n<cmath>c = \\pm \\frac{13}{12}</cmath>\n\nThe two values of <math>c</math> correspond to the triangle on top and below the diagonal. We are considering <math>A'B'C'</math> which is below, so <math>c = -\\frac{13}{12}</math>. Then the equation of <math>\\overline{A'C'}</math> is <math>y = \\frac{5}{12}x - \\frac{13}{12}</math>. Solving for its intersections with the lines <math>y = 1, x = 35</math> (boundaries of the internal rectangle), we find the coordinates of <math>A'B'C'</math> are at <math>A'\\ (5,1)\\ B'\\ (35,1)\\ C'\\ (35,\\frac{27}{2})</math>. The area is <math>\\frac{1}{2}bh = \\frac{1}{2}(35-5)\\left(\\frac{27}{2} - 1\\right) = \\frac{375}{2}</math>.\n\nFinally, the probability is <math>\\frac{2\\cdot \\mathrm{area\\ of\\ triangle}}{34 \\times 13} = \\frac{375}{442}</math>, and <math>m + n = \\boxed{817}</math>.\n\nFor this solution, if you didn't know the formula for the distance from a point to a line, you can use similar triangles to get the ratio:\n\n<math>\\frac{1}{36}=\\frac{c}{39}</math>\n\nThis yields <math>c=\\frac{13}{12}</math>."
  },
  {
    "year": 2004,
    "variant": "I",
    "problem_number": 11,
    "latex": "A [[solid]] in the shape of a right circular [[cone]] is 4 inches tall and its base has a 3-inch radius. The entire [[surface]] of the cone, including its base, is painted. A [[plane]] [[parallel]] to the base of the cone divides the cone into two solids, a smaller cone-shaped solid <math> C </math> and a [[frustum]]-shaped solid <math> F, </math> in such a way that the [[ratio]] between the [[area]]s of the painted surfaces of <math> C </math> and <math> F </math> and the ratio between the [[volume]]s of <math> C </math> and <math> F </math> are both equal to <math> k</math>. Given that <math> k=\\frac m n, </math> where <math> m </math> and <math> n </math> are [[relatively prime]] [[positive integer]]s, find <math> m+n. </math>",
    "solution": "===Solution 1===\nOur original solid has volume equal to <math>V = \\frac13 \\pi r^2 h = \\frac13 \\pi 3^2\\cdot 4 = 12 \\pi</math> and has [[surface area]] <math>A = \\pi r^2 + \\pi r \\ell</math>, where <math>\\ell</math> is the [[slant height]] of the cone.  Using the [[Pythagorean Theorem]], we get <math>\\ell = 5</math> and <math>A = 24\\pi</math>.\n\nLet <math>x</math> denote the [[radius]] of the small cone. Let <math>A_c</math> and <math>A_f</math> denote the area of the painted surface on cone <math>C</math> and frustum <math>F</math>, respectively, and let <math>V_c</math> and <math>V_f</math> denote the volume of cone <math>C</math> and frustum <math>F</math>, respectively.  Because the plane cut is parallel to the base of our solid, <math>C</math> is [[similar]] to the uncut solid and so the height and slant height of cone <math>C</math> are <math>\\frac{4}{3}x</math> and <math>\\frac{5}{3}x</math>, respectively. Using the formula for lateral surface area of a cone, we find that <math>A_c=\\frac{1}{2}c\\cdot \\ell=\\frac{1}{2}(2\\pi x)\\left(\\frac{5}{3}x\\right)=\\frac{5}{3}\\pi x^2</math>. By subtracting <math>A_c</math> from the surface area of the original solid, we find that <math>A_f=24\\pi - \\frac{5}{3}\\pi x^2</math>. \n\nNext, we can calculate <math>V_c=\\frac{1}{3}\\pi r^2h=\\frac{1}{3}\\pi x^2 \\left(\\frac{4}{3}x\\right)=\\frac{4}{9}\\pi x^3</math>.  Finally, we subtract <math>V_c</math> from the volume of the original cone to find that <math>V_f=12\\pi - \\frac{4}{9}\\pi x^3</math>. We know that <math>\\frac{A_c}{A_f}=\\frac{V_c}{V_f}=k.</math> Plugging in our values for <math>A_c</math>, <math>A_f</math>, <math>V_c</math>, and <math>V_f</math>, we obtain the equation <math>\\frac{\\frac{5}{3}\\pi x^2}{24\\pi - \\frac{5}{3}\\pi x^2}=\\frac{\\frac{4}{9}\\pi x^3}{12\\pi - \\frac{4}{9}\\pi x^3}</math>.  We can take [[reciprocal]]s of both sides to simplify this [[equation]] to <math>\\frac{72}{5x^2} - 1 = \\frac{27}{x^3} - 1</math> and so <math>x = \\frac{15}{8}</math>.  Then <math>k = \\frac{\\frac{5}{3}\\pi x^2}{24\\pi - \\frac{5}{3}\\pi x^2}= \\frac{125}{387} = \\frac mn</math> so the answer is <math>m+n=125+387=\\boxed{512}</math>.\n\n===Solution 2===\nOur original solid <math>V</math> has [[surface area]] <math>A_v = \\pi r^2 + \\pi r \\ell</math>, where <math>\\ell</math> is the [[slant height]] of the cone. Using the [[Pythagorean Theorem]] or Pythagorean Triple knowledge, we obtain <math>\\ell = 5</math> and lateral area <math>A_\\ell = 15\\pi</math>. The area of the base is <math>A_B = 3^2\\pi = 9\\pi</math>.\n\n<math>V</math> and <math>C</math> are similar cones, because the plane that cut out <math>C</math> was parallel to the base of <math>V</math>. Let <math>x</math> be the scale factor between the original cone and the small cone <math>C</math> in one dimension. Because the scale factor is uniform in all dimensions, <math>x^2</math> relates corresponding areas of <math>C</math> and <math>V</math>, and <math>x^3</math> relates corresponding volumes. Then, the ratio of the painted areas <math>\\frac{A_c}{A_f}</math> is <math>\\frac{15\\pi x^2}{9\\pi + 15\\pi - 15\\pi x^2} = \\frac{5 x^2}{8 - 5 x^2} = k</math> and the ratio of the volumes <math>\\frac{V_c}{V_f}</math> is <math>\\frac{x^3}{1 - x^3} = k</math>. Since both ratios are equal to <math>k</math>, they are equal to each other. Therefore, <math>\\frac{5 x^2}{8 - 5 x^2} = \\frac{x^3}{1 - x^3}</math>.\n\nNow we must merely solve for x and substitute back into either ratio. Cross multiplying gives <math>5 x^2(1 - x^3) = x^3(8 - 5 x^2)</math>. Dividing both sides by <math>x^2</math> and distributing the <math>x</math> on the right, we have <math>5 - 5 x^3 = 8 x - 5 x^3</math>, and so <math>8 x = 5</math> and <math>x = \\frac{5}{8}</math>. Substituting back into the easier ratio, we have <math>\\frac{(\\frac{5}{8})^3}{1 - (\\frac{5}{8})^3} = \\frac{\\frac{125}{512}}{\\frac{387}{512}} = \\frac{125}{387}</math>. And so we have <math>m + n = 125 + 387 = \\boxed{512}</math>."
  },
  {
    "year": 2004,
    "variant": "I",
    "problem_number": 12,
    "latex": "Let <math> S </math> be the set of [[ordered pair]]s <math> (x, y) </math> such that <math> 0 < x \\le 1, 0<y\\le 1, </math> and <math> \\left[\\log_2{\\left(\\frac 1x\\right)}\\right] </math> and <math> \\left[\\log_5{\\left(\\frac 1y\\right)}\\right] </math> are both even. Given that the area of the graph of <math> S </math> is <math> m/n, </math> where <math> m </math> and <math> n </math> are relatively prime positive integers, find <math> m+n. </math> The notation <math> [z] </math> denotes the [[floor function|greatest integer]] that is less than or equal to <math> z. </math>",
    "solution": "<math>\\left\\lfloor\\log_2\\left(\\frac{1}{x}\\right)\\right\\rfloor</math> is even when\n\n<cmath>x \\in \\left(\\frac{1}{2},1\\right) \\cup \\left(\\frac{1}{8},\\frac{1}{4}\\right) \\cup \\left(\\frac{1}{32},\\frac{1}{16}\\right) \\cup \\cdots</cmath>\n\nLikewise:\n<math>\\left\\lfloor\\log_5\\left(\\frac{1}{y}\\right)\\right\\rfloor</math> is even when\n\n<cmath>y \\in \\left(\\frac{1}{5},1\\right) \\cup \\left(\\frac{1}{125},\\frac{1}{25}\\right) \\cup \\left(\\frac{1}{3125},\\frac{1}{625}\\right) \\cup \\cdots</cmath>\n\nGraphing this yields a series of [[rectangle]]s which become smaller as you move toward the [[origin]]. The <math>x</math> interval of each box is given by the [[geometric sequence]] <math>\\frac{1}{2} , \\frac{1}{8}, \\frac{1}{32}, \\cdots</math>, and the <math>y</math> interval is given by <math>\\frac{4}{5} , \\frac{4}{125}, \\frac{4}{3125}, \\cdots</math>\n\nEach box is the product of one term of each sequence. The sum of these boxes is simply the product of the sum of each sequence or:\n\n<cmath>\\left(\\frac{1}{2} + \\frac{1}{8} + \\frac{1}{32} \\ldots \\right)\\left(\\frac{4}{5} + \\frac{4}{125} + \\frac{4}{3125} \\ldots \\right)=\\left(\\frac{\\frac{1}{2}}{1 - \\frac{1}{4}}\\right)\\left(\\frac{\\frac{4}{5}}{1-\\frac{1}{25}}\\right)= \\frac{2}{3} \\cdot \\frac{5}{6} = \\frac{5}{9},</cmath> and the answer is <math>m+n = 5 + 9 = \\boxed{014}</math>."
  },
  {
    "year": 2004,
    "variant": "I",
    "problem_number": 13,
    "latex": "The polynomial <math> P(x)=(1+x+x^2+\\cdots+x^{17})^2-x^{17} </math> has <math>34</math> complex roots of the form <math> z_k = r_k[\\cos(2\\pi a_k)+i\\sin(2\\pi a_k)], k=1, 2, 3,\\ldots, 34, </math> with <math> 0 < a_1 \\le a_2 \\le a_3 \\le \\cdots \\le a_{34} < 1 </math> and <math> r_k>0. </math> Given that <math> a_1 + a_2 + a_3 + a_4 + a_5 = m/n, </math> where <math> m </math> and <math> n </math> are relatively prime positive integers, find <math> m+n. </math>",
    "solution": "We see that the expression for the [[polynomial]] <math>P</math> is very difficult to work with directly, but there is one obvious transformation to make: sum the [[geometric series]]:\n\n<cmath>\\begin{align*}\nP(x) &= \\left(\\frac{x^{18} - 1}{x - 1}\\right)^2 - x^{17} = \\frac{x^{36} - 2x^{18} + 1}{x^2 - 2x + 1} - x^{17}\\\\ &= \\frac{x^{36} - x^{19} - x^{17} + 1}{(x - 1)^2} = \\frac{(x^{19} - 1)(x^{17} - 1)}{(x - 1)^2} \\end{align*}</cmath>\n\nThis [[expression]] has [[root]]s at every <math>17</math>th root and <math>19</math>th [[roots of unity]], other than <math>1</math>.  Since <math>17</math> and <math>19</math> are [[relatively prime]], this means there are no duplicate roots.  Thus, <math>a_1, a_2, a_3, a_4</math> and <math>a_5</math> are the five smallest fractions of the form <math>\\frac m{19}</math> or <math>\\frac n {17}</math> for <math>m, n > 0</math>.  \n\n<math>\\frac 3 {17}</math> and <math>\\frac 4{19}</math> can both be seen to be larger than any of <math>\\frac1{19}, \\frac2{19}, \\frac3{19}, \\frac 1{17}, \\frac2{17}</math>, so these latter five are the numbers we want to add.\n\n<math>\\frac1{19}+ \\frac2{19}+ \\frac3{19}+ \\frac 1{17}+ \\frac2{17}= \\frac6{19} + \\frac 3{17} = \\frac{6\\cdot17 + 3\\cdot19}{17\\cdot19} = \\frac{159}{323}</math> and so the answer is <math>159 + 323 = \\boxed{482}</math>."
  },
  {
    "year": 2004,
    "variant": "I",
    "problem_number": 14,
    "latex": "A unicorn is tethered by a <math>20</math>-foot silver rope to the base of a magician's [[cylinder|cylindrical]] tower whose [[radius]] is <math>8</math> feet. The rope is attached to the tower at ground level and to the unicorn at a height of <math>4</math> feet. The unicorn has pulled the rope taut, the end of the rope is <math>4</math> feet from the nearest point on the tower, and the length of the rope that is touching the tower is <math> \\frac{a-\\sqrt{b}}c </math> feet, where <math> a, b, </math> and <math> c </math> are [[positive]] [[integer]]s, and <math> c </math> is prime. Find <math> a+b+c. </math>",
    "solution": "<center>\n<asy>\n   /* Settings */\nimport three; defaultpen(fontsize(10)+linewidth(0.62)); \ncurrentprojection = perspective(-2,-50,15); size(200);\n   /* Variables */\nreal x = 20 - ((750)^.5)/3, CE = 8*(6^.5) - 4*(5^.5), CD = 8*(6^.5), h = 4*CE/CD;\npair Cxy = 8*expi((3*pi)/2-CE/8);\ntriple Oxy = (0,0,0), A=(4*5^.5,-8,4), B=(0,-8,h), C=(Cxy.x,Cxy.y,0), D=(A.x,A.y,0), E=(B.x,B.y,0), O=(O.x,O.y,h);\npair L = 8*expi(pi+0.05), R = 8*expi(-0.22); /* left and right cylinder lines, numbers from trial/error */\n   /* Drawing */\ndraw(B--A--D--E--B--C); \ndraw(circle(Oxy,8)); \ndraw(circle(O,8)); \ndraw((L.x,L.y,0)--(L.x,L.y,h)); draw((R.x,R.y,0)--(R.x,R.y,h));\ndraw(O--B--(A.x,A.y,h)--cycle,dashed);\n   /* Labeling */\nlabel(\"\\(A\\)\",A,NE);  dot(A); \nlabel(\"\\(B\\)\",B,NW);  dot(B);\nlabel(\"\\(C\\)\",C,W);   dot(C);\nlabel(\"\\(D\\)\",D,E);   dot(D);\nlabel(\"\\(E\\)\",E,S);   dot(E);\nlabel(\"\\(O\\)\",O,NW);  dot(O);\n\npair O1 = (25,4), A1=O1+(4*sqrt(5),-8), B1=O1+(0,-8);\ndraw(circle(O1,8));\ndraw(O1--A1--B1--O1);\nlabel(\"\\(A\\)\",A1,SE);label(\"\\(B\\)\",B1,SW);label(\"\\(O\\)\",O1,N);\nlabel(\"$8$\",O1--B1,W);label(\"$4$\",(5*A1+O1)/6,0.8*(1,1));\nlabel(\"$8$\",O1--A1,0.8*(-0.5,2));label(\"$4\\sqrt{5}$\",B1/2+A1/2,(0,-1));\n</asy></center>\nLooking from an overhead view, call the [[center]] of the [[circle]] <math>O</math>, the tether point to the unicorn <math>A</math> and the last point where the rope touches the tower <math>B</math>.  <math>\\triangle OAB</math> is a [[right triangle]] because <math>OB</math> is a radius and <math>BA</math> is a [[tangent line]] at point <math>B</math>.  We use the [[Pythagorean Theorem]] to find the horizontal component of <math>AB</math> has length <math>4\\sqrt{5}</math>.  \n\n<center><asy>\ndefaultpen(fontsize(10)+linewidth(0.62));\npair A=(-4*sqrt(5),4), B=(0,4*(8*sqrt(6)-4*sqrt(5))/(8*sqrt(6))), C=(8*sqrt(6)-4*sqrt(5),0), D=(-4*sqrt(5),0), E=(0,0);\ndraw(A--C--D--A);draw(B--E);\nlabel(\"\\(A\\)\",A,(-1,1));label(\"\\(B\\)\",B,(1,1));label(\"\\(C\\)\",C,(1,0));label(\"\\(D\\)\",D,(-1,-1));label(\"\\(E\\)\",E,(0,-1));\nlabel(\"$4\\sqrt{5}$\",D/2+E/2,(0,-1));label(\"$8\\sqrt{6}-4\\sqrt{5}$\",C/2+E/2,(0,-1));\nlabel(\"$4$\",D/2+A/2,(-1,0));label(\"$x$\",C/2+B/2,(1,0.5));label(\"$20-x$\",0.7*A+0.3*B,(1,0.5));\ndot(A^^B^^C^^D^^E);\n</asy></center>\n\nNow look at a side view and \"unroll\" the cylinder to be a flat surface. Let <math>C</math> be the bottom tether of the rope, let <math>D</math> be the point on the ground below <math>A</math>, and let <math>E</math> be the point directly below <math>B</math>.  [[Triangle]]s <math>\\triangle CDA</math> and <math>\\triangle CEB</math> are [[similar]] [[right triangle]]s.  By the Pythagorean Theorem <math>CD=8\\cdot\\sqrt{6}</math>.  \n\nLet <math>x</math> be the length of <math>CB</math>. <cmath>\\frac{CA}{CD}=\\frac{CB}{CE}\\implies \\frac{20}{8\\sqrt{6}}=\\frac{x}{8\\sqrt{6}-4\\sqrt{5}}\\implies x=\\frac{60-\\sqrt{750}}{3}</cmath> \n\nTherefore <math>a=60, b=750, c=3, a+b+c=\\boxed{813}</math>."
  },
  {
    "year": 2004,
    "variant": "I",
    "problem_number": 15,
    "latex": "For all positive integers <math>x</math>, let\n<cmath>\nf(x)=\\begin{cases}1 & \\text{if }x = 1\\\\ \\frac x{10} & \\text{if }x\\text{ is divisible by 10}\\\\ x+1 & \\text{otherwise}\\end{cases}\n</cmath>\nand define a [[sequence]] as follows: <math>x_1=x</math> and <math>x_{n+1}=f(x_n)</math> for all positive integers <math>n</math>. Let <math>d(x)</math> be the smallest <math>n</math> such that <math>x_n=1</math>. (For example, <math>d(100)=3</math> and <math>d(87)=7</math>.) Let <math>m</math> be the number of positive integers <math>x</math> such that <math>d(x)=20</math>. Find the sum of the distinct prime factors of <math>m</math>.",
    "solution": "=== Solution 1 ===\nWe backcount the number of ways. Namely, we start at <math>x_{20} = 1</math>, which can only be reached if <math>x_{19} = 10</math>, and then we perform <math>18</math> operations that either consist of <math>A: (-1)</math> or <math>B: (\\times 10)</math>. We represent these operations in a string format, starting with the operation that sends <math>f(x_{18}) = x_{19}</math> and so forth downwards. There are <math>2^9</math> ways to pick the first <math>9</math> operations; however, not all <math>9</math> of them may be <math>A: (-1)</math> otherwise we return back to <math>x_{10} = 1</math>, contradicting our assumption that <math>20</math> was the smallest value of <math>n</math>. Using [[complementary counting]], we see that there are only <math>2^9 - 1</math> ways.\n\nSince we performed the operation <math>B: (\\times 10)</math> at least once in the first <math>9</math> operations, it follows that <math>x_{10} \\ge 20</math>, so that we no longer have to worry about reaching <math>1</math> again. \n\nHowever, we must also account for a sequence of <math>10</math> or more <math>A: (-1)</math>s in a row, because that implies that at least one of those numbers was divisible by <math>10</math>, yet the <math>\\frac{x}{10}</math> was never used, contradiction. We must use complementary counting again by determining the number of strings of <math>A,B</math>s of length <math>18</math> such that there are <math>10</math> <math>A</math>s in a row. The first ten are not included since we already accounted for that scenario above, so our string of <math>10</math> <math>A</math>s must be preceded by a <math>B</math>. There are no other restrictions on the remaining seven characters. Letting <math>\\square</math> to denote either of the functions, and <math>^{[k]}</math> to indicate that the character appears <math>k</math> times in a row, our bad strings can take the forms:\n<cmath>\\begin{align*}\n&\\underbrace{BA^{[10]}}\\square \\square \\square \\square \\square \\square \\square\\\\\n&\\square \\underbrace{BA^{[10]}}\\square \\square \\square \\square \\square \\square \\\\\n&\\qquad \\quad \\cdots \\quad \\cdots \\\\\n&\\square \\square \\square \\square \\square \\square \\underbrace{BA^{[10]}} \\square \\\\\n&\\square \\square \\square \\square \\square \\square \\square \\underbrace{BA^{[10]}} \\\\\n\\end{align*}</cmath>\n\nThere are <math>2^7</math> ways to select the operations for the <math>7</math> <math>\\square</math>s, and <math>8</math> places to place our <math>BA^{[10]}</math> block. Thus, our answer is <math>2^9(2^9-1)-8\\cdot 2^7 = 2^{18} - 2^9 - 8 \\cdot 2^7 = 2^9 \\times 509</math>, and the answer is <math>\\boxed{511}</math>.\n\n'''Note:''' This solution is quick and most similar to the official solution; however, neither this nor the official solution prove that the final results of these inverted operations are all distinct. A more sophisticated argument, such as the one below, is needed to do so.\n\n=== Solution 2 ===\nWe approach the problem by [[recursion]]. We [[partition]] the positive integers into the sets\n<cmath>\\mathcal{A}_{n,k}=\\{x\\in\\mathbb{Z}^+\\,:\\, d(x)=n\\text{ and } x\\equiv k\\pmod{10}\\}.</cmath>\nFirst, we note that <math>\\mathcal{A}_{1,1}=\\{1\\}</math>, so by the [[disjoint]]ness of the <math>\\mathcal{A}_{n,k}</math>'s, we know that <math>1</math> is not in any of the other sets. Also, we note that <math>\\mathcal{A}_{1,k}=\\emptyset</math> for <math>k=0,2,3,4,5,6,7,8,9</math>.\n\nWe claim that if <math>2\\le k\\le 9</math> and <math>n\\ge2</math>, then <math>|\\mathcal{A}_{n,k}|=|\\mathcal{A}_{n-1,k+1}|</math>. To prove this, we show that <math>f</math> (the given function) maps <math>\\mathcal{A}_{n,k}</math> bijectively onto <math>\\mathcal{A}_{n-1,k+1}</math>. If <math>x\\in \\mathcal{A}_{n,k}</math>, then <math>x\\equiv k\\pmod{10}</math>, and <math>x\\ne 1</math>, so <math>f(x)=x+1\\equiv k+1\\pmod{10}</math>. Also, <math>f^{(n)}(x)=1</math>, where <math>n</math> is the smallest positive integer for which this is true. Therefore, <math>f^{{n-1}}(f(x))=1</math>, where <math>n-1</math> is the smallest integer for which this is true. Thus <math>f(x)\\in\\mathcal{A}_{n-1,k+1}</math>. Also, since <math>f(x)=x+1</math> on this set, we see that <math>f(x)=f(y)</math> implies that <math>x=y</math>. Hence <math>f</math> is an [[injection]]. If <math>y\\in\\mathcal{A}_{n-1,k+1}</math>, then <math>y-1\\equiv k\\pmod{10}</math>, where <math>2\\le k\\le 9</math>, so we know that <math>f(y-1)=y</math>, and <math>y-1\\in \\mathcal{A}_{n,k}</math>. Therefore, <math>f</math> is a [[surjection]], so it must be a [[bijection]]. Therefore,  if <math>2\\le k\\le 9</math> and <math>n\\ge2</math>, then <math>|\\mathcal{A}_{n,k}|=|\\mathcal{A}_{n-1,k+1}|</math>.\n\nWe also claim that if <math>k=1</math>, <math>n\\ge 2</math> and <math>n\\ne 11</math>, then  <math>|\\mathcal{A}_{n,k}|=|\\mathcal{A}_{n-1,k+1}|</math>. The proof is the same as in the previous paragraph, though some additional clarification is needed to prove that <math>f</math> is a surjection. If <math>y\\in\\mathcal{A}_{n-1,k+1}</math>, or rather <math>y-1\\equiv k\\equiv 1\\pmod{10}</math>, then if <math>y=2</math>, we see that <math>y-1=1</math>, and then <math>f(y-1)=1</math>, not <math>y</math> as in the prior argument. However, this does not happen if <math>n\\ne 11</math>. It is easy to check that <math>2\\in\\mathcal{A}_{10,2}</math>. Therefore, the only time that the above argument could fail is if <math>n-1=10</math> and <math>k+1=2</math>. But in every other case, <math>|\\mathcal{A}_{n,k}|=|\\mathcal{A}_{n-1,k+1}|</math>.\n\nNext, we claim that if <math>n\\ge 3</math>, then\n<cmath>|\\mathcal{A}_{n,0}|=\\Big|\\bigcup_{k=0}^9\\mathcal{A}_{n-1,k}\\Big|</cmath>\nIf <math>x\\in\\mathcal{A}_{n,0}</math>, then <math>f(x)=\\tfrac{x}{10}</math>, which is clearly an injective map.  Also, <math>f^{(n)}(x)=1</math>, where <math>n</math> is the smallest positive integer for which this is true. Therefore, <math>f^{{n-1}}(f(x))=1</math>, where <math>n-1</math> is the smallest integer for which this is true. Thus <math>f(x)\\in\\mathcal{A}_{n-1,k}</math> for some <math>k</math>. Conversely, if <math>y\\in \\mathcal{A}_{n-1,k}</math>, then <math>f(10y)=y</math>, so <math>d(10y)=n</math>, so <math>10y\\in\\mathcal{A}_{n,0}</math>.\n\nBased on these bijections, if we let <math>A_{n,k}=|\\mathcal{A}_{n,k}|</math>, then\n<cmath>\\begin{align*}\nA_{n,0}&=\\sum_{k=0}^{9} A_{n-1,k}\\\\\nA_{n,1}&=A_{n-1,2}\\qquad\\text{if }n\\ne 11\\\\\nA_{n,2}&=A_{n-1,3}\\\\\nA_{n,3}&=A_{n-1,4}\\\\\n&\\vdots\\\\\nA_{n,8}&=A_{n-1,9}\\\\\nA_{n,9}&=A_{n-1,0}.\n\\end{align*}</cmath>\nLet <math>S_n=\\sum_{k=0}^9 A_{n,k}</math>. Then by adding the above equations (valid if <math>n\\ne 11</math>), we find that\n<cmath>S_n=2S_{n-1}-A_{n-1,1}.</cmath>\nNow by using the above relations repeatedly, we find\n<cmath>A_{n-1,1}=A_{n-2,2}=A_{n-3,3}=\\cdots=A_{n-9,9}=A_{n-10,0}=S_{n-11}.</cmath>\nThe first relation will only be valid if <math>n\\ne 12</math>. Therefore, <math>S_n=2S_{n-1}-S_{n-11}</math> for <math>n\\ge 13</math>. For smaller values, it is easy to use the relations to compute that the terms are powers of <math>2</math>, although we note that <math>A_{11,1}=0</math> because of the failure of the above argument.\n<cmath>\\begin{array}{c|cccccccccc|c}\nn&A_{n,1}&A_{n,2}&A_{n,3}&A_{n,4}&A_{n,5}&A_{n,6}&A_{n,7}&A_{n,8}&A_{n,9}&A_{n,0}&S_{n}\\\\\\hline\n1&1&0&0&0&0&0&0&0&0&0&1\\\\\n2&0&0&0&0&0&0&0&0&0&1&1\\\\\n3&0&0&0&0&0&0&0&0&1&1&2\\\\\n4&0&0&0&0&0&0&0&1&1&2&4\\\\\n5&0&0&0&0&0&0&1&1&2&4&8\\\\\n6&0&0&0&0&0&1&1&2&4&8&16\\\\\n7&0&0&0&0&1&1&2&4&8&16&32\\\\\n8&0&0&0&1&1&2&4&8&16&32&64\\\\\n9&0&0&1&1&2&4&8&16&32&64&128\\\\\n10&0&1&1&2&4&8&16&32&64&128&256\\\\\n11&\\boxed{0}&1&2&4&8&16&32&64&128&256&511\\\\\n12&1&2&4&8&16&32&64&128&256&511&1022\\\\\n\\end{array}</cmath>\nAfter this, we can simply use the recurrence relation for <math>S_n</math>, finding\n<cmath>\\begin{array}{c|l}\nn&S_n\\\\\\hline\n1&1\\\\\n2&1\\\\\n3&2^1\\\\\n4&2^2\\\\\n5&2^3\\\\\n6&2^4\\\\\n7&2^5\\\\\n8&2^6\\\\\n9&2^7\\\\\n10&2^8\\\\\n11&2^9-1\\\\\n12&2^{10}-2\\\\\n13&2^{11}-1\\cdot 5\\\\\n14&2^{12}-2\\cdot 6\\\\\n15&2^{13}-4\\cdot 7\\\\\n16&2^{14}-8\\cdot 8\\\\\n17&2^{15}-16\\cdot 9\\\\\n18&2^{16}-32\\cdot 10\\\\\n19&2^{17}-64\\cdot 11\\\\\n20&2^{18}-128\\cdot 12.\n\\end{array}</cmath>\nTherefore, there are <math>2^{18}- 2^9\\cdot 3</math> positive integers <math>x</math> with <math>d(x)=20</math>. This factors as <math>2^9(2^{9}-3)=2^9(509)</math>, where <math>509</math> is prime. Thus the answer is <math>\\boxed{511}</math>."
  },
  {
    "year": 2004,
    "variant": "II",
    "problem_number": 1,
    "latex": "A [[chord]] of a [[circle]] is [[perpendicular]] to a [[radius]] at the [[midpoint]] of the radius. The [[ratio]] of the [[area]] of the larger of the two regions into which the chord divides the circle to the smaller can be expressed in the form <math> \\frac{a\\pi+b\\sqrt{c}}{d\\pi-e\\sqrt{f}}, </math> where <math> a, b, c, d, e, </math> and <math> f </math> are [[positive integer]]s, <math> a </math> and <math> e </math> are [[relatively prime]], and neither <math> c </math> nor <math> f </math> is [[divisibility | divisible]] by the [[square]] of any [[prime]]. Find the [[remainder]] when the product <math> abcdef </math> is divided by 1000.\n\n[[Image:2004 AIME II Problem 1.png]]",
    "solution": "Let <math>r</math> be the [[length]] of the radius of the circle.  A [[right triangle]] is formed by half of the chord, half of the radius (since the chord [[bisect]]s it), and the radius. Thus, it is a <math>30^\\circ</math> - <math>60^\\circ</math> - <math>90^\\circ</math> [[triangle]], and the area of two such triangles is <math>2 \\cdot \\frac{1}{2} \\cdot \\frac{r}{2} \\cdot \\frac{r\\sqrt{3}}{2} = \\frac{r^2\\sqrt{3}}{4}</math>. The [[central angle]] which contains the entire chord is <math>60 \\cdot 2 = 120</math> [[degree]]s, so the area of the [[sector]] is <math>\\frac{1}{3}r^2\\pi</math>; the rest of the area of the circle is then equal to <math>\\frac{2}{3}r^2\\pi</math>.\n\nThe smaller area cut off by the chord is equal to the area of the sector minus the area of the triangle. The larger area is equal to the area of the circle not within the sector and the area of the triangle. Thus, the desired ratio is <math>\\frac{\\frac{2}{3}r^2\\pi + \\frac{r^2\\sqrt{3}}{4}}{\\frac{1}{3}r^2\\pi - \\frac{r^2\\sqrt{3}}{4}} =  \\frac{8\\pi + 3\\sqrt{3}}{4\\pi - 3\\sqrt{3}}</math>\n\nTherefore, <math>abcdef = 2^53^4 = 2592 \\Longrightarrow \\boxed{592}</math>."
  },
  {
    "year": 2004,
    "variant": "II",
    "problem_number": 2,
    "latex": "A jar has <math>10</math> red candies and <math>10</math> blue candies. Terry picks two candies at random, then Mary picks two of the remaining candies at random. Given that the [[probability]] that they get the same color combination, irrespective of order, is <math> m/n, </math> where <math> m </math> and <math> n </math> are [[relatively prime]] [[positive integer]]s, find <math> m+n. </math>",
    "solution": "The probability that Terry picks two red candies is <math>\\frac{10 \\cdot 9}{20 \\cdot 19} = \\frac{9}{38}</math>, and the probability that Mary picks two red candies after Terry chooses two red candies is <math>\\frac{7\\cdot8}{18\\cdot17} = \\frac{28}{153}</math>.  So the probability that they both pick two red candies is <math>\\frac{9}{38} \\cdot \\frac{28}{153} = \\frac{14}{323}</math>.  The same calculation works for the blue candies.  \n\nThe probability that Terry picks two different candies is <math>\\frac{20\\cdot10}{20\\cdot19} = \\frac{10}{19}</math>, and the probability that Mary picks two different candies after Terry picks two different candies is <math>\\frac{18\\cdot 9}{18\\cdot 17} = \\frac{9}{17}</math>. Thus, the probability that they both choose two different candies is <math>\\frac{10}{19}\\cdot\\frac{9}{17} = \\frac{90}{323}</math>.  Then the total probability is\n\n<cmath>2 \\cdot \\frac{14}{323} + \\frac{90}{323} = \\frac{118}{323}</cmath>\n\nand so the answer is <math>118 + 323 = \\boxed{441}</math>.\n\n\nIn the above calculations, we treated the choices as ordered; that is, Terry chose first one candy, then a second, and so on.  We could also solve the problem using unordered choices.  The probabilities calculated will all be the same, but the calculations will appear somewhat different.  For instance, the probability that Mary chooses two red candies after Terry chose two red candies will have the form <math>\\frac{{8\\choose 2}}{{18 \\choose 2}}</math>, and the probability that Terry chooses two different candies will have the form <math>\\frac{{10\\choose 1}\\cdot{10\\choose 1}}{{20\\choose2}}</math>.  It is not difficult to see that these yield the same results as our calculations above, as we would expect."
  },
  {
    "year": 2004,
    "variant": "II",
    "problem_number": 3,
    "latex": "A solid rectangular block is formed by gluing together <math> N </math> [[congruent (geometry) | congruent]] 1-cm [[cube (geometry) | cube]]s [[face]] to face. When the block is viewed so that three of its faces are visible, exactly <math>231</math> of the 1-cm cubes cannot be seen. Find the smallest possible value of <math> N. </math>",
    "solution": "The <math>231</math> cubes which are not visible must lie below exactly one layer of cubes.  Thus, they form a rectangular solid which is one unit shorter in each dimension.  If the original block has dimensions <math>l \\times m \\times n</math>, we must have <math>(l - 1)\\times(m-1) \\times(n - 1) = 231</math>.  The [[prime factorization]] of <math>231 = 3\\cdot7\\cdot11</math>, so we have a variety of possibilities; for instance, <math>l - 1 = 1</math> and <math>m - 1 = 11</math> and <math>n - 1 = 3 \\cdot 7</math>, among others.  However, it should be fairly clear that the way to minimize <math>l\\cdot m\\cdot n</math> is to make <math>l</math> and <math>m</math> and <math>n</math> as close together as possible, which occurs when the smaller block is <math>3 \\times 7 \\times 11</math>.  Then the extra layer makes the entire block <math>4\\times8\\times12</math>, and <math>N= \\boxed{384}</math>.\n\nAn alternate way to visualize the problem is to count the blocks that can be seen and subtract the blocks that cannot be seen.  In the given block with dimensions <math>l\\times m \\times n</math>, the three faces have <math>lm</math>, <math>mn</math>, and <math>ln</math> blocks each.  However, <math>l</math> blocks along the first edge, <math>m</math> blocks along the second edge, and <math>n</math> blocks along the third edge were counted twice, so they must be subtracted.  After subtracting these three edges, 1 block has not been counted - it was added three times on each face, but subtracted three times on each side.  Thus, the total number of visible cubes is <math>lm+mn+ln-l-m-n+1</math>, and the total number of invisible cubes is <math>lmn-lm-mn-ln+l+m+n-1</math>, which can be factored into <math>(l-1)(m-1)(n-1)</math>."
  },
  {
    "year": 2004,
    "variant": "II",
    "problem_number": 4,
    "latex": "How many [[positive integer]]s less than 10,000 have at most two different [[digit]]s?",
    "solution": "First, let's count numbers with only a single digit.  We have nine of these for each length, and four lengths, so 36 total numbers.\n\nNow, let's count those with two distinct digits.  We handle the cases \"0 included\" and \"0 not included\" separately.\n\nThere are <math>{9 \\choose 2}</math> ways to choose two digits, <math>A</math> and <math>B</math>.  Given two digits, there are <math>2^n - 2</math> ways to arrange them in an <math>n</math>-digit number, for a total of <math>(2^1 - 2) + (2^2 - 2) + (2^3 -2) + (2^4 - 2) = 22</math> such numbers (or we can list them: <math>AB, BA, AAB, ABA, BAA, ABB, BAB, BBA, AAAB, AABA, ABAA,</math> <math>BAAA, AABB, ABAB, BAAB, ABBA, BABA, BBAA, ABBB, BABB, BBAB, BBBA</math>).  Thus, we have <math>{9 \\choose 2} \\cdot 22 = 36\\cdot22 = 792</math> numbers of this form.\n\nNow, suppose 0 is one of our digits.  We have nine choices for the other digit.  For each choice, we have <math>2^{n - 1} - 1</math> <math>n</math>-digit numbers we can form, for a total of <math>(2^0 - 1) + (2^1 - 1) + (2^2 - 1) + (2^3 - 1) = 11</math> such numbers (or we can list them: <math>A0, A00, A0A, AA0, A000, AA00, A0A0, A00A, AAA0, AA0A, A0AA</math>).  This gives us <math>9\\cdot 11 = 99</math> numbers of this form.\n\nThus, in total, we have <math>36 + 792 + 99 = \\boxed{927}</math> such numbers."
  },
  {
    "year": 2004,
    "variant": "II",
    "problem_number": 5,
    "latex": "In order to complete a large job, <math>1000</math> workers were hired, just enough to complete the job on schedule. All the workers stayed on the job while the first quarter of the work was done, so the first quarter of the work was completed on schedule. Then <math>100</math> workers were laid off, so the second quarter of the work was completed behind schedule. Then an additional <math>100</math> workers were laid off, so the third quarter of the work was completed still further behind schedule. Given that all workers work at the same rate, what is the minimum number of additional workers, beyond the <math>800</math> workers still on the job at the end of the third quarter, that must be hired after three-quarters of the work has been completed so that the entire project can be completed on schedule or before?",
    "solution": "A train is traveling at <math>1000</math> miles per hour and has one hour to reach its destination <math>1000</math> miles away. After <math>15</math> minutes and <math>250</math> miles it slows to <math>900</math> mph, and thus takes <math>\\frac{250}{900}(60)=\\frac{50}{3}</math> minutes to travel the next <math>250</math> miles. Then it slows to <math>800</math> mph, so the next quarter takes <math>\\frac{250}{800}(60)=\\frac{150}{8}</math>. The train then has <math>60-15-\\frac{50}{3}-\\frac{150}{8}=230/24</math> minutes left to travel 250 miles, and doing the arithmetic shows that during this last stretch it must travel more than <math>1565</math> mph to make it on time. Therefore the company needs to add <math>1566-800 = \\boxed{766}</math> more workers.\n\nSolution by rocketscience"
  },
  {
    "year": 2004,
    "variant": "II",
    "problem_number": 6,
    "latex": "Three clever monkeys divide a pile of bananas. The first monkey takes some bananas from the pile, keeps three-fourths of them, and divides the rest equally between the other two. The second monkey takes some bananas from the pile, keeps one-fourth of them, and divides the rest equally between the other two. The third monkey takes the remaining bananas from the pile, keeps one-twelfth of them, and divides the rest equally between the other two. Given that each monkey receives a [[whole number]] of bananas whenever the bananas are divided, and the numbers of bananas the first, second, and third monkeys have at the end of the process are in the [[ratio]] <math> 3: 2: 1,  </math>what is the least possible total for the number of bananas?",
    "solution": "Denote the number of bananas the first monkey took from the pile as <math>b_1</math>, the second <math>b_2</math>, and the third <math>b_3</math>; the total is <math>b_1 + b_2 + b_3</math>. Thus, the first monkey got <math>\\frac{3}{4}b_1 + \\frac{3}{8}b_2 + \\frac{11}{24}b_3</math>, the second monkey got <math>\\frac{1}{8}b_1 + \\frac{1}{4}b_2 + \\frac{11}{24}b_3</math>, and the third monkey got <math>\\frac{1}{8}b_1 + \\frac{3}{8}b_2 + \\frac{1}{12}b_3</math>. \n\nTaking into account the ratio aspect, say that the third monkey took <math>x</math> bananas in total. Then,\n\n<math>x = \\frac{1}{4}b_1 + \\frac{1}{8}b_2 + \\frac{11}{72}b_3 = \\frac{1}{16}b_1 + \\frac{1}{8}b_2 + \\frac{11}{48}b_3 = \\frac{1}{8}b_1 + \\frac{3}{8}b_2 + \\frac{1}{12}b_3</math>\n\nSolve this to find that <math>\\frac{b_1}{11} = \\frac{b_2}{13} = \\frac{b_3}{27}</math>. All three fractions must be integral. Also note some other conditions we have picked up in the course of the problem, namely that <math>b_1</math> is divisible by <math>8</math>, <math>b_2</math> is divisible by <math>8</math>, and <math>b_3</math> is divisible by <math>72</math> (however, since the denominator contains a <math>27</math>, the factors of <math>3</math> cancel, and it only really needs to be divisible by <math>8</math>). Thus, the minimal value is when each fraction is equal to <math>8</math>, and the solution is <math>8(11 + 13 + 27) = \\boxed{408}</math>."
  },
  {
    "year": 2004,
    "variant": "II",
    "problem_number": 7,
    "latex": "<math> ABCD </math> is a rectangular sheet of paper that has been folded so that corner <math> B </math> is matched with point <math> B' </math> on edge <math> AD. </math> The crease is <math> EF, </math> where <math> E </math> is on <math> AB </math> and <math> F </math> is on <math> CD. </math> The dimensions <math> AE=8, BE=17, </math> and <math> CF=3 </math> are given. The perimeter of rectangle <math> ABCD </math> is <math> m/n, </math> where <math> m </math> and <math> n </math> are relatively prime positive integers. Find <math> m+n. </math>\n\n<asy>\nsize(200);\ndefaultpen(linewidth(0.7)+fontsize(10));\npair A=origin, B=(25,0), C=(25,70/3), D=(0,70/3), E=(8,0), F=(22,70/3), Bp=reflect(E,F)*B, Cp=reflect(E,F)*C;\ndraw(F--D--A--E);\ndraw(E--B--C--F, linetype(\"4 4\"));\nfilldraw(E--F--Cp--Bp--cycle, white, black);\npair point=( 12.5, 35/3 );\nlabel(\"$A$\", A, dir(point--A));\nlabel(\"$B$\", B, dir(point--B));\nlabel(\"$C$\", C, dir(point--C));\nlabel(\"$D$\", D, dir(point--D));\nlabel(\"$E$\", E, dir(point--E));\nlabel(\"$F$\", F, dir(point--F));\nlabel(\"$B^\\prime$\", Bp, dir(point--Bp));\nlabel(\"$C^\\prime$\", Cp, dir(point--Cp));</asy>",
    "solution": "=== Solution 1 (Synthetic) ===\n<center><asy>\npointpen = black; pathpen = black +linewidth(0.7);\npair A=(0,0),B=(0,25),C=(70/3,25),D=(70/3,0),E=(0,8),F=(70/3,22),G=(15,0);\nD(MP(\"A\",A)--MP(\"B\",B,N)--MP(\"C\",C,N)--MP(\"D\",D)--cycle);\nD(MP(\"E\",E,W)--MP(\"F\",F,(1,0))); D(B--G);\nD(E--MP(\"B'\",G)--F--B,dashed);\nMP(\"8\",(A+E)/2,W);MP(\"17\",(B+E)/2,W);MP(\"22\",(D+F)/2,(1,0));\n</asy></center>\nSince <math>EF</math> is the perpendicular bisector of <math>\\overline{BB'}</math>, it follows that <math>BE = B'E</math> (by SAS). By the [[Pythagorean Theorem]], we have <math>AB' = 15</math>. Similarly, from <math>BF = B'F</math>, we have\n<cmath>\n\\begin{align*}\nBC^2 + CF^2 = B'D^2 + DF^2 &\\Longrightarrow BC^2 + 9 = (BC - 15)^2 + 484 \\\\\nBC  &= \\frac{70}{3}\n\\end{align*}\n</cmath>\nThus the perimeter of <math>ABCD</math> is <math>2\\left(25 + \\frac{70}{3}\\right) = \\frac{290}{3}</math>, and our answer is <math>m+n=\\boxed{293}</math>.\n\n=== Solution 2 (analytic) ===\nLet <math>A = (0,0), B=(0,25)</math>, so <math>E = (0,8)</math> and <math>F = (l,22)</math>, and let <math>l = AD</math> be the length of the rectangle. The [[slope]] of <math>EF</math> is <math>\\frac{14}{l}</math> and so the equation of <math>EF</math> is <math>y -8 = \\frac{14}{l}x</math>. We know that <math>EF</math> is perpendicular to and bisects <math>BB'</math>. The slope of <math>BB'</math> is thus <math>\\frac{-l}{14}</math>, and so the equation of <math>BB'</math> is <math>y -25 = \\frac{-l}{14}x</math>. Let the point of intersection of <math>EF, BB'</math> be <math>G</math>. Then the y-coordinate of <math>G</math> is <math>\\frac{25}{2}</math>, so\n<cmath>\n\\begin{align*}\n\\frac{14}{l}x &= y-8 = \\frac{9}{2}\\\\\n\\frac{-l}{14}x &= y-25 = -\\frac{25}{2}\\\\\n\\end{align*}\n</cmath>\nDividing the two equations yields\n<center><math>l^2 = \\frac{25 \\cdot 14^2}{9} \\Longrightarrow l = \\frac{70}{3}</math></center>\nThe answer is <math>\\boxed{293}</math> as above.\n\n===Solution 3 (Coordinate Bashing)===\nFirstly, observe that if we are given that <math>AE=8</math> and <math>BE=17</math>, the length of the triangle is given and the height depends solely on the length of <math>CF</math>. Let Point <math>A = (0,0)</math>. Since <math>AE=8</math>, point E is at (8,0). Next, point <math>B</math> is at <math>(25,0)</math> since <math>BE=17</math> and point <math>B'</math> is at <math>(0,15)</math> since <math>BE=AE</math> by symmetry. Draw line segment <math>BB'</math>. Notice that this is perpendicular to <math>EF</math> by symmetry. Next, find the slope of EB, which is <math>\\frac{15}{25}=\\frac{3}{5}</math>. Then, the slope of <math>EF</math> is -<math>\\frac{5}{3}</math>. \n\nLine EF can be written as y=<math>-\\frac{5}{3}x+b</math>. Plug in the point <math>(8,0)</math>, and we get the equation of EF to be y=<math>_\\frac{5}{3}x+\\frac{40}{3}</math>. Since the length of <math>AB</math>=25, a point on line <math>EF</math> lies on <math>DC</math> when <math>x=25-3=22</math>. Plug in <math>x=22</math> into our equation to get <math>y=-\\frac{70}{3}</math>. <math>|y|=BC=\\frac{70}{3}</math>. Therefore, our answer is <math>2(AB+BC)=2\\left(25+\\frac{70}{3}\\right)=2\\left(\\frac{145}{3}\\right)=\\frac{290}{3}= \\boxed{293}</math>.\n\n===Solution 4 (Trig)===\nFirstly, note that <math>B'E=BE=17</math>, so <math>AB'=\\sqrt{17^2-8^2}=15</math>. Then let <math>\\angle BEF=\\angle B'EF=\\theta</math>, so <math>\\angle B'EA = \\pi-2\\theta</math>. Then <math>\\tan(\\pi-2\\theta)=\\frac{15}{8}</math>, or \n\n<cmath>\\frac{2\\tan(\\theta)}{\\tan^2(\\theta)-1}=\\frac{15}{8}</cmath> using supplementary and double angle identities. Multiplying though and factoring yields \n\n<cmath>(3\\tan(\\theta)-5)(5\\tan(\\theta)+3)=0</cmath>\n\nIt is clear from the problem setup that <math>0<\\theta<\\frac\\pi2</math>, so the correct value is <math>\\tan(\\theta)=\\frac53</math>. Next, extend rays <math>\\overrightarrow{BC}</math> and <math>\\overrightarrow{EF}</math> to intersect at <math>C'</math>. Then <math>\\tan(\\theta)=\\frac{BC'}{17}=\\frac53</math>, so <math>BC'=\\frac{85}{3}</math>. By similar triangles, <math>CC'=\\frac{3}{17}BC'=\\frac{15}{3}</math>, so <math>BC=\\frac{70}{3}</math>. The perimeter is <math>\\frac{140}{3}+50=\\frac{290}{3}\\Longrightarrow \\boxed{293}</math>\n\nAn even faster way to finish is, to draw a line segment <math>FF'</math> where <math>F'</math> is a point on <math>EB</math> such that <math>FF'</math> is perpendicular to <math>EB</math>. This makes right triangle <math>FF'E</math>, Also, note that <math>F'B</math> has length of <math>3</math> (draw the diagram out, and note the <math>F'B =FC</math>). From here, through <math>\\tan \\theta = \\frac{5}{3}</math>, we can note that <math>\\frac{FF'}{EF'} = \\frac{5}{3} \\implies \\frac{FF'}{14} = \\frac{5}{3} \\implies FF' = \\frac{70}{3}</math>. <math>FF'</math> is parallel and congrurent to <math>CB</math> and <math>AD</math>, and hence we can use this to calculate the perimeter. The perimeter is simply <math>\\frac{70}{3} + \\frac{70}{3} + 25 + 25 = \\frac{290}{3} \\Longrightarrow \\boxed{293}</math>\n\n===Solution 5 (Fast, Pythagorean)===\nUse the prepared diagram for this solution.\n\nCall the intersection of DF and B'C' G. AB'E is an 8-15-17 right triangle, and so are B'DG and C'FG. Since C'F is 3, then using the properties of similar triangles GF is 51/8. DF is 22, so DG is 125/8. Finally, DB can to calculated to be 25/3.\nAdd all the sides together to get <math>\\boxed{293}</math>.\n\n-jackshi2006\n\n===Solution 6(fast as wind[rufeng])===\nCall the intersection of <math>B'C'</math>, <math>BC</math>, and <math>EF</math> <math>G</math>. Since <math>FCBE</math> and <math>FC'B'E</math> are congruent, we know that the three lines intersect.\nWe already know <math>AB</math> so we just need to find <math>CB</math>, call it <math>x</math>. Drop an altitude from <math>F</math> to <math>AB</math> and call it <math>H</math>. <math>EH=EB-FC=14</math>. Using Pythagorean Theorem, we have <math>EF=\\sqrt{x^2+14^2}</math>. Triangles <math>EFH</math> and <math>EGB</math> are similar (AA), so we get\n<cmath>\\frac{HF}{BG}=\\frac{EH}{EB}</cmath>\n<cmath>\\frac{x}{x+GC}=\\frac{14}{17}</cmath>\nSimplify and we get <math>GC=\\frac{3x}{14}</math>. \n\nWe find the area of <math>FCBE</math> by using the fact that it is a trapezoid. \n<math>[FCBE]=\\frac{(3+17)x}{2}=10x</math>\n\nA different way to find the area:\n<math>[FCBE]=\\frac{1}{2} EG\\cdot(</math>height of <math>EGB</math> with <math>EG</math> as base<math>)-[FGC]</math>\n\nSince <math>GBE</math> and <math>G'B'E</math> are congruent(SAS), their height from <math>EG</math> is the same. <math>B'B=\\sqrt{AB'^2+AB^2}=5\\sqrt{34}</math>.\n<math>EG=\\sqrt{EB^2+BG^2}=\\sqrt{(\\frac{17x}{14})^2+17^2}=17\\sqrt{\\frac{x^2}{196}+1}</math>\n\n<cmath>[FCBE]=\\frac{1}{2} \\cdot 17 \\cdot \\sqrt{\\frac{x^2}{196}+1} \\cdot \\frac{5\\sqrt{34}}{2}-\\frac{9x}{28}</cmath>\n<cmath>280x+9x=7\\cdot 5 \\cdot \\sqrt{34} \\cdot 17 \\cdot \\sqrt{\\frac{x^2}{196}+1}</cmath>\n<cmath>17^4 x^2=49 \\cdot 25 \\cdot 34 \\cdot 17^2 \\cdot (\\frac{x^2}{196}+1)</cmath>\n<cmath>17x^2=\\frac{25}{2}x^2+2450</cmath>\n<cmath>x=\\frac{70}{3}</cmath>\n\nThe perimeter is <math>\\frac{140}{3}+50=\\frac{290}{3},</math> so our answer is <math>\\boxed{293}</math>.\n\n===Solution 7 (Similar to solution 5, more in depth)===\nLet the endpoint of the intersection of the fold near <math>F</math> be <math>G</math>. Since trapezoid <math>BCFE</math> is folded, it is congruent to trapezoid <math>B'C'FE</math>. Therefore, <math>BE=B'E=17</math>. Since <math>\\triangle AB'E</math> is a right triangle, <math>AB'=15</math> from the pythagorean theorem. From here, we can see that triangles <math>\\triangle AEB \\sim \\triangle DGB' \\sim \\triangle C'GF</math> by AA similarity. From here, we find <math>BC</math> from a lot of similarities. Let <math>BC=x</math>.\n\nSince <math>\\triangle ABE' \\sim \\triangle DGB'</math>:\n\n<cmath>\\frac {AE}{AB'} = \\frac{DB}{DG}</cmath>\n\n<cmath>\\frac {8}{15} = \\frac {x-15}{DG}</cmath>\n\n<cmath>DG = \\frac {15(x-15)}{8}</cmath>\n\n<cmath>GF = DC-DG-FC</cmath>\n\n<cmath>GF = \\frac{-15x+401}{8}</cmath>\n\nSince <math>\\triangle ABE' \\sim \\triangle C'GF'</math>,\n\n<cmath>\\frac {AE}{B'E} = \\frac {C'F}{GF}</cmath>\n\n<cmath>\\frac {8}{17} = \\frac{3}{\\frac {-15x+401}{8}}</cmath>\n\nfrom which we get <math>x= \\frac {70}{3}</math>.\n\nFinally, our answer is <math>2(\\frac {70}{3}) + 2(25)=\\frac {290}{3}</math>, which is <math>290+3=\\boxed{293}</math>.\n\n~ Wesserwessey7254"
  },
  {
    "year": 2004,
    "variant": "II",
    "problem_number": 8,
    "latex": "How many positive integer divisors of <math>2004^{2004}</math> are divisible by exactly 2004 positive integers?",
    "solution": "The [[prime factorization]] of 2004 is <math>2^2\\cdot 3\\cdot 167</math>.  Thus the prime factorization of <math>2004^{2004}</math> is <math>2^{4008}\\cdot 3^{2004}\\cdot 167^{2004}</math>.\n\nWe can [[divisor function | count the number of divisors]] of a number by multiplying together one more than each of the [[exponentiation | exponents]] of the prime factors in its prime factorization.  For example, the number of divisors of <math>2004=2^2\\cdot 3^1\\cdot 167^1</math> is <math>(2+1)(1+1)(1+1)=12</math>.  \n\nA positive integer divisor of <math>2004^{2004}</math> will be of the form <math>2^a\\cdot 3^b\\cdot 167^c</math>.  Thus we need to find how many <math>(a,b,c)</math> satisfy \n\n<center><math>(a+1)(b+1)(c+1)=2^2\\cdot 3\\cdot 167.</math></center>  \n\nWe can think of this as [[partition]]ing the exponents to <math>a+1,</math>  <math>b+1,</math> and  <math>c+1</math>.  So let's partition the 2's first.  There are two 2's so this is equivalent to partitioning two items in three containers.  We can do this in <math>{4 \\choose 2} = 6</math> ways.  We can partition the 3 in three ways and likewise we can partition the 167 in three ways.  So we have <math>6\\cdot 3\\cdot 3 = \\boxed{54}</math> as our answer."
  },
  {
    "year": 2004,
    "variant": "II",
    "problem_number": 9,
    "latex": "A [[sequence]] of positive integers with <math> a_1=1 </math> and <math> a_9+a_{10}=646 </math> is formed so that the first three terms are in [[geometric sequence|geometric progression]], the second, third, and fourth terms are in [[arithmetic sequence|arithmetic progression]], and, in general, for all <math> n\\ge1, </math> the terms <math> a_{2n-1}, a_{2n}, a_{2n+1} </math> are in geometric progression, and the terms <math> a_{2n}, a_{2n+1}, </math> and <math> a_{2n+2} </math> are in arithmetic progression. Let <math> a_n </math> be the greatest term in this sequence that is less than <math>1000</math>. Find <math> n+a_n. </math>",
    "solution": "Let <math>x = a_2</math>; then solving for the next several terms, we find that <math>a_3 = x^2,\\ a_4 = x(2x-1),\\ a_5</math> <math>= (2x-1)^2,\\ a_6</math> <math>= (2x-1)(3x-2)</math>, and in general, <math>a_{2n} = f(n-1)f(n)</math>, <math>a_{2n+1} = f(n)^2</math>, where <math>f(n) = nx - (n-1)</math>.{{ref|1}} \n\nFrom <cmath>a_9 + a_{10} = f(4)^2 + f(4)f(5) = (4x-3)(9x-7) = 646 = 2\\cdot 17 \\cdot 19</cmath>, we find that by either the [[quadratic formula]] or trial-and-error/modular arithmetic that <math>x=5</math>. Thus <math>f(n) = 4n+1</math>, and we need to find the largest <math>n</math> such that either <math>f(n)^2\\, \\mathrm{or}\\, f(n)f(n-1) < 1000</math>. This happens with <math>f(7)f(8) = 29 \\cdot 33 = 957</math>, and this is the <math>2(8) = 16</math>th term of the sequence.\n\nThe answer is <math>957 + 16 = \\boxed{973}</math>.\n\n{{note|1}} We can show this by simultaneous [[induction]]: since \n<cmath>\\begin{align*}a_{2n} &= 2a_{2n-1} - a_{2n-2} = 2a_{2(n-1)+1} - a_{2(n-1)} \\\\\n&= 2f(n-1)^2 - f(n-2)f(n-1) \\\\\n&= f(n-1)[2f(n-1) - f(n-2)] \\\\\n&= f(n-1)[(2n-2-n+2)x-(2n-4-n+3)] \\\\\n&= f(n-1)f(n) \\end{align*}</cmath>\nand\n<cmath>\\begin{align*}a_{2n+1} &= \\frac{a_{2n}^2}{a_{2n-1}} = \\frac{f(n-1)^2f(n)^2}{f(n-1)^2} = f(n)^2 \\\\\n\\end{align*}</cmath>"
  },
  {
    "year": 2004,
    "variant": "II",
    "problem_number": 10,
    "latex": "Let <math> S </math> be the [[set]] of [[integer]]s between <math>1</math> and <math> 2^{40} </math> whose binary expansions have exactly two <math>1</math>'s. If a number is chosen at random from <math> S, </math> the [[probability]] that it is divisible by <math>9</math> is <math> p/q, </math> where <math> p </math> and <math> q </math> are relatively prime positive integers. Find <math> p+q. </math>",
    "solution": "Any number from 1 to <math>2^{40}</math> can be represented in binary with 40 digits (because <math>2^{40}</math> has 41) with leading zeroes if necessary. Therefore the number of sets where there are exactly two 1‚Äôs in this binary representation is just <math>\\binom {40}{2}</math> because we‚Äôre choosing 2 1s to go in 40 digit slots. This is equal to 780; we have found <math>q</math>, our denominator.\n\nWith these particular numbers, when converting back to decimal note that the 38 zeroes all cancel out. Let the first 1 when reading the number in binary from left to right be in position <math>y</math>, I.e. when converting to decimal, it will have value <math>2^{y}</math>. Similarly, let the second 1 have position <math>x</math> (note <math>x<y</math>); then the decimal value of that 1 will be <math>2^{x}</math>. For example, with the binary string 0001001000 <math>y</math> is 6 and <math>x</math> is 3 (note that it is zero indexed).\n\nIt should also be noted that our constraints on <math>x</math> and <math>y</math> are <math>0 \\leq x < y < 40</math> and <math>x, y \\in \\mathbb{Z}</math>.\n\nThe numbers that satisfy the constraints are therefore equal to <math>2^{x}+2^{y} = 2^{x} \\cdot (1+2^{y-x})</math>. The conditions say that this is divisible by 9. <math>2^{x}</math> is clearly never divisible by 9, so we can just focus on <math>1+2^{y-x}</math>. \n<cmath>1+2^{y-x} \\equiv 0 \\pmod 9 \\implies 2^{y-x} \\equiv -1 \\pmod 9 \\implies 2^{y-x} \\equiv 8 \\pmod 9</cmath>\n\n<math>y-x = 3</math> clearly satisfies the congruence, but are there any more? Well, we see that any time we raise -1 (in the second congruence above) to an odd power we get -1 again, so if we raise <math>2^{3}</math>, which we know already works, to an odd power, we will also satisfy the congruence. Thus, <math>2^{3}, 2^{9}, 2^{15},</math> etc. work; or, <cmath>y-x \\equiv 3 \\pmod 6</cmath>\n\nTo count the numbers that satisfy the condition, we need to find the amount of numbers that satisfy <math>2^{x} \\cdot (1+2^{y-x}) \\leq 2^{40}</math>, and <math>y-x \\equiv 3 \\pmod 6 = 6n +3</math> for some whole number <math>n</math>. \n\nSince we know <math>1+2^{y-x} = 1+2^{6n+3}</math> is positive, we can divide both sides of the inequality by it;\n<cmath>2^{x} \\cdot (1+2^{y-x}) \\leq 2^{40} \\implies 2^{x} \\leq \\frac{2^{40}}{1+2^{y-x}} \\implies 2^{x} \\leq \\frac{2^{40}}{1+2^{6n+3}}</cmath>\n<cmath>\\implies 2^{x} < \\frac{2^{40}}{2^{6n+3}} \\implies 2^{x} < 2^{40-(6n+3)}\\implies 2^{x} < 2^{37-6n} \\implies x < 37 - 6n</cmath>\n\nFinally, the number of possible values of <math>x</math> is <math>37-6n</math> because <math>x</math> can also be 0 and must be an integer.Therefore, as we increase <math>n</math> from zero upwards, we get the total number of possibilities for <math>x</math> is <math>37+31+25+\\ldots+1 = 7 + 36 + 30 + 24 + \\ldots + 6 + 0 = 7 + 6 \\cdot (6 + 5 + 4\\ldots + 1) </math>\n\n<math>= 7 + 6 \\cdot 3 \\cdot 7 = 7 + 18 \\cdot 7 = 19 \\cdot 7 = 133</math>.\n\nSince 133 and 780 are relatively prime, the answer is <math>\\frac{133}{780}</math> and our final answer is <math>133+780 = \\boxed{913}</math>\n\n~KingRavi"
  },
  {
    "year": 2004,
    "variant": "II",
    "problem_number": 11,
    "latex": "A [[right cone|right circular cone]] has a [[base]] with [[radius]] <math>600</math> and [[height]] <math> 200\\sqrt{7}. </math> A fly starts at a point on the surface of the cone whose distance from the [[vertex]] of the cone is <math>125</math>, and crawls along the surface of the cone to a point on the exact opposite side of the cone whose distance from the vertex is <math>375\\sqrt{2}.</math> Find the least distance that the fly could have crawled.",
    "solution": "The easiest way is to unwrap the cone into a circular sector. Center the sector at the origin with one radius on the positive <math>x</math>-axis and the angle <math>\\theta</math> going counterclockwise. The circumference of the base is <math>C=1200\\pi</math>. The sector's radius (cone's sweep) is <math>R=\\sqrt{r^2+h^2}=\\sqrt{600^2+(200\\sqrt{7})^2}=\\sqrt{360000+280000}=\\sqrt{640000}=800</math>. Setting <math>\\theta R=C\\implies 800\\theta=1200\\pi\\implies\\theta=\\frac{3\\pi}{2}</math>.\n\nIf the starting point <math>A</math> is on the positive <math>x</math>-axis at <math>(125,0)</math> then we can take the end point <math>B</math> on <math>\\theta</math>'s bisector at <math>\\frac{3\\pi}{4}</math> radians along the <math>y=-x</math> line in the second quadrant. Using the distance from the vertex puts <math>B</math> at <math>(-375,-375)</math>. Thus the shortest distance for the fly to travel is along segment <math>AB</math> in the sector, which gives a distance <math>\\sqrt{(-375-125)^2+(-375-0)^2}=125\\sqrt{4^2+3^2}=\\boxed{625}</math>."
  },
  {
    "year": 2004,
    "variant": "II",
    "problem_number": 12,
    "latex": "Let <math> ABCD </math> be an [[isosceles trapezoid]], whose dimensions are <math> AB = 6, BC=5=DA,  </math>and <math> CD=4. </math> Draw [[circle]]s of [[radius]] 3 centered at <math> A </math> and <math> B, </math> and circles of radius 2 centered at <math> C </math> and <math> D. </math> A circle contained within the trapezoid is [[tangent]] to all four of these circles. Its radius is <math> \\frac{-k+m\\sqrt{n}}p, </math> where <math> k, m, n, </math> and <math> p </math> are [[positive integer]]s, <math> n </math> is not [[divisibility | divisible]] by the [[perfect square | square]] of any [[prime number | prime]], and <math> k </math> and <math> p </math> are [[relatively prime]]. Find <math> k+m+n+p. </math>",
    "solution": "Let the radius of the center circle be <math>r</math> and its center be denoted as <math>O</math>.\n\n<center><asy>\npointpen = black; pathpen = black+linewidth(0.7); pen d = linewidth(0.7) + linetype(\"4 4\"); pen f = fontsize(8);\n  \nreal r = (-60 + 48 * 3^.5)/23;\npair A=(0,0), B=(6,0), D=(1, 24^.5), C=(5,D.y), O = (3,(r^2 + 6*r)^.5); \nD(MP(\"A\",A)--MP(\"B\",B)--MP(\"C\",C,N)--MP(\"D\",D,N)--cycle); D(CR(A,3));D(CR(B,3));D(CR(C,2));D(CR(D,2));D(CR(O,r));\nD(O); D((3,0)--(3,D.y),d); D(A--O--D,d); MP(\"3\",(3/2,0),S,f);MP(\"2\",(2,D.y),N,f);\n</asy></center> \n\nClearly line <math>AO</math> passes through the point of tangency of circle <math>A</math> and circle <math>O</math>. Let <math>y</math> be the height from the base of the trapezoid to <math>O</math>. From the [[Pythagorean Theorem]], \n<cmath>3^2 + y^2 = (r + 3)^2 \\Longrightarrow y = \\sqrt {r^2 + 6r}.</cmath>\n\nWe use a similar argument with the line <math>DO</math>, and find the height from the top of the trapezoid to <math>O</math>, <math>z</math>, to be <math>z = \\sqrt {r^2 + 4r}</math>.\n\nNow <math>y + z</math> is simply the height of the trapezoid. Let <math>D'</math> be the foot of the [[perpendicular]] from <math>D</math> to <math>AB</math>; then <math>AD' = 3 - 2 = 1</math>. By the Pythagorean Theorem, <math>(AD')^2 + (DD')^2 = (AD)^2 \\Longrightarrow DD' = \\sqrt{24}</math> so we need to solve the equation <math>\\sqrt {r^2 + 4r} + \\sqrt {r^2 + 6r} = \\sqrt {24}</math>. We can solve this by moving one radical to the other side, and squaring the equation twice to end with a [[quadratic equation]]. \n\nSolving this, we get <math>r = \\frac { - 60 + 48\\sqrt {3}}{23}</math>, and the answer is <math>k + m + n + p = 60 + 48 + 3 + 23 = \\boxed{134}</math>."
  },
  {
    "year": 2004,
    "variant": "II",
    "problem_number": 13,
    "latex": "Let <math> ABCDE </math> be a [[convex]] [[pentagon]] with <math> AB \\parallel CE, BC \\parallel AD, AC \\parallel DE, \\angle ABC=120^\\circ, AB=3, BC=5, </math> and <math>DE = 15. </math> Given that the [[ratio]] between the area of triangle <math> ABC </math> and the area of triangle <math> EBD </math> is <math> m/n, </math> where <math> m </math> and <math> n </math> are relatively prime positive integers, find <math> m+n. </math>",
    "solution": "Let the intersection of <math>\\overline{AD}</math> and <math>\\overline{CE}</math> be <math>F</math>. Since <math>AB \\parallel CE, BC \\parallel AD, </math> it follows that <math>ABCF</math> is a [[parallelogram]], and so <math>\\triangle ABC \\cong \\triangle CFA</math>. Also, as <math>AC \\parallel DE</math>, it follows that <math>\\triangle ABC \\sim \\triangle EFD</math>. \n\n<center><asy>\npointpen = black; pathpen = black+linewidth(0.7);\n\npair D=(0,0), E=(15,0), F=IP(CR(D, 75/7), CR(E, 45/7)), A=D+ (5+(75/7))/(75/7) * (F-D), C = E+ (3+(45/7))/(45/7) * (F-E), B=IP(CR(A,3), CR(C,5));\n\nD(MP(\"A\",A,(1,0))--MP(\"B\",B,N)--MP(\"C\",C,NW)--MP(\"D\",D)--MP(\"E\",E)--cycle); D(D--A--C--E); D(MP(\"F\",F)); MP(\"5\",(B+C)/2,NW); MP(\"3\",(A+B)/2,NE); MP(\"15\",(D+E)/2);\n</asy></center>\n\nBy the [[Law of Cosines]], <math>AC^2 = 3^2 + 5^2 - 2 \\cdot 3 \\cdot 5 \\cos 120^{\\circ} = 49 \\Longrightarrow AC = 7</math>. Thus the length similarity ratio between <math>\\triangle ABC</math> and <math>\\triangle EFD</math> is <math>\\frac{AC}{ED} = \\frac{7}{15}</math>. \n\nLet <math>h_{ABC}</math> and <math>h_{BDE}</math> be the lengths of the [[altitude]]s in <math>\\triangle ABC, \\triangle BDE</math> to <math>AC, DE</math> respectively. Then, the ratio of the areas <math>\\frac{[ABC]}{[BDE]} = \\frac{\\frac 12 \\cdot h_{ABC} \\cdot AC}{\\frac 12 \\cdot h_{BDE} \\cdot DE} = \\frac{7}{15} \\cdot \\frac{h_{ABC}}{h_{BDE}}</math>. \n\nHowever, <math>h_{BDE} = h_{ABC} + h_{CAF} + h_{EFD}</math>, with all three heights oriented in the same direction. Since <math>\\triangle ABC \\cong \\triangle CFA</math>, it follows that <math>h_{ABC} = h_{CAF}</math>, and from the similarity ratio, <math>h_{EFD} = \\frac{15}{7}h_{ABC}</math>. Hence <math>\\frac{h_{ABC}}{h_{BDE}} = \\frac{h_{ABC}}{2h_{ABC} + \\frac {15}7h_{ABC}} = \\frac{7}{29}</math>, and the ratio of the areas is <math>\\frac{7}{15} \\cdot \\frac 7{29} = \\frac{49}{435}</math>. The answer is <math>m+n = \\boxed{484}</math>."
  },
  {
    "year": 2004,
    "variant": "II",
    "problem_number": 14,
    "latex": "Consider a string of <math> n </math> <math> 7 </math>'s, <math> 7777\\cdots77, </math> into which <math> + </math> signs are inserted to produce an arithmetic [[expression]]. For example, <math> 7+77+777+7+7=875 </math> could be obtained from eight <math> 7 </math>'s in this way. For how many values of <math> n </math> is it possible to insert <math> + </math> signs so that the resulting expression has value <math> 7000 </math>?",
    "solution": "Suppose we require <math>a</math> <math>7</math>s, <math>b</math> <math>77</math>s, and <math>c</math> <math>777</math>s to sum up to <math>7000</math> (<math>a,b,c \\ge 0</math>). Then <math>7a + 77b + 777c = 7000</math>, or dividing by <math>7</math>, <math>a + 11b + 111c = 1000</math>. Then the question is asking for the number of values of <math>n = a + 2b + 3c</math>.\n\nManipulating our equation, we have <math>a + 2b + 3c = n = 1000 - 9(b + 12c) \\Longrightarrow 0 \\le 9(b+12c) < 1000</math>. Thus the number of potential values of <math>n</math> is the number of multiples of <math>9</math> from <math>0</math> to <math>1000</math>, or <math>112</math>.\n\n\nHowever, we forgot to consider the condition that <math>a \\ge 0</math>. For a solution set <math>(b,c): n=1000-9(b+12c)</math>, it is possible that <math>a = n-2b-3c < 0</math> (for example, suppose we counted the solution set <math>(b,c) = (1,9) \\Longrightarrow n = 19</math>, but substituting into our original equation we find that <math>a = -10</math>, so it is invalid). In particular, this invalidates the values of <math>n</math> for which their only expressions in terms of <math>(b,c)</math> fall into the inequality <math>9b + 108c < 1000 < 11b + 111c</math>.  \n\nFor <math>1000 - n = 9k \\le 9(7 \\cdot 12 + 11) = 855</math>, we can express <math>k</math> in terms of <math>(b,c): n \\equiv b \\pmod{12}, 0 \\le b \\le 11</math> and <math>c = \\frac{n-b}{12} \\le 7</math> (in other words, we take the greatest possible value of <math>c</math>, and then \"fill in\" the remainder by incrementing <math>b</math>). Then <math>11b + 111c \\le 855 + 2b + 3c \\le 855 + 2(11) + 3(7) = 898 < 1000</math>, so these values work. \n\nSimilarily, for <math>855 \\le 9k \\le 9(8 \\cdot 12 + 10) = 954</math>, we can let <math>(b,c) = (k-8 \\cdot 12,8)</math>, and the inequality <math>11b + 111c \\le 954 + 2b + 3c \\le 954 + 2(10) + 3(8) = 998 < 1000</math>. However, for <math>9k \\ge 963 \\Longrightarrow n \\le 37</math>, we can no longer apply this approach. \n\nSo we now have to examine the numbers on an individual basis. For <math>9k = 972</math>, <math>(b,c) = (0,9)</math> works. For <math>9k = 963, 981, 990, 999 \\Longrightarrow n = 37, 19, 10, 1</math>, we find (using that respectively, <math>b = 11,9,10,11 + 12p</math> for integers <math>p</math>) that their is no way to satisfy the inequality <math>11b + 111c < 1000</math>. \n\nThus, the answer is <math>112 - 4 = \\boxed{108}</math>.\n\n\n---- \n\nA note: Above, we formulated the solution in a forward manner (the last four paragraphs are devoted to showing that all the solutions we found worked except for the four cases pointed out; in a contest setting, we wouldn't need to be nearly as rigorous). A more natural manner of attacking the problem is to think of the process in reverse, namely seeing that <math>n \\equiv 1 \\pmod{9}</math>, and noting that small values of <math>n</math> would not work.  \n\nLooking at the number <math>7000</math>, we obviously see the maximum number of <math>7's</math>: a string of <math>1000 \\ 7's</math>.  Then, we see that the minimum is <math>28 \\ 7's: \\ 777*9 + 7 = 7000</math>.  The next step is to see by what interval the value of <math>n</math> increases.  Since <math>777</math> is <math>3 \\ 7's, \\ 77*10 + 7</math> is <math>21 \\ 7's</math>, we can convert a <math>777</math> into <math>77's</math> and <math>7's</math> and add <math>18</math> to the value of <math>n</math>.  Since we have <math>9 \\ 777's</math> to work with, this gives us <math>28,46,64,82,100,118,136,154,172,190 ( = 28 + 18n | 1\\leq n\\leq 9)</math> as values for <math>n</math>.  Since <math>77</math> can be converted into <math>7*11</math>, we can add <math>9</math> to <math>n</math> by converting <math>77</math> into <math>7's</math>.  Our <math>n = 190</math>, which has <math>0 \\ 777's \\ 90 \\ 77's \\ 10 7's</math>.  We therefore can add <math>9</math> to <math>n \\ 90</math> times by doing this.  All values of <math>n</math> not covered by this can be dealt with with the <math>n = 46 \\ (8 \\ 777's \\ 10 \\ 77's \\ 2 \\ 7's)</math> up to <math>190</math>."
  },
  {
    "year": 2004,
    "variant": "II",
    "problem_number": 15,
    "latex": "A long thin strip of paper is <math>1024</math> units in length, <math>1</math> unit in width, and is divided into <math>1024</math> unit squares. The paper is folded in half repeatedly. For the first fold, the right end of the paper is folded over to coincide with and lie on top of the left end. The result is a <math>512</math> by <math>1</math> strip of double thickness. Next, the right end of this strip is folded over to coincide with and lie on top of the left end, resulting in a <math>256</math> by <math>1</math> strip of quadruple thickness. This process is repeated <math>8</math> more times. After the last fold, the strip has become a stack of <math>1024</math> unit squares. How many of these squares lie below the square that was originally the <math>942</math>nd square counting from the left?",
    "solution": "Number the squares <math>0, 1, 2, 3, ... 2^{k} - 1</math>.  In this case <math>k = 10</math>, but we will consider more generally to find an inductive solution.  Call <math>s_{n, k}</math> the number of squares below the <math>n</math> square after the final fold in a strip of length <math>2^{k}</math>.\n\nNow, consider the strip of length <math>1024</math>.  The problem asks for <math>s_{941, 10}</math>.  We can derive some useful recurrences for <math>s_{n, k}</math> as follows:  Consider the first fold.  Each square <math>s</math> is now paired with the square <math>2^{k} - s - 1</math>.  Now, imagine that we relabel these pairs with the indices <math>0, 1, 2, 3... 2^{k - 1} - 1</math> - then the <math>s_{n, k}</math> value of the pairs correspond with the <math>s_{n, k - 1}</math> values - specifically, double, and maybe <math>+ 1</math> (if the member of the pair that you're looking for is the top one at the final step).\n\nSo, after the first fold on the strip of length <math>1024</math>, the <math>941</math> square is on top of the <math>82</math> square.  We can then write\n\n<cmath>s_{941, 10} = 2s_{82, 9} + 1</cmath>\n\n(We add one because <math>941</math> is the odd member of the pair, and it will be on top.  This is more easily visually demonstrated than proven.)  We can repeat this recurrence, adding one every time we pair an odd to an even (but ignoring the pairing if our current square is the smaller of the two):\n\n<cmath>s_{82, 9} = 2s_{82, 8} = 4s_{82, 7} = 8s_{127 - 82, 6} = 8s_{45, 6}</cmath>\n\n<cmath>s_{45, 6} = 2s_{63 - 45, 5} + 1 = 2s_{18, 5} + 1 = 4s_{31 - 18, 4} + 1 = 4s_{13, 4} + 1</cmath>\n\n<cmath>s_{13, 4} = 2s_{15 - 13, 3} + 1 = 2s_{2, 3}+1</cmath>\n\nWe can easily calculate <math>s_{2, 3} = 4</math> from a diagram.  Plugging back in,\n\n<cmath>\\begin{align*} s_{13, 4} &= 9 \\\\\ns_{45, 6} &= 37 \\\\\ns_{82, 9} &= 296 \\\\\ns_{941, 10} &= \\boxed{593}\\end{align*}</cmath>"
  },
  {
    "year": 2005,
    "variant": "I",
    "problem_number": 1,
    "latex": "Six [[congruent]] [[circle]]s form a ring with each circle [[externally tangent]] to two circles adjacent to it. All circles are [[internally tangent]] to a circle <math> C </math> with [[radius]] 30. Let <math> K </math> be the area of the region inside circle <math> C </math> and outside of the six circles in the ring. Find <math> \\lfloor K \\rfloor</math> (the [[floor function]]).\n\n[[Image:2005 AIME I Problem 1.png]]",
    "solution": "Define the radii of the six congruent circles as <math>r</math>. If we draw all of the radii to the points of external tangency, we get a [[regular polygon|regular]] [[hexagon]]. If we connect the [[vertex|vertices]] of the hexagon to the [[center]] of the circle <math>C</math>, we form several [[equilateral triangle]]s. The length of each side of the triangle is <math>2r</math>. Notice that the radius of circle <math>C</math> is equal to the length of the side of the triangle plus <math>r</math>. Thus, the radius of <math>C</math> has a length of <math>3r = 30</math>, and so <math>r = 10</math>. <math>K = 30^2\\pi - 6(10^2\\pi) = 300\\pi</math>, so <math>\\lfloor 300\\pi \\rfloor = \\boxed{942}</math>."
  },
  {
    "year": 2005,
    "variant": "I",
    "problem_number": 2,
    "latex": "For each [[positive integer]] <math>k</math>, let <math> S_k </math> denote the [[increasing sequence | increasing]] [[arithmetic sequence]] of [[integer]]s whose first term is <math>1</math> and whose common difference is <math> k</math>.  For example, <math> S_3 </math> is the [[sequence]] <math> 1,4,7,10,\\ldots. </math> For how many values of <math> k </math> does <math> S_k </math> contain the term <math>2005</math>?",
    "solution": "Suppose that the <math>n</math>th term of the sequence <math>S_k</math> is <math>2005</math>. Then <math>1+(n-1)k=2005</math> so <math>k(n-1)=2004=2^2\\cdot 3\\cdot 167</math>.  The [[ordered pair]]s <math>(k,n-1)</math> of positive integers that satisfy the last equation are <math>(1,2004)</math>,<math>(2,1002)</math>, <math>(3,668)</math>, <math>(4,501)</math>, <math>(6,334)</math>, <math>(12,167)</math>, <math>(167,12)</math>,<math>(334,6)</math>, <math>(501,4)</math>, <math>(668,3)</math>, <math>(1002,2)</math> and <math>(2004,1)</math>, and each of these gives a possible value of <math>k</math>. Thus the requested number of values is <math>12</math>, and the answer is <math>\\boxed{012}</math>.\n\nAlternatively, notice that the formula for the number of [[divisor]]s states that there are <math>(2 + 1)(1 + 1)(1 + 1) = 12</math> divisors of <math>2^2\\cdot 3^1\\cdot 167^1</math>."
  },
  {
    "year": 2005,
    "variant": "I",
    "problem_number": 3,
    "latex": "How many [[positive integer]]s have exactly three [[proper divisor]]s (positive integral [[divisor]]s excluding itself), each of which is less than 50?",
    "solution": "Suppose <math>n</math> is such an [[integer]]. Because <math>n</math> has <math>3</math> proper divisors, it must have <math>4</math> divisors,, so <math>n</math> must be in the form <math>n=p\\cdot q</math> or <math>n=p^3</math> for distinct [[prime number]]s <math>p</math> and <math>q</math>. \n\nIn the first case, the three proper divisors of <math>n</math> are <math>1</math>, <math>p</math> and <math>q</math>.  Thus, we need to pick two prime numbers less than <math>50</math>. There are fifteen of these (<math>2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43</math> and <math>47</math>) so there are <math> {15 \\choose 2} =105</math> ways to choose a pair of primes from the list and thus <math>105</math> numbers of the first type.\n\nIn the second case, the three proper divisors of <math>n</math> are 1, <math>p</math> and <math>p^2</math>.  Thus we need to pick a prime number whose square is less than <math>50</math>.  There are four of these (<math>2, 3, 5,</math> and <math>7</math>) and so four numbers of the second type. \n\nThus there are <math>105+4=\\boxed{109}</math> integers that meet the given conditions.\n\n\n~lpieleanu (Minor editing)\n~ rollover2020 (extremely minor editing)"
  },
  {
    "year": 2005,
    "variant": "I",
    "problem_number": 4,
    "latex": "The director of a marching band wishes to place the members into a formation that includes all of them and has no unfilled positions. If they are arranged in a square formation, there are 5 members left over. The director realizes that if they are arranged in a rectangular formation with 7 more rows than columns,\nthe desired result can be obtained. Find the maximum number of members this\nband can have.\n__TOC__",
    "solution": "=== Solution 1 ===\nIf <math>n > 14</math> then <math>n^2 + 6n + 14 < n^2 + 7n < n^2 + 8n + 21</math> and so <math>(n + 3)^2 + 5 < n(n + 7) < (n + 4)^2 + 5</math>.  If <math>n</math> is an [[integer]] there are no numbers which are 5 more than a [[perfect square]] strictly between <math>(n + 3)^2 + 5</math> and <math>(n + 4)^2 + 5</math>.  Thus, if the number of columns is <math>n</math>, the number of students is <math>n(n + 7)</math> which must be 5 more than a perfect square, so <math>n \\leq 14</math>.  In fact, when <math>n = 14</math> we have <math>n(n + 7) = 14\\cdot 21 = 294 = 17^2 + 5</math>, so this number works and no larger number can.  Thus, the answer is <math>\\boxed{294}</math>.\n\n=== Solution 2 ===\nDefine the number of rows/columns of the square formation as <math>s</math>, and the number of rows of the rectangular formation <math>r</math> (so there are <math>r - 7</math> columns). Thus, <math>s^2 + 5 = r(r-7) \\Longrightarrow r^2 - 7r - s^2 - 5 = 0</math>. The [[quadratic formula]] yields <math>r = \\frac{7 \\pm \\sqrt{49 - 4(1)(-s^2 - 5)}}{2} = \\frac{7 \\pm \\sqrt{4s^2 + 69}}{2}</math>. <math>\\sqrt{4s^2 + 69}</math> must be an [[integer]], say <math>x</math>. Then <math>4s^2 + 69 = x^2</math> and <math>(x + 2s)(x - 2s) = 69</math>. The factors of <math>69</math> are <math>(1,69), (3,23)</math>; <math>x</math> is maximized for the first case. Thus, <math>x = \\frac{69 + 1}{2} = 35</math>, and <math>r = \\frac{7 \\pm 35}{2} = 21, -14</math>. The latter obviously can be discarded, so there are <math>21</math> rows and <math>21 - 7 = 14</math> columns, making the answer <math>294</math>.\n\n=== Solution 3 ===\nThe number of members is <math>m^2+5=n(n+7)</math> for some <math>n</math> and <math>m</math>. Multiply both sides by <math>4</math> and [[completing the square|complete the square]] to get <math>4m^2+69=(2n+7)^2</math>. Thus, we have <math>69=((2n+7)+2m)((2n+7)-2m)</math>. Since we want to maximize <math>n</math>, set the first factor equal to <math>69</math> and the second equal to <math>1</math>. Now we have the systems of equations \n<cmath>2n+2m+7 = 69</cmath>\n<cmath>2n-2m+7 = 1</cmath>\nAdding these two equations gives us <math>4n+14=70</math> which means <math>4n=56</math> so <math>n=14</math>. \nThus, the answer is <math>14\\cdot21=294</math>. <math>\\square</math>\n\n~lpieleanu\n\n=== Solution 4 ===\nPartially completing the square\n\nGeometrically: Split up the formation of <math>n + 7</math> rows and <math>n</math> columns into a square of <math>n</math> rows and <math>n</math> columns and a separate rectangle of the dimensions <math>7</math> rows by <math>n</math> columns. We want to take the rows from the rectangle and add them to the square to get another square and <math>5</math> left over. If we attach exactly <math>2</math> rows on the top and exactly <math>2</math> rows on the side of the <math>n</math> x <math>n</math> square, then we have an <math>(n + 2)</math> x <math>(n + 2)</math> square that's missing a <math>2</math> x <math>2</math> corner. For the remaining <math>3n</math> to fill this square plus the <math>5</math> extra members, <math>n</math> must be <math>3</math>. If we instead plaster exactly <math>3</math> rows from the <math>7</math> x <math>n</math> formation to two adjacent sides of the <math>n</math> x <math>n</math> square, we have an <math>(n + 3)</math> x <math>(n + 3)</math> formation that's missing a <math>3</math> x <math>3</math> corner. For the remaining row of length <math>n</math> to fill this plus five, <math>n = 14</math>. Plugging these in, we find <math>n = 14</math> has a much higher count of members: <math>(n + 7)n; n = 14 --> 21(14) = 294</math>\n\nAlgebraically: We have <math>n^2 + 7n = m</math>, where <math>m</math> is the number of members in the band and <math>n</math> is a positive integer. We partially complete the square for <math>n</math> to get \n<math>n^2 + 7n = (n + 1)^2 + 5n - 1 = (n + 2)^2 + 3n - 4 = (n + 3)^2 + n - 9</math>\nOur goal is to get <math>n^2 + 7n = y^2 + 5</math> because we want <math>m</math> to be <math>5</math> more than a perfect square. From the above, <math>5n - 1 = 5</math> means <math>n</math> isn't an integer, <math>3n - 4 = 5</math> means that <math>n = 3</math>, and <math>n - 9 = 5</math> means that <math>n = 14</math>. Out of these, <math>n = 14</math> is associated with the highest number of members in the band, so <math>m = (14^2) + 7(14) = 294</math>\n\n\n=== Solution 5===\n\nLet there be <math>m</math> members and <math>n</math> members for the square and <math>c</math> for the number of columns of the other formation. We have <math>n^2 +5 = c(c+7) \\implies n^2+5 = \\left(c+\\frac{7}{2}\\right)^2 -\\frac{49}{4} \\implies n^2 - \\left(c+\\frac{7}{2}\\right)^2 = -\\frac{69}{4} \\implies \\left(n-c-\\frac{7}{2}\\right)\\left(n + c +\\frac{7}{2}\\right) \\implies (2n-2c-7)(2n+2n+7) = -69.</math>\n\nTo maximize this we let <math>2n+2c+7 = 69</math> and <math>2n-2c-7 = -1.</math> Solving we find <math>n = 17</math> so the desired number of members is <math>17^2 + 5 = \\boxed{294}.</math>"
  },
  {
    "year": 2005,
    "variant": "I",
    "problem_number": 5,
    "latex": "Robert has 4 indistinguishable gold coins and 4 indistinguishable silver coins. Each coin has an engraving of one face on one side, but not on the other. He wants to stack the eight coins on a table into a single stack so that no two adjacent coins are face to face. Find the number of possible distinguishable arrangements of the 8 coins.",
    "solution": "There are two separate parts to this problem: one is the color (gold vs silver), and the other is the orientation.\n\nThere are <math>{8\\choose4} = 70</math> ways to position the gold coins in the stack of 8 coins, which determines the positions of the silver coins.\n\nCreate a string of letters H and T to denote the orientation of the top of the coin. To avoid making two faces touch, we cannot have the arrangement HT. Thus, all possible configurations must be a string of tails followed by a string of heads, since after the first H no more tails can appear. The first H can occur in a maximum of eight times different positions, and then there is also the possibility that it doesn‚Äôt occur at all, for <math>9</math> total configurations. Thus, the answer is <math>70 \\cdot 9 = \\boxed{630}</math>."
  },
  {
    "year": 2005,
    "variant": "I",
    "problem_number": 6,
    "latex": "Let <math> P </math> be the product of the nonreal roots of <math> x^4-4x^3+6x^2-4x=2005. </math> Find <math> \\lfloor P\\rfloor. </math>",
    "solution": "The left-hand side of that [[equation]] is nearly equal to <math>(x - 1)^4</math>.  Thus, we add 1 to each side in order to complete the fourth power and get\n<math>(x - 1)^4 = 2006</math>.\n\nLet <math>r = \\sqrt[4]{2006}</math> be the positive [[real]] fourth root of 2006.  Then the roots of the above equation are <math>x = 1 + i^n r</math> for <math>n = 0, 1, 2, 3</math>.  The two non-real members of this set are <math>1 + ir</math> and <math>1 - ir</math>.  Their product is <math>P = 1 + r^2 = 1 + \\sqrt{2006}</math>.  <math>44^2 = 1936 < 2006 < 2025 = 45^2</math> so <math>\\lfloor P \\rfloor = 1 + 44 = \\boxed{045}</math>."
  },
  {
    "year": 2005,
    "variant": "I",
    "problem_number": 7,
    "latex": "In [[quadrilateral]] <math> ABCD,\\ BC=8,\\ CD=12,\\ AD=10, </math> and <math> m\\angle A= m\\angle B = 60^\\circ. </math> Given that <math> AB = p + \\sqrt{q}, </math> where <math> p </math> and <math> q </math> are [[positive]] [[integer]]s, find <math> p+q. </math>\n\n__TOC__",
    "solution": "=== Solution 1 ===\n<asy>draw((0,0)--(20.87,0)--(15.87,8.66)--(5,8.66)--cycle);\ndraw((5,8.66)--(5,0));\ndraw((15.87,8.66)--(15.87,0));\ndraw((5,8.66)--(16.87,6.928));\nlabel(\"$A$\",(0,0),SW);\nlabel(\"$B$\",(20.87,0),SE);\nlabel(\"$E$\",(15.87,8.66),NE);\nlabel(\"$D$\",(5,8.66),NW);\nlabel(\"$P$\",(5,0),S);\nlabel(\"$Q$\",(15.87,0),S);\nlabel(\"$C$\",(16.87,7),E);\nlabel(\"$12$\",(10.935,7.794),S);\nlabel(\"$10$\",(2.5,4.5),W);\nlabel(\"$10$\",(18.37,4.5),E);\n</asy>\n\nDraw line segment <math>DE</math> such that line <math>DE</math> is concurrent with line <math>BC</math>. Then, <math>ABED</math> is an isosceles trapezoid so <math>AD=BE=10</math>, and <math>BC=8</math> and <math>EC=2</math>. We are given that <math>DC=12</math>. Since <math>\\angle CED = 120^{\\circ}</math>, using Law of Cosines on <math>\\bigtriangleup CED</math> gives <cmath>12^2=DE^2+4-2(2)(DE)(\\cos 120^{\\circ})</cmath> which gives <cmath>144-4=DE^2+2DE</cmath>. Adding <math>1</math> to both sides gives <math>141=(DE+1)^2</math>, so <math>DE=\\sqrt{141}-1</math>. <math>\\bigtriangleup DAP</math> and <math>\\bigtriangleup EBQ</math> are both <math>30-60-90</math>, so <math>AP=5</math> and <math>BQ=5</math>. <math>PQ=DE</math>, and therefore <math>AB=AP+PQ+BQ=5+\\sqrt{141}-1+5=9+\\sqrt{141} \\rightarrow (p,q)=(9,141) \\rightarrow \\boxed{150}</math>.\n\n=== Solution 2 ===\n<center>[[Image:AIME_2005I_Solution_7_1.png]]</center>\n\nDraw the [[perpendicular]]s from <math>C</math> and <math>D</math> to <math>AB</math>, labeling the intersection points as <math>E</math> and <math>F</math>. This forms 2 <math>30-60-90</math> [[right triangle]]s, so <math>AE = 5</math> and <math>BF = 4</math>. Also, if we draw the horizontal line extending from <math>C</math> to a point <math>G</math> on the line <math>DE</math>, we find another right triangle <math>\\triangle DGC</math>. <math>DG = DE - CF = 5\\sqrt{3} - 4\\sqrt{3} = \\sqrt{3}</math>. The [[Pythagorean Theorem]] yields that <math>GC^2 = 12^2 - \\sqrt{3}^2 = 141</math>, so <math>EF = GC = \\sqrt{141}</math>. Therefore, <math>AB = 5 + 4 + \\sqrt{141} = 9 + \\sqrt{141}</math>, and <math>p + q = \\boxed{150}</math>.\n\n=== Solution 3 ===\n<center>[[Image:AIME_2005I_Solution_7_2.png]]</center>\nExtend <math>AD</math> and <math>BC</math> to an intersection at point <math>E</math>. We get an [[equilateral triangle]] <math>ABE</math>. We denote the length of a side of <math>\\triangle ABE</math> as <math>s</math> and solve for it using the [[Law of Cosines]]: <cmath>12^2 = (s - 10)^2 + (s - 8)^2 - 2(s - 10)(s - 8)\\cos{60}</cmath>\n<cmath>144 = 2s^2 - 36s + 164 - (s^2 - 18s + 80)</cmath> This simplifies to <math>s^2 - 18s - 60=0</math>; the [[quadratic formula]] yields the (discard the negative result) same result of <math>9 + \\sqrt{141}</math>.\n\n=== Solution 4 ===\nExtend <math>BC</math> and <math>AD</math> to meet at point <math>E</math>, forming an equilateral triangle <math>\\triangle ABE</math>. Draw a line from <math>C</math> parallel to <math>AB</math> so that it intersects <math>AD</math> at point <math>F</math>. Then, apply [[Stewart's Theorem]] on <math>\\triangle CFE</math>. Let <math>CE=x</math>. <cmath>2x(x-2) + 12^2x = 2x^2 + x^2(x-2)</cmath> <cmath>x^3 - 2x^2 - 140x = 0</cmath> By the quadratic formula (discarding the negative result), <math>x = 1 + \\sqrt{141}</math>, giving <math>AB = 9 + \\sqrt{141}</math> for a final answer of <math>p+q=150</math>.\n\n=== Solution 5 (EASY EASY VERY TREMENDOUSLY EASY) ===\n\nDraw a line from point <math>C</math> to a new point <math>E</math> on <math>AD</math> parallel to <math>AB</math>. Draw a line from point <math>E</math> to a new point <math>F</math> on <math>AB</math> parallel to <math>CD</math>. This creates parallelogram <math>CEFB</math>. \n  The reasoning for this is to connect the two angles that are congruent. \n\n<math>\\angle CEF = 60^{\\circ}</math> and triangle <math>AEF</math> is an equilateral triangle with side length 8. Thus, <math>AF = 8</math>. \n\n<math>ED = 10 - 8 = 2</math>. By the Law of Cosines, <math>CD^2 = ED^2 + EC^2 - 2 \\cdot {ED} \\cdot {EC} \\cdot \\cos{\\angle DEC}</math>. Thus, <math>144 = 4 + c^2 - 2c</math> and <math>c = 1 + \\sqrt{141}</math>. <math>EC = FB</math>. \n\n<math>AB = AF + FB = 8 + 1 + \\sqrt{141} = 9 + \\sqrt{141}</math> so the answer is <math>p+q=150</math>.\n\n-unhappyfarmer"
  },
  {
    "year": 2005,
    "variant": "I",
    "problem_number": 8,
    "latex": "The [[equation]] <math> 2^{333x-2} + 2^{111x+2} = 2^{222x+1} + 1 </math> has three [[real]] [[root]]s. Given that their sum is <math>m/n</math> where <math> m </math> and <math> n </math> are [[relatively prime]] [[positive integer]]s, find <math> m+n. </math>",
    "solution": "Let <math>y = 2^{111x}</math>.  Then our equation reads <math>\\frac{1}{4}y^3 + 4y = 2y^2 + 1</math> or <math>y^3 - 8y^2 + 16y - 4 = 0</math>.  Thus, if this equation has roots <math>r_1, r_2</math> and <math>r_3</math>, by [[Vieta's formulas]] we have <math>r_1\\cdot r_2\\cdot r_3 = 4</math>.  Let the corresponding values of <math>x</math> be <math>x_1, x_2</math> and <math>x_3</math>.  Then the previous statement says that <math>2^{111\\cdot(x_1 + x_2 + x_3)} = 4</math> so taking a [[logarithm]] of that gives <math>111(x_1 + x_2 + x_3) = 2</math> and <math>x_1 + x_2 + x_3 = \\frac{2}{111}</math>.  Thus the answer is <math>111 + 2 = \\boxed{113}</math>."
  },
  {
    "year": 2005,
    "variant": "I",
    "problem_number": 9,
    "latex": "Twenty seven unit [[cube (geometry) | cube]]s are painted orange on a set of four [[face]]s so that two non-painted faces share an [[edge]]. The 27 cubes are randomly arranged to form a <math> 3\\times 3 \\times 3 </math> cube. Given the [[probability]] of the entire [[surface area]] of the larger cube is orange is <math> \\frac{p^a}{q^br^c}, </math> where <math> p,q, </math> and <math> r </math> are distinct [[prime number | prime]]s and <math> a,b, </math> and <math> c </math> are [[positive integer]]s, find <math> a+b+c+p+q+r. </math>\n\n__TOC__",
    "solution": "[[Image:2005_I_AIME-9.png]]\n\nWe can consider the orientation of each of the individual cubes independently.\nThe unit cube at the center of our large cube has no exterior faces, so all of its orientations work.\n\nFor the six unit cubes and the centers of the faces of the large cube, we need that they show an orange face.  This happens in <math>\\frac{4}{6} = \\frac{2}{3}</math> of all orientations, so from these cubes we gain a factor of <math>\\left(\\frac{2}{3}\\right)^6</math>.\n\nThe twelve unit cubes along the edges of the large cube have two faces showing, and these two faces are joined along an edge.  Thus, we need to know the number of such pairs that are both painted orange.  We have a pair for each edge, and 7 edges border one of the unpainted faces while only 5 border two painted faces.  Thus, the probability that two orange faces show for one of these cubes is <math>\\frac{5}{12}</math>, so from all of these cubes we gain a factor of <math>\\left(\\frac{5}{12}\\right)^{12} = \\frac{5^{12}}{2^{24}3^{12}}</math>.\n\nFinally, we need to orient the eight corner cubes.  Each such cube has 3 faces showing, and these three faces share a common vertex.  Thus, we need to know the number of vertices for which all three adjacent faces are painted orange.  There are six vertices which are a vertex of one of the unpainted faces and two vertices which have our desired property, so each corner cube contributes a probability of <math>\\frac{2}{8} = \\frac{1}{4}</math> and all the corner cubes together contribute a probability of <math>\\left(\\frac{1}{4}\\right)^8 = \\frac{1}{2^{16}}</math>\n\nSince these probabilities are independent, the overall probability is just their product, <math>\\frac{2^6}{3^6} \\cdot \\frac{5^{12}}{2^{24}3^{12}} \\cdot \\frac{1}{2^{16}} = \\frac{5^{12}}{2^{34}\\cdot 3^{18}}</math> and so the answer is <math>2 + 3 + 5 + 12 + 34 + 18 = \\boxed{074}</math>.\n\n=== Solution 2 ===\nRather than worry about the actual painted faces, consider the position of the shared edge of the non-colored faces. The six centers of the faces can be calculated in the same manner as last time, getting <math>\\left(\\frac{2}{3}\\right)^6</math>. \n\nThe twelve edge cubes show two faces. We want the shared edge of the non-colored faces to not be one of the edges that are exposed on the outside. There are 7 such edges that can be seen when viewed from the outside, so the probability they cannot be seen are <math> \\left(\\frac{5}{12}\\right)^{12}</math>.\n\nThe eight corner cubes each have 9 visible edges from the outside, so the probability that the edge of the non-colored faces is not one of those is <math>\\left(\\frac{3}{12}\\right)^8 = \\left(\\frac{1}{4}\\right)^8</math>. Multiplying the probabilities together, we get the same exact solution.  \n\n----\n\nAs a side note, notice that the placement of the two unpainted faces is in fact of vital importance: if they were on opposite faces, the answer would be 0 because any placement of such a cube in the corner of the large cube would show one unpainted face."
  },
  {
    "year": 2005,
    "variant": "I",
    "problem_number": 10,
    "latex": "[[Triangle]] <math> ABC </math> lies in the [[cartesian plane]] and has an [[area]] of <math>70</math>. The coordinates of <math> B </math> and <math> C </math> are <math> (12,19) </math> and <math> (23,20), </math> respectively, and the coordinates of <math> A </math> are <math> (p,q). </math> The [[line]] containing the [[median of a triangle | median]] to side <math> BC </math> has [[slope]] <math> -5. </math> Find the largest possible value of <math> p+q. </math>\n\n<center><asy>defaultpen(fontsize(8));\nsize(170);\npair A=(15,32), B=(12,19), C=(23,20), M=B/2+C/2, P=(17,22);\ndraw(A--B--C--A);draw(A--M);draw(B--P--C);\nlabel(\"A (p,q)\",A,(1,1));label(\"B (12,19)\",B,(-1,-1));label(\"C (23,20)\",C,(1,-1));label(\"M\",M,(0.2,-1));\nlabel(\"(17,22)\",P,(1,1));\ndot(A^^B^^C^^M^^P);</asy></center>",
    "solution": "The [[midpoint]] <math>M</math> of [[line segment]] <math>\\overline{BC}</math> is <math>\\left(\\frac{35}{2}, \\frac{39}{2}\\right)</math>. The equation of the median can be found by <math>-5 = \\frac{q - \\frac{39}{2}}{p - \\frac{35}{2}}</math>. Cross multiply and simplify to yield that <math>-5p + \\frac{35 \\cdot 5}{2} = q - \\frac{39}{2}</math>, so <math>q = -5p + 107</math>.\n\nUse [[determinant]]s to find that the [[area]] of <math>\\triangle ABC</math> is <math>\\frac{1}{2} \\begin{vmatrix}p & 12 & 23 \\\\  q & 19 & 20 \\\\ 1 & 1 & 1\\end{vmatrix} = 70</math> (note that there is a missing [[absolute value]]; we will assume that the other solution for the triangle will give a smaller value of <math>p+q</math>, which is provable by following these steps over again) (alternatively, we could use the [[Shoelace Theorem]]). We can calculate this determinant to become <math>140 = \\begin{vmatrix} 12 & 23 \\\\ 19 & 20 \\end{vmatrix} - \\begin{vmatrix} p & q \\\\ 23 & 20 \\end{vmatrix} + \\begin{vmatrix} p & q \\\\ 12 & 19 \\end{vmatrix}</math> <math>\\Longrightarrow 140 = 240 - 437 - 20p + 23q + 19p - 12q</math> <math>= -197 - p + 11q</math>. Thus, <math>q = \\frac{1}{11}p + \\frac{337}{11}</math>.\n\nSetting this equation equal to the equation of the median, we get that <math>\\frac{1}{11}p + \\frac{337}{11} = -5p + 107</math>, so <math>\\frac{56}{11}p = \\frac{107 \\cdot 11 - 337}{11}</math>. Solving produces that <math>p = 15</math>. [[Substitution|Substituting]] backwards yields that <math>q = 32</math>; the solution is <math>p + q = \\boxed{047}</math>."
  },
  {
    "year": 2005,
    "variant": "I",
    "problem_number": 11,
    "latex": "A [[semicircle]] with [[diameter]] <math> d </math> is contained in a [[square (geometry) | square]] whose sides have length 8. Given the maximum value of <math> d </math> is <math> m - \\sqrt{n},</math> find <math> m+n. </math>\n\n__TOC__",
    "solution": "We note that aligning the base of the semicircle with a side of the square is certainly non-optimal.  If the semicircle is tangent to only one side of the square, we will have \"wiggle-room\" to increase its size.  Once it is tangent to two adjacent sides of the square, we will maximize its size when it touches both other sides of the square.  This can happen only when it is arranged so that the center of the semicircle lies on one diagonal of the square.\n\n[[Image:2005 AIME I Problem 11.png]]\n\nNow, let the square be <math>ABCD</math>, and let <math>E \\in AB</math> and <math>F \\in DA</math> be the points at which the \"corners\" of the semicircle touch the square. Let <math>O</math> be the center of the semicircle.\n\n===Solution 1 ===\nWe can just look at a quarter circle inscribed in a <math>45-45-90</math> right triangle. We can then extend a radius, <math>r</math> to one of the sides creating an <math>r,r, r\\sqrt{2}</math> right triangle. This means that we have <math>r + r\\sqrt{2} = 8\\sqrt{2}</math> so <math>r = \\frac{8\\sqrt{2}}{1+\\sqrt{2}} = 16 - 8\\sqrt{2}</math>. Then the diameter is <math>32 - \\sqrt{512}</math> giving us <math>32 + 512 = \\boxed{544}</math>\n\n=== Solution 2 ===\nDefine the radius of the semicircle as <math>r</math>. Draw the [[perpendicular]] from <math>O</math> to <math>AB</math>, which forms a <math>45-45-90</math> triangle. The length of the perpendicular is <math>\\frac{r}{\\sqrt{2}}</math>. Note also that <math>AD</math> is equal to the length of that perpendicular plus the radius to the point of tangency on <math>CD</math>. Thus, <math>r + \\frac{r}{\\sqrt{2}} = 8</math>, and <math>r = \\frac{8\\sqrt{2}}{\\sqrt{2} + 1} \\cdot (\\frac{\\sqrt{2} - 1}{\\sqrt{2} - 1}) = 16 - 8\\sqrt{2}</math>. The diameter is then <math>2r = 32 - \\sqrt{512}</math>, and the solution is <math>32 + 512 = 544</math>.\n\n=== Solution 3 ===\nBy the comments above, <math>AE = AF = a</math>.  By the [[Pythagorean Theorem]], <math>d^2 = 2a^2</math>.\n\nNow, if we draw a line through the center, <math>O</math>, of the semicircle and its point of tangency with <math>BC</math>, we see that this line is perpendicular to <math>BC</math> and so parallel to <math>AB</math>.  Thus, by [[triangle similarity]] it cuts <math>AF</math> in half, and so by symmetry the distance from <math>O</math> to <math>AD</math> is <math>\\frac{a}{2}</math> and so the distance from <math>O</math> to <math>BC</math> is <math>8 - \\frac a2</math>.  But this latter quantity is also the radius of the semicircle, so <math>d = 16 - a</math>.\n\nOur two previous paragraphs give <math>2a^2 = (16 - a)^2</math> so <math>a^2 + 32a - 256 = 0</math> and <math>a = 16\\sqrt{2} - 16</math> (where we discard the negative root of that quadratic) and so <math>d = a\\sqrt{2} = 32 - 16\\sqrt{2} = 32 - \\sqrt{512}</math>, so the answer is <math>32 + 512 = 544</math>.\n=== Solution 4 ===\nWe proceed by finding the area of the square in 2 different ways. The square is obviously 8*8=64, but we can also find the area in terms of d. From the center of the circle, draw radii that hit the points where the square is tangent to the semicircle. Then the square's area is the area of the small square +2* the area of the trapezoids on the corners+ the area of an isoceles triangle. Adding these all up gives <math>64=\\frac{d^2}{4}+\\frac{d^2}{4}+(8-\\frac{d\\sqrt{2}}{2}+\\frac{d}{2})(8-\\frac{d}{2})</math>\nSimplifying gives <math>d-16\\sqrt{2}+d\\sqrt{2}=0</math>. Solving gives <math>d=32-16\\sqrt{2}=32-\\sqrt{512}</math> so the answer is <math>32+512= \\boxed{544}</math>.\n=== Solution 5 ===\nIt is easy after getting the image, after drawing labeling the lengths of those segments, assume the radius is <math>x</math>, we can see <math>x=\\sqrt{2}(8-x)</math> and we get <math>2x=32-\\sqrt{512}</math> and we have the answer <math>\\boxed{544}</math> ~bluesoul"
  },
  {
    "year": 2005,
    "variant": "I",
    "problem_number": 12,
    "latex": "For [[positive integer]]s <math> n, </math> let <math> \\tau (n) </math> denote the number of positive integer [[divisor]]s of <math> n, </math> including 1 and <math> n. </math> For example, <math> \\tau (1)=1 </math> and <math> \\tau(6) =4. </math> Define <math> S(n) </math> by <math> S(n)=\\tau(1)+ \\tau(2) + \\cdots + \\tau(n). </math> Let <math> a </math> denote the number of positive integers <math> n \\leq 2005 </math> with <math> S(n) </math> [[odd integer | odd]], and let <math> b </math> denote the number of positive integers <math> n \\leq 2005 </math> with <math> S(n) </math> [[even integer | even]]. Find <math> |a-b|. </math>\n\n__TOC__",
    "solution": "It is well-known that <math>\\tau(n)</math> is odd if and only if <math>n</math> is a [[perfect square]].  (Otherwise, we can group [[divisor]]s into pairs whose product is <math>n</math>.)  Thus, <math>S(n)</math> is odd if and only if there are an odd number of perfect squares less than <math>n</math>.  So <math>S(1), S(2)</math> and <math>S(3)</math> are odd, while <math>S(4), S(5), \\ldots, S(8)</math> are even, and <math>S(9), \\ldots, S(15)</math> are odd, and so on. \n\nSo, for a given <math>n</math>, if we choose the positive integer <math>m</math> such that <math>m^2 \\leq n < (m + 1)^2</math> we see that <math>S(n)</math> has the same parity as <math>m</math>.  \n\nIt follows that the numbers between <math>1^2</math> and <math>2^2</math>, between <math>3^2</math> and <math>4^2</math>, and so on, all the way up to the numbers between <math>43^2</math> and <math>44^2 = 1936</math> have <math>S(n)</math> odd. These are the only such numbers less than <math>2005</math> (because <math>45^2 = 2025 > 2005</math>)."
  },
  {
    "year": 2005,
    "variant": "I",
    "problem_number": 13,
    "latex": "A particle moves in the [[Cartesian plane]] according to the following rules:\n\n# From any lattice point <math> (a,b), </math> the particle may only move to <math> (a+1,b), (a,b+1), </math> or <math>(a+1,b+1). </math>\n# There are no right angle turns in the particle's path.\n\nHow many different paths can the particle take from <math> (0,0) </math> to <math> (5,5) </math>?\n\n__TOC__",
    "solution": "=== Solution 1 ===\nThe length of the path (the number of times the particle moves) can range from <math>l = 5</math> to <math>9</math>; notice that <math>d = 10-l</math> gives the number of diagonals. Let <math>R</math> represent a move to the right, <math>U</math> represent a move upwards, and <math>D</math> to be a move that is diagonal. [[Casework]] upon the number of diagonal moves:\n\n*'''Case ''' <math>d = 1</math>: It is easy to see only <math>2</math> cases. \n*'''Case ''' <math>d = 2</math>: There are two diagonals. We need to generate a string with <math>3</math> <math>R</math>'s, <math>3</math> <math>U</math>'s, and <math>2</math> <math>D</math>'s such that no two <math>R</math>'s or <math>U</math>'s are adjacent. The <math>D</math>'s split the string into three sections (<math>-D-D-</math>): by the [[Pigeonhole principle]] all of at least one of the two letters must be all together (i.e., stay in a row). \n:If both <math>R</math> and <math>U</math> stay together, then there are <math>3 \\cdot 2=6</math> ways. \n:If either <math>R</math> or <math>U</math> splits, then there are <math>3</math> places to put the letter that splits, which has <math>2</math> possibilities. The remaining letter must divide into <math>2</math> in one section and <math>1</math> in the next, giving <math>2</math> ways. This totals <math>6 + 3\\cdot 2\\cdot 2 = 18</math> ways.\n*'''Case ''' <math>d = 3</math>: Now <math>2</math> <math>R</math>'s, <math>2</math> <math>U</math>'s, and <math>3</math> <math>D</math>'s, so the string is divided into <math>4</math> partitions (<math>-D-D-D-</math>). \n:If the <math>R</math>'s and <math>U</math>'s stay together, then there are <math>4 \\cdot 3 = 12</math> places to put them. \n:If one of them splits and the other stays together, then there are <math>4 \\cdot {3\\choose 2}</math> places to put them, and <math>2</math> ways to pick which splits, giving <math>4 \\cdot 3 \\cdot 2 = 24</math> ways.\n:If both groups split, then there are <math>{4\\choose 2}=6</math> ways to arrange them. These add up to <math>12 + 24 + 6 = 42</math> ways.\n*'''Case ''' <math>d = 4</math>: Now <math>1</math> <math>R</math>, <math>1</math> <math>U</math>, <math>4</math> <math>D</math>'s (<math>-D-D-D-D-</math>). There are <math>5</math> places to put <math>R</math>, <math>4</math> places to put <math>U</math>, giving <math>20</math> ways.\n*'''Case ''' <math>d = 5</math>: It is easy to see only <math>1</math> case.\n\nTogether, these add up to <math>2 + 18 + 42 + 20 + 1 = \\boxed{083}</math>.\n\n=== Solution 2 ===\nAnother possibility is to use block-walking and [[recursion]]: for each vertex, the number of ways to reach it is <math>a + b + c</math>, where <math>a</math> is the number of ways to reach the vertex from the left (without having come to ''that'' vertex (the one on the left) from below), <math>b</math> is the number of ways to reach the vertex from the vertex diagonally down and left, and <math>c</math> is the number of ways to reach the vertex from below (without having come to ''that'' vertex (the one below) from the left).\n\nAssign to each point <math>(i,j)</math> the triplet <math>(a_{i,j}, b_{i,j}, c_{i,j})</math>. Let <math>s(i,j) = a_{i,j}+ b_{i,j}+ c_{i,j}</math>. Let all lattice points that contain exactly one negative coordinate be assigned to <math>(0,0,0)</math>. This leaves the lattice points of the first quadrant, the positive parts of the <math>x</math> and <math>y</math> axes, and the origin unassigned. As a seed, assign to <math>(0,1,0)</math>. (We will see how this correlates with the problem.) Then define for each lattice point <math>(i,j)</math> its triplet thus:\n<cmath>\\begin{align*}\na_{i,j} &= s(i-1,j) - c_{i-1,j}\\\\\nb_{i,j} &= s(i-1,j-1) \\\\\nc_{i,j} &= s(i,j-1) - a_{i,j-1}.\n\\end{align*}</cmath>\nIt is evident that <math>s(i,j)</math> is the number of ways to reach <math>(i,j)</math> from <math>(0,0)</math>. Therefore we compute vertex by vertex the triplets <math>(a_{i,j}, b_{i,j}, c_{i,j})</math> with <math>0 \\leq i, j \\leq 5</math>. \n<asy>\ndefaultpen(fontsize(8)+0.8+heavyblue); size(250);\n\nfor(int i = 0; i<6; ++i) { draw((0,i)--(5,i)^^(i,0)--(i,5), gray+0.25); }\nlabel(\"$(0,0,0)$\", (0,0), N);\nfor(int i = 1; i<6; ++i) { label(\"$(0,0,1)$\", (0,i), N); label(\"$(1,0,0)$\", (i,0), N); label(\"$({\"+string(i-1)+\"},1,0)$\", (i,1), N); label(\"$(0,1,{\"+string(i-1)+\"})$\", (1,i), N);}\nreal[] val={1,2,4,7};\nfor(int i = 2; i<6; ++i) { label(\"$(1,{\"+string(i-1)+\"}, {\"+string(val[i-2])+\"})$\", (2,i), N); label(\"$({\"+string(val[i-2])+\"},{\"+string(i-1)+\"}, 1)$\", (i,2), N);}\n\nlabel(\"$(3,3,3)$\", (3,3), N); label(\"$(9,9,9)$\", (4,4), N); label(\"$(28,27,28)$\", (5,5), N);\nlabel(\"$(4,5,6)$\", (3,4), N); label(\"$(6,5,4)$\", (4,3), N); \nlabel(\"$(5,8,11)$\", (3,5), N); label(\"$(11,8,5)$\", (5,3), N);\nlabel(\"$(13,15,18)$\", (4,5), N); label(\"$(18,15,13)$\", (5,4), N);\n</asy>\nFinally, after simple but tedious calculations, we find that <math>(a_{5,5}, b_{5,5}, c_{5,5}) = (28,27,28)</math>, so <math>s(i,j)=28+27+28 = \\boxed{083}</math>."
  },
  {
    "year": 2005,
    "variant": "I",
    "problem_number": 14,
    "latex": "Consider the [[point]]s <math> A(0,12), B(10,9), C(8,0),</math> and <math> D(-4,7). </math> There is a unique [[square]] <math> S </math> such that each of the four points is on a different side of <math> S. </math> Let <math> K </math> be the area of <math> S. </math> Find the remainder when <math> 10K </math> is divided by <math>1000</math>.\n\n__TOC__",
    "solution": "[[Image:2005_I_AIME-14.png|center]]\n\n=== Solution 1 ===\nConsider a point <math>E</math> such that <math>AE</math> is [[perpendicular]] to <math>BD</math>, <math>AE</math> intersects <math>BD</math>, and <math>AE = BD</math>. E will be on the same side of the square as point <math>C</math>.\n\nLet the coordinates of <math>E</math> be <math>(x_E,y_E)</math>. Since <math>AE</math> is perpendicular to <math>BD</math>, and <math>AE = BD</math>, we have <math>9 - 7 = x_E - 0</math> and <math>10 - ( - 4) = 12 - y_E</math>\nThe coordinates of <math>E</math> are thus <math>(2, - 2)</math>.\n\nNow, since <math>E</math> and <math>C</math> are on the same side, we find the slope of the sides going through <math>E</math> and <math>C</math> to be <math>\\frac { - 2 - 0}{2 - 8} = \\frac {1}{3}</math>. Because the other two sides are perpendicular, the slope of the sides going through <math>B</math> and <math>D</math> are now <math>- 3</math>.\n\nLet <math>A_1,B_1,C_1,D_1</math> be the vertices of the square so that <math>A_1B_1</math> contains point <math>A</math>, <math>B_1C_1</math> contains point <math>B</math>, and etc. Since we know the slopes and a point on the line for each side of the square, we use the point slope formula to find the linear equations. Next, we use the equations to find <math>2</math> vertices of the square, then apply the distance formula. \n\nWe find the coordinates of <math>C_1</math> to be <math>(12.5,1.5)</math> and the coordinates of <math>D_1</math> to be <math>( - 0.7, - 2.9)</math>. Applying the distance formula, the side length of our square is <math>\\sqrt {\\left( \\frac {44}{10} \\right)^2 + \\left( \\frac {132}{10} \\right)^2} = \\frac {44}{\\sqrt {10}}</math>.\n\nHence, the area of the square is <math>K = \\frac {44^2}{10}</math>. The remainder when <math>10K</math> is divided by <math>1000</math> is <math>936</math>.\n\n=== Solution 2 ===\nLet <math> (a,b)</math> denote a [[normal vector]] of the side containing <math> A</math>. Note that <math>\\overline{AC}, \\overline{BD}</math> intersect and hence must be opposite [[vertex|vertices]] of the square. The lines containing the sides of the square have the form <math> ax+by=12b</math>, <math> ax+by=8a</math>, <math> bx-ay=10b-9a</math>, and <math> bx-ay=-4b-7a</math>. The lines form a square, so the distance between <math>C</math> and the line through <math>A</math> equals the distance between <math>D</math> and the line through <math>B</math>, hence <math> 8a+0b-12b=-4b-7a-10b+9a</math>, or <math>-3a=b</math>. We can take <math>a=-1</math> and <math>b=3</math>. So the side of the square is <math>\\frac{44}{\\sqrt{10}}</math>, the area is <math>K=\\frac{1936}{10}</math>, and the answer to the problem is <math>\\boxed{936}</math>."
  },
  {
    "year": 2005,
    "variant": "I",
    "problem_number": 15,
    "latex": "Triangle <math> ABC </math> has <math> BC=20. </math> The [[incircle]] of the triangle evenly [[trisect]]s the [[median of a triangle | median]] <math> AD. </math> If the area of the triangle is <math> m \\sqrt{n} </math> where <math> m </math> and <math> n </math> are integers and <math> n </math> is not [[divisor | divisible]] by the [[perfect square | square]] of a prime, find <math> m+n. </math>",
    "solution": "==Video Solution(For those who prefer)==\nhttps://youtu.be/OEXzJxdrP20 \n~MC"
  },
  {
    "year": 2005,
    "variant": "II",
    "problem_number": 1,
    "latex": "A game uses a deck of <math> n </math> different cards, where <math> n </math> is an integer and <math> n \\geq 6. </math> The number of possible sets of 6 cards that can be drawn from the deck is 6 times the number of possible sets of 3 cards that can be drawn. Find <math> n. </math>",
    "solution": "== Video Solution ==\nhttps://youtu.be/IRyWOZQMTV8?t=150\n\n~ pi_is_3.14"
  },
  {
    "year": 2005,
    "variant": "II",
    "problem_number": 2,
    "latex": "A hotel packed breakfast for each of three guests. Each breakfast should have consisted of three types of rolls, one each of nut, cheese, and fruit rolls. The preparer wrapped each of the nine rolls and once wrapped, the rolls were indistinguishable from one another. She then randomly put three rolls in a bag for each of the guests. Given that the [[probability]] each guest got one roll of each type is <math> \\frac mn, </math> where <math> m </math> and <math> n </math> are [[relatively prime]] [[integer]]s, find <math> m+n. </math>\n\n__TOC__",
    "solution": "=== Solution 1 ===\nUse [[construction]]. We need only calculate the probability the first and second person all get a roll of each type, since then the rolls for the third person are determined. \n\n*Person 1: <math>\\frac{9 \\cdot 6 \\cdot 3}{9 \\cdot 8 \\cdot 7} = \\frac{9}{28}</math>\n\n*Person 2: <math>\\frac{6 \\cdot 4 \\cdot 2}{6 \\cdot 5 \\cdot 4} = \\frac 25</math>\n*Person 3: One roll of each type is left, so the probability here is <math>1</math>. \n\nOur answer is thus <math>\\frac{9}{28} \\cdot \\frac{2}{5} = \\frac{9}{70}</math>, and <math>m + n = \\boxed{79}</math>.\n\n=== Solution 2 ===\nCall the three different types of rolls as A, B, and C. We need to arrange 3As, 3Bs, and 3Cs in a string such that A, B, and C appear in the first three, second three, and the third three like ABCABCABC or BCABACCAB. This can occur in <math>\\left(\\frac{3!}{1!1!1!}\\right)^3 = 6^3 = 216</math> different manners. The total number of possible strings is <math>\\frac{9!}{3!3!3!} = 1680</math>. The solution is therefore <math>\\frac{216}{1680} = \\frac{9}{70}</math>, and <math>m + n = \\boxed{79}</math>.\n\n===Solution 3===\nThe denominator of m/n is equal to the total amount of possible roll configurations given to the three people. This is equal to <math>{9 \\choose 3}{6 \\choose3}</math> as the amount of ways to select three rolls out of 9 to give to the first person is <math>{9 \\choose 3}</math>, and three rolls out of 6 is <math>{6 \\choose3}</math>. After that, the three remaining rolls have no more configurations. \n\nThe numerator is the amount of ways to give one roll of each type to each of the three people, which can be done by defining the three types of rolls as x flavored, y flavored, and z flavored. \n\nxxx, yyy, zzz\n\nSo you have to choose one x, one y, and one z to give to the first person. There are 3 xs, 3 ys, and 3 zs to select from, giving <math>3^3</math> combinations. Multiply that by the combinations of xs, ys, and zs for the second person, which is evidently <math>2^3</math> since there are two of each letter left. \n\n<math>(27*8)/{9 \\choose 3}{6 \\choose3}</math> simplifies down to our fraction m/n, which is <math>9/70</math>. Adding them up gives <math>9 + 70 = \\boxed{79}</math>."
  },
  {
    "year": 2005,
    "variant": "II",
    "problem_number": 3,
    "latex": "An [[infinite]] [[geometric series]] has sum 2005. A new series, obtained by squaring each term of the original series, has 10 times the sum of the original series. The common [[ratio]] of the original series is <math> \\frac mn </math> where <math> m </math> and <math> n </math> are [[relatively prime]] [[integer]]s. Find <math> m+n. </math>",
    "solution": "Let's call the first term of the original [[geometric series]] <math>a</math> and the common ratio <math>r</math>, so <math>2005 = a + ar + ar^2 + \\ldots</math>.  Using the sum formula for [[infinite]] geometric series, we have <math>\\;\\;\\frac a{1 -r} = 2005</math>.  Then we form a new series, <math>a^2 + a^2 r^2 + a^2 r^4 + \\ldots</math>.  We know this series has sum  <math>20050 = \\frac{a^2}{1 - r^2}</math>.  Dividing this equation by <math>\\frac{a}{1-r}</math>, we get <math>10 = \\frac a{1 + r}</math>.  Then <math>a = 2005 - 2005r</math> and <math>a = 10 + 10r</math> so <math>2005 - 2005r = 10 + 10r</math>, <math>1995 = 2015r</math> and finally <math>r = \\frac{1995}{2015} = \\frac{399}{403}</math>, so the answer is <math>399 + 403 = \\boxed{802}</math>.  \n\n(We know this last fraction is fully reduced by the [[Euclidean algorithm]] -- because <math>4 = 403 - 399</math>, <math>\\gcd(403, 399) | 4</math>.  But 403 is [[odd integer | odd]], so <math>\\gcd(403, 399) = 1</math>.)"
  },
  {
    "year": 2005,
    "variant": "II",
    "problem_number": 4,
    "latex": "Find the number of [[positive integer]]s that are divisors of at least one of <math> 10^{10},15^7,18^{11}. </math>",
    "solution": "<math>10^{10} = 2^{10}\\cdot 5^{10}</math> so <math>10^{10}</math> has <math>11\\cdot11 = 121</math> [[divisor]]s.\n\n<math>15^7 = 3^7\\cdot5^7</math> so <math>15^7</math> has <math>8\\cdot8 = 64</math> divisors.\n\n<math>18^{11} = 2^{11}\\cdot3^{22}</math> so <math>18^{11}</math> has <math>12\\cdot23 = 276</math> divisors.\n\nNow, we use the [[Principle of Inclusion-Exclusion]].  We have <math>121 + 64 + 276</math> total potential divisors so far, but we've overcounted those factors which divide two or more of our three numbers.  Thus, we must subtract off the divisors of their pair-wise [[greatest common divisor]]s.\n\n<math>\\gcd(10^{10},15^7) = 5^7 </math> which has 8 divisors.\n\n<math>\\gcd(15^7, 18^{11}) = 3^7 </math> which has 8 divisors.\n\n<math>\\gcd(18^{11}, 10^{10}) = 2^{10} </math> which has 11 divisors.\n\nSo now we have <math>121 + 64 + 276 - 8 -8 -11</math> potential divisors.  However, we've now undercounted those factors which divide all three of our numbers.  Luckily, we see that the only such factor is 1, so we must add 1 to our previous sum to get an answer of <math>121 + 64 + 276 - 8 - 8 - 11 + 1 = \\boxed{435}</math>."
  },
  {
    "year": 2005,
    "variant": "II",
    "problem_number": 5,
    "latex": "Determine the number of [[ordered pair]]s <math> (a,b) </math> of [[integer]]s such that <math> \\log_a b + 6\\log_b a=5, 2 \\leq a \\leq 2005, </math> and <math> 2 \\leq b \\leq 2005. </math>",
    "solution": "The equation can be rewritten as <math> \\frac{\\log b}{\\log a} + 6 \\frac{\\log a}{\\log b} = \\frac{(\\log b)^2+6(\\log a)^2}{\\log a  \\log b}=5 </math> Multiplying through by <math>\\log a \\log b </math> and factoring yields <math>(\\log b - 3\\log a)(\\log b - 2\\log a)=0 </math>. Therefore, <math>\\log b=3\\log a </math> or <math>\\log b=2\\log a </math>, so either <math> b=a^3 </math> or <math> b=a^2 </math>. \n*For the case <math> b=a^2 </math>, note that <math> 44^2=1936 </math> and <math> 45^2=2025 </math>. Thus, all values of <math>a</math> from <math>2</math> to <math>44</math> will work. \n*For the case <math> b=a^3 </math>, note that <math> 12^3=1728 </math> while <math> 13^3=2197 </math>. Therefore, for this case, all values of <math>a</math> from <math>2</math> to <math>12</math> work. \nThere are <math> 44-2+1=43 </math> possibilities for the square case and <math> 12-2+1=11 </math> possibilities for the cube case. Thus, the answer is <math> 43+11= \\boxed{054}</math>.\n\nNote that Inclusion-Exclusion does not need to be used, as the problem is asking for ordered pairs <math>(a,b)</math>, and not for the number of possible values of <math>b</math>. Were the problem to ask for the number of possible values of <math>b</math>, the values of <math>b^6</math> under <math>2005</math> would have to be subtracted, which would just be <math>2</math> values:  <math>2^6</math> and <math>3^6</math>. However, the ordered pairs where b is to the sixth power are distinct, so they are not redundant. (For example, the pairs (4, 64) and (8, 64).)"
  },
  {
    "year": 2005,
    "variant": "II",
    "problem_number": 6,
    "latex": "The cards in a stack of <math> 2n </math> cards are numbered [[consecutive]]ly from 1 through <math> 2n </math> from top to bottom. The top <math> n </math> cards are removed, kept in order, and form pile <math> A. </math> The remaining cards form pile <math> B. </math> The cards are then restacked by taking cards alternately from the tops of pile <math> B </math> and <math> A, </math> respectively. In this process, card number <math> (n+1) </math> becomes the bottom card of the new stack, card number 1 is on top of this card, and so on, until piles <math> A </math> and <math> B </math> are exhausted. If, after the restacking process, at least one card from each pile occupies the same position that it occupied in the original stack, the stack is named magical. For example, eight cards form a magical stack because cards number 3 and number 6 retain their original positions. Find the number of cards in the magical stack in which card number 131 retains its original position.",
    "solution": "Since a card from B is placed on the bottom of the new stack, notice that cards from pile B will be marked as an even number in the new pile, while cards from pile A will be marked as odd in the new pile. Since 131 is odd and retains its original position in the stack, it must be in pile A. Also to retain its original position, exactly <math>131 - 1 = 130</math> numbers must be in front of it. There are <math>\\frac{130}{2} = 65</math> cards from each of piles A, B in front of card 131. This suggests that <math>n = 131 + 65 = 196</math>; the total number of cards is <math>196 \\cdot 2 = \\boxed{392}</math>."
  },
  {
    "year": 2005,
    "variant": "II",
    "problem_number": 7,
    "latex": "Let <math> x=\\frac{4}{(\\sqrt{5}+1)(\\sqrt[4]{5}+1)(\\sqrt[8]{5}+1)(\\sqrt[16]{5}+1)}. </math> Find <math>(x+1)^{48}</math>.",
    "solution": "We note that in general,\n\n<center>\n<math>{} (\\sqrt[2^n]{5} + 1)(\\sqrt[2^n]{5} - 1) = (\\sqrt[2^n]{5})^2 - 1^2 = \\sqrt[2^{n-1}]{5} - 1 </math>.\n</center>\n\nIt now becomes apparent that if we multiply the [[numerator]] and [[denominator]] of <math>\\frac{4}{ (\\sqrt{5}+1) (\\sqrt[4]{5}+1) (\\sqrt[8]{5}+1) (\\sqrt[16]{5}+1) } </math> by <math>(\\sqrt[16]{5} - 1) </math>, the denominator will [[telescope]] to <math>\\sqrt[1]{5} - 1 = 4 </math>, so \n\n<center>\n<math>x = \\frac{4(\\sqrt[16]{5} - 1)}{4} = \\sqrt[16]{5} - 1</math>.\n</center>\n\nIt follows that <math>(x + 1)^{48} = (\\sqrt[16]5)^{48} = 5^3 = \\boxed{125}</math>."
  },
  {
    "year": 2005,
    "variant": "II",
    "problem_number": 8,
    "latex": "[[Circle]]s <math> C_1 </math> and <math> C_2 </math> are externally [[tangent]], and they are both internally tangent to circle <math> C_3. </math> The radii of <math> C_1 </math>  and <math> C_2 </math> are 4 and 10, respectively, and the [[center]]s of the three circles are all [[collinear]]. A [[chord]] of <math> C_3 </math> is also a common external tangent of <math> C_1 </math> and <math> C_2. </math> Given that the length of the chord is <math> \\frac{m\\sqrt{n}}p </math> where <math> m,n, </math> and <math> p </math> are positive integers, <math> m </math> and <math> p </math> are [[relatively prime]], and <math> n </math> is not divisible by the square of any [[prime]], find <math> m+n+p. </math>",
    "solution": "<center>\n<asy>\npointpen = black; \npathpen = black + linewidth(0.7); \nsize(200);\n\npair C1 = (-10,0), C2 = (4,0), C3 = (0,0), H = (-10-28/3,0), T = 58/7*expi(pi-acos(3/7)); \npath cir1 = CR(C1,4.01), cir2 = CR(C2,10), cir3 = CR(C3,14), t = H--T+2*(T-H);\npair A = OP(cir3, t), B = IP(cir3, t), T1 = IP(cir1, t), T2 = IP(cir2, t);\n\ndraw(cir1); draw(cir2); draw(cir3); \ndraw((14,0)--(-14,0));\ndraw(A--B); \nMP(\"H\",H,W);\ndraw((-14,0)--H--A, linewidth(0.7) + linetype(\"4 4\"));\n\ndraw(MP(\"O_1\",C1)); \ndraw(MP(\"O_2\",C2)); \ndraw(MP(\"O_3\",C3)); \n\ndraw(MP(\"T\",T,N)); \ndraw(MP(\"A\",A,NW)); \ndraw(MP(\"B\",B,NE)); \ndraw(C1--MP(\"T_1\",T1,N)); \n\ndraw(C2--MP(\"T_2\",T2,N)); \ndraw(C3--T); \ndraw(rightanglemark(C3,T,H));\n</asy></center>\n\nLet <math>O_1, O_2, O_3</math> be the centers and <math>r_1 = 4, r_2 = 10,r_3 = 14</math> the radii of the circles <math>C_1, C_2, C_3</math>. Let <math>T_1, T_2</math> be the points of tangency from the common external tangent of <math>C_1, C_2</math>, respectively, and let the extension of <math>\\overline{T_1T_2}</math> intersect the extension of <math>\\overline{O_1O_2}</math> at a point <math>H</math>. Let the endpoints of the chord/tangent be <math>A,B</math>, and the foot of the perpendicular from <math>O_3</math> to <math>\\overline{AB}</math> be <math>T</math>. From the similar [[right triangle]]s <math>\\triangle HO_1T_1 \\sim \\triangle HO_2T_2 \\sim \\triangle HO_3T </math>,\n\n<cmath> \\frac{HO_1}{4} = \\frac{HO_1+14}{10} = \\frac{HO_1+10}{O_3T}. </cmath>\n\nIt follows that <math>HO_1 = \\frac{28}{3}</math>, and that <math>O_3T = \\frac{58}{7}\\dagger</math>. By the [[Pythagorean Theorem]] on <math>\\triangle ATO_3</math>, we find that \n\n<cmath>AB = 2AT = 2\\left(\\sqrt{r_3^2 - O_3T^2}\\right) = 2\\sqrt{14^2 - \\frac{58^2}{7^2}} = \\frac{8\\sqrt{390}}{7}</cmath>\n\nand the answer is <math>m+n+p=\\boxed{405}</math>.\n\n<math>\\dagger</math> Alternatively, drop an altitude from <math>O_1</math> to <math>O_3T</math> at <math>O_3'</math>, and to <math>O_2T_2</math> at <math>O_2'</math>. Then, <math>O_2O_2'=10-4=6</math>, and <math>O_1O_2=14</math>. But <math>O_1O_3O_3'</math> is similar to <math>O_1O_2O_2'</math> so <math>O_3O_3'=\\frac{6}{14} \\cdot 10=\\frac{30}{7}</math>. From rectangles, <math>O_3'T=O_1T_1=4</math> so <math>O_3T=4+\\frac{30}{7}=\\frac{58}{7}</math>."
  },
  {
    "year": 2005,
    "variant": "II",
    "problem_number": 9,
    "latex": "For how many positive integers <math> n </math> less than or equal to <math>1000</math> is <math> (\\sin t + i \\cos t)^n = \\sin nt + i \\cos nt </math> true for all real <math> t </math>?",
    "solution": "=== Solution 1 ===\nWe know by [[De Moivre's Theorem]] that <math>(\\cos t + i \\sin t)^n = \\cos nt + i \\sin nt</math> for all [[real number]]s <math>t</math> and all [[integer]]s <math>n</math>.  So, we'd like to somehow convert our given expression into a form from which we can apply De Moivre's Theorem.  \n\nRecall the [[trigonometric identities]] <math>\\cos \\left(\\frac{\\pi}2 - u\\right) = \\sin u</math> and <math>\\sin \\left(\\frac{\\pi}2 - u\\right) = \\cos u</math> hold for all real <math>u</math>.  If our original equation holds for all <math>t</math>, it must certainly hold for <math>t = \\frac{\\pi}2 - u</math>.  Thus, the question is equivalent to asking for how many [[positive integer]]s <math>n \\leq 1000</math> we have that <math>\\left(\\sin\\left(\\frac\\pi2 - u\\right) + i \\cos\\left(\\frac\\pi 2 - u\\right)\\right)^n = \\sin n \\left(\\frac\\pi2 -u \\right) + i\\cos n \\left(\\frac\\pi2 - u\\right)</math> holds for all real <math>u</math>.\n\n<math>\\left(\\sin\\left(\\frac\\pi2 - u\\right) + i \\cos\\left(\\frac\\pi 2 - u\\right)\\right)^n = \\left(\\cos u + i \\sin u\\right)^n = \\cos nu + i\\sin nu</math>.  We know that two [[complex number]]s are equal if and only if both their [[real part]] and [[imaginary part]] are equal.  Thus, we need to find all <math>n</math> such that <math>\\cos n u = \\sin n\\left(\\frac\\pi2 - u\\right)</math> and <math>\\sin nu = \\cos n\\left(\\frac\\pi2 - u\\right)</math> hold for all real <math>u</math>.\n\n<math>\\sin x = \\cos y</math> if and only if either <math>x + y = \\frac \\pi 2 + 2\\pi \\cdot k</math> or <math>x - y = \\frac\\pi2 + 2\\pi\\cdot k</math> for some integer <math>k</math>.  So from the equality of the real parts we need either <math>nu + n\\left(\\frac\\pi2 - u\\right) = \\frac\\pi 2 + 2\\pi \\cdot k</math>, in which case <math>n = 1 + 4k</math>, or we need <math>-nu + n\\left(\\frac\\pi2 - u\\right) = \\frac\\pi 2 + 2\\pi \\cdot k</math>, in which case <math>n</math> will depend on <math>u</math> and so the equation will not hold for all real values of <math>u</math>.  Checking <math>n = 1 + 4k</math> in the equation for the imaginary parts, we see that it works there as well, so exactly those values of <math>n</math> congruent to <math>1 \\pmod 4</math> work.  There are <math>\\boxed{250}</math> of them in the given range.\n\n=== Solution 2 ===\nThis problem begs us to use the familiar identity <math>e^{it} = \\cos(t) + i \\sin(t)</math>. Notice, <math>\\sin(t) + i \\cos(t) = i(\\cos(t) - i \\sin(t)) = i e^{-it}</math> since <math>\\sin(-t) = -\\sin(t)</math>. Using this, <math>(\\sin(t) + i \\cos(t))^n = \\sin(nt) + i \\cos(nt)</math> is recast as <math>(i e^{-it})^n = i e^{-itn}</math>. Hence we must have <math>i^n = i \\Rightarrow i^{n-1} = 1 \\Rightarrow n \\equiv 1 \\bmod{4}</math>. Thus since <math>1000</math> is a multiple of <math>4</math> exactly one quarter of the residues are congruent to <math>1</math> hence we have <math>\\boxed{250}</math>.\n\n=== Solution 3 ===\nWe can rewrite <math>\\sin(t)</math> as <math>\\cos\\left(\\frac{\\pi}{2}-t\\right)</math> and <math>\\cos(t)</math> as <math>\\sin\\left(\\frac{\\pi}{2}-t\\right)</math>. This means that <math>\\sin t + i\\cos t = e^{i\\left(\\frac{\\pi}{2}-t\\right)}=\\frac{e^{\\frac{\\pi i}{2}}}{e^{it}}</math>. This theorem also tells us that <math>e^{\\frac{\\pi i}{2}}=i</math>, so <math>\\sin t + i\\cos t = \\frac{i}{e^{it}}</math>. By the same line of reasoning, we have <math>\\sin nt + i\\cos nt = \\frac{i}{e^{int}}</math>.\n\nFor the statement in the question to be true, we must have <math>\\left(\\frac{i}{e^{it}}\\right)^n=\\frac{i}{e^{int}}</math>. The left hand side simplifies to <math>\\frac{i^n}{e^{int}}</math>. We cancel the denominators and find that the only thing that needs to be true is that <math>i^n=i</math>. This is true if <math>n\\equiv1\\pmod{4}</math>, and there are <math>\\boxed{250}</math> such numbers between <math>1</math> and <math>1000</math>. Solution by Zeroman\n\n=== Solution 4 ===\nWe are using degrees in this solution instead of radians. I just process stuff better that way.\n\nWe can see that the LHS is <math>cis(n(90^{\\circ}-t))</math>, and the RHS is <math>cis(90^{\\circ}-nt)</math> So, <math>n(90-t) \\equiv 90-nt \\mod 360</math> Expanding and canceling the nt terms, we will get <math>90n \\equiv 90 \\mod 360</math>. Canceling gets <math>n \\equiv 1 \\mod 4</math>, and thus there are <math>\\boxed{250}</math> values of n.\n\n-AlexLikeMath\n\n=== Solution 5(CHEAP) ===\nLet <math>t=0</math>. Then, we have <math>i^n=i</math> which means <math>n\\equiv 1\\pmod{4}</math>. Thus, the answer is <math>\\boxed{250}</math>.\n\n=== Solution 6 ===\n\nWe factor out <math>i^n</math> from <math>(\\sin t + i \\cos t)^n = i^n (\\cos(t) - i \\sin t)= i^n(\\cos(nt) - i\\sin nt).</math> We know the final expression must be the same as <math>\\sin nt + i \\cos nt</math> so we must have <math>i^n(\\cos(nt) - i\\sin nt) = \\sin nt + i \\cos nt</math> in which testing yields <math>n \\equiv 1 \\pmod{4}</math> is the only mod that works, so we have a total of <math>1000 \\cdot\\frac{1}{4} = \\boxed{250}</math> integers <math>n</math> that work."
  },
  {
    "year": 2005,
    "variant": "II",
    "problem_number": 10,
    "latex": "Given that <math> O </math> is a regular [[octahedron]], that <math> C </math> is the [[cube (geometry) | cube]] whose vertices are the centers of the faces of <math> O, </math> and that the ratio of the volume of <math> O </math> to that of <math> C </math> is <math> \\frac mn, </math> where <math> m </math> and <math> n </math> are relatively prime integers, find <math> m+n. </math>\n\n__TOC__",
    "solution": "<center><asy>\nimport three; currentprojection = perspective(4,-15,4); defaultpen(linewidth(0.7));\ndraw(box((-1,-1,-1),(1,1,1)));\ndraw((-3,0,0)--(0,0,3)--(0,-3,0)--(-3,0,0)--(0,0,-3)--(0,-3,0)--(3,0,0)--(0,0,-3)--(0,3,0)--(0,0,3)--(3,0,0)--(0,3,0)--(-3,0,0));\n</asy></center>\n\n=== Solution 1 ===\n\nLet the side of the octahedron be of length <math>s</math>.  Let the [[vertex |vertices]] of the octahedron be <math>A, B, C, D, E, F</math> so that <math>A</math> and <math>F</math> are opposite each other and <math>AF = s\\sqrt2</math>.  The height of the square pyramid <math>ABCDE</math> is <math>\\frac{AF}2 = \\frac s{\\sqrt2}</math> and so it has volume <math>\\frac 13 s^2 \\cdot \\frac s{\\sqrt2} = \\frac {s^3}{3\\sqrt2}</math> and the whole octahedron has volume <math>\\frac {s^3\\sqrt2}3</math>.  \n\nLet <math>M</math> be the midpoint of <math>BC</math>, <math>N</math> be the midpoint of <math>DE</math>, <math>G</math> be the [[centroid]] of <math>\\triangle ABC</math> and <math>H</math> be the centroid of <math>\\triangle ADE</math>.  Then <math>\\triangle AMN \\sim \\triangle AGH</math> and the symmetry ratio is <math>\\frac 23</math> (because the [[triangle median |medians]] of a triangle are trisected by the centroid), so <math>GH = \\frac{2}{3}MN = \\frac{2s}3</math>.  <math>GH</math> is also a diagonal of the cube, so the cube has side-length <math>\\frac{s\\sqrt2}3</math> and volume <math>\\frac{2s^3\\sqrt2}{27}</math>.  The ratio of the volumes is then <math>\\frac{\\left(\\frac{s^3\\sqrt2}{3}\\right)}{\\left(\\frac{2s^3\\sqrt2}{27}\\right)} = \\frac92</math> and so the answer is <math>\\boxed{011}</math>.\n\n=== Solution 2 ===\n\nLet the octahedron have vertices <math>(\\pm 3, 0, 0), (0, \\pm 3, 0), (0, 0, \\pm 3)</math>.  Then the vertices of the cube lie at the centroids of the faces, which have coordinates <math>(\\pm 1, \\pm 1, \\pm 1)</math>.  The cube has volume 8.  The region of the octahedron lying in each octant is a [[tetrahedron]] with three edges mutually perpendicular and of length 3.  Thus the octahedron has volume <math>8 \\cdot \\left(\\frac 16 \\cdot3^3\\right) = 36</math>, so the ratio is <math>\\frac {36}{8} = \\frac 92</math> and so the answer is <math>\\boxed{011}</math>."
  },
  {
    "year": 2005,
    "variant": "II",
    "problem_number": 11,
    "latex": "Let <math>m </math> be a positive integer, and let <math> a_0, a_1,\\ldots,a_m </math> be a sequence of reals such that <math>a_0 = 37, a_1 = 72, a_m = 0, </math> and <math> a_{k+1} = a_{k-1} - \\frac 3{a_k} </math> for <math> k = 1,2,\\ldots, m-1. </math> Find <math>m. </math>",
    "solution": "For <math>0 < k < m</math>, we have\n\n<center>\n<math>a_{k}a_{k+1} = a_{k-1}a_{k} - 3 </math>.\n</center>\n\nThus the product <math>a_{k}a_{k+1}</math> is a [[monovariant]]: it decreases by 3 each time <math>k</math> increases by 1.  For <math>k = 0</math> we have <math>a_{k}a_{k+1} = 37\\cdot 72</math>, so when <math>k = \\frac{37 \\cdot 72}{3} = 888</math>, <math>a_{k}a_{k+1}</math> will be zero for the first time, which implies that <math>m = \\boxed{889}</math>, our answer.\n\n\nNote: In order for <math>a_{m} = 0</math> we need <math>a_{m-2}a_{m-1}=3</math> simply by the recursion definition."
  },
  {
    "year": 2005,
    "variant": "II",
    "problem_number": 12,
    "latex": "[[Square]] <math>ABCD </math> has [[center]] <math> O,\\ AB=900,\\ E </math> and <math> F </math> are on <math> AB </math> with <math> AE<BF </math> and <math> E </math> between <math> A </math> and <math> F, m\\angle EOF =45^\\circ, </math> and <math> EF=400. </math> Given that <math> BF=p+q\\sqrt{r}, </math> where <math> p,q, </math> and <math> r </math> are [[positive]] [[integer]]s and <math> r </math> is not divisible by the [[square]] of any [[prime]], find <math> p+q+r. </math>\n__TOC__",
    "solution": "=== Solution 1 (trigonometry) ===\n<center><asy>\nsize(200);\ndefaultpen(linewidth(0.7)+fontsize(10)); pair A=(0,9), B=(9,9), C=(9,0), D=(0,0), E=(2.5-0.5*sqrt(7),9), F=(6.5-0.5*sqrt(7),9), G=(4.5,9), O=(4.5,4.5); draw(A--B--C--D--A);draw(E--O--F);draw(G--O); dot(A^^B^^C^^D^^E^^F^^G^^O); label(\"\\(A\\)\",A,(-1,1));label(\"\\(B\\)\",B,(1,1));label(\"\\(C\\)\",C,(1,-1));label(\"\\(D\\)\",D,(-1,-1)); label(\"\\(E\\)\",E,(0,1));label(\"\\(F\\)\",F,(1,1));label(\"\\(G\\)\",G,(-1,1));label(\"\\(O\\)\",O,(1,-1)); label(\"\\(x\\)\",E/2+G/2,(0,1));label(\"\\(y\\)\",G/2+F/2,(0,1)); label(\"\\(450\\)\",(O+G)/2,(-1,1)); \n</asy></center> <!-- Asymptote replacement for Image:AIME_2005II_Solution_12_1.png by Minsoens -->\n\nLet <math>G</math> be the foot of the [[perpendicular]] from <math>O</math> to <math>AB</math>. Denote <math>x = EG</math> and <math>y = FG</math>, and <math>x > y</math> (since <math>AE < BF</math> and <math>AG = BG</math>). Then <math>\\tan \\angle EOG = \\frac{x}{450}</math>, and <math>\\tan \\angle FOG = \\frac{y}{450}</math>.\n\nBy the [[trigonometric identity|tangent addition rule]] <math>\\left( \\tan (a + b) = \\frac{\\tan a + \\tan b}{1 - \\tan a \\tan b} \\right)</math>, we see that <cmath>\\tan 45 = \\tan (EOG + FOG) = \\frac{\\frac{x}{450} + \\frac{y}{450}}{1 - \\frac{x}{450} \\cdot \\frac{y}{450}}.</cmath> Since <math>\\tan 45 = 1</math>, this simplifies to <math>1 - \\frac{xy}{450^2} = \\frac{x + y}{450}</math>. We know that <math>x + y = 400</math>, so we can substitute this to find that <math>1 - \\frac{xy}{450^2} = \\frac 89 \\Longrightarrow xy = 150^2</math>.\n\nSubstituting <math>x = 400 - y</math> again, we know have <math>xy = (400 - y)y = 150^2</math>. This is a quadratic with roots <math>200 \\pm 50\\sqrt{7}</math>. Since <math>y < x</math>, use the smaller root, <math>200 - 50\\sqrt{7}</math>.\n\nNow, <math>BF = BG - FG = 450 - (200 - 50\\sqrt{7}) = 250 + 50\\sqrt{7}</math>. The answer is <math>250 + 50 + 7 = \\boxed{307}</math>.\n\n=== Solution 2 (synthetic) ===\n<center><asy>\nsize(200);\ndefaultpen(linewidth(0.7)+fontsize(10)); pair A=(0,9), B=(9,9), C=(9,0), D=(0,0), E=(2.5-0.5*sqrt(7),9), F=(6.5-0.5*sqrt(7),9), O=(4.5,4.5), G=O+(E-O)*dir(-90), J=O+(F-O)*dir(-90); draw(A--B--C--D--A);draw(E--O--F);draw(G--O--J);draw(F--G,linetype(\"4 4\")); dot(A^^B^^C^^D^^E^^F^^G^^J^^O); label(\"\\(A\\)\",A,(-1,1));label(\"\\(B\\)\",B,(1,1));label(\"\\(C\\)\",C,(1,-1));label(\"\\(D\\)\",D,(-1,-1)); label(\"\\(E\\)\",E,(0,1));label(\"\\(F\\)\",F,(1,1));label(\"\\(G\\)\",G,(1,0));label(\"\\(J\\)\",J,(1,0));label(\"\\(O\\)\",O,(1,-1)); label(\"\\(x\\)\",(B+F)/2,(0,1)); label(\"\\(400\\)\",(E+F)/2,(0,1)); label(\"\\(900\\)\",(C+D)/2,(0,-1));\n</asy></center>\n\nLabel <math>BF=x</math>, so <math>EA =</math> <math>500 - x</math>. Rotate <math>\\triangle{OEF}</math> about <math>O</math> until <math>EF</math> lies on <math>BC</math>. Now we know that <math>\\angle{EOF}=45^\\circ</math> therefore <math>\\angle BOF+\\angle AOE=45^\\circ</math> also since <math>O</math> is the center of the square.  Label the new triangle that we created <math>\\triangle OGJ</math>.  Now we know that rotation preserves angles and side lengths, so <math>BG=500-x</math> and <math>JC=x</math>.  Draw <math>GF</math> and <math>OB</math>. Notice that <math>\\angle BOG =\\angle OAE</math> since rotations preserve the same angles so \n<math>\\angle{FOG}=45^\\circ</math> too. By SAS we know that <math>\\triangle FOE\\cong \\triangle FOG,</math> so <math>FG=400</math>. Now we have a right <math>\\triangle BFG</math> with legs <math>x</math> and <math>500-x</math> and hypotenuse <math>400</math>. By the [[Pythagorean Theorem]], \n\n<cmath>\\begin{align*}\n(500-x)^2+x^2&=400^2 \\\\\n250000-1000x+2x^2&=16000 \\\\\n90000-1000x+2x^2&=0 \\end{align*}</cmath>\n\nand applying the [[quadratic formula]] we get that \n<math>x=250\\pm 50\\sqrt{7}</math>.  Since <math>BF > AE,</math> we take the positive root, and our answer is <math>p+q+r = 250 + 50 + 7 = 307</math>.\n\n=== Solution 3 (similar triangles)===\n<asy>\nsize(3inch);\npair A, B, C, D, M, O, X, Y;\nA = (0,900); B = (900,900); C = (900,0); D = (0,0);\nM = (450,900); O = (450,450); X = (250 - 50*sqrt(7),900); Y = (650 - 50*sqrt(7),900);\ndraw(A--B--C--D--cycle);\ndraw(X--O--Y);\ndraw(M--O--A);\nlabel(\"$A$\",A,NW); label(\"$B$\",B,NE); label(\"$C$\",C,SE); label(\"$D$\",D,SW); label(\"$E$\",X,N); label(\"$F$\",Y,NNE); label(\"$O$\",O,S); label(\"$M$\",M,N);\n</asy>\nLet the midpoint of <math>\\overline{AB}</math> be <math>M</math> and let <math>FB = x</math>, so then <math>MF = 450 - x</math> and <math>AF = 900 - x</math>. Drawing <math>\\overline{AO}</math>, we have <math>\\triangle OEF\\sim\\triangle AOF</math>, so\n<cmath>\\frac{OF}{EF} = \\frac{AF}{OF}\\Rightarrow (OF)^2 = 400(900 - x).</cmath>\nBy the Pythagorean Theorem on <math>\\triangle OMF</math>,\n<cmath>(OF)^2 = 450^2 + (450 - x)^2.</cmath>\nSetting these two expressions for <math>(OF)^2</math> equal and solving for <math>x</math> (it is helpful to scale the problem down by a factor of 50 first), we get <math>x = 250\\pm 50\\sqrt{7}</math>. Since <math>BF > AE</math>, we want the value <math>x = 250 + 50\\sqrt{7}</math>, and the answer is <math>250 + 50 + 7 = \\boxed{307}</math>.\n\n=== Solution 4 (Abusing Stewart) ===\nLet <math>x = BF</math>, so <math>AE = 500-x</math>. Let <math>a = OE</math>, <math>b = OF</math>. Applying Stewart's Theorem on triangles <math>AOB</math> twice, first using <math>E</math> as the base point and then <math>F</math>, we arrive at the equations <cmath>(450 \\sqrt{2})^2 (900) = 900(500-x)(400+x) + a^2 (900)</cmath> and <cmath>(450 \\sqrt{2})^2 (900) = 900x(900-x) + b^2 (900)</cmath> Now applying law of sines and law of cosines on <math>\\triangle EOF</math> yields <cmath>\\frac{1}{2} ab \\sin 45^{\\circ}  = \\frac{4}{9} \\times \\frac{1}{4}  \\times 900^2 = 202500</cmath> and <cmath>a^2+b^2- 2 ab \\cos 45^{\\circ} = 160000</cmath> Solving for <math>ab</math> from the sines equation and plugging into the law of cosines equation yields <math>a^2+b^2 = 290000</math>. We now finish by adding the two original stewart equations and obtaining: <cmath>2(450\\sqrt{2})^2 = (500-x)(400+x)+x(900-x)+520000</cmath> This is a quadratic which only takes some patience to solve for <math>x = 250 + 50\\sqrt{7}</math>\n\n=== Solution 5 (Complex Numbers) ===\nLet lower case letters be the complex numbers correspond to their respective upper case points in the complex plane, with <math>o = 0, a = -450 + 450i, b = 450 + 450i</math>, and <math>f = x + 450i</math>. Since <math>EF</math> = 400, <math>e = (x-400) + 450i</math>. From <math>\\angle{EOF} = 45^{\\circ}</math>, we can deduce that the rotation of point <math>F</math> 45 degrees counterclockwise, <math>E</math>, and the origin are collinear. In other words, <cmath>\\dfrac{e^{i \\frac{\\pi}{4}} \\cdot (x + 450i)}{(x - 400) + 450i}</cmath> is a real number. Simplyfying using the fact that <math>e^{i \\frac{\\pi}{4}} = \\dfrac{\\sqrt{2}}{2} + i \\dfrac{\\sqrt{2}}{2}</math>, clearing the denominator, and setting the imaginary part equal to <math>0</math>, we eventually get the quadratic <cmath>x^2 - 400x + 22500 = 0</cmath> which has solutions <math>x = 200 \\pm 50\\sqrt{7}</math>. It is given that <math>AE < BF</math>, so <math>x = 200 - 50\\sqrt{7}</math> and <cmath>BF = 450 - (200 - 50\\sqrt{7}) = 250 + 50\\sqrt{7} \\Rightarrow \\boxed{307}.</cmath>\n\n-MP8148\n\n=== Solution 6 ===\n<asy>\nsize(250);\npair A,B,C,D,O,E,F,G,H,K;\nA = (0,0);\nB = (900,0);\nC = (900,900);\nD = (0,900);\nO = (450,450);\nE = (600,0);\nF = (150,0);\nG = (-600,0);\nH = (450,0);\nK = (0,270);\ndraw(A--B--C--D--cycle);\ndraw(O--E);\ndraw(O--F);\ndraw(O--G);\ndraw(A--G);\ndraw(O--H);\nlabel(\"O\",O,N);\nlabel(\"A\",A,S);\nlabel(\"B\",B,SE);\nlabel(\"C\",C,NE);\nlabel(\"D\",D,NW);\nlabel(\"E\",E,SE);\nlabel(\"F\",F,S);\nlabel(\"H\",H,SW);\nlabel(\"G\",G,SW);\nlabel(\"x\",H--E,S);\nlabel(\"K\",K,NW);\n</asy>\nLet G be a point such that it lies on AB, and GOE is 90 degrees. Let H be foot of the altitude from O to AB.\nSince <math>\\triangle GOE \\sim \\triangle OHE</math>, <math>\\frac{GO}{OE} = \\frac{450}{x}</math>, and by [[Angle Bisector Theorem]], <math>\\frac{GF}{FE} = \\frac{450}{x}</math>. Thus, <math>GF = \\frac{450 \\cdot 400}{x}</math>. <math>AF = AH-FH = 50+x</math>, and <math>KA = EB</math> (90 degree rotation), and now we can bash on 2 similar triangles <math>\\triangle GAK \\sim \\triangle GHO</math>.\n\n<cmath>\\frac{GA}{AK} = \\frac{GH}{OH}</cmath> \n<cmath>\\frac{\\frac{450 \\cdot 400}{x}-50-x}{450-x} = \\frac{\\frac{450 \\cdot 400}{x}+400-x}{450}</cmath>\nI hope you like expanding\n<cmath>x^2 - 850x + \\frac{81000000}{x} = -450x - 22500 + \\frac{81000000}{x}</cmath>\n<cmath>x^2 - 400x + 22500 = 0</cmath>\nQuadratic formula gives us\n<cmath>x = 200 \\pm 50 \\sqrt{7}</cmath>\nSince AE < BF \n<cmath>x = 200 - 50 \\sqrt{7}</cmath>\nThus, \n<cmath>BF = 250 + 50 \\sqrt{7}</cmath>\nSo, our answer is <math>\\boxed{307}</math>.\n\n-AlexLikeMath\n\n=== Solution 7 (Using a Circle) ===\n<center><asy>\nsize(200);\ndefaultpen(linewidth(0.7)+fontsize(10));\npair A=(0,9), B=(9,9), C=(9,0), D=(0,0), E=(2.5-0.5*sqrt(7),9), F=(6.5-0.5*sqrt(7),9), G=(4.5-0.5*sqrt(7),7), O=(4.5,4.5), H=(4.5-0.5*sqrt(7),4.5), I=(0,4.5), J=(4.5-0.5*sqrt(7),9);\ndraw(A--B--C--D--A);\ndraw(E--O--F);\ndraw(J--G);\ndraw(E--G--F);\ndraw(G--H--O--G);\ndraw(I--H);\ndraw(circle(G,2*sqrt(2)));\nmarkscalefactor=0.05;\ndraw(rightanglemark(E,G,F));\ndot(A^^B^^C^^D^^E^^F^^G^^H^^I^^J^^O);\nlabel(\"\\(A\\)\",A,(-1,1));\nlabel(\"\\(B\\)\",B,(1,1));\nlabel(\"\\(C\\)\",C,(1,-1));\nlabel(\"\\(D\\)\",D,(-1,-1));\nlabel(\"\\(E\\)\",E,(0,1));\nlabel(\"\\(F\\)\",F,(1,1));\nlabel(\"\\(G\\)\",G,(1,0));\nlabel(\"\\(H\\)\",H,(-1,1));\nlabel(\"\\(I\\)\",I,(-1,0));\nlabel(\"\\(J\\)\",J,(0,1));\nlabel(\"\\(O\\)\",O,(1,-1));\n</asy></center>\n\nWe know that G is on the perpendicular bisector of <math>EF</math>, which means that <math>EJ=JF=200</math>, <math>EG=GF=200\\sqrt{2}</math> and <math>GH=250</math>. Now, let <math>HO</math> be equal to <math>x</math>. We can set up an equation with the Pythagorean Theorem: \n\n<cmath>\n\\begin{align*}\n\\sqrt{x^2+250^2}&=(200\\sqrt{2})^2 \\\\\nx^2+62500&=80000 \\\\\nx^2&=17500 \\\\\nx&=50\\sqrt{7}\n\\end{align*}\n</cmath>\n\nNow, since <math>IO=450</math>, \n\n<cmath>\n\\begin{align*}\nHI&=450-x \\\\\n&=450-50\\sqrt{7} \\\\\n\\end{align*} \\\\\n</cmath>\n\nSince <math>HI=AJ</math>, we now have:\n\n<cmath>\n\\begin{align*}\nBF&=AB-AJ-JF \\\\\n&=900-(450-50\\sqrt{7})-200 \\\\\n&=250+50\\sqrt{7} \\\\\n\\end{align*}\n</cmath> \n\nThis means that our answer would be <math>250+50+7=\\boxed{307}</math>\n\n~Jerry_Guo\n\n=== Solution 8 (More Similar Triangles) ===\n \nConstruct <math>BO, AO.</math> Let <math>\\angle{FOB} = \\alpha.</math> Also let <math>FB = x</math> then <math>AE = 500-x.</math> We then have from simple angle-chasing:\n<cmath>\n\\begin{align*}\n\\angle{BFO} = 135 - \\alpha \\\\\n\\angle{OFE} = 45 + \\alpha \\\\\n\\angle{EOA} = 45 - \\alpha \\\\\n\\angle{AEO} = 90 + \\alpha \\\\\n\\angle{OEF} = 90 - \\alpha.\n\\end{align*}\n</cmath>\nFrom AA similarity we have <cmath>\\triangle{EOB} \\sim \\triangle{EFO}.</cmath> This gives the ratios, \n<cmath>\\dfrac{400 + x}{EO} = \\dfrac{450\\sqrt{2}}{FO}.</cmath>\nSimilarly from AA similarity <cmath>\\triangle{FOA} \\sim \\triangle{FEO}.</cmath> So we get the ratios <cmath>\\dfrac{EO}{450\\sqrt{2}} = \\dfrac{FO}{900-x}.</cmath> We can multiply to get \n<cmath>\\dfrac{400 + x}{450\\sqrt{2}} = \\dfrac{450\\sqrt{2}}{900 - x}.</cmath> Cross-multiplying reveals\n<cmath>360000 + 500x - x^2 = 405000.</cmath> Bringing everything to one side we have <cmath>x^2 - 500x + 45000 = 0.</cmath> By the quadratic formula we get <cmath>x = \\dfrac{500 + \\sqrt{500^2 - 4\\cdot45000}}{2} = \\dfrac{500 + \\sqrt{70000}}{2} = \\dfrac{500 + 100\\sqrt{7}}{2} = 250 + 50\\sqrt{7}.</cmath>\nTherefore \n<cmath>p+q+r = 250 + 50 + 7 = \\boxed{307}.</cmath>\n~aa1024\n\n\n=== Solution 9 ===\nWe use ratio lemma and Stewart's theorem:\nConnect <math>OA, OE, OF, OB</math> and let <math>AE = x</math> and <math>BF = 500 - x.</math>\nLet angle <math>AOE = y,</math> hence <math>BOF = 45 - y.</math>\nNow, we apply Stewart's theorem in triangles <math>AOF</math> and <math>BOE</math> to get <math>OE</math> and <math>OF</math> in terms of <math>x</math>\nfinally, calculate <math>x/400</math> and <math>500-x/400</math> using ratio lemma to find <math>x</math> and <math>y</math>\n\n=== Solution 10(Similar Triangles) ===\nDraw AO, OB, and extend OB to D. Let <math>\\angle{FOB} = \\alpha.</math> Then, after angle chasing, we find that <cmath>\\angle{AEB} = 90 + \\alpha</cmath>. \nUsing this, we draw a line perpendicular to <math>AB</math> at <math>E</math> to meet <math>BD</math> at <math>M</math>. Since <math>\\angle{MEO} = \\alpha</math> and <math>\\angle{EMO} = 45</math>, we have that <cmath>\\triangle{EMO} \\sim \\triangle{OBF}</cmath>\nLet <math>FB = x</math>. Then <math>EM = 400+x</math>. Since <math>FB/BO = \\frac{x}{450\\sqrt{2}}</math>, and <math>MO/EM = FB/OB</math>, we have <cmath>MO = \\frac{(400+x)x}{450\\sqrt{2}}</cmath> \nSince <math>\\triangle{EBM}</math> is a <math>45-45-90</math> triangle, <cmath>(400+x)\\sqrt{2} = 450\n\\sqrt{2} + \\frac{(400+x)x}{450\\sqrt{2}}</cmath>\nSolving for <math>x</math>, we get that <math>x=250 +- 50s\\sqrt{7}</math>, but since <math>FB>AE</math>, <math>FB = 250+50\\sqrt{7}</math>, thus <cmath>p+q+r=\\boxed{307}</cmath>\n-dchang0524"
  },
  {
    "year": 2005,
    "variant": "II",
    "problem_number": 13,
    "latex": "Let <math> P(x) </math> be a polynomial with integer coefficients that satisfies <math> P(17)=10 </math> and <math> P(24)=17. </math> Given that <math> P(n)=n+3 </math> has two distinct integer solutions <math> n_1 </math> and <math> n_2, </math> find the product <math> n_1\\cdot n_2. </math>",
    "solution": "We define <math>Q(x)=P(x)-x+7</math>, noting that it has roots at <math>17</math> and <math>24</math>. Hence <math>P(x)-x+7=A(x-17)(x-24)</math>. In particular, this means that \n<math>P(x)-x-3=A(x-17)(x-24)-10</math>. Therefore, <math>x=n_1,n_2</math> satisfy <math>A(x-17)(x-24)=10</math>, where <math>A</math>, <math>(x-17)</math>, and <math>(x-24)</math> are integers. This cannot occur if <math>x\\le 17</math> or <math>x\\ge 24</math> because the product <math>(x-17)(x-24)</math> will either be too large or not be a divisor of <math>10</math>. We find that <math>x=19</math> and <math>x=22</math> are the only values that allow <math>(x-17)(x-24)</math> to be a factor of <math>10</math>.  Hence the answer is <math>19\\cdot 22=\\boxed{418}</math>."
  },
  {
    "year": 2005,
    "variant": "II",
    "problem_number": 14,
    "latex": "In [[triangle]] <math> ABC, AB=13, BC=15, </math> and <math>CA = 14. </math> Point <math> D </math> is on <math> \\overline{BC} </math> with <math> CD=6. </math> Point <math> E </math> is on <math> \\overline{BC} </math> such that <math> \\angle BAE\\cong \\angle CAD. </math> Given that <math> BE=\\frac pq </math> where <math> p </math> and <math> q </math> are relatively prime positive integers, find <math> q. </math>",
    "solution": "<center><asy>\nimport olympiad; import cse5; import geometry; size(150);\ndefaultpen(fontsize(10pt));\ndefaultpen(0.8);\ndotfactor = 4;\npair A = origin;\npair C = rotate(15,A)*(A+dir(-50));\npair B = rotate(15,A)*(A+dir(-130));\npair D = extension(A,A+dir(-68),B,C);\npair E = extension(A,A+dir(-82),B,C);\nlabel(\"$A$\",A,N);\nlabel(\"$B$\",B,SW);\nlabel(\"$D$\",D,SE);\nlabel(\"$E$\",E,S);\nlabel(\"$C$\",C,SE);\ndraw(A--B--C--cycle);\ndraw(A--E);\ndraw(A--D);\ndraw(anglemark(B,A,E,5));\ndraw(anglemark(D,A,C,5));\n</asy></center>\n\nBy the [[Law of Sines]] and since <math>\\angle BAE = \\angle CAD, \\angle BAD = \\angle CAE</math>, we have\n\n<cmath>\\begin{align*}\n \\frac{CD \\cdot CE}{AC^2} &= \\frac{\\sin CAD}{\\sin ADC} \\cdot \\frac{\\sin CAE}{\\sin AEC}  \\\\\n&= \\frac{\\sin BAE \\sin BAD}{\\sin ADB \\sin AEB} \\\\\n&= \\frac{\\sin BAE}{\\sin AEB} \\cdot \\frac{\\sin BAD}{\\sin ADB}\\\\ &= \\frac{BE \\cdot BD}{AB^2}\n\\end{align*}\n</cmath>\n\nSubstituting our knowns, we have <math>\\frac{CE}{BE} = \\frac{3 \\cdot 14^2}{2 \\cdot 13^2} = \\frac{BC - BE}{BE} = \\frac{15}{BE} - 1 \\Longrightarrow BE = \\frac{13^2 \\cdot 15}{463}</math>. The answer is <math>q = \\boxed{463}</math>."
  },
  {
    "year": 2005,
    "variant": "II",
    "problem_number": 15,
    "latex": "Let <math> w_1 </math> and <math> w_2 </math> denote the [[circle]]s <math> x^2+y^2+10x-24y-87=0 </math> and <math> x^2 +y^2-10x-24y+153=0, </math> respectively. Let <math> m </math> be the smallest positive value of <math> a </math> for which the line <math> y=ax </math> contains the center of a circle that is externally [[tangent (geometry)|tangent]] to <math> w_2 </math> and internally tangent to <math> w_1. </math> Given that <math> m^2=\\frac pq, </math> where <math> p </math> and <math> q </math> are relatively prime integers, find <math> p+q. </math>",
    "solution": "Rewrite the given equations as <math>(x+5)^2 + (y-12)^2 = 256</math> and <math>(x-5)^2 + (y-12)^2 = 16</math>.\n\nLet <math>w_3</math> have center <math>(x,y)</math> and radius <math>r</math>.  Now, if two circles with radii <math>r_1</math> and <math>r_2</math> are externally tangent, then the distance between their centers is <math>r_1 + r_2</math>, and if they are internally tangent, it is <math>|r_1 - r_2|</math>.  So we have\n\n<cmath>\\begin{align*}\nr + 4 &= \\sqrt{(x-5)^2 + (y-12)^2} \\\\\n16 - r &= \\sqrt{(x+5)^2 + (y-12)^2} \\end{align*} </cmath>\n\nSolving for <math>r</math> in both equations and setting them equal, then simplifying, yields\n\n<cmath>\\begin{align*}\n20 - \\sqrt{(x+5)^2 + (y-12)^2} &= \\sqrt{(x-5)^2 + (y-12)^2} \\\\\n20+x &= 2\\sqrt{(x+5)^2 + (y-12)^2}\n\\end{align*} </cmath>\n\nSquaring again and canceling yields <math>1 = \\frac{x^2}{100} + \\frac{(y-12)^2}{75}.</math>\n\nSo the locus of points that can be the center of the circle with the desired properties is an [[ellipse]].\n\n<center><asy>\nsize(220); pointpen = black; pen d = linewidth(0.7); pathpen = d; \npair A = (-5, 12), B = (5, 12), C = (0, 0);\nD(CR(A,16));D(CR(B,4));D(shift((0,12)) * yscale(3^.5 / 2) * CR(C,10), linetype(\"2 2\") + d + red);\nD((0,30)--(0,-10),Arrows(4));D((15,0)--(-25,0),Arrows(4));D((0,0)--MP(\"y=ax\",(14,14 * (69/100)^.5),E),EndArrow(4));\n\nvoid bluecirc (real x) {\n pair P = (x, (3 * (25 - x^2 / 4))^.5 + 12); dot(P, blue);\n D(CR(P, ((P.x - 5)^2 + (P.y - 12)^2)^.5 - 4) , blue + d + linetype(\"4 4\"));\n}\n\nbluecirc(-9.2); bluecirc(-4); bluecirc(3);\n</asy></center>\n\nSince the center lies on the line <math>y = ax</math>, we substitute for <math>y</math> and expand: \n<cmath>1 = \\frac{x^2}{100} + \\frac{(ax-12)^2}{75} \\Longrightarrow (3+4a^2)x^2 - 96ax + 276 = 0.</cmath>\n\nWe want the value of <math>a</math> that makes the line <math>y=ax</math> tangent to the ellipse, which will mean that for that choice of <math>a</math> there is only one solution to the most recent equation. But a quadratic has one solution [[iff]] its discriminant is <math>0</math>, so <math>(-96a)^2 - 4(3+4a^2)(276) = 0</math>.\n\nSolving yields <math>a^2 = \\frac{69}{100}</math>, so the answer is <math>\\boxed{169}</math>."
  },
  {
    "year": 2006,
    "variant": "I",
    "problem_number": 1,
    "latex": "In [[quadrilateral]] <math>ABCD</math>, <math>\\angle B</math> is a [[right angle]], [[diagonal]] <math>\\overline{AC}</math> is [[perpendicular]] to <math>\\overline{CD}</math>, <math>AB=18</math>, <math>BC=21</math>, and <math>CD=14</math>. Find the [[perimeter]] of <math>ABCD</math>.",
    "solution": "We construct the following diagram: \n<asy>\npathpen = black;\npair C=(0,0),D=(0,-14),A=(-sqrt(765),0),B=IP(circle(C,21),circle(A,18));\nD(MP(\"A\",A,W)--MP(\"B\",B,N)--MP(\"C\",C,E)--MP(\"D\",D,E)--A--C);\nD(rightanglemark(A,C,D,40));\nD(rightanglemark(A,B,C,40));\n</asy><!--Asymptote by joml88-->\nUsing the [[Pythagorean Theorem]], we get the following two equations:\n<cmath>AD^2 = AC^2 + CD^2</cmath>\n<cmath>AC^2 = AB^2 + BC^2</cmath>\nSubstituting <math>AB^2 + BC^2</math> for <math>AC^2</math> gives us <math>AD^2 = AB^2 + BC^2 + CD^2</math>. Plugging in the given information, we get <math>AD^2 = 18^2 + 21^2 + 14^2 = 961 \\implies AD = 31</math>, so the perimeter is <math>AB+BC+CD+AD = 18+21+14+31 = \\boxed{084}</math>."
  },
  {
    "year": 2006,
    "variant": "I",
    "problem_number": 2,
    "latex": "Let [[set]] <math> \\mathcal{A} </math> be a 90-[[element]] [[subset]] of <math> \\{1,2,3,\\ldots,100\\}, </math> and let <math> S </math> be the sum of the elements of <math> \\mathcal{A}. </math> Find the number of possible values of <math> S. </math>",
    "solution": "The smallest <math>S</math> is <math>1+2+ \\ldots +90 = 91 \\cdot 45 = 4095</math>. The largest <math>S</math> is <math>11+12+ \\ldots +100=111\\cdot 45=4995</math>. All numbers between <math>4095</math> and <math>4995</math> are possible values of S, so the number of possible values of S is <math>4995-4095+1=901</math>.\n\nAlternatively, for ease of calculation, let set <math>\\mathcal{B}</math> be a 10-element subset of <math>\\{1,2,3,\\ldots,100\\}</math>, and let <math>T</math> be the sum of the elements of <math>\\mathcal{B}</math>. Note that the number of possible <math>S</math> is the number of possible <math>T=5050-S</math>. The smallest possible <math>T</math> is <math>1+2+ \\ldots +10 = 55</math> and the largest is <math>91+92+ \\ldots + 100 = 955</math>, so the number of possible values of T, and therefore S, is <math>955-55+1=\\boxed{901}</math>."
  },
  {
    "year": 2006,
    "variant": "I",
    "problem_number": 3,
    "latex": "Find the least [[positive]] [[integer]] such that when its leftmost [[digit]] is deleted, the resulting integer is <math>\\frac{1}{29}</math> of the original integer.",
    "solution": "=== Solution 1 ===\nSuppose the original number is <math>N = \\overline{a_na_{n-1}\\ldots a_1a_0},</math> where the <math>a_i</math> are digits and the first digit, <math>a_n,</math> is nonzero. Then the number we create is <math>N_0 = \\overline{a_{n-1}\\ldots a_1a_0},</math> so <cmath>N = 29N_0.</cmath> But <math>N</math> is <math>N_0</math> with the digit <math>a_n</math> added to the left, so <math>N = N_0 + a_n \\cdot 10^n.</math> Thus, <cmath>N_0 + a_n\\cdot 10^n = 29N_0</cmath> <cmath>a_n \\cdot 10^n = 28N_0.</cmath> The right-hand side of this equation is divisible by seven, so the left-hand side must also be divisible by seven. The number <math>10^n</math> is never divisible by <math>7,</math> so <math>a_n</math> must be divisible by <math>7.</math> But <math>a_n</math> is a nonzero digit, so the only possibility is <math>a_n = 7.</math> This gives <cmath>7 \\cdot 10^n = 28N_0</cmath> or <cmath>10^n = 4N_0.</cmath> Now, we want to minimize ''both'' <math>n</math> and <math>N_0,</math> so we take <math>N_0 = 25</math> and <math>n = 2.</math> Then <cmath>N = 7 \\cdot 10^2 + 25 = \\boxed{725},</cmath> and indeed, <math>725 = 29 \\cdot 25.</math> <math>\\square</math>\n\n=== Solution 2 ===\n\nLet <math>N</math> be the required number, and <math>N'</math> be <math>N</math> with the first digit deleted. Now, we know that <math>N<1000</math> (because this is an AIME problem). Thus, <math>N</math> has <math>1,</math> <math>2</math> or <math>3</math> digits. Checking the other cases, we see that it must have <math>3</math> digits.\nLet <math>N=\\overline{abc}</math>, so <math>N=100a+10b+c</math>. Thus, <math>N'=\\overline{bc}=10b+c</math>. By the constraints of the problem, we see that <math>N=29N'</math>, so <cmath>100a+10b+c=29(10b+c).</cmath> Now, we subtract and divide to get <cmath>100a=28(10b+c)</cmath> <cmath>25a=70b+7c.</cmath> Clearly, <math>c</math> must be a multiple of <math>5</math> because both <math>25a</math> and <math>70b</math> are multiples of <math>5</math>. Thus, <math>c=5</math>. Now, we plug that into the equation: <cmath>25a=70b+7(5)</cmath> <cmath>25a=70b+35</cmath> <cmath>5a=14b+7.</cmath> By the same line of reasoning as earlier, <math>a=7</math>. We again plug that into the equation to get <cmath>35=14b+7</cmath> <cmath>b=2.</cmath> Now, since <math>a=7</math>, <math>b=2</math>, and <math>c=5</math>, our number <math>N=100a+10b+c=\\boxed{725}</math>.\n\nHere's another way to finish using this solution. From the above, you have <cmath>100a = 28(10b + c).</cmath> Divide by <math>4</math>, and you get <cmath>25a = 7(10b + c).</cmath> This means that <math>25a</math> has to be divisible by <math>7</math>, and hence <math>a = 7.</math> Now, solve for <math>25 = 10b + c</math>, which gives you <math>a = 7, b = 2, c = 5</math>, giving you the number <math>\\boxed{725}</math>"
  },
  {
    "year": 2006,
    "variant": "I",
    "problem_number": 4,
    "latex": "Let <math> N </math> be the number of consecutive <math>0</math>'s at the right end of the decimal representation of the product <math> 1!2!3!4!\\cdots99!100!. </math> Find the remainder when <math> N </math> is divided by <math>1000</math>.",
    "solution": "A number in decimal notation ends in a zero for each power of ten which divides it.  Thus, we need to count both the number of 5s and the number of 2s dividing into our given expression.  Since there are clearly more 2s than 5s, it is sufficient to count the number of 5s.\n\nOne way to do this is as follows: <math>96</math> of the numbers <math>1!,\\ 2!,\\ 3!,\\ 100!</math> have a factor of <math>5</math>. <math>91</math> have a factor of <math>10</math>. <math>86</math> have a factor of <math>15</math>. And so on. This gives us an initial count of <math>96 + 91 + 86 + \\ldots + 1</math>.  Summing this [[arithmetic series]] of <math>20</math> terms, we get <math>970</math>.  However, we have neglected some powers of <math>5</math> - every <math>n!</math> term for <math>n\\geq25</math> has an additional power of <math>5</math> dividing it, for <math>76</math> extra; every n! for <math>n\\geq 50</math> has one more in addition to that, for a total of <math>51</math> extra; and similarly there are <math>26</math> extra from those larger than <math>75</math> and <math>1</math> extra from <math>100</math>.  Thus, our final total is <math>970 + 76 + 51 + 26 + 1 = 1124</math>, and the answer is <math>\\boxed{124}</math>."
  },
  {
    "year": 2006,
    "variant": "I",
    "problem_number": 5,
    "latex": "The number <math> \\sqrt{104\\sqrt{6}+468\\sqrt{10}+144\\sqrt{15}+2006}</math> can be written as <math> a\\sqrt{2}+b\\sqrt{3}+c\\sqrt{5}, </math> where <math> a, b, </math> and <math> c </math> are [[positive]] [[integer]]s. Find <math>abc</math>.",
    "solution": "We begin by [[equate | equating]] the two expressions:\n\n<cmath> a\\sqrt{2}+b\\sqrt{3}+c\\sqrt{5} = \\sqrt{104\\sqrt{6}+468\\sqrt{10}+144\\sqrt{15}+2006}</cmath>\n\nSquaring both sides yields: \n\n<cmath> 2ab\\sqrt{6} + 2ac\\sqrt{10} + 2bc\\sqrt{15} + 2a^2 + 3b^2 + 5c^2 = 104\\sqrt{6}+468\\sqrt{10}+144\\sqrt{15}+2006 </cmath> \n\nSince <math>a</math>, <math>b</math>, and <math>c</math> are integers, we can match coefficients: \n\n<cmath> \n\\begin{align*}\n2ab\\sqrt{6} &= 104\\sqrt{6} \\\\\n 2ac\\sqrt{10} &=468\\sqrt{10} \\\\\n 2bc\\sqrt{15} &=144\\sqrt{15}\\\\\n 2a^2 + 3b^2 + 5c^2 &=2006\n\\end{align*}\n</cmath> \n\nSolving the first three equations gives: \n<cmath>\\begin{eqnarray*}ab &=& 52\\\\ \nac &=& 234\\\\ \nbc &=& 72 \\end{eqnarray*}</cmath> \n\nMultiplying these equations gives <math> (abc)^2 = 52 \\cdot 234 \\cdot 72 = 2^63^413^2 \\Longrightarrow abc = \\boxed{936}</math>. \n\n<!--\nSince this is the AIME and you do not have a calculator solving <math> abc = \\sqrt{52 \\cdot 234 \\cdot 72} = 936</math> might prove difficult.\nSo instead use the three equations given above.\n\n<math> ab = 52 </math> \n\n<math> ac = 234 </math> \n\n<math> bc = 72 </math> \n\nThus <math> a = 52/b = 234/c </math>\n\n<math> 52c = 234b </math>\n\n<math> c = 234/52b </math>\n\n<math> c = 9/2b </math>\n\nPlugging into last equation leads to:\n\n<math> 9/2b^2 = 72 </math>\n\n<math> b = 4 </math>\n\nPlugging into others you get \n\n<math>a=13</math>\n\n<math>b=4</math>\n\n<math>c=18</math>\n\nMuch easier than taking crazy square roots without a calculator!\n\nIf it was required to solve for each variable, dividing the product of the three variables by the product of any two variables would yield the third variable. Doing so yields: \n\n<math>a=13</math>\n\n<math>b=4</math>\n\n<math>c=18</math>\n\nWhich clearly fits the fourth equation:\n<math> 2 \\cdot 13^2 + 3 \\cdot 4^2 + 5 \\cdot 18^2 = 2006 </math>\n\n<math>abc=\\boxed{936}</math>\n-->"
  },
  {
    "year": 2006,
    "variant": "I",
    "problem_number": 6,
    "latex": "Let <math> \\mathcal{S} </math> be the set of [[real number]]s that can be represented as repeating [[Decimal| decimals]] of the form <math> 0.\\overline{abc} </math> where <math> a, b, c </math> are distinct [[digit]]s. Find the sum of the elements of <math> \\mathcal{S}. </math>",
    "solution": "Numbers of the form <math>0.\\overline{abc}</math> can be written as <math>\\frac{abc}{999}</math>. There are <math>10\\times9\\times8=720</math> such numbers. Each digit will appear in each place value <math>\\frac{720}{10}=72</math> times, and the sum of the digits, 0 through 9, is 45. So the sum of all the numbers is <math>\\frac{45\\times72\\times111}{999}= \\boxed{360} </math>."
  },
  {
    "year": 2006,
    "variant": "I",
    "problem_number": 7,
    "latex": "An [[angle]] is drawn on a set of equally spaced [[parallel]] [[line]]s as shown. The [[ratio]] of the [[area]] of shaded region <math> C </math> to the area of shaded region <math> B </math> is 11/5. Find the ratio of shaded region <math> D </math> to the area of shaded region <math> A. </math>\n\n<asy>\ndefaultpen(linewidth(0.7)+fontsize(10));\nfor(int i=0; i<4; i=i+1) {\nfill((2*i,0)--(2*i+1,0)--(2*i+1,6)--(2*i,6)--cycle, mediumgray);\n}\npair A=(1/3,4), B=A+7.5*dir(-17), C=A+7*dir(10);\ndraw(B--A--C);\nfill((7.3,0)--(7.8,0)--(7.8,6)--(7.3,6)--cycle, white);\nclip(B--A--C--cycle);\nfor(int i=0; i<9; i=i+1) {\ndraw((i,1)--(i,6));\n}\nlabel(\"$\\mathcal{A}$\", A+0.2*dir(-17), S);\nlabel(\"$\\mathcal{B}$\", A+2.3*dir(-17), S);\nlabel(\"$\\mathcal{C}$\", A+4.4*dir(-17), S);\nlabel(\"$\\mathcal{D}$\", A+6.5*dir(-17), S);</asy>",
    "solution": "Note that the apex of the angle is not on the parallel lines. Set up a [[coordinate proof]].\n\nLet the set of parallel lines be [[perpendicular]] to the [[x-axis]], such that they cross it at <math>0, 1, 2 \\ldots</math>. The base of region <math>\\mathcal{A}</math> is on the line <math>x = 1</math>. The bigger base of region <math>\\mathcal{D}</math> is on the line <math>x = 7</math>. \nLet the top side of the angle be <math>y = x - s</math> and the bottom side be x-axis, as dividing the angle doesn't change the problem.\n\nSince the area of the triangle is equal to <math>\\frac{1}{2}bh</math>,\n\n<cmath>\n\\frac{\\textrm{Region\\ }\\mathcal{C}}{\\textrm{Region\\ }\\mathcal{B}} = \\frac{11}{5}\n= \\frac{\\frac 12(5-s)^2 - \\frac 12(4-s)^2}{\\frac 12(3-s)^2 - \\frac12(2-s)^2}\n</cmath>\n\nSolve this to find that <math>s = \\frac{5}{6}</math>.\n\nUsing the same reasoning as above, we get <math>\\frac{\\textrm{Region\\ }\\mathcal{D}}{\\textrm{Region\\ }\\mathcal{A}} = \\frac{\\frac 12(7-s)^2 - \\frac 12(6-s)^2}{\\frac 12(1-s)^2}</math>, which is <math>\\boxed{408}</math>."
  },
  {
    "year": 2006,
    "variant": "I",
    "problem_number": 8,
    "latex": "[[Hexagon]] <math>ABCDEF</math> is divided into five [[rhombus]]es, <math>\\mathcal{P, Q, R, S,}</math> and <math>\\mathcal{T,}</math> as shown. Rhombuses <math>\\mathcal{P, Q, R,}</math> and <math>\\mathcal{S}</math> are [[congruent (geometry)|congruent]], and each has [[area]] <math>\\sqrt{2006}.</math> Let <math>K</math> be the area of rhombus <math>\\mathcal{T}</math>.  Given that <math>K</math> is a [[positive integer]], find the number of possible values for <math>K</math>.\n\n<asy>\n//TheMathGuyd\nsize(8cm);\npair A=(0,0), B=(4.2,0), C=(5.85,-1.6), D=(4.2,-3.2), EE=(0,-3.2), F=(-1.65,-1.6), G=(0.45,-1.6), H=(3.75,-1.6), I=(2.1,0), J=(2.1,-3.2), K=(2.1,-1.6);\ndraw(A--B--C--D--EE--F--cycle);\ndraw(F--G--(2.1,0));\ndraw(C--H--(2.1,0));\ndraw(G--(2.1,-3.2));\ndraw(H--(2.1,-3.2));\nlabel(\"$\\mathcal{T}$\",(2.1,-1.6));\nlabel(\"$\\mathcal{P}$\",(0,-1),NE);\nlabel(\"$\\mathcal{Q}$\",(4.2,-1),NW);\nlabel(\"$\\mathcal{R}$\",(0,-2.2),SE);\nlabel(\"$\\mathcal{S}$\",(4.2,-2.2),SW);\n</asy>",
    "solution": "Let <math>x</math> denote the common side length of the rhombi, and let <math>y</math> denote one of the smaller interior [[angle]]s of rhombus <math>\\mathcal{P}</math>. Then <math>x^2\\sin(y)=\\sqrt{2006}</math>.  We also see that <math>K=x^2\\sin(2y) \\implies K=2x^2\\sin y \\cdot \\cos y \\implies K = 2\\sqrt{2006}\\cdot \\cos y</math>.  Thus <math>K</math> can be any positive integer in the [[interval]] <math>(0, 2\\sqrt{2006})</math>. Since <math>2\\sqrt{2006} = \\sqrt{8024}</math> and <math>89^2 = 7921 < 8024 < 8100 = 90^2</math>, <math>K</math> can be any [[integer]] between <math>1</math> and <math>89</math>, inclusive, so the number of positive values for <math>K</math> is <math>\\boxed{089}</math>."
  },
  {
    "year": 2006,
    "variant": "I",
    "problem_number": 9,
    "latex": "The [[sequence]] <math> a_1, a_2, \\ldots </math> is [[geometric sequence|geometric]] with <math> a_1=a </math> and common [[ratio]] <math> r, </math> where <math> a </math> and <math> r </math> are positive integers. Given that <math> \\log_8 a_1+\\log_8 a_2+\\cdots+\\log_8 a_{12} = 2006, </math> find the number of possible ordered pairs <math> (a,r). </math>",
    "solution": "<cmath>\\log_8 a_1+\\log_8 a_2+\\ldots+\\log_8 a_{12}= \\log_8 a+\\log_8 (ar)+\\ldots+\\log_8 (ar^{11}) \\\\\n= \\log_8(a\\cdot ar\\cdot ar^2\\cdot \\cdots \\cdot ar^{11}) = \\log_8  (a^{12}r^{66}) </cmath>\n\nSo our question is equivalent to solving <math>\\log_8 (a^{12}r^{66})=2006</math> for <math>a, r</math> [[positive integer]]s. <math>a^{12}r^{66}=8^{2006} = (2^3)^{2006} = (2^6)^{1003}</math> so <math>a^{2}r^{11}=2^{1003}</math>.\n\nThe product of <math>a^2</math> and <math>r^{11}</math> is a power of 2.  Since both numbers have to be integers, this means that <math>a</math> and <math>r</math> are themselves powers of 2.  Now, let <math>a=2^x</math> and <math>r=2^y</math>:\n\n<cmath>\\begin{eqnarray*}(2^x)^2\\cdot(2^y)^{11}&=&2^{1003}\\\\\n2^{2x}\\cdot 2^{11y}&=&2^{1003}\\\\\n2x+11y&=&1003\\\\\ny&=&\\frac{1003-2x}{11} \\end{eqnarray*}</cmath>\n\nFor <math>y</math> to be an integer, the [[numerator]] must be [[divisible]] by <math>11</math>.  This occurs when <math>x=1</math> because <math>1001=91*11</math>. Because only [[even integer]]s are being subtracted from <math>1003</math>, the numerator never equals an even [[multiple]] of <math>11</math>. Therefore, the numerator takes on the value of every [[odd integer | odd]] multiple of <math>11</math> from <math>11</math> to <math>1001</math>.  Since the odd multiples are separated by a distance of <math>22</math>, the number of ordered pairs that work is <math>1 + \\frac{1001-11}{22}=1 + \\frac{990}{22}=46</math>.  (We must add 1 because both endpoints are being included.) So the answer is <math>\\boxed{046}</math>.\n\n\nFor the step above, you may also simply do <math>1001/11 + 1 = 91 + 1 = 92</math> to find how many multiples of <math>11</math> there are in between <math>11</math> and <math>1001</math>. Then, divide <math>92/2</math> = <math>\\boxed{046}</math> to find only the odd solutions. <math>-XxHalo711</math>\n\n--------------\nAnother way is to write \n\n<math>x = \\frac{1003-11y}2</math>\n\nSince <math>1003/11 = 91 + 2/11</math>, the answer is just the number of odd integers in <math>[1,91]</math>, which is, again,  <math>\\boxed{046}</math>.\n----------------"
  },
  {
    "year": 2006,
    "variant": "I",
    "problem_number": 10,
    "latex": "Eight [[circle]]s of [[diameter]] 1 are packed in the first [[quadrant]] of the [[coordinate plane]] as shown. Let region <math> \\mathcal{R} </math> be the union of the eight circular regions. Line <math> l, </math> with slope 3, divides <math> \\mathcal{R} </math> into two regions of equal area. Line <math> l </math>'s equation can be expressed in the form <math> ax=by+c, </math> where <math> a, b, </math> and <math> c </math> are positive integers whose [[greatest common divisor]] is 1. Find <math> a^2+b^2+c^2. </math> \n<asy>\nsize(150);defaultpen(linewidth(0.7));\ndraw((6.5,0)--origin--(0,6.5), Arrows(5));\nint[] array={3,3,2};\nint i,j;\nfor(i=0; i<3; i=i+1) {\nfor(j=0; j<array[i]; j=j+1) {\ndraw(Circle((1+2*i,1+2*j),1));\n}}\nlabel(\"x\", (7,0));\nlabel(\"y\", (0,7));</asy>",
    "solution": "<asy>\nsize(150);defaultpen(linewidth(0.7));\ndraw((6.5,0)--origin--(0,6.5), Arrows(5));\nint[] array={3,3,2};\nint i,j;\nfor(i=0; i<3; i=i+1) {\nfor(j=0; j<array[i]; j=j+1) {\ndraw(Circle((1+2*i,1+2*j),1));\n}}\nlabel(\"x\", (7,0));\nlabel(\"y\", (0,7));\ndraw((5/3,0)--(23/6,6.5),blue);</asy>\n\n=== Solution 1 ===\nThe line passing through the [[tangent (geometry)|tangency point]] of the bottom left circle and the one to its right and through the tangency of the top circle in the middle column and the one beneath it is the line we are looking for: a line passing through the tangency of two circles cuts congruent areas, so our line cuts through the four aforementioned circles splitting into congruent areas, and there are an additional two circles on each side. The line passes through <math>\\left(1,\\frac 12\\right)</math> and <math>\\left(\\frac 32,2\\right)</math>, which can be easily solved to be <math>6x = 2y + 5</math>. Thus, <math>a^2 + b^2 + c^2 = \\boxed{065}</math>.\n\n=== Solution 2 ===\nAssume that if unit [[square]]s are drawn circumscribing the circles, then the line will divide the area of the [[concave]] hexagonal region of the squares equally (as of yet, there is no substantiation that such would work, and definitely will not work in general). Denote the intersection of the line and the [[x-axis]] as <math>(x, 0)</math>. \n\nThe line divides the region into 2 sections. The left piece is a [[trapezoid]], with its area <math>\\frac{1}{2}((x) + (x+1))(3) = 3x + \\frac{3}{2}</math>. The right piece is the addition of a [[trapezoid]] and a [[rectangle]], and the areas are <math>\\frac{1}{2}((1-x) + (2-x))(3)</math> and <math>2 \\cdot 1 = 2</math>, totaling <math>\\frac{13}{2} - 3x</math>. Since we want the two regions to be equal, we find that <math>3x + \\frac 32 = \\frac {13}2 - 3x</math>, so <math>x = \\frac{5}{6}</math>. \n\nWe have that <math>\\left(\\frac 56, 0\\right)</math> is a point on the line of slope 3, so <math>y - 0 = 3\\left(x - \\frac 56\\right) \\Longrightarrow 6x = 2y + 5</math>. Our answer is <math>2^2 + 5^2 + 6^2 = 65</math>.\n\nWe now assess the validity of our starting assumption. We can do that by seeing that our answer passes through the tangency of the two circles, cutting congruent areas, a result explored in solution 1.\n\n\n=== Solution 3===\nThis problem looks daunting at a first glance, but we can make geometric inequality inferences by drawing lines that simplify the problem by removing sections of the total area. To begin, we can eliminate the possibility of the line intersecting the circle on the top left (call it circle A), or the circle on the bottom right (call it circle B). This is can be seen visually by drawing a line with slope 3 that is tangent to either of these circles. The area is clearly larger on one side; this can be proven by counting full circles. We can go on with the same mindset and eliminate the circle below circle A and the circle above circle B. By removing pairs of circles and proving the line will never intersect with them, we can safely work with whatever is remaining. By now you should have 4 circles making an L shape (waluigi style). Now the two biggest contenders for this method are the two circles on the bottom row. Using the same strategy, we can see that a line that goes through the tangent point of these two circles also goes through the tangent point of the other two circles. This clearly will cut the 4 circles into two regions of equal area. Using super advanced linear algebra we get: <math>6x = 2y + 5</math>. The answer is then <math>6^2 + 2^2 + 5^2 = \\boxed{065}</math>. This solution is an alternate explanation to solution 1.\n\n\n-jackshi2006"
  },
  {
    "year": 2006,
    "variant": "I",
    "problem_number": 11,
    "latex": "A collection of 8 [[cube (geometry) | cube]]s consists of one cube with [[edge]]-[[length]] <math> k </math> for each [[integer]] <math> k, 1 \\le k \\le 8. </math> A tower is to be built using all 8 cubes according to the rules: \n\n* Any cube may be the bottom cube in the tower.\n* The cube immediately on top of a cube with edge-length <math> k </math> must have edge-length at most <math> k+2. </math> \n\nLet <math> T </math> be the number of different towers than can be constructed. What is the [[remainder]] when <math> T </math> is divided by 1000?",
    "solution": "We proceed [[recursion | recursively]].  Suppose we can build <math>T_m</math> towers using blocks of size <math>1, 2, \\ldots, m</math>.  How many towers can we build using blocks of size <math>1, 2, \\ldots, m, m + 1</math>?  If we remove the block of size <math>m + 1</math> from such a tower (keeping all other blocks in order), we get a valid tower using blocks <math>1, 2, \\ldots, m</math>.  Given a tower using blocks <math>1, 2, \\ldots, m</math> (with <math>m \\geq 2</math>), we can insert the block of size <math>m + 1</math> in exactly 3 places: at the beginning, immediately following the block of size <math>m - 1</math> or immediately following the block of size <math>m</math>.  Thus, there are 3 times as many towers using blocks of size <math>1, 2, \\ldots, m, m + 1</math> as there are towers using only <math>1, 2, \\ldots, m</math>.  There are 2 towers which use blocks <math>1, 2</math>, so there are <math>2\\cdot 3^6 = 1458</math> towers using blocks <math>1, 2, \\ldots, 8</math>, so the answer is <math>\\boxed{458}</math>.\n\n(Note that we cannot say, \"there is one tower using the block <math>1</math>, so there are <math>3^7</math> towers using the blocks <math>1, 2, \\ldots, 8</math>.\"  The reason this fails is that our recursion only worked when <math>m \\geq 2</math>: when <math>m = 1</math>, there are only 2 places to insert a block of size <math>m + 1 = 2</math>, at the beginning or at the end, rather than the 3 places we have at later stages.  Also, note that this method generalizes directly to seeking the number of towers where we change the second rule to read, \"The cube immediately on top of a cube with edge-length <math>k</math> must have edge-length at most <math>k + n</math>,\" where <math>n</math> can be any fixed integer.)"
  },
  {
    "year": 2006,
    "variant": "I",
    "problem_number": 12,
    "latex": "Find the sum of the values of <math> x </math> such that <math> \\cos^3 3x+ \\cos^3 5x = 8 \\cos^3 4x \\cos^3 x </math>, where <math> x </math> is measured in degrees and <math> 100< x< 200. </math>",
    "solution": "Observe that <math>2\\cos 4x\\cos x = \\cos 5x + \\cos 3x</math> by the sum-to-product formulas. Defining <math>a = \\cos 3x</math> and <math>b = \\cos 5x</math>, we have <math>a^3 + b^3 = (a+b)^3 \\rightarrow ab(a+b) = 0</math>. But <math>a+b = 2\\cos 4x\\cos x</math>, so we require <math>\\cos x = 0</math>, <math>\\cos 3x = 0</math>, <math>\\cos 4x = 0</math>, or <math>\\cos 5x = 0</math>.\n\nHence we see by careful analysis of the cases that the solution set is <math>A = \\{150, 126, 162, 198, 112.5, 157.5\\}</math> and thus <math>\\sum_{x \\in A} x = \\boxed{906}</math>."
  },
  {
    "year": 2006,
    "variant": "I",
    "problem_number": 13,
    "latex": "For each [[even integer | even]] [[positive integer]] <math> x </math>, let <math> g(x) </math> denote the greatest power of 2 that [[divisor | divides]] <math> x. </math> For example, <math> g(20)=4 </math> and <math> g(16)=16. </math> For each positive integer <math> n, </math> let <math> S_n=\\sum_{k=1}^{2^{n-1}}g(2k). </math> Find the greatest integer <math> n </math> less than 1000 such that <math> S_n </math> is a [[perfect square]].",
    "solution": "Given <math>g : x \\mapsto \\max_{j : 2^j | x} 2^j</math>, consider <math>S_n = g(2) + \\cdots + g(2^n)</math>. Define <math>S = \\{2, 4, \\ldots, 2^n\\}</math>. There are <math>2^0</math> elements of <math>S</math> that are divisible by <math>2^n</math>, <math>2^1 - 2^0 = 2^0</math> elements of <math>S</math> that are divisible by <math>2^{n-1}</math> but not by <math>2^n, \\ldots,</math> and <math>2^{n-1}-2^{n-2} = 2^{n-2}</math> elements of <math>S</math> that are divisible by <math>2^1</math> but not by <math>2^2</math>.\n\nThus \n<cmath>\\begin{align*}\nS_n &= 2^0\\cdot2^n + 2^0\\cdot2^{n-1} + 2^1\\cdot2^{n-2} + \\cdots + 2^{n-2}\\cdot2^1\\\\ &= 2^n + (n-1)2^{n-1}\\\\ &= 2^{n-1}(n+1).\\end{align*}</cmath> Let <math>2^k</math> be the highest power of <math>2</math> that divides <math>n+1</math>. Thus by the above formula, the highest power of <math>2</math> that divides <math>S_n</math> is <math>2^{k+n-1}</math>. For <math>S_n</math> to be a perfect square, <math>k+n-1</math> must be even. If <math>k</math> is odd, then <math>n+1</math> is even, hence <math>k+n-1</math> is odd, and <math>S_n</math> cannot be a perfect square. Hence <math>k</math> must be even. In particular, as <math>n<1000</math>, we have five choices for <math>k</math>, namely <math>k=0,2,4,6,8</math>.\n\nIf <math>k=0</math>, then <math>n+1</math> is odd, so <math>k+n-1</math> is odd, hence the largest power of <math>2</math> dividing <math>S_n</math> has an odd exponent, so <math>S_n</math> is not a perfect square.\n\nIn the other cases, note that <math>k+n-1</math> is even, so the highest power of <math>2</math> dividing <math>S_n</math> will be a perfect square. In particular, <math>S_n</math> will be a perfect square if and only if <math>(n+1)/2^{k}</math> is an odd perfect square.\n\nIf <math>k=2</math>, then <math>n<1000</math> implies that <math>\\frac{n+1}{4} \\le 250</math>, so we have <math>n+1 = 4, 4 \\cdot 3^2, \\ldots, 4 \\cdot 13^2, 4\\cdot 3^2 \\cdot 5^2</math>.\n\nIf <math>k=4</math>, then <math>n<1000</math> implies that <math>\\frac{n+1}{16} \\le 62</math>, so <math>n+1 = 16, 16 \\cdot 3^2, 16 \\cdot 5^2, 16 \\cdot 7^2</math>.\n\nIf <math>k=6</math>, then <math>n<1000</math> implies that <math>\\frac{n+1}{64}\\le 15</math>, so <math>n+1=64,64\\cdot 3^2</math>.\n\nIf <math>k=8</math>, then <math>n<1000</math> implies that <math>\\frac{n+1}{256}\\le 3</math>, so <math>n+1=256</math>.\n\nComparing the largest term in each case, we find that the maximum possible <math>n</math> such that <math>S_n</math> is a perfect square is <math>4\\cdot 3^2 \\cdot 5^2 - 1 = \\boxed{899}</math>."
  },
  {
    "year": 2006,
    "variant": "I",
    "problem_number": 14,
    "latex": "A tripod has three legs each of length <math>5</math> feet. When the tripod is set up, the [[angle]] between any pair of legs is equal to the angle between any other pair, and the top of the tripod is <math>4</math> feet from the ground. In setting up the tripod, the lower 1 foot of one leg breaks off. Let <math> h </math> be the height in feet of the top of the tripod from the ground when the broken tripod is set up. Then <math> h </math> can be written in the form <math> \\frac m{\\sqrt{n}}, </math> where <math> m </math> and <math> n </math> are positive integers and <math> n </math> is not divisible by the square of any prime. Find <math> \\lfloor m+\\sqrt{n}\\rfloor. </math> (The notation <math> \\lfloor x\\rfloor </math> denotes the greatest integer that is less than or equal to <math> x. </math>)",
    "solution": "<center><asy>\nsize(200);\nimport three; pointpen=black;pathpen=black+linewidth(0.65);pen ddash = dashed+linewidth(0.65);\ncurrentprojection = perspective(1,-10,3.3);\ntriple O=(0,0,0),T=(0,0,5),C=(0,3,0),A=(-3*3^.5/2,-3/2,0),B=(3*3^.5/2,-3/2,0);\ntriple M=(B+C)/2,S=(4*A+T)/5;\ndraw(T--S--B--T--C--B--S--C);draw(B--A--C--A--S,ddash);draw(T--O--M,ddash);\nlabel(\"$T$\",T,N);label(\"$A$\",A,SW);label(\"$B$\",B,SE);label(\"$C$\",C,NE);label(\"$S$\",S,NW);label(\"$O$\",O,SW);label(\"$M$\",M,NE);\nlabel(\"$4$\",(S+T)/2,NW);label(\"$1$\",(S+A)/2,NW);label(\"$5$\",(B+T)/2,NE);label(\"$4$\",(O+T)/2,W);\ndot(S);dot(O);\n</asy></center>\n\nWe will use <math>[...]</math> to denote volume (four letters), area (three letters) or length (two letters).\n\nLet <math>T</math> be the top of the tripod, <math>A,B,C</math> are end points of three legs. Let <math>S</math> be the point on <math>TA</math> such that <math>[TS] = 4</math> and <math>[SA] = 1</math>. Let <math>O</math> be the center of the base [[equilateral triangle]] <math>ABC</math>. Let <math>M</math> be the [[midpoint]] of segment <math>BC</math>. Let <math>h</math> be the distance from <math>T</math> to the triangle <math>SBC</math> (<math>h</math> is what we want to find).\n\nWe have the volume ratio <math>\\frac {[TSBC]}{[TABC]} = \\frac {[TS]}{[TA]} = \\frac {4}{5}</math>.\n\nSo <math>\\frac {h\\cdot [SBC]}{[TO]\\cdot [ABC]} = \\frac {4}{5}</math>.\n\nWe also have the [[area ratios|area ratio]] <math>\\frac {[SBC]}{[ABC]} = \\frac {[SM]}{[AM]}</math>.\n\nThe triangle <math>TOA</math> is a <math>3-4-5</math> [[right triangle]] so <math>[AM] = \\frac {3}{2}\\cdot[AO] = \\frac {9}{2}</math> and <math>\\cos{\\angle{TAO}} = \\frac {3}{5}</math>.\n\nApplying [[Law of Cosines]] to the triangle <math>SAM</math> with <math>[SA] = 1</math>, <math>[AM] = \\frac {9}{2}</math> and <math>\\cos{\\angle{SAM}} = \\frac {3}{5}</math>, we find:\n\n<center><math>[SM] = \\frac {\\sqrt {5\\cdot317}}{10}.</math></center>\n\nPutting it all together, we find <math>h = \\frac {144}{\\sqrt {5\\cdot317}}</math>.\n\n<center><math> \\lfloor 144+\\sqrt{5 \\cdot 317}\\rfloor =144+ \\lfloor \\sqrt{5 \\cdot 317}\\rfloor =144+\\lfloor \\sqrt{1585} \\rfloor =144+39=\\boxed{183}</math>.</center>"
  },
  {
    "year": 2006,
    "variant": "I",
    "problem_number": 15,
    "latex": "Given that a sequence satisfies <math> x_0=0 </math> and <math> |x_k|=|x_{k-1}+3| </math> for all integers <math> k\\ge 1, </math> find the minimum possible value of <math> |x_1+x_2+\\cdots+x_{2006}|. </math>\n\n__TOC__",
    "solution": "=== Solution 1 ===\nSuppose <math>b_{i} = \\frac {x_{i}}3</math>.\nWe have\n<cmath>\n\\sum_{i = 1}^{2006}b_{i}^{2} = \\sum_{i = 0}^{2005}(b_{i} + 1)^{2} = \\sum_{i = 0}^{2005}(b_{i}^{2} + 2b_{i} + 1)\n</cmath>\nSo\n<cmath>\n\\sum_{i = 0}^{2005}b_{i} = \\frac {b_{2006}^{2} - 2006}2\n</cmath>\nNow\n<cmath>\n\\sum_{i = 1}^{2006}b_{i} = \\frac {b_{2006}^{2} + 2b_{2006} - 2006}2\n</cmath>\nTherefore\n<cmath>\n\\left|\\sum_{i = 1}^{2006}b_{i}\\right| = \\left|\\frac {(b_{2006} + 1)^{2} - 2007}2\\right|\\geq \\left|\\frac{2025 - 2007}{2}\\right| = 9\n</cmath>\nThis lower bound can be achieved if we use <math>b_1 = -1</math>, <math>b_2 = 0</math>, <math>b_3 = -1</math>, <math>b_4 = 0</math>, and so on until <math>b_{1962} = 0</math>, after which we let <math>b_k = b_{k - 1} + 1</math> so that <math>b_{2006} = 44</math>. So\n<cmath>\n\\left|\\sum_{i = 1}^{2006}x_{i}\\right|\\geq \\boxed{027}\n</cmath>\n\n=== Solution 2 ===\nFirst, we state that [[iff]] <math>x_{i - 1}\\ge0</math>, <math>|x_i| = |x_{i - 1}| + 3</math> and iff <math>x_{i - 1} < 0</math>, <math>|x_i| = |x_{i - 1}| - 3</math>. Now suppose <math>x_i = x_j</math> for some <math>0\\le i < j\\le2006</math>. Now, this means that <math>|x_i| = |x_j|</math>, and so the number of positive numbers in the set <math>\\{x_i,x_{i + 1},\\ldots,x_{j - 1}\\}</math> equals the number of negative numbers. Now pair the numbers in this list up in the following way: Whenever a positive and a negative number are adjacent in this progression, pair them up and remove them from this list. We claim that every pair will sum to -3.\n\nIf the positive number comes first, then the negative number will have a magnitude three greater, so this is true. If the negative number comes first, then the positive number will have magnitude three smaller, and this will also be true. Now let us examine what happens when we remove those two from the sequence. WLOG, let the numbers be <math>x_k</math> and <math>x_{k + 1}</math>. Since one is positive and the other is negative, <math>|x_{k + 2}| = |x_{k + 1}|\\pm3 = |x_k|\\pm3\\mp3 = |x_k| = |x_{k - 1} + 3|</math>. So the new sequence works under the same criteria as the old one. In this way, we can pair all of the numbers up in this subsequence so the sums of the pairs are -3. Thus, the average of these numbers will be -3/2 for all subsequences that start and end with the same number (not including one of those).\n\nNow, take all of the repeating subsequences out of the original sequence. The only thing that will be left will be a sequence <math>\\{0,3,6,9,\\cdots,3k\\}</math> for some even <math>k</math>. Since we started with 2006 terms, we removed <math>2006 - k</math> (an even number) with an average of -3/2. Thus, the sum of both this remaining sequence and the removed stuff is <math>(2006 - k)( - 3/2) + \\sum_{i = 1}^k3k = (3/2)(k - 2006 + k(k + 1)) = 3/2(k^2 + 2k - 2006)</math>. This must be minimized, so we find the roots: <math>k^2 + 2k = 2006\\implies (k + 1)^2 = 2007</math> and <math>44^2 = 1936 < 2007 < 2025 = 45^2</math>. Plugging in <math>k = 44</math> yields <math>(3/2)(2025 - 2007) = 27</math> (and <math>k = 42</math> yields <math>- 237</math>, a worse result). Thus, <math>\\fbox{027}</math> is the closest to zero this sum can get.\n\n=== Solution 3 ===\nWe know <math>|x_k| = |x_{k - 1} + 3|</math>.  We get rid of the absolute value by squaring both sides: <math>{x_k}^2 = {x_{k - 1}}^2 + 6{x_{k - 1}} + 9\\Rightarrow {x_k}^2 - {x_{k - 1}}^2 = 6{x_{k - 1}} + 9</math>. So we set this up:\n\n<cmath>\n\\begin{align*} {x_1}^2 - {x_0}^2 & = 6{x_0} + 9 \\\\\n{x_2}^2 - {x_1}^2 & = 6{x_1} + 9 \\\\\n& \\vdots \\\\\n{x_{2007}}^2 - {x_{2006}}^2 & = 6{x_{2006}} + 9\n\\end{align*}\n</cmath>\nThere are <math>2007</math> equations. Sum them. We get:\n<math>{x_{2007}}^2 = 6\\left(x_1 + x_2 + \\cdots + x_{2006}\\right) + 9\\cdot{2007}</math>\n\nSo <math>|x_1 + x_2 + \\cdots + x_{2006}| = \\tfrac 16 \\left|{x_{2007}}^2 - 9\\cdot{2007}\\right|</math>\n\nWe know <math>3\\ |\\ x_{2007}</math> and we want to minimize <math>\\left|{x_{2007}}^2 - 9\\cdot{2007}\\right|</math>, so <math>x_{2007}</math> must be <math>3\\cdot{45}</math> for it to be minimal (<math>45^2 = 2025</math> which is closest to <math>2007</math>). We can achieve this with <math>x_k=3k</math> till <math>x_{45}=135</math> and then alternating <math>x_{46}=132</math>, <math>x_{47}=135</math> and so on ... Then <math>x_{2k}=132</math> and <math>x_{2k+1}=135</math> for all <math>k>22</math>. Since <math>2007</math> is odd, we have <math>x_{2007}=135</math>.\n\nThis means that <math>|x_1 + x_2 + \\cdots + x_{2006}| = \\tfrac 16 \\left|9(2025 - 2007)\\right| = \\boxed{027}</math>\n\n=== Solution 4 ===\n\nPlaying around with a couple numbers, we see that we can generate the sequence <math>0, 3, -6, 3, -6, \\cdots</math>, and we can also generate the sequence <math>3, 6, 9, 12, \\cdots</math> after each <math>-6</math> value. Thus, we will apply this to try and find some bounds. We can test if the first <math>1000</math> pairs of numbers each sum up to <math>-3</math>, and the rest form an arithmetic sequence, if the first <math>990</math> pairs sum up to <math>-3</math>, and so on. When we get to <math>980</math>, we find that <math>980(-3) + 3 + 6 + \\cdots + 3\\cdot 46 = 303</math>. If we shift the number of pairs up by <math>1</math>, we get <math>981(-3) + 3 + 6 + \\cdots + 3\\cdot 44 = \\boxed{027}</math>.\n\n~ Spacesam"
  },
  {
    "year": 2006,
    "variant": "II",
    "problem_number": 1,
    "latex": "In [[convex polygon|convex]] [[hexagon]] <math>ABCDEF</math>, all six sides are congruent, <math>\\angle A</math> and <math>\\angle D</math> are [[right angle]]s, and <math>\\angle B, \\angle C, \\angle E,</math> and <math>\\angle F</math> are [[congruent]]. The area of the hexagonal region is <math>2116(\\sqrt{2}+1).</math> Find <math>AB</math>.",
    "solution": "Let the side length be called <math>x</math>, so <math>x=AB=BC=CD=DE=EF=AF</math>. \n\n[[Image:2006_II_AIME-1.png]]\n\nThe diagonal <math>BF=\\sqrt{AB^2+AF^2}=\\sqrt{x^2+x^2}=x\\sqrt{2}</math>. Then the areas of the triangles AFB and CDE in total are <math>\\frac{x^2}{2}\\cdot 2</math>,\nand the area of the rectangle BCEF equals <math>x\\cdot x\\sqrt{2}=x^2\\sqrt{2}</math>\n\nThen we have to solve the equation \n\n<cmath>2116(\\sqrt{2}+1)=x^2\\sqrt{2}+x^2</cmath>\n<cmath>2116(\\sqrt{2}+1)=x^2(\\sqrt{2}+1)</cmath>\n<cmath>2116=x^2</cmath>\n<cmath>x=46</cmath>\n\nTherefore, <math>AB</math> is <math>\\boxed{046}</math>."
  },
  {
    "year": 2006,
    "variant": "II",
    "problem_number": 2,
    "latex": "The lengths of the sides of a [[triangle]] with positive area are <math>\\log_{10} 12</math>, <math>\\log_{10} 75</math>, and <math>\\log_{10} n</math>, where <math>n</math> is a positive integer. Find the number of possible values for <math>n</math>.",
    "solution": "By the [[Triangle Inequality]] and applying the well-known logarithmic property <math>\\log_{c} a + \\log_{c} b = \\log_{c} ab</math>, we have that\n<div style=\"text-align:center;\">\n<math>\\log_{10} 12 + \\log_{10} n > \\log_{10} 75 </math>\n\n<math>\\log_{10} 12n > \\log_{10} 75 </math>\n\n<math> 12n > 75 </math> \n\n<math> n > \\frac{75}{12} = \\frac{25}{4} = 6.25 </math>\n</div>\n\nAlso, \n<div style=\"text-align:center;\">\n<math>\\log_{10} 12 + \\log_{10} 75 > \\log_{10} n </math>\n\n<math>\\log_{10} 12\\cdot75 > \\log_{10} n </math>\n\n<math> n < 900 </math> \n</div>\nCombining these two inequalities: \n\n<cmath> 6.25 < n < 900 </cmath>\n\nThus <math>n</math> is in the set <math>(6.25 , 900)</math>; the number of positive integer <math>n</math> which satisfies this requirement is <math>\\boxed{893}</math>."
  },
  {
    "year": 2006,
    "variant": "II",
    "problem_number": 3,
    "latex": "Let <math>P </math> be the product of the first <math>100</math> [[positive integer | positive]] [[odd integer]]s. Find the largest integer <math>k </math> such that <math>P </math> is divisible by <math>3^k .</math>",
    "solution": "Note that the product of the first <math>100</math> positive odd integers can be written as <math>1\\cdot 3\\cdot 5\\cdot 7\\cdots 195\\cdot 197\\cdot 199=\\frac{1\\cdot 2\\cdots200}{2\\cdot4\\cdots200} = \\frac{200!}{2^{100}\\cdot 100!}</math>\n\nHence, we seek the number of threes in <math>200!</math> decreased by the number of threes in <math>100!.</math>\n\nThere are \n\n<math>\\left\\lfloor \\frac{200}{3}\\right\\rfloor+\\left\\lfloor\\frac{200}{9}\\right\\rfloor+\\left\\lfloor \\frac{200}{27}\\right\\rfloor+\\left\\lfloor\\frac{200}{81}\\right\\rfloor =66+22+7+2=97</math>\n\nthrees in <math>200!</math> and \n\n<math>\\left\\lfloor \\frac{100}{3}\\right\\rfloor+\\left\\lfloor\\frac{100}{9}\\right\\rfloor+\\left\\lfloor \\frac{100}{27}\\right\\rfloor+\\left\\lfloor\\frac{100}{81}\\right\\rfloor=33+11+3+1=48 </math>\n\nthrees in <math>100!</math>\n\nTherefore, we have a total of <math>97-48=\\boxed{049}</math> threes.\n\nFor more information, see also [[Factorial#Prime factorization| prime factorizations of a factorial]]."
  },
  {
    "year": 2006,
    "variant": "II",
    "problem_number": 4,
    "latex": "Let <math> (a_1,a_2,a_3,\\ldots,a_{12}) </math> be a permutation of <math> (1,2,3,\\ldots,12) </math> for which\n\n<center><math> a_1>a_2>a_3>a_4>a_5>a_6 \\mathrm{\\  and \\ } a_6<a_7<a_8<a_9<a_{10}<a_{11}<a_{12}. </math></center>\n\nAn example of such a permutation is <math> (6,5,4,3,2,1,7,8,9,10,11,12). </math> Find the number of such permutations.",
    "solution": "Clearly, <math>a_6=1</math>.  Now, consider selecting <math>5</math> of the remaining <math>11</math> values.  Sort these values in descending order, and sort the other <math>6</math> values in ascending order.  Now, let the <math>5</math> selected values be <math>a_1</math> through <math>a_5</math>, and let the remaining <math>6</math> be <math>a_7</math> through <math>{a_{12}}</math>.  It is now clear that there is a [[bijection]] between the number of ways to select <math>5</math> values from <math>11</math> and ordered 12-tuples <math>(a_1,\\ldots,a_{12})</math>.  Thus, there will be <math>{11 \\choose 5}=\\boxed{462}</math> such ordered 12-tuples."
  },
  {
    "year": 2006,
    "variant": "II",
    "problem_number": 5,
    "latex": "When rolling a certain unfair six-sided die with faces numbered 1, 2, 3, 4, 5, and 6, the probability of obtaining face <math> F </math> is greater than <math>1/6</math>, the probability of obtaining the face opposite is less than <math>1/6</math>, the probability of obtaining any one of the other four faces is <math>1/6</math>, and the sum of the numbers on opposite faces is 7. When two such dice are rolled, the probability of obtaining a sum of 7 is <math>47/288</math>. Given that the [[probability]] of obtaining face <math> F </math>  is <math> m/n, </math> where <math> m </math> and <math> n </math> are [[relatively prime]] positive integers, find <math> m+n. </math>",
    "solution": "[[Without loss of generality]], assume that face <math>F</math> has a 6, so the opposite face has a 1.  Let <math>A(n)</math> be the probability of rolling a number <math>n</math> on one die and let <math>B(n)</math> be the probability of rolling a number <math>n</math> on the other die. 7 can be obtained by rolling a 2 and 5, 5 and 2, 3 and 4, or 4 and 3. Each has a probability of <math>\\frac{1}{6} \\cdot \\frac{1}{6} = \\frac{1}{36}</math>, totaling <math>4 \\cdot \\frac{1}{36} = \\frac{1}{9}</math>. Subtracting all these probabilities from <math>\\frac{47}{288}</math> leaves <math>\\frac{15}{288}=\\frac{5}{96}</math> chance of getting a 1 on die <math>A</math> and a 6 on die <math>B</math> or a 6 on die <math>A</math> and a 1 on die <math>B</math>:\n\n<cmath>A(6)\\cdot B(1)+B(6)\\cdot A(1)=\\frac{5}{96}</cmath>\n\nSince the two dice are identical, <math>B(1)=A(1)</math> and <math>B(6)=A(6)</math> so\n\n<cmath>\\begin{align*}A(1)\\cdot A(6)+A(1)\\cdot A(6)&=\\frac{5}{96}\\\\\nA(1)\\cdot A(6)&=\\frac{5}{192}\\end{align*}</cmath>\n\nAlso, we know that <math>A(2)=A(3)=A(4)=A(5)=\\frac{1}{6}</math> and that the total probability must be <math>1</math>, so:\n\n<cmath>A(1)+4 \\cdot \\frac{1}{6}+A(6)=\\frac{6}{6} \\Longrightarrow A(1)+A(6)=\\frac{1}{3}</cmath>\n\nCombining the equations:\n\n<cmath>\\begin{align*}A(6)\\left(\\frac{1}{3}-A(6)\\right)&=\\frac{5}{192}\\\\\n0 &= 192 \\left(A(6)\\right)^2 - 64 \\left(A(6)\\right) + 5\\\\\nA(6)&=\\frac{64\\pm\\sqrt{64^2 - 4 \\cdot 5 \\cdot 192}}{2\\cdot192} =\\frac{5}{24}, \\frac{1}{8}\\end{align*}</cmath>\nWe know that <math>A(6)>\\frac{1}{6}</math>, so it can't be <math>\\frac{1}{8}</math>. Therefore, the probability is <math>\\frac{5}{24}</math> and the answer is <math>5+24=\\boxed{29}</math>.\n\nNote also that the initial assumption that face <math>F</math> was the face labelled 6 is unnecessary -- we would have carried out exactly the same steps and found exactly the same probability no matter which face it was. We could have labelled <math>A(6)</math> as <math>p</math>, for example, and replaced the others with variables too, but the notation would have been harder to follow."
  },
  {
    "year": 2006,
    "variant": "II",
    "problem_number": 6,
    "latex": "Square <math> ABCD </math> has sides of length 1. Points <math> E </math> and <math> F </math> are on <math> \\overline{BC} </math> and <math> \\overline{CD}, </math> respectively, so that <math> \\triangle AEF </math> is equilateral. A square with vertex <math> B </math> has sides that are parallel to those of <math> ABCD </math> and a vertex on <math> \\overline{AE}. </math> The length of a side of this smaller square is <math>\\frac{a-\\sqrt{b}}{c}, </math> where <math> a, b, </math> and <math> c </math> are positive integers and <math> b</math> is not divisible by the square of any prime. Find <math> a+b+c. </math>",
    "solution": "<asy>\nunitsize(32mm);\ndefaultpen(linewidth(.8pt)+fontsize(10pt));\ndotfactor=3;\n\npair B = (0, 0), C = (1, 0), D = (1, 1), A = (0, 1);\npair Ep = (2 - sqrt(3), 0), F = (1, sqrt(3) - 1);\npair Ap = (0, (3 - sqrt(3))/6);\npair Cp = ((3 - sqrt(3))/6, 0);\npair Dp = ((3 - sqrt(3))/6, (3 - sqrt(3))/6);\npair[] dots = {A, B, C, D, Ep, F, Ap, Cp, Dp};\n\ndraw(A--B--C--D--cycle);\ndraw(A--F--Ep--cycle);\ndraw(Ap--B--Cp--Dp--cycle);\ndot(dots);\n\nlabel(\"$A$\", A, NW);\nlabel(\"$B$\", B, SW);\nlabel(\"$C$\", C, SE);\nlabel(\"$D$\", D, NE);\nlabel(\"$E$\", Ep, SE);\nlabel(\"$F$\", F, E);\nlabel(\"$A'$\", Ap, W);\nlabel(\"$C'$\", Cp, SW);\nlabel(\"$D'$\", Dp, E);\nlabel(\"$s$\", Ap--B, W);\nlabel(\"$1$\", A--D, N);\n</asy>\nCall the vertices of the new square A', B', C', and D', in relation to the vertices of <math>ABCD</math>, and define <math>s</math> to be one of the sides of that square. Since the sides are [[parallel]], by [[corresponding angles]] and AA~ we know that triangles <math>AA'D'</math> and <math>D'C'E</math> are similar. Thus, the sides are proportional: <math>\\frac{AA'}{A'D'} = \\frac{D'C'}{C'E} \\Longrightarrow \\frac{1 - s}{s} = \\frac{s}{1 - s - CE}</math>. Simplifying, we get that <math>s^2 = (1 - s)(1 - s - CE)</math>.\n\n<math>\\angle EAF</math> is <math>60</math> degrees, so <math>\\angle BAE = \\frac{90 - 60}{2} = 15</math>. Thus, <math>\\cos 15 = \\cos (45 - 30) = \\frac{\\sqrt{6} + \\sqrt{2}}{4} = \\frac{1}{AE}</math>, so <math>AE = \\frac{4}{\\sqrt{6} + \\sqrt{2}} \\cdot \\frac{\\sqrt{6} - \\sqrt{2}}{\\sqrt{6} - \\sqrt{2}} = \\sqrt{6} - \\sqrt{2}</math>. Since <math>\\triangle AEF</math> is [[equilateral]], <math>EF = AE = \\sqrt{6} - \\sqrt{2}</math>. <math>\\triangle CEF</math> is a <math>45-45-90 \\triangle</math>, so <math>CE = \\frac{AE}{\\sqrt{2}} = \\sqrt{3} - 1</math>. Substituting back into the equation from the beginning, we get <math>s^2 = (1 - s)(2 - \\sqrt{3} - s)</math>, so <math>(3 - \\sqrt{3})s = 2 - \\sqrt{3}</math>. Therefore, <math>s = \\frac{2 - \\sqrt{3}}{3 - \\sqrt{3}} \\cdot \\frac{3 + \\sqrt{3}}{3 + \\sqrt{3}} = \\frac{3 - \\sqrt{3}}{6}</math>, and <math>a + b + c = 3 + 3 + 6 = \\boxed{12}</math>.\n\n----\n\nHere's an alternative geometric way to calculate <math>AE</math> (as opposed to [[trigonometry|trigonometric]]): The diagonal <math>\\overline{AC}</math> is made of the [[altitude]] of the equilateral triangle and the altitude of the <math>45-45-90 \\triangle</math>. The former is <math>\\frac{AE\\sqrt{3}}{2}</math>, and the latter is <math>\\frac{AE}{2}</math>; thus <math>\\frac{AE\\sqrt{3} + AE}{2} = AC = \\sqrt{2} \\Longrightarrow AE= \\sqrt{6}-\\sqrt{2}</math>. The solution continues as above."
  },
  {
    "year": 2006,
    "variant": "II",
    "problem_number": 7,
    "latex": "Find the number of [[ordered pair]]s of [[positive]] [[integer]]s <math> (a,b) </math> such that <math> a+b=1000 </math> and neither <math> a </math> nor <math> b </math> has a zero digit.\n\n__TOC__",
    "solution": "=== Solution 1 ===\nThere are <math>\\left\\lfloor\\frac{999}{10}\\right\\rfloor = 99</math> numbers up to 1000 that have 0 as their units digit. All of the other excluded possibilities are when <math>a</math> or <math>b</math> have a 0 in the tens digit, and since the equation is symmetric, we will just count when <math>a</math> has a 0 in the tens digit and multiply by 2 (notice that the only time both <math>a</math> and <math>b</math> can have a 0 in the tens digit is when they are divisible by 100, which falls into the above category, so we do not have to worry about [[Principle of Inclusion-Exclusion|overcounting]]). \n\nExcluding the numbers divisible by 100, which were counted already, there are <math>9</math> numbers in every hundred numbers that have a tens digit of 0 (this is true from 100 to 900), totaling <math>9 \\cdot 9 = 81</math> such numbers; considering <math>b</math> also and we have <math>81 \\cdot 2 = 162</math>. Therefore, there are <math>999 - (99 + 162) = \\boxed{738}</math> such ordered pairs.\n\n=== Solution 2 ===\nLet <math>a = \\overline{cde}</math> and <math>b = \\overline{fgh}</math> be 3 digit numbers:\n\n  cde\n +fgh\n ----\n 1000\n\n<math>e</math> and <math>h</math> must add up to <math>10</math>, <math>d</math> and <math>g</math> must add up to <math>9</math>, and <math>c</math> and <math>f</math> must add up to <math>9</math>. Since none of the digits can be 0, there are <math>9 \\times 8 \\times 8=576</math> possibilites if both numbers are three digits.\n\nThere are two other scenarios. <math>a</math> and <math>b</math> can be a three digit number and a two digit number, or a three digit number and a one digit number. For the first scenario, there are <math>9 \\times 8 \\times 2=144</math> possibilities (the two accounting for whether <math>a</math> or <math>b</math> has three digits) and for the second case there are <math>9 \\times 2=18</math> possibilities. Thus, thus total possibilities for <math>(a,b)</math> is <math>576+144+18=738</math>.\n\n=== Solution 3 ===\nWe first must notice that we can find all the possible values of <math>a</math> between <math>1</math> and <math>500</math> and then double that result. \n\nWhen <math>1 < a < 100</math> there are <math>9\\times9 = 81</math> possible solution for <math>a</math> so that neither <math>a</math> nor <math>b</math> has a zero in it, counting <math>1</math> through <math>9</math>, <math>11</math> through <math>19</math>, ..., <math>81</math> through <math>89</math>.\nWhen <math>100 < a < 200</math> there are <math>9\\times8 =72</math> possible solution for a so that neither a nor b has a zero in it, counting  <math>111</math> through <math>119</math>, <math>121</math> through <math>129</math>, ..., <math>181</math> through <math>189</math>.\nThis can clearly be extended to <math>100k < a < 100(k+1)</math> where <math>k</math> is an integer and <math>0 <k < 9</math>. \nThus for <math>100 < a < 500</math> there are <math>72\\times4</math> = <math>288</math> possible values of <math>a</math>.\n\nThus when <math>1 < a < 500</math> there are <math>288 + 81 =369</math> possible values of <math>a</math> and <math>b</math>. \n\nDoubling this yields <math>369\\times2= 738</math>.\n\n=== Solution 4 (Similar to Solution 2)=== \nWe proceed by casework on the number of digits of <math>a.</math> \n\nCase 1: Both <math>a</math> and <math>b</math> have three digits\n\nWe now use constructive counting. For the hundreds digit of <math>a,</math> we see that there are <math>8</math> options - the numbers <math>1</math> through <math>8.</math> (If <math>a = 9,</math> that means that <math>b</math> will be a two digit number, and if <math>a = 0,</math> <math>a</math> will have two digits). Similarly, the tens digit can be <math>1-8</math> as well because a tens digit of <math>0</math> is obviously prohibited and a tens digit of <math>9</math> will lead to a tens digit of <math>0</math> in the other number. The units digit can be anything from <math>1-9.</math> Hence, there are <math>8 \\cdot 8 \\cdot 9 = 576</math> possible values in this case. \n\nCase 2: <math>a</math> (or <math>b</math>) has two digits \n\nIf <math>a</math> has two digits, the only restrictions are that the units digit must not be <math>0</math> and the tens digit must not be <math>9</math> (because then that would lead to <math>b</math> beginning with <math>90...</math>). There thus are <math>8 \\cdot 9 = 72</math> possibilities for <math>a,</math> and we have to multiply by <math>2</math> because there are the same number of possibilities for <math>b.</math> Thus, there are <math>72 \\cdot 2 = 144</math> possible values in this case. \n\nCase 3: <math>a</math> (or <math>b</math>) has one digit\n\nThis is easy -- <math>a</math> can be anything from <math>1</math> to <math>9,</math> for a total of <math>9</math> possible values. We multiply this by <math>2</math> to account for the single digit <math>b</math> values, so we have <math>9 \\cdot 2 = 18</math> possible values for this case. \n\nAdding them all up, we get <math>576 + 144 + 18 = \\boxed{738},</math> and we're done. \n\nSolution by Ilikeapos\n\n=== Solution 5=== \nFor every <math>a \\in [1, 999]</math>, <math>(a, 1000 - a)</math> is a potential candidate for a solution, barring the cases where <math>a</math> or <math>1000 -a </math> has zero digits.\n\nFirst, let's consider all viable <math>a</math> that do not have a zero digit. As there are 9 non-zero digits, we have:\n* <math>9^1</math> 1-digit numbers without a zero digit\n* <math>9^2</math> 2-digit numbers without a zero digit\n* <math>9^3</math> 3-digit numbers without a zero digit\n\nHowever, we have still overlooked the cases where <math>1000 - a</math> contains zero digits:\n* '''Case 1''': If the one's digit of <math>1000 - a</math> is zero, then <math>a</math> will trivially end in a zero, which we've already excluded.\n* '''Case 2''': If the ten's digit of <math>1000 - a</math> is zero, with digital representation <math>\\overline{X0Y}</math>, then <math>a</math> has the digital representation <math>\\overline{[9-X]9[10-Y]}</math>. <math>X</math> and <math>Y</math> can each take on any value in <math>[1, 9]</math> to produce a value in our set of potential <math>a</math>. There are thus <math>9^2</math> cases that we overlooked, where <math>a</math> had no zero digits, but <math>1000 - a</math> did.\n\nAdding up the cases with <math>a \\in [1, 999]</math> with no zero digits and removing the cases with <math>1000 - a</math> with zero digits gives us <cmath>(9^1 + 9^2 + 9^3) - 9^2 = \\boxed{738}</cmath>\n\n~SaifHakim"
  },
  {
    "year": 2006,
    "variant": "II",
    "problem_number": 8,
    "latex": "There is an unlimited supply of [[congruent]] [[equilateral triangle]]s made of colored paper. Each [[triangle]] is a solid color with the same color on both sides of the paper. A large equilateral triangle is constructed from four of these paper triangles. Two large triangles are considered distinguishable if it is not possible to place one on the other, using translations, rotations, and/or reflections, so that their corresponding small triangles are of the same color.\n\nGiven that there are six different colors of triangles from which to choose, how many distinguishable large equilateral triangles may be formed?\n\n<asy>\npair A,B;\nA=(0,0); B=(2,0);\npair C=rotate(60,A)*B;\npair D, E, F;\nD = (1,0);\nE=rotate(60,A)*D;\nF=rotate(60,C)*E;\ndraw(C--A--B--cycle); draw(D--E--F--cycle);\n</asy>",
    "solution": "If two of our big equilateral triangles have the same color for their center triangle and the same [[multiset]] of colors for their outer three triangles, we can carry one onto the other by a combination of rotation and reflection.  Thus, to make two triangles distinct, they must differ either in their center triangle or in the collection of colors which make up their outer three triangles.\n\nThere are 6 possible colors for the center triangle.\n\n*There are <math>{6\\choose3} = 20</math> possible choices for the three outer triangles, if all three have different colors.\n*There are <math>6\\cdot 5 = 30</math> (or <math>2 {6\\choose2}</math>) possible choices for the three outer triangles, if two are one color and the third is a different color.\n*There are <math>{6\\choose1} = 6</math> possible choices for the three outer triangles, if all three are the same color.\n\nThus, in total we have <math>6\\cdot(20 + 30 + 6) = \\boxed{336}</math> total possibilities."
  },
  {
    "year": 2006,
    "variant": "II",
    "problem_number": 9,
    "latex": "[[Circle]]s <math> \\mathcal{C}_1, \\mathcal{C}_2, </math> and <math> \\mathcal{C}_3 </math> have their [[center]]s at (0,0), (12,0), and (24,0), and have [[radius|radii]] 1, 2, and 4, respectively. Line <math> t_1 </math> is a common internal [[tangent]] to <math>\\mathcal{C}_1</math> and <math>\\mathcal{C}_2</math> and has a positive [[slope]], and line <math>t_2</math> is a common internal tangent to <math>\\mathcal{C}_2</math> and <math>\\mathcal{C}_3</math> and has a negative slope. Given that lines <math>t_1</math> and <math>t_2</math> intersect at <math>(x,y),</math> and that <math>x=p-q\\sqrt{r},</math> where <math>p, q,</math> and <math>r</math> are positive integers and <math>r</math> is not divisible by the square of any prime, find <math>p+q+r.</math>",
    "solution": "[[Image:2006_II_AIME-9.png]]\n\nCall the centers <math>O_1, O_2, O_3</math>, the points of tangency <math>r_1, r_2, s_1, s_2</math> (with <math>r</math> on <math>t_1</math> and <math>s</math> on <math>t_2</math>, and <math>s_2</math> on <math>\\mathcal{C}_2</math>), and the intersection of each common internal tangent to the [[X-axis]] <math>r, s</math>.<!--Not very creative point names ..--> <math>\\triangle O_1r_1r \\sim \\triangle O_2r_2r</math> since both triangles have a [[right angle]] and have vertical angles, and the same goes for <math>\\triangle O_2s_2s \\sim \\triangle O_3s_1s</math>. By [[proportion|proportionality]], we find that <math>O_1r = 4</math>; solving <math>\\triangle O_1r_1r</math> by the [[Pythagorean theorem]] yields <math>r_1r = \\sqrt{15}</math>. On <math>\\mathcal{C}_3</math>, we can do the same thing to get <math>O_3s_1 = 4</math> and <math>s_1s = 4\\sqrt{3}</math>.\n\nThe vertical [[altitude]] of each of <math>\\triangle O_1r_1r</math> and <math>\\triangle O_3s_1s</math> can each by found by the formula <math>c \\cdot h = a \\cdot b</math> (as both products equal twice of the area of the triangle). Thus, the respective heights are <math>\\frac{\\sqrt{15}}{4}</math> and <math>2\\sqrt{3}</math>. The horizontal distance from each altitude to the intersection of the tangent with the x-axis can also be determined by the Pythagorean theorem: <math>\\sqrt{15 - \\frac{15}{16}} = \\frac{15}{4}</math>, and by 30-60-90: <math>6</math>. \n\nFrom this information, the slope of each tangent can be uncovered. The slope of <math>t_1 = \\frac{\\Delta y}{\\Delta x} = \\frac{\\frac{\\sqrt{15}}{4}}{\\frac{15}{4}} = \\frac{1}{\\sqrt{15}}</math>. The slope of <math>t_2 = -\\frac{2\\sqrt{3}}{6} = -\\frac{1}{\\sqrt{3}}</math>.\n\nThe equation of <math>t_1</math> can be found by substituting the point <math>r (4,0)</math> into <math>y = \\frac{1}{\\sqrt{15}}x + b</math>, so <math>y = \\frac{1}{\\sqrt{15}}x - \\frac{4}{\\sqrt{15}}</math>. The equation of <math>t_2</math>, found by substituting point <math>s (16,0)</math>, is <math>y = \\frac{-1}{\\sqrt{3}}x + \\frac{16}{\\sqrt{3}}</math>. Putting these two equations together results in the desired <math>\\frac{1}{\\sqrt{15}}x - \\frac{4}{\\sqrt{15}} = -\\frac{1}{\\sqrt{3}}x + \\frac{16}{\\sqrt{3}} </math> <math>\\Longrightarrow x = \\frac{16\\sqrt{5} + 4}{\\sqrt{5} + 1} \\cdot \\frac{\\sqrt{5}-1}{\\sqrt{5}-1}</math> <math>= \\frac{76 - 12\\sqrt{5}}{4}</math> <math>= 19 - 3\\sqrt{5}</math>. Thus, <math>p + q + r = 19 + 3 + 5 \\Longrightarrow \\boxed{027}</math>."
  },
  {
    "year": 2006,
    "variant": "II",
    "problem_number": 10,
    "latex": "Seven teams play a soccer tournament in which each team plays every other team exactly once. No ties occur, each team has a <math> 50\\% </math> chance of winning each game it plays, and the outcomes of the games are independent. In each game, the winner is awarded a point and the loser gets 0 points. The total points are accumulated to decide the ranks of the teams. In the first game of the tournament, team <math> A </math> beats team <math> B. </math> The [[probability]] that team <math> A </math> finishes with more points than team <math> B </math> is <math> m/n, </math> where <math> m </math> and <math> n </math> are relatively prime positive integers. Find <math> m+n. </math>\n\n__TOC__",
    "solution": "=== Solution 1 ===\nThe results of the five remaining games are independent of the first game, so by symmetry, the probability that <math>A</math> scores higher than <math>B</math> in these five games is equal to the probability that <math>B</math> scores higher than <math>A</math>. We let this probability be <math>p</math>; then the probability that <math>A</math> and <math>B</math> end with the same score in these five games is <math>1-2p</math>.\n\nOf these three cases (<math>|A| > |B|, |A| < |B|, |A|=|B|</math>), the last is the easiest to calculate (see solution 2 for a way to directly calculate the other cases). \n\nThere are <math>{5\\choose k}</math> ways to <math>A</math> to have <math>k</math> victories, and <math>{5\\choose k}</math> ways for <math>B</math> to have <math>k</math> victories. Summing for all values of <math>k</math>,\n<center><math>1-2p = \\frac{1}{2^{5} \\times 2^{5}}\\left(\\sum_{k=0}^{5} {5\\choose k}^2\\right) = \\frac{1^2+5^2+10^2+10^2+5^2+1^2}{1024} = \\frac{126}{512}.</math></center>\nThus <math>p = \\frac 12 \\left(1-\\frac{126}{512}\\right) = \\frac{193}{512}</math>. The desired probability is the sum of the cases when <math>|A| \\ge |B|</math>, so the answer is <math>\\frac{126}{512} + \\frac{193}{512} = \\frac{319}{512}</math>, and <math>m+n = \\boxed{831}</math>.\n\n=== Solution 2 ===\nYou can break this into cases based on how many rounds <math>A</math> wins out of the remaining <math>5</math> games.\n\n*If <math>A</math> wins 0 games, then <math>B</math> must win 0 games and the probability of this is <math> \\frac{{5 \\choose 0}}{2^5} \\frac{{5 \\choose 0}}{2^5} = \\frac{1}{1024} </math>.\n\n*If <math>A</math> wins 1 games, then <math>B</math> must win 1 or less games and the probability of this is <math> \\frac{{5 \\choose 1}}{2^5} \\frac{{5 \\choose 0}+{5 \\choose 1}}{2^5} = \\frac{30}{1024} </math>.\n\n*If <math>A</math> wins 2 games, then <math>B</math> must win 2 or less games and the probability of this is <math> \\frac{{5 \\choose 2}}{2^5} \\frac{{5 \\choose 0}+{5 \\choose 1}+{5 \\choose 2}}{2^5} = \\frac{160}{1024} </math>.\n\n*If <math>A</math> wins 3 games, then <math>B</math> must win 3 or less games and the probability of this is <math> \\frac{{5 \\choose 3}}{2^5} \\frac{{5 \\choose 0}+{5 \\choose 1}+{5 \\choose 2}+{5 \\choose 3}}{2^5} = \\frac{260}{1024} </math>.\n\n*If <math>A</math> wins 4 games, then <math>B</math> must win 4 or less games and the probability of this is <math> \\frac{{5 \\choose 4}}{2^5} \\frac{{5 \\choose 0}+{5 \\choose 1}+{5 \\choose 2}+{5 \\choose 3}+{5 \\choose 4}}{2^5} = \\frac{155}{1024} </math>.\n\n*If <math>A</math> wins 5 games, then <math>B</math> must win 5 or less games and the probability of this is <math> \\frac{{5 \\choose 5}}{2^5} \\frac{{5 \\choose 0}+{5 \\choose 1}+{5 \\choose 2}+{5 \\choose 3}+{5 \\choose 4}+{5 \\choose 5}}{2^5} = \\frac{32}{1024} </math>.\n\nSumming these 6 cases, we get <math> \\frac{638}{1024} </math>, which simplifies to <math> \\frac{319}{512} </math>, so our answer is <math>319 + 512 = \\boxed{831}</math>.\n\n===Solution 3===\n\nWe can apply the concept of generating functions here. \n\nThe generating function for <math>B</math> is <math> (1 + 0x^{1}) </math> for the first game where <math>x^{n}</math> is winning n games. Since <math>B</math> lost the first game, the coefficient for <math>x^{1}</math> is 0. The generating function for the next 5 games is <math>(1 + x)^{5}</math>. Thus, the total generating function for number of games he wins is\n\n <math>{(1 + 0x)(1 + x)^{5}} = (1 + 5x^{1} + 10x^{2} + 10x^{3} + 5x^{4} + x^{5})</math>.\n\nThe generating function for <math>A</math> is the same except that it is multiplied by <math>x</math> instead of <math>(1+0x)</math>. \nThus, the generating function for <math>A</math> is \n\n<math>1x + 5x^{2} + 10x^{3} + 10x^{4} + 5x^{5} + x^{6}</math>. \n\nThe probability that <math>B</math> wins 0 games is <math>\\frac{1}{32}</math>. Since the coefficients for all <math>x^{n}</math> where \n\n<math>n \\geq 1</math> sums to 32, the probability that <math>A</math> wins more games is <math>\\frac{32}{32}</math>. \n\nThus, the probability that <math>A</math> has more wins than <math>B</math> is <math>\\frac{1}{32} \\times \\frac{32}{32} + \\frac{5}{32} \\times \\frac{31}{32} + \\frac{10}{32} \\times \\frac{26}{32} + \\frac{10}{32} \\times \\frac{16}{32} + \\frac{5}{32} \\times \\frac{6}{32} +\\frac{1}{32} \\times \\frac{1}{32} = \\frac{638}{1024} = \\frac{319}{512}</math>.\n\nThus, <math>319 + 512 = \\boxed{831} </math>.\n\n=== Solution 4 ===\nAfter the first game, there are <math>10</math> games we care about-- those involving <math>A</math> or <math>B</math>. There are <math>3</math> cases of these <math>10</math> games: <math>A</math> wins more than <math>B</math>, <math>B</math> wins more than <math>A</math>, or <math>A</math> and <math>B</math> win the same number of games. Also, there are <math>2^{10} = 1024</math> total outcomes. By symmetry, the first and second cases are equally likely, and the third case occurs <math>\\binom{5}{0}^2+\\binom{5}{1}^2+\\binom{5}{2}^2+\\binom{5}{3}^2+\\binom{5}{4}^2+\\binom{5}{5}^2 = \\binom{10}{5} = 252</math> times, by [[Combinatorial identity#Another Identity|a special case of Vandermonde's Identity]]. There are therefore <math>\\frac{1024-252}{2} = 386</math> possibilities for each of the other two cases.\n\nIf <math>B</math> has more wins than <math>A</math> in its <math>5</math> remaining games, then <math>A</math> cannot beat <math>B</math> overall. However, if <math>A</math> has more wins or if <math>A</math> and <math>B</math> are tied, <math>A</math> will beat <math>B</math> overall. Therefore, out of the <math>1024</math> possibilites, <math>386+252 = 638</math> ways where <math>A</math> wins, so the desired probability is <math>\\frac{638}{1024} = \\frac{319}{512}</math>, and <math>m+n=\\boxed{831}</math>."
  },
  {
    "year": 2006,
    "variant": "II",
    "problem_number": 11,
    "latex": "A [[sequence]] is defined as follows <math> a_1=a_2=a_3=1, </math> and, for all positive integers <math> n, a_{n+3}=a_{n+2}+a_{n+1}+a_n. </math> Given that <math> a_{28}=6090307, a_{29}=11201821, </math> and <math> a_{30}=20603361, </math> find the [[remainder]] when <math>\\sum^{28}_{k=1} a_k </math> is divided by 1000.",
    "solution": "=== Solution 1 ===\nDefine the sum as <math>s</math>. Since <math>a_n\\ = a_{n + 3} - a_{n + 2} - a_{n + 1} </math>, the sum will be:\n<center><math>s = a_{28} + \\sum^{27}_{k=1} (a_{k+3}-a_{k+2}-a_{k+1}) \\\\\ns = a_{28} + \\left(\\sum^{30}_{k=4} a_{k} - \\sum^{29}_{k=3} a_{k}\\right) - \\left(\\sum^{28}_{k=2} a_{k}\\right)\\\\\ns = a_{28} + (a_{30} - a_{3}) - \\left(\\sum^{28}_{k=2} a_{k}\\right) = a_{28} + a_{30} - a_{3} - (s - a_{1})\\\\\ns = -s + a_{28} + a_{30}\n</math></center>\n\nThus <math>s = \\frac{a_{28} + a_{30}}{2}</math>, and <math>a_{28},\\,a_{30}</math> are both given; the last four digits of their sum is <math>3668</math>, and half of that is <math>1834</math>. Therefore, the answer is <math>\\boxed{834}</math>.‚àí\t\n=== Solution 2 (bash) ===\nSince the problem only asks for the first 28 terms and we only need to calculate mod 1000, we simply bash the first 28 terms:\n\n\n\n<math>\na_{1}\\equiv 1 \\pmod {1000} \\\\\na_{2}\\equiv 1 \\pmod {1000} \\\\\na_{3}\\equiv 1 \\pmod {1000} \\\\\na_{4}\\equiv 3 \\pmod {1000} \\\\\na_{5}\\equiv 5 \\pmod {1000} \\\\\n\\cdots \\\\\na_{25} \\equiv 793 \\pmod {1000} \\\\\na_{26} \\equiv 281 \\pmod {1000} \\\\\na_{27} \\equiv 233 \\pmod {1000} \\\\\na_{28} \\equiv 307 \\pmod {1000}\n</math>\n\nAdding all the residues shows the sum is congruent to <math>\\boxed{834}</math> mod <math>1000</math>.\n\n~ I-_-I\n\n=== Solution 3 (some guessing involved)/\"Engineer's Induction\" ===\nAll terms in the sequence are sums of previous terms, so the sum of all terms up to a certain point must be some linear combination of the first three terms. Also, we are given <math>a_{28}, a_{29}, </math> and <math>a_{30}</math>, so we can guess that there is some way to use them in a formula. Namely, we guess that there exists some <math>p, q, r</math> such that <math>\\sum_{k=1}^{n}{a_k} = pa_n+qa_{n+1}+ra_{n+2}</math>. From here, we list out the first few terms of the sequence and the cumulative sums, and with a little bit of substitution and algebra we see that <math>(p, q, r) = (\\frac{1}{2}, 0, \\frac{1}{2})</math>, at least for the first few terms. From this, we have that <math>\\sum_{k=1}^{28}{a_k} = \\frac{a_{28}+a_{30}}{2} \\equiv{\\boxed{834}}\\pmod {1000}</math>.\n\nSolution by zeroman; clarified by srisainandan6"
  },
  {
    "year": 2006,
    "variant": "II",
    "problem_number": 12,
    "latex": "[[Equilateral triangle | Equilateral]] <math> \\triangle ABC </math> is inscribed in a [[circle]] of [[radius]] <math>2</math>. Extend <math> \\overline{AB} </math> through <math> B </math> to point <math> D </math> so that <math> AD=13, </math> and extend <math> \\overline{AC} </math> through <math> C </math> to point <math> E </math> so that <math> AE = 11. </math> Through <math> D, </math> draw a line <math> l_1 </math> [[parallel]] to <math> \\overline{AE}, </math> and through <math> E, </math> draw a line <math> l_2 </math> parallel to <math> \\overline{AD}. </math> Let <math> F </math> be the intersection of <math> l_1 </math> and <math> l_2. </math> Let <math> G </math> be the point on the circle that is [[collinear]] with <math> A </math> and <math> F </math> and distinct from <math> A. </math> Given that the area of <math> \\triangle CBG </math> can be expressed in the form <math> \\frac{p\\sqrt{q}}{r}, </math>  where <math> p, q, </math> and <math> r </math> are positive integers, <math> p </math> and <math> r</math>  are [[relatively prime]], and <math> q </math> is not [[divisibility | divisible]] by the [[perfect square | square]] of any prime, find <math> p+q+r. </math>",
    "solution": "<center><asy>\nsize(250); pointpen = black; pathpen = black + linewidth(0.65); pen s = fontsize(8);\npair A=(0,0),B=(-3^.5,-3),C=(3^.5,-3),D=13*expi(-2*pi/3),E1=11*expi(-pi/3),F=E1+D;\npath O = CP((0,-2),A); pair G = OP(A--F,O);\nD(MP(\"A\",A,N,s)--MP(\"B\",B,W,s)--MP(\"C\",C,E,s)--cycle);D(O);\nD(B--MP(\"D\",D,W,s)--MP(\"F\",F,s)--MP(\"E\",E1,E,s)--C);\nD(A--F);D(B--MP(\"G\",G,SW,s)--C);\nMP(\"11\",(A+E1)/2,NE);MP(\"13\",(A+D)/2,NW);MP(\"l_1\",(D+F)/2,SW);MP(\"l_2\",(E1+F)/2,SE);\n</asy></center><!-- Asymptote replacement for Image:Aime2006-2-11.JPG]]-->\nNotice that <math>\\angle{E} = \\angle{BGC} = 120^\\circ</math> because <math>\\angle{A} = 60^\\circ</math>. Also, <math>\\angle{GBC} = \\angle{GAC} = \\angle{FAE}</math> because they both correspond to arc <math>{GC}</math>. So <math>\\Delta{GBC} \\sim \\Delta{EAF}</math>.\n\n<cmath>[EAF] = \\frac12 (AE)(EF)\\sin \\angle AEF  = \\frac12\\cdot11\\cdot13\\cdot\\sin{120^\\circ} = \\frac {143\\sqrt3}4.</cmath>\n\nBecause the ratio of the area of two similar figures is the square of the ratio of the corresponding sides, <math>[GBC] = \\frac {BC^2}{AF^2}\\cdot[EAF] = \\frac {12}{11^2 + 13^2 - 2\\cdot11\\cdot13\\cdot\\cos120^\\circ}\\cdot\\frac {143\\sqrt3}4 = \\frac {429\\sqrt3}{433}</math>. Therefore, the answer is <math>429+433+3=\\boxed{865}</math>."
  },
  {
    "year": 2006,
    "variant": "II",
    "problem_number": 13,
    "latex": "How many integers <math> N </math> less than <math>1000</math> can be written as the sum of <math> j </math> consecutive positive odd integers from exactly 5 values of <math> j\\ge 1 </math>?",
    "solution": "Let the first odd integer be <math>2n+1</math>, <math>n\\geq 0</math>. Then the final odd integer is <math>2n+1 + 2(j-1) = 2(n+j) - 1</math>. The odd integers form an [[arithmetic sequence]] with sum <math>N = j\\left(\\frac{(2n+1) + (2(n+j)-1)}{2}\\right) = j(2n+j)</math>. Thus, <math>j</math> is a factor of <math>N</math>.\n\nSince <math>n\\geq 0</math>, it follows that <math>2n+j \\geq j</math> and <math>j\\leq \\sqrt{N}</math>.\n\nSince there are exactly <math>5</math> values of <math>j</math> that satisfy the equation, there must be either <math>9</math> or <math>10</math> factors of <math>N</math>. This means <math>N=p_1^2p_2^2</math> or <math>N=p_1p_2^4</math>. Unfortunately, we cannot simply observe prime factorizations of <math>N</math> because the factor <math>(2n+j)</math> does not cover all integers for any given value of <math>j</math>.\n\nInstead we do some casework:\n\n*If <math>N</math> is odd, then <math>j</math> must also be odd. For every odd value of <math>j</math>, <math>2n+j</math> is also odd, making this case valid for all odd <math>j</math>. Looking at the forms above and the bound of <math>1000</math>, <math>N</math> must be\n<cmath>(3^2\\cdot5^2),\\ (3^2\\cdot7^2),\\ (3^4\\cdot5),\\ (3^4\\cdot7),\\ (3^4\\cdot 11)</cmath>\n:Those give <math>5</math> possibilities for odd <math>N</math>.\n*If <math>N</math> is even, then <math>j</math> must also be even. Substituting <math>j=2k</math>, we get\n<cmath>N = 4k(n+k) \\Longrightarrow \\frac{N}{4} = k(n+k)</cmath>\n\n:Now we can just look at all the [[prime factorization]]s since <math>(n+k)</math> cover the integers for any <math>k</math>. Note that our upper bound is now <math>250</math>:\n\n<cmath>\\frac{N}{4} = (2^2\\cdot3^2),(2^2\\cdot5^2),(2^2\\cdot7^2), (3^2\\cdot5^2), (2^4\\cdot3), (2^4\\cdot5), (2^4\\cdot7), (2^4\\cdot11), (2^4\\cdot13), (3^4\\cdot2)</cmath>\n\n:Those give <math>10</math> possibilities for even <math>N</math>.\n\nThe total number of integers <math>N</math> is <math>5 + 10 = \\boxed{15}</math>."
  },
  {
    "year": 2006,
    "variant": "II",
    "problem_number": 14,
    "latex": "Let <math> S_n </math> be the sum of the [[reciprocal]]s of the non-zero digits of the integers from <math>1</math> to <math> 10^n </math> inclusive. Find the smallest positive integer <math>n</math> for which <math> S_n </math> is an integer.",
    "solution": "Let <math>K = \\sum_{i=1}^{9}{\\frac{1}{i}}</math>.  Examining the terms in <math>S_1</math>, we see that <math>S_1 = K + 1</math> since each digit <math>n</math> appears once and 1 appears an extra time.  Now consider writing out <math>S_2</math>.  Each term of <math>K</math> will appear 10 times in the units place and 10 times in the tens place (plus one extra 1 will appear), so <math>S_2 = 20K + 1</math>.\n\nIn general, we will have that\n<center><math>S_n = (n10^{n-1})K + 1</math></center>\n\nbecause each digit will appear <math>10^{n - 1}</math> times in each place in the numbers <math>1, 2, \\ldots, 10^{n} - 1</math>, and there are <math>n</math> total places.  \n\nThe denominator of <math>K</math> is <math>D = 2^3\\cdot 3^2\\cdot 5\\cdot 7</math>.  For <math>S_n</math> to be an integer, <math>n10^{n-1}</math> must be divisible by <math>D</math>.  Since <math>10^{n-1}</math> only contains the factors <math>2</math> and <math>5</math> (but will contain enough of them when <math>n \\geq 3</math>), we must choose <math>n</math> to be [[divisible]] by <math>3^2\\cdot 7</math>.  Since we're looking for the smallest such <math>n</math>, the answer is <math>\\boxed{063}</math>."
  },
  {
    "year": 2006,
    "variant": "II",
    "problem_number": 15,
    "latex": "Given that <math> x, y, </math> and <math>z</math> are real numbers that satisfy:\n<cmath>\\begin{align*}\nx &= \\sqrt{y^2-\\frac{1}{16}}+\\sqrt{z^2-\\frac{1}{16}}, \\\\\ny &= \\sqrt{z^2-\\frac{1}{25}}+\\sqrt{x^2-\\frac{1}{25}}, \\\\\nz &= \\sqrt{x^2 - \\frac 1{36}}+\\sqrt{y^2-\\frac 1{36}},\n\\end{align*}</cmath>\nand that <math> x+y+z = \\frac{m}{\\sqrt{n}}, </math> where <math> m </math> and <math> n </math> are positive integers and <math> n </math> is not divisible by the square of any prime, find <math> m+n.</math>",
    "solution": "Let <math>\\triangle XYZ</math> be a triangle with sides of length <math>x, y</math> and <math>z</math>, and suppose this triangle is acute (so all [[altitude]]s are in the interior of the triangle).\n\n\nLet the altitude to the side of length <math>x</math> be of length <math>h_x</math>, and similarly for <math>y</math> and <math>z</math>. Then we have by two applications of the [[Pythagorean Theorem]] we that <cmath>x = \\sqrt{y^2 - h_x^2} + \\sqrt{z^2 - h_x^2}</cmath> \nAs a [[function]] of <math>h_x</math>, the [[RHS]] of this equation is strictly decreasing, so it takes each value in its [[range]] exactly once.  Thus we must have that <math>h_x^2 = \\frac1{16}</math> and so <math>h_x = \\frac{1}4</math> and similarly <math>h_y = \\frac15</math> and <math>h_z = \\frac16</math>.\n\n\nThe area of the triangle must be the same no matter how we measure it; therefore <math>x\\cdot h_x = y\\cdot h_y = z \\cdot h_z</math> gives us <math>\\frac x4 = \\frac y5 = \\frac z6 = 2A</math> and <math>x = 8A, y = 10A</math> and <math>z = 12A</math>.  \n\n\nThe [[semiperimeter]] of the triangle is <math>s = \\frac{8A + 10A + 12A}{2} = 15A</math> so by [[Heron's formula]] we have <cmath>A = \\sqrt{15A \\cdot 7A \\cdot 5A \\cdot 3A} = 15A^2\\sqrt{7}</cmath>  \n\nThus, <math>A = \\frac{1}{15\\sqrt{7}}</math> and <math>x + y + z = 30A = \\frac2{\\sqrt{7}}</math> and the answer is <math>2 + 7 = \\boxed{009}</math>.\n-------------------------------------\nThe justification that there is an acute triangle with sides of length <math>x, y</math> and <math>z</math>:\n\nNote that <math>x, y</math> and <math>z</math> are each the sum of two positive [[square root]]s of real numbers, so <math>x, y, z \\geq 0</math>.  (Recall that, by [[AIME]] [[mathematical convention| convention]], all numbers (including square roots) are taken to be real unless otherwise indicated.)  \n\nAlso, <math>\\sqrt{y^2-\\frac{1}{16}} < \\sqrt{y^2} = y</math>, so we have <math>x < y + z</math>, <math>y < z + x</math> and <math>z < x + y</math>.  But these conditions are exactly those of the [[triangle inequality]], so there does exist such a triangle."
  },
  {
    "year": 2007,
    "variant": "I",
    "problem_number": 1,
    "latex": "How many [[positive]] [[perfect square]]s less than <math>10^6</math> are [[multiple]]s of <math>24</math>?",
    "solution": "The [[prime factorization]] of <math>24</math> is <math>2^3\\cdot3</math>. Thus, each square must have at least <math>3</math> factors of <math>2</math> and <math>1</math> factor of <math>3</math> and its square root must have <math>2</math> factors of <math>2</math> and <math>1</math> factor of <math>3</math>.\nThis means that each square is in the form <math>(12c)^2</math>, where <math>12 c</math> is a positive integer less than <math>\\sqrt{10^6}</math>. There are <math>\\left\\lfloor \\frac{1000}{12}\\right\\rfloor = \\boxed{083}</math> solutions."
  },
  {
    "year": 2007,
    "variant": "I",
    "problem_number": 2,
    "latex": "A 100 foot long moving walkway moves at a constant rate of 6 feet per second.  Al steps onto the start of the walkway and stands.  Bob steps onto the start of the walkway two seconds later and strolls forward along the walkway at a constant rate of 4 feet per second.  Two seconds after that, Cy reaches the start of the walkway and walks briskly forward beside the walkway at a constant rate of 8 feet per second.  At a certain time, one of these three persons is exactly halfway between the other two.  At that time, find the [[distance]] in feet between the start of the walkway and the middle person.",
    "solution": "Clearly we have people ''moving'' at speeds of <math>6,8</math> and <math>10</math> feet/second. Notice that out of the three people, Cy is at the largest disadvantage to begin with and since all speeds are close, it is hardest for him to catch up. Furthermore, Bob is clearly the farthest along. Thus it is reasonable to assume that there is some point when Al is halfway between Cy and Bob. At this time <math>s</math>, we have that\n\n<math>\n\\frac{8(s-4)+10(s-2)}{2}=6s\n</math>\nAfter solving, <math>s=\\frac{26}{3}</math>. At this time, Al has traveled <math>6\\cdot\\frac{26}{3}=52</math> feet.\n\nWe could easily check that Al is in the middle by trying all three possible cases. <math>\\frac{6s + 8(s-4)}{2} = 10(s-2)</math> yields that <math>s = \\frac 43</math>, which can be disregarded since both Bob and Cy hadn't started yet. <math>\\frac{6s + 10(s-2)}{2} = 8(s-4)</math> yields that <math>-10=-32</math>, a contradiction. Thus, the answer is <math>\\boxed{052}</math>."
  },
  {
    "year": 2007,
    "variant": "I",
    "problem_number": 3,
    "latex": "<!-- don't remove the following tag, for PoTW on the Wiki front page--><onlyinclude>The [[complex number]] <math>z</math> is equal to <math>9+bi</math>, where <math>b</math> is a [[positive]] [[real number]] and <math>i^{2}=-1</math>.  Given that the imaginary parts of <math>z^{2}</math> and <math>z^{3}</math> are the same, what is <math>b</math> equal to?<!-- don't remove the following tag, for PoTW on the Wiki front page--></onlyinclude>",
    "solution": "Squaring, we find that <math>(9 + bi)^2 = 81 + 18bi - b^2</math>. Cubing and ignoring the real parts of the result, we find that <math>(81 + 18bi - b^2)(9 + bi) = \\ldots + (9\\cdot 18 + 81)bi - b^3i</math>.\n\nSetting these two equal, we get that <math>18bi = 243bi - b^3i</math>, so <math>b(b^2 - 225) = 0</math> and <math>b = -15, 0, 15</math>. Since <math>b > 0</math>, the solution is <math>\\boxed{015}</math>."
  },
  {
    "year": 2007,
    "variant": "I",
    "problem_number": 4,
    "latex": "Three planets orbit a star circularly in the same plane.  Each moves in the same direction and moves at [[constant]] speed.  Their periods are 60, 84, and 140 years.  The three planets and the star are currently [[collinear]].  What is the fewest number of years from now that they will all be collinear again?",
    "solution": "Denote the planets <math>A, B, C </math> respectively.  Let <math>a(t), b(t), c(t) </math> denote the angle which each of the respective planets makes with its initial position after <math>t </math> years.  These are given by <math> a(t) = \\frac{t \\pi}{30} </math>, <math> b(t) = \\frac{t \\pi}{42} </math>, <math>c(t) = \\frac{t \\pi}{70}</math>.\n\nIn order for the planets and the central star to be collinear, <math>a(t)</math>, <math>b(t) </math>, and <math>c(t) </math> must differ by a multiple of <math>\\pi </math>.  Note that <math> a(t) - b(t) = \\frac{t \\pi}{105}</math> and <math> b(t) - c(t) = \\frac{t \\pi}{105}</math>, so <math> a(t) - c(t) = \\frac{ 2 t \\pi}{105} </math>.  These are simultaneously multiples of <math>\\pi </math> exactly when <math>t </math> is a multiple of <math>105</math>, so the planets and the star will next be collinear in <math>\\boxed{105}</math> years."
  },
  {
    "year": 2007,
    "variant": "I",
    "problem_number": 5,
    "latex": "The formula for converting a Fahrenheit temperature <math>F</math> to the corresponding Celsius temperature <math>C</math> is <math>C = \\frac{5}{9}(F-32).</math>  An integer Fahrenheit temperature is converted to Celsius, rounded to the nearest integer, converted back to Fahrenheit, and again rounded to the nearest [[integer]].\n\nFor how many integer Fahrenheit temperatures between 32 and 1000 inclusive does the original temperature equal the final temperature?",
    "solution": "=== Solution 1 ===\nExamine <math>F - 32</math> modulo 9.\n\n*If <math>F - 32 \\equiv 0 \\pmod{9}</math>, then we can define <math>9x = F - 32</math>. This shows that <math>F = \\left[\\frac{9}{5}\\left[\\frac{5}{9}(F-32)\\right] + 32\\right] \\Longrightarrow F = \\left[\\frac{9}{5}(5x) + 32\\right] \\Longrightarrow F = 9x + 32</math>. This case works.\n* If <math>F - 32 \\equiv 1 \\pmod{9}</math>, then we can define <math>9x + 1 = F - 32</math>. This shows that <math>F = \\left[\\frac{9}{5}\\left[\\frac{5}{9}(F-32)\\right] + 32\\right] \\Longrightarrow F = \\left[\\frac{9}{5}(5x + 1) + 32\\right] \\Longrightarrow</math><math>F = \\left[9x + \\frac{9}{5}+ 32 \\right] \\Longrightarrow F = 9x + 34</math>. So this case doesn't work. \n\nGeneralizing this, we define that <math>9x + k = F - 32</math>. Thus, <math>F = \\left[\\frac{9}{5}\\left[\\frac{5}{9}(9x + k)\\right] + 32\\right] \\Longrightarrow F = \\left[\\frac{9}{5}(5x + \\left[\\frac{5}{9}k\\right]) + 32\\right] \\Longrightarrow F = \\left[\\frac{9}{5} \\left[\\frac{5}{9}k \\right] \\right] + 9x + 32</math>. We need to find all values <math>0 \\le k \\le 8</math> that <math>\\left[ \\frac{9}{5} \\left[ \\frac{5}{9} k \\right] \\right] = k</math>. Testing every value of <math>k</math> shows that <math>k = 0, 2, 4, 5, 7</math>, so <math>5</math> of every <math>9</math> values of <math>k</math> work.\n\nThere are <math>\\lfloor \\frac{1000 - 32}{9} \\rfloor = 107</math> cycles of <math>9</math>, giving <math>5 \\cdot 107 = 535</math> numbers that work. Of the remaining <math>6</math> numbers from <math>995</math> onwards, <math>995,\\ 997,\\ 999,\\ 1000</math> work, giving us <math>535 + 4 = \\boxed{539}</math> as the solution.\n\n=== Solution 2 ===\nNotice that <math>\\left[ \\frac{9}{5} \\left[ \\frac{5}{9} k \\right] \\right] = k</math> holds if <math>k=\\left[ \\frac{9}{5}x\\right]</math> for some integer <math>x</math>.\nThus, after translating from <math>F\\to F-32</math> we want count how many values of <math>x</math> there are such that <math>k=\\left[ \\frac{9}{5}x\\right]</math> is an integer from <math>0</math> to <math>968</math>. This value is computed as <math>\\left[968*\\frac{5}{9}\\right]+1 = \\boxed{539}</math>, adding in the extra solution corresponding to <math>0</math>.\n\n==== Note ====\nProof that <math>\\left[ \\frac{9}{5} \\left[ \\frac{5}{9} k \\right] \\right] = k</math> if <math>k=\\left[ \\frac{9}{5}x\\right]</math> for some integer <math>x</math>:\n\nFirst assume that <math>k</math> cannot be written in the form <math>k=\\left[ \\frac{9}{5}x\\right]</math> for any integer <math>x</math>. Let <math>z = \\left[ \\frac{5}{9}k\\right]</math>. Our equation simplifies to <math>k = \\left[ \\frac{9}{5}z\\right]</math>. However, this equation is not possible, as we defined <math>k</math> such that it could not be written in this form. Therefore, if <math>k \\neq \\left[ \\frac{9}{5}x\\right]</math>, then <math>\\left[ \\frac{9}{5} \\left[ \\frac{5}{9} k \\right] \\right] \\neq k</math>.\n\nNow we will prove that if <math>k = \\left[ \\frac{9}{5}x\\right]</math>, <math>\\left[ \\frac{9}{5} \\left[ \\frac{5}{9} k \\right] \\right] = k</math>. We realize that because of the 5 in the denominator of <math>\\left[ \\frac{9}{5}x \\right]</math>, <math>\\left[ \\frac{9}{5}x \\right]</math> will be at most <math>\\frac{2}{5}</math> away from <math>\\frac{9}{5}x</math>. Let <math>z = \\left[ \\frac{9}{5}x \\right]- \\frac{9}{5}x</math>, meaning that <math>-\\frac{2}{5} \\leq z \\leq \\frac{2}{5}</math>. Now we substitute this into our equation:\n\n<cmath>\\left[ \\frac{9}{5} \\left[ \\frac{5}{9} k \\right] \\right] = \\left[ \\frac{9}{5} \\left[ \\frac{5}{9} \\left[ \\frac{9}{5}x\\right] \\right] \\right] = \\left[ \\frac{9}{5} \\left[ \\frac{5}{9} (\\frac{9}{5}x + z) \\right] \\right] = \\left[ \\frac{9}{5} \\left[ \\frac{5}{9} (\\frac{9}{5}x + z) \\right] \\right] = \\left[ \\frac{9}{5} \\left[ x+ \\frac{5}{9}z \\right] \\right]</cmath>.\n\nNow we use the fact that <math>-\\frac{2}{5} \\leq z \\leq \\frac{2}{5}</math>\n\n<cmath>\\left[ \\frac{9}{5} \\left[ x - \\frac{5}{9}(\\frac{2}{5}) \\right] \\right] \\leq \\left[ \\frac{9}{5} \\left[ x + \\frac{5}{9}(z) \\right] \\right] \\leq \\left[ \\frac{9}{5} \\left[ x + \\frac{5}{9}(\\frac{2}{5}) \\right] \\right]</cmath>\n\n<cmath>\\left[ \\frac{9}{5} x \\right] \\leq \\left[ \\frac{9}{5} \\left[ x + \\frac{5}{9}(z) \\right] \\right] = \\left[ \\frac{9}{5} \\left[ \\frac{5}{9}k \\right] \\right] \\leq \\left[ \\frac{9}{5}x \\right]</cmath>\n\nHence <math>\\left[ \\frac{9}{5} \\left[ \\frac{5}{9}k \\right] \\right] = \\left[ \\frac{9}{5}x \\right] = k</math> and we are done.\n\n- mako17\n\n=== Solution 3 ===\nLet <math>c</math> be a degree Celsius, and <math>f=\\frac 95c+32</math> rounded to the nearest integer. Since <math>f</math> was rounded to the nearest integer we have <math>|f-((\\frac 95)c+32)|\\leq 1/2</math>, which is equivalent to <math>|(\\frac 59)(f-32)-c|\\leq \\frac 5{18}</math> if we multiply by <math>5/9</math>. Therefore, it must round to <math>c</math> because <math>\\frac 5{18}<\\frac 12</math> so <math>c</math> is the closest integer. Therefore there is one solution per degree Celsius in the range from <math>0</math> to <math>(\\frac 59)(1000-32) + 1=(\\frac 59)(968) + 1=538.8</math>, meaning there are <math>539</math> solutions.\n\n=== Solution 4 ===\nStart listing out values for <math>F</math> and their corresponding values of <math>C</math>. You will soon find that every 9 values starting from <math>F</math> = 32, there is a pattern:\n\n<math>F=32</math>: Works\n\n<math>F=33</math>: Doesn't work\n\n<math>F=34</math>: work\n\n<math>F=35</math>: Doesn‚Äôt work\n\n<math>F=36</math>: Works\n\n<math>F=37</math>: Works\n\n<math>F=38</math>: Doesn‚Äôt work\n\n<math>F=39</math>: Works\n\n<math>F=40</math>: Doesn‚Äôt work\n\n<math>F=41</math>: Works\n\nThere are <math>969</math> numbers between <math>32</math> and <math>1000</math>, inclusive. This is <math>107</math> sets of <math>9</math>, plus <math>6</math> extra numbers at the end. In each set of <math>9</math>, there are <math>5</math> ‚ÄúWorks,‚Äù so we have <math>107\\cdot5 = 535</math> values of <math>F</math> that work.\n\nNow we must add the <math>6</math> extra numbers. The number of ‚ÄúWorks‚Äù in the first <math>6</math> terms of the pattern is <math>4</math>, so our final answer is <math>535 + 4 = 539</math> solutions that work.\n\nSubmitted by warriorcats\n\n=== Solution 5(similar to solution 3 but faster solution if you have no time) ===\nNotice that every <math>C</math> value corresponds to exactly one <math>F</math> value but multiple <math>F</math> values can correspond to a <math>C</math> value. Thus, the smallest <math>C</math> value is <math>0</math> and the largest <math>C</math> value is <math>538</math> yielding <math>\\boxed{539}</math> solutions.\n\n-alanisawesome2018"
  },
  {
    "year": 2007,
    "variant": "I",
    "problem_number": 6,
    "latex": "A frog is placed at the [[origin]] on the [[number line]], and moves according to the following rule: in a given move, the frog advances to either the closest [[point]] with a greater [[integer]] [[coordinate]] that is a multiple of 3, or to the closest point with a greater integer coordinate that is a multiple of 13. A ''move sequence'' is a [[sequence]] of coordinates that correspond to valid moves, beginning with 0 and ending with 39. For example, <math>0,\\ 3,\\ 6,\\ 13,\\ 15,\\ 26,\\ 39</math> is a move sequence. How many move sequences are possible for the frog?",
    "solution": "=== Solution 1 ===\nLet us keep a careful tree of the possible number of paths around every multiple of <math>13</math>.\n\nFrom <math>0 \\Rightarrow 13</math>, we can end at either <math>12</math> (mult. of 3) or <math>13</math> (mult. of 13). \n\n*Only <math>1</math> path leads to <math>12</math>\n**Continuing from <math>12</math>, there is <math>1 \\cdot 1 = 1</math> way to continue to <math>24</math>\n**There are <math>1 \\cdot \\left(\\frac{24-15}{3} + 1\\right) = 4</math> ways to reach <math>26</math>.\n*There are <math>\\frac{12 - 0}{3} + 1 = 5</math> ways to reach <math>13</math>. \n** Continuing from <math>13</math>, there are <math>5 \\cdot 1 = 5</math> ways to get to <math>24</math>\n**There are <math>5 \\cdot \\left(\\frac{24-15}{3} + 1 + 1\\right) = 25</math> ways (the first 1 to make it inclusive, the second to also jump from <math>13 \\Rightarrow 26</math>) to get to <math>26</math>. \n\nRegrouping, work from <math>24 | 26\\Rightarrow 39</math>\n*There are <math>1 + 5 = 6</math> ways to get to <math>24</math> \n** Continuing from <math>24</math>, there are <math>6 \\cdot \\left(\\frac{39 - 27}{3}\\right) = 24</math> ways to continue to <math>39</math>.\n*There are <math>4 + 25 = 29</math> ways to reach <math>26</math>. \n** Continuing from <math>26</math>, there are <math>29 \\cdot \\left(\\frac{39-27}{3} + 1\\right) = 145</math> (note that the 1 is not to inclusive, but to count <math>26 \\Rightarrow 39</math>). \n\nIn total, we get <math>145 + 24 = 169</math>.\n\n<br>\n\nIn summary, we can draw the following tree, where in <math>(x,y)</math>, <math>x</math> represents the current position on the number line, and <math>y</math> represents the number of paths to get there:\n\n{| class=\"wikitable\"\n|-\n| width=\"50%\" |\n*<math>(12,1)</math>\n**<math>(24,1)</math>\n***<math>(39,4)</math>\n**<math>(26,4)</math>\n***<math>(39,20)</math>\n|\n*<math>(13,5)</math>\n**<math>(24,5)</math>\n***<math>(39,20)</math>\n**<math>(26,25)</math>\n***<math>(39,125)</math>\n|}\n\nAgain, this totals <math>4 + 20 + 20 + 125 = 169</math>.\n\n=== Solution 2 === \nWe divide it into 3 stages. The first occurs before the frog moves past 13. The second occurs before it moves past 26, and the last is everything else.\n\nFor the first stage the possible paths are <math>(0,13)</math>, <math>(0,3,13)</math>, <math>(0,3,6,13)</math>, <math>(0,3,6,9,13)</math>, <math>(0,3,6,9,12,13)</math>, and <math>(0,3,6,9,12)</math>. That is a total of 6.\n\nFor the second stage the possible paths are <math>(26)</math>, <math>(15,26)</math>, <math>(15,18,26)</math>, <math>(15,18,21,26)</math>, <math>(15,18,21,24,26)</math>, and <math>(15,18,21,24)</math>. That is a total of 6.\n\nFor the third stage the possible paths are <math>(39)</math>, <math>(27,39)</math>, <math>(27,30,39)</math>, <math>(27,30,33,39)</math>, and <math>(27,30,33,36,39)</math>. That is a total of 5.\n\nHowever, we cannot jump from <math>12 \\Rightarrow 26</math> (this eliminates 5 paths) or <math>24 \\Rightarrow 39</math> (this eliminates 6 paths), so we must subtract <math>6 + 5 = 11</math>.\n\nThe answer is <math>6*6*5 - 11=169</math>\n\n=== Solution 3 ===\n\nAnother way would be to use a table representing the number of ways to reach a certain number\n\n<math>\\begin{tabular}{c|c|c|c|c|c|c|c|c|c|c|c|c|c|c}\n0 & 3 & 6 & 9 & 12 & 13 & 15 & 18 & 21 & 24 & 26 & 27 & 30 & 33 & 36 \\\\ \n\\hline\n1 & 1 & 1 & 1 & 1 & 5 & 6 & 6 & 6 & 6 & 29 & 35 & 35 & 35 & 35 \\\\\n\\end{tabular}</math>\n\nHow we came with each value is to just add in the number of ways that we can reach that number from previous numbers. For example, for <math>26</math>, we can reach it from <math>13, 15, 18, 21, 24</math>, so we add all those values to get the value for <math>26</math>. For <math>27</math>, it is only reachable from <math>24</math> or <math>26</math>, so we have <math>29 + 6 = 35</math>.\n\nThe answer for <math>39</math> can be computed in a similar way to get <math>35 * 4 + 29 = \\boxed{169}</math>."
  },
  {
    "year": 2007,
    "variant": "I",
    "problem_number": 7,
    "latex": "Let \n<math>N = \\sum_{k = 1}^{1000} k ( \\lceil \\log_{\\sqrt{2}} k \\rceil  - \\lfloor \\log_{\\sqrt{2}} k \\rfloor )</math>\n\nFind the [[remainder]] when <math>N</math> is divided by 1000.  (<math>\\lfloor{k}\\rfloor</math> is the [[floor function|greatest integer]] less than or equal to <math>k</math>, and <math>\\lceil{k}\\rceil</math> is the [[ceiling function|least integer]] greater than or equal to <math>k</math>.)",
    "solution": "The ceiling of a number minus the floor of a number is either equal to zero (if the number is an [[integer]]); otherwise, it is equal to 1. Thus, we need to find when or not <math>\\log_{\\sqrt{2}} k</math> is an integer.\n\nThe change of base formula shows that <math>\\frac{\\log k}{\\log \\sqrt{2}} = \\frac{2 \\log k}{\\log 2}</math>. For the <math>\\log 2</math> term to cancel out, <math>k</math> is a [[exponent|power]] of <math>2</math>. Thus, <math>N</math> is equal to the sum of all the numbers from 1 to 1000, excluding all powers of 2 from <math>2^0 = 1</math> to <math>2^9 = 512</math>. \n\nThe formula for the sum of an [[arithmetic sequence]] and the sum of a [[geometric sequence]] yields that our answer is <math>\\left[\\frac{(1000 + 1)(1000)}{2} - (1 + 2 + 2^2 + \\ldots + 2^9)\\right] \\mod{1000}</math>.\n\nSimplifying, we get\n<math>\\left[1000\\left(\\frac{1000+1}{2}\\right) -1023\\right] \\mod{1000} \\equiv [500-23] \\mod{1000} \\equiv 477 \\mod{1000}.</math> The answer is <math>\\boxed{477}</math>"
  },
  {
    "year": 2007,
    "variant": "I",
    "problem_number": 8,
    "latex": "The [[polynomial]] <math>P(x)</math> is [[cubic polynomial | cubic]].  What is the largest value of <math>k</math> for which the polynomials <math>Q_1(x) = x^2 + (k-29)x - k</math> and <math>Q_2(x) = 2x^2+ (2k-43)x + k</math> are both [[factor]]s of <math>P(x)</math>?",
    "solution": "=== Solution 1 ===\nWe can see that <math>Q_1</math> and <math>Q_2</math> must have a [[root]] in common for them to both be [[factor]]s of the same cubic.\n\nLet this root be <math>a</math>.\n\nWe then know that <math>a</math> is a root of\n<math>\nQ_{2}(x)-2Q_{1}(x) = 2x^{2}+2kx-43x+k-2x^{2}-2kx+58x+2k = 15x+3k = 0\n</math>\n, so <math>x = \\frac{-k}{5}</math>.\n\nWe then know that <math>\\frac{-k}{5}</math> is a root of <math>Q_{1}</math> so we get:\n<math>\n\\frac{k^{2}}{25}+(k-29)\\left(\\frac{-k}{5}\\right)-k = 0 = k^{2}-5(k-29)(k)-25k = k^{2}-5k^{2}+145k-25k\n</math>\nor <math>k^{2}=30k</math>, so <math>k=30</math> is the highest.\n\nWe can trivially check into the original equations to find that <math>k=30</math> produces a root in common, so the answer is <math>\\boxed{030}</math>.\n\n=== Solution 2 ===\nAgain, let the common root be <math>a</math>; let the other two roots be <math>m</math> and <math>n</math>. We can write that <math>(x - a)(x - m) = x^2 + (k - 29)x - k</math> and that <math>2(x - a)(x - n) = 2\\left(x^2 + \\left(k - \\frac{43}{2}\\right)x + \\frac{k}{2}\\right)</math>.\n\nTherefore, we can write four equations (and we have four [[variable]]s), <math>a + m = 29 - k</math>, <math>a + n = \\frac{43}{2} - k</math>, <math>am = -k</math>, and <math>an = \\frac{k}{2}</math>. \n\nThe first two equations show that <math>m - n = 29 - \\frac{43}{2} = \\frac{15}{2}</math>. The last two equations show that <math>\\frac{m}{n} = -2</math>. Solving these show that <math>m = 5</math> and that <math>n = -\\frac{5}{2}</math>. Substituting back into the equations, we eventually find that <math>k = \\boxed{030}</math>.\n\n=== Solution 3 ===\n\nSince <math>Q_1(x)</math> and <math>Q_2(x)</math> are both factors of <math>P(x)</math>, which is cubic, we know the other factors associated with each of <math>Q_1(x)</math> and <math>Q_2(x)</math> must be linear. Let <math>Q_1(x)R(x) = Q_2(x)S(x) = P(x)</math>, where <math>R(x) = ax + b</math> and <math>S(x) = cx + d</math>. Then we have that <math>((x^2 + (k-29)x - k))(ax + b) = ((2x^2+ (2k-43)x + k))(cx + d)</math>. Equating coefficients, we get the following system of equations: \n\n<cmath>\\begin{align} \na = 2c \\\\\nb = -d \\\\\n2c(k - 29) - d = c(2k - 43) + 2d \\\\\n-d(k - 29) - 2ck = d(2k - 43) + ck \n\\end{align}</cmath>\n\nUsing equations <math>(1)</math> and <math>(2)</math> to make substitutions into equation <math>(3)</math>, we see that the <math>k</math>'s drop out and we're left with <math>d = -5c</math>. Substituting this expression for <math>d</math> into equation <math>(4)</math> and solving, we see that <math>k</math> must be <math>\\boxed {030}</math>.  \n\n~ anellipticcurveoverq\n\n=== Solution 4 === \n\nNotice that if the roots of <math>Q_1(x)</math> and <math>Q_2(x)</math> are all distinct, then <math>P(x)</math> would have four distinct roots, which is a contradiction since it's cubic. \n\nThus, <math>Q_1(x)</math> and <math>Q_2(x)</math> must share a root. Let this common value be <math>r.</math> \n\nThus, we see that we have \n<cmath>r^2 + (k - 29)r - k = 0,</cmath>\n<cmath>2r^2 + (2k - 43)r + k = 0.</cmath> Adding the two equations gives us <cmath>3r^2 + (3k - 72)r = 0 \\implies r = 0, 24 - k.</cmath> Now, we have two cases to consider. If <math>r = 0,</math> then we have that <math>Q_1(r) = 0 = r^2 + (k - 29)r - k \\implies k = 0.</math> On the other hand, if <math>r = 24 - k,</math> we see that <cmath>Q_1(r) = 0 = (24 - k)^2 + (k - 29)(24 - k) - k \\implies k = \\boxed{030}.</cmath> This can easily be checked to see that it does indeed work, and we're done! \n\n~Ilikeapos"
  },
  {
    "year": 2007,
    "variant": "I",
    "problem_number": 9,
    "latex": "In [[right triangle]] <math>ABC</math> with [[right angle]] <math>C</math>, <math>CA = 30</math> and <math>CB = 16</math>.  Its legs <math>CA</math> and <math>CB</math> are extended beyond <math>A</math> and <math>B</math>.  [[Point]]s <math>O_1</math> and <math>O_2</math> lie in the exterior of the triangle and are the centers of two [[circle]]s with equal [[radius|radii]].  The circle with center <math>O_1</math> is tangent to the [[hypotenuse]] and to the extension of leg <math>CA</math>, the circle with center <math>O_2</math> is [[tangent]] to the hypotenuse and to the extension of [[leg]] <math>CB</math>, and the circles are externally tangent to each other.  The length of the radius either circle can be expressed as <math>p/q</math>, where <math>p</math> and <math>q</math> are [[relatively prime]] [[positive]] [[integer]]s.  Find <math>p+q</math>.",
    "solution": "=== Solution 1 ===\n[[Image:AIME I 2007-9.png]]\n\nLabel the points as in the diagram above. If we draw <math>\\overline{O_1A}</math> and <math>\\overline{O_2B}</math>, we form two [[right triangle]]s. As <math>\\overline{AF}</math> and <math>\\overline{AD}</math> are both [[tangent]]s to the circle, we see that <math>\\overline{O_1A}</math> is an [[angle bisector]]. Thus, <math>\\triangle AFO_1 \\cong \\triangle ADO_1</math>. Call <math>x = AD = AF</math> and <math>y = EB = BG</math>. We know that <math>x + y + 2r = 34</math>. \n\nIf we call <math>\\angle CAB = \\theta</math>, then <math>\\angle DAO_1 = \\frac{180 - \\theta}{2}</math>. Apply the [[trigonometric identities|tangent half-angle formula]] (<math>\\tan \\frac{\\theta}{2} = \\sqrt{\\frac{1 - \\cos \\theta}{1 + \\cos \\theta}}</math>). We see that <math>\\frac rx = \\tan \\frac{180 - \\theta}{2} = \\sqrt{\\frac{1 - \\cos (180 - \\theta)}{1 + \\cos (180 - \\theta)}}</math><math> = \\sqrt{\\frac{1 + \\cos \\theta}{1 - \\cos \\theta}}</math>. Also, <math>\\cos \\theta = \\frac{30}{34} = \\frac{15}{17}</math>. Thus, <math>\\frac rx = \\sqrt{\\frac{1 + \\frac{15}{17}}{1 - \\frac{15}{17}}}</math>, and <math>x = \\frac{r}{4}</math>. \n\nSimilarly, we find that <math>y = r/\\sqrt{\\frac{1 + \\frac{8}{17}}{1 - \\frac{8}{17}}} = \\frac{3r}{5}</math>.\n\nTherefore, <math>x + y + 2r = \\frac{r}{4} + \\frac{3r}{5} + 2r = \\frac{57r}{20} = 34 \\Longrightarrow r = \\frac{680}{57}</math>, and <math>p + q = 737</math>.\n\n=== Solution 2 ===\nUse a similar solution to the aforementioned solution. Instead, call <math>\\angle CAB = 2\\theta</math>, and then proceed by simplifying through identities. We see that <math>\\frac rx = \\tan \\left(\\frac{180 - 2\\theta}{2}\\right) = \\tan (90 - \\theta)</math>. In terms of <math>r</math>, we find that <math>x = \\frac{r}{\\cot \\theta} = \\frac{r\\sin \\theta}{\\cos \\theta}</math>. Similarly, we find that <math>y = \\frac{r \\sin(45 - \\theta)}{\\cos (45 - \\theta)}</math>. \n\nSubstituting, we find that <math>r\\left(\\frac{\\sin \\theta}{\\cos \\theta} + \\frac{\\sin(45 - \\theta)}{\\cos (45 - \\theta)} + 2\\right) = 34</math>. Under a common denominator, <math>r\\left(\\frac{\\sin \\theta \\cos (45 - \\theta) + \\cos \\theta \\sin (45 - \\theta)}{\\cos \\theta \\cos (45 - \\theta)} + 2\\right) = 34</math>. [[Trigonometric identities]] simplify this to <math>r\\left(\\frac{\\sin\\left((\\theta) + (45 - \\theta)\\right)}{\\frac 12 \\left(\\cos (\\theta + 45 - \\theta) + \\cos (\\theta - 45 + \\theta) \\right)} + 2\\right) = 34</math>. From here, it is possible to simplify:\n:<math>r\\left(\\frac{2 \\sin 45}{\\cos 45 + \\cos 2\\theta \\cos 45 + \\sin 2\\theta \\sin 45} +2\\right) = 34</math>\n:<math>r\\left(\\frac{2}{\\frac{17}{17} + \\frac{8}{17} + \\frac{15}{17}} + 2\\right) = 34</math>\n:<math>r\\left(\\frac{57}{20}\\right) = 34</math>\n\nOur answer is <math>34 \\cdot \\frac{20}{57} = \\frac{680}{57}</math>, and <math>p + q = 737</math>.\n\n=== Solution 3 ===\nLet the point where CB's extension hits the circle be G, and the point where the hypotenuse hits that circle be E. Clearly <math>EB=GB</math>. Let <math>EB=x</math>. Draw the two [[perpendicular]] radii to G and E. Now we have a [[cyclic quadrilateral]]. Let the radius be length <math>r</math>. We see that since the cosine of angle ABC is <math>\\frac{15}{17}</math> the cosine of angle EBG is <math>-\\frac{15}{17}</math>. Since the measure of the angle opposite to EBG is the [[complement]] of this one, its cosine is <math>\\frac{15}{17}</math>. Using the law of cosines, we see that <math>x^{2}+x^{2}+\\frac{30x^{2}}{17}=r^{2}+r^{2}-\\frac{30r^{2}}{17}</math>\nThis tells us that <math>r=4x</math>.\n\nNow look at the other end of the hypotenuse. Call the point where CA hits the circle F and the point where the hypotenuse hits the circle D. Draw the radii to F and D and we have cyclic quadrilaterals once more.\nUsing the law of cosines again, we find that the length of our tangents is <math>2.4x</math>. Note that if we connect the centers of the circles we have a rectangle with sidelengths 8x and 4x. So, <math>8x+2.4x+x=34</math>. Solving we find that <math>4x=\\frac{680}{57}</math> so our answer is 737.\n\n=== Solution 4 ===\n[[Image:AIME I 2007-9b.png|left]]\nBy Pythagoras, <math>AB = 34</math>.  Let <math>I_{C}</math> be the <math>C</math>-excenter of triangle <math>ABC</math>.  Then the <math>C</math>-exradius <math>r_{C}</math> is given by\n<math>r_{C}= \\frac{K}{s-c}= \\frac{240}{40-34}= 40</math>.\n\nThe circle with center <math>O_{1}</math> is tangent to both <math>AB</math> and <math>AC</math>, which means that <math>O_{1}</math> lies on the external angle bisector of <math>\\angle BAC</math>.  Therefore, <math>O_{1}</math> lies on <math>AI_{C}</math>.  Similarly, <math>O_{2}</math> lies on <math>BI_{C}</math>.\n\nLet <math>r</math> be the common radius of the circles with centers <math>O_{1}</math> and <math>O_{2}</math>.  The distances from points <math>O_{1}</math> and <math>O_{2}</math> to <math>AB</math> are both <math>r</math>, so <math>O_{1}O_{2}</math> is parallel to <math>AB</math>, which means that triangles <math>I_{C}AB</math> and <math>I_{C}O_{1}O_{2}</math> are similar.\n\nThe distance from <math>I_{C}</math> to <math>AB</math> is <math>r_{C}= 40</math>, so the distance from <math>I_{C}</math> to <math>O_{1}O_{2}</math> is <math>40-r</math>.  Therefore,\n\n<math>\\frac{40-r}{40}= \\frac{O_{1}O_{2}}{AB}= \\frac{2r}{34}\\quad \\Rightarrow \\quad r = \\frac{680}{57}</math>.\n\nHence, the final answer is <math>680+57 = 737</math>.\n\n=== Solution 5 ===\n[[Image:AIME I 2007-9c.gif|left]]\nStart with a scaled 16-30-34 triangle. [[Inscribe]] a circle.  The height, <math>h,</math> and radius, <math>r,</math> are found via <math>A=\\frac{1}{2}\\times 16s\\times 30s=\\frac{1}{2}\\times 34s\\times h=\\frac{1}{2}\\times rp,</math> where <math>p</math> is the [[perimeter]].\n\nCut the figure through the circle and perpendicular to the hypotenuse.  Slide the two pieces in opposite directions along the hypotenuse until they are one diameter of the circle apart.  Complete the two partial circles.\n\nThe linear dimensions of the new triangle are <math>\\frac{46s}{34s}=\\frac{23}{17}</math> times the size of the original.  The problem's 16-30-34 triangle sits above the circles.  Equate heights and solve for <math>r=6s</math>:\n<div style=\"text-align:center;\">\n<math>\\frac{240s}{17}\\times\\frac{23}{17} =  \\frac{240}{17}+12s</math>\n\n<math>20s\\times 23 =  20\\times 17+s\\times 17\\times 17 </math>\n\n<math>s = \\frac{340}{171}</math>\n\n<math>r = 6s = \\frac{680}{57}</math></div>\n\nThe answer is <math>737</math>.\n\n=== Solution 6 ===\n[[Image:AIME_2007_-9.PNG]]\n\nUsing [[homothety]] in the diagram above, as well as the [[auxiliary]] triangle, leads to the solution.\n\n=== Solution 7 ===\nA different approach is to plot the triangle on the Cartesian Plane with \n<math>C</math> at <math>(0,0)</math>, <math>A</math> at <math>(0,30)</math>, and <math>B</math> at <math>(16,0)</math>. We wish to find the coordinates of <math>O_1</math> and <math>O_2</math> in terms of the radius, which will be expressed as <math>r</math> in the rest of this solution. When we know the coordinates, we will set the distance between the 2 points equal to <math>2r</math>. All points <math>r</math> units away from <math>\\overline{AB}</math> are on the line with slope <math>-\\frac{15}{8}</math>, and y-intercept <math>30+ \\frac{17}{8} r</math>\n\n<math>O_1</math> will have x-coordinate <math>r</math> and likewise <math>O_2</math> will have y-coordinate <math>r</math>\nplugging this into the equation for the line mentioned in the sentence above gives us:\n\n<math>O_1 = \\left(r,\\frac14 r+30\\right)</math> and <math>O_2 = \\left(\\frac35 r+16,r\\right)</math>\n\nBy the distance formula and the fact that the circles and tangent, we have: <math>\\left(16-\\frac25 r\\right)^2 + \\left(30-\\frac34 r\\right)^2 = (2r)^2</math>\n\nwhich simplifies into the quadratic equation: <math>1311 r^2 + 23120 r - 462400 = 0</math>\n\nAnd by the quadratic equation, the solutions are: <math>\\frac{-23120 \\pm 54400}{2622}</math>\nThe solution including the \"<math>-</math>\" is extraneous so we have the radius equal to\n<math>\\frac{31280}{2622}</math>\n\nWhich simplifies to <math>\\frac{680}{57}</math>. The sum of the numerator and the denominator is <math>\\boxed{737}</math>\n\n===Solution 8 (simple algebra)===\nIt is known that <math>O_1O_2</math> is parallel to AB. Thus, extending <math>O_1F</math> and <math>GO_2</math> to intersect at H yields similar triangles <math>O_1O_2H</math> and BAC, so that <math>O_1O_2 = 2r</math>, <math>O_1H = \\frac{16r}{17}</math>, and <math>HO_2 = \\frac{30r}{17}</math>. It should be noted that <math>O_2G = r</math>. Also, FHGC is a rectangle, and so AF = <math>\\frac{47r}{17} - 30</math> and similarly for BG. Because tangents to a circle are equal, the hypotenuse can be expressed in terms of r: <cmath>2r + \\frac{47r}{17} - 30 + \\frac{33r}{17} - 16 = 34</cmath> Thus, r = <math>\\frac{680}{57}</math>, and the answer is <math>\\boxed{737}.</math>\n\n===Note===\nWhen drawing the diagram, it may seem that <math>H</math> lies on circle <math>O_1</math>, but it is actually not: <math>H</math> lies inside of circle <math>O_1</math>. We can see this from the similarity ratios: <math>\\frac{O_1O_2}{BA}=\\frac{HO_1}{CB}=\\frac{HO_2}{CA}</math>. Taking a look at the first equation (<math>\\tfrac{O_1O_2}{BA}=\\tfrac{HO_1}{CB}</math>), <math>\\frac{2r}{34}=\\frac{HO_1}{16}</math> which simplifies to <math>\\frac r{17}=\\frac{HO_1}{16}</math>. Indeed, <math>HO_1</math> does not equal <math>r</math>, instead, <math>HO_1=\\frac{16}{17}r</math>. \n\n~BakedPotato66\n\n===Solution 9===\nLet the radius of the circle be <math>r</math>. It can be seen that <math>\\Delta FHO_{1}</math> and <math>\\Delta O_{2}GJ</math> are similar to <math>\\Delta ACB</math>, and the length of the hypotenuses are <math>\\frac{17}{8}r</math> and <math>\\frac {17}{15}r</math>, respectively. Then, the entire length of <math>HJ</math> is going to be <math>(\\frac{17}{8}+\\frac{17}{15}+2)r = \\frac{631}{120}r</math>. The length of the hypotenuse of <math>\\Delta ACB</math> is 34, so the length of the height to <math>AB</math> is <math>\\frac{16*30}{34} = \\frac{240}{17}</math>. Thus, the height to <math>\\Delta HCJ</math> is going to be <math>\\frac{240}{17} + r</math>. <math>\\Delta HCJ</math> is similar to <math>\\Delta ACB</math> so we have the following: <math>\\frac{\\frac{631}{120}r}{34} = \\frac{\\frac{240}{17} + r}{\\frac{240}{17}}</math>. Cross multiplying and simplifying, we get that <math>r = \\frac{680}{57}</math> so the answer is <math>\\boxed{737}</math>.\n~Leonard_my_dude~"
  },
  {
    "year": 2007,
    "variant": "I",
    "problem_number": 10,
    "latex": "In a 6 x 4 grid (6 rows, 4 columns), 12 of the 24 squares are to be shaded so that there are two shaded squares in each row and three shaded squares in each column.  Let <math>N</math> be the number of shadings with this property.  Find the remainder when <math>N</math> is divided by 1000.\n\n[[Image:AIME I 2007-10.png]]",
    "solution": "=== Solution 1 ===\nConsider the first column.  There are <math>{6\\choose3} = 20</math> ways that the rows could be chosen, but without loss of generality let them be the first three rows.  (Change the order of the rows to make this true.)  We will multiply whatever answer we get by 20 to get our final answer.\n\nNow consider the 3x3 that is next to the 3 boxes we have filled in.  We must put one ball in each row (since there must be 2 balls in each row and we've already put one in each).  We split into three cases:\n\n*All three balls are in the same column.  In this case, there are <math>3</math> choices for which column that is.  From here, the bottom half of the board is fixed.\n\n*Two balls are in one column, and one is in the other.  In this case, there are 3 ways to choose which column gets 2 balls and 2 ways to choose which one gets the other ball.  Then, there are 3 ways to choose which row the lone ball is in.  Now, what happens in the bottom half of the board?  Well, the 3 boxes in the column with no balls in the top half must all be filled in, so there are no choices here.  In the column with two balls already, we can choose any of the 3 boxes for the third ball.  This forces the location for the last two balls.  So we have <math>3 \\cdot 2 \\cdot 3 \\cdot 3 = 54</math>.\n\n*All three balls are in different columns.  Then there are 3 ways to choose which row the ball in column 2 goes and 2 ways to choose where the ball in column 3 goes.  (The location of the ball in column 4 is forced.)  Again, we think about what happens in the bottom half of the board.  There is 1 ball in each of the columns 1, 2, and 3 now, so in the 3x3 where we still have choices, each row and column has one square that is '''not''' filled in. Similar to the upper 3x3, there are 6 ways to do this.  So there are <math>3 \\cdot 2 \\cdot 6 = 36</math> ways. \n\nTherefor there are <math>20(3+54+36) = 1860</math> different shadings, and the solution is <math>\\boxed{860}</math>.\n\n=== Solution 2 ===\n\nWe start by showing that every group of <math>6</math> rows can be grouped into <math>3</math> complementary pairs.\nWe proceed with proof by contradiction. Without loss of generality, assume that the first row has columns <math>1</math> and <math>2</math> shaded. Note how if there is no complement to this, then all the other five rows must have at least one square in the first two columns shaded. That means that in total, the first two rows have <math>2+5=7</math> squares shaded in- that is false since it should only be <math>6</math>.\nThus, there exists another row that is complementary to the first. We remove those two and use a similar argument again to show that every group of <math>6</math> rows can be grouped into <math>3</math> complementary pairs.\n\nNow we proceed with three cases.\n\n*There are <math>\\frac{\\binom42}2=3</math> pairs of complementary pairs. The first case is that the three pairs are all different, meaning that every single possible pair of shaded squares is used once. This gives us <math>6!=720.</math>\n\n*Our second case is that two of the pairs are the same, and the third is different. We have <math>3</math> to choose the pair that shows up twice and <math>2</math> for the other, giving us <math>3\\cdot2\\cdot\\binom62\\binom42\\binom21=6\\cdot15\\cdot6\\cdot2=1080.</math>\n\n*Our final case is that all three pairs are the same. This is just <math>3\\cdot\\binom63=60.</math>\n\nOur answer is thus <math>720+1080+60=1860,</math> leaving us with a final answer of <math>\\boxed{860}.</math>\n\n=== Solution 3 ===\n\nWe draw a [[bijection]] between walking from <math>(0,0,0,0)</math> to <math>(3,3,3,3)</math> as follows: if in the <math>i</math>th row, the <math>j</math>th and <math>k</math>th columns are shaded, then the <math>(2i-1)</math>st step is in the direction corresponding to <math>j</math>, and the <math>(2i)</math>th step is in the direction corresponding to <math>k</math> (<math>j < k</math>) here. We can now use the [[Principle of Inclusion-Exclusion]] based on the stipulation that <math>j\\ne k</math> to solve the problem:\n\n<math>\\frac{1}{2^6}\\left(\\frac{12!}{3!^4}-4\\cdot{6 \\choose 1}\\frac{10!}{3!^3}+4\\cdot 3\\cdot{6 \\choose 2}\\frac{8!}{3!^2}-4\\cdot 3\\cdot 2\\cdot{6 \\choose 3}\\frac{6!}{3!}+4\\cdot 3\\cdot 2\\cdot 1\\cdot {6 \\choose 4}4!\\right) = 1860</math>\n\nSo that the answer is <math>860</math>.\n\n=== Solution 4 ===\nThere are <math>{6\\choose3}</math> to choose the arrangement of the shaded squares in each column. Examine the positioning of the shaded squares in the first two columns:\n\n[[Image:AIME I 2007-10b.PNG|thumbnail|left|200px|One example of each case for the first two columns]]\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n*If column 1 and column 2 do not share any two filled squares on the same row, then there are <math>{6\\choose3}</math> combinations for column 1, and then column 2 is fixed. Now, any row cannot have more than 2 shaded squares, so after we pick three more squares in the third column, the fourth column is also fixed. This gives <math>{6\\choose3}^2 = 400</math> arrangements.\n*If column 1 and column 2 share 1 filled square on the same row (6 places), then they each share 1 filled square on a row (<math>6 - 1 = 5</math> places), share another empty square on a row, and have 2 squares each on different rows. This gives <math>6 \\cdot 5 \\cdot {4\\choose2} = 180</math>. Now, the third and fourths columns must also share a fixed shared shaded square in the row in which the first two columns both had spaces, and another fixed empty square. The remaining shaded squares can only go in 4 places, so we get <math>{4\\choose2} = 6</math>. We get <math>180 \\cdot 6 = 1080</math>.\n* If column 1 and column 2 share 2 filled squares on the same row (<math>{6\\choose2} = 15</math> places), they must also share 2 empty squares on the same row (<math>{4\\choose2} = 6</math>). The last two squares can be arranged in <math>{2\\choose1} = 2</math> positions; this totals to <math>15 \\cdot 6 \\cdot 2 = 180</math>. Now, the third and fourth columns have a fixed 2 filled squares in common rows and 2 empty squares in common rows. The remaining 2 squares have <math>{2\\choose1} = 2</math> places, giving <math>180 \\cdot 2 = 360</math>.\n* If column 1 and column 2 share 3 filled squares on the same row (<math>{6\\choose3} = 20</math> places), then the squares on columns 3 and 4 are fixed.\n\nThus, there are <math>400 + 1080 + 360 + 20 = 1860</math> number of shadings, so the answer is <math>860</math>.\n\n=== Solution 5 ===\n\nConsider all possible shadings for a single row. There are <math>{4 \\choose 2}=6</math> ways to do so, and denote these as <math>a=1+2</math>, <math>b=3+4</math>, <math>c=1+4</math>, <math>d=2+3</math>, <math>e=1+3</math>, and <math>f=2+4</math> where <math>x+y</math> indicates that columns <math>x</math> and <math>y</math> are shaded. From our condition on the columns, we have <math>a+c+e=a+d+f=b+d+e=b+c+f=3</math> Summing the first two and the last two equations, we have <math>2a+c+d+e+f=6=2b+c+d+e+f</math>, from which we have <math>a=b</math>. Likewise, <math>c=d</math> and <math>e=f</math> since these pairs shade in complimentary columns. So the six rows are paired up into a row and its compliment. In all, we can have 3 a's and 3 b's and similar setups for <math>c</math>/<math>d</math> and <math>e</math>/<math>f</math>, 2 a's, 2 b's, 1 c and 1 d and similar setups for all six arrangements, or one of each. This first case gives <math>3{6 \\choose 3}=60</math> solutions; the second gives <math>6\\cdot 6\\cdot5\\cdot{4 \\choose 2}=1080</math> solutions, and the final case gives <math>6!=720</math> solutions. In all, we have 1860 solutions, for an answer of <math>860</math>.\n\n=== Solution 6 ===\n\nEach shading can be brought, via row swapping operations, to a state with a <math>3\\times2</math> shaded <math>L</math> in the lower left hand corner. The number of such arrangements multiplied by <math>{5 \\choose 2}{3\\choose 2}</math> will be the total. Consider rows 2 and 3 up from the bottom: they each have one of their allotted two squares shaded. Depending how the remaining three shades are distributed, the column totals of columns 2,3, and 4 from the left can be of the form <math>\\{3,0,0\\},\\{0,1,2\\},\\{1,1,1\\}</math>.\nForm 1: The entire lower left <math>3\\times2</math> rectangle is shaded, forcing the opposite <math>3\\times2</math> rectangle to also be shaded; thus 1 arrangement\nForm 2: There is a column with nothing shaded in the bottom right <math>3\\times2</math>, so it must be completely shaded in the upper right <math>3\\times2</math>. Now consider the upper right half column that will have <math>1</math> shade. There are <math>3</math> ways of choosing this shade, and all else is determined from here; thus 3 arrangements\nForm 3: The upper right <math>3\\times3</math> will have exactly <math>2</math> shades per column and row. This is equivalent to the number of terms in a <math>3\\times3</math> determinant, or <math>6</math> arrangements\n\nOf the <math>3^2</math> ways of choosing to complete the bottom half of the <math>4\\times6</math>, form 1 is achieved in exactly 1 way; form 2 is achieved in <math>3\\times2</math> ways; and form <math>3</math> in the remaining <math>2</math> ways.\nThus, the weighted total is <math>1+6\\times3+2\\times6=31</math>.\nComplete: <math>31\\times60=860\\mod{1000}</math>\n\n===Solution 7===\nNote that if we find a valid shading of the first 3 columns, the shading of the last column is determined. We also note that within the first 3 columns, there will be 3 rows with 1 shaded square and 3 rows with 2 shaded squares.\n\nThere are <math>{6 \\choose 3}</math> ways to choose which rows have 1 shaded square (which we'll call a \"1-row\") within the first 3 columns and which rows have 2 (we'll call these \"2-rows\") within the first 3 columns. Next, we do some casework:\n\n*If all of the shaded squares in the first column are in a 1-row, then the squares in the second and third columns must be in the 2-rows. Thus there is only <math>{3 \\choose 3}{3 \\choose 0} \\times 1= 1</math> valid shading in this case.\n\n*If 2 of the shaded squares in the first column are in a 1-row, and the third shaded square is in a 2-row, then the other shaded square in that 2-row can either be in column 3 or column 4. Once we determine that, the other shaded squares are uniquely determined. Thus, there are <math>{3 \\choose 2}{3 \\choose 1}\\times 2=18</math> valid shadings in this case.\n\n*If 1 shaded square in the first column is in a 1-row, and the other 2 are in 2-rows, then the 2-row without a shaded square in the first column must have shaded squares in both column 2 and column 3. This leaves 4 possible squares in the second column to be shaded (since there can't be another shaded square in the occupied 1-row). Thus, there are <math>{3 \\choose 1}{3 \\choose 2}\\times {4 \\choose 2}=54</math> valid shadings in this case. (We only need to choose 2, since 1 of the shaded squares in the third column must go to the unoccupied 2-row).\n\n*If all of the shaded squares in the first column are in the 3 2-rows, then if we choose any 3 squares in the second column to be shaded, then the third column is uniquely determined to create a valid shading. Thus, there are <math>{3 \\choose 0}{3 \\choose 3}\\times{6 \\choose 3} = 20</math> valid shadings in this case.\n\nIn total, we have <math>{6\\choose3}(1+18+54+20)=20*93=1860</math>. Thus our answer is <math>\\boxed{860}</math>.\n\n===Solution 8===\n\nWe can use generating functions. Suppose that the variables <math>a</math>, <math>b</math>, <math>c</math>, and <math>d</math> represent shading a square that appears in the first, second, third, or fourth columns, respectively. Then if two squares in the row are shaded, then the row is represented by the generating function <math>ab+ac+ad+bc+bd+cd</math>, which we can write as <math>P(a,b,c,d)=(ab+cd)+(a+b)(c+d)</math>. Therefore, <math>P(a,b,c,d)^6</math> represents all of the possible ways to color six rows such that each row has two shaded squares. We only want the possibilities when each column has three shaded squares, or rather, the coefficient of <math>a^3b^3c^3d^3</math> in <math>P(a,b,c,d)^6</math>.\n\nBy the Binomial Theorem,\n<cmath>P(a,b,c,d)^6=\\sum_{k=0}^6 \\binom{6}{k} (ab+cd)^k(a+b)^{6-k}(c+d)^{6-k}.\\tag{1}</cmath>\nIf we expand <math>(ab+cd)^k</math>, then the powers of <math>a</math> and <math>b</math> are always equal. Therefore, to obtain terms of the form <math>a^3b^3c^3d^3</math>, the powers of <math>a</math> and <math>b</math> in <math>(a+b)^{6-k}</math> must be equal. In particular, only the central term in the binomial expansion will contribute, and this implies that <math>k</math> must be even. We can use the same logic for <math>c</math> and <math>d</math>. Therefore, the coefficient of <math>a^3b^3c^3d^3</math> in the following expression is the same as the coefficient of <math>a^3b^3c^3d^3</math> in (1).\n<cmath>\\sum_{k=0}^3 \\binom{6}{2k} (ab+cd)^{2k}(ab)^{3-k}(cd)^{3-k}\\binom{6-2k}{3-k}^2.\\tag{2}</cmath>\nNow we notice that the only way to obtain terms of the form <math>a^3b^3c^3d^3</math> is if we take the central term in the binomial expansion of <math>(ab+cd)^{2k}</math>. Therefore, the terms that contribute to the coefficient of <math>a^3b^3c^3d^3</math> in (2) are\n<cmath>\\sum_{k=0}^3 \\binom{6}{2k}\\binom{2k}{k}\\binom{6-2k}{3-k}^2(abcd)^3.</cmath>\nThis sum is <math>400+1080+360+20=1860</math> so the answer is <math>\\boxed{860}</math>."
  },
  {
    "year": 2007,
    "variant": "I",
    "problem_number": 11,
    "latex": "For each [[positive]] [[integer]] <math>p</math>, let <math>b(p)</math> denote the unique positive integer <math>k</math> such that <math>|k-\\sqrt{p}| < \\frac{1}{2}</math>.  For example, <math>b(6) = 2</math> and <math>b(23) = 5</math>.  If <math>S = \\sum_{p=1}^{2007} b(p),</math> find the [[remainder]] when <math>S</math> is divided by 1000.",
    "solution": "<math>\\left(k- \\frac 12\\right)^2=k^2-k+\\frac 14</math> and <math>\\left(k+ \\frac 12\\right)^2=k^2+k+ \\frac 14</math>. Therefore <math>b(p)=k</math> if and only if <math>p</math> is in this range, or <math>k^2-k<p\\leq k^2+k</math>. There are <math>2k</math> numbers in this range, so the sum of <math>b(p)</math> over this range is <math>(2k)k=2k^2</math>. <math>44<\\sqrt{2007}<45</math>, so all numbers <math>1</math> to <math>44</math> have their full range. Summing this up with the formula for the sum of the first <math>n</math> squares (<math>\\frac{n(n+1)(2n+1)}{6}</math>), we get <math>\\sum_{k=1}^{44}2k^2=2\\frac{44(44+1)(2*44+1)}{6}=58740</math>. We need only consider the <math>740</math> because we are working with modulo <math>1000</math>.\n\nNow consider the range of numbers such that <math>b(p)=45</math>. These numbers are <math>\\left\\lceil\\frac{44^2 + 45^2}{2}\\right\\rceil = 1981</math> to <math>2007</math>. There are <math>2007 - 1981 + 1 = 27</math> (1 to be inclusive) of them. <math>27*45=1215</math>, and <math>215+740=\n\\boxed{955}</math>, the answer."
  },
  {
    "year": 2007,
    "variant": "I",
    "problem_number": 12,
    "latex": "In [[isosceles triangle]] <math>\\triangle ABC</math>, <math>A</math> is located at the [[origin]] and <math>B</math> is located at <math>(20,0)</math>.  Point <math>C</math> is in the first quadrant with <math>AC = BC</math> and angle <math>BAC = 75^{\\circ}</math>.  If triangle <math>ABC</math> is rotated counterclockwise about point <math>A</math> until the image of <math>C</math> lies on the positive <math>y</math>-axis, the area of the region common to the original and the rotated triangle is in the form <math>p\\sqrt{2} + q\\sqrt{3} + r\\sqrt{6} + s</math>, where <math>p,q,r,s</math> are integers.  Find <math>\\frac{p-q+r-s}2</math>.",
    "solution": "<asy>\ndefaultpen(fontsize(12)+0.6); size(300);\nvar theta=15;\npair A=origin, B=(20,0), C=extension(A,dir(75),B/2,bisectorpoint(A,B)), Cp=rotate(theta,A)*C, Bp=rotate(theta,A)*B, X=extension(A,Bp,B,C), Y=extension(B,C,Bp,Cp);\ndraw(A--B--C--A); draw(A--Bp--Cp--A, royalblue);\nmarkscalefactor=0.1;\ndraw(rightanglemark(Y,X,A));\ndot(\"$A$\",A,dir(210)); dot(\"$B$\",B,dir(-20)); dot(\"$C$\",C,up); dot(\"$B'$\",Bp,dir(-10)); dot(\"$C'$\",Cp,dir(100)); \nMA(\"60^\\circ\",Bp,A,C,2); MA(\"15^\\circ\",B,A,Bp,5); MA(\"75^\\circ\",C,B,A,2); MA(\"30^\\circ\",A,C,B,4); MA(\"30^\\circ\",A,Cp,Bp,4); MA(\"45^\\circ\",A,extension(A,C,Bp,Cp),Bp,3); MA(\"15^\\circ\",C,Y,Cp,8);  MA(\"15^\\circ\",C,A,Cp,9); \n</asy>\n\n\n=== Solution 1 ===\nLet the new triangle be <math>\\triangle AB'C'</math> (<math>A</math>, the origin, is a vertex of both triangles). Let <math>\\overline{B'C'}</math> intersect with <math>\\overline{AC}</math> at point <math>D</math>, <math>\\overline{BC}</math> intersect with <math>\\overline{B'C'}</math> at <math>E</math>, and <math>\\overline{BC}</math> intersect with <math>\\overline{AB'}</math> at <math>F</math>. The region common to both triangles is the [[quadrilateral]] <math>ADEF</math>. Notice that <math>[ADEF] = [\\triangle ADB'] - [\\triangle EFB']</math>, where we let <math>[\\ldots]</math> denote area. \n\n<center>To find <math>[\\triangle ADB']</math>:</center>\n\nSince <math>\\angle B'AC'</math> and <math>\\angle BAC</math> both have measures <math>75^{\\circ}</math>, both of their [[complement]]s are <math>15^{\\circ}</math>, and <math>\\angle DAB' = 90 - 2(15) = 60^{\\circ}</math>. We know that <math>\\angle DB'A = 75^{\\circ}</math>, so <math>\\angle ADB' = 180 - 60 - 75 = 45^{\\circ}</math>.\n\nThus <math>\\triangle ADB'</math> is a <math>45 - 60 - 75 \\triangle</math>. It can be solved by drawing an [[altitude]] splitting the <math>75^{\\circ}</math> angle into <math>30^{\\circ}</math> and <math>45^{\\circ}</math> angles, forming a <math>30-60-90</math> [[right triangle]] and a <math>45-45-90</math> isosceles right triangle. Since we know that <math>AB' = 20</math>, the base of the <math>30-60-90</math> triangle is <math>10</math>, the base of the <math>45-45-90</math> is <math>10\\sqrt{3}</math>, and their common height is <math>10\\sqrt{3}</math>. Thus, the total area of <math>[\\triangle ADB'] = \\frac{1}{2}(10\\sqrt{3})(10\\sqrt{3} + 10) = \\boxed{150 + 50\\sqrt{3}}</math>.\n\n<center>To find <math>[\\triangle EFB']</math>:</center>\n\nSince <math>\\triangle AFB</math> is also a <math>15-75-90</math> triangle,\n<center><math>AF = 20\\sin 75 = 20 \\sin (30 + 45) = 20\\left(\\frac{\\sqrt{2} + \\sqrt{6}}4\\right) = 5\\sqrt{2} + 5\\sqrt{6}</math></center>\nand\n<center><math>FB' = AB' - AF = 20 - 5\\sqrt{2} - 5\\sqrt{6}</math></center>\nSince <math>[\\triangle EFB'] = \\frac{1}{2} (FB' \\cdot EF) = \\frac{1}{2} (FB') (FB' \\tan 75^{\\circ})</math>. With some horrendous [[algebra]], we can calculate\n<cmath>\\begin{align*}\n[\\triangle EFB'] &= \\frac{1}{2}\\tan (30 + 45) \\cdot (20 - 5\\sqrt{2} - 5\\sqrt{6})^2 \\\\\n&= 25 \\left(\\frac{\\frac{1}{\\sqrt{3}} + 1}{1 - \\frac{1}{\\sqrt{3}}}\\right) \\left(8 - 2\\sqrt{2} - 2\\sqrt{6} - 2\\sqrt{2} + 1 + \\sqrt{3} - 2\\sqrt{6} + \\sqrt{3} + 3\\right) \\\\\n&= 25(2 + \\sqrt{3})(12 - 4\\sqrt{2} - 4\\sqrt{6} + 2\\sqrt{3}) \\\\\n[\\triangle EFB'] &= \\boxed{- 500\\sqrt{2} + 400\\sqrt{3} - 300\\sqrt{6} +750}.\n\\end{align*}</cmath>\n\nTo finish,\n<cmath>\\begin{align*}\n[ADEF] &= [\\triangle ADB'] - [\\triangle EFB']\\\\\n       &= \\left(150 + 50\\sqrt{3}\\right) - \\left(-500\\sqrt{2} + 400\\sqrt{3} - 300\\sqrt{6} + 750\\right)\\\\\n       &=500\\sqrt{2} - 350\\sqrt{3} + 300\\sqrt{6} - 600\\\\ \\end{align*}</cmath>\nHence, <math>\\frac{p-q+r-s}{2} = \\frac{500 + 350 + 300 + 600}2 = \\frac{1750}2 = \\boxed{\\boxed{875}}</math>.\n\n=== Solution 2 ===\nRedefine the points in the same manner as the last time (<math>\\triangle AB'C'</math>, intersect at <math>D</math>, <math>E</math>, and <math>F</math>). This time, notice that <math>[ADEF] = [\\triangle AB'C'] - ([\\triangle ADC'] + [\\triangle EFB'])</math>.\n\nThe area of <math>[\\triangle AB'C'] = [\\triangle ABC]</math>. The [[altitude]] of <math>\\triangle ABC</math> is clearly <math>10 \\tan 75 = 10 \\tan (30 + 45)</math>. The [https://artofproblemsolving.com/wiki/index.php/Trigonometric_identities#Angle_addition_identities tangent addition rule] yields <math>10(2 + \\sqrt{3})</math> (see above). Thus, <math>[\\triangle ABC] = \\frac{1}{2} 20 \\cdot (20 + 10\\sqrt{3}) = 200 + 100\\sqrt{3}</math>. \n\nThe area of <math>[\\triangle ADC']</math> (with a side on the y-axis) can be found by splitting it into two triangles, <math>30-60-90</math> and <math>15-75-90</math> [[right triangle]]s. <math>AC' = AC = \\frac{10}{\\sin 15}</math>. The [[trigonometric identity|sine subtraction rule]] shows that <math>\\frac{10}{\\sin 15} = \\frac{10}{\\frac{\\sqrt{6} - \\sqrt{2}}4} = \\frac{40}{\\sqrt{6} - \\sqrt{2}} = 10(\\sqrt{6} + \\sqrt{2})</math>. <math>AC'</math>, in terms of the height of <math>\\triangle ADC'</math>, is equal to <math>h(\\sqrt{3} + \\tan 75) = h(\\sqrt{3} + 2 + \\sqrt{3})</math>. \n<cmath>\\begin{align*}\n[ADC'] &= \\frac 12 AC' \\cdot h \\\\\n&= \\frac 12 (10\\sqrt{6} + 10\\sqrt{2})\\left(\\frac{10\\sqrt{6} + 10\\sqrt{2}}{2\\sqrt{3} + 2}\\right) \\\\\n&= \\frac{(800 + 400\\sqrt{3})}{(2 + \\sqrt{3})}\\cdot\\frac{2 - \\sqrt{3}}{2-\\sqrt{3}} \\\\\n&= \\frac{400\\sqrt{3} + 400}8 = 50\\sqrt{3} + 50\n\\end{align*}</cmath>\n\nThe area of <math>[\\triangle EFB']</math> was found in the previous solution to be <math>- 500\\sqrt{2} + 400\\sqrt{3} - 300\\sqrt{6} +750</math>. \n\nTherefore, <math>[ADEF] </math> <math>= (200 + 100\\sqrt{3}) - \\left((50 + 50\\sqrt{3}) + (-500\\sqrt{2} + 400\\sqrt{3} - 300\\sqrt{6} +750)\\right)</math> <math>= 500\\sqrt{2} - 350\\sqrt{3} + 300\\sqrt{6} - 600</math>, and our answer is <math>\\boxed{875}</math>.\n\n=== Solution 3 ===\n[[Image:I-07-12.png|250px|left]] \n\nCall the points of the intersections of the triangles <math>D</math>, <math>E</math>, and <math>F</math> as noted in the diagram (the points are different from those in the diagram for solution 1). <math>\\overline{AD}</math> [[bisect]]s <math>\\angle EDE'</math>.\n\nThrough [https://artofproblemsolving.com/wiki/index.php/Congruent_(geometry)#HL_Congruence HL] congruency, we can find that <math>\\triangle AED</math> is [[congruent]] to <math>\\triangle AE'D</math>. This divides the region <math>AEDF</math> (which we are trying to solve for) into two congruent triangles and an [[isosceles triangle|isosceles]] [[right triangle]].  \n<center><math>AE = 20 \\cos 15 = 20 \\cos (45 - 30) = 20 \\cdot \\frac{\\sqrt{6} + \\sqrt{2}}{4} = 5\\sqrt{6} + 5\\sqrt{2}</math></center>\nSince <math>FE' = AE' = AE</math>, we find that <math>[AE'F] = \\frac 12 (5\\sqrt{6} + 5\\sqrt{2})^2 = 100 + 50\\sqrt{3}</math>.\n\nNow, we need to find <math>[AED] = [AE'D]</math>. The acute angles of the triangles are <math>\\frac{15}{2}</math> and <math>90 - \\frac{15}{2}</math>. By repeated application of the [[trigonometric identity|half-angle formula]], we can find that <math>\\tan \\frac{15}{2} = \\sqrt{2} - \\sqrt{3} + \\sqrt{6} - 2</math>.\n\nThe area of <math>[AED] = \\frac 12 \\left(20 \\cos 15\\right)^2 \\left(\\tan \\frac{15}{2}\\right)</math>. Thus, <math>[AED] + [AE'D] = 2\\left(\\frac 12((5\\sqrt{6} + 5\\sqrt{2})^2 \\cdot (\\sqrt{2} - \\sqrt{3} + \\sqrt{6} - 2))\\right)</math>, which eventually simplifies to <math>500\\sqrt{2} - 350\\sqrt{3} + 300\\sqrt{6} - 600</math>. \n\nAdding them together, we find that the solution is <math>[AEDF] = [AE'F] + [AED] + [AE'D]</math> <math>= 100 + 50\\sqrt{3} + 500\\sqrt{2} - 350\\sqrt{3} + 300\\sqrt{6} - 600=</math> <math>= 500\\sqrt{2} - 350\\sqrt{3} + 300\\sqrt{6} - 600</math>, and the answer is <math>\\boxed{875}</math>.\n\n=== Solution 4 ===\nFrom the given information, calculate the coordinates of all the points (by finding the equations of the lines, equating). Then, use the [[shoelace]] method to calculate the area of the intersection.\n\n*<math>\\overline{AC}</math>: <math>y = (\\tan 75) x = (2 + \\sqrt{3})x</math>\n*<math>\\overline{AB'}</math>: <math>y = (\\tan 15) x = (2 - \\sqrt{3})x</math>\n*<math>\\overline{BC}</math>: It passes thru <math>(20,0)</math>, and has a slope of <math>-\\tan75 = -(2 + \\sqrt{3})</math>. The equation of its line is  <math>y = (2+\\sqrt{3})(20 - x)</math>. \n*<math>\\overline{B'C'}</math>: <math>AC' = AC = \\frac{10}{\\cos 75} = 10\\sqrt{6} + 10\\sqrt{2}</math>, so it passes thru point <math>(0, 10\\sqrt{6} + 10\\sqrt{2})</math>. It has a slope of <math>-\\tan 60 = -\\sqrt{3}</math>. So the equation of its line is <math>y = -\\sqrt{3}x + 10(\\sqrt{6} + \\sqrt{2})</math>.\n\nNow, we can equate the equations to find the intersections of all the points.\n\n*<math>A (0,0)</math>\n\n*<math>D</math> is the intersection of <math>\\overline{BC},\\ \\overline{B'C'}</math>. <math>(2+\\sqrt{3})(20-x) = -\\sqrt{3}x + 10(\\sqrt{6} + \\sqrt{2})</math>. Therefore, <math>x = 5(4 + 2\\sqrt{3}-\\sqrt{6}-\\sqrt{2})</math>, <math>y = 5(3\\sqrt{6} + 5\\sqrt{2}-4\\sqrt{3}-6)</math>.\n\n*<math>E</math> is the intersection of <math>\\overline{AB'},\\ \\overline{BC}</math>. <math>(2 - \\sqrt{3})x =(2+\\sqrt{3})(20-x) </math>. Therefore, <math>x = 5(2+\\sqrt{3})</math>, <math>y = 5</math>.\n\n*<math>F</math> is the intersection of <math>\\overline{AC},\\ \\overline{B'C'}</math>. <math>(2+\\sqrt{3})x = -\\sqrt{3}x + 10(\\sqrt{6} + \\sqrt{2})</math>. Therefore, <math>x = 5\\sqrt{2}</math>, <math>y = 10\\sqrt{2}+ 5\\sqrt{6}</math>.\n\nWe take these points and tie them together by shoelace, and the answer should come out to be <math>\\boxed{875}</math>."
  },
  {
    "year": 2007,
    "variant": "I",
    "problem_number": 13,
    "latex": "A square pyramid with base <math>ABCD</math> and vertex <math>E</math> has eight edges of length <math>4</math>.  A plane passes through the midpoints of <math>AE</math>, <math>BC</math>, and <math>CD</math>.  The plane's intersection with the pyramid has an area that can be expressed as <math>\\sqrt{p}</math>.  Find <math>p</math>.\n\n[[Image:AIME I 2007-13.png]]",
    "solution": "=== Solution 1 ===\nNote first that the intersection is a [[pentagon]].\n\nUse 3D analytical geometry, setting the origin as the center of the square base and the pyramid‚Äôs points oriented as shown above. <math>A(-2,2,0),\\ B(2,2,0),\\ C(2,-2,0),\\ D(-2,-2,0),\\ E(0,0,2\\sqrt{2})</math>. Using the coordinates of the three points of intersection <math>(-1,1,\\sqrt{2}),\\ (2,0,0),\\ (0,-2,0)</math>, it is possible to determine the equation of the plane. The equation of a plane resembles <math>ax + by + cz = d</math>, and using the points we find that <math>2a = d \\Longrightarrow d = \\frac{a}{2}</math>, <math>-2b = d \\Longrightarrow d = \\frac{-b}{2}</math>, and <math>-a + b + \\sqrt{2}c = d \\Longrightarrow -\\frac{d}{2} - \\frac{d}{2} + \\sqrt{2}c = d \\Longrightarrow c = d\\sqrt{2}</math>. It is then <math>x - y + 2\\sqrt{2}z = 2</math>.\n\n<center> \n<asy>import three; \npointpen = black; \npathpen = black+linewidth(0.7); \ncurrentprojection = perspective(2.5,-12,4);\ntriple A=(-2,2,0), B=(2,2,0), C=(2,-2,0), D=(-2,-2,0), E=(0,0,2*2^.5), P=(A+E)/2, Q=(B+C)/2, R=(C+D)/2, Y=(-3/2,-3/2,2^.5/2),X=(3/2,3/2,2^.5/2);\ndraw(A--B--C--D--A--E--B--E--C--E--D); \nlabel(\"A\",A, SE); \nlabel(\"B\",B,(1,0,0)); \nlabel(\"C\",C, SE); \nlabel(\"D\",D, W); \nlabel(\"E\",E,N); \nlabel(\"P\",P, NW); \nlabel(\"Q\",Q,(1,0,0)); \nlabel(\"R\",R, S);  \nlabel(\"Y\",Y,NW);  \nlabel(\"X\",X,NE); \ndraw(P--X--Q--R--Y--cycle,linetype(\"6 6\")+linewidth(0.7)); \n</asy>\n<asy>\npointpen = black; \npathpen = black+linewidth(0.7); \npair P = (0, 2.5^.5), X = (3/2^.5,0), Y = (-3/2^.5,0), Q = (2^.5,-2.5^.5), R = (-2^.5,-2.5^.5); \nD(MP(\"P\",P,N)--MP(\"X\",X,NE)--MP(\"Q\",Q)--MP(\"R\",R)--MP(\"Y\",Y,NW)--cycle); \nD(X--Y,linetype(\"6 6\") + linewidth(0.7)+blue); D(P--(0,-P.y),linetype(\"6 6\") + linewidth(0.7) + red);\nMP(\"\\color{blue}{3\\sqrt{2}}\",(X+Y)/2); \nMP(\"2\\sqrt{2}\",(Q+R)/2); \nMP(\"\\color{red}{\\sqrt{\\frac{5}{2}}}\",(0,-P.y/2),E); \nMP(\"\\color{red}{\\sqrt{\\frac{5}{2}}}\",(0,2*P.y/5),E); \n</asy>\n</center>\n\nWrite the equation of the lines and substitute to find that the other two points of intersection on <math>\\overline{BE}</math>, <math>\\overline{DE}</math> are <math>\\left(\\frac{\\pm 3}{2},\\frac{\\pm 3}{2},\\frac{\\sqrt{2}}{2}\\right)</math>. To find the area of the pentagon, break it up into pieces (an [[isosceles triangle]] on the top, an [[isosceles trapezoid]] on the bottom). Using the [[distance formula]] (<math>\\sqrt{a^2 + b^2 + c^2}</math>), it is possible to find that the area of the triangle is <math>\\frac{1}{2}bh \\Longrightarrow \\frac{1}{2} 3\\sqrt{2} \\cdot \\sqrt{\\frac 52} = \\frac{3\\sqrt{5}}{2}</math>. The trapezoid has area <math>\\frac{1}{2}h(b_1 + b_2) \\Longrightarrow \\frac 12\\sqrt{\\frac 52}\\left(2\\sqrt{2} + 3\\sqrt{2}\\right) = \\frac{5\\sqrt{5}}{2}</math>. In total, the area is <math>4\\sqrt{5} = \\sqrt{80}</math>, and the solution is <math>\\boxed{080}</math>.\n\n=== Solution 2===\nUse the same coordinate system as above, and let the plane determined by <math>\\triangle PQR</math> intersect <math>\\overline{BE}</math> at <math>X</math> and <math>\\overline{DE}</math> at <math>Y</math>. Then the line <math>\\overline{XY}</math> is the intersection of the planes determined by <math>\\triangle PQR</math> and <math>\\triangle BDE</math>.\n\nNote that the plane determined by <math>\\triangle BDE</math> has the equation <math>x=y</math>, and <math>\\overline{PQ}</math> can be described by <math>x=2(1-t)-t,\\ y=t,\\ z=t\\sqrt{2}</math>. It intersects the plane when <math>2(1-t)-t=t</math>, or <math>t=\\frac{1}{2}</math>. This intersection point has <math>z=\\frac{\\sqrt{2}}{2}</math>. Similarly, the intersection between <math>\\overline{PR}</math> and <math>\\triangle BDE</math> has <math>z=\\frac{\\sqrt{2}}{2}</math>. So <math>\\overline{XY}</math> lies on the plane <math>z=\\frac{\\sqrt{2}}{2}</math>, from which we obtain <math>X=\\left( \\frac{3}{2},\\frac{3}{2},\\frac{\\sqrt{2}}{2}\\right)</math> and <math>Y=\\left( -\\frac{3}{2},-\\frac{3}{2},\\frac{\\sqrt{2}}{2}\\right)</math>. The area of the pentagon <math>EXQRY</math> can be computed in the same way as above.\n\n=== Solution 3 ===\n<center> \n<asy>import three; \nimport math;\npointpen = black; \npathpen = black+linewidth(0.7); \ncurrentprojection = perspective(2.5,-12,4);\ntriple A=(-2,2,0), B=(2,2,0), C=(2,-2,0), D=(-2,-2,0), E=(0,0,2*2^.5), P=(A+E)/2, Q=(B+C)/2, R=(C+D)/2, Y=(-3/2,-3/2,2^.5/2),X=(3/2,3/2,2^.5/2), H=(4,2,0), I=(-2,-4,0);\ndraw(A--B--C--D--A--E--B--E--C--E--D); \ndraw(B--H--Q, linetype(\"6 6\")+linewidth(0.7)+blue);\ndraw(X--H, linetype(\"6 6\")+linewidth(0.7)+blue);\ndraw(D--I--R, linetype(\"6 6\")+linewidth(0.7)+blue);\ndraw(Y--I, linetype(\"6 6\")+linewidth(0.7)+blue);\nlabel(\"A\",A, SE); \nlabel(\"B\",B,NE); \nlabel(\"C\",C, SE); \nlabel(\"D\",D, W); \nlabel(\"E\",E,N); \nlabel(\"P\",P, NW); \nlabel(\"Q\",Q,(1,0,0)); \nlabel(\"R\",R, S);  \nlabel(\"Y\",Y,NW);  \nlabel(\"X\",X,NE); \nlabel(\"H\",H,NE);\nlabel(\"I\",I,S);\ndraw(P--X--Q--R--Y--cycle,linetype(\"6 6\")+linewidth(0.7)); \n</asy>\n</center> \nExtend <math>\\overline{RQ}</math> and <math>\\overline{AB}</math>. The point of intersection is <math>H</math>. Connect <math>\\overline{PH}</math>. <math>\\overline{EB}</math> intersects <math>\\overline{PH}</math> at <math>X</math>. Do the same for <math>\\overline{QR}</math> and <math>\\overline{AD}</math>, and let the intersections be <math>I</math> and <math>Y</math>\n\nBecause <math>Q</math> is the midpoint of <math>\\overline{BC}</math>, and <math>\\overline{AB}\\parallel\\overline{DC}</math>, so <math>\\triangle{RQC}\\cong\\triangle{HQB}</math>. <math>\\overline{BH}=2</math>. \n\nBecause <math>\\overline{BH}=2</math>, we can use mass point geometry to get that <math>\\overline{PX}=\\overline{XH}</math>. <math>|\\triangle{XHQ}|=\\frac{\\overline{XH}}{\\overline{PH}}\\cdot\\frac{\\overline{QH}}{\\overline{HI}}\\cdot|\\triangle{PHI}|=\\frac{1}{6}\\cdot|\\triangle{PHI}|</math> \n\nUsing the same principle, we can get that <math>|\\triangle{IYR}|=\\frac{1}{6}|\\triangle{PHI}|</math>\n\nTherefore, the area of <math>PYRQX</math> is <math>\\frac{2}{3}\\cdot|\\triangle{PHI}|</math>\n\n<math>\\overline{RQ}=2\\sqrt{2}</math>, so <math>\\overline{IH}=6\\sqrt{2}</math>. Using the law of cosines, <math>\\overline{PH}=\\sqrt{28}</math>. The area of <math>\\triangle{PHI}=\\frac{1}{2}\\cdot\\sqrt{28-18}\\cdot6\\sqrt{2}=6\\sqrt{5}</math>\n\nUsing this, we can get the area of <math>PYRQX = \\sqrt{80}</math> so the answer is <math>\\fbox{080}</math>."
  },
  {
    "year": 2007,
    "variant": "I",
    "problem_number": 14,
    "latex": "A [[sequence]] is defined over [[non-negative]] integral indexes in the following way: <math>a_{0}=a_{1}=3</math>, <math>a_{n+1}a_{n-1}=a_{n}^{2}+2007</math>.\n\nFind the [[floor function|greatest integer]] that does not exceed <math>\\frac{a_{2006}^{2}+a_{2007}^{2}}{a_{2006}a_{2007}}.</math>",
    "solution": "=== Solution 1 ===\nDefine a function <math>f(n)</math> on the non-negative integers, as <cmath>f(n) = \\frac{a_n^2 + a_{n+1}^2}{a_na_{n+1}} = \\frac{a_n}{a_{n+1}}+\\frac{a_{n+1}}{a_{n}}</cmath>\nWe want <math>\\left\\lfloor f(2006) \\right\\rfloor</math>. \n\nConsider the relation <math>a_{n+1}a_{n-1}=a_{n}^{2}+2007</math>. Dividing through by <math>a_{n}a_{n-1}</math>, we get \n<cmath>.\\phantom{------------} \\frac{a_{n+1}}{a_{n}} = \\frac{a_{n}}{a_{n-1}} + \\frac{2007}{a_{n}a_{n-1}} \\phantom{------------} (1)</cmath>\nand dividing through by <math>a_{n}a_{n+1}</math>, we get \n<cmath>.\\phantom{------------} \\frac{a_{n-1}}{a_{n}} = \\frac{a_{n}}{a_{n+1}} + \\frac{2007}{a_{n}a_{n+1}} \\phantom{------------} (2)</cmath>\nAdding LHS of <math>(1)</math> with RHS of <math>(2)</math> (and vice-versa), we get\n<cmath>\\frac{a_{n+1}}{a_{n}} + \\frac{a_{n}}{a_{n+1}} + \\frac{2007}{a_{n}a_{n+1}} = \\frac{a_{n}}{a_{n-1}} + \\frac{a_{n-1}}{a_{n}} + \\frac{2007}{a_{n}a_{n-1}} </cmath>\ni.e.\n<cmath>f(n)+ \\frac{2007}{a_{n}a_{n+1}} = f(n-1) + \\frac{2007}{a_{n}a_{n-1}}</cmath>\nRearranging this to the form <math>f(n)-f(n-1)</math> and summing over <math>n=1</math> to <math>n=2006</math>, we notice that most of the terms on each side telescope. Without rearranging, you can see that most terms cancel against the corresponding term on the other side. We are left with\n<cmath>f(2006) + \\frac{2007}{a_{2006}a_{2007}} = f(0) + \\frac{2007}{a_{1}a_{0}} </cmath>\nWe have <math>f(0) = 2</math>, and <math>2007/a_0a_1 = 2007/9 = 223</math>. So\n<cmath>f(2006) = 2 + 223 - \\frac{2007}{a_{2006}a_{2007}} = 224 + \\left( 1 - \\frac{2007}{a_{2006}a_{2007}}\\right)</cmath>\nSince all the <math>a_i</math> are positive, <math>(1)</math> tells us that the ratio <math>a_{n+1}/a_n</math> of successive terms is increasing. Since this ratio starts with <math>a_1/a_0 = 1</math>, this means that the sequence <math>(a_n)</math> is increasing. Since <math>a_2=672</math> already, we must have <math>a_{2006}a_{2007} > 672^2 > 2007</math>. It follows that <math>0<1-\\frac{2007}{a_{2006}a_{2007}}<1</math> and so <math>\\left\\lfloor f(2006) \\right\\rfloor = \\boxed{224}</math>.\n\n=== Solution 2 ===\nWe are given that\n\n<math>a_{n+1}a_{n-1}= a_{n}^{2}+2007</math>,\n<math>a_{n-1}^{2}+2007 = a_{n}a_{n-2}</math>.\n\nAdd these two equations to get\n\n:<math>a_{n-1}(a_{n-1}+a_{n+1}) = a_{n}(a_{n}+a_{n-2})</math>\n\n:<math>\\frac{a_{n+1}+a_{n-1}}{a_{n}}= \\frac{a_{n}+a_{n-2}}{a_{n-1}}</math>.\n\nThis is an [[invariant]]. Defining <math>b_{i}= \\frac{a_{i}}{a_{i-1}}</math> for each <math>i \\ge 2</math>, the above equation means\n\n<math>b_{n+1}+\\frac{1}{b_{n}}= b_{n}+\\frac{1}{b_{n-1}}</math>.\n\nWe can thus calculate that <math>b_{2007}+\\frac{1}{b_{2006}}= b_{3}+\\frac{1}{b_{2}}= 225</math>. Using the equation <math>a_{2007}a_{2005}=a_{2006}^{2}+2007</math> and dividing both sides by <math>a_{2006}a_{2005}</math>, notice that <math>b_{2007}= \\frac{a_{2007}}{a_{2006}}= \\frac{a_{2006}^{2}+2007}{a_{2006}a_{2005}}> \\frac{a_{2006}}{a_{2005}}= b_{2006}</math>. This means that\n\n<math>b_{2007}+\\frac{1}{b_{2007}}< b_{2007}+\\frac{1}{b_{2006}}= 225</math>. It is only a tiny bit less because all the <math>b_i</math> are greater than <math>1</math>, so we conclude that the floor of <math>\\frac{a_{2007}^{2}+a_{2006}^{2}}{a_{2007}a_{2006}}= b_{2007}+\\frac{1}{b_{2007}}</math> is <math>\\boxed{224}</math>.\n\n=== Solution 3 ===\nThe equation <math>a_{n+1}a_{n-1}-a_n^2=2007</math> looks like the determinant <cmath>\\left|\\begin{array}{cc}a_{n+1}&a_n\\\\a_n&a_{n-1}\\end{array}\\right|=2007.</cmath>\nTherefore, the determinant of this matrix is invariant. Guessing that this sequence might be a linear recursion because of the matrix form given below, we define the sequence <math>b_n</math> defined by <math>b_1=b_2=3</math> and <math>b_{n+1}=\\alpha b_n+\\beta b_{n-1}</math> for <math>n\\ge 2</math>. We wish to find <math>\\alpha</math> and <math>\\beta</math> such that <math>a_n=b_n</math> for all <math>n\\ge 1</math>. To do this, we use the following matrix form of a linear recurrence relation\n\n<cmath>\\left(\\begin{array}{cc}b_{n+1}&b_n\\\\b_n&b_{n-1}\\end{array}\\right)=\\left(\\begin{array}{cc}\\alpha&\\beta\\\\1&0\\end{array}\\right)\\left(\\begin{array}{cc}b_{n}&b_{n-1}\\\\b_{n-1}&b_{n-2}\\end{array}\\right).</cmath> \n\nWhen we take determinants, this equation becomes\n\n<cmath>\\text{det}\\left(\\begin{array}{cc}b_{n+1}&b_n\\\\b_n&b_{n-1}\\end{array}\\right)=\\text{det}\\left(\\begin{array}{cc}\\alpha&\\beta\\\\1&0\\end{array}\\right)\\text{det}\\left(\\begin{array}{cc}b_{n}&b_{n-1}\\\\b_{n-1}&b_{n-2}\\end{array}\\right).</cmath>\n\nWe want <cmath>\\text{det}\\left(\\begin{array}{cc}b_{n+1}&b_n\\\\b_n&b_{n-1}\\end{array}\\right)=2007</cmath> for all <math>n</math>. Therefore, we replace the two matrices by <math>2007</math> to find that \n\n<cmath>2007=\\text{det}\\left(\\begin{array}{cc}\\alpha&\\beta\\\\1&0\\end{array}\\right)\\cdot 2007</cmath>\n<cmath>1=\\text{det}\\left(\\begin{array}{cc}\\alpha&\\beta\\\\1&0\\end{array}\\right)=-\\beta.</cmath>\nTherefore, <math>\\beta=-1</math>. Computing that <math>a_3=672</math>, and using the fact that <math>b_3=\\alpha b_2-b_1</math>, we conclude that <math>\\alpha=225</math>. Clearly, <math>a_1=b_1</math>, <math>a_2=b_2</math>, and <math>a_3=b_3</math>. We claim that <math>a_n=b_n</math> for all <math>n\\ge 1</math>. We proceed by [[induction]]. If <math>a_k=b_k</math> for all <math>k\\le n</math>, then clearly, <cmath>b_nb_{n-2}-b_{n-1}^2=a_na_{n-2}-a_{n-1}^2=2007.</cmath> We also know by the definition of <math>b_{n+1}</math> that\n\n<cmath>\\text{det}\\left(\\begin{array}{cc}b_{n+1}&b_n\\\\b_n&b_{n-1}\\end{array}\\right)=\\text{det}\\left(\\begin{array}{cc}\\alpha&\\beta\\\\1&0\\end{array}\\right)\\text{det}\\left(\\begin{array}{cc}b_{n}&b_{n-1}\\\\b_{n-1}&b_{n-2}\\end{array}\\right).</cmath>\n\nWe know that the RHS is <math>2007</math> by previous work. Therefore, <math>b_{n+1}b_{n-1}-b_n^2=2007</math>. After substuting in the values we know, this becomes <math>b_{n+1}a_{n-1}-a_n^2=2007</math>.  Thinking of this as a linear equation in the variable <math>b_{n+1}</math>, we already know that this has the solution <math>b_{n+1}=a_{n+1}</math>. Therefore, by induction, <math>a_n=b_n</math> for all <math>n\\ge 1</math>. We conclude that <math>a_n</math> satisfies the linear recurrence <math>a_{n+1}=225a_n-a_{n-1}</math>.\n\nIt's easy to prove that <math>a_n</math> is a strictly increasing sequence of integers for <math>n\\ge 3</math>. Now \n\n<cmath>\\frac{a_{2007}^2+a_{2006}^2}{a_{2007}a_{2006}}=\\frac{a_{2007}}{a_{2006}}+\\frac{a_{2006}}{a_{2007}}=\\frac{225a_{2006}-a_{2005}}{a_{2006}}+\\frac{a_{2006}}{a_{2007}}.</cmath>\n\n<cmath>=225+\\frac{a_{2006}}{a_{2007}}-\\frac{a_{2005}}{a_{2006}}=225+\\frac{a_{2006}^2-a_{2005}a_{2007}}{a_{2005}a_{2006}}.</cmath>\n\n<cmath>=225-\\frac{2007}{a_{2005}a_{2006}}.</cmath>\n\nThe sequence certainly grows fast enough such that <math>\\frac{2007}{a_{2005}a_{2006}}<1</math>. Therefore, the largest integer less than or equal to this value is <math>\\boxed{224}</math>.\n\n===Solution 4 ( generalized )===\nThis is a more elementary and rigorous solution to a slightly generalized version. The defining recursive sequence is generalized to \n\n<cmath>\na_{n+1}a_{n-1} = a_n^2 + 9k, ---------(1)\n</cmath>\nwhere <math> k </math> is a positive integer and <math> a_0 = a_1 = 3. </math>\n\nLemma 1  : For <math>n \\geq 1</math>,\n<cmath>\n a_{n+1} = ( k + 2)a_n - a_{n-1}. ---------(2)\n</cmath>\nWe shall prove by induction. From (1), <math> a_2 = 3k + 3 </math>. From the lemma, <math>a_2 = (k + 2) 3 - 3 = 3k + 3.</math> Base case proven. Assume that the lemma is true for some <math> t \\geq 1 </math>. Then, eliminating the <math>a_{t-1}</math> using (1) and (2) gives\n\n<cmath>\n (k+2)a_ta_{t+1} = a_t^2 + a_{t+1}^2 + 9k. ---------(3)\n</cmath>\n\nIt follows from (2) that \n\n<cmath>\n(k+2)a_{t+1} - a_t  =\\frac{(k+2)a_{t+1}a_t - a_t^2}{a_t}  =\\frac{a_{t+1}^2 + 9k}{a_t} =a_{t+2},\n</cmath>\n\nwhere the last line followed from (1) for case <math> n = t+1 </math>.\n\nLemma 2 : For <math>n \\geq 0,</math>\n<cmath>\na_{n+1} \\geq a_{n}.\n</cmath>\nBase case is obvious. Assume that <math>a_{t+1} \\geq a_{t}</math> for some <math>t \\geq 0</math>. Then it follows that \n<cmath>\na_{t+2} =\\frac{a_{t+1}^2 + 9k}{a_t}  = a_{t+1}(\\frac{a_{t+1}}{a_t} ) + 9k \\geq a_{t+1} + 9k  > a_{t+1}.\n</cmath>\n\nThis completes the induction.\n\nLemma 3 : For <math>n \\geq 1,</math>\n<cmath>\na_n a_{n+1} > 9k\n</cmath>\n\nUsing (1) and Lemma 2, for <math>n \\geq 1,</math> \n<cmath>\na_{n+1}a_n \\geq a_{n+1}a_{n-1}  = a_n^2 + 9k  > 9k \n</cmath>\n\nFinally, using (3), for <math>n \\geq 1, </math>\n<cmath>\n\\frac{a_n^2 + a_{n+1}^2}{a_n a_{n+1}} =\\frac{(k+2)a_n a_{n+1} - 9k}{a_n a_{n+1}} = k+2 -\\frac{9k}{a_n a_{n+1}}.\n</cmath>\nUsing lemma 3, the largest integer less than or equal to this value would be <math>k + 1</math>.\n\n=== Solution 5 (pure algebra)===\nWe will try to manipulate <math>\\frac{a_0^2+a_1^2}{a_0a_1}</math> to get <math>\\frac{a_1^2+a_2^2}{a_1a_2}</math>. \n\n<math>\\frac{a_0^2+a_1^2}{a_0a_1} = \\frac{a_0+\\frac{a_1^2}{a_0}}{a_1} = \\frac{a_0+\\frac{a_1^2+2007}{a_0}-\\frac{2007}{a_0}}{a_1}</math>\nUsing the recurrence relation, \n<math>= \\frac{a_0+a_2-\\frac{2007}{a_0}}{a_1}  = \\frac{a_0a_2+a_2^2-\\frac{2007a_2}{a_0}}{a_1a_2}</math>\nApplying the relation to <math>a_0a_2</math>, \n<math>= \\frac{a_1^2+2007+a_2^2-\\frac{2007a_2}{a_0}}{a_1a_2} = \\frac{a_1^2+a_2^2}{a_1a_2}+\\frac{2007}{a_1a_2}-\\frac{2007}{a_0a_1}</math>\n\nWe can keep on using this method to get that \n<math>\\frac{a_0^2+a_1^2}{a_0a_1} = \\frac{a_{2006}^2+a_{2007}^2}{a_{2006}a_{2007}}+\\frac{2007}{a_{2006}a_{2007}}-\\frac{2007}{a_{2005}a_{2006}}+\\frac{2007}{a_{2005}a_{2006}}-\\ldots-\\frac{2007}{a_{0}a_{1}}</math>\n\nThis telescopes to \n<math>\\frac{a_0^2+a_1^2}{a_0a_1} = \\frac{a_{2006}^2+a_{2007}^2}{a_{2006}a_{2007}}+\\frac{2007}{a_{2006}a_{2007}}-\\frac{2007}{a_{0}a_{1}}</math>\n\nor \n<math>\\frac{a_{2006}^2+a_{2007}^2}{a_{2006}a_{2007}} = \\frac{a_0^2+a_1^2}{a_0a_1}+\\frac{2007}{a_{0}a_{1}}-\\frac{2007}{a_{2006}a_{2007}}</math>\n\nFinding the first few values, we notice that they increase rapidly, so <math>\\frac{2007}{a_{2006}a_{2007}} < 1</math>. Calculating the other values, \n<math>\\frac{a_{2006}^2+a_{2007}^2}{a_{2006}a_{2007}} = 2+223-\\frac{2007}{a_{2006}a_{2007}}</math>.\n\nThe greatest number that does not exceed this is <math>\\boxed{224}</math>\n\n=== Solution 6 (using limits) ===\n\nLet's start by computing the first couple terms of the given sequence so we know what we're working with. It's given that <math>a_0 = a_1 = 0</math>, and solving for <math>a_2</math> and <math>a_3</math> using the given relation we get <math>a_2 = 672 = 3(224)</math> and <math>a_3 = 3(224^{2} + 223)</math>, respectively. It will be clear why I decided to factor these expressions as I did momentarily. \n\nNext, let's see what the expression <math>\\frac{a_{n}^{2}+a_{n + 1}^{2}}{a_{n}a_{n + 1}}</math> looks like for small values of <math>n</math>. For <math>n = 1</math>, we get <math>\\frac{1 + 224^2}{224}</math>, the floor of which is clearly <math>224</math> because the <math>1</math> in the numerator is insignificant. Repeating the procedure for <math>n + 1</math> is somewhat messier, but we end up getting <math>\\frac{224^4 + 224^2\\cdot223\\cdot2 + 224^2 + 223^2}{224^3 + 224\\cdot223}</math>. It's not too hard to see that <math>224^4</math> is much larger than the sum of the remaining terms in the numerator, and that <math>224^3</math> is similarly a lot greater than the other term in the denominator. In fact, the second-largest term in the numerator is only barely larger than <math>224^3</math>, while the second-largest term in the denominator is smaller than <math>224^2</math>. Thus, the floor of this expression will come out to be <math>224</math> as well.\n\nNow we must consider whether this finding holds true for the rest of the sequence we're examining. First of all, notice that each time <math>n</math> increases by <math>1</math>, the degrees of both the numerator and denominator increase by <math>2</math>, because we are squaring the <math>n+1th</math> term in the numerator while the same term, appearing in the denominator, is being generated in part by squaring the term before it (seen in the relation <math>a_{n+1}^2 = (\\frac{a_{n}^2 + 2007}{a_{n-1}})^2</math>). Thus, the degree of the numerator will always be one greater than the degree of the denominator; we have only to show that the other terms in the expression remain sufficiently small enough so as not to disturb the <math>\\approx224:1</math> ratio between the two. \n\nFor the non-greatest terms in the expression to offset this ratio for values of <math>n</math> in the ballpark of <math>2006</math>, they would have to have massive coefficients, because or else they are dwarfed by the additional <math>224</math> attached to the leading term. Thankfully, this is not the case. Since we are simply squaring previous terms repeatedly to get new terms, we end up getting a sequence that is approximately equal to <math>\\frac{224^k+224^{k-1}+224^{k-2} . . . }{224^{k-1}+224^{k-2} . . . }</math> for all <math>k\\geq2</math>, whose <math>\\lim_{k\\to\\infty}=</math> <math>\\boxed{224}</math>.\n\n~anellipticcurveoverq"
  },
  {
    "year": 2007,
    "variant": "I",
    "problem_number": 15,
    "latex": "Let <math>ABC</math> be an [[equilateral triangle]], and let <math>D</math> and <math>F</math> be [[point]]s on sides <math>BC</math> and <math>AB</math>, respectively, with <math>FA = 5</math> and <math>CD = 2</math>.  Point <math>E</math> lies on side <math>CA</math> such that [[angle]] <math>DEF = 60^{\\circ}</math>.  The area of triangle <math>DEF</math> is <math>14\\sqrt{3}</math>.  The two possible values of the length of side <math>AB</math> are <math>p \\pm q \\sqrt{r}</math>, where <math>p</math> and <math>q</math> are rational, and <math>r</math> is an [[integer]] not divisible by the [[square]] of a [[prime]].  Find <math>r</math>.",
    "solution": "[[Image:AIME I 2007-15.png]]\n\nDenote the length of a side of the triangle <math>x</math>, and of <math>\\overline{AE}</math> as <math>y</math>. The area of the entire equilateral triangle is <math>\\frac{x^2\\sqrt{3}}{4}</math>. Add up the areas of the triangles using the <math>\\frac{1}{2}ab\\sin C</math> formula (notice that for the three outside triangles, <math>\\sin 60 = \\frac{\\sqrt{3}}{2}</math>): <math>\\frac{x^2\\sqrt{3}}{4} = \\frac{\\sqrt{3}}{4}(5 \\cdot y + (x - 2)(x - 5) + 2(x - y)) + 14\\sqrt{3}</math>. This simplifies to <math>\\frac{x^2\\sqrt{3}}{4} = \\frac{\\sqrt{3}}{4}(5y + x^2 - 7x + 10 + 2x - 2y + 56)</math>. Some terms will cancel out, leaving <math>y = \\frac{5}{3}x - 22</math>.\n\n<math>\\angle FEC</math> is an [[exterior angle]] to <math>\\triangle AEF</math>, from which we find that <math>60 + \\angle CED = 60 + \\angle AFE</math>, so <math>\\angle CED = \\angle AFE</math>. Similarly, we find that <math>\\angle EDC = \\angle AEF</math>. Thus, <math>\\triangle AEF \\sim \\triangle CDE</math>. Setting up a [[ratio]] of sides, we get that <math>\\frac{5}{x-y} = \\frac{y}{2}</math>. Using the previous relationship between <math>x</math> and <math>y</math>, we can solve for <math>x</math>.\n \n<div style=\"text-align:center;\">\n<math>xy - y^2 = 10</math>\n\n<math>\\frac{5}{3}x^2 - 22x - \\left(\\frac{5}{3}x - 22\\right)^2 - 10 = 0</math>\n\n<math>\\frac{5}{3}x^2 - \\frac{25}{9}x^2 - 22x + 2 \\cdot \\frac{5 \\cdot 22}{3}x - 22^2 - 10= 0</math>\n\n<math>10x^2 - 462x + 66^2 + 90 = 0</math>\n</div>\n\nUse the [[quadratic formula]], though we only need the root of the [[discriminant]]. This is <math>\\sqrt{(7 \\cdot 66)^2 - 4 \\cdot 10 \\cdot (66^2 + 90)} = \\sqrt{49 \\cdot 66^2 - 40 \\cdot 66^2 - 4 \\cdot 9 \\cdot 100}</math><math> = \\sqrt{9 \\cdot 4 \\cdot 33^2 - 9 \\cdot 4 \\cdot 100} = 6\\sqrt{33^2 - 100}</math>. The answer is <math>\\boxed{989}</math>."
  },
  {
    "year": 2007,
    "variant": "II",
    "problem_number": 1,
    "latex": "A mathematical organization is producing a set of commemorative license plates. Each plate contains a sequence of five characters chosen from the four letters in AIME and the four digits in 2007. No character may appear in a sequence more times than it appears among the four letters in AIME or the four digits in 2007. A set of plates in which each possible sequence appears exactly once contains N license plates. Find <math>\\frac{N}{10}</math>.",
    "solution": "There are 7 different characters that can be picked, with 0 being the only number that can be repeated twice.\n\n*If <math>0</math> appears 0 or 1 times amongst the sequence, there are <math>\\frac{7!}{(7-5)!} = 2520</math> sequences possible.\n*If <math>0</math> appears twice in the sequence, there are <math>{5\\choose2} = 10</math> places to place the <math>0</math>s. There are <math>\\frac{6!}{(6-3)!} = 120</math> ways to place the remaining three characters. In total, that gives us <math>10 \\cdot 120 = 1200</math>.\n\nThus, <math>N = 2520 + 1200 = 3720</math>, and <math>\\frac{N}{10} = \\boxed{372}</math>."
  },
  {
    "year": 2007,
    "variant": "II",
    "problem_number": 2,
    "latex": "Find the number of ordered triples <math>(a,b,c)</math> where <math>a</math>, <math>b</math>, and <math>c</math> are positive [[integer]]s, <math>a</math> is a [[factor]] of <math>b</math>, <math>a</math> is a factor of <math>c</math>, and <math>a+b+c=100</math>.",
    "solution": "Denote <math>x = \\frac{b}{a}</math> and <math>y = \\frac{c}{a}</math>. The last condition reduces to <math>a(1 + x + y) = 100</math>. Therefore, <math>1 + x + y</math> is equal to one of the 9 factors of <math>100 = 2^25^2</math>.\n\nSubtracting the one, we see that <math>x + y = \\{0,1,3,4,9,19,24,49,99\\}</math>. There are exactly <math>n - 1</math> ways to find pairs of <math>(x,y)</math> if <math>x + y = n</math>. Thus, there are <math>0 + 0 + 2 + 3 + 8 + 18 + 23 + 48 + 98 = \\boxed{200}</math> solutions of <math>(a,b,c)</math>.\n\nAlternatively, note that the sum of the divisors of <math>100</math> is <math>(1 + 2 + 2^2)(1 + 5 + 5^2)</math> (notice that after distributing, every divisor is accounted for). This evaluates to <math>7 \\cdot 31 = 217</math>. Subtract <math>9 \\cdot 2</math> for reasons noted above to get <math>199</math>. Finally, this changes <math>1 \\Rightarrow -1</math>, so we have to add one to account for that. We get <math>\\boxed{200}</math>."
  },
  {
    "year": 2007,
    "variant": "II",
    "problem_number": 3,
    "latex": "[[Square]] <math>ABCD</math> has side length <math>13</math>, and [[point]]s <math>E</math> and <math>F</math> are exterior to the square such that <math>BE=DF=5</math> and <math>AE=CF=12</math>. Find <math>EF^{2}</math>.\n<asy>unitsize(0.2 cm);\n\npair A, B, C, D, E, F;\n\nA = (0,13);\nB = (13,13);\nC = (13,0);\nD = (0,0);\nE = A + (12*12/13,5*12/13);\nF = D + (5*5/13,-5*12/13);\n\ndraw(A--B--C--D--cycle);\ndraw(A--E--B);\ndraw(C--F--D);\n\ndot(\"$A$\", A, W);\ndot(\"$B$\", B, dir(0));\ndot(\"$C$\", C, dir(0));\ndot(\"$D$\", D, W);\ndot(\"$E$\", E, N);\ndot(\"$F$\", F, S);</asy>\n\n__TOC__",
    "solution": "===Solution 1===\n\nLet <math>\\angle FCD = \\alpha</math>, so that <math>FB = \\sqrt{12^2 + 13^2 + 2\\cdot12\\cdot13\\sin(\\alpha)} = \\sqrt{433}</math>. By the diagonal, <math>DB = 13\\sqrt{2}, DB^2 = 338</math>. \n\n<b>The sum of the squares of the sides of a parallelogram is the sum of the squares of the diagonals.</b>\n<cmath>EF^2 = 2\\cdot(5^2 + 433) - 338 = 578.</cmath>\n\n=== Solution 2 ===\n\nExtend <math>\\overline{AE}, \\overline{DF}</math> and <math>\\overline{BE}, \\overline{CF}</math> to their points of intersection. Since <math>\\triangle ABE \\cong \\triangle CDF</math> and are both <math>5-12-13</math> [[right triangle]]s, we can come to the conclusion that the two new triangles are also congruent to these two (use [https://artofproblemsolving.com/wiki/index.php/Congruent_(geometry)#ASA_Congruence ASA], as we know all the sides are <math>13</math> and the angles are mostly complementary). Thus, we create a [[square]] with sides <math>5 + 12 = 17</math>.\n\n<asy>unitsize(0.25 cm);\n\npair A, B, C, D, E, F, G, H;\n\nA = (0,13);\nB = (13,13);\nC = (13,0);\nD = (0,0);\nE = A + (12*12/13,5*12/13);\nF = D + (5*5/13,-5*12/13);\nG = rotate(90,(A + C)/2)*(E);\nH = rotate(90,(A + C)/2)*(F);\n\ndraw(A--B--C--D--cycle);\ndraw(E--G--F--H--cycle);\n\ndot(\"$A$\", A, N);\ndot(\"$B$\", B, dir(0));\ndot(\"$C$\", C, S);\ndot(\"$D$\", D, W);\ndot(\"$E$\", E, N);\ndot(\"$F$\", F, S);\ndot(\"$G$\", G, W);\ndot(\"$H$\", H, dir(0));</asy>\n\n<math>\\overline{EF}</math> is the diagonal of the square, with length <math>17\\sqrt{2}</math>; the answer is <math>EF^2 = (17\\sqrt{2})^2 = 578</math>.\n\n=== Solution 3 ===\nA slightly more analytic/brute-force approach:\n\n[[Image:AIME II prob10 bruteforce.PNG ]]\n\nDrop perpendiculars from <math>E</math> and <math>F</math> to <math>I</math> and <math>J</math>, respectively; construct right triangle <math>EKF</math> with right angle at K and <math>EK || BC</math>. Since <math>2[CDF]=DF*CF=CD*JF</math>, we have <math>JF=5\\times12/13 = \\frac{60}{13}</math>. Similarly, <math>EI=\\frac{60}{13}</math>. Since <math>\\triangle DJF \\sim \\triangle DFC</math>, we have <math>DJ=\\frac{5JF}{12}=\\frac{25}{13}</math>.\n\nNow, we see that <math>FK=DC-(DJ+IB)=DC-2DJ=13-\\frac{50}{13}=\\frac{119}{13}</math>. Also, <math>EK=BC+(JF+IE)=BC+2JF=13+\\frac{120}{13}=\\frac{289}{13}</math>. By the Pythagorean Theorem, we have <math>EF=\\sqrt{\\left(\\frac{289}{13}\\right)^2+\\left(\\frac{119}{13} \\right)^2}=\\frac{\\sqrt{(17^2)(17^2+7^2)}}{13}</math><math>=\\frac{17\\sqrt{338}}{13}=\\frac{17(13\\sqrt{2})}{13}=17\\sqrt{2}</math>. Therefore, <math>EF^2=(17\\sqrt{2})^2=578</math>.\n\n===Solution 4===\nBased on the symmetry, we know that <math>F</math> is a reflection of <math>E</math> across the center of the square, which we will denote as <math>O</math>. Since <math>\\angle BEA</math> and <math>\\angle AOB</math> are right, we can conclude that figure <math>AOBE</math> is a cyclic quadrilateral. Pythagorean Theorem yields that <math>BO=AO=\\frac{13\\sqrt{2}}{2}</math>. Now, using Ptolemy's Theorem, we get that \n<cmath>AO\\cdot BE + BO\\cdot AE = AB\\cdot AO</cmath>\n<cmath>\\frac{13\\sqrt{2}}{2}\\cdot 5+\\frac{13\\sqrt{2}}{2}\\cdot 12 = 13\\cdot OE</cmath>\n<cmath>OE=\\frac{17\\sqrt{2}}{2}</cmath>\nNow, since we stated in the first step that <math>F</math> is a reflection of <math>E</math> across <math>O</math>, we can say that <math>EF=2EO=17\\sqrt{2}</math>. This gives that <cmath>EF^2=(17\\sqrt{2})^2=578</cmath> AWD with this bash solution\n\n===Solution 5 (Ptolemy's Theorem)===\nDrawing <math>EF</math>, it clearly passes through the center of <math>ABCD</math>. Letting this point be <math>P</math>, we note that <math>AEBP</math> and <math>CFDP</math> are congruent cyclic quadrilaterals, and that <math>AP=BP=CP=DP=\\frac{13}{\\sqrt{2}}.</math> Now, from Ptolemy's, <math>13\\cdot EP=\\frac{13}{\\sqrt{2}}(12+5)\\implies EP=\\frac{17\\sqrt{2}}{2}</math>. Since <math>EF=EP+FP=2\\cdot EP</math>, the answer is <math>(17\\sqrt{2})^2=\\boxed{578}.</math>\n\n===Solution 6===\nCoordinate bash\n\n=== Solution 7 (Trig Bash) ===\n\nWe first see that the whole figure is symmetrical and reflections across the center that we will denote as <math>O</math> bring each half of the figure to the other half. Thus we consider a single part of the figure, namely <math>EO.</math>\n\nFirst note that <math>\\angle BAO = 45^{\\circ}</math> since <math>O</math> is the center of square <math>ABCD.</math> Also note that <math>\\angle EAB = \\arccos{\\left(\\frac{12}{13}\\right)}</math> or <math>\\arcsin{\\left(\\frac{5}{13}\\right)}.</math> Finally, we know that <math>AO =\\frac{13\\sqrt{2}}{2}.</math> Now we apply laws of cosines on <math>\\bigtriangleup AEO.</math> \n\nWe have <math>EO^2 = 12^2 + (\\frac{13\\sqrt{2}}{2})^2 - 2 \\cdot 12 \\cdot \\left(\\frac{13\\sqrt{2}}{2}\\right) \\cdot \\cos{\\angle EAO}.</math> We know that <math>\\angle EAO = 45^{\\circ} + \\arccos{\\left(\\frac{12}{13}\\right)}.</math> Thus we have <math>\\cos{\\angle EAO} = \\cos\\left(45^{\\circ} + \\arccos{\\left(\\frac{12}{13}\\right)}\\right)</math> which applying the cosine sum identity yields <math>\\cos{45^{\\circ}}\\cos{\\arccos\\frac{12}{13}} - \\sin{45^{\\circ}}\\sin\\arcsin{\\frac{5}{12}} =\\frac{12\\sqrt{2}}{26} -\\frac{5\\sqrt{2}}{26} =\\frac{7\\sqrt{2}}{26}.</math> \n\nNote that we are looking for <math>4EO^2</math> so we multiply <math>EO^2 = 12^2 + \\left(\\frac{13\\sqrt{2}}{2}\\right)^2 - 2 \\cdot 12 \\cdot \\left(\\frac{13\\sqrt{2}}{2}\\right) \\cdot \\cos{\\angle EAO}</math> by <math>4</math> obtaining <math>4EO^2 = 576 + 338 - 8 \\cdot\\left(\\frac{13\\sqrt{2}}{2}\\right) \\cdot 12 \\cdot\\frac{7\\sqrt{2}}{26} = 576 + 338 - 4  \\cdot 12 \\cdot  7 = \\boxed{578}.</math>"
  },
  {
    "year": 2007,
    "variant": "II",
    "problem_number": 4,
    "latex": "The workers in a factory produce widgets and whoosits. For each product, production time is constant and identical for all workers, but not necessarily equal for the two products. In one hour, <math>100</math> workers can produce <math>300</math> widgets and <math>200</math> whoosits. In two hours, <math>60</math> workers can produce <math>240</math> widgets and <math>300</math> whoosits. In three hours, <math>50</math> workers can produce <math>150</math> widgets and <math>m</math> whoosits. Find <math>m</math>.",
    "solution": "Suppose that it takes <math>x</math> hours for one worker to create one widget, and <math>y</math> hours for one worker to create one whoosit.\n\nTherefore, we can write that (note that two hours is similar to having twice the number of workers, and so on):\n\n<div style=\"text-align:center;\">\n<math>100 = 300x + 200y</math>\n\n<math>2(60) = 240x + 300y</math>\n\n<math>3(50) = 150x + my</math>\n</div>\n\nSolve the system of equations with the first two equations to find that <math>(x,y) = \\left(\\frac{1}{7}, \\frac{2}{7}\\right)</math>. Substitute this into the third equation to find that <math>1050 = 150 + 2m</math>, so <math>m = \\boxed{450}</math>."
  },
  {
    "year": 2007,
    "variant": "II",
    "problem_number": 5,
    "latex": "The [[graph]] of the [[equation]] <math>9x+223y=2007</math> is drawn on graph paper with each [[square]] representing one [[unit square|unit]] in each direction. How many of the <math>1</math> by <math>1</math> graph paper squares have interiors lying entirely below the graph and entirely in the first [[quadrant]]?\n\n__TOC__",
    "solution": "=== Solution 1 ===\nThere are <math>223 \\cdot 9 = 2007</math> squares in total formed by the rectangle with edges on the x and y axes and with vertices on the intercepts of the equation, since the [[intercept]]s of the lines are <math>(223,0),\\ (0,9)</math>.\n\nCount the number of squares that the diagonal of the rectangle passes through. Since the two diagonals of a rectangle are [[congruent]], we can consider instead the diagonal <math>y = \\frac{223}{9}x</math>. This passes through 8 horizontal lines (<math>y = 1 \\ldots 8</math>) and 222 vertical lines (<math>x = 1 \\ldots 222</math>). Every time we cross a line, we enter a new square. Since 9 and 223 are [[relatively prime]], we don‚Äôt have to worry about crossing an intersection of a horizontal and vertical line at one time. We must also account for the first square. This means that it passes through <math>222 + 8 + 1 = 231</math> squares.\n\nThe number of non-diagonal squares is <math>2007 - 231 = 1776</math>. Divide this in 2 to get the number of squares in one of the triangles, with the answer being <math>\\frac{1776}2 = 888</math>.\n\n=== Solution 2 ===\nCount the number of each squares in each row of the triangle. The [[intercept]]s of the [[line]] are <math>(223,0),\\ (0,9)</math>.\n\nIn the top row, there clearly are no squares that can be formed. In the second row, we see that the line <math>y = 8</math> gives a <math>x</math> value of <math>\\frac{2007 - 8(223)}{9} = 24 \\frac 79</math>, which means that <math>\\lfloor 24 \\frac 79\\rfloor = 24</math> unit squares can fit in that row. In general, there are\n\n<div style=\"text-align:center;\"><math>\\sum_{i=0}^{8} \\lfloor \\frac{223i}{9} \\rfloor</math></div>\n\ntriangles. Since <math>\\lfloor \\frac{223}{9} \\rfloor = 24</math>, we see that there are more than <math>24(0 + 1 + \\ldots + 8) = 24(\\frac{8 \\times 9}{2}) = 864</math> triangles. Now, count the fractional parts. <math>\\lfloor \\frac{0}{9} \\rfloor = 0, \\lfloor \\frac{7}{9} \\rfloor = 0, \\lfloor \\frac{14}{9} \\rfloor = 1,</math> <math> \\lfloor \\frac{21}{9} \\rfloor = 2, \\lfloor \\frac{28}{9} \\rfloor = 3, \\lfloor \\frac{35}{9} \\rfloor = 3,</math> <math> \\lfloor \\frac{42}{9} \\rfloor = 4, \\lfloor \\frac{49}{9} \\rfloor = 5, \\lfloor \\frac{56}{9} \\rfloor = 6</math>. Adding them up, we get <math>864 + 1 + 2 + 3 + 3 + 4 + 5 + 6 = 888</math>.\n\n=== Solution 3 ===\nFrom [[Pick's Theorem]], <math>\\frac{2007}{2}=\\frac{233}{2}-\\frac{2}{2}+\\frac{2I}{2}</math>. In other words, <math>2I=1776</math> and I is <math>888</math>.\n\nDo you see why we simply set <math>I</math> as the answer as well? That's because every interior point, if moved down and left one (southwest direction), can have that point and the previous point create a unit square. For example, <math>(1, 1)</math> moves to <math>(0, 0)</math>, so the square of points <math>{(0, 0), (1, 0), (1, 1), (0, 1)}</math> is one example. This applies, of course, for <math>888</math> points.\n\n=== Solution 4 ===\nWe know that the number of squares intersected in an <math>m\\times{n}</math> rectangle is <math>m + n -\\mbox{gcd}(m,n)</math>. So if we apply that here, we get that the number of intersected squares is:\n\n<math>9 + 223 - 1 = 231</math>. \n\nNow just subtract that from the total number of squares and divide by 2, since we want the number of squares below the line. \n\nSo,\n\n<math>\\frac{2007 - 231}{2} = \\frac{1776}{2} = \\fbox{888}</math>"
  },
  {
    "year": 2007,
    "variant": "II",
    "problem_number": 6,
    "latex": "An [[integer]] is called ''parity-monotonic'' if its decimal representation <math>a_{1}a_{2}a_{3}\\cdots a_{k}</math> satisfies <math>a_{i}<a_{i+1}</math> if <math>a_{i}</math> is [[odd]], and <math>a_{i}>a_{i+1}</math> if <math>a_{i}</math> is [[even]]. How many four-digit parity-monotonic integers are there?",
    "solution": "Let's set up a table of values. Notice that 0 and 9 both cannot appear as any of <math>a_1,\\ a_2,\\ a_3</math> because of the given conditions. (Also note that 0 cannot appear as 0 cannot be the first digit of an integer.) A clear pattern emerges.\n\nFor example, for <math>3</math> in the second column, we note that <math>3</math> is less than <math>4,6,8</math>, but greater than <math>1</math>, so there are four possible places to align <math>3</math> as the second digit.\n\n{| align=center style=\"border:1px solid black;\"\n|- \n| Digit&nbsp;&nbsp; || 1st&nbsp;&nbsp; || 2nd&nbsp;&nbsp; || 3rd&nbsp;&nbsp; || 4th \n|-\n| 0 || 0 || 0 || 0 || 64\n|-\n| 1 || 1 || 4 || 16 || 64\n|-\n| 2 || 1 || 4 || 16 || 64\n|-\n| 3 || 1 || 4 || 16 || 64\n|-\n| 4 || 1 || 4 || 16 || 64\n|-\n| 5 || 1 || 4 || 16 || 64\n|-\n| 6 || 1 || 4 || 16 || 64\n|-\n| 7 || 1 || 4 || 16 || 64\n|-\n| 8 || 1 || 4 || 16 || 64\n|-\n| 9 || 0 || 0 || 0 || 64\n|}\n\nFor any number from 1-8, there are exactly 4 numbers from 1-8 that are odd and less than the number or that are even and greater than the number (the same will happen for 0 and 9 in the last column). Thus, the answer is <math>4^{k-1} \\cdot 10 = 4^3\\cdot10 = 640</math>.\n-yeetdayeet"
  },
  {
    "year": 2007,
    "variant": "II",
    "problem_number": 7,
    "latex": "Given a [[real number]] <math>x,</math> let <math>\\lfloor x \\rfloor</math> denote the [[floor function|greatest integer]] less than or equal to <math>x.</math> For a certain [[integer]] <math>k,</math> there are exactly <math>70</math> positive integers <math>n_{1}, n_{2}, \\ldots, n_{70}</math> such that <math>k=\\lfloor\\sqrt[3]{n_{1}}\\rfloor = \\lfloor\\sqrt[3]{n_{2}}\\rfloor = \\cdots = \\lfloor\\sqrt[3]{n_{70}}\\rfloor</math> and <math>k</math> divides <math>n_{i}</math> for all <math>i</math> such that <math>1 \\leq i \\leq 70.</math>\n\nFind the maximum value of <math>\\frac{n_{i}}{k}</math> for <math>1\\leq i \\leq 70.</math>",
    "solution": "=== Solution 1===\nFor <math>x = 1</math>, we see that <math>\\sqrt[3]{1} \\ldots \\sqrt[3]{7}</math> all work, giving 7 integers. For <math>x=2</math>, we see that in <math>\\sqrt[3]{8} \\ldots \\sqrt[3]{26}</math>, all of the [[even]] numbers work, giving 10 integers. For <math>x = 3</math>, we get 13, and so on. We can predict that at <math>x = 22</math> we get 70.\n\nTo prove this, note that all of the numbers from <math>\\sqrt[3]{x^3} \\ldots \\sqrt[3]{(x+1)^3 - 1}</math> divisible by <math>x</math> work. Thus, <math>\\frac{(x+1)^3 - 1 - x^3}{x} + 1  = \\frac{3x^2 + 3x + 1 - 1}{x} + 1 = 3x + 4</math> (the one to be inclusive) integers will fit the conditions. <math>3k + 4 = 70 \\Longrightarrow k = 22</math>.\n\nThe maximum value of <math>n_i = (x + 1)^3 - 1</math>. Therefore, the solution is <math>\\frac{23^3 - 1}{22} = \\frac{(23 - 1)(23^2 + 23 + 1)}{22} = 529 + 23 + 1 = 553</math>.\n\n===Solution 2===\nObviously <math>k</math> is positive. Then, we can let <math>n_1</math> equal <math>k^3</math> and similarly let <math>n_i</math> equal <math>k^3 + (i - 1)k</math>. \n\nThe wording of this problem (which uses \"exactly\") tells us that <math>k^3+69k<(k+1)^3 = k^3 + 3k^2 + 3k+1 \\leq k^3+70k</math>. Taking away <math>k^3</math> from our inequality results in <math>69k<3k^2+3k+1\\leq 70k</math>. Since <math>69k</math>, <math>3k^2+3k+1</math>, and <math>70k</math> are all integers, this inequality is equivalent to <math>69k\\leq 3k^2+3k<70k</math>. Since <math>k</math> is positive, we can divide the inequality by <math>k</math> to get <math>69 \\leq 3k+3 < 70</math>. Clearly the only <math>k</math> that satisfies is <math>k=22</math>. \n\nThen, <math>\\frac{n_{70}}{k}=k^2+69=484+69=\\boxed{553}</math> is the maximum value of <math>\\frac{n_i}{k}</math>. (Remember we set <math>n_i</math> equal to <math>k^3 + (i - 1)k</math>!)"
  },
  {
    "year": 2007,
    "variant": "II",
    "problem_number": 8,
    "latex": "A [[rectangle|rectangular]] piece of paper measures 4 units by 5 units. Several [[line]]s are drawn [[parallel]] to the edges of the paper. A rectangle determined by the [[intersection]]s of some of these lines is called ''basic'' if \n\n:(i) all four sides of the rectangle are segments of drawn line segments, and \n:(ii) no [[segment]]s of drawn lines lie inside the rectangle.\n\nGiven that the total length of all lines drawn is exactly 2007 units, let <math>N</math> be the maximum possible number of basic rectangles determined. Find the [[remainder]] when <math>N</math> is divided by 1000.\n\n__TOC__",
    "solution": "=== Solution 1 ===\nDenote the number of horizontal lines drawn as <math>x</math>, and the number of vertical lines drawn as <math>y</math>. The number of basic rectangles is <math>(x - 1)(y - 1)</math>. <math>5x + 4y = 2007 \\Longrightarrow y = \\frac{2007 - 5x}{4}</math>. Substituting, we find that <math>(x - 1)\\left(-\\frac 54x + \\frac{2003}4\\right)</math>.\n\n[[FOIL]] this to get a quadratic, <math>-\\frac 54x^2 + 502x - \\frac{2003}4</math>. Use <math>\\frac{-b}{2a}</math> to find the maximum possible value of the quadratic: <math>x = \\frac{-502}{-2 \\cdot \\frac 54} = \\frac{1004}5 \\approx 201</math>. However, this gives a non-integral answer for <math>y</math>. The closest two values that work are <math>(199,253)</math> and <math>(203,248)</math>. \n\nWe see that <math>252 \\cdot 198 = 49896 > 202 \\cdot 247 = 49894</math>. The solution is <math>\\boxed{896}</math>.\n\n=== Solution 2 ===\nWe realize that drawing <math>x</math> vertical lines and <math>y</math> horizontal lines, the number of basic rectangles we have is <math>(x-1)(y-1)</math>. The easiest possible case to see is <math>223</math> vertical and <math>223</math> horizontal lines, as <math>(4+5)223 = 2007</math>. Now, for every 4 vertical lines you take away, you can add 5 horizontal lines, so you basically have the equation <math>(222-4x)(222+5x)</math> maximize. \n\nExpanded, this gives <math>-20x^{2}+222x+222^{2}</math>. From <math>-\\frac{b}{2a}</math> you get that the vertex is at <math>x=\\frac{111}{20}</math>. This is not an integer though, so you see that when <math>x=5</math>, you have <math>-20*25+222*5+222^{2}</math> and that when x=6, you have <math>-20*36+222*6+222^{2}</math>. <math>222 > 20*11</math>, so the maximum integral value for x occurs when <math>x=6</math>. Now you just evaluate <math>-20*36+222*6+222^{2}\\mod 1000</math> which is <math>{896}</math>."
  },
  {
    "year": 2007,
    "variant": "II",
    "problem_number": 9,
    "latex": "[[Rectangle]] <math>ABCD</math> is given with <math>AB=63</math> and <math>BC=448.</math> Points <math>E</math> and <math>F</math> lie on <math>AD</math> and <math>BC</math> respectively, such that <math>AE=CF=84.</math> The [[inscribed circle]] of [[triangle]] <math>BEF</math> is [[tangent]] to <math>EF</math> at point <math>P,</math> and the inscribed circle of triangle <math>DEF</math> is tangent to <math>EF</math> at [[point]] <math>Q.</math> Find <math>PQ.</math>",
    "solution": "[[Image:2007 AIME II-9.png]]\n\n=== Solution 1 ===\nSeveral [[Pythagorean triple]]s exist amongst the numbers given. <math>BE = DF = \\sqrt{63^2 + 84^2} = 21\\sqrt{3^2 + 4^2} = 105</math>. Also, the length of <math>EF = \\sqrt{63^2 + (448 - 2\\cdot84)^2} = 7\\sqrt{9^2 + 40^2} = 287</math>.\n\nUse the [[Two Tangent Theorem]] on <math>\\triangle BEF</math>. Since both circles are inscribed in congruent triangles, they are congruent; therefore, <math>EP = FQ = \\frac{287 - PQ}{2}</math>. By the Two Tangent theorem, note that <math>EP = EX = \\frac{287 - PQ}{2}</math>, making <math>BX = 105 - EX = 105 - \\left[\\frac{287 - PQ}{2}\\right]</math>. Also, <math>BX = BY</math>. <math>FY = 364 - BY = 364 - \\left[105 - \\left[\\frac{287 - PQ}{2}\\right]\\right]</math>. \n\nFinally, <math>FP = FY = 364 - \\left[105 - \\left[\\frac{287 - PQ}{2}\\right]\\right] = \\frac{805 - PQ}{2}</math>. Also, <math>FP = FQ + PQ = \\frac{287 - PQ}{2} + PQ</math>. Equating, we see that <math>\\frac{805 - PQ}{2} = \\frac{287 + PQ}{2}</math>, so <math>PQ = \\boxed{259}</math>.\n\n=== Solution 2 ===\nBy the [[Two Tangent Theorem]], we have that <math>FY = PQ + QF</math>. Solve for <math>PQ = FY - QF</math>. Also, <math>QF = EP = EX</math>, so <math>PQ = FY - EX</math>. Since <math>BX = BY</math>, this can become <math>PQ = FY - EX + (BY - BX)</math><math> = \\left(FY + BY\\right) - \\left(EX + BX\\right) = FB - EB</math>. Substituting in their values, the answer is <math>364 - 105 = 259</math>.\n\n===Solution 3===\n\nCall the incenter of <math>\\triangle BEF</math> <math>O_1</math> and the incenter of <math>\\triangle DFE</math> <math>O_2</math>. Draw triangles <math>\\triangle O_1PQ,\\triangle PQO_2</math>.\n\nDrawing <math>BE</math>, We find that <math>BE = \\sqrt {63^2 + 84^2} = 105</math>. Applying the same thing for <math>F</math>, we find that <math>FD = 105</math> as well. Draw a line through <math>E,F</math> parallel to the sides of the rectangle, to intersect the opposite side at <math>E_1,F_1</math> respectively. Drawing <math>\\triangle EE_1F</math> and <math>FF_1E</math>, we can find that <math>EF = \\sqrt {63^2 + 280^2} = 287</math>. We then use Heron's formula to get:\n\n<cmath>[BEF] = [DEF] = 11 466</cmath>.\n\nSo the inradius of the triangle-type things is <math>\\frac {637}{21}</math>.\n\nNow, we just have to find <math>O_1Q = O_2P</math>, which can be done with simple subtraction, and then we can use the [[Pythagorean Theorem]] to find <math>PQ</math>."
  },
  {
    "year": 2007,
    "variant": "II",
    "problem_number": 10,
    "latex": "Let <math>S</math> be a [[set]] with six [[element]]s. Let <math>\\mathcal{P}</math> be the set of all [[subset]]s of <math>S.</math> Subsets <math>A</math> and <math>B</math> of <math>S</math>, not necessarily distinct, are chosen independently and at random from <math>\\mathcal{P}</math>. The [[probability]] that <math>B</math> is contained in one of <math>A</math> or <math>S-A</math> is <math>\\frac{m}{n^{r}},</math> where <math>m</math>, <math>n</math>, and <math>r</math> are [[positive]] [[integer]]s, <math>n</math> is [[prime]], and <math>m</math> and <math>n</math> are [[relatively prime]]. Find <math>m+n+r.</math> (The set <math>S-A</math> is the set of all elements of <math>S</math> which are not in <math>A.</math>)",
    "solution": "Use [[casework]]:\n\n*<math>B</math> has 6 elements:\n**Probability: <math>\\frac{1}{2^6} = \\frac{1}{64}</math>\n**<math>A</math> must have either 0 or 6 elements, probability: <math>\\frac{2}{2^6} = \\frac{2}{64}</math>.\n*<math>B</math> has 5 elements:\n**Probability: <math>{6\\choose5}/64 = \\frac{6}{64}</math>\n**<math>A</math> must have either 0, 6, or 1, 5 elements. The total probability is <math>\\frac{2}{64} + \\frac{2}{64} = \\frac{4}{64}</math>. \n*<math>B</math> has 4 elements:\n**Probability: <math>{6\\choose4}/64 = \\frac{15}{64}</math>\n**<math>A</math> must have either 0, 6; 1, 5; or 2,4 elements. If there are 1 or 5 elements, the set which contains 5 elements must have four emcompassing <math>B</math> and a fifth element out of the remaining <math>2</math> numbers. The total probability is <math>\\frac{2}{64}\\left({2\\choose0} + {2\\choose1} + {2\\choose2}\\right) = \\frac{2}{64} + \\frac{4}{64} + \\frac{2}{64} = \\frac{8}{64}</math>.\n\nWe could just continue our casework. In general, the probability of picking B with <math>n</math> elements is <math>\\frac{{6\\choose n}}{64}</math>. Since the sum of the elements in the <math>k</math>th row of [[Pascal's Triangle]] is <math>2^k</math>, the probability of obtaining <math>A</math> or <math>S-A</math> which encompasses <math>B</math> is <math>\\frac{2^{7-n}}{64}</math>. In addition, we must count for when <math>B</math> is the empty set (probability: <math>\\frac{1}{64}</math>), of which all sets of <math>A</math> will work (probability: <math>1</math>).\n\nThus, the solution we are looking for is <math>\\left(\\sum_{i=1}^6 \\frac{{6\\choose i}}{64} \\cdot \\frac{2^{7-i}}{64}\\right) + \\frac{1}{64} \\cdot \\frac{64}{64}</math> \n<math>=\\frac{(1)(64)+(6)(64)+(15)(32)+(20)(16)+(15)(8)+(6)(4)+(1)(2)}{(64)(64)}</math> \n<math>=\\frac{1394}{2^{12}}</math>\n<math>=\\frac{697}{2^{11}}</math>.\n\nThe answer is <math>697 + 2 + 11 = 710</math>."
  },
  {
    "year": 2007,
    "variant": "II",
    "problem_number": 11,
    "latex": "Two long [[cylinder|cylindrical]] tubes of the same length but different [[diameter]]s lie [[parallel]] to each other on a [[plane|flat surface]]. The larger tube has [[radius]] <math>72</math> and rolls along the surface toward the smaller tube, which has radius <math>24</math>. It rolls over the smaller tube and continues rolling along the flat surface until it comes to rest on the same point of its [[circumference]] as it started, having made one complete revolution. If the smaller tube never moves, and the rolling occurs with no slipping, the larger tube ends up a [[distance]] <math>x</math> from where it starts. The distance <math>x</math> can be expressed in the form <math>a\\pi+b\\sqrt{c},</math> where <math>a,</math> <math>b,</math> and <math>c</math> are [[integer]]s and <math>c</math> is not divisible by the [[square]] of any [[prime]]. Find <math>a+b+c.</math>",
    "solution": "[[Image:2007 AIME II-11.png]]\n\nIf it weren‚Äôt for the small tube, the larger tube would travel <math>144\\pi</math>. Consider the distance from which the larger tube first contacts the smaller tube, until when it completely loses contact with the smaller tube.\n\nDrawing the radii as shown in the diagram, notice that the [[hypotenuse]] of the [[right triangle]] in the diagram has a length of <math>72 + 24 = 96</math>. The horizontal line divides the radius of the larger circle into <math>72 - 24 = 48</math> on the top half, which indicates that the right triangle has leg of 48 and hypotenuse of 96, a <math>30-60-90 \\triangle</math>. \n\nFind the length of the purple arc in the diagram (the distance the tube rolled, but not the horizontal distance). The sixty degree [[central angle]] indicates to take <math>\\frac{60}{360} = \\frac 16</math> of the circumference of the larger circle (twice), while the <math>180 - 2(30) = 120^{\\circ}</math> central angle in the smaller circle indicates to take <math>\\frac{120}{360} = \\frac 13</math> of the circumference. This adds up to <math>2 \\cdot \\frac 16 144\\pi + \\frac 13 48\\pi = 64\\pi</math>. \n\nThe actual horizontal distance it takes can be found by using the <math>30-60-90 \\triangle</math>s. The missing leg is equal in length to <math>48\\sqrt{3}</math>. Thus, the total horizontal distance covered is <math>96\\sqrt{3}</math>. \n\nThus, we get <math>144\\pi - 64\\pi + 96\\sqrt{3} = 80\\pi + 96\\sqrt{3}</math>, and our answer is <math>\\boxed{179}</math>."
  },
  {
    "year": 2007,
    "variant": "II",
    "problem_number": 12,
    "latex": "The increasing [[geometric sequence]] <math>x_{0},x_{1},x_{2},\\ldots</math> consists entirely of [[integer|integral]] powers of <math>3.</math> Given that\n\n<math>\\sum_{n=0}^{7}\\log_{3}(x_{n}) = 308</math> and <math>56 \\leq \\log_{3}\\left ( \\sum_{n=0}^{7}x_{n}\\right ) \\leq 57,</math>\n\nfind <math>\\log_{3}(x_{14}).</math>",
    "solution": "Suppose that <math>x_0 = a</math>, and that the common [[ratio]] between the terms is <math>r</math>. \n\n\nThe first conditions tells us that <math>\\log_3 a + \\log_3 ar + \\ldots + \\log_3 ar^7 = 308</math>. Using the rules of [[logarithm]]s, we can simplify that to <math>\\log_3 a^8r^{1 + 2 + \\ldots + 7} = 308</math>. Thus, <math>a^8r^{28} = 3^{308}</math>. Since all of the terms of the geometric sequence are integral powers of <math>3</math>, we know that both <math>a</math> and <math>r</math> must be powers of 3. Denote <math>3^x = a</math> and <math>3^y = r</math>. We find that <math>8x + 28y = 308</math>. The possible positive integral pairs of <math>(x,y)</math> are <math>(35,1),\\ (28,3),\\ (21,5),\\ (14,7),\\ (7,9),\\ (0,11)</math>.\n\n\nThe second condition tells us that <math>56 \\le \\log_3 (a + ar + \\ldots ar^7) \\le 57</math>. Using the sum formula for a [[geometric series]] and substituting <math>x</math> and <math>y</math>, this simplifies to <math>3^{56} \\le 3^x \\frac{3^{8y} - 1}{3^y-1} \\le 3^{57}</math>. The fractional part <math>\\approx \\frac{3^{8y}}{3^y} = 3^{7y}</math>. Thus, we need <math>\\approx 56 \\le x + 7y \\le 57</math>. Checking the pairs above, only <math>(21,5)</math> is close.\n\n\nOur solution is therefore <math>\\log_3 (ar^{14}) = \\log_3 3^x + \\log_3 3^{14y} = x + 14y = \\boxed{091}</math>."
  },
  {
    "year": 2007,
    "variant": "II",
    "problem_number": 13,
    "latex": "A [[triangle|triangular]] [[array]] of [[square]]s has one square in the first row, two in the second, and in general, <math>k</math> squares in the <math>k</math>th row for <math>1 \\leq k \\leq 11.</math> With the exception of the bottom row, each square rests on two squares in the row immediately below (illustrated in the given diagram). In each square of the eleventh row, a <math>0</math> or a <math>1</math> is placed. Numbers are then placed into the other squares, with the entry for each square being the sum of the entries in the two squares below it. For how many initial distributions of <math>0</math>'s and <math>1</math>'s in the bottom row is the number in the top square a [[multiple]] of <math>3</math>?\n\n<asy>\nfor (int i=0; i<12; ++i){\n for (int j=0; j<i; ++j){\n   //dot((-j+i/2,-i));\n   draw((-j+i/2,-i)--(-j+i/2+1,-i)--(-j+i/2+1,-i+1)--(-j+i/2,-i+1)--cycle);\n }\n}\n</asy>",
    "solution": "Label each of the bottom squares as <math>x_0, x_1 \\ldots x_9, x_{10}</math>. \n\nThrough [[induction]], we can find that the top square is equal to <math>{10\\choose0}x_0 + {10\\choose1}x_1 + {10\\choose2}x_2 + \\ldots {10\\choose10}x_{10}</math>. (This also makes sense based on a combinatorial argument: the number of ways a number can \"travel\" to the top position going only up is equal to the number of times it will be counted in the final sum.)\n\nExamine the equation <math>\\mod 3</math>. All of the coefficients from <math>x_2 \\ldots x_8</math> will be multiples of <math>3</math> (since the numerator will have a <math>9</math>). Thus, the expression boils down to <math>x_0 + 10x_1 + 10x_9 + x_{10} \\equiv 0 \\mod 3</math>. Reduce to find that <math>x_0 + x_1 + x_9 + x_{10} \\equiv 0 \\mod 3</math>. Out of <math>x_0,\\ x_1,\\ x_9,\\ x_{10}</math>, either all are equal to <math>0</math>, or three of them are equal to <math>1</math>. This gives <math>{4\\choose0} + {4\\choose3} = 1 + 4 = 5</math> possible combinations of numbers that work. \n\nThe seven terms from <math>x_2 \\ldots x_8</math> can assume either <math>0</math> or <math>1</math>, giving us <math>2^7</math> possibilities. The answer is therefore <math>5 \\cdot 2^7 = \\boxed{640}</math>."
  },
  {
    "year": 2007,
    "variant": "II",
    "problem_number": 14,
    "latex": "Let <math>f(x)</math> be a [[polynomial]] with real [[coefficient]]s such that <math>f(0) = 1,</math> <math>f(2)+f(3)=125,</math> and for all <math>x</math>, <math>f(x)f(2x^{2})=f(2x^{3}+x).</math> Find <math>f(5).</math>",
    "solution": "== Official Solution (MAA)==\nIf the leading term of <math>f(x)</math> is <math>ax^m</math>, then the leading term of <math>f(x)f(2x^2) = ax^m \\cdot a(2x^2)^m = 2^ma^2x^{3m}</math>, and the leading term of <math>f(2x^3 + x) = 2^max^{3m}</math>. Hence <math>2^ma^2 = 2^ma</math>, and <math>a = 1</math>. Because <math>f(0) = 1</math>, the product of all the roots\nof <math>f(x)</math> is <math>\\pm 1</math>. If <math>f(\\lambda) = 0</math>, then <math>f(2\\lambda^3 + \\lambda) = 0</math>. Assume that there exists a root <math>\\lambda</math> with <math>|\\lambda| \\neq 1</math>. Then there must be such a root <math>\\lambda_1</math> with <math>|\\lambda_1| > 1</math>. Then <cmath>|2\\lambda^3 + \\lambda| \\ge 2|\\lambda|^3 - |\\lambda| > 2|\\lambda| - |\\lambda| = |\\lambda|.</cmath> But then <math>f(x)</math> would have infinitely many roots, given by <math>\\lambda_{k+1} = 2\\lambda_k^3 + \\lambda_k</math>, for <math>k \\ge 1</math>. \nTherefore <math>|\\lambda| = 1</math> for all of the roots of the polynomial. Thus <math>\\lambda\\overline{\\lambda}=1</math>, and <math>(2\\lambda^3 + \\lambda)\\overline{(2\\lambda^3 + \\lambda)} = 1</math>.\nSolving these equations simultaneously for <math>\\lambda = a + bi</math> yields <math>a = 0</math>, <math>b^2 = 1</math>, and so <math>\\lambda^2 = -1</math>. Because the polynomial has real coefficients, the polynomial must have the form <math>f(x) = (1 + x^2)^n</math> for some integer <math>n \\ge 1</math>. The condition <math>f(2) + f(3) = 125</math> implies <math>n = 2</math>, giving <math>f(5) = \\boxed{676}</math>."
  },
  {
    "year": 2007,
    "variant": "II",
    "problem_number": 15,
    "latex": "Four [[circle]]s <math>\\omega,</math> <math>\\omega_{A},</math> <math>\\omega_{B},</math> and <math>\\omega_{C}</math> with the same [[radius]] are drawn in the interior of [[triangle]] <math>ABC</math> such that <math>\\omega_{A}</math> is [[tangent]] to sides <math>AB</math> and <math>AC</math>, <math>\\omega_{B}</math> to <math>BC</math> and <math>BA</math>, <math>\\omega_{C}</math> to <math>CA</math> and <math>CB</math>, and <math>\\omega</math> is [[externally tangent]] to <math>\\omega_{A},</math> <math>\\omega_{B},</math> and <math>\\omega_{C}</math>. If the sides of triangle <math>ABC</math> are <math>13,</math> <math>14,</math> and <math>15,</math> the radius of <math>\\omega</math> can be represented in the form <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are [[relatively prime]] positive integers. Find <math>m+n.</math>\n\n__TOC__",
    "solution": "== Diagram ==\n<asy>\ndefaultpen(fontsize(12)+0.8); size(300);\n\npair A,B,C,X,Y,Z,P,Q,R;\nB=origin; C=15*right; A=IP(CR(B,13),CR(C,14)); P=incenter(A,B,C);\nreal r=260/129;\nQ=r*(rotate(-90)*A/length(A)); X=extension(A,P,Q,Q+A); Y=extension(B,P,Q,Q+A);\nR=rotate(90,C)*(C+r*(A-C)/length(A-C)); Z=extension(C,P,R,R+A-C);\ndraw(A--B--C--A); draw(CR(X,r)^^CR(Y,r)^^CR(Z,r)^^A--P--B^^P--C, gray); draw(CR(circumcenter(X,Y,Z),r), gray);\nlabel(\"$A$\",A,N); label(\"$B$\",B,0.15*(B-P)); label(\"$C$\",C,0.1*(C-P));\npen p=fontsize(10)+linewidth(3);\ndot(\"$O_A$\",X,right,p); dot(\"$O_B$\",Y,left+up,p); dot(\"$O_C$\",Z,right+up,p); dot(\"$O$\",circumcenter(X,Y,Z),right+down,p); dot(\"$I$\",P,left+up,p);\n</asy>"
  },
  {
    "year": 2008,
    "variant": "I",
    "problem_number": 1,
    "latex": "Of the students attending a school party, <math>60\\%</math> of the students are girls, and <math>40\\%</math> of the students like to dance. After these students are joined by <math>20</math> more boy students, all of whom like to dance, the party is now <math>58\\%</math> girls. How many students now at the party like to dance?",
    "solution": "===Solution 1===\nSay that there were <math>3k</math> girls and <math>2k</math> boys at the party originally. <math>2k</math> like to dance. Then, there are <math>3k</math> girls and <math>2k + 20</math> boys, and <math>2k + 20</math> like to dance.\n\nThus, <math>\\dfrac{3k}{5k + 20} = \\dfrac{29}{50}</math>, solving gives <math>k = 116</math>. Thus, the number of people that like to dance is <math>2k + 20 = \\boxed{252}</math>.\n\n===Solution 2===\nLet the number of girls be <math>g</math>. Let the number of total people originally be <math>t</math>.\n\nWe know that <math>\\frac{g}{t}=\\frac{3}{5}</math> from the problem.\n\nWe also know that <math>\\frac{g}{t+20}=\\frac{29}{50}</math> from the problem.\n\nWe now have a system and we can solve.\n\nThe first equation becomes:\n\n<math>3t=5g</math>.\n\nThe second equation becomes: \n\n<math>50g=29t+580</math>\n\nNow we can sub in <math>30t=50g</math> by multiplying the first equation by <math>10</math>. We can plug this into our second equation.\n\n<math>30t=29t+580</math>\n\n<math>t=580</math>\n\nWe know that there were originally <math>580</math> people. Of those, <math>\\frac{2}{5}*580=232</math> like to dance.\n\nWe also know that with these people, <math>20</math> boys joined, all of whom like to dance. We just simply need to add <math>20</math> to get <math>232+20=\\boxed{252}</math>"
  },
  {
    "year": 2008,
    "variant": "I",
    "problem_number": 2,
    "latex": "Square <math>AIME</math> has sides of length <math>10</math> units.  Isosceles triangle <math>GEM</math> has base <math>EM</math>, and the area common to triangle <math>GEM</math> and square <math>AIME</math> is <math>80</math> square units.  Find the length of the altitude to <math>EM</math> in <math>\\triangle GEM</math>.",
    "solution": "Note that if the altitude of the triangle is at most <math>10</math>, then the maximum area of the intersection of the triangle and the square is <math>5\\cdot10=50</math>.\nThis implies that vertex G must be located outside of square <math>AIME</math>.\n\n<center><asy>\npair E=(0,0), M=(10,0), I=(10,10), A=(0,10);\ndraw(A--I--M--E--cycle);\npair G=(5,25);\ndraw(G--E--M--cycle);\nlabel(\"\\(G\\)\",G,N);\nlabel(\"\\(A\\)\",A,NW);\nlabel(\"\\(I\\)\",I,NE);\nlabel(\"\\(M\\)\",M,NE);\nlabel(\"\\(E\\)\",E,NW);\nlabel(\"\\(10\\)\",(M+E)/2,S);\n</asy></center>\nLet <math>GE</math> meet <math>AI</math> at <math>X</math> and let <math>GM</math> meet <math>AI</math> at <math>Y</math>. Clearly, <math>XY=6</math> since the area of [[trapezoid]] <math>XYME</math> is <math>80</math>. Also, <math>\\triangle GXY \\sim \\triangle GEM</math>.\n\nLet the height of <math>GXY</math> be <math>h</math>. By the similarity, <math>\\dfrac{h}{6} = \\dfrac{h + 10}{10}</math>, we get <math>h = 15</math>. Thus, the height of <math>GEM</math> is <math>h + 10 = \\boxed{025}</math>."
  },
  {
    "year": 2008,
    "variant": "I",
    "problem_number": 3,
    "latex": "Ed and Sue bike at equal and constant rates.  Similarly, they jog at equal and constant rates, and they swim at equal and constant rates.  Ed covers <math>74</math> kilometers after biking for <math>2</math> hours, jogging for <math>3</math> hours, and swimming for <math>4</math> hours, while Sue covers <math>91</math> kilometers after jogging for <math>2</math> hours, swimming for <math>3</math> hours, and biking for <math>4</math> hours.  Their biking, jogging, and swimming rates are all whole numbers of kilometers per hour.  Find the sum of the squares of Ed's biking, jogging, and swimming rates.",
    "solution": "Let the biking rate be <math>b</math>, swimming rate be <math>s</math>, jogging rate be <math>j</math>, all in km/h.\n\nWe have <math>2b + 3j + 4s = 74,2j + 3s + 4b = 91</math>. Subtracting the second from twice the first gives <math>4j + 5s = 57</math>. Mod 4, we need <math>s\\equiv1\\pmod{4}</math>. Thus, <math>(j,s) = (13,1),(8,5),(3,9)</math>.\n\n<math>(13,1)</math> and <math>(3,9)</math> give non-integral <math>b</math>, but <math>(8,5)</math> gives <math>b = 15</math>. Thus, our answer is <math>15^{2} + 8^{2} + 5^{2} = \\boxed{314}</math>."
  },
  {
    "year": 2008,
    "variant": "I",
    "problem_number": 4,
    "latex": "There exist unique positive integers <math>x</math> and <math>y</math> that satisfy the equation <math>x^2 + 84x + 2008 = y^2</math>. Find <math>x + y</math>.",
    "solution": "[[Completing the square]], <math>y^2 = x^2 + 84x + 2008 = (x+42)^2 + 244</math>. Thus <math>244 = y^2 - (x+42)^2 = (y - x - 42)(y + x + 42)</math> by [[difference of squares]]. \n\nSince <math>244</math> is even, one of the factors is even. A [[parity]] check shows that if one of them is even, then both must be even. Since <math>244 = 2^2 \\cdot 61</math>, the factors must be <math>2</math> and <math>122</math>. Since <math>x,y > 0</math>, we have <math>y - x - 42 = 2</math> and <math>y + x + 42 = 122</math>; the latter equation implies that <math>x + y = \\boxed{080}</math>. \n\nIndeed, by solving, we find <math>(x,y) = (18,62)</math> is the unique solution."
  },
  {
    "year": 2008,
    "variant": "I",
    "problem_number": 5,
    "latex": "A right circular [[cone]] has base radius <math>r</math> and height <math>h</math>.  The cone lies on its side on a flat table.  As the cone rolls on the surface of the table without slipping, the point where the cone's base meets the table traces a circular arc centered  at the point where the vertex touches the table.  The cone first returns to its original position on the table after making <math>17</math> complete rotations.  The value of <math>h/r</math> can be written in the form <math>m\\sqrt {n}</math>, where <math>m</math> and <math>n</math> are positive integers and <math>n</math> is not divisible by the square of any prime.  Find <math>m + n</math>.",
    "solution": "The path is a circle with radius equal to the slant height of the cone, which is <math>\\sqrt {r^{2} + h^{2}}</math>. Thus, the length of the path is <math>2\\pi\\sqrt {r^{2} + h^{2}}</math>.\n\nAlso, the length of the path is 17 times the circumference of the base, which is <math>34r\\pi</math>. Setting these equal gives <math>\\sqrt {r^{2} + h^{2}} = 17r</math>, or <math>h^{2} = 288r^{2}</math>. Thus, <math>\\dfrac{h^{2}}{r^{2}} = 288</math>, and <math>\\dfrac{h}{r} = 12\\sqrt {2}</math>, giving an answer of <math>12 + 2 = \\boxed{014}</math>."
  },
  {
    "year": 2008,
    "variant": "I",
    "problem_number": 6,
    "latex": "A [[triangle|triangular]] array of numbers has a first row consisting of the odd integers <math>1,3,5,\\ldots,99</math> in increasing order.  Each row below the first has one fewer entry than the row above it, and the bottom row has a single entry.  Each entry in any row after the top row equals the sum of the two entries diagonally above it in the row immediately above it.  How many entries in the array are multiples of <math>67</math>?",
    "solution": "Let the <math>k</math>th number in the <math>n</math>th row be <math>a(n,k)</math>. Writing out some numbers, we find that <math>a(n,k) = 2^{n-1}(n+2k-2)</math>.{{ref|1}}\n\nWe wish to find all <math>(n,k)</math> such that <math>67| a(n,k) = 2^{n-1} (n+2k-2)</math>. Since <math>2^{n-1}</math> and <math>67</math> are [[relatively prime]], it follows that <math>67|n+2k-2</math>. Since every row has one less element than the previous row, <math>1 \\le k \\le 51-n</math> (the first row has <math>50</math> elements, the second <math>49</math>, and so forth; so <math>k</math> can range from <math>1</math> to <math>50</math> in the first row, and so forth). Hence \n\n<center><math>n+2k-2 \\le n + 2(51-n) - 2 = 100 - n \\le 100,</math></center>\n\nit follows that <math>67| n - 2k + 2</math> implies that <math>n-2k+2 = 67</math> itself.\n\nNow, note that we need <math>n</math> to be odd, and also that <math>n+2k-2 = 67 \\le 100-n \\Longrightarrow n \\le 33</math>.\n\nWe can check that all rows with odd <math>n</math> satisfying <math>1 \\le n \\le 33</math> indeed contains one entry that is a multiple of <math>67</math>, and so the answer is <math>\\frac{33+1}{2} = \\boxed{017}</math>.\n\n\n<br />\n\n{{note|1}} Proof: Indeed, note that <math>a(1,k) = 2^{1-1}(1+2k-2)=2k-1</math>, which is the correct formula for the first row. We claim the result by [[induction]] on <math>n</math>. By definition of the array, <math>a(n,k) = a(n-1,k)+a(n-1,k+1)</math>, and by our inductive hypothesis, \n<cmath>\\begin{align*}a(n,k) &= a(n-1,k)+a(n-1,k+1)\\\\ &= 2^{n-2}(n-1+2k-2)+2^{n-2}(n-1+2(k+1)-2)\\\\&=2^{n-2}(2n+4k-4)\\\\&=2^{n-1}(n+2k-2)\\end{align*}</cmath>\nthereby completing our induction."
  },
  {
    "year": 2008,
    "variant": "I",
    "problem_number": 7,
    "latex": "Let <math>S_i</math> be the set of all integers <math>n</math> such that <math>100i\\leq n < 100(i + 1)</math>.  For example, <math>S_4</math> is the set <math>{400,401,402,\\ldots,499}</math>.  How many of the sets <math>S_0, S_1, S_2, \\ldots, S_{999}</math> do not contain a perfect square?",
    "solution": "The difference between consecutive squares is <math>(x + 1)^2 - x^2 = 2x + 1</math>, which means that all squares above <math>50^2 = 2500</math> are more than <math>100</math> apart.\n\nThen the first <math>26</math> sets (<math>S_0,\\cdots S_{25}</math>) each have at least one perfect square because the differences between consecutive squares in them are all less than <math>100</math>. Also, since <math>316</math> is the largest <math>x</math> such that <math>x^2 < 100000</math> (<math>100000</math> is the upper bound which all numbers in <math>S_{999}</math> must be less than), there are <math>316 - 50 = 266</math> other sets after <math>S_{25}</math> that have a perfect square.\n\nThere are <math>1000 - 266 - 26 = \\boxed{708}</math> sets without a perfect square."
  },
  {
    "year": 2008,
    "variant": "I",
    "problem_number": 8,
    "latex": "Find the positive integer <math>n</math> such that \n\n<cmath>\\arctan\\frac {1}{3} + \\arctan\\frac {1}{4} + \\arctan\\frac {1}{5} + \\arctan\\frac {1}{n} = \\frac {\\pi}{4}.</cmath>",
    "solution": "Since we are dealing with acute angles, <math>\\tan(\\arctan{a}) = a</math>.\n\nNote that <math>\\tan(\\arctan{a} + \\arctan{b}) = \\dfrac{a + b}{1 - ab}</math>, by tangent addition. Thus, <math>\\arctan{a} + \\arctan{b} = \\arctan{\\dfrac{a + b}{1 - ab}}</math>.\n\nApplying this to the first two terms, we get <math>\\arctan{\\dfrac{1}{3}} + \\arctan{\\dfrac{1}{4}} = \\arctan{\\dfrac{7}{11}}</math>.\n\nNow, <math>\\arctan{\\dfrac{7}{11}} + \\arctan{\\dfrac{1}{5}} = \\arctan{\\dfrac{23}{24}}</math>.\n\nWe now have <math>\\arctan{\\dfrac{23}{24}} + \\arctan{\\dfrac{1}{n}} = \\dfrac{\\pi}{4} = \\arctan{1}</math>. Thus, <math>\\dfrac{\\dfrac{23}{24} + \\dfrac{1}{n}}{1 - \\dfrac{23}{24n}} = 1</math>; and simplifying, <math>23n + 24 = 24n - 23 \\Longrightarrow n = \\boxed{47}</math>."
  },
  {
    "year": 2008,
    "variant": "I",
    "problem_number": 9,
    "latex": "Ten identical crates each of dimensions <math>3\\mathrm{ft}\\times 4\\mathrm{ft}\\times 6\\mathrm{ft}</math>.  The first crate is placed flat on the floor.  Each of the remaining nine crates is placed, in turn, flat on top of the previous crate, and the orientation of each crate is chosen at random.  Let <math>\\frac {m}{n}</math> be the probability that the stack of crates is exactly <math>41\\mathrm{ft}</math> tall, where <math>m</math> and <math>n</math> are relatively prime positive integers.  Find <math>m</math>.",
    "solution": "Only the heights matter, and each crate is either 3, 4, or 6 feet tall with equal probability. We have the following:\n\n<cmath>\\begin{align*}3a + 4b + 6c &= 41\\\\\na + b + c &= 10\\end{align*}</cmath>\n\nSubtracting 3 times the second from the first gives <math>b + 3c = 11</math>, or <math>(b,c) = (2,3),(5,2),(8,1),(11,0)</math>. The last doesn't work, obviously. This gives the three solutions <math>(a,b,c) = (5,2,3),(3,5,2),(1,8,1)</math>. In terms of choosing which goes where, the first two solutions are analogous.\n\nFor <math>(5,2,3),(3,5,2)</math>, we see that there are <math>2\\cdot\\dfrac{10!}{5!2!3!} = 10\\cdot9\\cdot8\\cdot7</math> ways to stack the crates. For <math>(1,8,1)</math>, there are <math>\\dfrac{10!}{8!1!1!} = 90</math>. Also, there are <math>3^{10}</math> total ways to stack the crates to any height.\n\nThus, our probability is <math>\\dfrac{10\\cdot9\\cdot8\\cdot7 + 90}{3^{10}} = \\dfrac{10\\cdot8\\cdot7 + 10}{3^{8}} = \\dfrac{570}{3^8} = \\dfrac{190}{3^{7}}</math>. Our answer is the numerator, <math>\\boxed{190}</math>."
  },
  {
    "year": 2008,
    "variant": "I",
    "problem_number": 10,
    "latex": "Let <math>ABCD</math> be an [[isosceles trapezoid]] with <math>\\overline{AD}||\\overline{BC}</math> whose angle at the longer base <math>\\overline{AD}</math> is <math>\\dfrac{\\pi}{3}</math>. The [[diagonal]]s have length <math>10\\sqrt {21}</math>, and point <math>E</math> is at distances <math>10\\sqrt {7}</math> and <math>30\\sqrt {7}</math> from vertices <math>A</math> and <math>D</math>, respectively. Let <math>F</math> be the foot of the [[altitude]] from <math>C</math> to <math>\\overline{AD}</math>. The distance <math>EF</math> can be expressed in the form <math>m\\sqrt {n}</math>, where <math>m</math> and <math>n</math> are positive integers and <math>n</math> is not divisible by the square of any prime. Find <math>m + n</math>.",
    "solution": "<center><asy>\nsize(300);\ndefaultpen(1);\npair A=(0,0), D=(4,0), B= A+2 expi(1/3*pi), C= D+2expi(2/3*pi), E=(-4/3,0), F=(3,0);\ndraw(F--C--B--A);\ndraw(E--A--D--C);\ndraw(A--C,dashed);\ndraw(circle(A,abs(C-A)),dotted);\nlabel(\"\\(A\\)\",A,S);\nlabel(\"\\(B\\)\",B,NW);\nlabel(\"\\(C\\)\",C,NE);\nlabel(\"\\(D\\)\",D,SE);\nlabel(\"\\(E\\)\",E,N);\nlabel(\"\\(F\\)\",F,S);\nclip(currentpicture,(-1.5,-1)--(5,-1)--(5,3)--(-1.5,3)--cycle);\n</asy></center>\n\n'''Key observation.''' <math>AD = 20\\sqrt{7}</math>.\n\n'''Proof 1.''' By the [[triangle inequality]], we can immediately see that <math>AD \\geq 20\\sqrt{7}</math>. However, notice that <math>10\\sqrt{21} = 20\\sqrt{7}\\cdot\\sin\\frac{\\pi}{3}</math>, so by the law of sines, when <math>AD = 20\\sqrt{7}</math>, <math>\\angle ACD</math> is right and the circle centered at <math>A</math> with radius <math>10\\sqrt{21}</math>, which we will call <math>\\omega</math>, is tangent to <math>\\overline{CD}</math>. Thus, if <math>AD</math> were increased, <math>\\overline{CD}</math> would have to be moved even farther outwards from <math>A</math> to maintain the angle of <math>\\frac{\\pi}{3}</math> and <math>\\omega</math> could not touch it, a contradiction.\n\n'''Proof 2.''' Again, use the triangle inequality to obtain <math>AD \\geq 20\\sqrt{7}</math>. Let <math>x = AD</math> and <math>y = CD</math>. By the law of cosines on <math>\\triangle ADC</math>, <math>2100 = x^2+y^2-xy \\iff y^2-xy+(x^2-2100) = 0</math>. Viewing this as a quadratic in <math>y</math>, the discriminant <math>\\Delta</math> must satisfy <math>\\Delta = x^2-4(x^2-2100) = 8400-3x^2 \\geq 0 \\iff x \\leq 20\\sqrt{7}</math>. Combining these two inequalities yields the desired conclusion.\n\nThis observation tells us that <math>E</math>, <math>A</math>, and <math>D</math> are collinear, in that order.\n\nThen, <math>\\triangle ADC</math> and <math>\\triangle ACF</math> are <math>30-60-90</math> triangles. Hence <math>AF = 15\\sqrt {7}</math>, and\n<center><math>EF = EA + AF = 10\\sqrt {7} + 15\\sqrt {7} = 25\\sqrt {7}</math>.</center>\nFinally, the answer is <math>25+7=\\boxed{032}</math>."
  },
  {
    "year": 2008,
    "variant": "I",
    "problem_number": 11,
    "latex": "Consider sequences that consist entirely of <math>A</math>'s and <math>B</math>'s and that have the property that every run of consecutive <math>A</math>'s has even length, and every run of consecutive <math>B</math>'s has odd length. Examples of such sequences are <math>AA</math>, <math>B</math>, and <math>AABAA</math>, while <math>BBAB</math> is not such a sequence. How many such sequences have length 14?",
    "solution": "Let <math>a_n</math> and <math>b_n</math> denote, respectively, the number of sequences of length <math>n</math> ending in <math>A</math> and <math>B</math>. If a sequence ends in an <math>A</math>, then it must have been formed by appending two <math>A</math>s to the end of a string of length <math>n-2</math>. If a sequence ends in a <math>B,</math> it must have either been formed by appending one <math>B</math> to a string of length <math>n-1</math> ending in an <math>A</math>, or by appending two <math>B</math>s to a string of length <math>n-2</math> ending in a <math>B</math>. Thus, we have the [[recursion]]s\n<cmath>\n\\begin{align*}\na_n &= a_{n-2} + b_{n-2}\\\\\nb_n &= a_{n-1} + b_{n-2} \n\\end{align*}\n</cmath>\nBy counting, we find that <math>a_1 = 0, b_1 = 1, a_2 = 1, b_2 = 0</math>. \n<cmath>\\begin{array}{|r||r|r|||r||r|r|}\n\\hline\nn & a_n & b_n & n & a_n & b_n\\\\\n\\hline\n1&0&1&\n8&6&10\\\\\n2&1&0&\n9&11&11\\\\\n3&1&2&\n10&16&21\\\\\n4&1&1&\n11&22&27\\\\\n5&3&3&\n12&37&43\\\\\n6&2&4&\n13&49&64\\\\\n7&6&5&\n14&80&92\\\\\n\\hline\n\\end{array}\n</cmath>\nTherefore, the number of such strings of length <math>14</math> is <math>a_{14} + b_{14} = \\boxed{172}</math>."
  },
  {
    "year": 2008,
    "variant": "I",
    "problem_number": 12,
    "latex": "On a long straight stretch of one-way single-lane highway, cars all travel at the same speed and all obey the safety rule: the distance from the back of the car ahead to the front of the car behind is exactly one car length for each 15 kilometers per hour of speed or fraction thereof (Thus the front of a car traveling 52 kilometers per hour will be four car lengths behind the back of the car in front of it.) A photoelectric eye by the side of the road counts the number of cars that pass in one hour. Assuming that each car is 4 meters long and that the cars can travel at any speed, let <math>M</math> be the maximum whole number of cars that can pass the photoelectric eye in one hour. Find the quotient when <math>M</math> is divided by <math>10</math>.",
    "solution": "Let <math>n</math> be the number of car lengths that separates each car (it is easy to see that this should be the same between each pair of consecutive cars.) Then their speed is at most <math>15n</math>. Let a ''unit'' be the distance between the cars (front to front). Then the length of each unit is <math>4(n + 1)</math>. To maximize, in a unit, the CAR comes first, THEN the empty space. So at time zero, the car is right at the eye.\n\nHence, we count the number of units that pass the eye in an hour: <math>\\frac {15,000n\\frac{\\text{meters}}{\\text{hour}}}{4(n + 1)\\frac{\\text{meters}}{\\text{unit}}} = \\frac {15,000n}{4(n + 1)}\\frac{\\text{units}}{\\text{hour}}</math>. We wish to maximize this.\n\nObserve that as <math>n</math> gets larger, the <math> + 1</math> gets less and less significant, so we take the limit as <math>n</math> approaches infinity\n<center><math>\\lim_{n\\rightarrow \\infty}\\frac {15,000n}{4(n + 1)} = \\lim_{n\\rightarrow \\infty}\\frac {15,000}{4} = 3750</math></center>\nNow, as the speeds are clearly finite, we can never actually reach <math>3750</math> full UNITs. However, we only need to find the number of CARS. We can increase their speed so that the camera stops (one hour goes by) after the car part of the <math>3750</math>th unit has passed, but not all of the space behind it. Hence, <math>3750</math> cars is possible, and the answer is <math>\\boxed {375}</math>."
  },
  {
    "year": 2008,
    "variant": "I",
    "problem_number": 13,
    "latex": "Let\n\n<cmath>p(x,y) = a_0 + a_1x + a_2y + a_3x^2 + a_4xy + a_5y^2 + a_6x^3 + a_7x^2y + a_8xy^2 + a_9y^3.</cmath>\n\nSuppose that \n\n<cmath>p(0,0) = p(1,0) = p( - 1,0) = p(0,1) = p(0, - 1)\\\\ = p(1,1) = p(1, - 1) = p(2,2) = 0.</cmath>\n\nThere is a point <math>\\left(\\frac {a}{c},\\frac {b}{c}\\right)</math> for which <math>p\\left(\\frac {a}{c},\\frac {b}{c}\\right) = 0</math> for all such polynomials, where <math>a</math>, <math>b</math>, and <math>c</math> are positive integers, <math>a</math> and <math>c</math> are relatively prime, and <math>c > 1</math>.  Find <math>a + b + c</math>.",
    "solution": "=== Solution 1 ===\n<cmath>\\begin{align*}\np(0,0) &= a_0 \\\\\n&= 0 \\\\\np(1,0) &= a_0 + a_1 + a_3 + a_6 \\\\\n&= a_1 + a_3 + a_6 \\\\\n&= 0 \\\\\np(-1,0) &= -a_1 + a_3 - a_6 \\\\\n&= 0\n\\end{align*}</cmath>\n\nAdding the above two equations gives <math>a_3 = 0</math>, and so we can deduce that <math>a_6 = -a_1</math>.\n\nSimilarly, plugging in <math>(0,1)</math> and <math>(0,-1)</math> gives <math>a_5 = 0</math> and <math>a_9 = -a_2</math>. Now,\n<cmath>\\begin{align*}\np(1,1) &= a_0 + a_1 + a_2 + a_3 + a_4 + a_5 + a_6 + a_7 + a_8 + a_9 \\\\\n&= 0 + a_1 + a_2 + 0 + a_4 + 0 - a_1 + a_7 + a_8 - a_2 \\\\\n&= a_4 + a_7 + a_8 \\\\\n&= 0 \\\\\np(1,-1) &= a_0 + a_1 - a_2 + 0 - a_4 + 0 - a_1 - a_7 + a_8 + a_2 \\\\\n&= -a_4 - a_7 + a_8 \\\\\n&= 0\n\\end{align*}</cmath>\nTherefore <math>a_8 = 0</math> and <math>a_7 = -a_4</math>. Finally,\n<cmath>\\begin{align*}\np(2,2) &= 0 + 2a_1 + 2a_2 + 0 + 4a_4 + 0 - 8a_1 - 8a_4 +0 - 8a_2 \\\\\n&= -6 a_1 - 6 a_2 - 4 a_4 \\\\\n&= 0\n\\end{align*}</cmath>\nSo, <math>3a_1 + 3a_2 + 2a_4 = 0</math>, or equivalently <math>a_4 = -\\frac{3(a_1 + a_2)}{2}</math>.\n\nSubstituting these equations into the original polynomial <math>p</math>, we find that at <math>\\left(\\frac{a}{c}, \\frac{b}{c}\\right)</math>,\n<cmath>a_1x + a_2y + a_4xy - a_1x^3 - a_4x^2y - a_2y^3 = 0 \\iff</cmath>\n<cmath>a_1x + a_2y - \\frac{3(a_1 + a_2)}{2}xy - a_1x^3 + \\frac{3(a_1 + a_2)}{2}x^2y - a_2y^3 = 0 \\iff</cmath>\n<cmath>a_1x(x - 1)\\left(x + 1 - \\frac{3}{2}y\\right) + a_2y\\left(y^2 - 1 - \\frac{3}{2}x(x - 1)\\right) = 0</cmath>.\nThe remaining coefficients <math>a_1</math> and <math>a_2</math> are now completely arbitrary because the original equations impose no more restrictions on them. Hence, for the final equation to hold for all possible <math>p</math>, we must have <math>x(x - 1)\\left(x + 1 - \\frac{3}{2}y\\right) = y\\left(y^2 - 1 - \\frac{3}{2}x(x - 1)\\right) = 0</math>. \n\nAs the answer format implies that the <math>x</math>-coordinate of the root is non-integral, <math>x(x - 1)\\left(x + 1 - \\frac{3}{2}y\\right) = 0 \\iff x + 1 - \\frac{3}{2}y = 0 \\iff y = \\frac{2}{3}(x + 1)\\ (1)</math>. The format also implies that <math>y</math> is positive, so <math>y\\left(y^2 - 1 - \\frac{3}{2}x(x - 1)\\right) = 0 \\iff y^2 - 1 - \\frac{3}{2}x(x - 1) = 0\\ (2)</math>. Substituting <math>(1)</math> into <math>(2)</math> and reducing to a quadratic yields <math>(19x - 5)(x - 2) = 0</math>, in which the only non-integral root is <math>x = \\frac{5}{19}</math>, so <math>y = \\frac{16}{19}</math>.\n\nThe answer is <math>5 + 16 + 19 = \\boxed{040}</math>.\n\n<asy>\nunitsize(1.2 cm);\n\nreal upperhyper (real x) {\nreturn(sqrt((3*x^2 - 3*x + 2)/2));\n}\n\nreal lowerhyper (real x) {\nreturn(-sqrt((3*x^2 - 3*x + 2)/2));\n}\n\nint i;\n\nfor (i = -3; i <= 3; ++i) {\ndraw((-3,i)--(3,i),gray(0.7));\ndraw((i,-3)--(i,3),gray(0.7));\n}\n\ndraw((0,-3)--(0,3),red);\ndraw((1,-3)--(1,3),red);\ndraw((-3,-4/3)--(3,8/3),red);\ndraw((-3,0)--(3,0),blue);\ndraw(graph(upperhyper,-1.863,2.863),blue);\ndraw(graph(lowerhyper,-1.836,2.863),blue);\n\ndot(\"$(0,0)$\", (0,0), NE, fontsize(8));\ndot(\"$(1,0)$\", (1,0), NE, fontsize(8));\ndot(\"$(-1,0)$\", (-1,0), NW, fontsize(8));\ndot(\"$(0,1)$\", (0,1), SW, fontsize(8));\ndot(\"$(0,-1)$\", (0,-1), NW, fontsize(8));\ndot(\"$(1,1)$\", (1,1), SE, fontsize(8));\ndot(\"$(1,-1)$\", (1,-1), NE, fontsize(8));\ndot(\"$(2,2)$\", (2,2), SE, fontsize(8));\ndot((5/19,16/19), green);\n</asy>\n\n=== Solution 2 ===\nConsider the cross section of <math>z = p(x, y)</math> on the plane <math>z = 0</math>. We realize that we could construct the lines/curves in the cross section such that their equations multiply to match the form of <math>p(x, y)</math> (same degree of <math>x</math> and <math>y</math> in terms) and they include the eight given points. One simple way to do this would be to use the equations <math>x = 0</math>, <math>x = 1</math>, and <math>y = \\frac{2}{3}x + \\frac{2}{3}</math>, giving us \n\n<math>p_1(x, y) = x\\left(x - 1\\right)\\left( \\frac{2}{3}x - y + \\frac{2}{3}\\right) = \\frac{2}{3}x + xy + \\frac{2}{3}x^3-x^2y</math>.\n\nAnother way to do this would to use the line <math>y = x</math> and the ellipse, <math>x^2 + xy + y^2 = 1</math>. This would give\n\n<math>p_2(x, y) = \\left(x - y\\right)\\left(x^2 + xy + y^2 - 1\\right) = -x + y + x^3 - y^3</math>. (But \n\n(Another way would be to use the hyperbola from Solution 1. Interesting that different curves both work.)\n\nAt this point, we consider that <math>p_1</math> and <math>p_2</math> both must have <math>\\left(\\frac{a}{c}, \\frac{b}{c}\\right)</math> as a zero. A quick graph of the 4 lines and the ellipse used to create <math>p_1</math> and <math>p_2</math> gives nine intersection points. Eight of them are the given ones, and the ninth is <math>\\left(\\frac{5}{19}, \\frac{16}{19}\\right)</math>. The last intersection point can be found by finding the intersection points of <math>y = \\frac{2}{3}x + \\frac{2}{3}</math> and <math>x^2 + xy + y^2 = 1</math>.\nFinally, just add the values of <math>a</math>, <math>b</math>, and <math>c</math> to get <math>5 + 16 + 19 = \\boxed{040}</math>\n\n<asy>\nunitsize(1.2 cm);\n\nreal upperellipse(real x) {\nreturn((sqrt(4- 3*x^2 )-x)/2);\n}\n\nreal lowerellipse(real x) {\nreturn((-sqrt(4- 3*x^2 )-x)/2);\n}\n\nint i;\n\nfor (i = -3; i <= 3; ++i) {\ndraw((-3,i)--(3,i),gray(0.7));\ndraw((i,-3)--(i,3),gray(0.7));\n}\n\ndraw((0,-3)--(0,3),red);\ndraw((1,-3)--(1,3),red);\ndraw((-3,-4/3)--(3,8/3),red);\n\ndraw((-3, -3)--(3,3),blue);\ndraw(graph(upperellipse,-1.1547,1.1547),blue);\ndraw(graph(lowerellipse, -1.1547,1.1547),blue);\n\ndot(\"$(0,0)$\", (0,0), NE, fontsize(8));\ndot(\"$(1,0)$\", (1,0), NE, fontsize(8));\ndot(\"$(-1,0)$\", (-1,0), NW, fontsize(8));\ndot(\"$(0,1)$\", (0,1), SW, fontsize(8));\ndot(\"$(0,-1)$\", (0,-1), NW, fontsize(8));\ndot(\"$(1,1)$\", (1,1), SE, fontsize(8));\ndot(\"$(1,-1)$\", (1,-1), NE, fontsize(8));\ndot(\"$(2,2)$\", (2,2), SE, fontsize(8));\ndot((5/19,16/19), green);\n</asy>"
  },
  {
    "year": 2008,
    "variant": "I",
    "problem_number": 14,
    "latex": "Let <math>\\overline{AB}</math> be a diameter of circle <math>\\omega</math>. Extend <math>\\overline{AB}</math> through <math>A</math> to <math>C</math>. Point <math>T</math> lies on <math>\\omega</math> so that line <math>CT</math> is tangent to <math>\\omega</math>. Point <math>P</math> is the foot of the perpendicular from <math>A</math> to line <math>CT</math>. Suppose <math>\\overline{AB} = 18</math>, and let <math>m</math> denote the maximum possible length of segment <math>BP</math>. Find <math>m^{2}</math>.",
    "solution": "=== Solution 1 ===\n<center><asy>\nsize(250); defaultpen(0.70 + fontsize(10)); import olympiad;\npair O = (0,0), B = O - (9,0), A= O + (9,0), C=A+(18,0), T = 9 * expi(-1.2309594), P = foot(A,C,T);\ndraw(Circle(O,9)); draw(B--C--T--O); draw(A--P); dot(A); dot(B); dot(C); dot(O); dot(T); dot(P);\ndraw(rightanglemark(O,T,C,30)); draw(rightanglemark(A,P,C,30)); draw(anglemark(B,A,P,35));\ndraw(B--P, blue);\nlabel(\"\\(A\\)\",A,NW);\nlabel(\"\\(B\\)\",B,NW);\nlabel(\"\\(C\\)\",C,NW);\nlabel(\"\\(O\\)\",O,NW);\nlabel(\"\\(P\\)\",P,SE);\nlabel(\"\\(T\\)\",T,SE);\nlabel(\"\\(9\\)\",(O+A)/2,N);\nlabel(\"\\(9\\)\",(O+B)/2,N);\nlabel(\"\\(x-9\\)\",(C+A)/2,N);\n</asy></center>\n\nLet <math>x = OC</math>. Since <math>OT, AP \\perp TC</math>, it follows easily that <math>\\triangle APC \\sim \\triangle OTC</math>. Thus <math>\\frac{AP}{OT} = \\frac{CA}{CO} \\Longrightarrow AP = \\frac{9(x-9)}{x}</math>. By the [[Law of Cosines]] on <math>\\triangle BAP</math>, \n<cmath>\\begin{align*}BP^2 = AB^2 + AP^2 - 2 \\cdot AB \\cdot AP \\cdot \\cos \\angle BAP \\end{align*}</cmath>\nwhere <math>\\cos \\angle BAP = \\cos (180 - \\angle TOA) = - \\frac{OT}{OC} = - \\frac{9}{x}</math>, so: \n<cmath>\\begin{align*}BP^2 &= 18^2 + \\frac{9^2(x-9)^2}{x^2} + 2(18) \\cdot \\frac{9(x-9)}{x} \\cdot \\frac 9x = 405 + 729\\left(\\frac{2x - 27}{x^2}\\right)\\end{align*}</cmath>\nLet <math>k = \\frac{2x-27}{x^2} \\Longrightarrow kx^2 - 2x + 27 = 0</math>; this is a quadratic, and its [[discriminant]] must be nonnegative: <math>(-2)^2 - 4(k)(27) \\ge 0 \\Longleftrightarrow k \\le \\frac{1}{27}</math>. Thus,\n<cmath>BP^2 \\le 405 + 729 \\cdot \\frac{1}{27} = \\boxed{432}</cmath>\nEquality holds when <math>x = 27</math>.~Shen Kislay Kai\n\n==== Solution 1.1 (Calculus) ====\n\nProceed as follows for Solution 1. \n\nOnce you approach the function <math>k=(2x-27)/x^2</math>, find the maximum value by setting <math>dk/dx=0</math>.\n\nSimplifying <math>k</math> to take the derivative, we have <math>2/x-27/x^2</math>, so <math>dk/dx=-2/x^2+54/x^3</math>.  Setting <math>dk/dx=0</math>, we have <math>2/x^2=54/x^3</math>.  \n\nSolving, we obtain <math>x=27</math> as the critical value.  Hence, <math>k</math> has the maximum value of <math>(2*27-27)/27^2=1/27</math>.  Since <math>BP^2=405+729k</math>, the maximum value of <math>\\overline {BP}</math> occurs at <math>k=1/27</math>, so <math>BP^2</math> has a maximum value of <math>405+729/27=\\fbox{432}</math>.  \n\nNote: Please edit this solution if it feels inadequate.\n~Shen Kislay Kai\n\n===Solution 2===\n<center><asy>\nunitsize(3mm);\npair B=(0,13.5), C=(23.383,0);\npair O=(7.794, 9), P=(2*7.794,0);\npair T=(7.794,0), Q=(0,0);\npair A=(2*7.794,4.5);\n\ndraw(Q--B--C--Q);\ndraw(O--T);\ndraw(A--P);\ndraw(Circle(O,9));\n\ndot(A);dot(B);dot(C);dot(T);dot(P);dot(O);dot(Q);\nlabel(\"\\(B\\)\",B,NW);\nlabel(\"\\(A\\)\",A,NE);\nlabel(\"\\(O\\)\",O,N);\nlabel(\"\\(P\\)\",P,S);\nlabel(\"\\(T\\)\",T,S);\nlabel(\"\\(Q\\)\",Q,S);\nlabel(\"\\(C\\)\",C,E);\nlabel(\"\\(\\theta\\)\",C + (-1.7,-0.2), NW);\nlabel(\"\\(9\\)\", (B+O)/2, N);\nlabel(\"\\(9\\)\", (O+A)/2, N);\nlabel(\"\\(9\\)\", (O+T)/2,W);\n</asy></center>\n\nFrom the diagram, we see that <math>BQ = OT + BO \\sin\\theta = 9 + 9\\sin\\theta = 9(1 + \\sin\\theta)</math>, and that <math>QP = BA\\cos\\theta = 18\\cos\\theta</math>.\n\n<cmath>\\begin{align*}BP^2 &= BQ^2 + QP^2 = 9^2(1 + \\sin\\theta)^2 + 18^2\\cos^2\\theta\\\\\n&= 9^2[1 + 2\\sin\\theta + \\sin^2\\theta + 4(1 - \\sin^2\\theta)]\\\\\nBP^2 &= 9^2[5 + 2\\sin\\theta - 3\\sin^2\\theta]\\end{align*}</cmath>\n\nThis is a [[quadratic equation]], maximized when <math>\\sin\\theta = \\frac { - 2}{ - 6} = \\frac {1}{3}</math>. Thus, <math>m^2 = 9^2[5 + \\frac {2}{3} - \\frac {1}{3}] = \\boxed{432}</math>.\n\n===Solution 3 (Calculus Bash)===\n\n<center><asy>\nunitsize(3mm);\npair B=(0,13.5), C=(23.383,0);\npair O=(7.794, 9), P=(2*7.794,0);\npair T=(7.794,0), Q=(0,0);\npair A=(2*7.794,4.5);\n\ndraw(Q--B--C--Q);\ndraw(O--T);\ndraw(A--P);\ndraw(Circle(O,9));\n\ndot(A);dot(B);dot(C);dot(T);dot(P);dot(O);dot(Q);\nlabel(\"\\(B\\)\",B,NW);\nlabel(\"\\(A\\)\",A,NE);\nlabel(\"\\(\\omega\\)\",O,N);\nlabel(\"\\(P\\)\",P,S);\nlabel(\"\\(T\\)\",T,S);\nlabel(\"\\(Q\\)\",Q,S);\nlabel(\"\\(C\\)\",C,E);\nlabel(\"\\(9\\)\", (B+O)/2, N);\nlabel(\"\\(9\\)\", (O+A)/2, N);\nlabel(\"\\(9\\)\", (O+T)/2,W);\n</asy></center>\n\n(Diagram credit goes to Solution 2)\n\nWe let <math>AC=x</math>. From similar triangles, we have that <math>PC=\\frac{x\\sqrt{x^2+18x}}{x+9}</math> (Use Pythagorean on <math>\\triangle\\omega TC</math> and then using <math>\\triangle\\omega CT\\sim\\triangle ACP</math>). Similarly, <math>TP=QT=\\frac{9\\sqrt{x^2+18x}}{x+9}</math>. Using the Pythagorean Theorem again and <math>\\triangle CAP\\sim\\triangle CBQ</math>, <math>BQ=\\sqrt{(x+18)^2-(\\frac{(x+18)\\sqrt{x^2+18x}}{x+9})^2}</math>. Using the Pythagorean Theorem <math>\\bold{again}</math>, <math>BP=\\sqrt{(x+18)^2-(\\frac{(x+18)\\sqrt{x^2+18x}}{x+9})^2+(\\frac{18\\sqrt{x^2+18x}}{x+9})^2}</math>. After a large bashful simplification, <math>BP=\\sqrt{405+\\frac{1458x-6561}{x^2+18x+81}}</math>. The fraction is equivalent to <math>729\\frac{2x-9}{(x+9)^2}</math>. Taking the derivative of the fraction and solving for x, we get that <math>x=18</math>. Plugging <math>x=18</math> back into the expression for <math>BP</math> yields <math>\\sqrt{432}</math>, so the answer is <math>(\\sqrt{432})^2=\\boxed{432}</math>.\n\n===Solution 4===\n\n<center><asy>\nunitsize(3mm);\npair B=(0,13.5), C=(23.383,0);\npair O=(7.794, 9), P=(2*7.794,0);\npair T=(7.794,0), Q=(0,0);\npair A=(2*7.794,4.5);\n\ndraw(Q--B--C--Q);\ndraw(O--T);\ndraw(A--P);\ndraw(Circle(O,9));\n\ndot(A);dot(B);dot(C);dot(T);dot(P);dot(O);dot(Q);\nlabel(\"\\(B\\)\",B,NW);\nlabel(\"\\(A\\)\",A,NE);\nlabel(\"\\(\\omega\\)\",O,N);\nlabel(\"\\(P\\)\",P,S);\nlabel(\"\\(T\\)\",T,S);\nlabel(\"\\(Q\\)\",Q,S);\nlabel(\"\\(C\\)\",C,E);\nlabel(\"\\(9\\)\", (B+O)/2, N);\nlabel(\"\\(9\\)\", (O+A)/2, N);\nlabel(\"\\(9\\)\", (O+T)/2,W);\n</asy></center>\n\n(Diagram credit goes to Solution 2)\n\nLet <math>AC=x</math>. The only constraint on <math>x</math> is that it must be greater than <math>0</math>. Using similar triangles, we can deduce that <math>PA=\\frac{9x}{x+9}</math>. Now, apply law of cosines on <math>\\triangle PAB</math>. <cmath>BP^2=\\left(\\frac{9x^2}{x+9}\\right)^2+18^2-2(18)\\left(\\frac{9x}{x+9}\\right)\\cos(\\angle PAB).</cmath> We can see that <math>\\cos(\\angle PAB)=\\cos(180^{\\circ}-\\angle PAC)=\\cos(\\angle PAC -90^{\\circ})=-\\sin(\\angle PCA)</math>. We can find <math>-\\sin(\\angle PCA)=-\\frac{9}{x+9}</math>. Plugging this into our equation, we get: \n<cmath>BP^2=\\left(\\frac{9x^2}{x+9}\\right)^2+18^2-2(18)\\left(\\frac{9x}{x+9}\\right)\\left(-\\frac{9}{x+9}\\right).</cmath> Eventually, <cmath>BP^2 = 81\\left(\\frac{x^2+36x}{(x+9)^2}+4\\right).</cmath> We want to maximize <math>\\frac{x^2+36x}{(x+9)^2}</math>. There are many ways to maximize this expression, discussed here: https://artofproblemsolving.com/community/c4h2292700_maximization. The maximum result of that expression is <math>\\frac{4}{3}</math>. Finally, evaluating <math>BP^2</math> for this value <math>81\\left(\\frac{4}{3}+4\\right) = \\boxed{432}</math>. \n\n\n~superagh\n\n===Solution 5 (Clean)===\nLet <math>h</math> be the distance from <math>A</math> to <math>CT</math>. Observe that <math>h</math> takes any value from <math>0</math> to <math>r</math>, where <math>r</math> is the radius of the circle.\n\nLet <math>Q</math> be the foot of the altitude from <math>B</math> to <math>CT</math>. It is clear that <math>T</math> is the midpoint of <math>PQ</math>, and so the length <math>OT</math> is the average of <math>AP</math> and <math>BQ</math>. It follows thus that <math>BQ = 2r - h</math>.\n\nWe compute <math>PT = \\sqrt{r^2 - (r - h)^2} = \\sqrt{h(2r - h)},</math>\nand so <math>BP^2 = PQ^2 + BQ^2 = 4PT^2 + BQ^2 = 4h(2r - h) + (2r-h)^2 = (2r-h)(2r + 3h)</math>.\nThis is <math>\\frac{1}{3}(6r - 3h)(2r + 3h) \\le \\frac{1}{3} \\cdot \\left( \\frac{8r}{2} \\right)^2</math>. Equality is attained, so thus we extract the answer of <math>\\frac{16 \\cdot 9^2}{3} = 27 \\cdot 16 = \\boxed{432}.</math>"
  },
  {
    "year": 2008,
    "variant": "I",
    "problem_number": 15,
    "latex": "A square piece of paper has sides of length <math>100</math>. From each corner a wedge is cut in the following manner: at each corner, the two cuts for the wedge each start at a distance <math>\\sqrt{17}</math> from the corner, and they meet on the diagonal at an angle of <math>60^{\\circ}</math> (see the figure below). The paper is then folded up along the lines joining the vertices of adjacent cuts. When the two edges of a cut meet, they are taped together. The result is a paper tray whose sides are not at right angles to the base. The height of the tray, that is, the perpendicular distance between the plane of the base and the plane formed by the upper edges, can be written in the form <math>\\sqrt[n]{m}</math>, where <math>m</math> and <math>n</math> are positive integers, <math>m<1000</math>, and <math>m</math> is not divisible by the <math>n</math>th power of any prime. Find <math>m+n</math>.\n<center><asy>import cse5;\nsize(200);\npathpen=black;\nreal s=sqrt(17);\nreal r=(sqrt(51)+s)/sqrt(2);\nD((0,2*s)--(0,0)--(2*s,0));\nD((0,s)--r*dir(45)--(s,0));\nD((0,0)--r*dir(45));\nD((r*dir(45).x,2*s)--r*dir(45)--(2*s,r*dir(45).y));\nMP(\"30^\\circ\",r*dir(45)-(0.25,1),SW);\nMP(\"30^\\circ\",r*dir(45)-(1,0.5),SW);\nMP(\"\\sqrt{17}\",(0,s/2),W);\nMP(\"\\sqrt{17}\",(s/2,0),S);\nMP(\"\\mathrm{cut}\",((0,s)+r*dir(45))/2,N);\nMP(\"\\mathrm{cut}\",((s,0)+r*dir(45))/2,E);\nMP(\"\\mathrm{fold}\",(r*dir(45).x,s+r/2*dir(45).y),E);\nMP(\"\\mathrm{fold}\",(s+r/2*dir(45).x,r*dir(45).y));</asy></center>",
    "solution": "== Picture for Solutions ==\n(Used for the following solutions)\n\n<center><asy>\nimport three; import math; import cse5; import olympiad;\nsize(500);\npathpen=blue;\nreal r = (51^0.5-17^0.5)/200, h=867^0.25/100;\ntriple A=(0,0,0),B=(1,0,0),C=(1,1,0),D=(0,1,0);\ntriple F=B+(r,-r,h),G=(1,-r,h),H=(1+r,0,h),I=B+(0,0,h);\ndraw(B--F--H--cycle); draw(B--F--G--cycle);\ndraw(G--I--H); draw(B--I); draw(A--B--C--D--cycle);\ntriple Fa=A+(-r,-r, h), Fc=C+(r,r, h), Fd=D+(-r,r, h);\ntriple Ia = A+(0,0,h), Ic = C+(0,0,h), Id = D+(0,0,h);\ndraw(Ia--I--Ic); draw(Fa--F--Fc--Fd--cycle);\ndraw(A--Fa); draw(C--Fc); draw(D--Fd);\ntriple A1 = (F.x,F.y,0); real factor = 1/4;\ndraw(F--A1--B); draw((A1+(F-A1)*factor)--(A1+(F-A1)*factor+(B-A1)*factor)--(A1+(B-A1)*factor)); \n</asy></center>"
  },
  {
    "year": 2008,
    "variant": "II",
    "problem_number": 1,
    "latex": "Let <math>N = 100^2 + 99^2 - 98^2 - 97^2 + 96^2 + \\cdots + 4^2 + 3^2 - 2^2 - 1^2</math>, where the additions and subtractions alternate in pairs. Find the remainder when <math>N</math> is divided by <math>1000</math>.",
    "solution": "Rewriting this sequence with more terms, we have\n<center><cmath>\\begin{align*}\nN &= 100^2 + 99^2 - 98^2 - 97^2 + 96^2 + 95^2 - 94^2 - 93^2 + 92^2 + 91^2 + \\ldots - 10^2 - 9^2 + 8^2 + 7^2 - 6^2 - 5^2 + 4^2 + 3^2 - 2^2 - 1^2 \\mbox{, and reordering, we get}\\\\\nN &= (100^2 - 98^2) + (99^2 - 97^2) + (96^2 - 94^2)  + (95^2 - 93^2) + (92^2 - 90^2) + \\ldots +  (8^2 - 6^2) + (7^2 - 5^2) +(4^2 - 2^2) + (3^2 - 1^2) \\mbox{.}\n\\end{align*}</cmath></center>\nFactoring this expression yields\n<center><cmath>\\begin{align*}\nN &= (100 - 98)(100 + 98) + (99 - 97)(99 + 97) + (96 - 94)(96 + 94) + (95 - 93)(95 + 93) + (92 - 90)(90 + 92) + \\ldots + (8 - 6)(8 + 6) + (7 - 5)(7 + 5) + (4 - 2)(4 + 2) + (3 - 1)(3 + 1) \\mbox{, leading to}\\\\\nN &= 2(100 + 98) + 2(99 + 97) + 2(96 + 94) + 2(95 + 93) + 2(92 + 90) + \\ldots + 2(8 + 6) + 2(7 + 5) + 2(4 + 2) + 2(3 + 1) \\mbox{.}\n\\end{align*}</cmath></center>\nNext, we get\n<center><cmath>\\begin{align*}\nN &= 2(100 + 98 + 99 + 97 + 96 + 94 + 95 + 93 + 92 + 90 + \\ldots + 8 + 6 + 7 + 5 + 4 + 2 + 3 + 1 \\mbox{, and rearranging terms yields}\\\\\nN &= 2(100 + 99 + 98 + 97 + 96 + \\ldots + 5 + 4 + 3 + 2 + 1) \\mbox{.}\n\\end{align*}</cmath></center>\nThen,\n<center><cmath>\\begin{align*}\nN &= 2\\left(\\frac{(100)(101)}{2}\\right) \\mbox{, and simplifying, we get}\\\\\nN &= (100)(101) \\mbox{, so}\\\\\nN &= 10100 \\mbox{.}\n\\end{align*}</cmath></center>\nDividing <math>10100</math> by <math>1000</math> yields a remainder of <math>\\boxed{100}</math>."
  },
  {
    "year": 2008,
    "variant": "II",
    "problem_number": 2,
    "latex": "<!-- don't remove the following tag, for PoTW on the Wiki front page--><onlyinclude>Rudolph bikes at a [[constant]] rate and stops for a five-minute break at the end of every mile. Jennifer bikes at a constant rate which is three-quarters the rate that Rudolph bikes, but Jennifer takes a five-minute break at the end of every two miles. Jennifer and Rudolph begin biking at the same time and arrive at the <math>50</math>-mile mark at exactly the same time. How many minutes has it taken them?<!-- don't remove the following tag, for PoTW on the Wiki front page--></onlyinclude>",
    "solution": "== Simple Solution ==\nLet <math>r</math> be the time Rudolph takes disregarding breaks and <math>\\frac{4}{3}r</math> be the time Jennifer takes disregarding breaks. We have the equation\n<cmath>r+5\\left(49\\right)=\\frac{4}{3}r+5\\left(24\\right)</cmath>\n<cmath>125=\\frac13r</cmath>\n<cmath>r=375.</cmath>\nThus, the total time they take is <math>375 + 5(49) = \\boxed{620}</math> minutes."
  },
  {
    "year": 2008,
    "variant": "II",
    "problem_number": 3,
    "latex": "A block of cheese in the shape of a rectangular solid measures <math>10</math> cm by <math>13</math> cm by <math>14</math> cm. Ten slices are cut from the cheese. Each slice has a width of <math>1</math> cm and is cut parallel to one face of the cheese. The individual slices are not necessarily parallel to each other. What is the maximum possible volume in cubic cm of the remaining block of cheese after ten slices have been cut off?",
    "solution": "Let the lengths of the three sides of the rectangular solid after the cutting be <math>a,b,c</math>, so that the desired volume is <math>abc</math>. Note that each cut reduces one of the dimensions by one, so that after ten cuts, <math>a+b+c = 10 + 13 + 14 - 10 = 27</math>. By [[AM-GM]], <math>\\frac{a+b+c}{3} = 9 \\ge \\sqrt[3]{abc} \\Longrightarrow abc \\le \\boxed{729}</math>. Equality is achieved when <math>a=b=c=9</math>, which is possible if we make one slice perpendicular to the <math>10</math> cm edge, four slices perpendicular to the <math>13</math> cm edge, and five slices perpendicular to the <math>14</math> cm edge."
  },
  {
    "year": 2008,
    "variant": "II",
    "problem_number": 4,
    "latex": "There exist <math>r</math> unique nonnegative integers <math>n_1 > n_2 > \\cdots > n_r</math> and <math>r</math> unique integers <math>a_k</math> (<math>1\\le k\\le r</math>) with each <math>a_k</math> either <math>1</math> or <math>- 1</math> such that\n<cmath>\na_13^{n_1} + a_23^{n_2} + \\cdots + a_r3^{n_r} = 2008.\n</cmath>\nFind <math>n_1 + n_2 + \\cdots + n_r</math>.",
    "solution": "In base <math>3</math>, we find that <math>\\overline{2008}_{10} = \\overline{2202101}_{3}</math>. In other words,\n<center><math>2008 = 2 \\cdot 3^{6} + 2 \\cdot 3^{5} + 2 \\cdot 3^3 + 1 \\cdot 3^2 + 1 \\cdot 3^0</math></center>\nIn order to rewrite as a sum of perfect powers of <math>3</math>, we can use the fact that <math>2 \\cdot 3^k = 3^{k+1} - 3^k</math>:\n<center><math>2008 = (3^7 - 3^6) + (3^6-3^5) + (3^4 - 3^3) + 3^2 + 3^0 = 3^7 - 3^5 + 3^4 - 3^3 + 3^2 + 3^0</math></center>\nThe answer is <math>7+5+4+3+2+0 = \\boxed{021}</math>.\n\nNote : Solution by bounding is also possible, namely using the fact that <math>1+3+3^2 + \\cdots + 3^{n} = \\displaystyle\\frac{3^{n+1}-1}{2}.</math>"
  },
  {
    "year": 2008,
    "variant": "II",
    "problem_number": 5,
    "latex": "In [[trapezoid]] <math>ABCD</math> with <math>\\overline{BC}\\parallel\\overline{AD}</math>, let <math>BC = 1000</math> and <math>AD = 2008</math>. Let <math>\\angle A = 37^\\circ</math>, <math>\\angle D = 53^\\circ</math>, and <math>M</math> and <math>N</math> be the [[midpoint]]s of <math>\\overline{BC}</math> and <math>\\overline{AD}</math>, respectively. Find the length <math>MN</math>.",
    "solution": "=== Solution 1 ===\nExtend <math>\\overline{AB}</math> and <math>\\overline{CD}</math> to meet at a point <math>E</math>. Then <math>\\angle AED = 180 - 53 - 37 = 90^{\\circ}</math>.\n<center><asy>\nsize(220);\ndefaultpen(0.7+fontsize(10));\nreal f=100, r=1004/f;\npair A=(0,0), D=(2*r, 0), N=(r,0), E=N+r*expi(74*pi/180);\npair B=(126*A+125*E)/251, C=(126*D + 125*E)/251;\npair[] M = intersectionpoints(N--E,B--C);\ndraw(A--B--C--D--cycle); \ndraw(B--E--C,dashed);\ndraw(M[0]--N); draw(N--E,dashed);\ndraw(rightanglemark(D,E,A,2));\npicture p = new picture; \ndraw(p,Circle(N,r),dashed+linewidth(0.5));\nclip(p,A--D--D+(0,20)--A+(0,20)--cycle);\nadd(p);\nlabel(\"\\(A\\)\",A,SW);\nlabel(\"\\(B\\)\",B,NW);\nlabel(\"\\(C\\)\",C,NE);\nlabel(\"\\(D\\)\",D,SE);\nlabel(\"\\(E\\)\",E,NE);\nlabel(\"\\(M\\)\",M[0],SW);\nlabel(\"\\(N\\)\",N,S);\nlabel(\"\\(1004\\)\",(N+D)/2,S);\nlabel(\"\\(500\\)\",(M[0]+C)/2,S);\n</asy></center>\nAs <math>\\angle AED = 90^{\\circ}</math>, note that the midpoint of <math>\\overline{AD}</math>, <math>N</math>, is the center of the [[circumcircle]] of <math>\\triangle AED</math>. We can do the same with the circumcircle about <math>\\triangle BEC</math> and <math>M</math> (or we could apply the homothety to find <math>ME</math> in terms of <math>NE</math>). It follows that\n\n<cmath>NE = ND = \\frac {AD}{2} = 1004, \\quad ME = MC = \\frac {BC}{2} = 500.</cmath>\n\nThus <math>MN = NE - ME = \\boxed{504}</math>.\n\n\nFor purposes of rigor we will show that <math>E,M,N</math> are collinear. Since <math>\\overline{BC} \\parallel \\overline{AD}</math>, then <math>BC</math> and <math>AD</math> are [[homothecy|homothetic]] with respect to point <math>E</math> by a ratio of <math>\\frac{BC}{AD} = \\frac{125}{251}</math>. Since the homothety carries the midpoint of <math>\\overline{BC}</math>, <math>M</math>, to the midpoint of <math>\\overline{AD}</math>, which is <math>N</math>, then <math>E,M,N</math> are [[collinear]].\n\n=== Solution 2 ===\n<center><asy>\nsize(220);\ndefaultpen(0.7+fontsize(10));\nreal f=100, r=1004/f;\npair A=(0,0), D=(2*r, 0), N=(r,0), E=N+r*expi(74*pi/180);\npair B=(126*A+125*E)/251, C=(126*D + 125*E)/251;\npair[] M = intersectionpoints(N--E,B--C);\npair F = foot(B,A,D), G=foot(C,A,D), H=foot(M[0],A,D);\ndraw(A--B--C--D--cycle); \ndraw(M[0]--N); draw(B--F,dashed); draw(C--G,dashed); draw(M[0]--H,dashed);\nlabel(\"\\(A\\)\",A,SW);\nlabel(\"\\(B\\)\",B,NW);\nlabel(\"\\(C\\)\",C,NE);\nlabel(\"\\(D\\)\",D,NE);\nlabel(\"\\(F\\)\",F,S);\nlabel(\"\\(G\\)\",G,SW);\nlabel(\"\\(M\\)\",M[0],SW);\nlabel(\"\\(N\\)\",N,S);\nlabel(\"\\(H\\)\",H,S);\nlabel(\"\\(x\\)\",(N+H)/2+(0,1),S);\nlabel(\"\\(h\\)\",(B+F)/2,W);\nlabel(\"\\(h\\)\",(C+G)/2,W);\nlabel(\"\\(1000\\)\",(B+C)/2,NE);\nlabel(\"\\(504-x\\)\",(G+D)/2,S);\nlabel(\"\\(504+x\\)\",(A+F)/2,S);\nlabel(\"\\(h\\)\",(M[0]+H)/2,(1,0));\n</asy></center>\nLet <math>F,G,H</math> be the feet of the [[perpendicular]]s from <math>B,C,M</math> onto <math>\\overline{AD}</math>, respectively. Let <math>x = NH</math>, so <math>DG = 1004 - 500 - x = 504 - x</math> and <math>AF = 1004 - (500 - x) = 504 + x</math>. Also, let <math>h = BF = CG = HM</math>. \n\nBy AA~, we have that <math>\\triangle AFB \\sim \\triangle CGD</math>, and so \n<cmath>\\frac{BF}{AF} = \\frac {DG}{CG} \\Longleftrightarrow \\frac{h}{504+x} = \\frac{504-x}{h} \\Longrightarrow x^2 + h^2 = 504^2.</cmath>\n\nBy the [[Pythagorean Theorem]] on <math>\\triangle MHN</math>,\n<cmath>MN^{2} = x^2 + h^2 = 504^2,</cmath> so <math>MN = \\boxed{504}</math>.\n\n=== Solution 3 ===\nIf you drop perpendiculars from <math>B</math> and <math>C</math> to <math>AD</math>, and call the points where they meet <math>\\overline{AD}</math>, <math>E</math> and <math>F</math> respectively, then <math>FD = x</math> and <math>EA = 1008-x</math> , and so you can solve an equation in tangents. Since <math>\\angle{A} = 37</math> and <math>\\angle{D} = 53</math>, you can solve the equation [by cross-multiplication]:\n\n<cmath>\\begin{align*}\\tan{37}\\times (1008-x) &= \\tan{53} \\times x\\\\\n\\frac{(1008-x)}{x} &= \\frac{\\tan{53}}{\\tan{37}} = \\frac{\\sin{53}}{\\cos{53}} \\times\\frac{\\cos{37}}{\\sin{37}}\\end{align*}</cmath>\n\nHowever, we know that <math>\\cos{90-x} = \\sin{x}</math> and <math>\\sin{90-x} = \\cos{x}</math> are co-functions. Applying this,\n\n<cmath>\\begin{align*}\\frac{(1008-x)}{x} &= \\frac{\\sin^2{53}}{\\cos^2{53}} \\\\\nx\\sin^2{53} &= 1008\\cos^2{53} - x\\cos^2{53}\\\\\nx(\\sin^2{53}  + \\cos^2{53}) &= 1008\\cos^2{53}\\\\\nx = 1008\\cos^2{53} &\\Longrightarrow 1008-x = 1008\\sin^2{53}\n\\end{align*}</cmath>\nNow, if we can find <math>1004 - (EA + 500)</math>, and the height of the trapezoid, we can create a right triangle and use the [[Pythagorean Theorem]] to find <math>MN</math>. \n\nThe leg of the right triangle along the horizontal is:\n\n<cmath>1004 - 1008\\sin^2{53} - 500 = 504 - 1008\\sin^2{53}.</cmath>\n\nNow to find the other leg of the right triangle (also the height of the trapezoid), we can simplify the following expression:\n\n<cmath>\\begin{align*}\\tan{37} \\times 1008 \\sin^2{53}\n= \\tan{37} \\times 1008 \\cos^2{37}\n= 1008\\cos{37}\\sin{37}\n= 504\\sin74\\end{align*}</cmath>\n\nNow we used Pythagorean Theorem and get that <math>MN</math> is equal to:\n\n<cmath>\n\\begin{align*}&\\sqrt{(1008\\sin^2{53} + 500 -1004)^2 + (504\\sin{74})^2} = 504\\sqrt{1-2\\sin^2{53} + \\sin^2{74}}\n\\end{align*}\n</cmath>\n\nHowever, <math>1-2\\sin^2{53} = \\cos^2{106}</math> and <math>\\sin^2{74} = \\sin^2{106}</math> so now we end up with:\n\n<cmath>504\\sqrt{\\cos^2{106} + \\sin^2{106}} =\\fbox{504}.</cmath>\n\n=== Solution 4 ===\n\nPlot the trapezoid such that <math>B=\\left(1000\\cos 37^\\circ, 0\\right)</math>, <math>C=\\left(0, 1000\\sin 37^\\circ\\right)</math>, <math>A=\\left(2008\\cos 37^\\circ, 0\\right)</math>, and <math>D=\\left(0, 2008\\sin 37^\\circ\\right)</math>.\n\nThe midpoints of the requested sides are <math>\\left(500\\cos 37^\\circ, 500\\sin 37^\\circ\\right)</math> and <math>\\left(1004\\cos 37^\\circ, 1004\\sin 37^\\circ\\right)</math>.\n\nTo find the distance from <math>M</math> to <math>N</math>, we simply apply the distance formula and the Pythagorean identity <math>\\sin^2 x + \\cos^2 x = 1</math> to get <math>MN=\\boxed{504}</math>.\n\n\n=== Solution 5 ===\n\nSimilar to solution 1; Notice that it forms a right triangle. Remembering that the median to the hypotenuse is simply half the length of the hypotenuse, we quickly see that the length is <math>\\frac{2008}{2}-\\frac{1000}{2}=504</math>.\n\n=== Solution 6 ===\nObviously, these angles are random--the only special thing about them is that they add up to 90. So we might as well let the given angles equal 45 and 45, and now the answer is trivially <math>\\boxed{504}</math>. (The trapezoid is isosceles, and you see two 45-45-90 triangles;from there you can get the answer.)"
  },
  {
    "year": 2008,
    "variant": "II",
    "problem_number": 6,
    "latex": "The sequence <math>\\{a_n\\}</math> is defined by\n<cmath>\na_0 = 1,a_1 = 1, \\text{ and } a_n = a_{n - 1} + \\frac {a_{n - 1}^2}{a_{n - 2}}\\text{ for }n\\ge2.\n</cmath>\nThe sequence <math>\\{b_n\\}</math> is defined by\n<cmath>\nb_0 = 1,b_1 = 3, \\text{ and } b_n = b_{n - 1} + \\frac {b_{n - 1}^2}{b_{n - 2}}\\text{ for }n\\ge2.</cmath>\nFind <math>\\frac {b_{32}}{a_{32}}</math>.",
    "solution": "Rearranging the definitions, we have\n<cmath>\\frac{a_n}{a_{n-1}} = \\frac{a_{n-1}}{a_{n-2}} + 1,\\quad \\frac{b_n}{b_{n-1}} = \\frac{b_{n-1}}{b_{n-2}} + 1</cmath>\nfrom which it follows that <math>\\frac{a_n}{a_{n-1}} = 1+ \\frac{a_{n-1}}{a_{n-2}} = \\cdots = (n-1) + \\frac{a_{1}}{a_0} = n</math> and <math>\\frac{b_n}{b_{n-1}} = (n-1) + \\frac{b_{1}}{b_0} = n+2</math>. These [[recursion]]s, <math>a_{n} = na_{n-1}</math> and <math>b_{n} = (n+2)b_{n-1}</math>, respectively, correspond to the explicit functions <math>a_n = n!</math> and <math>b_n = \\frac{(n+2)!}{2}</math> (after applying our initial conditions). It follows that <math>\\frac{b_{32}}{a_{32}} = \\frac{\\frac{34!}{2}}{32!} = \\frac{34 \\cdot 33}{2} = \\boxed{561}</math>.\n\nFrom this, we can determine that the sequence <math>\\frac {b_n}{a_n}</math> corresponds to the [[triangular number]]s."
  },
  {
    "year": 2008,
    "variant": "II",
    "problem_number": 7,
    "latex": "Let <math>r</math>, <math>s</math>, and <math>t</math> be the three roots of the equation\n<cmath>\n8x^3 + 1001x + 2008 = 0.\n</cmath>\nFind <math>(r + s)^3 + (s + t)^3 + (t + r)^3</math>.",
    "solution": "By [[Vieta's formulas]], we have <math>r + s + t = 0</math> so <math>t = -r - s.</math> Substituting this into our problem statement, our desired quantity is <cmath>(r + s)^3 - r^3 - s^3 = 3r^2s + 3rs^2 = 3rs(r + s).</cmath> Also by [[Vieta's formulas]] we have <cmath>rst = -rs(r + s) = -\\dfrac{2008}{8} = -251</cmath> so negating both sides and multiplying through by 3 gives our answer of <math>\\boxed{753}.</math>"
  },
  {
    "year": 2008,
    "variant": "II",
    "problem_number": 8,
    "latex": "Let <math>a = \\pi/2008</math>. Find the smallest positive integer <math>n</math> such that\n<cmath>\n2[\\cos(a)\\sin(a) + \\cos(4a)\\sin(2a) + \\cos(9a)\\sin(3a) + \\cdots + \\cos(n^2a)\\sin(na)]\n</cmath>\nis an integer.",
    "solution": "===Solution 1===\nBy the [[trigonometric identity|product-to-sum identities]], we have that <math>2\\cos a \\sin b = \\sin (a+b) - \\sin (a-b)</math>. Therefore, this reduces to a telescope series: \n<cmath>\\begin{align*}\n\\sum_{k=1}^{n} 2\\cos(k^2a)\\sin(ka) &= \\sum_{k=1}^{n} [\\sin(k(k+1)a) - \\sin((k-1)ka)]\\\\\n&= -\\sin(0) + \\sin(2a)- \\sin(2a) + \\sin(6a) - \\cdots - \\sin((n-1)na) + \\sin(n(n+1)a)\\\\\n&= -\\sin(0) + \\sin(n(n+1)a) = \\sin(n(n+1)a)\n\\end{align*}</cmath>\n\nThus, we need <math>\\sin \\left(\\frac{n(n+1)\\pi}{2008}\\right)</math> to be an integer; this can be only <math>\\{-1,0,1\\}</math>, which occur when <math>2 \\cdot \\frac{n(n+1)}{2008}</math> is an integer. Thus <math>1004 = 2^2 \\cdot 251 | n(n+1) \\Longrightarrow 251 | n, n+1</math>. We know that <math>n</math> cannot be <math>250</math> as <math>250</math> isn't divisible by <math>4</math>, so 1004 doesn't divide <math>n(n+1) = 250 \\cdot 251</math>. Therefore, it is clear that <math>n = \\boxed{251}</math> is the smallest such integer.\n\n===Solution 2===\nWe proceed with complex trigonometry. We know that for all <math>\\theta</math>, we have <math>\\cos \\theta = \\dfrac{1}{2} \\left( z + \\dfrac{1}{z} \\right)</math> and <math>\\sin \\theta = \\dfrac{1}{2i} \\left( z - \\dfrac{1}{z} \\right)</math> for some complex number <math>z</math> on the unit circle. Similarly, we have <math>\\cos n \\theta = \\dfrac{1}{2} \\left( z^n + \\dfrac{1}{z^n} \\right)</math> and <math>\\sin n \\theta = \\dfrac{1}{2i} \\left(z^n - \\dfrac{1}{z^n} \\right)</math>. Thus, we have <math>\\cos n^2 a \\sin n a = \\dfrac{1}{4i} \\left( z^{n^2} + \\dfrac{1}{z^{n^2}} \\right) \\left( z^{n} - \\dfrac{1}{z^n} \\right)</math>\n\n<math>= \\dfrac{1}{4i} \\left( z^{n^2 + n} - \\dfrac{1}{z^{n^2 + n}} - z^{n^2 - n} + \\dfrac{1}{z^{n^2 - n}} \\right)</math>\n\n<math>= \\dfrac{1}{2} \\left( \\dfrac{1}{2i} \\left(z^{n^2 + n} - \\dfrac{1}{z^{n^2 + n}} \\right) - \\dfrac{1}{2i} \\left(z^{n^2 - n} - \\dfrac{1}{z^{n^2 - n}} \\right) \\right)</math>\n\n<math>= \\dfrac{1}{2} \\left( \\sin ((n^2 + n)a) - \\sin ((n^2 - n)a) \\right)</math>\n\n<math>= \\dfrac{1}{2} \\left( \\sin(((n+1)^2 - (n+1))a) - \\sin((n^2 - n)a) \\right)</math>\n\nwhich clearly telescopes! Since the <math>2</math> outside the brackets cancels with the <math>\\dfrac{1}{2}</math> inside, we see that the sum up to <math>n</math> terms is \n\n<math>\\sin ((2^2 - 2)a) - \\sin ((1^2 - 1)a) + \\sin ((3^3 - 3)a) - \\sin ((2^2 - 2)a) \\cdots + \\sin (((n+1)^2 - (n+1))a) - \\sin ((n^2 - n)a)</math>\n\n<math>= \\sin (((n+1)^2 - (n+1))a) - \\sin(0)</math>\n\n<math>= \\sin ((n^2 + n)a) - 0</math>\n\n<math>= \\sin \\left( \\dfrac{n(n+1) \\pi}{2008} \\right)</math>.\n\nThis expression takes on an integer value iff <math>\\dfrac{2n(n+1)}{2008} = \\dfrac{n(n+1)}{1004}</math> is an integer; that is, <math>1004 \\mid n(n+1)</math>. Clearly, <math>1004 = 2^2 \\cdot 251</math>, implying that <math>251 \\mid n(n+1)</math>. Since we want the smallest possible value of <math>n</math>, we see that we must have <math>{n,n+1} = 251</math>. If <math>n+1 = 251 \\rightarrow n=250</math>, then we have <math>n(n+1) = 250(251)</math>, which is clearly not divisible by <math>1004</math>. However, if <math>n = 251</math>, then <math>1004 \\mid n(n+1)</math>, so our answer is <math>\\boxed{251}</math>.\n\nIt should be noted that the product-to-sum rules follow directly from complex trigonometry, so this solution is essentially equivalent to the solution above."
  },
  {
    "year": 2008,
    "variant": "II",
    "problem_number": 9,
    "latex": "A particle is located on the coordinate plane at <math>(5,0)</math>. Define a ''move'' for the particle as a counterclockwise rotation of <math>\\pi/4</math> radians about the origin followed by a translation of <math>10</math> units in the positive <math>x</math>-direction. Given that the particle's position after <math>150</math> moves is <math>(p,q)</math>, find the greatest integer less than or equal to <math>|p| + |q|</math>.",
    "solution": "=== Solution 1 ===\n\nLet <math>P(x, y)</math> be the position of the particle on the <math>xy</math>-plane, <math>r</math> be the length <math>OP</math> where <math>O</math> is the origin, and <math>\\theta</math> be the inclination of OP to the x-axis. If <math>(x', y')</math> is the position of the particle after a move from <math>P</math>, then we have two equations for <math>x'</math> and <math>y'</math>:\n<cmath>x'=r\\cos(\\pi/4+\\theta)+10 = \\frac{\\sqrt{2}(x - y)}{2} + 10</cmath>\n<cmath>y' = r\\sin(\\pi/4+\\theta) = \\frac{\\sqrt{2}(x + y)}{2}.</cmath>\nLet <math>(x_n, y_n)</math> be the position of the particle after the nth move, where <math>x_0 = 5</math> and <math>y_0 = 0</math>. Then <math>x_{n+1} + y_{n+1} =  \\sqrt{2}x_n+10</math>, <math>x_{n+1} - y_{n+1} = -\\sqrt{2}y_n+10</math>. This implies\n<math>x_{n+2} = -y_n + 5\\sqrt{2}+ 10</math>, <math>y_{n+2}=x_n + 5\\sqrt{2}</math>.\nSubstituting <math>x_0 = 5</math> and <math>y_0 = 0</math>, we have <math>x_8 = 5</math> and <math>y_8 = 0</math> again for the first time. Thus, <math>p = x_{150} = x_6 = -5\\sqrt{2}</math> and <math>q = y_{150} = y_6 = 5 + 5\\sqrt{2}</math>. Hence, the final answer is\n<center><math>5\\sqrt {2} + 5(\\sqrt {2} + 1) \\approx 19.1 \\Longrightarrow \\boxed{019}</math></center>\n\nIf you're curious, the points do eventually form an octagon and repeat. Seems counterintuitive, but believe it or not, it happens.\n\nhttps://www.desmos.com/calculator/febtiheosz\n\n=== Solution 2 ===\nLet the particle's position be represented by a complex number. Recall that multiplying a number by cis<math>\\left( \\theta \\right)</math> rotates the object in the complex plane by <math>\\theta</math> counterclockwise. In this case, we use <math>a = cis(\\frac{\\pi}{4})</math>. Therefore, applying the rotation and shifting the coordinates by 10 in the positive x direction in the complex plane results to\n<center><math>a_{150} = (((5a + 10)a + 10)a + 10 \\ldots) = 5a^{150} + 10 a^{149} + 10a^{148}+ \\ldots + 10</math></center>\nwhere a is cis<math>\\left( \\theta \\right)</math>. By De-Moivre's theorem, <math>\\left(cis( \\theta \\right)^n )</math>=cis<math>\\left(n \\theta \\right)</math>.\nTherefore,\n<center><math>10(a^{150} + \\ldots + 1)= 10(1 + a + \\ldots + a^6) = - 10(a^7) = - 10(\\frac{ \\sqrt {2} }{2} - \\frac{i\\sqrt {2}} {2})</math></center>\nFurthermore, <math>5a^{150} = - 5i</math>. Thus, the final answer is\n<center><math>5\\sqrt {2} + 5(\\sqrt {2} + 1) \\approx 19.1 \\Longrightarrow \\boxed{019}</math></center>\n\n==== Solution 3 ====\nAs before, consider <math>z</math> as a complex number.  Consider the transformation <math>z \\to (z-\\omega)e^{i\\theta} + \\omega</math>.  This is a clockwise rotation of <math>z</math> by <math>\\theta</math> radians about the points <math>\\omega</math>.  Let <math>f(z)</math> denote one move of <math>z</math>.  Then\n\n[[File:2008AIMEII9Sol3.png|center|300px]]\nTherefore, <math>z</math> rotates along a circle with center <math>\\omega = 5+(5+5\\sqrt2)i</math>.  Since <math>8 \\cdot \\frac{\\pi}{4} = 2\\pi</math>, <math>f^9(z) = f(z) \\implies f^{150}(z) = f^6(z) \\implies p+q = \\boxed{019}</math>, as desired (the final algebra bash isn't bad).\n\n=== Solution 4 ===\nLet <math>T:\\begin{pmatrix}x\\\\y\\end{pmatrix}\\rightarrow R(\\frac{\\pi}{4})\\begin{pmatrix}x\\\\y\\end{pmatrix}+\\begin{pmatrix}10\\\\0\\end{pmatrix}</math>. We assume that the rotation matrix <math>R(\\frac{\\pi}{4}) = R</math> here. Then we have \n<center><math>T^{150}\\begin{pmatrix}5\\\\0\\end{pmatrix}=R(R(...R(R\\begin{pmatrix}5\\\\0\\end{pmatrix}+\\begin{pmatrix}10\\\\0\\end{pmatrix})+\\begin{pmatrix}10\\\\0\\end{pmatrix}...)+\\begin{pmatrix}10\\\\0\\end{pmatrix})+\\begin{pmatrix}10\\\\0\\end{pmatrix}</math></center> \nThis simplifies to\n<center><math>R^{150}\\begin{pmatrix}5\\\\0\\end{pmatrix}+(I+R^2+R^3+...+R^{149})\\begin{pmatrix}10\\\\0\\end{pmatrix}</math></center>\nSince <math>R+R^{7}=O, R^2+R^6=O, R^3+R^5=O, I+R^4=O</math>, so we have <math>R^6\\begin{pmatrix}5\\\\0\\end{pmatrix}+(-R^6-R^7)\\begin{pmatrix}10\\\\0\\end{pmatrix}</math>, giving <math>p=-5\\sqrt{2}, q=5\\sqrt{2}+5</math>. The answer is yet <math>\\lfloor10\\sqrt{2}+5\\rfloor=\\boxed{019}</math>."
  },
  {
    "year": 2008,
    "variant": "II",
    "problem_number": 10,
    "latex": "The diagram below shows a <math>4\\times4</math> rectangular array of points, each of which is <math>1</math> unit away from its nearest neighbors.\n<center><asy>\nunitsize(0.25inch);\ndefaultpen(linewidth(0.7));\n\nint i, j;\nfor(i = 0; i < 4; ++i)\n\tfor(j = 0; j < 4; ++j)\n\t\tdot(((real)i, (real)j));\n</asy></center>\nDefine a ''growing path'' to be a sequence of distinct points of the array with the property that the distance between consecutive points of the sequence is strictly increasing. Let <math>m</math> be the maximum possible number of points in a growing path, and let <math>r</math> be the number of growing paths consisting of exactly <math>m</math> points. Find <math>mr</math>.",
    "solution": "We label our points using coordinates <math>0 \\le x,y \\le 3</math>, with the bottom-left point being <math>(0,0)</math>. By the [[Pythagorean Theorem]], the distance between two points is <math>\\sqrt{d_x^2 + d_y^2}</math> where <math>0 \\le d_x, d_y \\le 3</math>; these yield the possible distances (in decreasing order)\n<cmath>\\sqrt{18},\\ \\sqrt{13},\\ \\sqrt{10},\\ \\sqrt{9},\\ \\sqrt{8},\\ \\sqrt{5},\\ \\sqrt{4},\\ \\sqrt{2},\\ \\sqrt{1}</cmath> \nAs these define <math>9</math> lengths, so the maximum value of <math>m</math> is <math>10</math>. For now, we assume that <math>m = 10</math> is achievable. Because it is difficult to immediately impose restrictions on a path with increasing distances, we consider the paths in ''shrinking'' fashion. Note that the ''shrinking paths'' and ''growing paths'' are equivalent, but there are restrictions upon the locations of the first edges of the former. \n\nThe <math>\\sqrt{18}</math> length is only possible for one of the long diagonals, so our path must start with one of the <math>4</math> corners of the grid. [[Without loss of generality]] (since the grid is rotationally symmetric), we let the vertex be <math>(0,0)</math> and the endpoint be <math>(3,3)</math>. \n<center><asy>\nunitsize(0.25inch);\ndefaultpen(linewidth(0.7)); dotfactor = 4; pen s = linewidth(4); \nint i, j;\nfor(i = 0; i < 4; ++i)\n\tfor(j = 0; j < 4; ++j)\n\t\tdot(((real)i, (real)j));\ndot((0,0)^^(3,3),s); draw((0,0)--(3,3)); \n</asy></center>\nThe <math>\\sqrt{13}</math> length can now only go to <math>2</math> points; due to reflectional symmetry about the main diagonal, we may WLOG let the next endpoint be <math>(1,0)</math>. \n<center><asy>\nunitsize(0.25inch);\ndefaultpen(linewidth(0.7)); dotfactor = 4; pen s = linewidth(4); pen c = rgb(0.5,0.5,0.5);\nint i, j;\nfor(i = 0; i < 4; ++i)\n\tfor(j = 0; j < 4; ++j)\n\t\tdot(((real)i, (real)j));\ndot((0,0)^^(3,3)^^(1,0),s); draw((0,0)--(3,3),c); draw((3,3)--(1,0)); \n</asy></center>\nFrom <math>(1,0)</math>, there are two possible ways to move <math>\\sqrt{10}</math> away, either to <math>(0,3)</math> or <math>(2,3)</math>. However, from <math>(0,3)</math>, there is no way to move <math>\\sqrt{9}</math> away, so we discard it as a possibility. \n\nFrom <math>(2,3)</math>, the lengths of <math>\\sqrt{8},\\ \\sqrt{5},\\ \\sqrt{4},\\ \\sqrt{2}</math> fortunately are all determined, with the endpoint sequence being <math>(2,3)-(2,0)-(0,2)-(2,1)-(0,1)-(1,2)</math>.\n<center><asy>\nunitsize(0.25inch);\ndefaultpen(linewidth(0.7)); dotfactor = 4; pen s = linewidth(4); pen c = rgb(0.5,0.5,0.5);\nint i, j;\nfor(i = 0; i < 4; ++i)\n\tfor(j = 0; j < 4; ++j)\n\t\tdot(((real)i, (real)j));\ndot((0,0)^^(3,3)^^(1,0)^^(2,3)^^(2,0)^^(0,2)^^(2,1)^^(0,1)^^(1,2),s); draw((0,0)--(3,3)--(1,0)--(2,3)--(2,0)--(0,2)--(2,1)--(0,1)--(1,2));\n</asy></center>\nFrom <math>(1,2)</math>, there are <math>3</math> possible lengths of <math>\\sqrt{1}</math> (to either <math>(1,1),(2,2),(1,3)</math>). Thus, the number of paths is <math>r = 4 \\cdot 2 \\cdot 3 = 24</math>, and the answer is <math>mr = 10 \\cdot 24 = \\boxed{240}</math>."
  },
  {
    "year": 2008,
    "variant": "II",
    "problem_number": 11,
    "latex": "In triangle <math>ABC</math>, <math>AB = AC = 100</math>, and <math>BC = 56</math>. [[Circle]] <math>P</math> has [[radius]] <math>16</math> and is tangent to <math>\\overline{AC}</math> and <math>\\overline{BC}</math>. Circle <math>Q</math> is externally [[tangent]] to <math>P</math> and is tangent to <math>\\overline{AB}</math> and <math>\\overline{BC}</math>. No point of circle <math>Q</math> lies outside of <math>\\triangle ABC</math>. The radius of circle <math>Q</math> can be expressed in the form <math>m - n\\sqrt {k}</math>, where <math>m</math>, <math>n</math>, and <math>k</math> are positive integers and <math>k</math> is the product of distinct primes. Find <math>m + nk</math>.",
    "solution": "<center><asy>\nsize(200);\npathpen=black;pointpen=black;pen f=fontsize(9);\nreal r=44-6*35^.5;\npair A=(0,96),B=(-28,0),C=(28,0),X=C-(64/3,0),Y=B+(4*r/3,0),P=X+(0,16),Q=Y+(0,r),M=foot(Q,X,P);\npath PC=CR(P,16),QC=CR(Q,r);\nD(A--B--C--cycle); D(Y--Q--P--X); D(Q--M); D(P--C,dashed);\nD(PC); D(QC); \nMP(\"A\",A,N,f);MP(\"B\",B,f);MP(\"C\",C,f);MP(\"X\",X,f);MP(\"Y\",Y,f);D(MP(\"P\",P,NW,f));D(MP(\"Q\",Q,NW,f));\n</asy></center>\n\nLet <math>X</math> and <math>Y</math> be the feet of the [[perpendicular]]s from <math>P</math> and <math>Q</math> to <math>BC</math>, respectively. Let the radius of <math>\\odot Q</math> be <math>r</math>. We know that <math>PQ = r + 16</math>. From <math>Q</math> draw segment <math>\\overline{QM} \\parallel \\overline{BC}</math> such that <math>M</math> is on <math>PX</math>. Clearly, <math>QM = XY</math> and <math>PM = 16-r</math>. Also, we know <math>QPM</math> is a right triangle.\n\nTo find <math>XC</math>, consider the right triangle <math>PCX</math>. Since <math>\\odot P</math> is tangent to <math>\\overline{AC},\\overline{BC}</math>, then <math>PC</math> [[bisect]]s <math>\\angle ACB</math>. Let <math>\\angle ACB = 2\\theta</math>; then <math>\\angle PCX = \\angle QBX = \\theta</math>. Dropping the altitude from <math>A</math> to <math>BC</math>, we recognize the <math>7 - 24 - 25</math> [[right triangle]], except scaled by <math>4</math>.\n\nSo we get that <math>\\tan(2\\theta) = 24/7</math>. From the [[trigonometric identity|half-angle identity]], we find that <math>\\tan(\\theta) = \\frac {3}{4}</math>. Therefore, <math>XC = \\frac {64}{3}</math>. By similar reasoning in triangle <math>QBY</math>, we see that <math>BY = \\frac {4r}{3}</math>.\n\nWe conclude that <math>XY = 56 - \\frac {4r + 64}{3} = \\frac {104 - 4r}{3}</math>.\n\nSo our right triangle <math>QPM</math> has sides <math>r + 16</math>, <math>r - 16</math>, and <math>\\frac {104 - 4r}{3}</math>.\n\nBy the [[Pythagorean Theorem]], simplification, and the [[quadratic formula]], we can get <math>r = 44 - 6\\sqrt {35}</math>, for a final answer of <math>\\fbox{254}</math>."
  },
  {
    "year": 2008,
    "variant": "II",
    "problem_number": 12,
    "latex": "There are two distinguishable flagpoles, and there are <math>19</math> flags, of which <math>10</math> are identical blue flags, and <math>9</math> are identical green flags. Let <math>N</math> be the number of distinguishable arrangements using all of the flags in which each flagpole has at least one flag and no two green flags on either pole are adjacent. Find the remainder when <math>N</math> is divided by <math>1000</math>.",
    "solution": "=== Solution 1 ===\nThe well known problem of ordering <math>x</math> elements of a string of <math>y</math> elements such that none of the <math>x</math> elements are next to each other has <math>{y-x+1\\choose x}</math> solutions. (1)\n\nWe generalize for <math>a</math> blues and <math>b</math> greens. Consider a string of <math>a+b</math> elements such that we want to choose the greens such that none of them are next to each other. We would also like to choose a place where we can divide this string into two strings such that the left one represents the first pole, and the right one represents the second pole, in order up the pole according to position on the string. \n\nHowever, this method does not account for the fact that the first pole could end with a green, and the second pole could start with a green, since the original string assumed that no greens could be consecutive. We solve this problem by introducing an extra blue, such that we choose our divider by choosing one of these <math>a+1</math> blues, and not including that one as a flag on either pole.\n\nFrom (1), we now have <math>{a+2\\choose b}</math> ways to order the string such that no greens are next to each other, and <math>a+1</math> ways to choose the extra blue that will divide the string into the two poles: or <math>(a+1){a+2\\choose b}</math> orderings in total.\n\nHowever, we have overcounted the solutions where either pole has no flags, we have to count these separately. This is the same as choosing our extra blue as one of the two ends, and ordering the other <math>a</math> blues and <math>b</math> greens such that no greens are next to each other: for a total of <math>2{a+1\\choose b}</math> such orderings.\n\nThus, we have <math>(a+1){a+2\\choose b}-2{a+1\\choose b}</math> orderings that satisfy the conditions in the problem: plugging in <math>a=10</math> and <math>b=9</math>, we get <math>2310 \\equiv \\boxed{310} \\pmod{1000}</math>.\n\n=== Solution 2 ===\nSplit the problem into two cases:\n\nCase 1 - Both poles have blue flags:\nThere are 9 ways to place the 10 blue flags on the poles. In each of these configurations, there are 12 spots that a green flag could go. (either in between two blues or at the tops or bottoms of the poles) Then, since there are 9 green flags, all of which must be used, there are <math>{12\\choose9}</math> possiblities for each of the 9 ways to place the blue flags. Total: <math>{12\\choose9}*9</math> possibilities.\n\nCase 2 - One pole has no blue flags:\nSince each pole is non empty, the pole without a blue flag must have one green flag. The other pole has 10 blue flags and, by the argument used in case 1, there are <math>{11\\choose8}</math> possibilities, and since the poles are distinguishable, there are a total of <math>2*{11\\choose8}</math> possiblities for this case.\n\nFinally, we have <math>9*{12\\choose9}+2*{11\\choose8}=2310 \\equiv \\boxed{310} \\pmod{1000}</math> as our answer.\n\n=== Solution 3 (mad bash) ===\n\nCall the two flagpoles Flagpole A and Flagpole B.\nCase 1:\nFlag distribution: 1|18\nB|variable: <math>\\dbinom{10}{9}=10</math> ways\nG|variable: <math>\\dbinom{11}{8}=165</math> ways\nCase 2:\nFlag distribution: 2|17\nBB|variable: <math>\\dbinom{9}{9}=1</math> way\nBG|variable (two ways to arrange the first sequence): <math>\\dbinom{10}{8} \\times 2 = 90</math> ways\nGG|variable: can't happen\nCase 3: \nFlag distribution: 3|16\nBBB|variable: can't happen\nBBG|variable (3 legal ways to arrange): <math>\\dbinom{9}{8} \\times 3 = 27</math> ways\nGBG|variable (1 legal way to arrange): <math>\\dbinom{10}{7} = 120</math> ways\nGGG|variable: clearly can't happen\nCase 4:\nFlag distribution: 4|15\nBBBB|variable: can't happen\nBBBG|variable (4 legal ways to arrange): <math>\\dbinom{8}{8} \\times 4 = 4</math> ways\nGBBG|variable (3 legal ways to arrange): <math>\\dbinom{9}{7} \\times 3 = 108</math> ways\nGGBG|variable: can't happen\nGGGG|variable: can't happen\nCase 5:\nFlag distribution: 5|14\nBBBBB|variable: can't happen\nBBBBG|variable: can't happen\nBBGBG|variable (6 legal ways to arrange): <math>\\dbinom{8}{7} \\times 6 = 48</math> ways\nGBGBG|variable (1 legal way to arrange): <math>\\dbinom{9}{6} = 84</math> ways\nGGGGB|variable: can't happen\nGGGGG|variable: can't happen \nCase 6:\nFlag distribution: 6|13\nBBBBBB|variable: can't happen\nBBBBBG|variable: can't happen\nBBBBGG|variable (10 legal ways to arrange): <math>\\dbinom{7}{7} \\times 10 = 10</math> ways\nBBBGGG|variable (4 legal ways to arrange): <math>\\dbinom{8}{6} \\times 4 = 112</math> ways\nBBGGGG|variable: can't happen\nBGGGGG|variable: can't happen\nGGGGGG|variable: can't happen\nCase 7: \nFlag distribution: 7|12\nBBBBBBB|variable: can't happen\nBBBBBBG|variable: can't happen\nBBBBBGG|variable: can't happen\nBBBBGGG|variable (10 legal ways to arrange): <math>\\dbinom{7}{6} \\times 10 = 70</math> ways\nBBBGGGG|variable (1 legal way to arrange): <math>\\dbinom{8}{5} = 56</math> ways\nrest can't happen\nCase 8:\nFlag distribution: 8|11\nBBBBBBBB|variable: can't happen\nBBBBBBBG|variable: can't happen\nBBBBBBGG|variable: can't happen\nBBBBBGGG|variable (20 legal ways to arrange): <math>\\dbinom{6}{6} \\times 20 = 20</math> ways\nBBBBGGGG|variable: (5 legal ways to arrange): <math>\\dbinom{7}{5} \\times 5 = 105</math> ways\nothers can't happen\nCase 9:\nFlag distribution: 9|10\nBBBBBGGGG|variable (15 legal ways to arrange): <math>\\dbinom{6}{5} \\times 15 = 90</math> ways\nBBBBGGGGG|variable (1 legal way to arrange): <math>\\dbinom{7}{4} = 35</math> ways\nothers can't happen\nSo our total number of ways is <math>2</math> times <math>10+165+1+90+27+120+4+108+48+84+10+112+70+56+20+105+90+35</math> (since the two flagpoles are distinguishable) which is <math>2310</math> ways. We have to find the last 3 digits, so our final answer is <math>310</math>.\n\nSolution by fidgetboss_4000\n\nNote: Do not attempt unless you are good at bashing.\n\n\n\n\n=== Solution 4 (Vandermonde's) ===\n\nLet the number of blue flags on the first flagpole be <math>b</math> and define <math>g</math> similarly. Now note the bound <math>g \\le b+1.</math> Now we cannot have any two consecutive greens. This condition is the same as \"there are <math>b+1</math> spaces between each blue flag. How many ways can we put the <math>g</math> green flags in the <math>b+1</math> spaces?\" Therefore given <math>b</math> blue flags on the first flagpole and <math>g</math> green flags on the first flagpole we have a total of <math>\\binom{b+1}{g}.</math> Similarly there are <math>\\binom{11-b}{9-g}</math> ways for the second flagpole. Summing over all possible possibilities we see the sum is <math>\\sum_{g = 0}^{b+1} \\sum_{b=0}^{10}\\binom{b+1}{g}\\binom{11-b}{9-g}.</math> Swapping the sum we have <math>\\sum_{g = 0}^{b+1} \\sum_{b=0}^{10}\\binom{b+1}{g}\\binom{11-b}{9-g} = \\sum_{b=0}^{10} \\sum_{g = 0}^{b+1}\\binom{b+1}{g}\\binom{11-b}{9-g}.</math> Then applying Vandermonde's yields <math> \\sum_{b=0}^{10}\\binom{12}{9}</math> so the sum is <math>11 \\cdot\\binom{12}{9}.</math> However, this answer overcounts. We cannot have no flags on a pole, so we subtract <math>2 \\cdot\\binom{11}{9}</math> since we can have empty flags for the first or second flag. Therefore the answer is <math>11 \\cdot\\binom{12}{9} - 2 \\cdot\\binom{11}{9} \\pmod{1000} \\equiv \\boxed{310} \\pmod{1000}.</math>\n\n=== Solution 5 ===\n\nConsider this as arranging the flags on one big flagpole, then splitting the flagpole into two. \n\nExample: Start with big flagpole <math>BGBGBGGBBGBGBGBGBGB</math>, and then split it into <math>BGBGBG</math> and <math>GBBGBGBGBGBGB</math>.\n\nWe will split this problem into two cases:\n\nCase 1: The split is not two greens. Basically if arranging 10 blue flags and 9 green flags does not give any consecutive green flags, then we can split it into two flagpoles wherever. For example,\n<cmath>BGBBGBGBGBGBGBGBGBG</cmath>\ncan become <cmath>BGB|BGBGBGBGBGBGBGBG</cmath> or <cmath>BGBBG|BGBGBGBGBGBGBG</cmath>.\n\nBy stars and bars, there are <math>\\binom{11}{2}</math> ways to arrange the flags, then <math>18</math> ways to split the big flagpole, so total <math>\\binom{11}{2}\\cdot 18</math> ways.\n\nCase 2: The split is two greens. Here the big flagpole has two consecutive green flags, so we are forced to split the two green flags.\n\nThere are <math>\\binom{11}{3}\\cdot 8</math> ways for this case, since we first place 8 ‚Äú<math>G</math>‚Äùs among 10 blue flags, then choose one to become <math>GG</math>. (Look at the first example)\n\nThus the total number of ways is\n<cmath>\\binom{11}{2}\\cdot 18 + \\binom{11}{3}\\cdot 8 = 2310 \\equiv \\boxed{310} \\pmod{1000}.</cmath>\n\n~ RubixMaster21\n\n=== Solution 6 ===\nWe split the 9 green flags over the two poles: <math>0</math> and <math>9</math>, <math>1</math> and <math>8</math>, <math>2</math> and <math>7</math>, and so on, respectively.\n\nFor the first case, <math>0</math> and <math>9</math>, 8 of the 10 blue flags must be placed between the 9 green flags on the same pole, and the 9th blue flag must be placed on the other pole so that there is at least one flag on each pole. This leaves <math>\\textbf{11}</math> choices for the last blue flag.\n\nMoving on, notice that now for every other case there will always be 3 blue flags left to place. Since we want to distribute 3 indistinguishable flags to 11 distinguishable spots, we use stars and bars. There are <math>\\binom{13}{10} = \\textbf{286}</math> ways to distribute the flags for the other cases.\n\nThen the total number of ways is <math>2 * (11 + 4 * 286) = 2310 \\equiv \\boxed{310} \\pmod{1000}</math>, since the poles are distinguishable.\n\n~ AXcatterwocky"
  },
  {
    "year": 2008,
    "variant": "II",
    "problem_number": 13,
    "latex": "A [[regular polygon|regular]] [[hexagon]] with center at the [[origin]] in the [[complex plane]] has opposite pairs of sides one unit apart. One pair of sides is parallel to the imaginary axis. Let <math>R</math> be the region outside the hexagon, and let <math>S = \\left\\lbrace\\frac{1}{z}|z \\in R\\right\\rbrace</math>. Then the area of <math>S</math> has the form <math>a\\pi + \\sqrt{b}</math>, where <math>a</math> and <math>b</math> are positive integers. Find <math>a + b</math>.",
    "solution": "If you're familiar with inversion, you'll see that the problem's basically asking you to invert the hexagon with respect to the unit circle in the Cartesian Plane using the Inversion Distance Formula. This works because the point in the Cartesian Plane's complex plane equivalent switches places with its conjugate but we can do that in the Cartesian plane too (just reflect a point in the Cartesian plane over the x-axis)! If you're familiar with inversion you can go plot the inverted figure's Cartesian Plane Equivalent. Then simply continue on with the figure shown in the below solution."
  },
  {
    "year": 2008,
    "variant": "II",
    "problem_number": 14,
    "latex": "Let <math>a</math> and <math>b</math> be positive real numbers with <math>a\\ge b</math>. Let <math>\\rho</math> be the maximum possible value of <math>\\frac {a}{b}</math> for which the system of equations\n<cmath>\na^2 + y^2 = b^2 + x^2 = (a - x)^2 + (b - y)^2\n</cmath>\nhas a solution in <math>(x,y)</math> satisfying <math>0\\le x < a</math> and <math>0\\le y < b</math>. Then <math>\\rho^2</math> can be expressed as a fraction <math>\\frac {m}{n}</math>, where <math>m</math> and <math>n</math> are [[relatively prime]] positive integers. Find <math>m + n</math>.",
    "solution": "=== Solution 1 ===\nNotice that the given equation implies\n<center><math>a^2 + y^2 = b^2 + x^2 = 2(ax + by)</math></center>\nWe have <math>2by \\ge y^2</math>, so <math>2ax \\le a^2 \\implies x \\le \\frac {a}{2}</math>.\n\nThen, notice <math>b^2 + x^2 = a^2 + y^2 \\ge a^2</math>, so <math>b^2 \\ge \\frac {3}{4}a^2 \\implies \\rho^2 \\le \\frac {4}{3}</math>.\n\nThe solution <math>(a, b, x, y) = \\left(1, \\frac {\\sqrt {3}}{2}, \\frac {1}{2}, 0\\right)</math> satisfies the equation, so <math>\\rho^2 = \\frac {4}{3}</math>, and the answer is <math>3 + 4 = \\boxed{007}</math>.\n\n=== Solution 2 ===\nConsider the points <math>(a,y)</math> and <math>(x,b)</math>. They form an [[equilateral triangle]] with the origin. We let the side length be <math>1</math>, so <math>a = \\cos{\\theta}</math> and <math>b = \\sin{\\left(\\theta + \\frac {\\pi}{3}\\right)}</math>.\n\nThus <math>f(\\theta) = \\frac {a}{b} = \\frac {\\cos{\\theta}}{\\sin{\\left(\\theta + \\frac {\\pi}{3}\\right)}}</math> and we need to maximize this for <math>0 \\le \\theta \\le \\frac {\\pi}{6}</math>.\n\nTaking the [[derivative]] shows that <math>-f'(\\theta) = \\frac {\\cos{\\frac {\\pi}{3}}}{\\sin^2{\\left(\\theta + \\frac {\\pi}{3}\\right)}} \\ge 0</math>, so the maximum is at the endpoint <math>\\theta = 0</math>. We then get\n<center><math>\\rho = \\frac {\\cos{0}}{\\sin{\\frac {\\pi}{3}}} = \\frac {2}{\\sqrt {3}}</math></center>\nThen, <math>\\rho^2 = \\frac {4}{3}</math>, and the answer is <math>3+4=\\boxed{007}</math>.\n\n(For a non-calculus way to maximize the function above:\n\nLet us work with degrees. Let <math>f(x)=\\frac{\\cos x}{\\sin(x+60)}</math>. We need to maximize <math>f</math> on <math>[0,30]</math>. \n\nSuppose <math>k</math> is an upper bound of <math>f</math> on this range; in other words, assume <math>f(x)\\le k</math> for all <math>x</math> in this range. Then: <cmath>\\cos x\\le k\\sin(x+60)=k\\cdot\\left(\\frac{\\sqrt{3}}{2}\\cos x+\\frac{1}{2}\\sin x\\right)</cmath>\n<cmath>\\rightarrow 0\\le \\left(\\frac{\\sqrt{3}k}{2}-1\\right)\\cos x+\\frac{k}{2}\\sin x\\rightarrow 0\\le (\\sqrt{3}k-2)\\cos x+k\\sin x</cmath>\n<cmath>\\rightarrow (2-\\sqrt{3}k)\\cos x\\le k\\sin x\\rightarrow \\frac{2-\\sqrt{3}k}{k}\\le \\tan x,</cmath>\nfor all <math>x</math> in <math>[0,30]</math>. In particular, for <math>x=0</math>, <math>\\frac{2-\\sqrt{3}k}{k}</math> must be less than or equal to <math>0</math>, so <math>k\\ge \\frac{2}{\\sqrt{3}}</math>.\n\nThe least possible upper bound of <math>f</math> on this interval is <math>k=\\frac{2}{\\sqrt{3}}</math>. This inequality must hold by the above logic, and in fact, the inequality reaches equality when <math>x=0</math>. Thus, <math>f(x)</math> attains a maximum of <math>\\frac{2}{\\sqrt{3}}</math> on the interval.)\n\n=== Solution 3 ===\nConsider a [[cyclic quadrilateral]] <math>ABCD</math> with \n<math>\\angle B = \\angle D = 90^{\\circ}</math>, and <math>AB = y, BC = a, CD = b, AD = x</math>. Then\n<cmath>AC^2 = a^2 + y^2 = b^2 + x^2</cmath>\nFrom [[Ptolemy's Theorem]], <math>ax + by = AC(BD)</math>, so\n<cmath>AC^2 = (a - x)^2 + (b - y)^2 = a^2 + y^2 + b^2 + x^2 - 2(ax + by) = 2AC^2 - 2AC*BD</cmath>\nSimplifying, we have <math>BD = AC/2</math>. \n\nNote the [[circumcircle]] of <math>ABCD</math> has [[radius]] <math>r = AC/2</math>, so <math>BD = r</math> and has an arc of <math>60^{\\circ}</math>, so \n<math>\\angle C = 30^{\\circ}</math>. Let <math>\\angle BDC = \\theta</math>.\n\n<math>\\frac ab = \\frac{BC}{CD} = \\frac{\\sin \\theta}{\\sin(150^{\\circ} - \\theta)}</math>, where both <math>\\theta</math> and <math>150^{\\circ} - \\theta</math> are <math>\\leq 90^{\\circ}</math> since triangle <math>BCD</math> must be [[acute triangle|acute]]. Since <math>\\sin</math> is an increasing function over <math>(0, 90^{\\circ})</math>, <math>\\frac{\\sin \\theta}{\\sin(150^{\\circ} - \\theta)}</math> is also increasing function over <math>(60^{\\circ}, 90^{\\circ})</math>.\n\n<math>\\frac ab</math> maximizes at <math>\\theta = 90^{\\circ} \\Longrightarrow \\frac ab</math> maximizes at <math>\\frac 2{\\sqrt {3}}</math>. This squared is <math>(\\frac 2{\\sqrt {3}})^2 = \\frac4{3}</math>, and <math>4 +\n 3 = \\boxed{007}</math>.\n\n=== Note: ===\nNone of the above solutions point out clearly the importance of the restriction that <math>a</math>, <math>b</math>, <math>x</math> and <math>y</math> be positive. Indeed, larger values of p are obtained when the lower vertex of the equilateral triangle in Solution 2 dips below the x-axis. Take for example <math>-15= \\theta</math>. This yields <math>p = (1 + \\sqrt{3})/2 > 4/3</math>\n\n=== Solution 4 ===\nThe problem is looking for an intersection in the said range between parabola <math>P</math>: <math>y = \\tfrac{(x-a)^2 + b^2-a^2}{2b}</math> and the hyperbola <math>H</math>: <math>y^2 = x^2 + b^2 - a^2</math>. The vertex of <math>P</math> is below the x-axis and it's x-coordinate is a, which is to the right of the vertex of the <math>H</math>, which is <math>\\sqrt{a^2 - b^2}</math>. So for the intersection to exist with <math>x<a</math> and <math>y \\geq 0</math>, <math>P</math> needs to cross x-axis between <math>\\sqrt{a^2 - b^2}</math>, and <math>a</math>, meaning,\n<cmath> (\\sqrt{a^2 - b^2}-a)^2 + b^2-a^2 \\geq 0</cmath>\nDivide both side by <math>b^2</math>,\n<cmath> (\\sqrt{\\rho^2 - 1}-\\rho)^2 + 1-\\rho^2 \\geq 0</cmath>\nwhich can be easily solved by moving <math>1-\\rho^2</math> to RHS and taking square roots. Final answer <math>\\rho^2 \\leq \\frac{4}{3}</math>\n<math>\\boxed{007}</math>\n\n=== Solution 5 ===\nThe given system is equivalent to the points <math>(a,y)</math> and <math>(x,b)</math> forming an equilateral triangle with the origin. WLOG let this triangle have side length <math>1</math>, so <math>x=\\sqrt{1-a^2}</math>. The condition <math>x<a</math> implies <math>(x,b)</math> lies to the left of <math>(a,y)</math>, so <math>(x,b)</math> is the top vertex. Now we can compute (by complex numbers, or the sine angle addition identity) that <math>b = \\frac{\\sqrt{3}}{2}a + \\frac{1}{2}\\sqrt{1-a^2}</math>, so <math>\\frac{a}{b} = \\frac{a}{\\frac{\\sqrt{3}}{2}a + \\frac{1}{2}\\sqrt{1-a^2}} = \\frac{1}{\\frac{\\sqrt{3}}{2} + \\frac{1}{2a}\\sqrt{1-a^2}}</math>. Minimizing this is equivalent to minimizing the denominator, which happens when <math>\\sqrt{1-a^2} = 0</math> and thus <math>a=1</math>, resulting in <math>\\rho = \\frac{2}{\\sqrt{3}}</math>, so <math>\\rho^2 = \\frac{4}{3}</math> and the answer is <math>\\boxed{007}</math>.\n\nAs a remark, expressing the condition that the triangle is equilateral purely algebraically instead of using trig eliminates the need for calculus or analyzing the behavior of sine.\n\n=== Solution 6 (Geometry and Trigonometry) ===\nNotice that by Pythagorean theorem, if we take a triangle with vertices <math>(0,0),</math> <math>(a,y),</math> and <math>(x,b)</math> forming an equilateral triangle. Now, take a rectangle with vertices <math>(0,0), (a,0), (0,b), (a,b).</math> Notice that <math>(a,y)</math> and <math>(x,b)</math> are on the sides. Let <math>\\alpha</math> be the angle formed by the points <math>(0,b), (0,0), (x,b).</math> Then, we have that <cmath>\\cos \\alpha = \\frac{b}{s},</cmath> where <math>s</math> is the side of the equilateral triangle. Also, we have that <math>30^{\\circ}-\\alpha</math> is the angle formed by the points <math>(a,0), (0,0), (a,y),</math> and so <cmath>\\cos (30^{\\circ}-\\alpha) = \\frac{a}{s}.</cmath> Thus, we have that \n<cmath>\\frac{a}{b} = \\frac{\\cos (30^{\\circ}-\\alpha)}{\\cos \\alpha}.</cmath> We see that this expression is maximized when <math>\\alpha</math> is maximized (at least when <math>\\alpha</math> is in the interval <math>(0,90^{\\circ}),</math> which it is). Then, <math>\\alpha \\ge 30^{\\circ},</math> so ew have that the maximum of <math>\\frac{a}{b}</math> is <cmath>\\frac{\\cos 0}{\\cos 30^{\\circ}} = \\frac{2}{\\sqrt{3}},</cmath> and so our answer is <math>4+3 = 7.</math>"
  },
  {
    "year": 2008,
    "variant": "II",
    "problem_number": 15,
    "latex": "Find the largest integer <math>n</math> satisfying the following conditions:\n:(i) <math>n^2</math> can be expressed as the difference of two consecutive cubes;\n:(ii) <math>2n + 79</math> is a perfect square.",
    "solution": "=== Solution 1 ===\nWrite <math>n^2 = (m + 1)^3 - m^3 = 3m^2 + 3m + 1</math>, or equivalently, <math>(2n + 1)(2n - 1) = 4n^2 - 1 = 12m^2 + 12m + 3 = 3(2m + 1)^2</math>.\n\nSince <math>2n + 1</math> and <math>2n - 1</math> are both odd and their difference is <math>2</math>, they are [[relatively prime]]. But since their product is three times a square, one of them must be a square and the other three times a square. We cannot have <math>2n - 1</math> be three times a square, for then <math>2n + 1</math> would be a square congruent to <math>2</math> modulo <math>3</math>, which is impossible.\n\nThus <math>2n - 1</math> is a square, say <math>b^2</math>. But <math>2n + 79</math> is also a square, say <math>a^2</math>. Then <math>(a + b)(a - b) = a^2 - b^2 = 80</math>. Since <math>a + b</math> and <math>a - b</math> have the same parity and their product is even, they are both even. To maximize <math>n</math>, it suffices to maximize <math>2b = (a + b) - (a - b)</math> and check that this yields an integral value for <math>m</math>. This occurs when <math>a + b = 40</math> and <math>a - b = 2</math>, that is, when <math>a = 21</math> and <math>b = 19</math>. This yields <math>n = 181</math> and <math>m = 104</math>, so the answer is <math>\\boxed{181}</math>.\n\n=== Solution 2 ===\nSuppose that the consecutive cubes are <math>m</math> and <math>m + 1</math>. We can use completing the square and the first condition to get:\n<cmath>\n(2n)^2 - 3(2m + 1)^2 = 1\\equiv a^2 - 3b^2\n</cmath>\nwhere <math>a</math> and <math>b</math> are non-negative integers. Now this is a [[Pell equation]], with solutions in the form <math>(2 + \\sqrt {3})^k = a_k + \\sqrt {3}b_k,</math> <math>k = 0,1,2,3,...</math>. However, <math>a</math> is even and <math>b</math> is odd. It is easy to see that the parity of <math>a</math> and <math>b</math> switch each time (by induction). Hence all solutions to the first condition are in the form:\n<cmath>\n(2 + \\sqrt {3})^{2k + 1} = a_k + \\sqrt {3}b_k\n</cmath>\nwhere <math>k = 0,1,2,..</math>. So we can (with very little effort) obtain the following: <math>(k,a_k = 2n) = (0,2),(1,26),(2,362),(3,5042)</math>. It is an AIME problem so it is implicit that <math>n < 1000</math>, so <math>2n < 2000</math>. It is easy to see that <math>a_n</math> is strictly increasing by induction. Checking <math>2n = 362\\implies n =\\boxed{181}</math> in the second condition works (we know <math>b_k</math> is odd so we don't need to find <math>m</math>). So we're done.\n\n=== Solution 3 (Big Bash) ===\n\nLet us generate numbers <math>1</math> to <math>1000</math> for the second condition, for squares. We know for <math>N</math> to be integer, the squares must be odd. So we generate <math>N = 1, 21, 45, 73, 105, 141, 181, 381, 441, 721, 801</math>. <math>N</math> cannot exceed <math>1000</math> since it is AIME problem. Now take the first criterion, let <math>a</math> be the smaller consecutive cube. We then get:\n\n<math> N^2 = (A + 1)^3 - A^3</math>\n\n<math> N^2 - 1 = 3A^2 + 3A</math>\n\n<math> (N + 1)(N - 1) = 3A(A + 1)</math>\n\nNow we know either <math>N + 1</math> or <math>N - 1</math> must be factor of <math>3</math>, hence <math>N = 1 \\pmod 3 </math> or<math>  N = 2 \\pmod 3</math>. Only <math>1, 73, 181, 721</math> satisfy this criterion. Testing each of the numbers in the condition yields <math>181</math> as the largest that fits both, thus answer <math>= \\boxed{181}</math>."
  },
  {
    "year": 2009,
    "variant": "I",
    "problem_number": 1,
    "latex": "Call a <math>3</math>-digit number ''geometric'' if it has <math>3</math> distinct digits which, when read from left to right, form a geometric sequence.  Find the difference between the largest and smallest geometric numbers.",
    "solution": "Assume that the largest geometric number starts with a <math>9</math>. We know that the common ratio must be a rational of the form <math>k/3</math> for some integer <math>k</math>, because a whole number should be attained for the 3rd term as well. When <math>k = 1</math>, the number is <math>931</math>. When <math>k = 2</math>, the number is <math>964</math>. When <math>k = 3</math>, we get <math>999</math>, but the integers must be distinct. By the same logic, the smallest geometric number is <math>124</math>. The largest geometric number is <math>964</math> and the smallest is <math>124</math>. Thus the difference is <math>964 - 124 = \\boxed{840}</math>."
  },
  {
    "year": 2009,
    "variant": "I",
    "problem_number": 2,
    "latex": "There is a complex number <math>z</math> with imaginary part <math>164</math> and a positive integer <math>n</math> such that\n\n<cmath>\\frac {z}{z + n} = 4i.</cmath>\n\nFind <math>n</math>.",
    "solution": "Let <math>z = a + 164i</math>.\n\nThen\n<cmath>\\frac {a + 164i}{a + 164i + n} = 4i</cmath>\nand\n<cmath>a + 164i = \\left (4i \\right ) \\left (a + n + 164i \\right ) = 4i \\left (a + n \\right ) - 656.</cmath>\n\nBy comparing coefficients, equating the real terms on the leftmost and rightmost side of the equation, \n\nwe conclude that\n<cmath>a = -656.</cmath>\n\nBy equating the imaginary terms on each side of the equation,\n\nwe conclude that\n<cmath>164i = 4i \\left (a + n \\right ) = 4i \\left (-656 + n \\right ).</cmath>\n\nWe now have an equation for <math>n</math>: <cmath>4i \\left (-656 + n \\right ) = 164i,</cmath>\n\nand this equation shows that <math>n = \\boxed{697}.</math>"
  },
  {
    "year": 2009,
    "variant": "I",
    "problem_number": 3,
    "latex": "A coin that comes up heads with probability <math>p > 0</math> and tails with probability <math>1 - p > 0</math> independently on each flip is flipped <math>8</math> times. Suppose that the probability of three heads and five tails is equal to <math>\\frac {1}{25}</math> of the probability of five heads and three tails. Let <math>p = \\frac {m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m + n</math>.",
    "solution": "The probability of three heads and five tails is <math>\\binom {8}{3}p^3(1-p)^5</math> and the probability of five heads and three tails is <math>\\binom {8}{3}p^5(1-p)^3</math>.\n\n<cmath>\\begin{align*}\n25\\binom {8}{3}p^3(1-p)^5&=\\binom {8}{3}p^5(1-p)^3 \\\\\n25(1-p)^2&=p^2 \\\\\n25p^2-50p+25&=p^2 \\\\\n24p^2-50p+25&=0 \\\\\np&=\\frac {5}{6}\\end{align*}</cmath>\n\nTherefore, the answer is <math>5+6=\\boxed{011}</math>."
  },
  {
    "year": 2009,
    "variant": "I",
    "problem_number": 4,
    "latex": "In parallelogram <math>ABCD</math>, point <math>M</math> is on <math>\\overline{AB}</math> so that <math>\\frac {AM}{AB} = \\frac {17}{1000}</math> and point <math>N</math> is on <math>\\overline{AD}</math> so that <math>\\frac {AN}{AD} = \\frac {17}{2009}</math>. Let <math>P</math> be the point of intersection of <math>\\overline{AC}</math> and <math>\\overline{MN}</math>. Find <math>\\frac {AC}{AP}</math>.",
    "solution": "One of the ways to solve this problem is to make this parallelogram a straight line.\nSo the whole length of the line is <math>APC</math>(<math>AMC</math> or <math>ANC</math>), and <math>ABC</math> is <math>1000x+2009x=3009x.</math>\n\n<math>AP</math>(<math>AM</math> or <math>AN</math>) is <math>17x.</math>\n\nSo the answer is <math>3009x/17x = \\boxed{177}</math>"
  },
  {
    "year": 2009,
    "variant": "I",
    "problem_number": 5,
    "latex": "Triangle <math>ABC</math> has <math>AC = 450</math> and <math>BC = 300</math>. Points <math>K</math> and <math>L</math> are located on <math>\\overline{AC}</math> and <math>\\overline{AB}</math> respectively so that <math>AK = CK</math>, and <math>\\overline{CL}</math> is the angle bisector of angle <math>C</math>. Let <math>P</math> be the point of intersection of <math>\\overline{BK}</math> and <math>\\overline{CL}</math>, and let <math>M</math> be the point on line <math>BK</math> for which <math>K</math> is the midpoint of <math>\\overline{PM}</math>. If <math>AM = 180</math>, find <math>LP</math>.",
    "solution": "==Diagram==\n<center><asy>\nimport markers;\ndefaultpen(fontsize(8));\nsize(300);\npair A=(0,0), B=(30*sqrt(331),0), C, K, L, M, P;\nC = intersectionpoints(Circle(A,450), Circle(B,300))[0];\nK =  midpoint(A--C);\nL = (3*B+2*A)/5;\nP = extension(B,K,C,L);\nM = 2*K-P;\ndraw(A--B--C--cycle);\ndraw(C--L);draw(B--M--A);\nmarkangle(n=1,radius=15,A,C,L,marker(markinterval(stickframe(n=1),true)));\nmarkangle(n=1,radius=15,L,C,B,marker(markinterval(stickframe(n=1),true)));\ndot(A^^B^^C^^K^^L^^M^^P);\nlabel(\"$A$\",A,(-1,-1));label(\"$B$\",B,(1,-1));label(\"$C$\",C,(1,1));\nlabel(\"$K$\",K,(0,2));label(\"$L$\",L,(0,-2));label(\"$M$\",M,(-1,1));\nlabel(\"$P$\",P,(1,1));\nlabel(\"$180$\",(A+M)/2,(-1,0));label(\"$180$\",(P+C)/2,(-1,0));label(\"$225$\",(A+K)/2,(0,2));label(\"$225$\",(K+C)/2,(0,2));\nlabel(\"$300$\",(B+C)/2,(1,1));\n</asy></center>"
  },
  {
    "year": 2009,
    "variant": "I",
    "problem_number": 6,
    "latex": "How many positive integers <math>N</math> less than <math>1000</math> are there such that the equation <math>x^{\\lfloor x\\rfloor} = N</math> has a solution for <math>x</math>?",
    "solution": "First, <math>x</math> must be less than <math>5</math>, since otherwise <math>x^{\\lfloor x\\rfloor}</math> would be at least <math>3125</math> which is greater than <math>1000</math>. \n\nBecause <math>{\\lfloor x\\rfloor}</math> must be an integer, let‚Äôs do case work based on <math>{\\lfloor x\\rfloor}</math>:\n\nFor <math>{\\lfloor x\\rfloor}=0</math>, <math>N=1</math> as long as <math>x \\neq 0</math>. This gives us <math>1</math> value of <math>N</math>.\n\nFor <math>{\\lfloor x\\rfloor}=1</math>, <math>N</math> can be anything between <math>1^1</math> to <math>2^1</math> excluding <math>2^1</math>\n\nTherefore, <math>N=1</math>. However, we got <math>N=1</math> in case 1 so it got counted twice.\n\nFor <math>{\\lfloor x\\rfloor}=2</math>, <math>N</math> can be anything between <math>2^2</math> to <math>3^2</math> excluding <math>3^2</math>\n\nThis gives us <math>3^2-2^2=5</math> <math>N</math>'s\n\nFor <math>{\\lfloor x\\rfloor}=3</math>, <math>N</math> can be anything between <math>3^3</math> to <math>4^3</math> excluding <math>4^3</math>\n\nThis gives us <math>4^3-3^3=37</math> <math>N</math>'s\n\nFor <math>{\\lfloor x\\rfloor}=4</math>, <math>N</math> can be anything between <math>4^4</math> to <math>5^4</math> excluding <math>5^4</math>\n\nThis gives us <math>5^4-4^4=369</math> <math>N</math>'s\n\nSince <math>x</math> must be less than <math>5</math>, we can stop here and the answer is <math>1+5+37+369= \\boxed {412}</math> possible values for <math>N</math>.\n\nAlternatively, one could find that the values which work are <math>1^1,\\ 2^2,\\ 3^3,\\ 4^4,\\ \\sqrt{5}^{\\lfloor\\sqrt{5}\\rfloor},\\ \\sqrt{6}^{\\lfloor\\sqrt{6}\\rfloor},\\ \\sqrt{7}^{\\lfloor\\sqrt{7}\\rfloor},\\ \\sqrt{8}^{\\lfloor\\sqrt{8}\\rfloor},\\ \\sqrt[3]{28}^{\\lfloor\\sqrt[3]{28}\\rfloor},\\ \\sqrt[3]{29}^{\\lfloor\\sqrt[3]{29}\\rfloor},\\ \\sqrt[3]{30}^{\\lfloor\\sqrt[3]{30}\\rfloor},\\ ...,</math>\n<math>\\ \\sqrt[3]{63}^{\\lfloor\\sqrt[3]{63}\\rfloor},\\ \\sqrt[4]{257}^{\\lfloor\\sqrt[4]{257}\\rfloor},\\ \\sqrt[4]{258}^{\\lfloor\\sqrt[4]{258}\\rfloor},\\ ...,\\ \\sqrt[4]{624}^{\\lfloor\\sqrt[4]{624}\\rfloor}</math> to get the same answer."
  },
  {
    "year": 2009,
    "variant": "I",
    "problem_number": 7,
    "latex": "The sequence <math>(a_n)</math> satisfies <math>a_1 = 1</math> and <math>5^{(a_{n + 1} - a_n)} - 1 = \\frac {1}{n + \\frac {2}{3}}</math> for <math>n \\geq 1</math>. Let <math>k</math> be the least integer greater than <math>1</math> for which <math>a_k</math> is an integer. Find <math>k</math>.",
    "solution": "The best way to solve this problem is to get the iterated part out of the exponent:\n<cmath>5^{(a_{n + 1} - a_n)} = \\frac {1}{n + \\frac {2}{3}} + 1</cmath>\n<cmath>5^{(a_{n + 1} - a_n)} = \\frac {n + \\frac {5}{3}}{n + \\frac {2}{3}}</cmath>\n<cmath>5^{(a_{n + 1} - a_n)} = \\frac {3n + 5}{3n + 2}</cmath>\n<cmath>a_{n + 1} - a_n = \\log_5{\\left(\\frac {3n + 5}{3n + 2}\\right)}</cmath>\n<cmath>a_{n + 1} - a_n = \\log_5{(3n + 5)} - \\log_5{(3n + 2)}</cmath>\nPlug in <math>n = 1, 2, 3, 4</math> to see the first few terms of the sequence: <cmath>\\log_5{5},\\log_5{8}, \\log_5{11}, \\log_5{14}.</cmath> We notice that the terms  <math>5, 8, 11, 14</math> are in arithmetic progression. Since <math>a_1 = 1 = \\log_5{5} = \\log_5{(3(1) + 2)}</math>, we can easily use induction to show that <math>a_n = \\log_5{(3n + 2)}</math>. So now we only need to find the next value of <math>n</math> that makes <math>\\log_5{(3n + 2)}</math> an integer. This means that <math>3n + 2</math> must be a power of <math>5</math>. We test <math>25</math>: <cmath>3n + 2 = 25</cmath> <cmath>3n = 23</cmath> This has no integral solutions, so we try <math>125</math>: <cmath>3n + 2 = 125</cmath> <cmath>3n = 123</cmath> <cmath>n = \\boxed{041}</cmath>"
  },
  {
    "year": 2009,
    "variant": "I",
    "problem_number": 8,
    "latex": "Let <math>S = \\{2^0,2^1,2^2,\\ldots,2^{10}\\}</math>. Consider all possible positive differences of pairs of elements of <math>S</math>. Let <math>N</math> be the sum of all of these differences. Find the remainder when <math>N</math> is divided by <math>1000</math>.",
    "solution": "When computing <math>N</math>, the number <math>2^x</math> will be added <math>x</math> times (for terms <math>2^x-2^0</math>, <math>2^x-2^1</math>, ..., <math>2^x - 2^{x-1}</math>), and subtracted <math>10-x</math> times. Hence <math>N</math> can be computed as <math>N=10\\cdot 2^{10} + 8\\cdot 2^9 + 6\\cdot 2^8 + \\cdots - 8\\cdot 2^1 - 10\\cdot 2^0</math>. Evaluating <math>N \\bmod {1000}</math> yields:\n\n<cmath>\n\\begin{align*}\nN \n& = 10(2^{10}-1) + 8(2^9 - 2^1) + 6(2^8-2^2) + 4(2^7-2^3) + 2(2^6-2^4)\n\\\\\n& = 10(1023) + 8(510) + 6(252) + 4(120) + 2(48)\n\\\\\n& = 10(1000+23) + 8(500+10) + 6(250+2) + 480 + 96\n\\\\\n& \\equiv (0 + 230) + (0 + 80) + (500 + 12) + 480 + 96\n\\\\\n& \\equiv \\boxed{398}\n\\end{align*}\n</cmath>"
  },
  {
    "year": 2009,
    "variant": "I",
    "problem_number": 9,
    "latex": "A game show offers a contestant three prizes A, B and C, each of which is worth a whole number of dollars from <math>\\$ 1</math> to <math>\\$ 9999</math> inclusive. The contestant wins the prizes by correctly guessing the price of each prize in the order A, B, C. As a hint, the digits of the three prices are given. On a particular day, the digits given were <math>1, 1, 1, 1, 3, 3, 3</math>. Find the total number of possible guesses for all three prizes consistent with the hint.",
    "solution": "[Clarification: You are supposed to find the number of all possible tuples of prices, <math>(A, B, C)</math>, that could have been on that day.]\n\nSince we have three numbers, consider the number of ways we can put these three numbers together in a string of 7 digits. For example, if <math>A=113, B=13, C=31</math>, then the string is\n\n<cmath>1131331.</cmath>\n\nSince the strings have seven digits and three threes, there are <math>\\binom{7}{3}=35</math> arrangements of all such strings.\n\nIn order to obtain all combination of A,B,C, we partition all the possible strings into 3 groups.\n\nLet's look at the example. We have to partition it into 3 groups with each group having at least 1 digit. In other words, we need to find the solution to\n\n<cmath>x+y+z=7, x,y,z>0.</cmath>\n\nThis gives us\n\n<cmath>\\binom{6}{2}=15</cmath>\n\nways by stars and bars. But we have counted the one with 5 digit numbers; that is, <math>(5,1,1),(1,1,5),(1,5,1)</math>.\n\nThus, each arrangement has <cmath>\\binom{6}{2}-3=12</cmath> ways per arrangement, and there are <math>12\\times35=\\boxed{420}</math> ways."
  },
  {
    "year": 2009,
    "variant": "I",
    "problem_number": 10,
    "latex": "The Annual Interplanetary Mathematics Examination (AIME) is written by a committee of five Martians, five Venusians, and five Earthlings.  At meetings, committee members sit at a round table with chairs numbered from <math>1</math> to <math>15</math> in clockwise order.  Committee rules state that a Martian must occupy chair <math>1</math> and an Earthling must occupy chair <math>15</math>,  Furthermore, no Earthling can sit immediately to the left of a Martian, no Martian can sit immediately to the left of a Venusian, and no Venusian can sit immediately to the left of an Earthling.  The number of possible seating arrangements for the committee is <math>N \\cdot (5!)^3</math>.  Find <math>N</math>.",
    "solution": "Since the 5 members of each planet committee are distinct we get that the number of arrangement of sittings is in the form <math>N*(5!)^3</math> because for each <math>M, V, E</math> sequence we have <math>5!</math> arrangements within the Ms, Vs, and Es.\n\nPretend the table only seats <math>3</math> \"people\", with <math>1</math> \"person\" from each planet. Counting clockwise, only the arrangement M, V, E satisfies the given constraints. Therefore, in the actual problem, the members must sit in cycles of M, V, E, but not necessarily with one M, one V, and one E in each cycle(for example, MMVVVE, MVVVEEE, MMMVVVEE all count as cycles). These cycles of MVE must start at seat <math>1</math>, since an M is at seat <math>1</math>. We simply count the number of arrangements through casework.\n\n1. The entire arrangement is one cycle- There is only one way to arrange this, MMMMMVVVVVEEEEE\n\n2. Two cycles - There are 3 Ms, Vs and Es left to distribute among the existing MVEMVE. Using stars and bars, we get <math>\\binom{4}{1}=4</math> ways for the members of each planet. Therefore, there are <math>4^3=64</math> ways in total.\n\n3. Three cycles - 2 Ms, Vs, Es left, so <math>\\binom{4}{2}=6</math>, making there <math>6^3=216</math> ways total.\n\n4. Four cycles - 1 M, V, E left, each M can go to any of the four MVE cycles and likewise for V and E, <math>4^3=64</math> ways total\n \n5. Five cycles - MVEMVEMVEMVEMVE is the only possibility, so there is just <math>1</math> way.\n\nCombining all these cases, we get <math>1+1+64+64+216= \\boxed{346}</math>"
  },
  {
    "year": 2009,
    "variant": "I",
    "problem_number": 11,
    "latex": "Consider the set of all triangles <math>OPQ</math> where <math>O</math> is the origin and <math>P</math> and <math>Q</math> are distinct points in the plane with nonnegative integer coordinates <math>(x,y)</math> such that <math>41x + y = 2009</math>. Find the number of such distinct triangles whose area is a positive integer.",
    "solution": "Let the two points <math>P</math> and <math>Q</math> be defined with coordinates; <math>P=(x_1,y_1)</math> and <math>Q=(x_2,y_2)</math>\n\nWe can calculate the area of the parallelogram with the determinant of the matrix of the coordinates of the two points(shoelace theorem). \n\n<math>\\det \\left(\\begin{array}{c} P \\\\ Q\\end{array}\\right)=\\det \\left(\\begin{array}{cc}x_1 &y_1\\\\x_2&y_2\\end{array}\\right).</math>\n\nSince the triangle has half the area of the parallelogram, we just need the determinant to be even.\n\nThe determinant is\n\n<cmath>(x_1)(y_2)-(x_2)(y_1)=(x_1)(2009-41(x_2))-(x_2)(2009-41(x_1))=2009(x_1)-41(x_1)(x_2)-2009(x_2)+41(x_1)(x_2)=2009((x_1)-(x_2))</cmath>\n\nSince <math>2009</math> is not even, <math>((x_1)-(x_2))</math> must be even, thus the two <math>x</math>'s must be of the same parity. Also note that the maximum value for <math>x</math> is <math>49</math> and the minimum is <math>0</math>. There are <math>25</math> even and <math>25</math> odd numbers available for use as coordinates and thus there are <math>(_{25}C_2)+(_{25}C_2)=\\boxed{600}</math> such triangles."
  },
  {
    "year": 2009,
    "variant": "I",
    "problem_number": 12,
    "latex": "In right <math>\\triangle ABC</math> with hypotenuse <math>\\overline{AB}</math>, <math>AC = 12</math>, <math>BC = 35</math>, and <math>\\overline{CD}</math> is the altitude to <math>\\overline{AB}</math>. Let <math>\\omega</math> be the circle having <math>\\overline{CD}</math> as a diameter. Let <math>I</math> be a point outside <math>\\triangle ABC</math> such that <math>\\overline{AI}</math> and <math>\\overline{BI}</math> are both tangent to circle <math>\\omega</math>. The ratio of the perimeter of <math>\\triangle ABI</math> to the length <math>AB</math> can be expressed in the form <math>\\frac {m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m + n</math>.",
    "solution": "First, note that <math>AB=37</math>; let the tangents from <math>I</math> to <math>\\omega</math> have length <math>x</math>. Then the perimeter of <math>\\triangle ABI</math> is equal to <cmath>2(x+AD+DB)=2(x+37).</cmath> It remains to compute <math>\\dfrac{2(x+37)}{37}=2+\\dfrac{2}{37}x</math>.\n\nObserve <math>CD=\\dfrac{12\\cdot 35}{37}=\\dfrac{420}{37}</math>, so the radius of <math>\\omega</math> is <math>\\dfrac{210}{37}</math>. We may also compute <math>AD=\\dfrac{12^{2}}{37}</math> and <math>DB=\\dfrac{35^{2}}{37}</math> by similar triangles. Let <math>O</math> be the center of <math>\\omega</math>; notice that <cmath>\\tan(\\angle DAO)=\\dfrac{DO}{AD}=\\dfrac{210/37}{144/37}=\\dfrac{35}{24}</cmath> so it follows <cmath>\\sin(\\angle DAO)=\\dfrac{35}{\\sqrt{35^{2}+24^{2}}}=\\dfrac{35}{\\sqrt{1801}}</cmath> while <math>\\cos(\\angle DAO)=\\dfrac{24}{\\sqrt{1801}}</math>. By the double-angle formula <math>\\sin(2\\theta)=2\\sin\\theta\\cos\\theta</math>, it turns out that <cmath>\\sin(\\angle BAI)=\\sin(2\\angle DAO)=\\dfrac{2\\cdot 35\\cdot 24}{1801}=\\dfrac{1680}{1801}</cmath>\n\nUsing the area formula <math>\\dfrac{1}{2}ab\\sin(C)</math> in <math>\\triangle ABI</math>, <cmath>[ABI]=\\left(\\dfrac{1}{2}\\right)\\left(\\dfrac{144}{37}+x\\right)(37)\\left(\\dfrac{1680}{1801}\\right)=\\left(\\dfrac{840}{1801}\\right)(144+37x).</cmath> But also, using <math>rs</math>, <cmath>[ABI]=\\left(\\dfrac{210}{37}\\right)(37+x).</cmath> Now we can get <cmath>\\dfrac{[ABI]}{210}=\\dfrac{4(144+37x)}{1801}=\\dfrac{37+x}{37}</cmath> so multiplying everything by <math>37\\cdot 1801=66637</math> lets us solve for <math>x</math>: <cmath>21312+5476x=66637+1801x.</cmath> We have <math>x=\\dfrac{66637-21312}{5476-1801}=\\dfrac{45325}{3675}=\\dfrac{37}{3}</math>, and now <cmath>2+\\dfrac{2}{37}x=2+\\dfrac{2}{3}=\\dfrac{8}{3}</cmath> giving the answer, <math>\\boxed{011}</math>.\n\n[[File:AIME 2009-I12 Geogebra Diagram.png]]"
  },
  {
    "year": 2009,
    "variant": "I",
    "problem_number": 13,
    "latex": "The terms of the sequence <math>(a_i)</math> defined by <math>a_{n + 2} = \\frac {a_n + 2009} {1 + a_{n + 1}}</math> for <math>n \\ge 1</math> are positive integers. Find the minimum possible value of <math>a_1 + a_2</math>.",
    "solution": "Our expression is\n<cmath>a_{n + 2} = \\frac {a_n + 2009} {1 + a_{n + 1}}.</cmath>\nManipulate this to obtain:\n<cmath>a_{n + 2}a_{n + 1}+a_{n+2}= a_n + 2009.</cmath>\nOur goal is to cancel terms. If we substitute in <math>n+1</math> for <math>n,</math> we get:\n<cmath>a_{n+3}a_{n+2}+a_{n+3}=a_{n+1}+2009.</cmath>\nSubtracting these two equations and manipulating the expression yields:\n<cmath>(a_{n+2}+1)(a_{n+3}-a_{n+1})=a_{n+2}-a_n.</cmath>\nNotice we have the form <math>a_{k+2}-a_k</math> on both sides. Let <math>b_n=a_{n+2}-a_n.</math> Then:\n<cmath>b_{n+1}(a_{n+2}+1)=b_n.</cmath>\nNotice that since <math>a_n</math> is always an integer, <math>a_{n+2}+1</math> and <math>b_n</math> must also always be an integer. It is also clear that <math>b_n</math> is a multiple of <math>b_{n+1},</math> implying a decreasing sequence.\n\nHowever, if the decreasing factor is nonzero, we will eventually have a <math>b_k</math> that is not an integer, contradicting our conditions for <math>b_n</math>. Thus, we need either <math>a_{n+2}+1=0 \\Rightarrow a_{n+2}=-1</math> (impossible as <math>a_n</math> for all indices must be positive integers) or <math>b_n=0 \\Rightarrow a_{n+2}=a_n.</math>\n\nGiven this, we want to find the minimum of <math>a_1+a_2.</math> We have, from the problem:\n<cmath>\\frac{a_1+2009}{1+a_2}=a_3=a_1 \\Rightarrow a_1 a_2 = 2009.</cmath>\nBy AM-GM, to minimize this, we have to make <math>a_1</math> and <math>a_2</math> factors as close as possible. Hence, the smallest possible sum is <math>41+49=90.</math>\n\n~mathboy282"
  },
  {
    "year": 2009,
    "variant": "I",
    "problem_number": 14,
    "latex": "For <math>t = 1, 2, 3, 4</math>, define <math>S_t = \\sum_{i = 1}^{350}a_i^t</math>, where <math>a_i \\in \\{1,2,3,4\\}</math>. If <math>S_1 = 513</math> and <math>S_4 = 4745</math>, find the minimum possible value for <math>S_2</math>.",
    "solution": "Because the order of the <math>a</math>'s doesn't matter, we simply need to find the number of <math>1</math>s <math>2</math>s <math>3</math>s and <math>4</math>s that minimize <math>S_2</math>. So let <math>w, x, y,</math> and <math>z</math> represent the number of <math>1</math>s, <math>2</math>s, <math>3</math>s, and <math>4</math>s respectively. Then we can write three equations based on these variables. Since there are a total of <math>350</math> <math>a</math>s, we know that <math>w + x + y + z = 350</math>. We also know that <math>w + 2x + 3y + 4z = 513</math> and <math>w + 16x + 81y + 256z = 4745</math>. We can now solve these down to two variables:\n<cmath>w = 350 - x - y - z</cmath>\nSubstituting this into the second and third equations, we get\n<cmath>x + 2y + 3z = 163</cmath>\nand\n<cmath>15x + 80y + 255z = 4395.</cmath>\nThe second of these can be reduced to \n<cmath>3x + 16y + 51z = 879.</cmath>\nNow we substitute <math>x</math> from the first new equation into the other new equation.\n<cmath>x = 163 - 2y - 3z</cmath>\n<cmath>3(163 - 2y - 3z) + 16y + 51z = 879</cmath>\n<cmath>489 + 10y + 42z = 879</cmath>\n<cmath>5y + 21z = 195</cmath>\nSince <math>y</math> and <math>z</math> are integers, the two solutions to this are <math>(y,z) = (39,0)</math> or <math>(18,5)</math>.\nIf you plug both these solutions in to <math>S_2</math> it is apparent that the second one returns a smaller value. It turns out that <math>w = 215</math>, <math>x = 112</math>, <math>y = 18</math>, and <math>z = 5</math>, so <math>S_2 = 215 + 4*112 + 9*18 + 16*5 = 215 + 448 + 162 + 80 = \\boxed{905}</math>."
  },
  {
    "year": 2009,
    "variant": "I",
    "problem_number": 15,
    "latex": "In triangle <math>ABC</math>, <math>AB = 10</math>, <math>BC = 14</math>, and <math>CA = 16</math>. Let <math>D</math> be a point in the interior of <math>\\overline{BC}</math>. Let points <math>I_B</math> and <math>I_C</math> denote the incenters of triangles <math>ABD</math> and <math>ACD</math>, respectively. The circumcircles of triangles <math>BI_BD</math> and <math>CI_CD</math> meet at distinct points <math>P</math> and <math>D</math>. The maximum possible area of <math>\\triangle BPC</math> can be expressed in the form <math>a - b\\sqrt {c}</math>, where <math>a</math>, <math>b</math>, and <math>c</math> are positive integers and <math>c</math> is not divisible by the square of any prime. Find <math>a + b + c</math>.",
    "solution": "==Diagram==\n<center><asy>\ndefaultpen(fontsize(11)+0.8); size(300);\npair A,B,C,D,Ic,Ib,P;\nA=MP(\"A\",origin,down+left); B=MP(\"B\",8*right,down+right); C=MP(\"C\",IP(CR(A,5), CR(B,7)),2*up); real t=0.505; D=MP(\"\",B+t*(C-B),SW); draw(A--B--C--A--D); path c1=incircle(A,D,C); path c2=incircle(A,D,B); draw(c1, gray+0.25); draw(c2, gray+0.25); Ic=MP(\"I_C\",incenter(A,D,C),down+left); Ib=MP(\"I_B\",incenter(A,D,B),left); path c3=circumcircle(Ic,D,C); path c4=circumcircle(Ib,D,B); draw(c3, fuchsia+0.2); draw(c4, fuchsia+0.2); P=MP(\"P\",OP(c3,c4),up); draw(arc(circumcenter(B,C,P),B,C), royalblue+0.5+dashed); draw(C--Ic--D--P--C^^P--Ic, black+0.3); draw(B--Ib--D--P--B^^P--Ib, black+0.3); label(\"10\",A--B,down); label(\"16\",A--C,left);\n</asy></center>"
  },
  {
    "year": 2009,
    "variant": "II",
    "problem_number": 1,
    "latex": "Before starting to paint, Bill had <math>130</math> ounces of blue paint, <math>164</math> ounces of red paint, and <math>188</math> ounces of white paint. Bill painted four equally sized stripes on a wall, making a blue stripe, a red stripe, a white stripe, and a pink stripe. Pink is a mixture of red and white, not necessarily in equal amounts. When Bill finished, he had equal amounts of blue, red, and white paint left. Find the total number of ounces of paint Bill had left.",
    "solution": "Let <math>x</math> be the amount of paint in a strip. The total amount of paint is <math>130+164+188=482</math>. After painting the wall, the total amount of paint is <math>482-4x</math>. Because the total amount in each color is the same after finishing, we have\n\n<cmath>\\frac{482-4x}{3} = 130-x</cmath>\n<cmath>482-4x=390-3x</cmath>\n<cmath>x=92</cmath>\n\nOur answer is <math>482-4\\cdot 92 = 482 - 368 = \\boxed{114}</math>.\n\n~ carolynlikesmath"
  },
  {
    "year": 2009,
    "variant": "II",
    "problem_number": 2,
    "latex": "Suppose that <math>a</math>, <math>b</math>, and <math>c</math> are positive real numbers such that <math>a^{\\log_3 7} = 27</math>, <math>b^{\\log_7 11} = 49</math>, and <math>c^{\\log_{11}25} = \\sqrt{11}</math>. Find\n<cmath> a^{(\\log_3 7)^2} + b^{(\\log_7 11)^2} + c^{(\\log_{11} 25)^2}. </cmath>",
    "solution": "First, we have:\n<cmath>\nx^{(\\log_y z)^2}\n= x^{\\left( (\\log_y z)^2 \\right) }\n= x^{(\\log_y z) \\cdot (\\log_y z) }\n= \\left( x^{\\log_y z} \\right)^{\\log_y z}\n</cmath>\n\nNow, let <math>x=y^w</math>, then we have:\n<cmath>\nx^{\\log_y z} \n= \\left( y^w \\right)^{\\log_y z} \n= y^{w\\log_y z} \n= y^{\\log_y (z^w)} \n= z^w\n</cmath>\n\nThis is all we need to evaluate the given formula. Note that in our case we have <math>27=3^3</math>, <math>49=7^2</math>, and <math>\\sqrt{11}=11^{1/2}</math>. We can now compute:\n\n<cmath>\na^{(\\log_3 7)^2}\n= \\left( a^{\\log_3 7} \\right)^{\\log_3 7}\n= 27^{\\log_3 7}\n= (3^3)^{\\log_3 7}\n= 7^3\n= 343\n</cmath>\n\nSimilarly, we get\n<cmath>\nb^{(\\log_7 11)^2} \n= (7^2)^{\\log_7 11}\n= 11^2 \n= 121\n</cmath>\n\nand\n<cmath>\nc^{(\\log_{11} 25)^2}\n= (11^{1/2})^{\\log_{11} 25}\n= 25^{1/2}\n= 5\n</cmath>\n\nand therefore the answer is <math>343+121+5 = \\boxed{469}</math>."
  },
  {
    "year": 2009,
    "variant": "II",
    "problem_number": 3,
    "latex": "In rectangle <math>ABCD</math>, <math>AB=100</math>. Let <math>E</math> be the midpoint of <math>\\overline{AD}</math>. Given that line <math>AC</math> and line <math>BE</math> are perpendicular, find the greatest integer less than <math>AD</math>.",
    "solution": "=== Solution 1===\n<center><asy>\npair A=(0,10), B=(0,0), C=(14,0), D=(14,10), Q=(0,5);\ndraw (A--B--C--D--cycle);\npair E=(7,10);\ndraw (B--E);\ndraw (A--C);\npair F=(6.7,6.7);\nlabel(\"\\(E\\)\",E,N);\nlabel(\"\\(A\\)\",A,NW);\nlabel(\"\\(B\\)\",B,SW);\nlabel(\"\\(C\\)\",C,SE);\nlabel(\"\\(D\\)\",D,NE);\nlabel(\"\\(F\\)\",F,W);\nlabel(\"\\(100\\)\",Q,W);\n</asy></center>\nFrom the problem, <math>AB=100</math> and triangle <math>FBA</math> is a right triangle. As <math>ABCD</math> is a rectangle, triangles <math>BCA</math>, and <math>ABE</math> are also right triangles. By <math>AA</math>, <math>\\triangle FBA \\sim \\triangle BCA</math>, and <math>\\triangle FBA \\sim \\triangle ABE</math>, so <math>\\triangle ABE \\sim \\triangle BCA</math>. This gives <math>\\frac {AE}{AB}= \\frac {AB}{BC}</math>. <math>AE=\\frac{AD}{2}</math> and <math>BC=AD</math>, so <math>\\frac {AD}{2AB}= \\frac {AB}{AD}</math>, or <math>(AD)^2=2(AB)^2</math>, so <math>AD=AB \\sqrt{2}</math>, or <math>100 \\sqrt{2}</math>, so the answer is <math>\\boxed{141}</math>.\n\n=== Solution 2===\nLet <math>x</math> be the ratio of <math>BC</math> to <math>AB</math>. On the coordinate plane, plot <math>A=(0,0)</math>, <math>B=(100,0)</math>, <math>C=(100,100x)</math>, and <math>D=(0,100x)</math>. Then <math>E=(0,50x)</math>. Furthermore, the slope of <math>\\overline{AC}</math> is <math>x</math> and the slope of <math>\\overline{BE}</math> is <math>-x/2</math>. They are perpendicular, so they multiply to <math>-1</math>, that is,\n<cmath>x\\cdot-\\frac{x}{2}=-1,</cmath>\nwhich implies that <math>-x^2=-2</math> or <math>x=\\sqrt 2</math>. Therefore <math>AD=100\\sqrt 2\\approx 141.42</math> so <math>\\lfloor AD\\rfloor=\\boxed{141}</math>.\n\n=== Solution 3 ===\nSimilarly to Solution 2, let the positive x-axis be in the direction of ray <math>BC</math> and let the positive y-axis be in the direction of ray <math>BA</math>. Thus, the vector <math>BE=(x,100)</math> and the vector <math>AC=(2x,-100)</math> are perpendicular and thus have a dot product of 0. Thus, calculating the dot product:\n\n<cmath> x\\cdot2x+(100)\\cdot(-100)=2x^2-10000=0 </cmath>\n<cmath> 2x^2-10000=0\\rightarrow x^2=5000</cmath>\n\nSubstituting AD/2 for x:\n<cmath>(AD/2)^2=5000\\rightarrow AD^2=20000</cmath>\n<cmath>AD=100\\sqrt2</cmath>\n\n===Solution 4===\n<center><asy>\npair A=(0,10), B=(0,0), C=(14,0), D=(14,10), Q=(0,5),X=(21,0);\ndraw (A--B--C--D--cycle);\npair E=(7,10);\ndraw (B--E);\ndraw (A--C);\ndraw(C--X--E);\nlabel(\"\\(E\\)\",E,N);\nlabel(\"\\(A\\)\",A,NW);\nlabel(\"\\(B\\)\",B,SW);\nlabel(\"\\(C\\)\",C,SE);\nlabel(\"\\(D\\)\",D,NE);\nlabel(\"\\(X\\)\",X,S);\nlabel(\"\\(100\\)\",Q,W);\n</asy></center>\nDraw <math>CX</math> and <math>EX</math> to form a parallelogram <math>AEXC</math>. Since <math>EX \\parallel AC</math>, <math>\\angle BEX=90^\\circ</math> by the problem statement, so <math>\\triangle BEX</math> is right. \nLetting <math>AE=y</math>, we have <math>BE=\\sqrt{100^2+y^2}</math> and <math>AC=EX=\\sqrt{100^2+(2y)^2}</math>. Since <math>CX=EA</math>, <math>\\sqrt{100^2+y^2}^2+\\sqrt{100^2+(2y)^2}=(3y)^2</math>. Solving this, we have \n<cmath> 100^2+ 100^2 + y^2 + 4y^2 = 9y^2</cmath>\n<cmath> 2\\cdot 100^2 = 4y^2</cmath>\n<cmath>\\frac{100^2}{2}=y^2</cmath>\n<cmath>\\frac{100}{\\sqrt{2}}=y</cmath>\n<cmath>\\frac{100\\sqrt{2}}{2}=y</cmath>\n<cmath>100\\sqrt{2}=2y=AD</cmath>, so the answer is <math>\\boxed{141}</math>."
  },
  {
    "year": 2009,
    "variant": "II",
    "problem_number": 4,
    "latex": "A group of children held a grape-eating contest. When the contest was over, the winner had eaten <math>n</math> grapes, and the child in <math>k</math>-th place had eaten  <math>n+2-2k</math> grapes. The total number of grapes eaten in the contest was <math>2009</math>. Find the smallest possible value of <math>n</math>.",
    "solution": "=== Resolving the ambiguity ===\n\nThe problem statement is confusing, as it can be interpreted in two ways: Either as \"there is a <math>k>1</math> such that the child in <math>k</math>-th place had eaten  <math>n+2-2k</math> grapes\", or \"for all <math>k</math>, the child in <math>k</math>-th place had eaten  <math>n+2-2k</math> grapes\".\n\nThe second meaning was apparently the intended one. Hence we will restate the problem statement in this way:\n\nA group of <math>c</math> children held a grape-eating contest. When the contest was over, the following was true: There was a <math>n</math> such that for each <math>k</math> between <math>1</math> and <math>c</math>, inclusive, the child in <math>k</math>-th place had eaten exactly <math>n+2-2k</math> grapes. The total number of grapes eaten in the contest was <math>2009</math>. Find the smallest possible value of <math>n</math>.\n\n=== Solution 1 ===\n\nThe total number of grapes eaten can be computed as the sum of the arithmetic progression with initial term <math>n</math> (the number of grapes eaten by the child in <math>1</math>-st place), difference <math>d=-2</math>, and number of terms <math>c</math>. We can easily compute that this sum is equal to <math>c(n-c+1)</math>.\n\nHence we have the equation <math>2009=c(n-c+1)</math>, and we are looking for a solution <math>(n,c)</math>, where both <math>n</math> and <math>c</math> are positive integers, <math>n\\geq 2(c-1)</math>, and <math>n</math> is minimized. (The condition <math>n\\geq 2(c-1)</math> states that even the last child had to eat a non-negative number of grapes.)\n\nThe prime factorization of <math>2009</math> is <math>2009=7^2 \\cdot 41</math>. Hence there are <math>6</math> ways how to factor <math>2009</math> into two positive terms <math>c</math> and <math>n-c+1</math>:\n\n* <math>c=1</math>, <math>n-c+1=2009</math>, then <math>n=2009</math> is a solution.\n* <math>c=7</math>, <math>n-c+1=7\\cdot 41=287</math>, then <math>n=293</math> is a solution.\n* <math>c=41</math>, <math>n-c+1=7\\cdot 7=49</math>, then <math>n=89</math> is a solution.\n* In each of the other three cases, <math>n</math> will obviously be less than <math>2(c-1)</math>, hence these are not valid solutions.\n\nThe smallest valid solution is therefore <math>c=41</math>, <math>n=\\boxed{089}</math>.\n\n=== Solution 2 ===\n\nIf the first child ate <math>n=2m</math> grapes, then the maximum number of grapes eaten by all the children together is <math>2m + (2m-2) + (2m-4) + \\cdots + 4 + 2 = m(m+1)</math>. Similarly, if the first child ate <math>2m-1</math> grapes, the maximum total number of grapes eaten is <math>(2m-1)+(2m-3)+\\cdots+3+1 = m^2</math>.\n\nFor <math>m=44</math> the value <math>m(m+1)=44\\cdot 45 =1980</math> is less than <math>2009</math>. Hence <math>n</math> must be at least <math>2\\cdot 44+1=89</math>. For <math>n=89</math>, the maximum possible sum is <math>45^2=2025</math>. And we can easily see that <math>2009 = 2025 - 16 = 2025 - (1+3+5+7)</math>, hence <math>2009</math> grapes can indeed be achieved for <math>n=89</math> by dropping the last four children.\n\nHence we found a solution with <math>n=89</math> and <math>45-4=41</math> kids, and we also showed that no smaller solution exists. Therefore the answer is <math>\\boxed{089}</math>.\n\n=== Solution 3 (similar to solution 1) ===\nIf the winner ate n grapes, then 2nd place ate <math>n+2-4=n-2</math> grapes, 3rd place ate <math>n+2-6=n-4</math> grapes, 4th place ate <math>n-6</math> grapes, and so on. Our sum can be written as <math>n+(n-2)+(n-4)+(n-6)\\dots</math>. If there are x places, we can express this sum as <math>(x+1)n-x(x+1)</math>, as there are <math>(x+1)</math> occurrences of n, and <math>(2+4+6+\\dots)</math> is equal to <math>x(x+1)</math>. This can be factored as <math>(x+1)(n-x)=2009</math>. Our factor pairs are (1,2009), (7,287), and (41,49). To minimize n we take (41,49). If <math>x+1=41</math>, then <math>x=40</math> and <math>n=40+49=\\boxed{089}</math>. (Note we would have come upon the same result had we used <math>x+1=49</math>.)\n~MC413551"
  },
  {
    "year": 2009,
    "variant": "II",
    "problem_number": 5,
    "latex": "== Problem 5 ==\nEquilateral triangle <math>T</math> is inscribed in circle <math>A</math>, which has radius <math>10</math>. Circle <math>B</math> with radius <math>3</math> is internally tangent to circle <math>A</math> at one vertex of <math>T</math>. Circles <math>C</math> and <math>D</math>, both with radius <math>2</math>, are internally tangent to circle <math>A</math> at the other two vertices of <math>T</math>. Circles <math>B</math>, <math>C</math>, and <math>D</math> are all externally tangent to circle <math>E</math>, which has radius <math>\\dfrac mn</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.\n\n<asy>\nunitsize(3mm);\ndefaultpen(linewidth(.8pt));\ndotfactor=4;\n\npair A=(0,0), D=8*dir(330), C=8*dir(210), B=7*dir(90);\npair Ep=(0,4-27/5);\npair[] dotted={A,B,C,D,Ep};\n\ndraw(Circle(A,10));\ndraw(Circle(B,3));\ndraw(Circle(C,2));\ndraw(Circle(D,2));\ndraw(Circle(Ep,27/5));\n\ndot(dotted);\nlabel(\"$E$\",Ep,E);\nlabel(\"$A$\",A,W);\nlabel(\"$B$\",B,W);\nlabel(\"$C$\",C,W);\nlabel(\"$D$\",D,E);\n</asy>",
    "solution": "Let <math>X</math> be the intersection of the circles with centers <math>B</math> and <math>E</math>, and <math>Y</math> be the intersection of the circles with centers <math>C</math> and <math>E</math>. Since the radius of <math>B</math> is <math>3</math>, <math>AX =4</math>. Assume <math>AE</math> = <math>p</math>. Then <math>EX</math> and <math>EY</math> are radii of circle <math>E</math> and have length <math>4+p</math>. <math>AC = 8</math>, and angle <math>CAE = 60</math> degrees because we are given that triangle <math>T</math> is equilateral. Using the [[Law of Cosines]] on triangle <math>CAE</math>, we obtain\n\n<math>(6+p)^2 =p^2 + 64 - 2(8)(p) \\cos 60</math>.\n\nThe <math>2</math> and the <math>\\cos 60</math> terms cancel out:\n\n<math>p^2 + 12p +36 = p^2 + 64 - 8p</math>\n\n<math>12p+ 36 = 64 - 8p</math>\n\n<math>p =\\frac {28}{20} = \\frac {7}{5}</math>. The radius of circle <math>E</math> is <math>4 + \\frac {7}{5} = \\frac {27}{5}</math>, so the answer is <math>27 + 5 = \\boxed{032}</math>."
  },
  {
    "year": 2009,
    "variant": "II",
    "problem_number": 6,
    "latex": "Let <math>m</math> be the number of five-element subsets that can be chosen from the set of the first <math>14</math> natural numbers so that at least two of the five numbers are consecutive. Find the remainder when <math>m</math> is divided by <math>1000</math>.",
    "solution": "We can use complementary counting. We can choose a five-element subset in <math>{14\\choose 5}</math> ways. We will now count those where no two numbers are consecutive. We will show a bijection between this set, and the set of 10-element strings that contain 5 <math>A</math>s and 5 <math>B</math>s, thereby showing that there are <math>{10\\choose 5}</math> such sets.\n\nGiven a five-element subset <math>S</math> of <math>\\{1,2,\\dots,14\\}</math> in which no two numbers are consecutive, we can start by writing down a string of length 14, in which the <math>i</math>-th character is <math>A</math> if <math>i\\in S</math> and <math>B</math> otherwise. Now we got a string with 5 <math>A</math>s and 9 <math>B</math>s. As no two numbers were consecutive, we know that in our string no two <math>A</math>s are consecutive. We can now remove exactly one <math>B</math> from between each pair of <math>A</math>s to get a string with 5 <math>A</math>s and 5 <math>B</math>s. And clearly this is a bijection, as from each string with 5 <math>A</math>s and 5 <math>B</math>s we can reconstruct one original set by reversing the construction.\n\nHence we have <math>m = {14\\choose 5} - {10\\choose 5} = 2002 - 252 = 1750</math>, and the answer is <math>1750 \\bmod 1000 = \\boxed{750}</math>."
  },
  {
    "year": 2009,
    "variant": "II",
    "problem_number": 7,
    "latex": "Define <math>n!!</math> to be <math>n(n-2)(n-4)\\cdots 3\\cdot 1</math> for <math>n</math> odd and <math>n(n-2)(n-4)\\cdots 4\\cdot 2</math> for <math>n</math> even. When <math>\\sum_{i=1}^{2009} \\frac{(2i-1)!!}{(2i)!!}</math> is expressed as a fraction in lowest terms, its denominator is <math>2^ab</math> with <math>b</math> odd. Find <math>\\dfrac{ab}{10}</math>.",
    "solution": "First, note that <math>(2n)!! = 2^n \\cdot n!</math>, and that <math>(2n)!! \\cdot (2n-1)!! = (2n)!</math>. \n\nWe can now take the fraction <math>\\dfrac{(2i-1)!!}{(2i)!!}</math> and multiply both the numerator and the denominator by <math>(2i)!!</math>. We get that this fraction is equal to <math>\\dfrac{(2i)!}{(2i)!!^2} = \\dfrac{(2i)!}{2^{2i}(i!)^2}</math>.\n\nNow we can recognize that <math>\\dfrac{(2i)!}{(i!)^2}</math> is simply <math>{2i \\choose i}</math>, hence this fraction is <math>\\dfrac{{2i\\choose i}}{2^{2i}}</math>, and our sum turns into <math>S=\\sum_{i=1}^{2009} \\dfrac{{2i\\choose i}}{2^{2i}}</math>.\n\nLet <math>c = \\sum_{i=1}^{2009} {2i\\choose i} \\cdot 2^{2\\cdot 2009 - 2i}</math>.\nObviously <math>c</math> is an integer, and <math>S</math> can be written as <math>\\dfrac{c}{2^{2\\cdot 2009}}</math>.\nHence if <math>S</math> is expressed as a fraction in lowest terms, its denominator will be of the form <math>2^a</math> for some <math>a\\leq 2\\cdot 2009</math>. \n\nIn other words, we just showed that <math>b=1</math>.\nTo determine <math>a</math>, we need to determine the largest power of <math>2</math> that divides <math>c</math>.\n\nLet <math>p(i)</math> be the largest <math>x</math> such that <math>2^x</math> that divides <math>i</math>. \n\nWe can now return to the observation that <math>(2i)! = (2i)!! \\cdot (2i-1)!! = 2^i \\cdot i! \\cdot (2i-1)!!</math>. Together with the obvious fact that <math>(2i-1)!!</math> is odd, we get that <math>p((2i)!)=p(i!)+i</math>.\n\nIt immediately follows that <math>p\\left( {2i\\choose i} \\right) = p((2i)!) - 2p(i!) = i - p(i!)</math>,\nand hence <math>p\\left( {2i\\choose i} \\cdot 2^{2\\cdot 2009 - 2i} \\right) = 2\\cdot 2009 - i - p(i!)</math>. \n\nObviously, for <math>i\\in\\{1,2,\\dots,2009\\}</math> the function <math>f(i)=2\\cdot 2009 - i - p(i!)</math> is is a strictly decreasing function. \nTherefore <math>p(c) = p\\left( {2\\cdot 2009\\choose 2009} \\right) = 2009 - p(2009!)</math>.\n\nWe can now compute <math>p(2009!) = \\sum_{k=1}^{\\infty} \\left\\lfloor \\dfrac{2009}{2^k} \\right\\rfloor = 1004 + 502 + \\cdots + 3 + 1 = 2001</math>.\nHence <math>p(c)=2009-2001=8</math>.\n\nAnd thus we have <math>a=2\\cdot 2009 - p(c) = 4010</math>, and the answer is <math>\\dfrac{ab}{10} = \\dfrac{4010\\cdot 1}{10} = \\boxed{401}</math>.\n\n----\nAdditionally, once you count the number of factors of <math>2</math> in the summation, one can consider the fact that, since <math>b</math> must be odd, it has to take on a value of <math>1,3,5,7,</math> or <math>9</math> (Because the number of <math>2</math>s in the summation is clearly greater than <math>1000</math>, dividing by <math>10</math> will yield a number greater than <math>100</math>, and multiplying this number by any odd number greater than <math>9</math> will yield an answer <math>>999</math>, which cannot happen on the AIME.) Once you calculate the value of <math>4010</math>, and divide by <math>10</math>, <math>b</math> must be equal to <math>1</math>, as any other value of <math>b</math> will result in an answer <math>>999</math>. This gives <math>\\boxed{401}</math> as the answer.\n\n----\nJust a small note. It's important to note the properties of the <math>v_p</math> function, which is what Solution 1 is using but denoting it as <math>p (...)</math>. \nWe want to calculate <math>v_2 \\left( \\sum ^{2009} _{i=1} \\dbinom{2i}{i} \\cdot 2^{2 \\cdot 2009 - 2i} \\right)</math> as the final step. We know that one property of <math>v_p</math> is that <math>v_p (a + b) \\geq \\min \\left( v_p(a), v_p (b) \\right)</math>. \nTherefore, we have that <math>v_2 \\left( \\sum ^{2009} _{i=1} \\dbinom{2i}{i} \\cdot 2^{2 \\cdot 2009 - 2i} \\right) \\geq \\min \\left( 2 \\cdot 2009 -1, 2 \\cdot 2009 -2 - 1, ... , 2 \\cdot 2009 - 2008 - v_2 (2008!), 2 \\cdot 2009 - 2009 - v_2 (2009!) \\right)</math>. Thus, we see by similar calculations as in Solution 1, that <math>v_2 (c) \\geq 8</math>. From which the conclusion follows. \n\n- (OmicronGamma)"
  },
  {
    "year": 2009,
    "variant": "II",
    "problem_number": 8,
    "latex": "Dave rolls a fair six-sided die until a six appears for the first time. Independently, Linda rolls a fair six-sided die until a six appears for the first time. Let <math>m</math> and <math>n</math> be relatively prime positive integers such that <math>\\dfrac mn</math> is the probability that the number of times Dave rolls his die is equal to or within one of the number of times Linda rolls her die. Find <math>m+n</math>.",
    "solution": "=== Solution 1 ===\n\nThere are many almost equivalent approaches that lead to summing a geometric series. For example, we can compute the probability of the opposite event. Let <math>p</math> be the probability that Dave will make at least two more throws than Linda. Obviously, <math>p</math> is then also the probability that Linda will make at least two more throws than Dave, and our answer will therefore be <math>1-2p</math>.\n\nHow to compute <math>p</math>? \n\nSuppose that Linda made exactly <math>t</math> throws. The probability that this happens is <math>(5/6)^{t-1}\\cdot (1/6)</math>, as she must make <math>t-1</math> unsuccessful throws followed by a successful one. In this case, we need Dave to make at least <math>t+2</math> throws. This happens if his first <math>t+1</math> throws are unsuccessful, hence the probability is <math>(5/6)^{t+1}</math>.\n\nThus for a fixed <math>t</math> the probability that Linda makes <math>t</math> throws and Dave at least <math>t+2</math> throws is <math>(5/6)^{2t} \\cdot (1/6)</math>.\n\nThen, as the events for different <math>t</math> are disjoint, <math>p</math> is simply the sum of these probabilities over all <math>t</math>. Hence:\n\n<cmath>\n\\begin{align*}\np & = \\sum_{t=1}^\\infty \\left(\\frac 56\\right)^{2t} \\cdot \\frac 16\n\\\\\n& = \\frac 16 \\cdot \\left(\\frac 56\\right)^2 \\cdot \\sum_{x=0}^\\infty \\left(\\frac{25}{36}\\right)^x\n\\\\\n& = \\frac 16 \\cdot \\frac{25}{36} \\cdot \\frac 1{1 - \\dfrac{25}{36}}\n\\\\\n& = \\frac 16 \\cdot \\frac{25}{36} \\cdot \\frac{36}{11}\n\\\\\n& = \\frac {25}{66}\n\\end{align*}\n</cmath>\n\nHence the probability we were supposed to compute is <math>1 - 2p = 1 - 2\\cdot \\frac{25}{66} = 1 - \\frac{25}{33} = \\frac 8{33}</math>, and the answer is <math>8+33 = \\boxed{041}</math>.\n\n=== Solution 2 ===\n\nLet <math>p</math> be the probability that the number of times Dave rolls his die is equal to or within one of the number of times Linda rolls her die. (We will call this event \"a win\", and the opposite event will be \"a loss\".)\n\nLet both players roll their first die. \n\nWith probability <math>\\frac 1{36}</math>, both throw a six and we win.\n\nWith probability <math>\\frac{10}{36}</math> exactly one of them throws a six. In this case, we win if the remaining player throws a six in their next throw, which happens with probability <math>\\frac 16</math>.\n\nFinally, with probability <math>\\frac{25}{36}</math> none of them throws a six. Now comes the crucial observation: At this moment, we are in exactly the same situation as in the beginning. Hence in this case we will win with probability <math>p</math>.\n\nWe just derived the following linear equation:\n<cmath>\np = \\frac 1{36} + \\frac{10}{36} \\cdot \\frac 16 + \\frac{25}{36} \\cdot p\n</cmath>\n\nSolving for <math>p</math>, we get <math>p=\\frac 8{33}</math>, hence the answer is <math>8+33 = \\boxed{041}</math>.\n\n===Solution 3===\nLet's write out the probabilities with a set number of throws that Linda rolls before getting a 6. The probability of Linda rolling once and gets 6 right away is <math>\\frac{1}{6}</math>. The probability that Dave will get a six in the same, one less, or one more throw is <math>\\frac{1}{6} + \\frac{5}{6} * \\frac{5}{6}</math>. Thus the combined probability is <math>\\frac{11}{216}</math>. \n\nLet's do the same with the probability that Linda rolls twice and getting a six. This time it is <math>\\frac{5}{6} * \\frac{1}{6}</math>. The probability that Dave meets the requirements set is <math>\\frac{1}{6} + \\frac{5}{6} * \\frac{1}{6} + \\frac{5}{6} * \\frac{5}{6} * \\frac{1}{6}</math>. Combine the probabilities again to get <math>\\frac{455}{7776}</math>. (or not, because you can simplify without calculating later)\n\nIt's clear that as the number of rolls before getting a six increases, the probability that Dave meets the requirements is multiplied by <math>\\frac{5}{6} * \\frac{5}{6}</math>. We can use this pattern to solve for the sum of an infinite geometric series.\n\n\nFirst, set the case where Linda rolls only once aside. It doesn't fit the same pattern as the rest, so we'll add it separately at the end. Next, let <math>a = (\\frac{5}{6} * \\frac{1}{6}) * (\\frac{1}{6} + \\frac{5}{6} * \\frac{1}{6} + \\frac{5}{6} * \\frac{5}{6} * \\frac{1}{6}) = \\frac{455}{7776}</math> as written above. Each probability where the number of tosses Linda makes increases by one will be <math>a * (\\frac{25}{36})^{n+1}</math>. Let <math>S</math> be the sum of all these probabilities. \n\n<math>S = a + a * \\frac{25}{36} + a * (\\frac{25}{36})^2...</math>\n\n<math>S * \\frac{25}{36} = a * \\frac{25}{36} + a * (\\frac{25}{36})^2 + a * (\\frac{25}{36})^3...</math>\n\nSubtract the second equation from the first to get\n\n<math>S * \\frac{11}{36} = a</math>\n\n<math>S = a * \\frac{36}{11}</math>\n\n<math>S = \\frac{455}{2376}</math>\n\nDon't forget to add the first case where Linda rolls once.\n\n<math>\\frac{455}{2376} + \\frac{11}{216} = \\frac{8}{33}</math>\n\n<math>8 + 33 = \\boxed{41}</math>\n\n-jackshi2006\n\nNote: this is equivalent to computing <math>\\frac{1}{36}(\\sum_{n=1}^{\\infty} (\\frac{5}{6})^n((\\frac{5}{6})^{n-1}+(\\frac{5}{6})^{n}+(\\frac{5}{6})^{n+1})+1+\\frac{5}{6})</math>"
  },
  {
    "year": 2009,
    "variant": "II",
    "problem_number": 9,
    "latex": "Let <math>m</math> be the number of solutions in positive integers to the equation <math>4x+3y+2z=2009</math>, and let <math>n</math> be the number of solutions in positive integers to the equation <math>4x+3y+2z=2000</math>. Find the remainder when <math>m-n</math> is divided by <math>1000</math>.",
    "solution": "=== Solution 1 ===\n\nIt is actually reasonably easy to compute <math>m</math> and <math>n</math> exactly.\n\nFirst, note that if <math>4x+3y+2z=2009</math>, then <math>y</math> must be odd. Let <math>y=2y'-1</math>. We get <math>4x + 6y' - 3 + 2z = 2009</math>, which simplifies to <math>2x + 3y' + z = 1006</math>. For any pair of positive integers <math>(x,y')</math> such that <math>2x + 3y' < 1006</math> we have exactly one <math>z</math> such that the equality holds. Hence we need to count the pairs <math>(x,y')</math>. \n\nFor a fixed <math>y'</math>, <math>x</math> can be at most <math>\\left\\lfloor \\dfrac{1005-3y'}2 \\right\\rfloor</math>. Hence the number of solutions is \n\n<cmath>\n\\begin{align*}\nm\n& =\n\\sum_{y'=1}^{334} \\left\\lfloor \\dfrac{1005-3y'}2 \\right\\rfloor \n\\\\\n& = \n501 + 499 + 498 + 496 + \\cdots + 6 + 4 + 3 + 1 \n\\\\\n& =\n1000 + 994 + \\cdots + 10 + 4\n\\\\\n& =\n83834\n\\end{align*}\n</cmath>\n\nSimilarly, we can compute that <math>n=82834</math>, hence <math>m-n = 1000 \\equiv \\boxed{000} \\pmod{1000}</math>.\n\n=== Solution 2 ===\n\nWe can avoid computing <math>m</math> and <math>n</math>, instead we will compute <math>m-n</math> directly.\n\nNote that <math>4x+3y+2z=2009</math> if and only if <math>4(x-1)+3(y-1)+2(z-1)=2000</math>. Hence there is an almost 1-to-1 correspondence between the positive integer solutions of the two equations. The only exceptions are the solutions of the first equation in which at least one of the variables is equal to <math>1</math>. The value <math>m-n</math> is the number of such solutions.\n\nIf <math>x=1</math>, we get the equation <math>3y+2z=2005</math>. The variable <math>y</math> must be odd, and it must be between <math>1</math> and <math>667</math>, inclusive. For each such <math>y</math> there is exactly one valid <math>z</math>. Hence in this case there are <math>334</math> valid solutions.\n\nIf <math>y=1</math>, we get the equation <math>4x+2z=2006</math>, or equivalently <math>2x+z=1003</math>. The variable <math>x</math> must be between <math>1</math> and <math>501</math>, inclusive, and for each such <math>x</math> there is exactly one valid <math>z</math>. Hence in this case there are <math>501</math> valid solutions.\n\nIf <math>z=1</math>, we get the equation <math>4x+3y=2007</math>. The variable <math>y</math> must be odd, thus let <math>y=2u-1</math>. We get <math>4x+6u=2010</math>, or equivalently, <math>2x+3u=1005</math>. Again, we see that <math>u</math> must be odd, thus let <math>u=2v-1</math>. We get <math>2x+6v=1008</math>, which simplifies to <math>x+3v=504</math>. Now, we see that <math>v</math> must be between <math>1</math> and <math>167</math>, inclusive, and for each such <math>v</math> we have exactly one valid <math>x</math>. Hence in this case there are <math>167</math> valid solutions.\n\nFinally, we must note that there are two special solutions: one with <math>x=y=1</math>, and one with <math>y=z=1</math>. We counted each of them twice, hence we have to subtract two from the total.\n\nTherefore <math>m-n = 334 + 501 + 167 - 2 = 1000</math>, and the answer is <math>1000\\bmod 1000 = \\boxed{000}</math>.\n\n=== Solution 3 ===\nIn this solution we will perform a similar operation as in Solution 2, but only on <math>y</math>: <math>4x+3y+2z=2009</math> if and only if <math>4x+3(y-3)+2z=2000</math>. There is a one-to-one correspondence between the solutions of these two equations. Let <math>y'=y-3</math> and require <math>y'</math> to be positive as well. Then the second equation becomes <math>4x+3y'+2z=2000</math>. Notice that there are several \"extra\" solutions in the first equation that cannot be included in the second equation (since that would make <math>y'</math> non-positive). The value <math>m-n</math> is therefore the number of \"extra\" solutions.\n\nSince <math>y'=y-3</math>, in order for <math>y'</math> to be non-positive <math>1 \\leq y \\leq 3</math>. However, equation (1) requires y to be odd, so we have two cases to consider: <math>y=1</math> and <math>y=3</math>. This results in the two equations <math>4x+3+2z=2009</math> and <math>4x+9+2z=2009</math>.\n\n<math>4x+3+2z=2009</math> simplifies to <math>2x+z=1003</math>. There is exactly one valid <math>z</math> for each <math>x</math>; <math>x</math> must be between <math>1</math> and <math>501</math> (inclusive) to obtain positive integer solutions. Therefore, there are <math>501</math> solutions in this case. \n\n<math>4x+9+2z=2009</math> simplifies to <math>2x+z=1000</math>. There is exactly one valid <math>z</math> for each <math>x</math>; <math>x</math> must be between <math>1</math> and <math>499</math> (inclusive) to obtain positive integer solutions. Therefore, there are <math>499</math> solutions in this case. \n\nThus, <math>m-n = 501 + 499 = 1000; 1000 \\equiv \\boxed{000} \\pmod{1000}</math>."
  },
  {
    "year": 2009,
    "variant": "II",
    "problem_number": 10,
    "latex": "Four lighthouses are located at points <math>A</math>, <math>B</math>, <math>C</math>, and <math>D</math>. The lighthouse at <math>A</math> is <math>5</math> kilometers from the lighthouse at <math>B</math>, the lighthouse at <math>B</math> is <math>12</math> kilometers from the lighthouse at <math>C</math>, and the lighthouse at <math>A</math> is <math>13</math> kilometers from the lighthouse at <math>C</math>. To an observer at <math>A</math>, the angle determined by the lights at <math>B</math> and <math>D</math> and the angle determined by the lights at <math>C</math> and <math>D</math> are equal. To an observer at <math>C</math>, the angle determined by the lights at <math>A</math> and <math>B</math> and the angle determined by the lights at <math>D</math> and <math>B</math> are equal. The number of kilometers from <math>A</math> to <math>D</math> is given by <math>\\frac {p\\sqrt{q}}{r}</math>, where <math>p</math>, <math>q</math>, and <math>r</math> are relatively prime positive integers, and <math>r</math> is not divisible by the square of any prime. Find <math>p</math> + <math>q</math> + <math>r</math>.",
    "solution": "==Diagram==\n<asy>\nsize(120); pathpen = linewidth(0.7); pointpen = black; pen f = fontsize(10); pair B=(0,0), A=(5,0), C=(0,13), E=(-5,0), O = incenter(E,C,A), D=IP(A -- A+3*(O-A),E--C); D(A--B--C--cycle); D(A--D--C); D(D--E--B, linetype(\"4 4\")); MP(\"5\", (A+B)/2, f); MP(\"13\", (A+C)/2, NE,f); MP(\"A\",D(A),f); MP(\"B\",D(B),f); MP(\"C\",D(C),N,f); MP(\"A'\",D(E),f); MP(\"D\",D(D),NW,f); D(rightanglemark(C,B,A,20)); D(anglemark(D,A,E,35));D(anglemark(C,A,D,30));\n</asy>\n-asjpz"
  },
  {
    "year": 2009,
    "variant": "II",
    "problem_number": 11,
    "latex": "For certain pairs <math>(m,n)</math> of positive integers with <math>m\\geq n</math> there are exactly <math>50</math> distinct positive integers <math>k</math> such that <math>|\\log m - \\log k| < \\log n</math>. Find the sum of all possible values of the product <math>mn</math>.",
    "solution": "We have <math>\\log m - \\log k = \\log \\left( \\frac mk \\right)</math>, hence we can rewrite the inequality as follows:\n<cmath>\n- \\log n < \\log \\left( \\frac mk \\right) < \\log n\n</cmath>\nWe can now get rid of the logarithms, obtaining:\n<cmath>\n\\frac 1n < \\frac mk < n\n</cmath>\nAnd this can be rewritten in terms of <math>k</math> as\n<cmath>\n\\frac mn < k < mn\n</cmath>\n\nFrom <math>k<mn</math> it follows that the <math>50</math> solutions for <math>k</math> must be the integers <math>mn-1, mn-2, \\dots, mn-50</math>. \nThis will happen if and only if the lower bound on <math>k</math> is in a suitable range -- we must have <math>mn-51 \\leq \\frac mn < mn-50</math>.\n\nObviously there is no solution for <math>n=1</math>. For <math>n>1</math> the left inequality can be rewritten as <math>m\\leq\\dfrac{51n}{n^2-1}</math>, and the right one as <math>m > \\dfrac{50n}{n^2-1}</math>.\n\nRemember that we must have <math>m\\geq n</math>. However, for <math>n\\geq 8</math> we have <math>\\dfrac{51n}{n^2-1} < n</math>, and hence <math>m<n</math>, which is a contradiction.\nThis only leaves us with the cases <math>n\\in\\{2,3,4,5,6,7\\}</math>.\n\n* For <math>n=2</math> we have <math>\\dfrac{100}3 < m \\leq \\dfrac{102}3</math> with a single integer solution <math>m=\\dfrac{102}3=34</math>.\n* For <math>n=3</math> we have <math>\\dfrac{150}8 < m \\leq \\dfrac{153}8</math> with a single integer solution <math>m=\\dfrac{152}8=19</math>.\n* For <math>n=4,5,6,7</math> our inequality has no integer solutions for <math>m</math>.\n\nTherefore the answer is <math>34\\cdot 2 + 19\\cdot 3 = 68 + 57 = \\boxed{125}</math>."
  },
  {
    "year": 2009,
    "variant": "II",
    "problem_number": 12,
    "latex": "From the set of integers <math>\\{1,2,3,\\dots,2009\\}</math>, choose <math>k</math> pairs <math>\\{a_i,b_i\\}</math> with <math>a_i<b_i</math> so that no two pairs have a common element. Suppose that all the sums <math>a_i+b_i</math> are distinct and less than or equal to <math>2009</math>. Find the maximum possible value of <math>k</math>.",
    "solution": "Suppose that we have a valid solution with <math>k</math> pairs. As all <math>a_i</math> and <math>b_i</math> are distinct, their sum is at least <math>1+2+3+\\cdots+2k=k(2k+1)</math>. On the other hand, as the sum of each pair is distinct and at most equal to <math>2009</math>, the sum of all <math>a_i</math> and <math>b_i</math> is at most <math>2009 + (2009-1) + \\cdots + (2009-(k-1)) = \\frac{k(4019-k)}{2}</math>.\n\nHence we get a necessary condition on <math>k</math>: For a solution to exist, we must have <math>\\frac{k(4019-k)}{2} \\geq k(2k+1)</math>. As <math>k</math> is positive, this simplifies to <math>\\frac{4019-k}{2} \\geq 2k+1</math>, whence <math>5k\\leq 4017</math>, and as <math>k</math> is an integer, we have <math>k\\leq \\lfloor 4017/5\\rfloor = 803</math>.\n\nIf we now find a solution with <math>k=803</math>, we can be sure that it is optimal. \n\nFrom the proof it is clear that we don't have much \"maneuvering space\", if we want to construct a solution with <math>k=803</math>.\nWe can try to use the <math>2k</math> smallest numbers: <math>1</math> to <math>2\\cdot 803 = 1606</math>. \nWhen using these numbers, the average sum will be <math>1607</math>. Hence we can try looking for a nice systematic solution that achieves all sums between <math>1607-401=1206</math> and <math>1607+401=2008</math>, inclusive.\n\nSuch a solution indeed does exist, here is one:\n\nPartition the numbers <math>1</math> to <math>1606</math> into four sequences:\n* <math>A=1,3,5,7,\\dots,801,803</math>\n* <math>B=1205,1204,1203,1202,\\dots,805,804</math>\n* <math>C=2,4,6,8,\\dots,800,802</math>\n* <math>D=1606,1605,1604,1603,\\dots,1207,1206</math>\n\nSequences <math>A</math> and <math>B</math> have <math>402</math> elements each, and the sums of their corresponding elements are <math>1206,1207,1208,1209,\\dots,1606,1607</math>.\nSequences <math>C</math> and <math>D</math> have <math>401</math> elements each, and the sums of their corresponding elements are <math>1608,1609,1610,1611,\\dots,2007,2008</math>.\n\nThus we have shown that there is a solution for <math>k=\\boxed{803}</math> and that for larger <math>k</math> no solution exists."
  },
  {
    "year": 2009,
    "variant": "II",
    "problem_number": 13,
    "latex": "Let <math>A</math> and <math>B</math> be the endpoints of a semicircular arc of radius <math>2</math>. The arc is divided into seven congruent arcs by six equally spaced points <math>C_1</math>, <math>C_2</math>, <math>\\dots</math>, <math>C_6</math>. All chords of the form <math>\\overline {AC_i}</math> or <math>\\overline {BC_i}</math> are drawn. Let <math>n</math> be the product of the lengths of these twelve chords. Find the remainder when <math>n</math> is divided by <math>1000</math>.",
    "solution": "=== Solution 1 ===\n\nLet the radius be 1 instead. All lengths will be halved so we will multiply by <math>2^{12}</math> at the end. Place the semicircle on the complex plane, with the center of the circle being 0 and the diameter being the real axis. Then <math>C_1,\\ldots, C_6</math> are 6 of the 14th roots of unity. Let <math>\\omega=\\text{cis}\\frac{360^{\\circ}}{14}</math>; then <math>C_1,\\ldots, C_6</math> correspond to <math>\\omega,\\ldots, \\omega^6</math>. Let <math>C_1',\\ldots, C_6'</math> be their reflections across the diameter. These points correspond to <math>\\omega^8\\ldots, \\omega^{13}</math>. Then the lengths of the segments are <math>|1-\\omega|,\\ldots, |1-\\omega^6|,|1-\\omega^8|,\\ldots |1-\\omega^{13}|</math>. Noting that <math>B</math> represents 1 in the complex plane, the desired product is\n<cmath>\n\\begin{align*}\nBC_1\\cdots BC_6 \\cdot AC_1\\cdots AC_6&=\nBC_1\\cdots BC_6 \\cdot BC_1'\\cdots BC_6'\\\\\n&=\n|(x-\\omega^1)\\ldots(x-\\omega^6)(x-\\omega^8)\\ldots(x-\\omega^{13})|\n\\end{align*}</cmath>\n\nfor <math>x=1</math>.\nHowever, the polynomial <math>(x-\\omega^1)\\ldots(x-\\omega^6)(x-\\omega^8)\\ldots(x-\\omega^{13})</math> has as its zeros all 14th roots of unity except for <math>-1</math> and <math>1</math>. Hence\n<cmath>\n(x-\\omega^1)\\ldots(x-\\omega^6)(x-\\omega^8)\\ldots(x-\\omega^{13})=\\frac{x^{14}-1}{(x-1)(x+1)}=x^{12}+x^{10}+\\cdots +x^2+1.\n</cmath>\nThus the product is <math>|x^{12}+\\cdots +x^2+1|=7</math> when the radius is 1, and the product is <math>2^{12}\\cdot 7=28672</math>. Thus the answer is <math>\\boxed {672}</math>.\n\n=== Solution 2 ===\n\nLet <math>O</math> be the midpoint of <math>A</math> and <math>B</math>. Assume <math>C_1</math> is closer to <math>A</math> instead of <math>B</math>.  <math>\\angle AOC_1</math> = <math>\\frac {\\pi}{7}</math>. Using the [[Law of Cosines]], \n\n<math>\\overline {AC_1}^2</math> = <math>8 - 8 \\cos \\frac {\\pi}{7}</math>,   \n<math>\\overline {AC_2}^2</math> = <math>8 - 8 \\cos \\frac {2\\pi}{7}</math>, \n.\n.\n.\n<math>\\overline {AC_6}^2</math> = <math>8 - 8 \\cos \\frac {6\\pi}{7}</math>                                 \n\nSo <math>n</math> = <math>(8^6)(1 - \\cos \\frac {\\pi}{7})(1 - \\cos \\frac {2\\pi}{7})\\dots(1 - \\cos \\frac{6\\pi}{7})</math>. It can be rearranged to form\n\n<math>n</math> = <math>(8^6)(1 - \\cos \\frac {\\pi}{7})(1 - \\cos \\frac {6\\pi}{7})\\dots(1 - \\cos \\frac {3\\pi}{7})(1 - \\cos \\frac {4\\pi}{7})</math>. \n\nSince <math>\\cos a = - \\cos (\\pi - a)</math>, we have\n\n<math>n</math> = <math>(8^6)(1 - \\cos \\frac {\\pi}{7})(1 + \\cos \\frac {\\pi}{7}) \\dots (1 - \\cos \\frac {3\\pi}{7})(1 + \\cos \\frac {3\\pi}{7})</math>\n\n= <math>(8^6)(1 - \\cos^2 \\frac {\\pi}{7})(1 - \\cos^2 \\frac {2\\pi}{7})(1 - \\cos^2 \\frac {3\\pi}{7})</math>\n\n= <math>(8^6)(\\sin^2 \\frac {\\pi}{7})(\\sin^2 \\frac {2\\pi}{7})(\\sin^2 \\frac {3\\pi}{7})</math>\n\nIt can be shown that <math>\\sin \\frac {\\pi}{7} \\sin \\frac {2\\pi}{7} \\sin \\frac {3\\pi}{7}</math> = <math>\\frac {\\sqrt {7}}{8}</math>, so <math>n</math> = <math>8^6(\\frac {\\sqrt {7}}{8})^2</math> = <math>7(8^4)</math> = <math>28672</math>, so the answer is <math>\\boxed {672}</math>\n\n=== Solution 3 ===\n\nNote that for each <math>k</math> the triangle <math>ABC_k</math> is a right triangle. Hence the product <math>AC_k \\cdot BC_k</math> is twice the area of the triangle <math>ABC_k</math>. Knowing that <math>AB=4</math>, the area of <math>ABC_k</math> can also be expressed as <math>2c_k</math>, where <math>c_k</math> is the length of the altitude from <math>C_k</math> onto <math>AB</math>. Hence we have <math>AC_k \\cdot BC_k = 4c_k</math>.\n\nBy the definition of <math>C_k</math> we obviously have <math>c_k = 2\\sin\\frac{k\\pi}7</math>. \n\nFrom these two observations we get that the product we should compute is equal to <math> 8^6 \\cdot \\prod_{k=1}^6 \\sin \\frac{k\\pi}7 </math>, which is the same identity as in Solution 2.\n\n=== Computing the product of sines ===\n\nIn this section we show one way how to evaluate the product <math>\\prod_{k=1}^6 \\sin \\frac{k\\pi}7 = \\prod_{k=1}^3 (\\sin \\frac{k\\pi}7)^2 </math>.\n\nLet <math>\\omega_k = \\cos \\frac{2k\\pi}7 + i\\sin \\frac{2k\\pi}7</math>. The numbers <math>1,\\omega_1,\\omega_2,\\dots,\\omega_6</math> are the <math>7</math>-th complex roots of unity. In other words, these are the roots of the polynomial <math>x^7-1</math>. Then the numbers <math>\\omega_1,\\omega_2,\\dots,\\omega_6</math> are the roots of the polynomial <math>\\frac{x^7-1}{x-1} = x^6+x^5+\\cdots+x+1</math>.\n\nWe just proved the identity <math>\\prod_{k=1}^6 (x - \\omega_k) = x^6+x^5+\\cdots+x+1</math>.\nSubstitute <math>x=1</math>. The right hand side is obviously equal to <math>7</math>. Let's now examine the left hand side.\nWe have:\n\n<cmath>\n\\begin{align*}\n(1-\\omega_k)(1-\\omega_{7-k})=|1-\\omega_k|^2 \n& = \\left( 1-\\cos \\frac{2k\\pi}7 \\right)^2 + \\left( \\sin \\frac{2k\\pi}7 \\right)^2\n\\\\\n& = 2-2\\cos \\frac{2k\\pi}7\n\\\\\n& = 2-2 \\left( 1 - 2 \\left( \\sin \\frac{k\\pi}7 \\right)^2 \\right)\n\\\\\n& = 4\\left( \\sin \\frac{k\\pi}7 \\right)^2\n\\end{align*}\n</cmath>\n\nTherefore the size of the left hand side in our equation is <math>\\prod_{k=1}^3 4 (\\sin \\frac{k\\pi}7)^2 = 2^6 \\prod_{k=1}^3 (\\sin \\frac{k\\pi}7)^2</math>. As the right hand side is <math>7</math>, we get that <math>\\prod_{k=1}^3 (\\sin \\frac{k\\pi}7)^2 = \\frac{7}{2^6}</math>.\n\n===Solution 4 (Product of Sines)===\n\n<i><b>Lemma 1:</b> A chord <math>ab</math> of a circle with center <math>O</math> and radius <math>r</math> has length <math>2r\\sin\\left(\\dfrac{\\angle AOB}{2}\\right)</math>.</i>\n\n<i><b>Proof:</b> Denote <math>H</math> as the projection from <math>O</math> to line <math>AB</math>. Then, by definition, <math>HA=HB=r\\sin\\left(\\dfrac{\\angle AOB}{2}\\right)</math>. Thus, <math>AB = 2r\\sin\\left(\\dfrac{\\angle AOB}{2}\\right)</math>, which concludes the proof.</i>\n\n<i><b>Lemma 2:</b> <math>\\prod_{k=1}^{n-1} \\sin \\dfrac{k\\pi}{n} = \\dfrac{n}{2^{n-1}}</math></i>\n\n<i><b>Proof:</b> Let <math>w=\\text{cis}\\;\\dfrac{\\pi}{n}</math>. Thus,\n<cmath>\\prod_{k=1}^{n-1} \\sin \\dfrac{k\\pi}{n} = \\prod_{k=1}^{n-1} \\dfrac{w^k-w^{-k}}{2i} = \\dfrac{w^{\\frac{n(n-1)}{2}}}{(2i)^{n-1}}\\prod_{k=1}^{n-1} (1-w^{-2k}) = \\dfrac{1}{2^{n-1}}\\prod_{k=1}^{n-1} (1-w^{-2k})</cmath>\nSince, <math>w^{-2k}</math> are just the <math>n</math>th roots of unity excluding <math>1</math>, by Vieta's, <math>\\prod_{k=1}^{n-1} \\sin \\dfrac{k\\pi}{n}=\\dfrac{1}{2^{n-1}}\\prod_{k=1}^{n-1} (1-w^{-2k}) = \\dfrac{n}{2^{n-1}}</math>, thus completing the proof.\n</i>\n\nBy Lemma 1, the length <math>AC_k=2r\\sin\\dfrac{k\\pi}{14}</math> and similar lengths apply for <math>BC_k</math>. Now, the problem asks for <math>\\left(\\prod_{k=1}^6 \\left(4\\sin\\dfrac{k\\pi}{14}\\right)\\right)^2</math>. This can be rewritten, due to <math>\\sin \\theta = \\sin (\\pi-\\theta)</math>, as <math>\\prod_{k=1}^6 \\left(4\\sin\\dfrac{k\\pi}{14}\\right) \\cdot \\prod_{k=8}^{13} \\left(4\\sin\\dfrac{k\\pi}{14}\\right) = \\dfrac{1}{\\sin \\dfrac{7\\pi}{14}}\\cdot \\prod_{k=1}^{13} \\left(4\\sin\\dfrac{k\\pi}{14}\\right) = \\prod_{k=1}^{13} \\left(4\\sin\\dfrac{k\\pi}{14}\\right).</math> By Lemma 2, this furtherly boils down to <math>4^{12}\\cdot \\dfrac{14}{2^{13}} = 7\\cdot 2^{12} = \\boxed{672} \\; \\text{(mod }1000\\text{)}</math>\n\n<b>~Solution by  sml1809</b>"
  },
  {
    "year": 2009,
    "variant": "II",
    "problem_number": 14,
    "latex": "The sequence <math>(a_n)</math> satisfies <math>a_0=0</math> and <math>a_{n + 1} = \\frac85a_n + \\frac65\\sqrt {4^n - a_n^2}</math> for <math>n\\geq 0</math>. Find the greatest integer less than or equal to <math>a_{10}</math>.",
    "solution": "=== The \"obvious\" substitution === \n\nAn obvious way how to get the <math>4^n</math> from under the square root is to use the substitution <math>a_n = 2^n b_n</math>. Then the square root simplifies as follows:\n<math>\\sqrt{4^n - a_n^2} = \\sqrt{4^n - (2^n b_n)^2} = \\sqrt{4^n - 4^n b_n^2} = 2^n \\sqrt{1 - b_n^2}</math>.\n\nThe new recurrence then becomes <math>b_0=0</math> and <math>b_{n+1} = \\frac45 b_n + \\frac 35\\sqrt{1 - b_n^2}</math>.\n\n=== Solution 1 ===\n\nWe can now simply start to compute the values <math>b_i</math> by hand:\n\n<cmath>\n\\begin{align*}\nb_1 & = \\frac 35\n\\\\\nb_2 & = \\frac 45\\cdot \\frac 35 + \\frac 35 \\sqrt{1 - \\left(\\frac 35\\right)^2} = \\frac{24}{25}\n\\\\\nb_3 & = \\frac 45\\cdot \\frac {24}{25} + \\frac 35 \\sqrt{1 - \\left(\\frac {24}{25}\\right)^2} = \\frac{96}{125} + \\frac 35\\cdot\\frac 7{25} = \\frac{117}{125}\n\\\\\nb_4 & = \\frac 45\\cdot \\frac {117}{125} + \\frac 35 \\sqrt{1 - \\left(\\frac {117}{125}\\right)^2} = \\frac{468}{625} + \\frac 35\\cdot\\frac {44}{125} = \\frac{600}{625} = \\frac{24}{25}\n\\end{align*}\n</cmath>\n\nWe now discovered that <math>b_4=b_2</math>. And as each <math>b_{i+1}</math> is uniquely determined by <math>b_i</math>, the sequence becomes periodic. In other words, we have <math>b_3=b_5=b_7=\\cdots=\\frac{117}{125}</math>, and <math>b_2=b_4=\\cdots=b_{10}=\\cdots=\\frac{24}{25}</math>.\n\nTherefore the answer is \n\n<cmath>\n\\begin{align*}\n\\lfloor a_{10} \\rfloor & = \\left\\lfloor 2^{10} b_{10} \\right\\rfloor = \\left\\lfloor \\dfrac{1024\\cdot 24}{25} \\right\\rfloor \n= \\left\\lfloor \\dfrac{1025\\cdot 24}{25} - \\dfrac{24}{25} \\right\\rfloor \n\\\\\n& \n= \\left\\lfloor 41\\cdot 24 - \\dfrac{24}{25} \\right\\rfloor = 41\\cdot 24 - 1 = \\boxed{983}\n\\end{align*}\n</cmath>\n\n=== Solution 2 ===\n\nAfter we do the substitution, we can notice the fact that <math>\\left( \\frac 35 \\right)^2 + \\left( \\frac 45 \\right)^2 = 1</math>, which may suggest that the formula may have something to do with the unit circle. Also, the expression <math>\\sqrt{1-x^2}</math> often appears in trigonometry, for example in the relationship between the sine and the cosine. Both observations suggest that the formula may have a neat geometric interpretation.\n\nConsider the equation:\n<cmath>y = \\frac45 x + \\frac 35\\sqrt{1 - x^2}</cmath>\n\nNote that for <math>t=\\sin^{-1} \\frac 35</math> we have <math>\\sin t=\\frac 35</math> and <math>\\cos t = \\frac 45</math>. Now suppose that we have <math>x=\\sin s</math> for some <math>s</math>. Then our equation becomes:\n\n<cmath>y=\\cos t \\cdot \\sin s + \\sin t \\cdot |\\cos s|</cmath>\n\nDepending on the sign of <math>\\cos s</math>, this is either the angle addition, or the angle subtraction formula for sine. In other words, if <math>\\cos s \\geq 0</math>, then <math>y=\\sin(s+t)</math>, otherwise <math>y=\\sin(s-t)</math>.\n\nWe have <math>b_0=0=\\sin 0</math>. Therefore <math>b_1 = \\sin(0+t) = \\sin t</math>, <math>b_2 = \\sin(t+t) = \\sin (2t)</math>, and so on. (Remember that <math>t</math> is the constant defined as <math>t=\\sin^{-1} \\frac 35</math>.)\n\nThis process stops at the first <math>b_k = \\sin (kt)</math>, where <math>kt</math> exceeds <math>\\frac{\\pi}2</math>. Then we'll have <math>b_{k+1} = \\sin(kt - t) = \\sin ((k-1)t) = b_{k-1}</math> and the sequence will start to oscillate.\n\nNote that <math>\\sin \\frac{\\pi}6 = \\frac 12 < \\frac 35</math>, and <math>\\sin \\frac{\\pi}4 = \\frac{\\sqrt 2}2 > \\frac 35</math>, hence <math>t</math> is strictly between <math>\\frac{\\pi}6</math> and <math>\\frac{\\pi}4</math>. Then <math>2t\\in\\left(\\frac{\\pi}3,\\frac{\\pi}2 \\right)</math>, and <math>3t\\in\\left( \\frac{\\pi}2, \\frac{3\\pi}4 \\right)</math>. Therefore surely <math>2t < \\frac{\\pi}2 < 3t</math>. \n\nHence the process stops with <math>b_3 = \\sin (3t)</math>, we then have <math>b_4 = \\sin (2t) = b_2</math>. As in the previous solution, we conclude that <math>b_{10}=b_2</math>, and that the answer is <math>\\lfloor a_{10} \\rfloor  = \\left\\lfloor 2^{10} b_{10} \\right\\rfloor = \\boxed{983}</math>."
  },
  {
    "year": 2009,
    "variant": "II",
    "problem_number": 15,
    "latex": "Let <math>\\overline{MN}</math> be a diameter of a circle with diameter 1. Let <math>A</math> and <math>B</math> be points on one of the semicircular arcs determined by <math>\\overline{MN}</math> such that <math>A</math> is the midpoint of the semicircle and <math>MB=\\frac{3}5</math>. Point <math>C</math> lies on the other semicircular arc. Let <math>d</math> be the length of the line segment whose endpoints are the intersections of diameter <math>\\overline{MN}</math> with chords <math>\\overline{AC}</math> and <math>\\overline{BC}</math>. The largest possible value of <math>d</math> can be written in the form <math> r-s\\sqrt{t} </math>, where <math>r, s</math> and <math>t</math> are positive integers and <math>t</math> is not divisible by the square of any prime. Find <math>r+s+t</math>.",
    "solution": "===Solution 1 (Quick Calculus)===\nLet <math>V = \\overline{NM} \\cap \\overline{AC}</math> and <math>W = \\overline{NM} \\cap \\overline{BC}</math>. Further more let <math>\\angle NMC = \\alpha</math> and <math>\\angle MNC = 90^\\circ - \\alpha</math>. Angle chasing reveals <math>\\angle NBC = \\angle NAC = \\alpha</math> and <math>\\angle MBC = \\angle MAC = 90^\\circ - \\alpha</math>. Additionally <math>NB = \\frac{4}{5}</math> and <math>AN = AM</math> by the Pythagorean Theorem.\n\nBy the Angle Bisector Formula,\n<cmath>\\frac{NV}{MV} = \\frac{\\sin (\\alpha)}{\\sin (90^\\circ - \\alpha)} = \\tan (\\alpha)</cmath>\n<cmath>\\frac{MW}{NW} = \\frac{3\\sin (90^\\circ - \\alpha)}{4\\sin (\\alpha)} = \\frac{3}{4} \\cot (\\alpha)</cmath>\n\nAs <math>NV + MV =MW + NW = 1</math> we compute <math>NW = \\frac{1}{1+\\frac{3}{4}\\cot(\\alpha)}</math> and <math>MV = \\frac{1}{1+\\tan (\\alpha)}</math>, and finally <math>VW = NW + MV - 1 =  \\frac{1}{1+\\frac{3}{4}\\cot(\\alpha)} + \\frac{1}{1+\\tan (\\alpha)} - 1</math>. Taking the derivative of <math>VW</math> with respect to <math>\\alpha</math>, we arrive at\n<cmath>VW' = \\frac{7\\cos^2 (\\alpha) - 4}{(\\sin(\\alpha) + \\cos(\\alpha))^2(4\\sin(\\alpha)+3\\cos(\\alpha))^2}</cmath>\nClearly the maximum occurs when <math>\\alpha = \\cos^{-1}\\left(\\frac{2}{\\sqrt{7}}\\right)</math>. Plugging this back in, using the fact that <math>\\tan(\\cos^{-1}(x)) = \\frac{\\sqrt{1-x^2}}{x}</math> and <math>\\cot(\\cos^{-1}(x)) = \\frac{x}{\\sqrt{1-x^2}}</math>, we get\n\n<math>VW = 7 - 4\\sqrt{3}</math>\nwith <math>7 + 4 + 3 = \\boxed{014}</math>\n\n~always_correct\n\n===Solution 2 (Projective)===\nSince <math>MA = \\frac{\\sqrt{2}}{2} \\approx 0.707 > \\frac{3}{5}</math>, point <math>B</math> lies between <math>M</math> and <math>A</math> on the semicircular arc. We will first compute the length of <math>\\overline{AB}</math>. By the law of cosines, <math>\\cos \\angle MOB = \\frac{-(3/5)^2 + 2(1/2)^2}{2(1/2)^2} = \\frac{7}{25}</math>, so <math>\\cos \\angle AOB = \\sin \\angle MOB = \\frac{24}{25}</math>. Then <math>AB^2 = 2\\left(\\frac{1}{2}\\right)^2 - 2\\left(\\frac{1}{2}\\right)^2 \\cdot \\frac{24}{25} = \\frac{1}{50}</math>, so <math>AB = \\frac{1}{5\\sqrt{2}}</math>.\n\nLet <math>P = AC \\cap MN</math> and <math>Q = BC \\cap MN</math>, and let <math>MQ = x</math>, <math>PQ = d</math>, <math>PN = y</math>. Note that<cmath>(M, P; Q, N) \\stackrel{C}{=} (M, A; B, N),</cmath>that is,<cmath>\\frac{QP}{QM} \\div \\frac{NP}{NM} = \\frac{BA}{BM} \\div \\frac{NA}{NM}</cmath>or<cmath>\\frac{d}{xy} = \\frac{1/(5\\sqrt{2})}{(3/5) \\cdot (\\sqrt{2}/2)} = \\frac{1}{3}.</cmath>Hence <math>d = \\frac{1}{3}xy</math>, and we also know <math>d+x+y=1</math>. Now AM-GM gives<cmath>\\frac{x+y}{2} \\ge \\sqrt{xy} \\implies \\frac{1-d}{2} \\ge \\sqrt{3d}.</cmath>This gives the quadratic inequality <math>d^2 - 14d + 1 \\ge 0</math>, which solves as<cmath>d \\in \\left(-\\infty, 7-4\\sqrt3\\right] \\cup \\left[7+4\\sqrt3, \\infty\\right).</cmath>But <math>d \\le 1</math>, so the greatest possible value of <math>d</math> is <math>7-4\\sqrt3</math>. The answer is <math>7+4+3=\\boxed{014}</math>.\n\n~MSTang\n\n===Solution 3 (Calculus)===\nLet <math>O</math> be the center of the circle. Define <math>\\angle{MOC}=t</math>, <math>\\angle{BOA}=2a</math>, and let <math>BC</math> and <math>AC</math> intersect <math>MN</math> at points <math>X</math> and <math>Y</math>, respectively. We will express the length of <math>XY</math> as a function of <math>t</math> and maximize that function in the interval <math>[0, \\pi]</math>.\n\nLet <math>C'</math> be the foot of the perpendicular from <math>C</math> to <math>MN</math>. We compute <math>XY</math> as follows.\n\n(a) By the Extended Law of Sines in triangle <math>ABC</math>, we have\n\n<cmath>CA</cmath>\n\n<cmath>= \\sin\\angle{ABC}</cmath>\n\n<cmath>= \\sin\\left(\\frac{\\widehat{AN} + \\widehat{NC}}{2}\\right)</cmath>\n\n<cmath>= \\sin\\left(\\frac{\\frac{\\pi}{2} + (\\pi-t)}{2}\\right)</cmath>\n\n<cmath>= \\sin\\left(\\frac{3\\pi}{4} - \\frac{t}{2}\\right)</cmath>\n\n<cmath>= \\sin\\left(\\frac{\\pi}{4} + \\frac{t}{2}\\right)</cmath>\n\n(b) Note that <math>CC' = CO\\sin(t) = \\left(\\frac{1}{2}\\right)\\sin(t)</math> and <math>AO = \\frac{1}{2}</math>. Since <math>CC'Y</math> and <math>AOY</math> are similar right triangles, we have <math>CY/AY = CC'/AO = \\sin(t)</math>, and hence,\n\n<cmath>CY/CA</cmath>\n\n<cmath>= \\frac{CY}{CY + AY}</cmath>\n\n<cmath>= \\frac{\\sin(t)}{1 + \\sin(t)}</cmath>\n\n<cmath>= \\frac{\\sin(t)}{\\sin\\left(\\frac{\\pi}{2}\\right) + \\sin(t)}</cmath>\n\n<cmath>= \\frac{\\sin(t)}{2\\sin\\left(\\frac{\\pi}{4} + \\frac{t}{2}\\right)\\cos\\left(\\frac{\\pi}{4} - \\frac{t}{2}\\right)}</cmath>\n\n(c) We have <math>\\angle{XCY} = \\frac{\\widehat{AB}}{2}=a</math> and <math>\\angle{CXY} = \\frac{\\widehat{MB}+\\widehat{CN}}{2} = \\frac{\\left(\\frac{\\pi}{2} - 2a\\right) + (\\pi - t)}{2} = \\frac{3\\pi}{4} - a - \\frac{t}{2}</math>, and hence by the Law of Sines,\n\n<cmath>XY/CY</cmath>\n\n<cmath>= \\frac{\\sin\\angle{XCY}}{\\sin\\angle{CXY}}</cmath>\n\n<cmath>= \\frac{\\sin(a)}{\\sin\\left(\\frac{3\\pi}{4} - a - \\frac{t}{2}\\right)}</cmath>\n\n<cmath>= \\frac{\\sin(a)}{\\sin\\left(\\frac{\\pi}{4} + a + \\frac{t}{2}\\right)}</cmath>\n\n(d) Multiplying (a), (b), and (c), we have\n\n<cmath>XY</cmath>\n\n<cmath>= CA * (CY/CA) * (XY/CY)</cmath>\n\n<cmath>= \\frac{\\sin(t)\\sin(a)}{2\\cos\\left(\\frac{\\pi}{4} - \\frac{t}{2}\\right)\\sin\\left(\\frac{\\pi}{4} + a + \\frac{t}{2}\\right)}</cmath>\n\n<cmath>= \\frac{\\sin(t)\\sin(a)}{\\sin\\left(\\frac{\\pi}{2} + a\\right) + \\sin(a + t)}</cmath>\n\n<cmath>= \\sin(a)\\times\\frac{\\sin(t)}{\\sin(t + a) + \\cos(a)}</cmath>,\n\nwhich is a function of <math>t</math> (and the constant <math>a</math>). Differentiating this with respect to <math>t</math> yields\n\n<cmath>\\sin(a)\\times\\frac{\\cos(t)(\\sin(t + a) + \\cos(a)) - \\sin(t)\\cos(t + a)}{(\\sin(t + a) + \\cos(a))^2}</cmath>,\n\nand the numerator of this is\n\n<cmath>\\sin(a) \\times(\\sin(t + a)\\cos(t) - \\cos(t + a)\\sin(t) + \\cos(a)\\cos(t))</cmath> \n<cmath>= \\sin(a) \\times (\\sin(a) + \\cos(a)\\cos(t))</cmath>,\n\nwhich vanishes when <math>\\sin(a) + \\cos(a)\\cos(t) = 0</math>. Therefore, the length of <math>XY</math> is maximized when <math>t=t'</math>, where <math>t'</math> is the value in <math>[0, \\pi]</math> that satisfies <math>\\cos(t') = -\\tan(a)</math>.\n\nNote that\n\n<cmath>\\frac{1 - \\tan(a)}{1 + \\tan(a)} = \\tan\\left(\\frac{\\pi}{4} - a\\right) = \\tan((\\widehat{MB})/2) = \\tan\\angle{MNB} = \\frac{3}{4}</cmath>,\n\nso <math>\\tan(a) = \\frac{1}{7}</math>. We compute\n\n<cmath>\\sin(a) = \\frac{\\sqrt{2}}{10}</cmath>\n\n<cmath>\\cos(a) = \\frac{7\\sqrt{2}}{10}</cmath>\n\n<cmath>\\cos(t') = -\\tan(a) = -\\frac{1}{7}</cmath>\n\n<cmath>\\sin(t') = \\frac{4\\sqrt{3}}{7}</cmath>\n\n<cmath>\\sin(t' + a)=\\sin(t')\\cos(a) + \\cos(t')\\sin(a) = \\frac{28\\sqrt{6} - \\sqrt{2}}{70}</cmath>,\n\nso the maximum length of <math>XY</math> is <math>\\sin(a)\\times\\frac{\\sin(t')}{\\sin(t' + a) + \\cos(a)} = 7 - 4\\sqrt{3}</math>, and the answer is <math>7 + 4 + 3 = \\boxed{014}</math>.\n\n===Solution 4===\n<asy>\nunitsize(144);\npair A, B, C, M, n;\nA = (0,1); B = (-7/25, 24/25); C=(1/7,-4*sqrt(3)/7); M = (-1,0); n = (1,0);\npair [] D = intersectionpoints(A--C,M--n); pair [] e = intersectionpoints(B--C,M--n);\n\ndraw(circle((0,0),1));\ndraw(M--n--B--M--A--n--C--A--B--C--cycle);\n\nlabel(\"$A$\",A,N); label(\"$B$\",B,NNW); label(\"$M$\",M,W); label(\"$C$\",C,SSE); label(\"$N$\",n,E);\nlabel(\"$D$\",D[0],SE); label(\"$E$\",e[0],SW);\nlabel(\"$x$\",(M+C)/2,SW); label(\"$y$\",(n+C)/2,SE);\n</asy>\n\nSuppose <math>\\overline{AC}</math> and <math>\\overline{BC}</math> intersect <math>\\overline{MN}</math> at <math>D</math> and <math>E</math>, respectively, and let <math>MC = x</math> and <math>NC = y</math>. Since <math>A</math> is the midpoint of arc <math>MN</math>, <math>\\overline{CA}</math> bisects <math>\\angle MCN</math>, and we get\n<cmath>\\frac{MC}{MD} = \\frac{NC}{ND}\\Rightarrow MD = \\frac{x}{x + y}.</cmath>\nTo find <math>ME</math>, we note that <math>\\triangle BNE\\sim\\triangle MCE</math> and <math>\\triangle BME\\sim\\triangle NCE</math>, so\n\n<cmath>\\begin{align*}\n\\frac{BN}{NE} &= \\frac{MC}{CE} \\\\\n\\frac{ME}{BM} &= \\frac{CE}{NC}.\n\\end{align*}</cmath>\n\nWriting <math>NE = 1 - ME</math>, we can substitute known values and multiply the equations to get\n\n<cmath>\\frac{4(ME)}{3 - 3(ME)} = \\frac{x}{y}\\Rightarrow ME = \\frac{3x}{3x + 4y}.</cmath>\n\nThe value we wish to maximize is\n\n<cmath>\\begin{align*}\nDE &= MD - ME \\\\\n&= \\frac{x}{x + y} - \\frac{3x}{3x + 4y} \\\\\n&= \\frac{xy}{3x^2 + 7xy + 4y^2} \\\\\n&= \\frac{1}{3(x/y) + 4(y/x) + 7}.\n\\end{align*}</cmath>\n\nBy the AM-GM inequality, <math>3(x/y) + 4(y/x)\\geq 2\\sqrt{12} = 4\\sqrt{3}</math>, so\n<cmath>DE\\leq \\frac{1}{4\\sqrt{3} + 7} = 7 - 4\\sqrt{3},</cmath>\ngiving the answer of <math>7 + 4 + 3 = \\boxed{014}</math>. Equality is achieved when <math>3(x/y) = 4(y/x)</math> subject to the condition <math>x^2 + y^2 = 1</math>, which occurs for <math>x = \\frac{2\\sqrt{7}}{7}</math> and <math>y = \\frac{\\sqrt{21}}{7}</math>.\n\n===Solution 5 (Projective)===\nBy Pythagoras in <math>\\triangle BMN,</math> we get <math>BN=\\dfrac{4}{5}.</math>\n \nSince cross ratios are preserved upon projecting, note that <math>(M,Y;X,N)\\stackrel{C}{=}(M,B;A,N).</math> By definition of a cross ratio, this becomes <cmath>\\dfrac{XM}{NY}:\\dfrac{NM}{NY}=\\dfrac{AM}{AB}:\\dfrac{MN}{NB}.</cmath> Let <math>MY=a,YX=b,XN=c</math> such that <math>a+b+c=1.</math> We know that <math>XM=a+b,XY=b,NM=1,NY=b+c,</math> so the LHS becomes <math>\\dfrac{(a+b)(b+c)}{b}.</math>\n\nIn the RHS, we are given every value except for <math>AB.</math> However, Ptolemy's Theorem on <math>MBAN</math> gives <math>AB\\cdot MN+AN\\cdot BM=AM\\cdot BN\\implies AB+\\dfrac{3}{5\\sqrt{2}}=\\dfrac{4}{5\\sqrt{2}}\\implies AB=\\dfrac{1}{5\\sqrt{2}}.</math> Substituting, we get <math>\\dfrac{(a+b)(b+c)}{b}=4\\implies b(a+b+c)+ac=4b, b=\\dfrac{ac}{3}</math> where we use <math>a+b+c=1.</math>\n\nAgain using <math>a+b+c=1,</math> we have <math>a+b+c=1\\implies a+\\dfrac{ac}{3}+c=1\\implies a=3\\dfrac{1-c}{c+3}.</math> Then <math>b=\\dfrac{ac}{3}=\\dfrac{c-c^2}{c+3}.</math> Since this is a function in <math>c,</math> we differentiate WRT <math>c</math> to find its maximum. By quotient rule, it suffices to solve <cmath>(-2c+1)(c+3)-(c-c^2)=0 \\implies c^2+6c-3,c=-3+2\\sqrt{3}.</cmath> Substituting back yields <math>b=7-4\\sqrt{3},</math> so <math>7+4+3=\\boxed{014}</math> is the answer.\n\n~Generic_Username"
  },
  {
    "year": 2010,
    "variant": "I",
    "problem_number": 1,
    "latex": "Maya lists all the positive divisors of <math>2010^2</math>. She then randomly selects two distinct divisors from this list. Let <math>p</math> be the [[probability]] that exactly one of the selected divisors is a [[perfect square]]. The probability <math>p</math> can be expressed in the form <math>\\frac {m}{n}</math>, where <math>m</math> and <math>n</math> are [[relatively prime]] positive integers. Find <math>m + n</math>.",
    "solution": "<math>2010^2 = 2^2\\cdot3^2\\cdot5^2\\cdot67^2</math>. Thus there are <math>(2+1)^4</math> divisors, <math>(1+1)^4</math> of which are squares (the exponent of each prime factor must either be <math>0</math> or <math>2</math>). Therefore the probability is\n<cmath>\\frac {2\\cdot2^4\\cdot(3^4 - 2^4)}{3^4(3^4 - 1)} = \\frac {26}{81} \\Longrightarrow 26+ 81 = \\boxed{107}.</cmath>"
  },
  {
    "year": 2010,
    "variant": "I",
    "problem_number": 2,
    "latex": "Find the [[remainder]] when <math>9 \\times 99 \\times 999 \\times \\cdots \\times \\underbrace{99\\cdots9}_{\\text{999 9's}}</math> is divided by <math>1000</math>.",
    "solution": "Note that <math>999\\equiv 9999\\equiv\\dots \\equiv\\underbrace{99\\cdots9}_{\\text{999 9's}}\\equiv -1 \\pmod{1000}</math> (see [[modular arithmetic]]). That is a total of <math>999 - 3 + 1 = 997</math> integers, so all those integers multiplied out are congruent to <math>- 1\\pmod{1000}</math>. Thus, the entire expression is congruent to <math>- 1\\times9\\times99 = - 891\\equiv\\boxed{109}\\pmod{1000}</math>."
  },
  {
    "year": 2010,
    "variant": "I",
    "problem_number": 3,
    "latex": "Suppose that <math>y = \\frac34x</math> and <math>x^y = y^x</math>. The quantity <math>x + y</math> can be expressed as a rational number <math>\\frac {r}{s}</math>, where <math>r</math> and <math>s</math> are relatively prime positive integers. Find <math>r + s</math>.",
    "solution": "Substitute <math>y = \\frac34x</math> into <math>x^y = y^x</math> and solve.\n<cmath>x^{\\frac34x} = \\left(\\frac34x\\right)^x</cmath>\n<cmath>x^{\\frac34x} = \\left(\\frac34\\right)^x \\cdot x^x</cmath>\n<cmath>x^{-\\frac14x} = \\left(\\frac34\\right)^x</cmath>\n<cmath>x^{-\\frac14} = \\frac34</cmath>\n<cmath>x = \\frac{256}{81}</cmath>\n<cmath>y = \\frac34x = \\frac{192}{81}</cmath>\n<cmath>x + y = \\frac{448}{81}</cmath>\n<cmath>448 + 81 = \\boxed{529}</cmath>"
  },
  {
    "year": 2010,
    "variant": "I",
    "problem_number": 4,
    "latex": "Jackie and Phil have two fair coins and a third coin that comes up heads with [[probability]] <math>\\frac47</math>. Jackie flips the three coins, and then Phil flips the three coins. Let <math>\\frac {m}{n}</math> be the probability that Jackie gets the same number of heads as Phil, where <math>m</math> and <math>n</math> are [[relatively prime]] positive integers. Find <math>m + n</math>.",
    "solution": "This can be solved quickly and easily with [[generating functions]].\n\nLet <math>x^n</math> represent flipping <math>n</math> heads.\n\nThe generating functions for these coins are <math>(1+x)</math>,<math>(1+x)</math>,and <math>(3+4x)</math> in order.\n\nThe product is <math>3+10x+11x^2+4x^3</math>. (<math>ax^n</math> means there are <math>a</math> ways to get <math>n</math> heads, eg there are <math>10</math> ways to get <math>1</math> head, and therefore <math>2</math> tails, here.)\n\nThe sum of the coefficients squared (total number of possible outcomes, squared because the event is occurring twice) is <math>(4 + 11 + 10 + 3)^2 = 28^2 = 784</math> and the sum of the squares of each coefficient (the sum of the number of ways that each coefficient can be chosen by the two people) is <math>4^2 + 11^2 + 10^2 + 3^2=246</math>.\nThe probability is then <math>\t\\frac{4^2 + 11^2 + 10^2 + 3^2}{28^2}  = \\frac{246}{784} = \\frac{123}{392}</math>.\n(Notice the relationship between the addends of the numerator here and the cases in the following solution.)\n\n<math>123 + 392 = \\boxed{515}</math>"
  },
  {
    "year": 2010,
    "variant": "I",
    "problem_number": 5,
    "latex": "Positive integers <math>a</math>, <math>b</math>, <math>c</math>, and <math>d</math> satisfy <math>a > b > c > d</math>, <math>a + b + c + d = 2010</math>, and <math>a^2 - b^2 + c^2 - d^2 = 2010</math>. Find the number of possible values of <math>a</math>.",
    "solution": "Using the [[difference of squares]], <math>2010 = (a^2 - b^2) + (c^2 - d^2) = (a + b)(a - b) + (c + d)(c - d) \\ge a + b + c + d = 2010</math>, where equality must hold so <math>b = a - 1</math> and <math>d = c - 1</math>. Then we see <math>a = 1004</math> is maximal and <math>a = 504</math> is minimal, so the answer is <math>\\boxed{501}</math>.\n\n\nNote: We can also find that <math>b=a-1</math> in another way. We know <cmath>a^{2} - b^{2} + c^{2} - d^{2}=(a+b)+(c+d) \\implies (a+b)(a-b)-(a+b)+(c+d)(c-d)-(c+d)=0 \\implies (a+b)(a-b-1)+(c+d)(c-d-1)=0</cmath>\n\nTherefore, one of <math>(a+b)(a-b-1)</math> and <math>(c+d)(c-d-1)</math> must be <math>0.</math> Clearly, <math>a+b \\neq 0</math> since then one would be positive and negative, or both would be zero. Therefore, <math>a-b-1=0</math> so <math>a=b+1</math>. Similarly, we can deduce that <math>c=d+1.</math>"
  },
  {
    "year": 2010,
    "variant": "I",
    "problem_number": 6,
    "latex": "Let <math>P(x)</math> be a [[quadratic]] polynomial with real coefficients satisfying <math>x^2 - 2x + 2 \\le P(x) \\le 2x^2 - 4x + 3</math> for all real numbers <math>x</math>, and suppose <math>P(11) = 181</math>. Find <math>P(16)</math>.",
    "solution": "=== Solution 1 ===\n<center><asy>\nimport graph; real min = -0.5, max = 2.5; pen dark = linewidth(1);\n\nreal P(real x) { return 8*(x-1)^2/5+1; }\nreal Q(real x) { return (x-1)^2+1; }\nreal R(real x) { return 2*(x-1)^2+1; }\ndraw(graph(P,min,max),dark);\ndraw(graph(Q,min,max),linetype(\"6 2\")+linewidth(0.7));\ndraw(graph(R,min,max),linetype(\"6 2\")+linewidth(0.7));\ndot((1,1));\nlabel(\"$P(x)$\",(max,P(max)),E,fontsize(10));\nlabel(\"$Q(x)$\",(max,Q(max)),E,fontsize(10));\nlabel(\"$R(x)$\",(max,R(max)),E,fontsize(10));\n\n /* axes */\nLabel f; f.p=fontsize(8);\nxaxis(-2, 3, Ticks(f, 5, 1));\nyaxis(-1, 5, Ticks(f, 6, 1)); \n</asy></center>\n\nLet <math>Q(x) = x^2 - 2x + 2</math>, <math>R(x) = 2x^2 - 4x + 3</math>. [[Completing the square]], we have <math>Q(x) = (x-1)^2 + 1</math>, and <math>R(x) = 2(x-1)^2 + 1</math>, so it follows that <math>P(x) \\ge Q(x) \\ge 1</math> for all <math>x</math> (by the [[Trivial Inequality]]). \n\nAlso, <math>1 = Q(1) \\le P(1) \\le R(1) = 1</math>, so <math>P(1) = 1</math>, and <math>P</math> obtains its minimum at the point <math>(1,1)</math>. Then <math>P(x)</math> must be of the form <math>c(x-1)^2 + 1</math> for some constant <math>c</math>; substituting <math>P(11) = 181</math> yields <math>c = \\frac 95</math>. Finally, <math>P(16) = \\frac 95 \\cdot (16 - 1)^2 + 1 = \\boxed{406}</math>.\n\n=== Solution 2 ===\nIt can be seen that the function <math>P(x)</math> must be in the form <math>P(x) = ax^2 - 2ax + c</math> for some real <math>a</math> and <math>c</math>. This is because the [[derivative]] of <math>P(x)</math> is <math>2ax - 2a</math>, and a global minimum occurs only at <math>x = 1</math> (in addition, because of this derivative, the vertex of any quadratic polynomial occurs at <math>\\frac{-b}{2a}</math>). Substituting <math>(1,1)</math> and <math>(11, 181)</math> we obtain two equations:\n\n<center><math>P(11) = 99a + c = 181</math>, and <math>P(1) = -a + c = 1</math>.</center>\n\nSolving, we get <math>a = \\frac{9}{5}</math> and <math>c = \\frac{14}{5}</math>, so <math>P(x) = \\frac{9}{5}x^2 - \\frac{18}{5}x + \\frac {14}{5}</math>. Therefore, <math>P(16) = \\boxed{406}</math>.\n\n=== Solution 3 ===\n\nLet <math>y = x^2 - 2x + 2</math>; note that <math>2y - 1 = 2x^2 - 4x + 3</math>. Setting <math>y = 2y - 1</math>, we find that equality holds when <math>y = 1</math> and therefore when <math>x^2 - 2x + 2 = 1</math>; this is true iff <math>x = 1</math>, so <math>P(1) = 1</math>.\n\nLet <math>Q(x) = P(x) - x</math>; clearly <math>Q(1) = 0</math>, so we can write <math>Q(x) = (x - 1)Q'(x)</math>, where <math>Q'(x)</math> is some linear function. Plug <math>Q(x)</math> into the given inequality:\n\n<math>x^2 - 3x + 2 \\le Q(x) \\le 2x^2 - 5x + 3</math>\n\n<math>(x - 1)(x - 2) \\le (x - 1)Q'(x) \\le (x - 1)(2x - 3)</math>, and thus\n\n<math>x - 2 \\le Q'(x) \\le 2x - 3</math>\n\nFor all <math>x > 1</math>; note that the inequality signs are flipped if <math>x < 1</math>, and that the division is invalid for <math>x = 1</math>. However,\n\n<math>\\lim_{x \\to 1}  x - 2 = \\lim_{x \\to 1}  2x - 3 = -1</math>,\n\nand thus by the [[sandwich theorem]] <math>\\lim_{x \\to 1} Q'(x) = -1</math>; by the definition of a continuous function, <math>Q'(1) = -1</math>. Also, <math>Q(11) = 170</math>, so <math>Q'(11) = 170/(11-1) = 17</math>; plugging in and solving, <math>Q'(x) = (9/5)(x - 1) - 1</math>. Thus <math>Q(16) = 390</math>, and so <math>P(16) = \\boxed{406}</math>.\n\n=== Solution 4 ===\n\nLet <math>Q(x) = P(x) - (x^2-2x+2)</math>, then <math>0\\le Q(x) \\le (x-1)^2</math> (note this is derived from the given inequality chain).  Therefore, <math>0\\le Q(x+1) \\le x^2 \\Rightarrow Q(x+1) = Ax^2</math> for some real value A.\n\n<math>Q(11) = 10^2A \\Rightarrow P(11)-(11^2-22+2)=100A \\Rightarrow 80=100A \\Rightarrow A=\\frac{4}{5}</math>.\n\n<math>Q(16)=15^2A=180 \\Rightarrow P(16)-(16^2-32+2) = 180 \\Rightarrow P(16)=180+226= \\boxed{406}</math>\n\n=== Solution 5 ===\n\nLet <math>P(x) = ax^2 + bx + c</math>. Plugging in <math>x = 1</math> to the expressions on both sides of the inequality, we see that <math>a + b + c = 1</math>. We see from the problem statement that <math>121a + 11b + c = 181</math>. Since we know the vertex of <math>P(x)</math> lies at <math>x = 1</math>, by symmetry we get <math>81a -9b + c = 181</math> as well. Since we now have three equations, we can solve this trivial system and get our answer of <math>\\boxed{406}</math>.\n\n=== Solution 6 ===\n\nSimilar to Solution 5, let <math>P(x) = ax^2 + bx + c</math>. Note that <math>(1,1)</math> is a vertex of the polynomial. Additionally, this means that <math>b = -2a</math> (since <math>\\frac{-b}{2a}</math> is the minimum <math>x</math> point). Thus, we have <math>P(x) = ax^2 - 2ax + c</math>. Therefore <math>a - 2a + c = 1</math>. Moreover, <math>99a + c = 181</math>. And so our polynomial is <math>\\frac{9}{5}x^2 - \\frac{18}{5}x + \\frac{14}{5}</math>. Plug in <math>x = 16</math> to get <math>\\boxed{406}</math>.\n\n=== Solution 7 ===\n\nVery similar to Solution 6, start by noticing that <math>P(x)</math> is between two polynomials, we try to set them equal to find a point where the two polynomials intersect, meaning that <math>P(x)</math> would also have to intersect that point (it must be between the two graphs). Setting <math>x^2 - 2x + 2 = 2x^2 - 4x + 3</math>, we find that <math>x = 1</math>. Note that both of these graphs have the same vertex (at <math>x = 1</math>), and so <math>P(x)</math> must also have the same vertex <math>(1, 1)</math>. Setting <math>P(x) = ax^2 - 2ax + a + 1</math> (this is where we have a vertex at <math>(1, 1)</math>), we plug in <math>11</math> and find that <math>a = 1.8</math>. Evaluating <math>1.8x^2 - 3.6x + 2.8</math> when <math>x = 16</math> (our intended goal), we find that <math>P(16) = \\boxed{406}</math>."
  },
  {
    "year": 2010,
    "variant": "I",
    "problem_number": 7,
    "latex": "Define an [[order relation|ordered]] triple <math>(A, B, C)</math> of [[set]]s to be ''minimally intersecting'' if <math>|A \\cap B| = |B \\cap C| = |C \\cap A| = 1</math> and <math>A \\cap B \\cap C = \\emptyset</math>. For example, <math>(\\{1,2\\},\\{2,3\\},\\{1,3,4\\})</math> is a minimally intersecting triple. Let <math>N</math> be the number of minimally intersecting ordered triples of sets for which each set is a subset of <math>\\{1,2,3,4,5,6,7\\}</math>. Find the remainder when <math>N</math> is divided by <math>1000</math>.\n\n'''Note''': <math>|S|</math> represents the number of elements in the set <math>S</math>.",
    "solution": "Let each pair of two sets have one element in common. Label the common elements as <math>x</math>, <math>y</math>, <math>z</math>. Set <math>A</math> will have elements <math>x</math> and <math>y</math>, set <math>B</math> will have <math>y</math> and <math>z</math>, and set <math>C</math> will have <math>x</math> and <math>z</math>. There are <math>7 \\cdot 6 \\cdot 5 = 210</math> ways to choose values of <math>x</math>, <math>y</math> and <math>z</math>. There are <math>4</math> unpicked numbers, and each number can either go in the first set, second set, third set, or none of them. Since we have <math>4</math> choices for each of <math>4</math> numbers, that gives us <math>4^4 = 256</math>.\n\nFinally, <math>256 \\cdot 210 = 53760</math>, so the answer is <math>\\fbox{760}</math>."
  },
  {
    "year": 2010,
    "variant": "I",
    "problem_number": 8,
    "latex": "For a real number <math>a</math>, let <math>\\lfloor a \\rfloor</math> denote the [[ceiling function|greatest integer]] less than or equal to <math>a</math>. Let <math>\\mathcal{R}</math> denote the region in the [[coordinate plane]] consisting of points <math>(x,y)</math> such that <math>\\lfloor x \\rfloor ^2 + \\lfloor y \\rfloor ^2 = 25</math>. The region <math>\\mathcal{R}</math> is completely contained in a [[disk]] of [[radius]] <math>r</math> (a disk is the union of a [[circle]] and its interior). The minimum value of <math>r</math> can be written as <math>\\frac {\\sqrt {m}}{n}</math>, where <math>m</math> and <math>n</math> are integers and <math>m</math> is not divisible by the square of any prime. Find <math>m + n</math>.",
    "solution": "The desired region consists of 12 boxes, whose lower-left corners are integers solutions of <math>x^2 + y^2 = 25</math>, namely <math>(\\pm5,0), (0,\\pm5), (\\pm3,\\pm4), (\\pm4,\\pm3).</math> Since the points themselves are symmetric about <math>(0,0)</math>, the boxes are symmetric about <math>\\left(\\frac12,\\frac12\\right)</math>. The distance from <math>\\left(\\frac12,\\frac12\\right)</math> to the furthest point on a box that lays on an axis, for instance <math>(6,1)</math>, is <math>\\sqrt {\\frac {11}2^2 + \\frac12^2} = \\sqrt {\\frac {122}4}.</math> The distance from <math>\\left(\\frac12,\\frac12\\right)</math> to the furthest point on a box in the middle of a quadrant, for instance <math>(5,4)</math>, is <math>\\sqrt {\\frac92^2 + \\frac72^2} = \\sqrt {\\frac {130}4}.</math> The latter is the larger, and is <math>\\frac {\\sqrt {130}}2</math>, giving an answer of <math>130 + 2 = \\boxed{132}</math>.\n\n<center><asy>import graph; size(10.22cm); real lsf=0.5; pen dps=linewidth(0.7)+fontsize(10); defaultpen(dps); pen ds=black; real xmin=-5.68,xmax=6.54,ymin=-5.52,ymax=6.5; \npen cqcqcq=rgb(0.75,0.75,0.75), evevff=rgb(0.9,0.9,1), zzttqq=rgb(0.6,0.2,0); \nfilldraw((-3,4)--(-2,4)--(-2,5)--(-3,5)--cycle,evevff,blue); filldraw((3,4)--(4,4)--(4,5)--(3,5)--cycle,evevff,blue); filldraw((4,3)--(5,3)--(5,4)--(4,4)--cycle,evevff,blue); filldraw((5,0)--(6,0)--(6,1)--(5,1)--cycle,evevff,blue); filldraw((4,-3)--(5,-3)--(5,-2)--(4,-2)--cycle,evevff,blue); filldraw((3,-3)--(3,-4)--(4,-4)--(4,-3)--cycle,evevff,blue); filldraw((0,-5)--(1,-5)--(1,-4)--(0,-4)--cycle,evevff,blue); filldraw((-3,-4)--(-2,-4)--(-2,-3)--(-3,-3)--cycle,evevff,blue); filldraw((-4,-3)--(-3,-3)--(-3,-2)--(-4,-2)--cycle,evevff,blue); filldraw((-4,3)--(-3,3)--(-3,4)--(-4,4)--cycle,evevff,blue); filldraw((-5,0)--(-4,0)--(-4,1)--(-5,1)--cycle,evevff,blue); filldraw((0,6)--(0,5)--(1,5)--(1,6)--cycle,evevff,blue); \n/*grid*/ pen gs=linewidth(0.7)+cqcqcq+linetype(\"2 2\"); real gx=1,gy=1;\nfor(real i=ceil(xmin/gx)*gx;i<=floor(xmax/gx)*gx;i+=gx) draw((i,ymin)--(i,ymax),gs); for(real i=ceil(ymin/gy)*gy;i<=floor(ymax/gy)*gy;i+=gy) draw((xmin,i)--(xmax,i),gs); \nLabel laxis; laxis.p=fontsize(10); \nxaxis(xmin,xmax,defaultpen+black,Ticks(laxis,Step=1.0,Size=2,NoZero),Arrows(6),above=true); yaxis(ymin,ymax,defaultpen+black,Ticks(laxis,Step=1.0,Size=2,NoZero),Arrows(6),above=true); draw(circle((0,0),5),linewidth(1.6)); draw(circle((0.5,0.5),5.7),linetype(\"2 2\")); draw((-3,4)--(-2,4),zzttqq); draw((-2,4)--(-2,5),zzttqq); draw((-2,5)--(-3,5),zzttqq); draw((-3,5)--(-3,4),zzttqq); draw((3,4)--(4,4),zzttqq); draw((4,4)--(4,5),zzttqq); draw((4,5)--(3,5),zzttqq); draw((3,5)--(3,4),zzttqq); draw((4,3)--(5,3),zzttqq); draw((5,3)--(5,4),zzttqq); draw((5,4)--(4,4),zzttqq); draw((4,4)--(4,3),zzttqq); draw((5,0)--(6,0),zzttqq); draw((6,0)--(6,1),zzttqq); draw((6,1)--(5,1),zzttqq); draw((5,1)--(5,0),zzttqq); draw((4,-3)--(5,-3),zzttqq); draw((5,-3)--(5,-2),zzttqq); draw((5,-2)--(4,-2),zzttqq); draw((4,-2)--(4,-3),zzttqq); draw((3,-3)--(3,-4),zzttqq); draw((3,-4)--(4,-4),zzttqq); draw((4,-4)--(4,-3),zzttqq); draw((4,-3)--(3,-3),zzttqq); draw((0,-5)--(1,-5),zzttqq); draw((1,-5)--(1,-4),zzttqq); draw((1,-4)--(0,-4),zzttqq); draw((0,-4)--(0,-5),zzttqq); draw((-3,-4)--(-2,-4),zzttqq); draw((-2,-4)--(-2,-3),zzttqq); draw((-2,-3)--(-3,-3),zzttqq); draw((-3,-3)--(-3,-4),zzttqq); draw((-4,-3)--(-3,-3),zzttqq); draw((-3,-3)--(-3,-2),zzttqq); draw((-3,-2)--(-4,-2),zzttqq); draw((-4,-2)--(-4,-3),zzttqq); draw((-4,3)--(-3,3),zzttqq); draw((-3,3)--(-3,4),zzttqq); draw((-3,4)--(-4,4),zzttqq); draw((-4,4)--(-4,3),zzttqq); draw((-5,0)--(-4,0),zzttqq); draw((-4,0)--(-4,1),zzttqq); draw((-4,1)--(-5,1),zzttqq); draw((-5,1)--(-5,0),zzttqq); draw((0,6)--(0,5),zzttqq); draw((0,5)--(1,5),zzttqq); draw((1,5)--(1,6),zzttqq); draw((1,6)--(0,6),zzttqq); \ndot((0,5),ds); dot((3,4),ds); dot((4,3),ds); dot((5,0),ds); dot((4,-3),ds); dot((3,-4),ds); dot((0,-5),ds); dot((-3,-4),ds); dot((-4,-3),ds); dot((-4,3),ds); dot((-3,4),ds); dot((-2,4),ds); dot((-2,5),ds); dot((-3,5),ds); dot((4,4),ds); dot((4,5),ds); dot((3,5),ds); dot((5,3),ds); dot((5,4),ds); dot((4,4),ds); dot((6,0),ds); dot((6,1),ds); dot((5,1),ds); dot((5,-3),ds); dot((5,-2),ds); dot((4,-2),ds); dot((3,-3),ds); dot((4,-4),ds); dot((4,-3),ds); dot((1,-5),ds); dot((1,-4),ds); dot((0,-4),ds); dot((-2,-4),ds); dot((-2,-3),ds); dot((-3,-3),ds); dot((-3,-2),ds); dot((-4,-2),ds); dot((-3,3),ds); dot((-3,4),ds); dot((-4,4),ds); dot((-5,0),ds); dot((-4,0),ds); dot((-4,1),ds); dot((-5,1),ds); dot((0,6),ds); dot((1,5),ds); dot((1,6),ds); \nclip((xmin,ymin)--(xmin,ymax)--(xmax,ymax)--(xmax,ymin)--cycle); </asy></center>"
  },
  {
    "year": 2010,
    "variant": "I",
    "problem_number": 9,
    "latex": "Let <math>(a,b,c)</math> be the [[real number|real]] solution of the system of equations <math>x^3 - xyz = 2</math>, <math>y^3 - xyz = 6</math>, <math>z^3 - xyz = 20</math>. The greatest possible value of <math>a^3 + b^3 + c^3</math> can be written in the form <math>\\frac {m}{n}</math>, where <math>m</math> and <math>n</math> are [[relatively prime]] positive integers. Find <math>m + n</math>.",
    "solution": "===Solution 1===\nAdd the three equations to get <math>a^3 + b^3 + c^3 = 28 + 3abc</math>.  Now, let <math>abc = p</math>.  <math>a = \\sqrt [3]{p + 2}</math>, <math>b = \\sqrt [3]{p + 6}</math> and <math>c = \\sqrt [3]{p + 20}</math>, so <math>p = abc = (\\sqrt [3]{p + 2})(\\sqrt [3]{p + 6})(\\sqrt [3]{p + 20})</math>.  Now [[cube]] both sides; the <math>p^3</math> terms cancel out.  Solve the remaining [[quadratic]] to get <math>p = - 4, - \\frac {15}{7}</math>.  To maximize <math>a^3 + b^3 + c^3</math> choose <math>p = - \\frac {15}{7}</math> and so the sum is <math>28 - \\frac {45}{7} = \\frac {196 - 45}{7}</math> giving <math>151 + 7 = \\fbox{158}</math>.\n\n===Solution 2===\nThis is almost the same as solution 1. Note <math>a^3 + b^3 + c^3 = 28 + 3abc</math>. Next, let <math>k = a^3</math>. Note that <math>b = \\sqrt [3]{k + 4}</math> and  <math>c = \\sqrt [3]{k + 18}</math>, so we have <math>28 + 3\\sqrt [3]{k(k+4)(k+18)} = 28+3abc=a^3+b^3+c^3=3k+22</math>. Move 28 over, divide both sides by 3, then cube to get <math>k^3-6k^2+12k-8 = k^3+22k^2+18k</math>. The <math>k^3</math> terms cancel out, so solve the quadratic to get <math>k = -2, -\\frac{1}{7}</math>. We maximize <math>abc</math> by choosing <math>k = -\\frac{1}{7}</math>, which gives us <math>a^3+b^3+c^3 = 3k + 22 = \\frac{151}{7}</math>. Thus, our answer is <math>151+7=\\boxed{158}</math>.\n\n===Solution 3===\nWe have that <math>x^3 = 2 + xyz</math>, <math>y^3 = 6 + xyz</math>, and <math>z^3 = 20 + xyz</math>. Multiplying the three equations, and letting <math>m = xyz</math>, we have that <math>m^3 = (2+m)(6+m)(20+m)</math>, and reducing, that <math>7m^2 + 43m + 60 = 0</math>, which has solutions <math>m = -\\frac{15}{7}, -4</math>. Adding the three equations and testing both solutions, we find the answer of <math>\\frac{151}{7}</math>, so the desired quantity is <math>151 + 7 = \\fbox{158}</math>."
  },
  {
    "year": 2010,
    "variant": "I",
    "problem_number": 10,
    "latex": "Let <math>N</math> be the number of ways to write <math>2010</math> in the form <math>2010 = a_3 \\cdot 10^3 + a_2 \\cdot 10^2 + a_1 \\cdot 10 + a_0</math>, where the <math>a_i</math>'s are integers, and <math>0 \\le a_i \\le 99</math>. An example of such a representation is <math>1\\cdot 10^3 + 3\\cdot 10^2 + 67\\cdot 10^1 + 40\\cdot 10^0</math>. Find <math>N</math>.",
    "solution": "If we choose <math>a_3</math> and <math>a_1</math> such that <math>(10^3)(a_3) + (10)(a_1) \\leq 2010</math> there is a [[bijection|unique]] choice of <math>a_2</math> and <math>a_0</math> that makes the equality hold.  So <math>N</math> is just the number of combinations of <math>a_3</math> and <math>a_1</math> we can pick.  If <math>a_3 = 0</math> or <math>a_3 = 1</math> we can let <math>a_1</math> be anything from <math>0</math> to <math>99</math>.  If <math>a_3 = 2</math> then <math>a_1 = 0</math> or <math>a_1 = 1</math>.  Thus <math>N = 100 + 100 + 2 = \\fbox{202}</math>."
  },
  {
    "year": 2010,
    "variant": "I",
    "problem_number": 11,
    "latex": "Let <math>\\mathcal{R}</math> be the region consisting of the set of points in the [[coordinate plane]] that satisfy both <math>|8 - x| + y \\le 10</math> and <math>3y - x \\ge 15</math>. When <math>\\mathcal{R}</math> is revolved around the [[line]] whose equation is <math>3y - x = 15</math>, the [[volume]] of the resulting [[solid]] is <math>\\frac {m\\pi}{n\\sqrt {p}}</math>, where <math>m</math>, <math>n</math>, and <math>p</math> are positive integers, <math>m</math> and <math>n</math> are [[relatively prime]], and <math>p</math> is not divisible by the square of any prime. Find <math>m + n + p</math>.",
    "solution": "<center><asy>size(280);\nimport graph; real min = 2, max = 12; pen dark = linewidth(1); \n\nreal P(real x) { return x/3 + 5; }\nreal Q(real x) { return 10 - abs(x - 8); }\npath p = (2,P(2))--(8,P(8))--(12,P(12)), q = (2,Q(2))--(12,Q(12));\npair A = (8,10), B = (4.5,6.5), C= (9.75,8.25), F=foot(A,B,C), G=2*F-A; fill(A--B--C--cycle,rgb(0.9,0.9,0.9)); \ndraw(graph(P,min,max),dark);\ndraw(graph(Q,min,max),dark);\ndraw(Arc((8,7.67),A,G,CW),dark,EndArrow(8)); draw(B--C--G--cycle,linetype(\"4 4\"));\n\nlabel(\"$y \\ge x/3 + 5$\",(max,P(max)),E,fontsize(10));\nlabel(\"$y \\le 10 - |x-8|$\",(max,Q(max)),E,fontsize(10));\nlabel(\"$\\mathcal{R}$\",(6,Q(6)),NW);\n\n /* axes */\nLabel f; f.p=fontsize(8);\nxaxis(0, max, Ticks(f, 6, 1));\nyaxis(0, 10, Ticks(f, 5, 1)); \n</asy></center>\n\nThe [[inequality|inequalities]] are equivalent to <math>y \\ge x/3 + 5, y \\le 10 - |x - 8|</math>. We can set them equal to find the two points of intersection, <math>x/3 + 5 = 10 - |x - 8| \\Longrightarrow |x - 8| = 5 - x/3</math>. This implies that one of <math>x - 8, 8 - x = 5 - x/3</math>, from which we find that <math>(x,y) = \\left(\\frac 92, \\frac {13}2\\right), \\left(\\frac{39}{4}, \\frac{33}{4}\\right)</math>. The region <math>\\mathcal{R}</math> is a [[triangle]], as shown above. When revolved about the line <math>y = x/3+5</math>, the resulting solid is the union of two right [[cone]]s that share the same base and axis. \n\n<center><asy>size(200);\nimport three; currentprojection = perspective(0,0,10); defaultpen(linewidth(0.7)); pen dark=linewidth(1.3);\npair Fxy = foot((8,10),(4.5,6.5),(9.75,8.25));\ntriple A = (8,10,0), B = (4.5,6.5,0), C= (9.75,8.25,0), F=(Fxy.x,Fxy.y,0), G=2*F-A, H=(F.x,F.y,abs(F-A)),I=(F.x,F.y,-abs(F-A));\nreal theta1 = 1.2, theta2 = -1.7,theta3= abs(F-A),theta4=-2.2;\n\ntriple J=F+theta1*unit(A-F)+(0,0,((abs(F-A))^2-(theta1)^2)^.5 ),K=F+theta2*unit(A-F)+(0,0,((abs(F-A))^2-(theta2)^2)^.5 ),L=F+theta3*unit(A-F)+(0,0,((abs(F-A))^2-(theta3)^2)^.5 ),M=F+theta4*unit(A-F)-(0,0,((abs(F-A))^2-(theta4)^2)^.5 );\ndraw(C--A--B--G--cycle,linetype(\"4 4\")+dark); draw(A..H..G..I..A); draw(C--B^^A--G,linetype(\"4 4\")); draw(J--C--K); draw(L--B--M);\ndot(B);dot(C);dot(F);\n\nlabel(\"$h_1$\",(B+F)/2,SE,fontsize(10));\nlabel(\"$h_2$\",(C+F)/2,S,fontsize(10));\nlabel(\"$r$\",(A+F)/2,E,fontsize(10));\n</asy></center>\n\nLet <math>h_1,h_2</math> denote the height of the left and right cones, respectively (so <math>h_1 > h_2</math>), and let <math>r</math> denote their common radius. The volume of a cone is given by <math>\\frac 13 Bh</math>; since both cones share the same base, then the desired volume is <math>\\frac 13 \\cdot \\pi r^2 \\cdot (h_1 + h_2)</math>. The [[distance]] from the point <math>(8,10)</math> to the line <math>x - 3y + 15 = 0</math> is given by <math>\\left|\\frac{(8) - 3(10) + 15}{\\sqrt{1^2 + (-3)^2}}\\right| = \\frac{7}{\\sqrt{10}}</math>. The distance between <math>\\left(\\frac 92, \\frac {13}2\\right)</math> and <math>\\left(\\frac{39}{4}, \\frac{33}{4}\\right)</math> is given by <math>h_1 + h_2 = \\sqrt{\\left(\\frac{18}{4} - \\frac{39}{4}\\right)^2 + \\left(\\frac{26}{4} - \\frac{33}{4}\\right)^2} = \\frac{7\\sqrt{10}}{4}</math>. Thus, the answer is <math>\\frac{343\\sqrt{10}\\pi}{120} = \\frac{343\\pi}{12\\sqrt{10}} \\Longrightarrow 343 + 12 + 10 = \\boxed{365}</math>. (Note to MAA: Is it a coincidence that this is the number of days in a non-leap year?)"
  },
  {
    "year": 2010,
    "variant": "I",
    "problem_number": 12,
    "latex": "Let <math>m \\ge 3</math> be an [[integer]] and let <math>S = \\{3,4,5,\\ldots,m\\}</math>. Find the smallest value of <math>m</math> such that for every [[partition]] of <math>S</math> into two subsets, at least one of the subsets contains integers <math>a</math>, <math>b</math>, and <math>c</math> (not necessarily distinct) such that <math>ab = c</math>.\n\n'''Note''': a partition of <math>S</math> is a pair of sets <math>A</math>, <math>B</math> such that <math>A \\cap B = \\emptyset</math>, <math>A \\cup B = S</math>.",
    "solution": "We claim that <math>243</math> is the minimal value of <math>m</math>. Let the two partitioned sets be <math>A</math> and <math>B</math>; we will try to partition <math>3, 9, 27, 81,</math> and <math>243</math> such that the <math>ab=c</math> condition is not satisfied. [[Without loss of generality]], we place <math>3</math> in <math>A</math>. Then <math>9</math> must be placed in <math>B</math>, so <math>81</math> must be placed in <math>A</math>, and <math>27</math> must be placed in <math>B</math>. Then <math>243</math> cannot be placed in any set, so we know <math>m</math> is less than or equal to <math>243</math>.\n\nFor <math>m \\le 242</math>, we can partition <math>S</math> into <math>S \\cap \\{3, 4, 5, 6, 7, 8, 81, 82, 83, 84 ... 242\\}</math> and <math>S \\cap \\{9, 10, 11 ... 80\\}</math>, and in neither set are there values where <math>ab=c</math> (since <math>8 < (3\\text{ to }8)^2 < 81</math> and <math>81^2>242</math> and <math>(9\\text{ to }80)^2 > 80 </math>). Thus <math>m = \\boxed{243}</math>.\n\nFYI, this. is a bad solution"
  },
  {
    "year": 2010,
    "variant": "I",
    "problem_number": 13,
    "latex": "[[Rectangle]] <math>ABCD</math> and a [[semicircle]] with diameter <math>AB</math> are coplanar and have nonoverlapping interiors. Let <math>\\mathcal{R}</math> denote the region enclosed by the semicircle and the rectangle. Line <math>\\ell</math> meets the semicircle, segment <math>AB</math>, and segment <math>CD</math> at distinct points <math>N</math>, <math>U</math>, and <math>T</math>, respectively. Line <math>\\ell</math> divides region <math>\\mathcal{R}</math> into two regions with areas in the ratio <math>1: 2</math>. Suppose that <math>AU = 84</math>, <math>AN = 126</math>, and <math>UB = 168</math>. Then <math>DA</math> can be represented as <math>m\\sqrt {n}</math>, where <math>m</math> and <math>n</math> are positive integers and <math>n</math> is not divisible by the square of any prime. Find <math>m + n</math>.",
    "solution": "===Diagram===\n<center><asy> /* geogebra conversion, see azjps userscripts.org/scripts/show/72997 */\nimport graph; defaultpen(linewidth(0.7)+fontsize(10)); size(500);\npen zzttqq = rgb(0.6,0.2,0);\npen xdxdff = rgb(0.4902,0.4902,1);\n\n  /* segments and figures */\ndraw((0,-154.31785)--(0,0));\ndraw((0,0)--(252,0));\ndraw((0,0)--(126,0),zzttqq);\ndraw((126,0)--(63,109.1192),zzttqq);\ndraw((63,109.1192)--(0,0),zzttqq);\ndraw((-71.4052,(+9166.01287-109.1192*-71.4052)/21)--(504.60925,(+9166.01287-109.1192*504.60925)/21));\ndraw((0,-154.31785)--(252,-154.31785));\ndraw((252,-154.31785)--(252,0));\ndraw((0,0)--(84,0));\ndraw((84,0)--(252,0));\ndraw((63,109.1192)--(63,0));\ndraw((84,0)--(84,-154.31785));\ndraw(arc((126,0),126,0,180));\n\n  /* points and labels */\ndot((0,0));\nlabel(\"$A$\",(-16.43287,-9.3374),NE/2);\ndot((252,0));\nlabel(\"$B$\",(255.242,5.00321),NE/2);\ndot((0,-154.31785));\nlabel(\"$D$\",(3.48464,-149.55669),NE/2);\ndot((252,-154.31785));\nlabel(\"$C$\",(255.242,-149.55669),NE/2);\ndot((126,0));\nlabel(\"$O$\",(129.36332,5.00321),NE/2);\ndot((63,109.1192));\nlabel(\"$N$\",(44.91307,108.57427),NE/2);\nlabel(\"$126$\",(28.18236,40.85473),NE/2);\ndot((84,0));\nlabel(\"$U$\",(87.13819,5.00321),NE/2);\ndot((113.69848,-154.31785));\nlabel(\"$T$\",(116.61611,-149.55669),NE/2);\ndot((63,0));\nlabel(\"$N'$\",(66.42398,5.00321),NE/2);\nlabel(\"$84$\",(41.72627,-12.5242),NE/2);\nlabel(\"$168$\",(167.60494,-12.5242),NE/2);\ndot((84,-154.31785));\nlabel(\"$T'$\",(87.13819,-149.55669),NE/2);\ndot((252,0));\nlabel(\"$I$\",(255.242,5.00321),NE/2);\nclip((-71.4052,-225.24323)--(-71.4052,171.51361)--(504.60925,171.51361)--(504.60925,-225.24323)--cycle);\n</asy></center>\n=== Solution 1 ===\n\nThe center of the semicircle is also the midpoint of <math>AB</math>. Let this point be O. Let <math>h</math> be the length of <math>AD</math>.\n\nRescale everything by 42, so <math>AU = 2, AN = 3, UB = 4</math>. Then <math>AB = 6</math> so <math>OA = OB = 3</math>.\n\nSince <math>ON</math> is a radius of the semicircle, <math>ON = 3</math>. Thus <math>OAN</math> is an equilateral triangle.\n\nLet <math>X</math>, <math>Y</math>, and <math>Z</math> be the areas of triangle <math>OUN</math>, sector <math>ONB</math>, and trapezoid <math>UBCT</math> respectively.\n\n<math>X = \\frac {1}{2}(UO)(NO)\\sin{O} = \\frac {1}{2}(1)(3)\\sin{60^\\circ} = \\frac {3}{4}\\sqrt {3}</math>\n\n<math>Y = \\frac {1}{3}\\pi(3)^2 = 3\\pi</math>\n\nTo find <math>Z</math> we have to find the length of <math>TC</math>. Project <math>T</math> and <math>N</math> onto <math>AB</math> to get points <math>T'</math> and <math>N'</math>. Notice that <math>UNN'</math> and <math>TUT'</math> are similar. Thus:\n\n<math>\\frac {TT'}{UT'} = \\frac {UN'}{NN'} \\implies \\frac {TT'}{h} = \\frac {1/2}{3\\sqrt {3}/2} \\implies TT' = \\frac {\\sqrt {3}}{9}h</math>.\n\nThen <math>TC = T'C - T'T = UB - TT' = 4 - \\frac {\\sqrt {3}}{9}h</math>. So:\n\n<math>Z = \\frac {1}{2}(BU + TC)(CB) = \\frac {1}{2}\\left(8 - \\frac {\\sqrt {3}}{9}h\\right)h = 4h - \\frac {\\sqrt {3}}{18}h^2</math>\n\nLet <math>L</math> be the area of the side of line <math>l</math> containing regions <math>X, Y, Z</math>. Then\n\n<math>L = X + Y + Z = \\frac {3}{4}\\sqrt {3} + 3\\pi + 4h - \\frac {\\sqrt {3}}{18}h^2</math>\n\nObviously, the <math>L</math> is greater than the area on the other side of line <math>l</math>. This other area is equal to the total area minus <math>L</math>. Thus:\n\n<math>\\frac {2}{1} = \\frac {L}{6h + \\frac {9}{2}{\\pi} - L} \\implies 12h + 9\\pi = 3L</math>.\n\nNow just solve for <math>h</math>.\n\n<cmath>\\begin{align*} 12h + 9\\pi & = \\frac {9}{4}\\sqrt {3} + 9\\pi + 12h - \\frac {\\sqrt {3}}{6}h^2 \\\\\n0 & = \\frac {9}{4}\\sqrt {3} - \\frac {\\sqrt {3}}{6}h^2 \\\\\nh^2 & = \\frac {9}{4}(6) \\\\\nh & = \\frac {3}{2}\\sqrt {6} \\end{align*}</cmath>\n\nDon't forget to un-rescale at the end to get <math>AD = \\frac {3}{2}\\sqrt {6} \\cdot 42 = 63\\sqrt {6}</math>. \n\nFinally, the answer is <math>63 + 6 = \\boxed{069}</math>.\n\n=== Solution 2 ===\n\nLet <math>O</math> be the center of the semicircle. It follows that <math>AU + UO = AN = NO = 126</math>, so triangle <math>ANO</math> is [[equilateral]].\n\nLet <math>Y</math> be the foot of the altitude from <math>N</math>, such that <math>NY = 63\\sqrt{3}</math> and <math>NU = 21</math>.\n\nFinally, denote <math>DT = a</math>, and <math>AD = x</math>. Extend <math>U</math> to point <math>Z</math> so that <math>Z</math> is on <math>CD</math> and <math>UZ</math> is perpendicular to <math>CD</math>. It then follows that <math>ZT = a-84</math>. Since <math>NYU</math> and <math>UZT</math> are [[similar]],\n\n<math>\\frac {x}{a-84} = \\frac {63\\sqrt{3}}{21} = 3\\sqrt{3}</math>\n\nGiven that line <math>NT</math> divides <math>R</math> into a ratio of <math>1:2</math>, we can also say that\n\n<math>(x)(\\frac{84+a}{2}) + \\frac {126^2\\pi}{6} - (63)(21)(\\sqrt{3}) = (\\frac{1}{3})(252x + \\frac{126^2\\pi}{2})</math>\n\nwhere the first term is the area of trapezoid <math>AUTD</math>, the second and third terms denote the areas of <math>\\frac{1}{6}</math> a full circle, and the area of <math>NUO</math>, respectively, and the fourth term on the right side of the equation is equal to <math>R</math>. Cancelling out the <math>\\frac{126^2\\pi}{6}</math> on both sides, we obtain\n\n<math>(x)(\\frac{84+a}{2}) - \\frac{252x}{3} = (63)(21)(\\sqrt{3})</math>\n\nBy adding and collecting like terms,\n<math>\\frac{3ax - 252x}{6} = (63)(21)(\\sqrt{3})</math>\n\n<math>\\frac{(3x)(a-84)}{6} = (63)(21)(\\sqrt{3})</math>.\n\nSince <math>a - 84 = \\frac{x}{3\\sqrt{3}}</math>,\n\n<math>\\frac {(3x)(\\frac{x}{3\\sqrt{3}})}{6} = (63)(21)(\\sqrt{3})</math>\n\n<math>\\frac {x^2}{\\sqrt{3}} = (63)(126)(\\sqrt{3})</math>\n\n<math>x^2 = (63)(126)(3) = (2)(3^5)(7^2)</math>\n\n<math>x = AD = (7)(3^2)(\\sqrt{6}) = 63\\sqrt{6}</math>, so the answer is <math>\\boxed{069}.</math>\n\n\n=== Solution 3 ===\n\nNote that the total area of <math> \\mathcal{R} </math> is <math>252DA + \\frac {126^2 \\pi}{2}</math> and thus one of the regions has area <math>84DA + \\frac {126^2 \\pi}{6}</math>\n\nAs in the above solutions we discover that <math>\\angle AON = 60^\\circ</math>, thus sector <math>ANO</math> of the semicircle has <math>\\frac{1}{3}</math> of the semicircle's area.\n\nSimilarly, dropping the <math>N'T'</math> perpendicular we observe that <math>[AN'T'D] = 84DA</math>, which is <math>\\frac{1}{3}</math> of the total rectangle.\n\nDenoting the region to the left of <math>\\overline {NT}</math> as <math>\\alpha</math> and to the right as <math>\\beta</math>, it becomes clear that if <math>[\\triangle UT'T] = [\\triangle NUO]</math> then the regions will have the desired ratio.\n\nUsing the 30-60-90 triangle, the slope of <math>NT</math>, is <math>{-3\\sqrt{3}}</math>, and thus <math>[\\triangle UT'T] = \\frac {DA^2}{6\\sqrt{3}}</math>.\n\n<math>[NUO]</math> is most easily found by <math>\\frac{absin(c)}{2}</math>: <math>[\\triangle NUO] = \\frac {126*42 * \\frac {\\sqrt{3}}{2}}{2}</math>\n\nEquating, <math>\\frac {126*42 * \\frac {\\sqrt{3}}{2}}{2} = \\frac {DA^2}{6\\sqrt{3}}</math>\n\nSolving, <math> 63 * 21 * 3 * 6 = DA^2</math>\n\n<math>DA = 63 \\sqrt{6} \\longrightarrow \\boxed {069}</math>\n\n=== Solution 4 (Coordinates) ===\nLike above solutions, note that <math>ANO</math> is equilateral with side length <math>126,</math> where <math>O</math> is the midpoint of <math>AB.</math> Then, if we let <math>DA=a</math> and set origin at <math>D=(0,0),</math> we get <math>N=(63,a+63\\sqrt{3}), U=(84,a).</math> Line <math>NU</math> is then <math>y-a=\\sqrt{27}(x-84),</math> so it intersects <math>CA,</math> the <math>x</math>-axis, at <math>x=(a/\\sqrt{27}+84),</math> giving us point <math>T.</math> Now the area of region <math>R</math> is <math>252a+\\pi(126)^2 / 2,</math> so one third of that is <math>84a+\\pi(126)^2 / 6.</math>\n\nThe area of the smaller piece of <math>R</math> is <math>[AUTD] + [ANU] + [\\text{lune} AN] = \\frac{1}{2} \\cdot a(84+\\frac{a}{\\sqrt{27}}+84)+\\frac{1}{2} \\cdot 84 \\cdot 63 \\sqrt{3}+ \\frac{\\pi (126)^2}{6}-\\frac{1}{2} \\cdot 126 \\cdot 63 \\sqrt{2}</math>\n<math>=\\frac{a^2}{2\\sqrt{27}}+84a-21\\cdot 63\\sqrt{2} + \\frac{\\pi(126)^2}{6}.</math>\nSetting this equal to <math>84a+\\pi(126)^2 / 6</math> and canceling the <math>84a + \\pi(126)^2</math> yields\n<math>\\frac{a^2}{2\\sqrt{27}}=21 \\cdot 63 \\sqrt{3},</math> so <math>a = 63 \\sqrt{6}</math> and the anser is <math>\\boxed{069}.</math>\n~ rzlng\n\n=== Solution 5 (Minimal calculation) ===\n\nOnce we establish that <math>\\Delta ANO</math> is equilateral, we have \n<cmath>[{\\rm Sector } BON] = 2[{\\rm Sector } AON],  [BCT'U]=2[ADT'U]</cmath>\n<cmath>\\Rightarrow [\\overset{\\large\\frown}{NB} CT'UO]=2[\\overset{\\large\\frown}{NA} DT'UO]</cmath>\nOn the other hand,\n<cmath>[\\overset{\\large\\frown}{NB} CT]=2[\\overset{\\large\\frown}{NA} DT]</cmath>\nTherefore, <math>[UT'T]=[NUO]</math>. \n\nNow, <math>UO=42, NU=21 \\Rightarrow [UT'T]=[NUO]=2[NN'U]</math>. Also <math>\\Delta UT'T \\sim \\Delta NN'U</math>. Therefore,\n<cmath>DA=UT'=\\sqrt{2} NN'=\\sqrt{2} \\left(\\frac{\\sqrt{3}}{2}\\cdot 126\\right)=63\\sqrt{6}\\longrightarrow \\boxed {069}</cmath>\n\n~asops"
  },
  {
    "year": 2010,
    "variant": "I",
    "problem_number": 14,
    "latex": "For each positive integer <math>n</math>, let <math>f(n) = \\sum_{k = 1}^{100} \\lfloor \\log_{10} (kn) \\rfloor</math>. Find the largest value of <math>n</math> for which <math>f(n) \\le 300</math>.\n\n'''Note:''' <math>\\lfloor x \\rfloor</math> is the greatest integer less than or equal to <math>x</math>.",
    "solution": "Observe that <math>f</math> is strictly increasing in <math>n</math>. We realize that we need <math>100</math> terms to add up to around <math>300</math>, so we need some sequence of <math>2</math>s, <math>3</math>s, and then <math>4</math>s.\n\nIt follows that <math>n \\approx 100</math> (alternatively, use binary search to get to this, with <math>n\\le 1000</math>). Manually checking shows that <math>f(109) = 300</math> and <math>f(110) > 300</math>. Thus, our answer is <math>\\boxed{109}</math>."
  },
  {
    "year": 2010,
    "variant": "I",
    "problem_number": 15,
    "latex": "In <math>\\triangle{ABC}</math> with <math>AB = 12</math>, <math>BC = 13</math>, and <math>AC = 15</math>, let <math>M</math> be a point on <math>\\overline{AC}</math> such that the [[incircle]]s of <math>\\triangle{ABM}</math> and <math>\\triangle{BCM}</math> have equal [[inradius|radii]]. Then <math>\\frac{AM}{CM} = \\frac{p}{q}</math>, where <math>p</math> and <math>q</math> are relatively prime positive integers. Find <math>p + q</math>.",
    "solution": "<center><asy> /* from geogebra: see azjps, userscripts.org/scripts/show/72997 */\nimport graph; defaultpen(linewidth(0.7)+fontsize(10)); size(200);\n\n  /* segments and figures */\ndraw((0,0)--(15,0));\ndraw((15,0)--(6.66667,9.97775));\ndraw((6.66667,9.97775)--(0,0));\ndraw((7.33333,0)--(6.66667,9.97775));\ndraw(circle((4.66667,2.49444),2.49444));\ndraw(circle((9.66667,2.49444),2.49444));\ndraw((4.66667,0)--(4.66667,2.49444));\ndraw((9.66667,2.49444)--(9.66667,0));\n\n  /* points and labels */\nlabel(\"r\",(10.19662,1.92704),SE);\nlabel(\"r\",(5.02391,1.8773),SE);\ndot((0,0));\nlabel(\"$A$\",(-1.04408,-0.60958),NE);\ndot((15,0));\nlabel(\"$C$\",(15.41907,-0.46037),NE);\ndot((6.66667,9.97775));\nlabel(\"$B$\",(6.66525,10.23322),NE);\nlabel(\"$15$\",(6.01866,-1.15669),NE);\nlabel(\"$13$\",(11.44006,5.50815),NE);\nlabel(\"$12$\",(2.28834,5.75684),NE);\ndot((7.33333,0));\nlabel(\"$M$\",(7.56053,-1.000),NE);\nlabel(\"$H_1$\",(3.97942,-1.200),NE);\nlabel(\"$H_2$\",(9.54741,-1.200),NE);\ndot((4.66667,2.49444));\nlabel(\"$I_1$\",(3.97942,2.92179),NE);\ndot((9.66667,2.49444));\nlabel(\"$I_2$\",(9.54741,2.92179),NE);\nclip((-3.72991,-6.47862)--(-3.72991,17.44518)--(32.23039,17.44518)--(32.23039,-6.47862)--cycle);\n</asy></center>\n=== Solution 1 ===\nLet <math>AM = x</math>, then <math>CM = 15 - x</math>. Also let <math>BM = d</math> Clearly, <math>\\frac {[ABM]}{[CBM]} = \\frac {x}{15 - x}</math>. We can also express each area by the rs formula. Then <math>\\frac {[ABM]}{[CBM]} = \\frac {p(ABM)}{p(CBM)} = \\frac {12 + d + x}{28 + d - x}</math>. Equating and cross-multiplying yields <math>25x + 2dx = 15d + 180</math> or <math>d = \\frac {25x - 180}{15 - 2x}.</math> Note that for <math>d</math> to be positive, we must have <math>7.2 < x < 7.5</math>.\n\nBy [[Stewart's Theorem]], we have <math>12^2(15 - x) + 13^2x = d^215 + 15x(15 - x)</math> or <math>432 = 3d^2 + 40x - 3x^2.</math> Brute forcing by plugging in our previous result for <math>d</math>, we have <math>432 = \\frac {3(25x - 180)^2}{(15 - 2x)^2} + 40x - 3x^2.</math> Clearing the fraction and gathering like terms, we get <math>0 = 12x^4 - 340x^3 + 2928x^2 - 7920x.</math>\n\n''Aside: Since <math>x</math> must be rational in order for our answer to be in the desired form, we can use the [[Rational Root Theorem]] to reveal that <math>6x</math> is an integer because we can divide the polynomial by <math>2</math>. The only such <math>x</math> in the above-stated range is <math>\\frac {22}3</math>.''\n\nLegitimately solving that quartic, note that <math>x = 0</math> and <math>x = 15</math> should clearly be solutions, corresponding to the sides of the triangle and thus degenerate cevians. Factoring those out, we get <math>0 = 4x(x - 15)(3x^2 - 40x + 132) = x(x - 15)(x - 6)(3x - 22).</math> The only solution in the desired range is thus <math>\\frac {22}3</math>. Then <math>CM = \\frac {23}3</math>, and our desired ratio <math>\\frac {AM}{CM} = \\frac {22}{23}</math>, giving us an answer of <math>\\boxed{045}</math>.\n\n=== Solution 2 ===\nLet <math>AM = 2x</math> and <math>BM = 2y</math> so <math>CM = 15 - 2x</math>. Let the [[incenter]]s of <math>\\triangle ABM</math> and <math>\\triangle BCM</math> be <math>I_1</math> and <math>I_2</math> respectively, and their equal inradii be <math>r</math>. From <math>r = \\sqrt {(s - a)(s - b)(s - c)}/s</math>, we find that\n\n<cmath>\\begin{align*}r^2 & = \\frac {(x + y - 6)( - x + y + 6)(x - y + 6)}{x + y + 6} & (1) \\\\\n& = \\frac {( - x + y + 1)(x + y - 1)( - x - y + 14)}{ - x + y + 14}. & (2) \\end{align*}</cmath>\n\nLet the incircle of <math>\\triangle ABM</math> meet <math>AM</math> at <math>P</math> and the incircle of <math>\\triangle BCM</math> meet <math>CM</math> at <math>Q</math>. Then note that <math>I_1 P Q I_2</math> is a rectangle. Also, <math>\\angle I_1 M I_2</math> is right because <math>MI_1</math> and <math>MI_2</math> are the angle bisectors of <math>\\angle AMB</math> and <math>\\angle CMB</math> respectively and <math>\\angle AMB + \\angle CMB = 180^\\circ</math>. By properties of [[tangent (geometry)|tangents]] to [[circle]]s <math>MP = (MA + MB - AB)/2 = x + y - 6</math> and <math>MQ = (MB + MC - BC)/2 = - x + y + 1</math>. Now notice that the altitude of <math>M</math> to <math>I_1 I_2</math> is of length <math>r</math>, so by similar triangles we find that <math>r^2 = MP \\cdot MQ = (x + y - 6)( - x + y + 1)</math> (3). Equating (3) with (1) and (2) separately yields\n\n<cmath>\\begin{align*}\n2y^2 - 30 = 2xy + 5x - 7y \\\\\n 2y^2 - 70 = - 2xy - 5x + 7y, \\end{align*}\n</cmath>\n\nand adding these we have\n\n<cmath>\n4y^2 - 100 = 0\\implies y = 5\\implies x = 11/3 \\\\\n\\implies AM/MC = (22/3)/(15 - 22/3) = 22/23 \\implies \\boxed{045}.\n</cmath>\n\n=== Solution 3 ===\nLet the incircle of <math>ABM</math> hit <math>AM</math>, <math>AB</math>, <math>BM</math> at <math>X_{1},Y_{1},Z_{1}</math>, and let the incircle of <math>CBM</math> hit <math>MC</math>, <math>BC</math>, <math>BM</math> at <math>X_{2},Y_{2},Z_{2}</math>. Draw the incircle of <math>ABC</math>, and let it be tangent to <math>AC</math> at <math>X</math>. Observe that we have a homothety centered at A sending the incircle of <math>ABM</math> to that of <math>ABC</math>, and one centered at <math>C</math> taking the incircle of <math>BCM</math> to that of <math>ABC</math>. These have the same power, since they take incircles of the same size to the same circle. Also, the power of the homothety is <math>AX_{1}/AX=CX_{2}/CX</math>.\n\nBy standard computations, <math>AX=\\dfrac{AB+AC-BC}{2}=7</math> and <math>CX=\\dfrac{BC+AC-AB}{2}=8</math>. Now, let <math>AX_{1}=7x</math> and <math>CX_{2}=8x</math>. We will now go around and chase lengths. Observe that <math>BY_{1}=BA-AY_{1}=BA-AX_{1}=12-7x</math>. Then, <math>BZ_{1}=12-7x</math>. We also have <math>CY_{2}=CX_{2}=8x</math>, so <math>BY_{2}=13-8x</math> and <math>BZ_{2}=13-8x</math>.\n\nObserve now that <math>X_{1}M+MX_{2}=AC-15x=15(1-x)</math>. Also,<math>X_{1}M-MX_{2}=MZ_{1}-MZ_{2}=BZ_{2}-BZ_{1}=BY_{2}-BY_{1}=(1-x)</math>. Solving, we get <math>X_{1}M=8-8x</math> and <math>MX_{2}=7-7x</math> (as a side note, note that <math>AX_{1}+MX_{2}=X_{1}M+X_{2}C</math>, a result that I actually believe appears in Mandelbrot 1995-2003, or some book in that time-range).\n\nNow, we get <math>BM=BZ_{2}+Z_{2}M=BZ_{2}+MX_{2}=20-15x</math>. To finish, we will compute area ratios. <math>\\dfrac{[ABM]}{[CBM]}=\\dfrac{AM}{MC}=\\dfrac{8-x}{7+x}</math>. Also, since their inradii are equal, we get <math>\\dfrac{[ABM]}{[CBM]}=\\dfrac{40-16x}{40-14x}</math>. Equating and cross multiplying yields the quadratic <math>3x^{2}-8x+4=0</math>, so <math>x=2/3,2</math>. However, observe that <math>AX_{1}+CX_{2}=15x<15</math>, so we take <math>x=2/3</math>. Our ratio is therefore <math>\\dfrac{8-2/3}{7+2/3}=\\dfrac{22}{23}</math>, giving the answer <math>\\boxed{045}</math>.\n\nNote: Once we have <math>MX_1=8-8x</math> and <math>MX_2=7-7x</math>, it's bit easier to use use the right triangle of <math>O_1MO_2</math> than chasing the area ratio. The inradius of <math>\\triangle{ABC}</math> can be calculated to be <math>r=\\sqrt{14}</math>, and the inradius of <math>ABM</math> and <math>ACM</math> are <math>r_1=r_2= xr</math>, so, \n<cmath> O_1O_2^2 = O_1M^2 + O_2M^2 = r_1^2+X_1M^2 + r_2^2 + X_2M^2</cmath>\nor,\n<cmath> (15(1-x))^2 = 2(\\sqrt{14}x)^2 + (7(1-x))^2 + (8(1-x))^2 </cmath>\n<cmath>112(1-x)^2 = 28x^2</cmath>\n<cmath>4(1-x)^2 = x^2</cmath>\nWe get <math>x=\\frac{2}{3}</math> or <math>x=2</math>.\n\n=== Solution 4 ===\nSuppose the incircle of <math>ABM</math> touches <math>AM</math> at <math>X</math>, and the incircle of <math>CBM</math> touches <math>CM</math> at <math>Y</math>. Then\n\n<cmath>r = AX \\tan(A/2) = CY \\tan(C/2)</cmath>\n\nWe have <math>\\cos A = \\frac{12^2+15^2-13^2}{2\\cdot 12\\cdot 15} = \\frac{200}{30\\cdot 12}=\\frac{5}{9}</math>, <math>\\tan(A/2) = \\sqrt{\\frac{1-\\cos A}{1+\\cos A}} = \\sqrt{\\frac{9-5}{9+5}} = \\frac{2}{\\sqrt{14}}</math>\n\n<math>\\cos C = \\frac{13^2+15^2-12^2}{2\\cdot 13\\cdot 15} = \\frac{250}{30\\cdot 13} = \\frac{25}{39}</math>, <math>\\tan(C/2) = \\sqrt{\\frac{39-25}{39+25}}=\\frac{\\sqrt{14}}{8}</math>,\n\nTherefore <math>AX/CY = \\tan(C/2)/\\tan(A/2) = \\frac{14}{2\\cdot 8}= \\frac{7}{8}.</math>\n\nAnd since <math>AX=\\frac{1}{2}(12+AM-BM)</math>, <math>CY = \\frac{1}{2}(13+CM-BM)</math>, \n\n<cmath> \\frac{12+AM-BM}{13+CM-BM} = \\frac{7}{8}</cmath>\n\n<cmath> 96+8AM-8BM = 91 +7CM-7BM</cmath>\n\n<cmath>BM= 5 + 8AM-7CM = 5 + 15AM - 7(CM+AM) = 5+15(AM-7) \\dots\\dots (1)</cmath>\n\nNow,\n\n<math>\\frac{AM}{CM} = \\frac{[ABM]}{[CBM]} = \\frac{\\frac{1}{2}(12+AM+BM)r}{\\frac{1}{2}(13+CM+BM)r}=\\frac{12+AM+BM}{13+CM+BM}= \\frac{12+BM}{13+BM} = \\frac{17+15(AM-7)}{18+15(AM-7)}</math>\n\n<cmath>\\frac{AM}{15} = \\frac{17+15(AM-7)}{35+30(AM-7)} = \\frac{15AM-88}{30AM-175}</cmath>\n<cmath>6AM^2 - 35AM = 45AM-264</cmath>\n<cmath>3AM^2 -40AM+132=0</cmath>\n<cmath>(3AM-22)(AM-6)=0</cmath>\n\nSo <math>AM=22/3</math> or <math>6</math>. But from (1) we know that <math>5+15(AM-7)>0</math>, or <math>AM>7-1/3>6</math>, so <math>AM=22/3</math>, <math>CM=15-22/3=23/3</math>, <math>AM/CM=22/23</math>.\n\n=== Solution 5 ===\n\nLet the common inradius equal r, <math>BM = x</math>, <math>AM = y</math>, <math>MC = z</math>\n\nFrom the prespective of <math>\\triangle{ABM}</math> and <math>\\triangle{BMC}</math> we get:\n\n<math>S_{ABM} = rs = r \\cdot (\\frac{12+x+y}{2})</math>   <math>S_{BMC} = rs = r \\cdot (\\frac{13+x+z}{2})</math>\n\nAdd two triangles up, we get <math>\\triangle{ABC}</math> :\n\n<math>S_{ABC} =  S_{ABM} +  S_{BMC} = r \\cdot \\frac{25+2x+y+z}{2}</math>\n\nSince <math>y + z = 15</math>, we get:\n\n <math>r = \\frac{S_{ABC}}{20 + x}</math>\n\nBy drawing an altitude from <math>I_1</math> down to a point <math>H_1</math> and from <math>I_2</math> to <math>H_2</math>, we can get:\n\n<math>r \\cdot cot(\\frac{\\angle A}{2}) =r \\cdot A H_1 = r \\cdot \\frac{12+y-x}{2} </math>  and\n\n<math>r \\cdot cot(\\frac{\\angle C}{2}) = r \\cdot H_2 C =  r \\cdot \\frac{13+z-x}{2}</math>\n\nAdding these up, we get:\n\n<math>r \\cdot (cot(\\frac{\\angle A}{2})+cot(\\frac{\\angle C}{2})) = \\frac{25+y+z-2x}{2} = \\frac{40-2x}{2} = 20-x</math>\n\n <math>r = \\frac{20-x}{cot(\\frac{\\angle A}{2})+cot(\\frac{\\angle C}{2})}</math>\n\nNow, we have 2 values equal to r, we can set them equal to each other:\n\n <math>\\frac{S_{ABC}}{20 + x} = \\frac{20-x}{cot(\\frac{\\angle A}{2})+cot(\\frac{\\angle C}{2})}</math> \n\nIf we let R denote the incircle of ABC, note:\n\nAC = <math>(cot(\\frac{\\angle A}{2})+cot(\\frac{\\angle C}{2})) \\cdot R = 15</math> and\n\n<math>S_{ABC} = \\frac{12+13+15}{2} \\cdot R = 20 \\cdot R</math>. \n\nBy cross multiplying the equation above, we get:\n\n <math>400 - x^2 = (cot(\\frac{\\angle A}{2})+cot(\\frac{\\angle C}{2})) \\cdot S_{ABC} = (cot(\\frac{\\angle A}{2})+cot(\\frac{\\angle C}{2})) \\cdot R \\cdot 20 = 15 \\cdot 20 = 300</math>\n\nWe can find out x:\n\n <math>x = 10</math>.\n\nNow, we can find ratio of y and z:\n\n <math>\\frac{AM}{CM} = \\frac{y}{z} = \\frac{S_{ABM}}{S_{BCM}} = \\frac{r \\cdot \\frac{22+y}{2} }{r \\cdot \\frac{23+z}{2}} = \\frac{22+y}{23+z} = \\frac{22}{23}</math> \n\nThe answer is <math>\\boxed{045}</math>. \n\n-Alexlikemath\n\n=== Solution 6 (Similar to Solution 1 with easier computation) ===\n\nLet <math>CM=x, AM=rx, BM=d</math>. <math>x+rx=15\\Rightarrow x=\\frac{15}{1+r}</math>.\n\nSimilar to Solution 1, we have \n<cmath>\nr=\\frac{[AMB]}{[CMB]}=\\frac{12+rx+d}{13+x+d} \\Rightarrow d=\\frac{13r-12}{1-r}\n</cmath>\nas well as\n<cmath>\n12^2\\cdot x + 13^2 rx=15x\\cdot rx+15d^2 (\\text{via Stewart's Theorem})\n</cmath>\n<cmath>\n\\frac{(12^2 + 13^2r) \\cdot 15}{1+r} - \\frac{15r\\cdot 15^2}{(1+r)^2}=\\frac{15(13r-12)^2}{(1-r)^2}\n</cmath>\n<cmath>\n\\frac{169r^2+88r+144}{(1+r)^2}=\\frac{(13r-12)^2}{(1-r)^2} =\\frac{169r^2-312r+144}{(1-r)^2} =\\frac{400r}{4r}=100\n</cmath>\n(here we used the fact that if <math>\\frac{a}{b} = \\frac{c}{d} = k,</math> then <math>\\frac{a-c}{b-d}=k</math> as well.)\n\nNotice <math> \\frac{12}{13} < r < 1</math>, so <math>\\frac{13r-12}{1-r} = 10</math> and <math>\\boxed{r = \\frac{22}{23}}.</math>\n\n~ asops\n\n=== Solution 7 (No Stewart's or trig, fast + clever) ===\n\nLet <math>BM = d, AM = x, CM = 15 - x</math>. Observe that we have the equation by the incircle formula:\n<cmath>\\frac{[ABM]}{12 + AM + MB} = \\frac{[CBM]}{13 + CM + MB} \\implies \\frac{AM}{CM} = \\frac{12 + MB}{13 + MB} \\implies \\frac{x}{15 - x} = \\frac{12 + d}{13 + d}.</cmath>\nNow let <math>X</math> be the point of tangency between the incircle of <math>\\triangle ABC</math> and <math>AC</math>. Additionally, let <math>P</math> and <math>Q</math> be the points of tangency between the incircles of <math>\\triangle ABM</math> and <math>\\triangle CBM</math> with <math>AC</math> respectively. Some easy calculation yields <math>AX = 7, CX = 8</math>. By homothety we have\n<cmath>\\frac{AP}{7} = \\frac{CQ}{8} \\implies 8(AP) = 7(CQ) \\implies 8(12 + x - d) = 7(13 + 15 - x - d) \\implies d = 15x - 100.</cmath>\nSubstituting into the first equation derived earlier it is left to solve\n<cmath>\\frac{x}{15 - x} = \\frac{15x - 88}{15x - 87} \\implies 3x^2 - 40x + 132 \\implies (x - 6)(3x - 22) = 0.</cmath>\nNow <math>x = 6</math> yields <math>d = -10</math> which is invalid, hence <math>x = \\frac{22}{3}</math> so <math>\\frac{AM}{CM} = \\frac{\\frac{22}{3}}{15 - \\frac{22}{3}} = \\frac{22}{23}.</math> The requested sum is <math>22 + 23 = \\boxed{45}</math>. ~blueprimes"
  },
  {
    "year": 2010,
    "variant": "II",
    "problem_number": 1,
    "latex": "Let <math>N</math> be the greatest integer multiple of <math>36</math> all of whose digits are even and no two of whose digits are the same. Find the remainder when <math>N</math> is divided by <math>1000</math>.",
    "solution": "If an integer is divisible by <math>36</math>, it must also be divisible by <math>9</math> since <math>9</math> is a factor of <math>36</math>. It is a well-known fact that, if <math>N</math> is divisible by <math>9</math>, the sum of the digits of <math>N</math> is a multiple of <math>9</math>. Hence, if <math>N</math> contains all the even digits, the sum of the digits would be <math>0 + 2 + 4 + 6 + 8 = 20</math>, which is not divisible by <math>9</math> and thus <math>36</math>.\nThe next logical try would be <math>8640</math>, which happens to be divisible by <math>36</math>. Thus, <math>N = 8640 \\equiv \\boxed{640} \\pmod {1000}</math>."
  },
  {
    "year": 2010,
    "variant": "II",
    "problem_number": 2,
    "latex": "== Problem 2 ==\nA point <math>P</math> is chosen at random in the interior of a unit square <math>S</math>. Let <math>d(P)</math> denote the distance from <math>P</math> to the closest side of <math>S</math>. The probability that <math>\\frac{1}{5}\\le d(P)\\le\\frac{1}{3}</math> is equal to <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "Any point outside the square with side length <math>\\frac{1}{3}</math> that has the same center and orientation as the unit square and inside the square with side length <math>\\frac{3}{5}</math> that has the same center and orientation as the unit square has <math>\\frac{1}{5}\\le d(P)\\le\\frac{1}{3}</math>.\n\n<center><asy>\nunitsize(1mm);\ndefaultpen(linewidth(.8pt));\n\ndraw((0,0)--(0,30)--(30,30)--(30,0)--cycle);\ndraw((6,6)--(6,24)--(24,24)--(24,6)--cycle);\ndraw((10,10)--(10,20)--(20,20)--(20,10)--cycle);\nfill((6,6)--(6,24)--(24,24)--(24,6)--cycle,gray);\nfill((10,10)--(10,20)--(20,20)--(20,10)--cycle,white);\n\n</asy></center>\n\nSince the area of the unit square is <math>1</math>, the probability of a point <math>P</math> with <math>\\frac{1}{5}\\le d(P)\\le\\frac{1}{3}</math> is the area of the shaded region, which is the difference of the area of two squares.\n\n<math>\\left(\\frac{3}{5}\\right)^2-\\left(\\frac{1}{3}\\right)^2=\\frac{9}{25}-\\frac{1}{9}=\\frac{56}{225}</math>\n\nThus, the answer is <math>56 + 225 = \\boxed{281}.</math>"
  },
  {
    "year": 2010,
    "variant": "II",
    "problem_number": 3,
    "latex": "Let <math>K</math> be the product of all factors <math>(b-a)</math> (not necessarily distinct) where <math>a</math> and <math>b</math> are integers satisfying <math>1\\le a < b \\le 20</math>. Find the greatest positive [[integer]] <math>n</math> such that <math>2^n</math> divides <math>K</math>.",
    "solution": "In general, there are <math>20-n</math> pairs of integers <math>(a, b)</math> that differ by <math>n</math> because we can let <math>b</math> be any integer from <math>n+1</math> to <math>20</math> and set <math>a</math> equal to <math>b-n</math>. Thus, the product is <math>(1^{19})(2^{18})\\cdots(19^1)</math> (or alternatively, <math>19! \\cdot 18! \\cdots 1!</math>.)\n\nWhen we count the number of factors of <math>2</math>, we have 4 groups, factors that are divisible by <math>2</math> at least once, twice, three times and four times.\n\n<br/>\n\n*Numbers that are divisible by <math>2</math> at least once: <math>2, 4, \\cdots, 18</math>\n\n:Exponent corresponding to each one of them <math>18, 16, \\cdots 2</math>\n\n:Sum <math>=2+4+\\cdots+18=\\frac{(20)(9)}{2}=90</math>\n<br/>\n\n*Numbers that are divisible by <math>2</math> at least twice: <math>4, 8, \\cdots, 16</math>\n\n:Exponent corresponding to each one of them <math>16, 12, \\cdots 4</math>\n\n:Sum <math>=4+8+\\cdots+16=\\frac{(20)(4)}{2}=40</math> \n\n<br/>\n\n*Numbers that are divisible by <math>2</math> at least three times: <math>8,16</math>\n\n:Exponent corresponding to each one of them <math>12, 4</math>\n\n:Sum <math>=12+4=16</math> \n\n<br/>\n\n*Number that are divisible by <math>2</math> at least four times: <math>16</math>\n\n:Exponent corresponding to each one of them <math>4</math>\n\n:Sum <math>=4</math> \n\n<br/>\n\nSumming these give an answer of <math>\\boxed{150}</math>."
  },
  {
    "year": 2010,
    "variant": "II",
    "problem_number": 4,
    "latex": "Dave arrives at an airport which has twelve gates arranged in a straight line with exactly <math>100</math> feet between adjacent gates. His departure gate is assigned at random. After waiting at that gate, Dave is told the departure gate has been changed to a different gate, again at random. Let the [[probability]] that Dave walks <math>400</math> feet or less to the new gate be a fraction <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are [[relatively prime]] positive integers. Find <math>m+n</math>.",
    "solution": "===Solution 1===\nThere are <math>12 \\cdot 11 = 132</math> possible situations (<math>12</math> choices for the initially assigned gate, and <math>11</math> choices for which gate Dave's flight was changed to). We are to count the situations in which the two gates are at most <math>400</math> feet apart.\n\nIf we number the gates <math>1</math> through <math>12</math>, then gates <math>1</math> and <math>12</math> have four other gates within <math>400</math> feet, gates <math>2</math> and <math>11</math> have five, gates <math>3</math> and <math>10</math> have six, gates <math>4</math> and <math>9</math> have have seven, and gates <math>5</math>, <math>6</math>, <math>7</math>, <math>8</math> have eight. Therefore, the number of valid gate assignments is <cmath>2\\cdot(4+5+6+7)+4\\cdot8 = 2 \\cdot 22 + 4 \\cdot 8 = 76</cmath> so the probability is <math>\\frac{76}{132} = \\frac{19}{33}</math>. The answer is <math>19 + 33 = \\boxed{052}</math>.\n\n===Solution 2===\nAs before, derive that there are <math>132</math> possibilities for Dave's original and replacement gates.\n\nNow suppose that Dave has to walk <math>100k</math> feet to get to his new gate.  This means that Dave's old and new gates must be <math>k</math> gates apart.  (For example, a <math>100</math> foot walk would consist of the two gates being adjacent to each other.)  There are <math>12-k</math> ways to pick two gates which are <math>k</math> gates apart, and <math>2</math> possibilities for gate assignments, for a total of <math>2(12-k)</math> possible assignments for each <math>k</math>.\n\nAs a result, the total number of valid gate arrangements is <cmath>2\\cdot 11 + 2\\cdot 10 + 2\\cdot 9 + 2\\cdot 8 = 76</cmath> and so the requested probability is <math>\\tfrac{19}{33}</math> for a final answer of <math>\\boxed{052}</math>."
  },
  {
    "year": 2010,
    "variant": "II",
    "problem_number": 5,
    "latex": "Positive numbers <math>x</math>, <math>y</math>, and <math>z</math> satisfy <math>xyz = 10^{81}</math> and <math>(\\log_{10}x)(\\log_{10} yz) + (\\log_{10}y) (\\log_{10}z) = 468</math>. Find <math>\\sqrt {(\\log_{10}x)^2 + (\\log_{10}y)^2 + (\\log_{10}z)^2}</math>.",
    "solution": "Using the properties of logarithms, <math>\\log_{10}xyz = 81</math> by taking the log base 10 of both sides, and <math>(\\log_{10}x)(\\log_{10}y) + (\\log_{10}x)(\\log_{10}z) + (\\log_{10}y)(\\log_{10}z)= 468</math> by using the fact that <math>\\log_{10}ab = \\log_{10}a + \\log_{10}b</math>. \n\nThrough further simplification, we find that <math>\\log_{10}x+\\log_{10}y+\\log_{10}z = 81</math>. It can be seen that there is enough information to use the formula <math>\\ (a+b+c)^{2} = a^{2}+b^{2}+c^{2}+2ab+2ac+2bc</math>, as we have both <math>\\ a+b+c</math> and <math>\\ 2ab+2ac+2bc</math>, and we want to find <math>\\sqrt {a^2 + b^2 + c^2}</math>. \n\nAfter plugging in the values into the equation, we find that <math>\\ (\\log_{10}x)^2 + (\\log_{10}y)^2 + (\\log_{10}z)^2</math> is equal to <math>\\ 6561 - 936 = 5625</math>. \n\nHowever, we want to find <math>\\sqrt {(\\log_{10}x)^2 + (\\log_{10}y)^2 + (\\log_{10}z)^2}</math>, so we take the square root of <math>\\ 5625</math>, or <math>\\boxed{075}</math>."
  },
  {
    "year": 2010,
    "variant": "II",
    "problem_number": 6,
    "latex": "Find the smallest positive integer <math>n</math> with the property that the [[polynomial]] <math>x^4 - nx + 63</math> can be written as a product of two nonconstant polynomials with integer coefficients.",
    "solution": "You can factor the polynomial into two quadratic factors or a linear and a cubic factor.\n\nFor two quadratic factors, let <math>x^2+ax+b</math> and <math>x^2+cx+d</math> be the two quadratics, so that\n\n<cmath>(x^2 + ax + b )(x^2 + cx + d) = x^4 + (a + c)x^3 + (b + d + ac)x^2 + (ad + bc)x + bd.</cmath>\n\nTherefore, again setting coefficients equal, <math>a + c = 0\\Longrightarrow a=-c</math>, <math>b + d + ac = 0\\Longrightarrow b+d=a^2</math> , <math>ad + bc = - n</math>, and so <math>bd = 63</math>.\n\nSince <math>b+d=a^2</math>, the only possible values for <math>(b,d)</math> are <math>(1,63)</math> and <math>(7,9)</math>. From this we find that the possible values for <math>n</math> are <math>\\pm 8 \\cdot 62</math> and <math>\\pm 4 \\cdot 2</math>. \n\nFor the case of one linear and one cubic factor, doing a similar expansion and matching of the coefficients gives the smallest <math>n</math> in that case to be <math>48</math>. \n\nTherefore, the answer is <math>4 \\cdot 2 = \\boxed{008}</math>."
  },
  {
    "year": 2010,
    "variant": "II",
    "problem_number": 7,
    "latex": "<!-- don't remove the following tag, for PoTW on the Wiki front page--><onlyinclude>Let <math>P(z)=z^3+az^2+bz+c</math>, where <math>a</math>, <math>b</math>, and <math>c</math> are real. There exists a complex number <math>w</math> such that the three roots of <math>P(z)</math> are <math>w+3i</math>, <math>w+9i</math>, and <math>2w-4</math>, where <math>i^2=-1</math>. Find <math>|a+b+c|</math>.<!-- don't remove the following tag, for PoTW on the Wiki front page--></onlyinclude>",
    "solution": "Set <math>w=x+yi</math>, so <math>x_1 = x+(y+3)i</math>, <math>x_2 = x+(y+9)i</math>, <math>x_3 = 2x-4+2yi</math>.\n\nSince <math>a,b,c\\in{R}</math>, the imaginary part of <math>a,b,c</math> must be <math>0</math>.\n\nStart with a, since it's the easiest one to do: <math>y+3+y+9+2y=0, y=-3</math>,\n\nand therefore: <math>x_1 = x</math>, <math>x_2 = x+6i</math>, <math>x_3 = 2x-4-6i</math>.\n\nNow, do the part where the imaginary part of c is 0 since it's the second easiest one to do: \n<math>x(x+6i)(2x-4-6i)</math>. The imaginary part is <math>6x^2-24x</math>, which is 0, and therefore <math>x=4</math>, since <math>x=0</math> doesn't work.\n\nSo now, <math>x_1 = 4, x_2 = 4+6i, x_3 = 4-6i</math>,\n\nand therefore: <math>a=-12, b=84, c=-208</math>. Finally, we have <math>|a+b+c|=|-12+84-208|=\\boxed{136}</math>.\n\n=== Solution 1b ===\n\nSame as solution 1 except that when you get to <math>x_1 = x</math>, <math>x_2 = x+6i</math>, <math>x_3 = 2x-4-6i</math>, you don't need to find the imaginary part of <math>c</math>. We know that <math>x_1</math> is a real number, which means that <math>x_2</math> and <math>x_3</math> are complex conjugates. Therefore, <math>x=2x-4</math>."
  },
  {
    "year": 2010,
    "variant": "II",
    "problem_number": 8,
    "latex": "Let <math>N</math> be the number of [[ordered pair]]s of nonempty sets <math>\\mathcal{A}</math> and <math>\\mathcal{B}</math> that have the following properties:\n\n<UL>\n<LI> <math>\\mathcal{A} \\cup \\mathcal{B} = \\{1,2,3,4,5,6,7,8,9,10,11,12\\}</math>,</LI>\n<LI> <math>\\mathcal{A} \\cap \\mathcal{B} = \\emptyset</math>, </LI>\n<LI> The number of elements of <math>\\mathcal{A}</math> is not an element of <math>\\mathcal{A}</math>,</LI>\n<LI> The number of elements of <math>\\mathcal{B}</math> is not an element of <math>\\mathcal{B}</math>.\n</UL>\n\nFind <math>N</math>.",
    "solution": "Let us [[partition]] the set <math>\\{1,2,\\cdots,12\\}</math> into <math>n</math> numbers in <math>A</math> and <math>12-n</math> numbers in <math>B</math>, \n\nSince <math>n</math> must be in <math>B</math> and <math>12-n</math> must be in <math>A</math> (<math>n\\ne6</math>, we cannot partition into two sets of 6 because <math>6</math> needs to end up somewhere, <math>n\\ne 0</math> or <math>12</math> either).\n\nWe have <math>\\dbinom{10}{n-1}</math>  ways of picking the numbers to be in <math>A</math>. \n\nSo the answer is <math>\\left(\\sum_{n=1}^{11} \\dbinom{10}{n-1}\\right) - \\dbinom{10}{5}=2^{10}-252= \\boxed{772}</math>.\n\nNote: We have <math>\\dbinom{10}{n-1}</math>  ways of picking the numbers to be in <math>A</math> because there are <math>n</math> numbers in <math>A</math> and since <math>12-n</math> is already a term in the set we simply have to choose another <math>n-1</math> numbers from the <math>10</math> numbers that are available."
  },
  {
    "year": 2010,
    "variant": "II",
    "problem_number": 9,
    "latex": "Let <math>ABCDEF</math> be a [[regular polygon|regular]] [[hexagon]]. Let <math>G</math>, <math>H</math>, <math>I</math>, <math>J</math>, <math>K</math>, and <math>L</math> be the [[midpoint]]s of sides <math>AB</math>, <math>BC</math>, <math>CD</math>, <math>DE</math>, <math>EF</math>, and <math>AF</math>, respectively. The [[segment]]s <math>\\overline{AH}</math>, <math>\\overline{BI}</math>, <math>\\overline{CJ}</math>, <math>\\overline{DK}</math>, <math>\\overline{EL}</math>, and <math>\\overline{FG}</math> bound a smaller regular hexagon. Let the [[ratio]] of the area of the smaller hexagon to the area of <math>ABCDEF</math> be expressed as a fraction <math>\\frac {m}{n}</math> where <math>m</math> and <math>n</math> are [[relatively prime]] positive integers. Find <math>m + n</math>.",
    "solution": "<center><asy>\ndefaultpen(0.8pt+fontsize(12pt));\npair A,B,C,D,E,F;\npair G,H,I,J,K,L;\nA=dir(0);\nB=dir(60);\nC=dir(120);\nD=dir(180);\nE=dir(240);\nF=dir(300);\ndraw(A--B--C--D--E--F--cycle,blue);\n\nG=(A+B)/2;\nH=(B+C)/2;\nI=(C+D)/2;\nJ=(D+E)/2;\nK=(E+F)/2;\nL=(F+A)/2;\n\nint i;\nfor (i=0; i<6; i+=1) {\n draw(rotate(60*i)*(A--H),dotted);\n }\n\n\npair M,N,O,P,Q,R;\nM=extension(A,H,B,I);\nN=extension(B,I,C,J);\nO=extension(C,J,D,K);\nP=extension(D,K,E,L);\nQ=extension(E,L,F,G);\nR=extension(F,G,A,H);\ndraw(M--N--O--P--Q--R--cycle,red);\n\n\nlabel('$A$',A,(1,0));\nlabel('$B$',B,NE);\nlabel('$C$',C,NW);\nlabel('$D$',D, W);\nlabel('$E$',E,SW);\nlabel('$F$',F,SE);\nlabel('$G$',G,NE);\nlabel('$H$',H, (0,1));\nlabel('$I$',I,NW);\nlabel('$J$',J,SW);\nlabel('$K$',K, S);\nlabel('$L$',L,SE);\nlabel('$M$',M);\nlabel('$N$',N);\nlabel('$O$',(0,0),NE); dot((0,0));\n</asy></center>\n\nLet <math>M</math> be the intersection of <math>\\overline{AH}</math> and <math>\\overline{BI}</math>.\n\nLet <math>N</math> be the intersection of <math>\\overline{BI}</math> and <math>\\overline{CJ}</math>.\n\nLet <math>O</math> be the center.\n\n===Solution 1===\nWithout loss of generality, let <math>BC=2.</math>\n\nNote that <math>\\angle BMH</math> is the vertical angle to an angle of the regular hexagon, so it has a measure of <math>120^\\circ</math>.\n\nBecause <math>\\triangle ABH</math> and <math>\\triangle BCI</math> are rotational images of one another, we get that <math>\\angle{MBH}=\\angle{HAB}</math> and hence <math>\\triangle ABH \\sim \\triangle BMH \\sim \\triangle BCI</math>.\n\nUsing a similar argument, <math>NI=MH</math>, and\n\n<cmath>MN=BI-NI-BM=BI-(BM+MH).</cmath>\n\nApplying the [[Law of cosines]] on <math>\\triangle BCI</math>, <math>BI=\\sqrt{2^2+1^2-2(2)(1)(\\cos(120^\\circ))}=\\sqrt{7}</math>\n\n<cmath>\\begin{align*}\\frac{BC+CI}{BI}&=\\frac{3}{\\sqrt{7}}=\\frac{BM+MH}{BH} \\\\\nBM+MH&=\\frac{3BH}{\\sqrt{7}}=\\frac{3}{\\sqrt{7}} \\\\\nMN&=BI-(BM+MH)=\\sqrt{7}-\\frac{3}{\\sqrt{7}}=\\frac{4}{\\sqrt{7}} \\\\\n\\frac{\\text{Area of smaller hexagon}}{\\text{Area of bigger hexagon}}&=\\left(\\frac{MN}{BC}\\right)^2=\\left(\\frac{2}{\\sqrt{7}}\\right)^2=\\frac{4}{7}\\end{align*}</cmath>\n\nThus, the answer is <math>4 + 7 = \\boxed{011}.</math>\n\n===Solution 2 (Coordinate Bash)===\nWe can use coordinates. Let <math>O</math> be at <math>(0,0)</math> with <math>A</math> at <math>(1,0)</math>, \n\nthen <math>B</math> is at <math>(\\cos(60^\\circ),\\sin(60^\\circ))=\\left(\\frac{1}{2},\\frac{\\sqrt{3}}{2}\\right)</math>, \n\n<math>C</math> is at <math>(\\cos(120^\\circ),\\sin(120^\\circ))=\\left(-\\frac{1}{2},\\frac{\\sqrt{3}}{2}\\right)</math>, \n\n<math>D</math> is at <math>(\\cos(180^\\circ),\\sin(180^\\circ))=(-1,0)</math>, \n\n<cmath>\\begin{align*}&H=\\frac{B+C}{2}=\\left(0,\\frac{\\sqrt{3}}{2}\\right) \\\\\n&I=\\frac{C+D}{2}=\\left(-\\frac{3}{4},\\frac{\\sqrt{3}}{4}\\right)\\end{align*}</cmath>\n\n<br/>\n\nLine <math>AH</math> has the slope of <math>-\\frac{\\sqrt{3}}{2}</math>\nand the equation of <math>y=-\\frac{\\sqrt{3}}{2}(x-1)</math>\n\n<br/>\n\nLine <math>BI</math> has the slope of <math>\\frac{\\sqrt{3}}{5}</math>\nand the equation <math>y-\\frac{3}{2}=\\frac{\\sqrt{3}}{5}\\left(x-\\frac{1}{2}\\right)</math>\n\n<br/> \n\nLet's solve the system of equation to find <math>M</math>\n\n<cmath>\\begin{align*}-\\frac{\\sqrt{3}}{2}(x-1)-\\frac{3}{2}&=\\frac{\\sqrt{3}}{5}\\left(x-\\frac{1}{2}\\right) \\\\\n-5\\sqrt{3}x&=2\\sqrt{3}x-\\sqrt{3} \\\\\nx&=\\frac{1}{7} \\\\\ny&=-\\frac{\\sqrt{3}}{2}(x-1)=\\frac{3\\sqrt{3}}{7}\\end{align*}</cmath>\n\nFinally,\n\n<cmath>\\begin{align*}&\\sqrt{x^2+y^2}=OM=\\frac{1}{7}\\sqrt{1^2+(3\\sqrt{3})^2}=\\frac{1}{7}\\sqrt{28}=\\frac{2}{\\sqrt{7}} \\\\\n&\\frac{\\text{Area of smaller hexagon}}{\\text{Area of bigger hexagon}}=\\left(\\frac{OM}{OA}\\right)^2=\\left(\\frac{2}{\\sqrt{7}}\\right)^2=\\frac{4}{7}\\end{align*}</cmath>\n\nThus, the answer is <math>\\boxed{011}</math>.\n\n\nDiagram (by dragoon)\nhttps://services.artofproblemsolving.com/download.php?id=YXR0YWNobWVudHMvZC82L2ZiNDljZmZiNjUzYWE4NGRmNmIwYTljMWQxZDU2ZDc1ZmNiMDQ3LmpwZWc=&rn=RDQ3ODA2RjUtMzlDNi00QzQ3LUE2OTYtMjlCQkE4NThDNkRBLmpwZWc="
  },
  {
    "year": 2010,
    "variant": "II",
    "problem_number": 10,
    "latex": "Find the number of second-degree [[polynomial]]s <math>f(x)</math> with integer [[coefficient]]s and integer zeros for which <math>f(0)=2010</math>.",
    "solution": "===Solution 1===\nLet <math>f(x) = a(x-r)(x-s)</math>. Then <math>ars=2010=2\\cdot3\\cdot5\\cdot67</math>. First consider the case where <math>r</math> and <math>s</math> (and thus <math>a</math>) are positive. There are <math>3^4 = 81</math> ways to split up the prime factors between <math>a</math>, <math>r</math>, and <math>s</math>. However, <math>r</math> and <math>s</math> are indistinguishable. In one case, <math>(a,r,s) = (2010,1,1)</math>, we have <math>r=s</math>. The other <math>80</math> cases are double counting, so there are <math>40</math>.\n\nWe must now consider the various cases of signs. For the <math>40</math> cases where <math>|r|\\neq |s|</math>, there are a total of four possibilities, For the case <math>|r|=|s|=1</math>, there are only three possibilities, <math>(r,s) = (1,1); (1,-1); (-1,-1)</math> as <math>(-1,1)</math> is not distinguishable from the second of those three.\n\nYou may ask: How can one of <math>{r, s}</math> be positive and the other negative? <math>a</math> will be negative as a result. That way, it's still <math>+2010</math> that gets multiplied.\n\nThus the grand total is <math>4\\cdot40 + 3 = \\boxed{163}</math>.\n\nNote: The only reason why we can be confident that <math>r = s</math> is the only case where the polynomials are being overcounted is because of this: We have the four configurations listed below:\n\n<math>(a,r,s)\\\\\n(a,-r,-s)\\\\\n(-a,-r,s)\\\\\n(-a,r,-s)</math>\n\nAnd notice, we start by counting all the positive solutions. So <math>r</math> and <math>s</math> must be strictly positive, no <math>0</math> or negatives allowed. The negative transformations will count those numbers.\n\nSo with these we can conclude that only the first and second together have a chance of being equal, and the third and fourth together. If we consider the first and second, the <math>x</math> term would have coefficients that are always different, <math>-a(r + s)</math> and <math>a(r + s)</math> because of the negative <math>r</math> and <math>s</math>. Since the <math>a</math> is never equal, these can never create equal <math>x</math> coefficients. We don't need to worry about this as <math>r</math> and <math>s</math> are positive and so that won't have any chance.\n\nHowever with the <math>(-a,-r,s)</math> and <math>(-a,r,-s)</math>, we have the coefficients of the <math>x</math> term as <math>a(s-r)</math> and <math>a(r-s)</math>. In other words, they are equal if <math>s-r=r-s</math> or <math>r=s</math>. Well if <math>r = 1</math>, then we have <math>s = 1</math> and in the <math>(r,-s)</math> case we have <math>(1,-1)</math> and if we transform using <math>(s,-r)</math>, then we have <math>(-1, 1)</math>. So this is the only way that we could possibly overcount the equal cases, and so we need to make sure we don't count <math>(-1,1)</math> and <math>(1,-1)</math> twice as they will create equal sums. This is why we subtract <math>1</math> from <math>41*4=164</math>.\n\nEach different transformation will give us different coordinates <math>(a,r,s)...</math> it is just that some of them create equal coefficients for the <math>x</math>-term, and we see that they are equal only in this case by our exploration, so we subtract <math>1</math> to account and get <math>163</math>.\n\n===Solution 2===\nWe use [[Burnside's Lemma]]. The set being acted upon is the set of integer triples <math>(a,r,s)</math> such that <math>ars=2010</math>. Because <math>r</math> and <math>s</math> are indistinguishable, the permutation group consists of the identity and the permutation that switches <math>r</math> and <math>s</math>. In cycle notation, the group consists of <math>(a)(r)(s)</math> and <math>(a)(r \\: s)</math>. There are <math>4 \\cdot 3^4</math> fixed points of the first permutation (after distributing the primes among <math>a</math>, <math>r</math>, <math>s</math> and then considering their signs. We have 4 ways since we can keep them all positive, first 2 negative, first and third negative, or last two negative) and <math>2</math> fixed points of the second permutation (<math>r=s=\\pm 1</math>). By Burnside's Lemma, there are <math>\\frac{1}{2} (4 \\cdot 3^4+2)= \\boxed{163}</math> distinguishable triples <math>(a,r,s)</math>.\nNote: The permutation group is isomorphic to <math>\\mathbb{Z}/2\\mathbb{Z}</math>."
  },
  {
    "year": 2010,
    "variant": "II",
    "problem_number": 11,
    "latex": "Define a <i>T-grid</i> to be a <math>3\\times3</math> matrix which satisfies the following two properties:\n\n<OL>\n<LI>Exactly five of the entries are <math>1</math>'s, and the remaining four entries are <math>0</math>'s.</LI>\n<LI>Among the eight rows, columns, and long diagonals (the long diagonals are <math>\\{a_{13},a_{22},a_{31}\\}</math> and <math>\\{a_{11},a_{22},a_{33}\\}</math>, no more than one of the eight has all three entries equal.</LI></OL>\n\nFind the number of distinct <i>T-grids</i>.",
    "solution": "=== Solution 1 ===\nThe <i>T-grid</i> can be considered as a tic-tac-toe board: five <math>1</math>'s (or X's) and four <math>0</math>'s (or O's). \n\nThere are only <math>\\dbinom{9}{5} = 126</math>  ways to fill the board with five <math>1</math>'s and four <math>0</math>'s. Now we just need to subtract the number of bad grids. Bad grids are ones with more than one person winning, or where someone has won twice.\n\nLet three-in-a-row/column/diagonal be a \"win\" and let player <math>0</math> be the one that fills in <math>0</math> and player <math>1</math> fills in <math>1</math>.\n\n<b>Case <math>1</math>:</b> Each player wins once. \n\nIf player X takes a diagonal, player Y cannot win. If either takes a row, all the columns are blocked, and visa versa. Therefore, they either both take a row or they both take a column.\n\n<OL>\n<LI>Both take a row: \n\n<UL>\n<LI>There are <math>3</math> ways for player <math>1</math> to pick a row, </LI>\n\n<LI><math>2</math> ways for player <math>0</math> to pick a row and, </LI>\n\n<LI><math>3</math> ways for player <math>0</math> to take a single box in the remaining row. </LI>\n</UL>\n\nTherefore, there are <math>3 \\cdot 2 \\cdot 3=18</math> cases.\n</LI>\n\n<LI>Both take a column: \n\nUsing similar reasoning, there are <math>18</math> cases.\n</OL>\n\nCase <math>1</math>: <math>36</math> cases\n\n<br/>\n\n<b>Case <math>2</math>:</b> Player <math>1</math> wins twice. (Player <math>0</math> cannot win twice because he only has 4 moves.)\n\n<OL>\n<LI>Player <math>1</math> picks a row and a column.\n<UL>\n<LI>There are <math>3</math> ways to pick the row</LI>\n<LI>and <math>3</math> ways to pick the column. </LI>\nSo there are <math>9</math> cases.\n</UL></LI>\n\n<LI>Player <math>1</math> picks a row/column and a diagonal.\n<UL>\n<LI>There are <math>6</math> ways to pick the row/column </LI>\n<LI>and <math>2</math> to pick the diagonal, </LI>\n</UL>\nso there are <math>12</math> cases\n</LI>\n\n<LI>2 diagonals\n<UL>\n<LI>It is clear that there is only <math>1</math> case. (Make a X).</LI>\n</UL>\n</LI>\n</OL>\n\nCase <math>2</math> total: <math>22</math>\n\n<br/>\n\nThus, the answer is <math>126-22-36=\\boxed{68}</math>\n\n=== Solution 2 ===\n\nWe can use [[generating functions]] to compute the case that no row or column is completely filled with <math>1</math>'s. Given a row, let <math>a</math>, <math>b</math>, <math>c</math> be the events that the first, second, third respective squares are <math>1</math>'s. Then the generating function representing the possible events that exclude a row of <math>1,1,1</math> or <math>0,0,0</math> from occuring is\n<cmath>ab+bc+ca+a+b+c.</cmath>\nTherefore, the generating function representing the possible grids where no row is filled with <math>0</math>'s and <math>1</math>'s is\n<cmath>P(a,b,c)=((ab+bc+ca)+(a+b+c))^3.</cmath>\nWe expand this by the Binomial Theorem to find\n<cmath>P(a,b,c)=(ab+bc+ca)^3+3(ab+bc+ca)^2(a+b+c)+3(ab+bc+ca)(a+b+c)^2+(a+b+c)^3.</cmath>\nRecall that our grid has five <math>1</math>'s, hence we only want terms where the sum of the exponents is <math>5</math>. This is given by\n<cmath>3(ab+bc+ca)^2(a+b+c).</cmath>\nWhen we expand this, we find\n<cmath>3(2abc(a+b+c)+a^2b^2+b^2c^2+c^2a^2)(a+b+c).</cmath>\nWe also want to make sure that each of <math>a</math>, <math>b</math>, <math>c</math> appears at least once (so there is no column filled with <math>0</math>'s) and the power of each of <math>a</math>, <math>b</math>, <math>c</math> is not greater than or equal to <math>3</math> (so there is no column filled with <math>1</math>'s). The sum of the coefficients of the above polynomial is clearly <math>81</math> (using <math>a,b,c=1</math>), and the sum of the coefficients of the terms <math>a^3bc</math>, <math>ab^3c</math>, and <math>abc^3</math> is <math>6+6+6+3+3+3+3+3+3=36</math>, hence the sum of the coefficients of the desired terms is <math>81-36=45</math>. This counts the number of grids where no column or row is filled with\t<math>0</math>'s or <math>1</math>'s. However, we could potentially have both diagonals filled with <math>1</math>'s, but this is the only exception to our <math>45</math> possibilities, hence the number of <math>T</math>-grids with no row or column filled with the same digit is <math>44</math>.\n\nOn the other hand, if a row (column) is filled with <math>0</math>'s, then by the Pigeonhole Principle, another row (column) must be filled with <math>1</math>'s. Hence this is impossible, so all other\tpossible <math>T</math>-grids have a row (column) filled with <math>1</math>'s. If the top row is filled with <math>1</math>'s, then we have two <math>1</math>'s left to place. Clearly they cannot go in the same row, because then the other row is filled with <math>0</math>'s. They also cannot appear in the same column. This leaves <math>3\\cdot 2</math> arrangements--3 choices for the location of the <math>1</math> in the second row, and 2 choices for the location of the <math>1</math> in the last row. However, two of these arrangements will fill a diagonal with <math>1</math>'s. Hence there are only <math>4</math> <math>T</math>-grids where the top row is filled with <math>1</math>'s. The same argument applies if any other row or column is filled with <math>1</math>'s. Hence there are <math>4\\cdot 6=24</math> such <math>T</math>-grids.\n\nThus the answer is <math>44+24=\\boxed{68}</math>.\n\n=== Solution 3 ===\n\nWe proceed by complimentary counting.\n\nThere are <math>\\binom{9}{5} = 126</math> ways to fill the board with five <math>1</math>'s and four <math>0</math>'s. We subtract the cases where at least two of the eight rows, columns, and long diagonals have all three entries equal. For the sake of simplicity, let a <b>line</b> denote a row/column/diagonal.\n\nFirstly, observe that there can be at most one line of <math>0</math>'s and at most two lines of <math>1</math>'s. Also, if there is one line of <math>0</math>'s, there can at most be one line of <math>1</math>'s. Therefore, there are only two \"bad\" cases we must consider:\n\n<b>Case <math>1</math>:</b> There is one line of <math>0</math>'s and one line of <math>1</math>'s.\n\nIn this case, note that both lines must be horizontal or vertical. If both are horizontal, there are <math>3 \\cdot 2 = 6</math> ways to select the columns, and <math>\\binom{3}{1} = 3</math> ways to place the remaining <math>0</math> in the remaining <math>3</math> grids, yielding a total of <math>6 \\cdot 3 = 18</math> bad cases. Similarly, there are <math>18</math> bad cases where both lines are vertical, so <math>18 + 18 = 36</math> cases.\n\n<b>Case <math>2</math>:</b> There are two lines of <math>1</math>'s.\n\nIn this case, note that all five <math>1</math>'s are used, and the two lines can be horizontal/vertical, horizontal/diagonal, vertical/diagonal, or diagonal/diagonal, yielding <math>3 \\cdot 3 = 9</math>, <math>3 \\cdot 2 = 6</math>, <math>3 \\cdot 2 = 6</math>, and <math>1</math> case, respectively. <math>9 + 6 + 6 + 1 = 22</math> cases.\n\n<br/>\n\nHence, the answer is <math>126 - 36 - 22 = \\boxed{068}</math>.\n\n--OZ30"
  },
  {
    "year": 2010,
    "variant": "II",
    "problem_number": 12,
    "latex": "Two noncongruent integer-sided isosceles triangles have the same perimeter and the same area. The ratio of the lengths of the bases of the two triangles is <math>8: 7</math>. Find the minimum possible value of their common perimeter.",
    "solution": "Let <math>s</math> be the semiperimeter of the two triangles. Also, let the base of the longer triangle be <math>16x</math> and the base of the shorter triangle be <math>14x</math> for some arbitrary factor <math>x</math>. Then, the dimensions of the two triangles must be <math>s-8x,s-8x,16x</math> and <math>s-7x,s-7x,14x</math>. By Heron's Formula, we have \n\n<center>\n<cmath>\\sqrt{s(8x)(8x)(s-16x)}=\\sqrt{s(7x)(7x)(s-14x)}</cmath>\n<cmath>8\\sqrt{s-16x}=7\\sqrt{s-14x}</cmath>\n<cmath>64s-1024x=49s-686x</cmath>\n<cmath>15s=338x</cmath>\n</center>\nSince <math>15</math> and <math>338</math> are coprime, to minimize, we must have <math>s=338</math> and <math>x=15</math>. However, we want the minimum perimeter. This means that we must multiply our minimum semiperimeter by <math>2</math>, which gives us a final answer of <math>\\boxed{676}</math>."
  },
  {
    "year": 2010,
    "variant": "II",
    "problem_number": 13,
    "latex": "The <math>52</math> cards in a deck are numbered <math>1, 2, \\cdots, 52</math>. Alex, Blair, Corey, and Dylan each picks a card from the deck without replacement and with each card being equally likely to be picked, The two persons with lower numbered cards form a team, and the two persons with higher numbered cards form another team. Let <math>p(a)</math> be the [[probability]] that Alex and Dylan are on the same team, given that Alex picks one of the cards <math>a</math> and <math>a+9</math>, and Dylan picks the other of these two cards. The minimum value of <math>p(a)</math> for which <math>p(a)\\ge\\frac{1}{2}</math> can be written as <math>\\frac{m}{n}</math>. where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "Once the two cards are drawn, there are <math>\\dbinom{50}{2} = 1225</math> ways for the other two people to draw. Alex and Dylan are the team with higher numbers if Blair and Corey both draw below <math>a</math>, which occurs in <math>\\dbinom{a-1}{2}</math> ways. Alex and Dylan are the team with lower numbers if Blair and Corey both draw above <math>a+9</math>, which occurs in <math>\\dbinom{43-a}{2}</math> ways. Thus, <cmath>p(a)=\\frac{\\dbinom{43-a}{2}+\\dbinom{a-1}{2}}{1225}.</cmath> Simplifying, we get <math>p(a)=\\frac{(43-a)(42-a)+(a-1)(a-2)}{2\\cdot1225}</math>, so we need <math>(43-a)(42-a)+(a-1)(a-2)\\ge (1225)</math>. If <math>a=22+b</math>, then <cmath>\\begin{align*}(43-a)(42-a)+(a-1)(a-2)&=(21-b)(20-b)+(21+b)(20+b)=2b^2+2(21)(20)\\ge (1225) \\\\ b^2\\ge \\frac{385}{2} &= 192.5 >13^2 \\end{align*}</cmath> So <math>b> 13</math> or <math>b< -13</math>, and <math>a=22+b<9</math> or <math>a>35</math>, so <math>a=8</math> or <math>a=36</math>. Thus, <math>p(8) = \\frac{616}{1225} = \\frac{88}{175}</math>, and the answer is <math>88+175 = \\boxed{263}</math>."
  },
  {
    "year": 2010,
    "variant": "II",
    "problem_number": 14,
    "latex": "[[Triangle]] <math>ABC</math> with [[right angle]] at <math>C</math>, <math>\\angle BAC < 45^\\circ</math> and <math>AB = 4</math>. Point <math>P</math> on <math>\\overline{AB}</math> is chosen such that <math>\\angle APC = 2\\angle ACP</math> and <math>CP = 1</math>. The ratio <math>\\frac{AP}{BP}</math> can be represented in the form <math>p + q\\sqrt{r}</math>, where <math>p</math>, <math>q</math>, <math>r</math> are positive integers and <math>r</math> is not divisible by the square of any prime. Find <math>p+q+r</math>.",
    "solution": "Let <math>O</math> be the [[circumcenter]] of <math>ABC</math> and let the intersection of <math>CP</math> with the [[circumcircle]] be <math>D</math>. It now follows that <math>\\angle{DOA} = 2\\angle ACP = \\angle{APC} = \\angle{DPB}</math>. Hence <math>ODP</math> is isosceles and <math>OD = DP = 2</math>. \n\nDenote <math>E</math> the projection of <math>O</math> onto <math>CD</math>. Now <math>CD = CP + DP = 3</math>. By the [[Pythagorean Theorem]], <math>OE = \\sqrt {2^2 - \\frac {3^2}{2^2}} = \\sqrt {\\frac {7}{4}}</math>. Now note that <math>EP = \\frac {1}{2}</math>. By the Pythagorean Theorem, <math>OP = \\sqrt {\\frac {7}{4} + \\frac {1^2}{2^2}} = \\sqrt {2}</math>. Hence it now follows that,\n\n<cmath>\\frac {AP}{BP} = \\frac {AO + OP}{BO - OP} = \\frac {2 + \\sqrt {2}}{2 - \\sqrt {2}} = 3 + 2\\sqrt {2}</cmath>\n\nThis gives that the answer is <math>\\boxed{007}</math>.\n\nAn alternate finish for this problem would be to use Power of a Point on <math>BA</math> and <math>CD</math>. By Power of a Point Theorem, <math>CP\\cdot PD=1\\cdot 2=BP\\cdot PA</math>. Since <math>BP+PA=4</math>, we can solve for <math>BP</math> and <math>PA</math>, giving the same values and answers as above. \n\n<center><asy>   /* geogebra conversion, see azjps userscripts.org/scripts/show/72997 */\nimport graph; defaultpen(linewidth(0.7)+fontsize(10)); size(250); real lsf = 0.5; /* changes label-to-point distance */\npen xdxdff = rgb(0.49,0.49,1); pen qqwuqq = rgb(0,0.39,0); pen fftttt = rgb(1,0.2,0.2);\n\n  /* segments and figures */\ndraw((0.2,0.81)--(0.33,0.78)--(0.36,0.9)--(0.23,0.94)--cycle,qqwuqq); draw((0.81,-0.59)--(0.93,-0.54)--(0.89,-0.42)--(0.76,-0.47)--cycle,qqwuqq); draw(circle((2,0),2)); draw((0,0)--(0.23,0.94),linewidth(1.6pt)); draw((0.23,0.94)--(4,0),linewidth(1.6pt)); draw((0,0)--(4,0),linewidth(1.6pt)); draw((0.23,(+0.55-0.94*0.23)/0.35)--(4.67,(+0.55-0.94*4.67)/0.35));\n\n  /* points and labels */\nlabel(\"$1$\", (0.26,0.42), SE*lsf); draw((1.29,-1.87)--(2,0)); label(\"$2$\", (2.91,-0.11), SE*lsf); label(\"$2$\", (1.78,-0.82), SE*lsf); pair parametricplot0_cus(real t){\n return (0.28*cos(t)+0.23,0.28*sin(t)+0.94);\n}\ndraw(graph(parametricplot0_cus,-1.209429202888189,-0.24334747753738661)--(0.23,0.94)--cycle,fftttt); pair parametricplot1_cus(real t){\n return (0.28*cos(t)+0.59,0.28*sin(t)+0);\n}\ndraw(graph(parametricplot1_cus,0.0,1.9321634507016043)--(0.59,0)--cycle,fftttt); label(\"$\\theta$\", (0.42,0.77), SE*lsf); label(\"$2\\theta$\", (0.88,0.38), SE*lsf); draw((2,0)--(0.76,-0.47)); pair parametricplot2_cus(real t){\n return (0.28*cos(t)+2,0.28*sin(t)+0);\n}\ndraw(graph(parametricplot2_cus,-1.9321634507016048,0.0)--(2,0)--cycle,fftttt); label(\"$2\\theta$\", (2.18,-0.3), SE*lsf); dot((0,0)); label(\"$B$\", (-0.21,-0.2),NE*lsf); dot((4,0)); label(\"$A$\", (4.03,0.06),NE*lsf); dot((2,0)); label(\"$O$\", (2.04,0.06),NE*lsf); dot((0.59,0)); label(\"$P$\", (0.28,-0.27),NE*lsf); dot((0.23,0.94)); label(\"$C$\", (0.07,1.02),NE*lsf); dot((1.29,-1.87)); label(\"$D$\", (1.03,-2.12),NE*lsf); dot((0.76,-0.47)); label(\"$E$\", (0.56,-0.79),NE*lsf); clip((-0.92,-2.46)--(-0.92,2.26)--(4.67,2.26)--(4.67,-2.46)--cycle);\n</asy></center>"
  },
  {
    "year": 2010,
    "variant": "II",
    "problem_number": 15,
    "latex": "== Problem 15 ==\n \nIn triangle <math>ABC</math>, <math>AC = 13</math>, <math>BC = 14</math>,  and <math>AB=15</math>. Points <math>M</math> and <math>D</math> lie on <math>AC</math> with <math>AM=MC</math> and <math>\\angle ABD = \\angle DBC</math>. Points <math>N</math> and <math>E</math> lie on <math>AB</math> with <math>AN=NB</math> and <math>\\angle ACE = \\angle ECB</math>. Let <math>P</math> be the point, other than <math>A</math>, of intersection of the circumcircles of <math>\\triangle AMN</math> and <math>\\triangle ADE</math>. Ray <math>AP</math> meets <math>BC</math> at <math>Q</math>. The ratio <math>\\frac{BQ}{CQ}</math> can be written in the form <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m-n</math>.",
    "solution": "==Diagram==\n\n<asy>\nsize(250);\ndefaultpen(fontsize(9pt));\npicture pic;\npair A,B,C,D,E,M,N,P,Q;\nB=MP(\"B\",origin, SW);\nC=MP(\"C\", (12.5,0), SE);\nA=MP(\"A\", IP(CR(C,10),CR(B,15)), dir(90));\nN=MP(\"N\", (A+B)/2, dir(180));\nM=MP(\"M\", midpoint(C--A), dir(70));\nD=MP(\"D\", extension(B,incenter(A,B,C),A,C), dir(C-B));\nE=MP(\"E\", extension(C,incenter(A,B,C),A,B), dir(90));\nP=MP(\"P\", OP(circumcircle(A,M,N),circumcircle(A,D,E)), dir(-70));\nQ = MP(\"Q\", extension(A,P,B,C),dir(-90));\ndraw(B--C--A--B^^M--P--N^^D--P--E^^A--Q);\ndraw(circumcircle(A,M,N), gray);\ndraw(circumcircle(A,D,E), heavygreen);\ndot(A);dot(B);dot(C);dot(D);dot(E);dot(P);dot(Q);dot(M);dot(N);\n</asy>"
  },
  {
    "year": 2011,
    "variant": "I",
    "problem_number": 1,
    "latex": "Jar A contains four liters of a solution that is 45% acid.  Jar B contains five liters of a solution that is 48% acid.  Jar C contains one liter of a solution that is <math>k\\%</math> acid.  From jar C, <math>\\frac{m}{n}</math> liters of the solution is added to jar A, and the remainder of the solution in jar C is added to jar B.  At the end both jar A and jar B contain solutions that are 50% acid.  Given that <math>m</math> and <math>n</math> are relatively prime positive integers, find <math>k + m + n</math>.",
    "solution": "Jar A contains <math>\\frac{11}{5}</math> liters of water, and <math>\\frac{9}{5}</math> liters of acid; jar B contains <math>\\frac{13}{5}</math> liters of water and <math>\\frac{12}{5}</math> liters of acid.\n\nThe gap between the amount of water and acid in the first jar, <math>\\frac{2}{5}</math>, is double that of the gap in the second jar, <math>\\frac{1}{5}</math>. Therefore, we must add twice as much of jar C into the jar <math>A</math> over jar <math>B</math>. So, we must add <math>\\frac{2}{3}</math> of jar C into jar <math>A</math>, so <math>m = 2, n=3</math>.\n\nSince jar C contains <math>1</math> liter of solution, we are adding <math>\\frac{2}{3}</math> of a liter of solution to jar <math>A</math>. In order to close the gap between water and acid, there must be <math>\\frac{2}{5}</math> more liters of acid than liters of water in these <math>\\frac{2}{3}</math> liters of solution. So, in the <math>\\frac{2}{3}</math> liters of solution, there are <math>\\frac{2}{15}</math> liters of water, and <math>\\frac{8}{15}</math> liters of acid.  So, 80% of the <math>\\frac{2}{3}</math> sample is acid, so overall, in jar C, 80% of the sample is acid.\n\nTherefore, our answer is <math>80 + 2 + 3 = \\boxed{85}</math>.\n\n~ ihatemath123"
  },
  {
    "year": 2011,
    "variant": "I",
    "problem_number": 2,
    "latex": "In rectangle <math>ABCD</math>, <math>AB = 12</math> and <math>BC = 10</math>.  Points <math>E</math> and <math>F</math> lie inside rectangle <math>ABCD</math> so that <math>BE = 9</math>, <math>DF = 8</math>, <math>\\overline{BE} \\parallel \\overline{DF}</math>, <math>\\overline{EF} \\parallel \\overline{AB}</math>, and line <math>BE</math> intersects segment <math>\\overline{AD}</math>.  The length <math>EF</math> can be expressed in the form <math>m \\sqrt{n} - p</math>, where <math>m</math>, <math>n</math>, and <math>p</math> are positive integers and <math>n</math> is not divisible by the square of any prime.  Find <math>m + n + p</math>.",
    "solution": "==Diagram==\n<asy>\npair A,B,C,D,E,F;\nA=(0,10);\nB=(12,10);\nC=(12,0);\nD=(0,0);\nE=(4.722,4.7);\nF=(6.469,4.7);\ndraw(A--B--C--D--A);\ndraw(D--F--E--B);\nlabel(\"$A$\",A,NW);\nlabel(\"$B$\",B,NE);\nlabel(\"$C$\",C,SE);\nlabel(\"$D$\",D,SW);\nlabel(\"$E$\",E,W);\nlabel(\"$F$\",F,SE);\n</asy>\n\n~Kscv"
  },
  {
    "year": 2011,
    "variant": "I",
    "problem_number": 3,
    "latex": "Let <math>L</math> be the line with slope <math>\\frac{5}{12}</math> that contains the point <math>A=(24,-1)</math>, and let <math>M</math> be the line perpendicular to line <math>L</math> that contains the point <math>B=(5,6)</math>.  The original coordinate axes are erased, and line <math>L</math> is made the <math>x</math>-axis and line <math>M</math> the <math>y</math>-axis.  In the new coordinate system, point <math>A</math> is on the positive <math>x</math>-axis, and point <math>B</math> is on the positive <math>y</math>-axis.  The point <math>P</math> with coordinates <math>(-14,27)</math> in the original system has coordinates <math>(\\alpha,\\beta)</math> in the new coordinate system.  Find <math>\\alpha+\\beta</math>.",
    "solution": "Given that <math>L</math> has slope <math>\\frac{5}{12}</math> and contains the point <math>A=(24,-1)</math>, we may write the point-slope equation for <math>L</math> as <math>y+1=\\frac{5}{12}(x-24)</math>.\nSince <math>M</math> is perpendicular to <math>L</math> and  contains the point <math>B=(5,6)</math>, we have that the slope of <math>M</math> is <math>-\\frac{12}{5}</math>, and consequently that the point-slope equation for <math>M</math> is <math>y-6=-\\frac{12}{5}(x-5)</math>.\n\n\n\nConverting both equations to the form <math>0=Ax+By+C</math>, we have that <math>L</math> has the equation <math>0=5x-12y-132</math> and that <math>M</math> has the equation <math>0=12x+5y-90</math>.\nApplying the point-to-line distance formula, <math>\\frac{|Ax+By+C|}{\\sqrt{A^2+B^2}}</math>, to point <math>P</math> and lines <math>L</math> and <math>M</math>, we find that the distance from <math>P</math> to <math>L</math> and <math>M</math> are <math>\\frac{526}{13}</math> and <math>\\frac{123}{13}</math>, respectively. \n\n\n\nSince <math>A</math> and <math>B</math> lie on the positive axes of the shifted coordinate plane, we may show by graphing the given system that point P will lie in the second quadrant in the new coordinate system. Therefore, the <math>x</math>-coordinate of <math>P</math> is negative, and is therefore <math>-\\frac{123}{13}</math>; similarly, the <math>y</math>-coordinate of <math>P</math> is positive and is therefore <math>\\frac{526}{13}</math>.\n\nThus, we have that <math>\\alpha=-\\frac{123}{13}</math> and that <math>\\beta=\\frac{526}{13}</math>. It follows that <math>\\alpha+\\beta=-\\frac{123}{13}+\\frac{526}{13}=\\frac{403}{13}=\\boxed{031}</math>."
  },
  {
    "year": 2011,
    "variant": "I",
    "problem_number": 4,
    "latex": "In triangle <math>ABC</math>, <math>AB=125</math>, <math>AC=117</math> and <math>BC=120</math>. The angle bisector of angle <math>A</math> intersects <math> \\overline{BC} </math> at point <math>L</math>, and the angle bisector of angle <math>B</math> intersects <math> \\overline{AC} </math> at point <math>K</math>. Let <math>M</math> and <math>N</math> be the feet of the perpendiculars from <math>C</math> to <math> \\overline{BK}</math> and <math> \\overline{AL}</math>, respectively. Find <math>MN</math>.",
    "solution": "Extend <math>{CM}</math> and <math>{CN}</math> such that they intersect line <math>{AB}</math> at points <math>P</math> and <math>Q</math>, respectively. \n<asy>\ndefaultpen(fontsize(10)+0.8); size(200);\npen p=fontsize(9)+linewidth(3);\npair A,B,C,D,K,L,M,N,P,Q;\nA=origin; B=(125,0); C=IP(CR(A,117),CR(B,120)); L=extension(B,C,A,bisectorpoint(B,A,C)); K=extension(A,C,B,bisectorpoint(C,B,A)); M=foot(C,B,K); N=foot(C,A,L);\ndraw(A--B--C--A); draw(A--L^^B--K, gray+dashed+0.5); draw(M--C--N^^N--extension(A,B,C,N)^^M--extension(A,B,C,M), gray+0.5);\ndot(\"$A$\",A,dir(200),p); dot(\"$B$\",B,right,p); dot(\"$C$\",C,up,p); dot(\"$L$\",L,2*dir(70),p); dot(\"$N$\",N,2*dir(-90),p); dot(\"$M$\",M,2*dir(-90),p); dot(\"$P$\",extension(A,B,C,M),2*down,p); dot(\"$Q$\",extension(A,B,C,N),2*down,p);\nlabel(\"$125$\",A--B,down,fontsize(10)); label(\"$117$\",A--C,2*dir(130),fontsize(10)); label(\"$120$\",B--C,1.5*dir(30),fontsize(10)); \n</asy>\nSince <math>{BM}</math> is the angle bisector of angle <math>B</math> and <math>{CM}</math> is perpendicular to <math>{BM}</math>, <math>\\triangle BCP</math> must be an isoceles triangle, so <math>BP=BC=120</math>, and <math>M</math> is the midpoint of <math>{CP}</math>. For the same reason, <math>AQ=AC=117</math>, and <math>N</math> is the midpoint of <math>{CQ}</math>.\nHence <math>MN=\\tfrac 12 PQ</math>. Since <cmath>PQ=BP+AQ-AB=120+117-125=112,</cmath> so <math>MN=\\boxed{056}</math>."
  },
  {
    "year": 2011,
    "variant": "I",
    "problem_number": 5,
    "latex": "The vertices of a regular nonagon (9-sided polygon) are to be labeled with the digits 1 through 9 in such a way that the sum of the numbers on every three consecutive vertices is a multiple of 3.  Two acceptable arrangements are considered to be indistinguishable if one can be obtained from the other by rotating the nonagon in the plane.  Find the number of distinguishable acceptable arrangements.",
    "solution": "==Diagram==\n\n[[Image:Photo_for_2010_AIME_5.png]]\n\nRed <math>0</math>'s mean numbers divisible by 3, green <math>1</math>'s and <math>2</math>'s mean remainder of <math>1</math> or <math>2</math> when divided by <math>3</math>.\n\n~WhatdoHumanitariansEat"
  },
  {
    "year": 2011,
    "variant": "I",
    "problem_number": 6,
    "latex": "Suppose that a parabola has vertex <math>\\left(\\frac{1}{4},-\\frac{9}{8}\\right)</math> and equation <math>y = ax^2 + bx + c</math>, where <math>a > 0</math> and <math>a + b + c</math> is an integer.  The minimum possible value of <math>a</math> can be written in the form <math>\\frac{p}{q}</math>, where <math>p</math> and <math>q</math> are relatively prime positive integers.  Find <math>p + q</math>.",
    "solution": "If the vertex is at <math>\\left(\\frac{1}{4}, -\\frac{9}{8}\\right)</math>, the equation of the parabola can be expressed in the form <cmath>y=a\\left(x-\\frac{1}{4}\\right)^2-\\frac{9}{8}.</cmath>\nExpanding, we find that <cmath>y=a\\left(x^2-\\frac{x}{2}+\\frac{1}{16}\\right)-\\frac{9}{8},</cmath> and <cmath>y=ax^2-\\frac{ax}{2}+\\frac{a}{16}-\\frac{9}{8}.</cmath> From the problem, we know that the parabola can be expressed in the form <math>y=ax^2+bx+c</math>, where <math>a+b+c</math> is an integer. From the above equation, we can conclude that <math>a=a</math>, <math>-\\frac{a}{2}=b</math>, and <math>\\frac{a}{16}-\\frac{9}{8}=c</math>. Adding up all of these gives us <cmath>\\frac{9a-18}{16}=a+b+c.</cmath> We know that <math>a+b+c</math> is an integer, so <math>9a-18</math> must be divisible by <math>16</math>.  Let <math>9a=z</math>. If <math>{z-18}\\equiv {0} \\pmod{16}</math>, then <math>{z}\\equiv {2} \\pmod{16}</math>. Therefore, if <math>9a=2</math>, <math>a=\\frac{2}{9}</math>. Adding up gives us <math>2+9=\\boxed{011}</math>"
  },
  {
    "year": 2011,
    "variant": "I",
    "problem_number": 7,
    "latex": "== Problem 7 ==\nFind the number of positive integers <math>m</math> for which there exist nonnegative integers <math>x_0</math>, <math>x_1</math> , <math>\\dots</math> , <math>x_{2011}</math> such that\n<cmath>m^{x_0} = \\sum_{k = 1}^{2011} m^{x_k}.</cmath>",
    "solution": "<math> m^{x_0}= m^{x_1} +m^{x_2} + .... + m^{x_{2011}}</math>. Now, divide by <math>m^{x_0}</math> to get <math>1= m^{x_1-x_0} +m^{x_2-x_0} + .... + m^{x_{2011}-x_0}</math>. Notice that since we can choose all nonnegative <math>x_0,...,x_{2011}</math>, we can make <math>x_n-x_0</math> whatever we desire. WLOG, let <math>x_0\\geq...\\geq x_{2011}</math> and let <math>a_n=x_n-x_0</math>.  Notice that, also, <math>m^{a_{2011}}</math> doesn't matter if we are able to make <math> m^{a_1} +m^{a_2} + .... + m^{a_{2010}}</math> equal to <math>1-\\left(\\frac{1}{m}\\right)^x</math> for any power of <math>x</math>. Consider <math>m=2</math>. We can achieve a sum of <math>1-\\left(\\frac{1}{2}\\right)^x</math> by doing <math>\\frac{1}{2}+\\frac{1}{4}+...</math> (the \"simplest\" sequence). If we don't have <math>\\frac{1}{2}</math>, to compensate, we need <math>2\\cdot \\frac{1}{4}</math>'s. Now, let's try to generalize. The \"simplest\" sequence is having <math>\\frac{1}{m}</math> <math>m-1</math> times, <math>\\frac{1}{m^2}</math> <math>m-1</math> times, <math>\\ldots</math>. To make other sequences, we can split <math>m-1</math> <math>\\frac{1}{m^i}</math>s into <math>m(m-1)</math> <math>\\text{ }\\frac{1}{m^{i+1}}</math>s since <math>(m-1)\\cdot\\frac{1}{m^{i}} = m(m-1)\\cdot\\frac{1}{m^{i+1}}</math>. Since we want <math>2010</math> terms, we have <math>\\sum</math> <math>(m-1)\\cdot m^x=2010</math>. However, since we can set <math>x</math> to be anything we want (including 0), all we care about is that <math>(m-1)\\text{ }|\\text{ } 2010</math> which happens <math>\\boxed{016}</math> times."
  },
  {
    "year": 2011,
    "variant": "I",
    "problem_number": 8,
    "latex": "In triangle <math>ABC</math>, <math>BC = 23</math>, <math>CA = 27</math>, and <math>AB = 30</math>. Points <math>V</math> and <math>W</math> are on <math>\\overline{AC}</math> with <math>V</math> on <math> \\overline{AW} </math>, points <math>X</math> and <math>Y</math> are on <math> \\overline{BC} </math> with <math>X</math> on <math> \\overline{CY} </math>, and points <math>Z</math> and <math>U</math> are on <math> \\overline{AB} </math> with <math>Z</math> on <math> \\overline{BU} </math>. In addition, the points are positioned so that <math> \\overline{UV}\\parallel\\overline{BC} </math>, <math> \\overline{WX}\\parallel\\overline{AB} </math>, and <math> \\overline{YZ}\\parallel\\overline{CA} </math>. Right angle folds are then made along <math> \\overline{UV} </math>, <math> \\overline{WX} </math>, and <math> \\overline{YZ} </math>. The resulting figure is placed on a leveled floor to make a table with triangular legs. Let <math>h</math> be the maximum possible height of a table constructed from triangle <math>ABC</math> whose top is parallel to the floor. Then <math>h</math> can be written in the form <math> \\frac{k\\sqrt{m}}{n} </math>, where <math>k</math> and <math>n</math> are relatively prime positive integers and <math>m</math> is a positive integer that is not divisible by the square of any prime. Find <math>k+m+n</math>.\n\n\n<center><asy>\nunitsize(1 cm);\npair translate;\npair[] A, B, C, U, V, W, X, Y, Z;\nA[0] = (1.5,2.8);\nB[0] = (3.2,0);\nC[0] = (0,0);\nU[0] = (0.69*A[0] + 0.31*B[0]);\nV[0] = (0.69*A[0] + 0.31*C[0]);\nW[0] = (0.69*C[0] + 0.31*A[0]);\nX[0] = (0.69*C[0] + 0.31*B[0]);\nY[0] = (0.69*B[0] + 0.31*C[0]);\nZ[0] = (0.69*B[0] + 0.31*A[0]);\ntranslate = (7,0);\nA[1] = (1.3,1.1) + translate;\nB[1] = (2.4,-0.7) + translate;\nC[1] = (0.6,-0.7) + translate;\nU[1] = U[0] + translate;\nV[1] = V[0] + translate;\nW[1] = W[0] + translate;\nX[1] = X[0] + translate;\nY[1] = Y[0] + translate;\nZ[1] = Z[0] + translate;\ndraw (A[0]--B[0]--C[0]--cycle);\ndraw (U[0]--V[0],dashed);\ndraw (W[0]--X[0],dashed);\ndraw (Y[0]--Z[0],dashed);\ndraw (U[1]--V[1]--W[1]--X[1]--Y[1]--Z[1]--cycle);\ndraw (U[1]--A[1]--V[1],dashed);\ndraw (W[1]--C[1]--X[1]);\ndraw (Y[1]--B[1]--Z[1]);\ndot(\"$A$\",A[0],N);\ndot(\"$B$\",B[0],SE);\ndot(\"$C$\",C[0],SW);\ndot(\"$U$\",U[0],NE);\ndot(\"$V$\",V[0],NW);\ndot(\"$W$\",W[0],NW);\ndot(\"$X$\",X[0],S);\ndot(\"$Y$\",Y[0],S);\ndot(\"$Z$\",Z[0],NE);\ndot(A[1]);\ndot(B[1]);\ndot(C[1]);\ndot(\"$U$\",U[1],NE);\ndot(\"$V$\",V[1],NW);\ndot(\"$W$\",W[1],NW);\ndot(\"$X$\",X[1],dir(-70));\ndot(\"$Y$\",Y[1],dir(250));\ndot(\"$Z$\",Z[1],NE);</asy></center>",
    "solution": "Note that triangles <math>\\triangle AUV, \\triangle BYZ</math> and <math>\\triangle CWX</math> all have the same height because when they are folded up to create the legs of the table, the top needs to be parallel to the floor. We want to find the maximum possible value of this height, given that no two of <math>\\overline{UV}, \\overline{WX}</math> and <math>\\overline{YZ}</math> intersect inside <math>\\triangle ABC</math>. Let <math>h_{A}</math> denote the length of the altitude dropped from vertex <math>A,</math> and define <math>h_{B}</math> and <math>h_{C}</math> similarly. Also let <math>\\{u, v, w, x, y, z\\} = \\{AU, AV, CW, CX, BY, BZ\\}</math>. Then by similar triangles\n<cmath>\\begin{align}\n\\frac{u}{AB}=\\frac{v}{AC}=\\frac{h}{h_{A}}, \\\\\n\\frac{w}{CA}=\\frac{x}{CB}=\\frac{h}{h_{C}}, \\\\\n\\frac{y}{BC}=\\frac{z}{BA}=\\frac{h}{h_{B}}.\n\\end{align}</cmath>\nSince <math>h_{A}=\\frac{2K}{23}</math> and similarly for <math>27</math> and <math>30,</math> where <math>K</math> is the area of <math>\\triangle ABC,</math> we can write\n<cmath>\\begin{align}\n\\frac{u}{30}=\\frac{v}{27}=\\frac{h}{\\tfrac{2K}{23}}, \\\\\n\\frac{w}{27}=\\frac{x}{23}=\\frac{h}{\\tfrac{2K}{30}}, \\\\\n\\frac{y}{23}=\\frac{z}{30}=\\frac{h}{\\tfrac{2K}{27}}.\n\\end{align}</cmath>\nand simplifying gives <math>u=x=\\frac{690h}{2K}, v=y=\\frac{621h}{2K}, w=z=\\frac{810h}{2K}</math>. Because no two segments can intersect inside the triangle, we can form the inequalities <math>v+w\\leq 27, x+y\\leq 23,</math> and <math>z+u\\leq 30</math>. That is, all three of the inequalities\n<cmath>\\begin{align}\n\\frac{621h+810h}{2K}\\leq 27, \\\\\n\\frac{690h+621h}{2K}\\leq 23, \\\\\n\\frac{810h+690h}{2K}\\leq 30.\n\\end{align}</cmath>\nmust hold. Dividing both sides of each equation by the RHS, we have\n<cmath>\\begin{align}\n\\frac{53h}{2K}\\leq 1\\, \\text{since}\\, \\frac{1431}{27}=53, \\\\\n\\frac{57h}{2K}\\leq 1\\, \\text{since}\\, \\frac{1311}{23}=57, \\\\\n\\frac{50h}{2K}\\leq 1\\, \\text{since}\\, \\frac{1500}{30}=50.\n\\end{align}</cmath>\nIt is relatively easy to see that <math>\\frac{57h}{2K}\\leq 1</math> restricts us the most since it cannot hold if the other two do not hold. The largest possible value of <math>h</math> is thus <math>\\frac{2K}{57},</math> and note that by Heron's formula the area of <math>\\triangle ABC</math> is <math>20\\sqrt{221}</math>. Then <math>\\frac{2K}{57}=\\frac{40\\sqrt{221}}{57},</math> and the answer is <math>40+221+57=261+57=\\boxed{318}</math>\n\n~sugar_rush"
  },
  {
    "year": 2011,
    "variant": "I",
    "problem_number": 9,
    "latex": "Suppose <math>x</math> is in the interval <math>[0, \\pi/2]</math> and <math>\\log_{24\\sin x} (24\\cos x)=\\frac{3}{2}</math>. Find <math>24\\cot^2 x</math>.",
    "solution": "We can rewrite the given expression as\n<cmath>\\sqrt{24^3\\sin^3 x}=24\\cos x</cmath>\nSquare both sides and divide by <math>24^2</math> to get\n<cmath>24\\sin ^3 x=\\cos ^2 x</cmath>\nRewrite <math>\\cos ^2 x</math> as <math>1-\\sin ^2 x</math>\n<cmath>24\\sin ^3 x=1-\\sin ^2 x</cmath>\n<cmath>24\\sin ^3 x+\\sin ^2 x - 1=0</cmath>\nTesting values using the rational root theorem gives <math>\\sin x=\\frac{1}{3}</math> as a root, <math>\\sin^{-1} \\frac{1}{3}</math> does fall in the first quadrant so it satisfies the interval. \nThere are now two ways to finish this problem. \n\n'''First way:''' Since <math>\\sin x=\\frac{1}{3}</math>, we have\n<cmath>\\sin ^2 x=\\frac{1}{9}</cmath>\nUsing the Pythagorean Identity gives us <math>\\cos ^2 x=\\frac{8}{9}</math>. Then we use the definition of <math>\\cot ^2 x</math> to compute our final answer. <math>24\\cot ^2 x=24\\frac{\\cos ^2 x}{\\sin ^2 x}=24\\left(\\frac{\\frac{8}{9}}{\\frac{1}{9}}\\right)=24(8)=\\boxed{192}</math>.\n\n'''Second way:''' Multiplying our old equation <math>24\\sin ^3 x=\\cos ^2 x</math> by <math>\\dfrac{24}{\\sin^2x}</math> gives \n<cmath>576\\sin x = 24\\cot^2x</cmath>\nSo, <math>24\\cot^2x=576\\sin x=576\\cdot\\frac{1}{3}=\\boxed{192}</math>."
  },
  {
    "year": 2011,
    "variant": "I",
    "problem_number": 10,
    "latex": "The probability that a set of three distinct vertices chosen at random from among the vertices of a regular n-gon determine an obtuse triangle is <math>\\frac{93}{125}</math> . Find the sum of all possible values of <math>n</math>.",
    "solution": "Inscribe the regular polygon inside a circle. A triangle inside this circle will be obtuse if and only if its three vertices lie on one side of a diameter of the circle. (This is because if an inscribed angle on a circle is obtuse, the arc it spans must be 180 degrees or greater).\n\nBreak up the problem into two cases: an even number of sides <math>2n</math>, or an odd number of sides <math>2n-1</math>. For polygons with <math>2n</math> sides, the circumdiameter has endpoints on <math>2</math> vertices. There are <math>n-1</math> points on one side of a diameter, plus <math>1</math> of the endpoints of the diameter for a total of <math>n</math> points. For polygons with <math>2n - 1</math> points, the circumdiameter has <math>1</math> endpoint on a vertex and <math>1</math> endpoint on the midpoint of the opposite side. There are also <math>n - 1</math> points on one side of the diameter, plus the vertex for a total of <math>n</math> points on one side of the diameter.\n\nCase 1: <math>2n</math>-sided polygon. There are clearly <math> \\binom{2n}{3}</math> different triangles total. To find triangles that meet the criteria, choose the left-most point. There are obviously <math>2n</math> choices for this point. From there, the other two points must be within the <math>n-1</math> points remaining on the same side of the diameter. So our desired probability is\n<math>\\frac{2n\\binom{n-1}{2}}{\\binom{2n}{3}}</math>\n<math>=\\frac{n(n-1)(n-2)}{\\frac{2n(2n-1)(2n-2)}{6}}</math>\n<math>=\\frac{6n(n-1)(n-2)}{2n(2n-1)(2n-2)}</math>\n<math>=\\frac{3(n-2)}{2(2n-1)}</math>\n\nso <math>\\frac{93}{125}=\\frac{3(n-2)}{2(2n-1)}</math>\n\n<math>186(2n-1)=375(n-2)</math>.\n\n<math>372n-186=375n-750</math>\n\n<math>3n=564</math>\n\n<math>n=188</math> and so the polygon has <math>376</math> sides.\n\nCase 2: <math>2n-1</math>-sided polygon. Similarly, <math>\\binom{2n-1}{3}</math> total triangles. Again choose the leftmost point, with <math>2n-1</math> choices. For the other two points, there are again <math>\\binom{n-1}{2}</math> possibilities.\n\nThe probability is <math>\\frac{(2n-1)\\binom{n-1}{2}}{\\binom{2n-1}{3}}</math>\n\n<math>=\\frac{3(2n-1)(n-1)(n-2)}{(2n-1)(2n-2)(2n-3)}</math>\n\n<math>=\\frac{3(n-2)}{2(2n-3)}</math>\n\nso <math>\\frac{93}{125}=\\frac{3(n-2)}{2(2n-3)}</math>\n\n<math>186(2n-3)=375(n-2)</math>\n\n<math>375n-750=372n-558</math>\n\n<math>3n=192</math>\n\n<math>n=64</math> and our polygon has <math>127</math> sides.\n\nAdding, <math>127+376=\\boxed{503}</math>"
  },
  {
    "year": 2011,
    "variant": "I",
    "problem_number": 11,
    "latex": "Let <math>R</math> be the set of all possible remainders when a number of the form <math>2^n</math>, <math>n</math> a nonnegative integer, is divided by 1000. Let <math>S</math> be the sum of the elements in <math>R</math>. Find the remainder when <math>S</math> is divided by 1000.",
    "solution": "Note that <math>x \\equiv y \\pmod{1000} \\Leftrightarrow x \\equiv y \\pmod{125}</math> and <math>x \\equiv y \\pmod{8}</math>. So we must find the first two integers <math>i</math> and <math>j</math> such that <math>2^i \\equiv 2^j \\pmod{125}</math> and <math>2^i \\equiv 2^j \\pmod{8}</math> and <math>i \\neq j</math>. Note that <math>i</math> and <math>j</math> will be greater than 2 since remainders of <math>1, 2, 4</math> will not be possible after 2 (the numbers following will always be congruent to 0 modulo 8). Note that <math>2^{100}\\equiv 1\\pmod{125}</math> (see [[Euler's Totient Theorem|Euler's theorem]]) and <math>2^0,2^1,2^2,\\ldots,2^{99}</math> are all distinct modulo 125 (proof below). Thus, <math>i = 103</math> and <math>j =3</math> are the first two integers such that <math>2^i \\equiv 2^j \\pmod{1000}</math>. All that is left is to find <math>S</math> in mod <math>1000</math>. After some computation:\n<cmath>\nS = 2^0+2^1+2^2+2^3+2^4+...+2^{101}+ 2^{102} = 2^{103}-1 \\equiv 8 - 1 \\mod 1000 = \\boxed{007}.\n</cmath>\nTo show that <math>2^0, 2^1,\\ldots, 2^{99}</math> are distinct modulo 125, suppose for the sake of contradiction that they are not. Then, we must have at least one of <math>2^{20}\\equiv 1\\pmod{125}</math> or <math>2^{50}\\equiv 1\\pmod{125}</math>. However, writing <math>2^{10}\\equiv 25 - 1\\pmod{125}</math>, we can easily verify that <math>2^{20}\\equiv -49\\pmod{125}</math> and <math>2^{50}\\equiv -1\\pmod{125}</math>, giving us the needed contradiction."
  },
  {
    "year": 2011,
    "variant": "I",
    "problem_number": 12,
    "latex": "Six men and some number of women stand in a line in random order. Let <math>p</math> be the probability that a group of at least four men stand together in the line, given that every man stands next to at least one other man. Find the least number of women in the line such that <math>p</math> does not exceed 1 percent.",
    "solution": "Let <math>n</math> be the number of women present, and let _ be some positive number of women between groups of men.  Since the problem states that every man stands next to another man, there cannot be isolated men.  Thus, there are five cases to consider, where <math>(k)</math> refers to a consecutive group of <math>k</math> men:\n\n _(2)_(2)_(2)_\n\n _(3)_(3)_\n\n _(2)_(4)_\n\n _(4)_(2)_\n\n _(6)_\n\nFor the first case, we can place the three groups of men in between women.  We can think of the groups of men as dividers splitting up the <math>n</math> women.  Since there are <math>n+1</math> possible places to insert the dividers, and we need to choose any three of these locations, we have <math>\\dbinom{n+1}{3}</math> ways.\n\nThe second, third, and fourth cases are like the first, only that we need to insert two dividers among the <math>n+1</math> possible locations.  Each gives us <math>\\dbinom{n+1}{2}</math> ways, for a total of <math>3\\dbinom{n+1}{2}</math> ways.\n\nThe last case gives us <math>\\dbinom{n+1}{1}=n+1</math> ways.\n\nTherefore, the total number of possible ways where there are no isolated men is\n\n<cmath>\\dbinom{n+1}{3}+3\\dbinom{n+1}{2}+(n+1).</cmath>\n\nThe total number of ways where there is a group of at least four men together is the sum of the third, fourth, and fifth case, or\n\n<cmath>2\\dbinom{n+1}{2}+(n+1).</cmath>\n\nThus, we want to find the minimum possible value of <math>n</math> where <math>n</math> is a positive integer such that\n\n<cmath>\\dfrac{2\\dbinom{n+1}{2}+(n+1)}{\\dbinom{n+1}{3}+3\\dbinom{n+1}{2}+(n+1)}\\le\\dfrac{1}{100}.</cmath>\n\nAfter simplification, we arrive at <cmath>\\dfrac{6(n+1)}{n^2+8n+6}\\le\\dfrac{1}{100}.</cmath>\n\nSimplifying again, we see that we seek the smallest positive integer value of <math>n</math> such that <math>n(n-592)\\ge594</math>. Clearly <math>n>592</math>, or the left side will not even be positive; we quickly see that <math>n=593</math> is too small but <math>n=\\boxed{594}</math> satisfies the inequality."
  },
  {
    "year": 2011,
    "variant": "I",
    "problem_number": 13,
    "latex": "A cube with side length 10 is suspended above a plane. The vertex closest to the plane is labeled <math>A</math>. The three vertices adjacent to vertex <math>A</math> are at heights 10, 11, and 12 above the plane. The distance from vertex <math>A</math> to the plane can be expressed as <math> \\frac{r-\\sqrt{s}}{t}</math>, where <math>r</math>, <math>s</math>, and <math>t</math> are positive integers. Find <math>r+s+t</math>.",
    "solution": "Set the cube at the origin with the three vertices along the axes and the plane equal to <math>ax+by+cz+d=0</math>, where <math>a^2+b^2+c^2=1</math>.  The distance from a point <math>(X,Y,Z)</math> to a plane with equation <math>Ax+By+Cz+D=0</math> is \n<cmath>\\frac{AX+BY+CZ+D}{\\sqrt{A^2+B^2+C^2}},</cmath>\nso the (directed) distance from any point <math>(x,y,z)</math> to the plane is <math>ax+by+cz+d</math>.  So, by looking at the three vertices, we have <math>10a+d=10, 10b+d=11, 10c+d=12</math>, and by rearranging and summing, <cmath>(10-d)^2+(11-d)^2+(12-d)^2= 100\\cdot(a^2+b^2+c^2)=100.</cmath>\n\nSolving the equation is easier if we substitute <math>11-d=y</math>, to get <math>3y^2+2=100</math>, or <math>y=\\sqrt {98/3}</math>.  The distance from the origin to the plane is simply <math>d</math>, which is equal to <math>11-\\sqrt{98/3} =(33-\\sqrt{294})/3</math>, so <math>33+294+3=\\boxed{330}</math>."
  },
  {
    "year": 2011,
    "variant": "I",
    "problem_number": 14,
    "latex": "Let <math>A_1 A_2 A_3 A_4 A_5 A_6 A_7 A_8</math> be a regular octagon.  Let <math>M_1</math>, <math>M_3</math>, <math>M_5</math>, and <math>M_7</math> be the midpoints of sides <math>\\overline{A_1 A_2}</math>, <math>\\overline{A_3 A_4}</math>, <math>\\overline{A_5 A_6}</math>, and <math>\\overline{A_7 A_8}</math>, respectively.  For <math>i = 1, 3, 5, 7</math>, ray <math>R_i</math> is constructed from <math>M_i</math> towards the interior of the octagon such that <math>R_1 \\perp R_3</math>, <math>R_3 \\perp R_5</math>, <math>R_5 \\perp R_7</math>, and <math>R_7 \\perp R_1</math>.  Pairs of rays <math>R_1</math> and <math>R_3</math>, <math>R_3</math> and <math>R_5</math>, <math>R_5</math> and <math>R_7</math>, and <math>R_7</math> and <math>R_1</math> meet at <math>B_1</math>, <math>B_3</math>, <math>B_5</math>, <math>B_7</math> respectively.  If <math>B_1 B_3 = A_1 A_2</math>, then <math>\\cos 2 \\angle A_3 M_3 B_1</math> can be written in the form <math>m - \\sqrt{n}</math>, where <math>m</math> and <math>n</math> are positive integers.  Find <math>m + n</math>.",
    "solution": "==Diagram==\n<asy>\nsize(250);\npair A,B,C,D,E,F,G,H,M,N,O,O2,P,W,X,Y,Z;\nA=(-76.537,184.776);\nB=(76.537,184.776);\nC=(184.776,76.537);\nD=(184.776,-76.537);\nE=(76.537,-184.776);\nF=(-76.537,-184.776);\nG=(-184.776,-76.537);\nH=(-184.776,76.537);\nM=(A+B)/2;\nN=(C+D)/2;\nO=(E+F)/2;\nO2=(A+E)/2;\nP=(G+H)/2;\nW=(100,-41.421);\nX=(-41.421,-100);\nY=(-100,41.421);\nZ=(41.421,100);\ndraw(A--B--C--D--E--F--G--H--A);\nlabel(\"$A_1$\",A,dir(112.5));\nlabel(\"$A_2$\",B,dir(67.5));\nlabel(\"$\\textcolor{blue}{A_3}$\",C,dir(22.5));\nlabel(\"$A_4$\",D,dir(337.5));\nlabel(\"$A_5$\",E,dir(292.5));\nlabel(\"$A_6$\",F,dir(247.5));\nlabel(\"$A_7$\",G,dir(202.5));\nlabel(\"$A_8$\",H,dir(152.5));\nlabel(\"$M_1$\",M,dir(90));\nlabel(\"$\\textcolor{blue}{M_3}$\",N,dir(0));\nlabel(\"$M_5$\",O,dir(270));\nlabel(\"$M_7$\",P,dir(180));\nlabel(\"$O$\",O2,dir(152.5));\ndraw(M--W,red);\ndraw(N--X,red);\ndraw(O--Y,red);\ndraw(P--Z,red);\ndraw(O2--(W+X)/2,red);\ndraw(O2--N,red);\nlabel(\"$\\textcolor{blue}{B_1}$\",W,dir(292.5));\nlabel(\"$B_2$\",(W+X)/2,dir(292.5));\nlabel(\"$B_3$\",X,dir(202.5));\nlabel(\"$B_5$\",Y,dir(112.5));\nlabel(\"$B_7$\",Z,dir(22.5));\n</asy>\nAll distances are to scale."
  },
  {
    "year": 2011,
    "variant": "I",
    "problem_number": 15,
    "latex": "For some integer <math>m</math>, the polynomial <math>x^3 - 2011x + m</math> has the three integer roots <math>a</math>, <math>b</math>, and <math>c</math>.  Find <math>|a| + |b| + |c|</math>.",
    "solution": "From Vieta's formulas, we know that <math>a+b+c = 0</math>, and <math>ab+bc+ac = -2011</math>. Thus <math>a = -(b+c)</math>. All three of <math>a</math>, <math>b</math>, and <math>c</math> are non-zero: say, if <math>a=0</math>, then <math>b=-c=\\pm\\sqrt{2011}</math> (which is not an integer). <math>\\textsc{wlog}</math>, let <math>|a| \\ge |b| \\ge |c|</math>. If <math>a > 0</math>, then <math>b,c < 0</math> and if <math>a < 0</math>, then <math>b,c > 0,</math> from the fact that <math>a+b+c=0</math>. We have <cmath>-2011=ab+bc+ac = a(b+c)+bc = -a^2+bc</cmath>\nThus <math>a^2 = 2011 + bc</math>. We know that <math>b</math>, <math>c</math> have the same sign, so product <math>bc</math> is always positive. So <math>|a| \\ge 45 = \\lceil \\sqrt{2011} \\rceil</math>. \n\nAlso, if we fix <math>a</math>, <math>b+c</math> is fixed, so <math>bc</math> is maximized when <math>b = c</math> . Hence, <cmath>2011 = a^2 - bc > \\tfrac{3}{4}a^2 \\qquad \\Longrightarrow \\qquad a ^2 < \\tfrac{4}{3}\\cdot 2011 = 2681+\\tfrac{1}{3}</cmath>\nSo <math>|a| \\le 51</math>. Thus we have bounded <math>a</math> as <math>45\\le |a| \\le 51</math>, i.e. <math>45\\le |b+c| \\le 51</math> since <math>a=-(b+c)</math>. Let's analyze <math>bc=(b+c)^2-2011</math>. Here is a table: \n\n<table border = 1 cellspacing = 0 cellpadding = 5 style = \"text-align:center;\">\n\n<tr><th><math>|a|</math></th><th><math>bc=a^2-2011</math></th></tr>\n\n<tr><td><math>45</math></td><td><math>14</math></td></tr>\n<tr><td><math>46</math></td><td><math>105</math></td></tr>\n<tr><td><math>47</math></td><td><math>198</math></td></tr>\n<tr><td><math>48</math></td><td><math>293</math></td></tr>\n<tr><td><math>49</math></td><td><math>390</math></td></tr>\n</table>\n<br />\n\nWe can tell we don't need to bother with <math>45</math>, \n\n<math>105 = (3)(5)(7)</math>, So <math>46</math> won't work. <math>198/47 > 4</math>, \n\n<math>198</math> is not divisible by <math>5</math>, <math>198/6 = 33</math>, which is too small to get <math>47</math>.\n\n<math>293/48 > 6</math>, <math>293</math> is not divisible by <math>7</math> or <math>8</math> or <math>9</math>, we can clearly tell that <math>10</math> is too much.\n\n\nHence, <math>|a| = 49</math>, <math>a^2 -2011 = 390</math>. <math>b = 39</math>, <math>c = 10</math>.\n\nAnswer: <math>\\boxed{098}</math>"
  },
  {
    "year": 2011,
    "variant": "II",
    "problem_number": 1,
    "latex": "Gary purchased a large beverage, but only drank <math>m/n</math> of it, where <math>m</math> and <math>n</math> are [[relatively prime]] positive integers. If he had purchased half as much and drunk twice as much, he would have wasted only <math>2/9</math> as much beverage. Find <math>m+n</math>.",
    "solution": "Let <math>x</math> be the [[fraction]] consumed, then <math>(1-x)</math> is the fraction wasted. We have <math>\\frac{1}{2} - 2x =\\frac{2}{9} (1-x)</math>, or <math>9 - 36x = 4 - 4x</math>, or <math>32x = 5</math> or <math>x = 5/32</math>. Therefore, <math>m + n = 5 + 32 = \\boxed{037}</math>."
  },
  {
    "year": 2011,
    "variant": "II",
    "problem_number": 2,
    "latex": "== Problem 2 ==\nOn [[square]] <math>ABCD</math>, point <math>E</math> lies on side <math>AD</math> and point <math>F</math> lies on side <math>BC</math>, so that <math>BE=EF=FD=30</math>. Find the area of the square <math>ABCD</math>.",
    "solution": "Drawing the square and examining the given lengths,\n<asy>\nsize(2inch, 2inch);\ncurrentpen = fontsize(8pt);\npair A = (0, 0); dot(A); label(\"$A$\", A, plain.SW);\npair B = (3, 0); dot(B); label(\"$B$\", B, plain.SE);\npair C = (3, 3); dot(C); label(\"$C$\", C, plain.NE);\npair D = (0, 3); dot(D); label(\"$D$\", D, plain.NW);\npair E = (0, 1); dot(E); label(\"$E$\", E, plain.W);\npair F = (3, 2); dot(F); label(\"$F$\", F, plain.E);\nlabel(\"$\\frac x3$\", E--A);\nlabel(\"$\\frac x3$\", F--C);\nlabel(\"$x$\", A--B);\nlabel(\"$x$\", C--D);\nlabel(\"$\\frac {2x}3$\", B--F);\nlabel(\"$\\frac {2x}3$\", D--E);\nlabel(\"$30$\", B--E);\nlabel(\"$30$\", F--E);\nlabel(\"$30$\", F--D);\ndraw(B--C--D--F--E--B--A--D);\n</asy>\nyou find that the three segments cut the square into three equal horizontal sections. Therefore, (<math>x</math> being the side length), <math>\\sqrt{x^2+(x/3)^2}=30</math>, or <math>x^2+(x/3)^2=900</math>. Solving for <math>x</math>, we get <math>x=9\\sqrt{10}</math>, and <math>x^2=810.</math>\n\nArea of the square is <math>\\fbox{810}</math>."
  },
  {
    "year": 2011,
    "variant": "II",
    "problem_number": 3,
    "latex": "The degree measures of the angles in a [[convex polygon|convex]] 18-sided polygon form an increasing [[arithmetic sequence]] with integer values. Find the degree measure of the smallest [[angle]].",
    "solution": "===Solution 1===\nThe average angle in an 18-gon is <math>160^\\circ</math>. In an arithmetic sequence the average is the same as the median, so the middle two terms of the sequence average to <math>160^\\circ</math>. Thus for some positive (the sequence is increasing and thus non-constant) integer <math>d</math>, the middle two terms are <math>(160-d)^\\circ</math> and <math>(160+d)^\\circ</math>. Since the step is <math>2d</math> the last term of the sequence is <math>(160 + 17d)^\\circ</math>, which must be less than <math>180^\\circ</math>, since the polygon is convex. This gives <math>17d < 20</math>, so the only suitable positive integer <math>d</math> is 1. The first term is then <math>(160-17)^\\circ = \\fbox{143}.</math>\n\n===Solution 2===\nAnother way to solve this problem would be to use exterior angles. [[Exterior angle]]s of any polygon add up to <math>360^{\\circ}</math>. Since there are <math>18</math> exterior angles in an 18-gon, the average measure of an exterior angles is <math>\\frac{360}{18}=20^\\circ</math>. We know from the problem that since the exterior angles must be in an arithmetic sequence, the median and average of them is <math>20</math>. Since there are even number of exterior angles, the middle two must be <math>19^\\circ</math> and <math>21^\\circ</math>, and the difference between terms must be <math>2</math>. Check to make sure the smallest exterior angle is greater than <math>0</math>: <math>19-2(8)=19-16=3^\\circ</math>. It is, so the greatest exterior angle is <math>21+2(8)=21+16=37^\\circ</math> and the smallest interior angle is <math>180-37=\\boxed{143}</math>.\n\n===Solution 3===\nThe sum of the angles in a 18-gon is <math>(18-2) \\cdot 180^\\circ = 2880 ^\\circ.</math> Because the angles are in an arithmetic sequence, we can also write the sum of the angles as <math>a+(a+d)+(a+2d)+\\dots+(a+17d)=18a+153d,</math> where <math>a</math> is the smallest angle and <math>d</math> is the common difference. Since these two are equal, we know that <math>18a+153d = 2880 ^\\circ,</math> or <math>2a+17d = 320^\\circ.</math> The smallest value of <math>d</math> that satisfies this is <math>d=2,</math> so <math>a=143.</math> Other values of <math>d</math> and <math>a</math> satisfy that equation, but if we tried any of them the last angle would be greater than <math>180,</math> so the only value of <math>a</math> that works is <math>a=\\boxed{143}</math>.\n\nNote: The equation <math>2a+17d = 320^\\circ</math> can also be obtained by using the sum of an arithmetic sequence formula <math>\\frac{2a_1+(n-1)d}{2} \\cdot n</math>. We set <math>n = 18</math> and equate it to 2880, thereby achieving the same result.\n~Eclipse471\n~note by cxsmi\n\n===Solution 4===\nEach individual angle in a <math>18</math>-gon is <math>\\frac {(18-2) \\cdot 180^\\circ}{18} = 160^\\circ</math>. Since no angle in a convex polygon can be larger than <math>180^\\circ</math>, the smallest angle possible is in the set <math>159, 161, 157, 163, 155, 165, 153, 167, 151, 169, 149, 171, 147, 173, 145, 175, 143, 177</math>. \n\nOur smallest possible angle is <math>\\boxed {143}</math>\n\n~Arcticturn"
  },
  {
    "year": 2011,
    "variant": "II",
    "problem_number": 4,
    "latex": "== Problem 4 ==\nIn triangle <math>ABC</math>, <math>AB=20</math> and <math>AC=11</math>. The angle bisector of <math>\\angle A</math> intersects <math>BC</math> at point <math>D</math>, and point <math>M</math> is the midpoint of <math>AD</math>. Let <math>P</math> be the point of the intersection of <math>AC</math> and <math>BM</math>. The ratio of <math>CP</math> to <math>PA</math> can be expressed in the form <math>\\dfrac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "<asy>\npointpen = black; pathpen = linewidth(0.7);\n\npair A = (0,0), C= (11,0), B=IP(CR(A,20),CR(C,18)), D = IP(B--C,CR(B,20/31*abs(B-C))), M = (A+D)/2, P = IP(M--2*M-B, A--C), D2 = IP(D--D+P-B, A--C);\n\nD(MP(\"A\",D(A))--MP(\"B\",D(B),N)--MP(\"C\",D(C))--cycle); D(A--MP(\"D\",D(D),NE)--MP(\"D'\",D(D2))); D(B--MP(\"P\",D(P))); D(MP(\"M\",M,NW)); MP(\"20\",(B+D)/2,ENE); MP(\"11\",(C+D)/2,ENE);\n\n</asy> Let <math>D'</math> be on <math>\\overline{AC}</math> such that <math>BP \\parallel DD'</math>. It follows that <math>\\triangle BPC \\sim \\triangle DD'C</math>, so <cmath>\\frac{PC}{D'C} = 1 + \\frac{BD}{DC} = 1 + \\frac{AB}{AC} = \\frac{31}{11}</cmath> by the [[Angle Bisector Theorem]]. Similarly, we see by the Midline Theorem that <math>AP = PD'</math>. Thus, <cmath>\\frac{CP}{PA} = \\frac{1}{\\frac{PD'}{PC}} = \\frac{1}{1 - \\frac{D'C}{PC}} = \\frac{31}{20},</cmath> and <math>m+n = \\boxed{51}</math>."
  },
  {
    "year": 2011,
    "variant": "II",
    "problem_number": 5,
    "latex": "The sum of the first <math>2011</math> terms of a [[geometric sequence]] is <math>200</math>. The sum of the first <math>4022</math> terms is <math>380</math>. Find the sum of the first <math>6033</math> terms.",
    "solution": "Since the sum of the first <math>2011</math> terms is <math>200</math>, and the sum of the first <math>4022</math> terms is <math>380</math>, the sum of the second <math>2011</math> terms is <math>180</math>.\nThis is decreasing from the first 2011, so the common ratio is less than one.\n\nBecause it is a geometric sequence and the sum of the first 2011 terms is <math>200</math>, second <math>2011</math> is <math>180</math>, the ratio of the second <math>2011</math> terms to the first <math>2011</math> terms is <math>\\frac{9}{10}</math>. Following the same pattern, the sum of the third <math>2011</math> terms is <math>\\frac{9}{10}*180 = 162</math>.\n\nThus, <math>200+180+162=542</math>, so the sum of the first <math>6033</math> terms is <math>\\boxed{542}</math>."
  },
  {
    "year": 2011,
    "variant": "II",
    "problem_number": 6,
    "latex": "==Problem 6==\n\nDefine an ordered quadruple of integers <math>(a, b, c, d)</math> as interesting if <math>1 \\le a<b<c<d \\le 10</math>, and <math>a+d>b+c</math>. How many interesting ordered quadruples are there?",
    "solution": "Rearranging the [[inequality]] we get <math>d-c > b-a</math>. Let <math>e = 11</math>, then <math>(a, b-a, c-b, d-c, e-d)</math> is a partition of 11 into 5 positive integers or equivalently:\n<math>(a-1, b-a-1, c-b-1, d-c-1, e-d-1)</math> is a [[partition]] of 6 into 5 non-negative integer parts. Via a standard stars and bars argument, the number of ways to partition 6 into 5 non-negative parts is <math>\\binom{6+4}4 = \\binom{10}4 = 210</math>. The interesting quadruples correspond to partitions where the second number is less than the fourth. By symmetry, there are as many partitions where the fourth is less than the second. So, if <math>N</math> is the number of partitions where the second element is equal to the fourth, our answer is <math>(210-N)/2</math>.\n\nWe find <math>N</math> as a sum of 4 cases:\n* two parts equal to zero, <math>\\binom82 = 28</math> ways,\n* two parts equal to one, <math>\\binom62 = 15</math> ways,\n* two parts equal to two, <math>\\binom42 = 6</math> ways,\n* two parts equal to three, <math>\\binom22 = 1</math> way.\nTherefore, <math>N = 28 + 15 + 6 + 1 = 50</math> and our answer is <math>(210 - 50)/2 = \\fbox{080}</math>"
  },
  {
    "year": 2011,
    "variant": "II",
    "problem_number": 7,
    "latex": "Ed has five identical green marbles, and a large supply of identical red marbles. He arranges the green marbles and some of the red ones in a row and finds that the number of marbles whose right hand neighbor is the same color as themselves is equal to the number of marbles whose right hand neighbor is the other color. An example of such an arrangement is GGRRRGGRG. Let <math>m</math> be the maximum number of red marbles for which such an arrangement is possible, and let <math>N</math> be the number of ways he can arrange the <math>m+5</math> marbles to satisfy the requirement. Find the remainder when <math>N</math> is divided by <math>1000</math>.",
    "solution": "We are limited by the number of marbles whose right hand neighbor is not the same color as the marble.  By surrounding every green marble with red marbles - RGRGRGRGRGR.  That's 10 \"not the same colors\" and 0 \"same colors.\"  Now, for every red marble we add, we will add one \"same color\" pair and keep all 10 \"not the same color\" pairs.  It follows that we can add 10 more red marbles for a total of <math>m = 16</math>.  We can place those ten marbles  in any of 6 \"boxes\": To the left of the first green marble, to the right of the first but left of the second, etc. up until to the right of the last.  This is a stars-and-bars problem, the solution of which can be found as <math>\\binom{n+k}{k}</math> where n is the number of stars and k is the number of bars.  There are 10 stars (The unassigned Rs, since each \"box\" must contain at least one, are not counted here) and 5 \"bars,\" the green marbles.  So the answer is <math>\\binom{15}{5} = 3003</math>, take the remainder when divided by 1000 to get the answer: <math>\\boxed{003}</math>.\n\n\nRewording:\n\nThere are three states for every marble: the one to the right is different, the one to the right is the same, and there is no marble to its right. Since there are unlimited red marbles, the second value can be created infinitely and is therefore worthless. However, the first value can only be created with a combination green marbles, thus finite, and worthy of our interest. As such, to maximize the amount of red marbles, we need to maximize the appearances of the first value. The \"minimal\" of this strategy is to simply separate every green marble with a red - RGRGRGRGRGR. There are ten appearances of the first value, so we must add a number of red marbles to add appearances of the second value. With quick testing we can conclude the need of nine new red marbles that can be placed in six defined places that are divided by the green marbles. This is followed by stars and bars which gives us <math>\\binom{15}{5} = 3003</math>, <math>\\boxed{003}</math>.\n\n\n-jackshi2006"
  },
  {
    "year": 2011,
    "variant": "II",
    "problem_number": 8,
    "latex": "Let <math>z_1,z_2,z_3,\\dots,z_{12}</math> be the 12 zeroes of the polynomial <math>z^{12}-2^{36}</math>. For each <math>j</math>, let <math>w_j</math> be one of <math>z_j</math> or <math>i z_j</math>. Then the maximum possible value of the real part of <math>\\sum_{j=1}^{12} w_j</math> can be written as <math>m+\\sqrt{n}</math> where <math>m</math> and <math>n</math> are positive integers. Find <math>m+n</math>.",
    "solution": "<center>[[File:2011_AIME_II_-8.png‚Äé]]</center>\n\nThe twelve dots above represent the <math>12</math> roots of the equation <math>z^{12}-2^{36}=0</math>. If we write <math>z=a+bi</math>, then the real part of <math>z</math> is <math>a</math> and the real part of <math>iz</math> is <math>-b</math>. The blue dots represent those roots <math>z</math> for which the real part of <math>z</math> is greater than the real part of <math>iz</math>, and the red dots represent those roots <math>z</math> for which the real part of <math>iz</math> is greater than the real part of <math>z</math>. Now, the sum of the real parts of the blue dots is easily seen to be <math>8+16\\cos\\frac{\\pi}{6}=8+8\\sqrt{3}</math> and the negative of the sum of the imaginary parts of the red dots is easily seen to also be <math>8+8\\sqrt{3}</math>. Hence our desired sum is <math>16+16\\sqrt{3}=16+\\sqrt{768}</math>, giving the answer <math>\\boxed{784}.</math>\n\n=== Solution <math>1.\\overline{3}</math> ===\n\nAs a small note, we could factor the equation as <math>z^{12} = 2^{36} \\implies (\\frac{z}{8})^{12} = 1</math> in which these are just the 12th roots of unity for <math>\\frac{z}{8}</math> which might be easier to work with. Then we just add up the optimal real parts as in solution 1 and then multiply by 8 at the end.\n\n=== Solution <math>1.\\overline{6}</math> ===\n\nNote that <math>\\sin(x) = \\sin(x + \\pi/2 - \\pi/2) = -\\cos(x + \\pi/2)</math>. When summing the real part of <math>8i(\\cos(x) + i\\sin(x))</math> is <math>-8\\sin(x) = 8\\cos(x + \\pi/2)</math>.\n\nSo, translate all the red dots by <math>90^{\\circ}</math> and sum the cosines of angles of the blue and (rotated) red dots.\n\n[[File:Red Point Translation.png]]\n\nThen, it's easy to see that points 2, 3, and 4 cancel out with 5, 6, and 7, so you're left with <math>8 \\cdot (\\cos \\pi/6 + \\cos -\\pi/6 + \\cos 0)</math> times two\n~[https://artofproblemsolving.com/wiki/index.php?title=User:Crazyvideogamez CrazyVideoGamez]"
  },
  {
    "year": 2011,
    "variant": "II",
    "problem_number": 9,
    "latex": "==Problem 9==\nLet <math>x_1, x_2, ... , x_6</math> be non-negative real numbers such that <math>x_1 +x_2 +x_3 +x_4 +x_5 +x_6 =1</math>, and <math>x_1 x_3 x_5 +x_2 x_4 x_6 \\ge {\\frac{1}{540}}</math>. Let <math>p</math> and <math>q</math> be positive relatively prime integers such that <math>\\frac{p}{q}</math> is the maximum possible value of\n<math>x_1 x_2 x_3 + x_2 x_3 x_4 +x_3 x_4 x_5 +x_4 x_5 x_6 +x_5 x_6 x_1 +x_6 x_1 x_2</math>. Find <math>p+q</math>.",
    "solution": "===Solution 1===\nNote that neither the constraint nor the expression we need to maximize involves products <math>x_i x_j</math> with <math>i \\equiv j \\pmod 3</math>. Factoring out say <math>x_1</math> and <math>x_4</math> we see that the constraint is <math>x_1(x_3x_5) + x_4(x_2x_6) \\ge {\\frac1{540}}</math>, while the expression we want to maximize is <math>x_1(x_2x_3 + x_5x_6 + x_6x_2) + x_4(x_2x_3 + x_5x_6 + x_3x_5)</math>. Adding the left side of the constraint to the expression, we get: <math>(x_1 + x_4)(x_2x_3 + x_5x_6 + x_6x_2 + x_3x_5) = (x_1 + x_4)(x_2 + x_5)(x_3 + x_6)</math>. This new expression is the product of three non-negative terms whose sum is equal to 1. By AM-GM this product is at most <math>\\frac1{27}</math>. Since we have added at least <math>\\frac{1}{540}</math> the desired maximum is at most <math>\\frac1{27} - \\frac1{540} =\\frac{19}{540}</math>. It is easy to see that this upper bound can in fact be achieved by ensuring that the constraint expression is equal to <math>\\frac1{540}</math> with <math>x_1 + x_4 = x_2 + x_5 = x_3 + x_6 =\\frac13</math>&mdash;for example, by choosing <math>x_1</math> and <math>x_2</math> small enough&mdash;so our answer is <math>540 + 19 = \\fbox{559}.</math>\n\nAn example is:\n<cmath>\n\\begin{align*}\nx_3 &= x_6 = \\frac16 \\\\\nx_1 &= x_2 = \\frac{5 - \\sqrt{20}}{30} \\\\\nx_5 &= x_4 = \\frac{5 + \\sqrt{20}}{30}\n\\end{align*}\n</cmath>\n\nAnother example is \n<cmath>\n\\begin{align*}\nx_1 = x_3 = \\frac{1}{3} \\\\\nx_2 = \\frac{19}{60}, \\ x_5 = \\frac{1}{60} \\\\\nx_4 &= x_6 = 0\n\\end{align*}\n</cmath>\n\n===Solution 2 (Not legit)===\nThere's a symmetry between <math>x_1, x_3, x_5</math> and <math>x_2,x_4,x_6</math>. Therefore, a good guess is that <math>a = x_1 = x_3 = x_5</math> and <math>b = x_2 = x_4 = x_6</math>, at which point we know that <math>a+b = 1/3</math>, <math>a^3+b^3 \\geq 1/540</math>, and we are trying to maximize <math>3a^2b+3ab^2</math>. Then,\n\n<cmath>3a^2b+3ab^2 = (a+b)^3-a^3-b^3 \\leq \\frac{1}{27} - \\frac{1}{540} = \\boxed{\\frac{19}{540}}</cmath> which is the answer.\n\nThis solution is extremely lucky; if you attempt to solve for <math>a</math> and <math>b</math> you receive complex answers (which contradict the problem statement), but the final answer is correct."
  },
  {
    "year": 2011,
    "variant": "II",
    "problem_number": 10,
    "latex": "== Problem 10 ==\nA [[circle]] with center <math>O</math> has radius 25. [[Chord]] <math>\\overline{AB}</math> of length 30 and chord <math>\\overline{CD}</math> of length 14 intersect at point <math>P</math>. The distance between the [[midpoint]]s of the two chords is 12. The quantity <math>OP^2</math> can be represented as <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are [[relatively prime]] positive integers. Find the remainder when <math>m + n</math> is divided by 1000.",
    "solution": "Let <math>E</math> and <math>F</math> be the midpoints of <math>\\overline{AB}</math> and <math>\\overline{CD}</math>, respectively, such that <math>\\overline{BE}</math> intersects <math>\\overline{CF}</math>.\n\nSince <math>E</math> and <math>F</math> are midpoints, <math>BE = 15</math> and <math>CF = 7</math>.\n\n<math>B</math> and <math>C</math> are located on the circumference of the circle, so <math>OB = OC = 25</math>.\n\nThe line through the midpoint of a chord of a circle and the center of that circle is perpendicular to that chord, so <math>\\triangle OEB</math> and <math>\\triangle OFC</math> are right triangles (with <math>\\angle OEB</math> and <math>\\angle OFC</math> being the right angles).  By the Pythagorean Theorem, <math>OE = \\sqrt{25^2 - 15^2} = 20</math>, and <math>OF = \\sqrt{25^2 - 7^2} = 24</math>.\n\nLet <math>x</math>, <math>a</math>, and <math>b</math> be lengths <math>OP</math>, <math>EP</math>, and <math>FP</math>, respectively.  OEP and OFP are also right triangles, so <math>x^2 = a^2 + 20^2 \\to a^2 = x^2 - 400</math>, and <math>x^2 = b^2 + 24^2 \\to b^2 = x^2 - 576</math>\n\nWe are given that <math>EF</math> has length 12, so, using the [[Law of Cosines]] with <math>\\triangle EPF</math>:\n\n<math>12^2 = a^2 + b^2 - 2ab \\cos (\\angle EPF) = a^2 + b^2 - 2ab \\cos (\\angle EPO + \\angle FPO)</math>\n\nSubstituting for <math>a</math> and <math>b</math>, and applying the Cosine of Sum formula:\n\n<math>144 = (x^2 - 400) + (x^2 - 576) - 2 \\sqrt{x^2 - 400} \\sqrt{x^2 - 576} \\left( \\cos \\angle EPO \\cos \\angle FPO - \\sin \\angle EPO \\sin \\angle FPO \\right)</math>\n\n<math>\\angle EPO</math> and <math>\\angle FPO</math> are acute angles in right triangles, so substitute opposite/hypotenuse for sines and adjacent/hypotenuse for cosines:\n\n<math>144 = 2x^2 - 976 - 2 \\sqrt{(x^2 - 400)(x^2 - 576)} \\left(\\frac{\\sqrt{x^2 - 400}}{x} \\frac{\\sqrt{x^2 - 576}}{x} - \\frac{20}{x} \\frac{24}{x} \\right)</math>\n\nCombine terms and multiply both sides by <math>x^2</math>: <math>144 x^2 = 2 x^4 - 976 x^2 - 2 (x^2 - 400) (x^2 - 576) + 960  \\sqrt{(x^2 - 400)(x^2 - 576)}</math>\n\nCombine terms again, and divide both sides by 64: <math>13 x^2 = 7200 - 15 \\sqrt{x^4 - 976 x^2 + 230400}</math>\n\nSquare both sides: <math>169 x^4 - 187000 x^2 + 51,840,000 = 225 x^4 - 219600 x^2 + 51,840,000</math>\n\nThis reduces to <math>x^2 = \\frac{4050}{7} = (OP)^2</math>; <math>4050 + 7 \\equiv \\boxed{057} \\pmod{1000}</math>."
  },
  {
    "year": 2011,
    "variant": "II",
    "problem_number": 11,
    "latex": "Let <math>M_n</math> be the <math>n \\times n</math> [[matrix]] with entries as follows: for <math>1 \\le i \\le n</math>, <math>m_{i,i} = 10</math>; for <math>1 \\le i \\le n - 1</math>, <math>m_{i+1,i} = m_{i,i+1} = 3</math>; all other entries in <math>M_n</math> are zero. Let <math>D_n</math> be the [[determinant]] of matrix <math>M_n</math>. Then <math>\\sum_{n=1}^{\\infty} \\frac{1}{8D_n+1}</math> can be represented as <math>\\frac{p}{q}</math>, where <math>p</math> and <math>q</math> are [[relatively prime]] positive integers. Find <math>p + q</math>.\n\nNote: The determinant of the <math>1 \\times 1</math> matrix <math>[a]</math> is <math>a</math>, and the determinant of the <math>2 \\times 2</math> matrix <math>\\left[ {\\begin{array}{cc}\n a & b  \\\\\n c & d  \\\\\n \\end{array} } \\right] = ad - bc</math>; for <math>n \\ge 2</math>, the determinant of an <math>n \\times n</math> matrix with first row or first column <math>a_1</math> <math>a_2</math> <math>a_3</math> <math>\\dots</math> <math>a_n</math> is equal to <math>a_1C_1 - a_2C_2 + a_3C_3 - \\dots + (-1)^{n+1}a_nC_n</math>, where <math>C_i</math> is the determinant of the <math>(n - 1) \\times (n - 1)</math> matrix formed by eliminating the row and column containing <math>a_i</math>.",
    "solution": "<cmath>D_{1}=\\begin{vmatrix}\n 10  \n \\end{vmatrix} = 10, \\quad\nD_{2}=\\begin{vmatrix}\n10 & 3  \\\\\n 3 & 10  \\\\ \\end{vmatrix}\n=(10)(10) - (3)(3) = 91, \\quad\nD_{3}=\\begin{vmatrix}\n 10 & 3 & 0  \\\\\n 3 & 10 & 3  \\\\\n 0 & 3 & 10  \\\\\n \\end{vmatrix}. </cmath>\nUsing the expansionary/recursive definition of determinants (also stated in the problem):\n\n<math>D_{3}=\\left| {\\begin{array}{ccc}\n 10 & 3 & 0  \\\\\n 3 & 10 & 3  \\\\\n 0 & 3 & 10  \\\\\n \\end{array} } \\right|=10\\left| {\\begin{array}{cc}\n 10 & 3  \\\\\n 3 & 10  \\\\\n \\end{array} } \\right| - 3\\left| {\\begin{array}{cc}\n 3 & 3  \\\\\n 0 & 10  \\\\\n \\end{array} } \\right| + 0\\left| {\\begin{array}{cc}\n 3 & 10  \\\\\n 0 & 3  \\\\\n \\end{array} } \\right| = 10D_{2} - 9D_{1} = 820</math>\n\nThis pattern repeats because the first element in the first row of <math>M_{n}</math> is always 10, the second element is always 3, and the rest are always 0. The ten element directly expands to <math>10D_{n-1}</math>. The three element expands to 3 times the determinant of the the matrix formed from omitting the second column and first row from the original matrix. Call this matrix <math>X_{n}</math>. <math>X_{n}</math> has a first column entirely of zeros except for the first element, which is a three. A property of matrices is that the determinant can be expanded over the rows instead of the columns (still using the recursive definition as given in the problem), and the determinant found will still be the same. Thus, expanding over this first column yields <math>3D_{n-2} + 0(\\text{other things})=3D_{n-2}</math>. Thus, the <math>3 \\det(X_{n})</math> expression turns into <math>9D_{n-2}</math>. Thus, the equation <math>D_{n}=10D_{n-1}-9D_{n-2}</math> holds for all n > 2.\n\nThis equation can be rewritten as <math>D_{n}=10(D_{n-1}-D_{n-2}) + D_{n-2}</math>. This version of the equation involves the difference of successive terms of a recursive sequence. Calculating <math>D_{0}</math> backwards from the recursive formula and <math>D_{4}</math> from the formula yields <math>D_{0}=1, D_{4}=7381</math>. Examining the differences between successive terms, a pattern emerges. \n<math>D_{0}=1=9^{0}</math>, <math>D_{1}-D_{0}=10-1=9=9^{1}</math>, <math>D_{2}-D_{1}=91-10=81=9^{2}</math>, <math>D_{3}-D_{2}=820-91=729=9^{3}</math>, <math>D_{4}-D_{3}=7381-820=6561=9^{4}</math>.\nThus, <math>D_{n}=D_{0} + 9^{1}+9^{2}+ . . . +9^{n}=\\sum_{i=0}^{n}9^{i}=\\frac{(1)(9^{n+1}-1)}{9-1}=\\frac{9^{n+1}-1}{8}</math>.\n\nThus, the desired sum is <math>\\sum_{n=1}^{\\infty}\\frac{1}{8\\frac{9^{n+1}-1}{8}+1}=\\sum_{n=1}^{\\infty}\\frac{1}{9^{n+1}-1+1} = \\sum_{n=1}^{\\infty}\\frac{1}{9^{n+1}} </math>\n\nThis is an infinite [[geometric series]] with first term <math>\\frac{1}{81}</math> and common ratio <math>\\frac{1}{9}</math>. Thus, the sum is <math>\\frac{\\frac{1}{81}}{1-\\frac{1}{9}}=\\frac{\\frac{1}{81}}{\\frac{8}{9}}=\\frac{9}{(81)(8)}=\\frac{1}{(9)(8)}=\\frac{1}{72}</math>.\n\nThus, <math>p + q = 1 + 72 = \\boxed{073}</math>."
  },
  {
    "year": 2011,
    "variant": "II",
    "problem_number": 12,
    "latex": "== Problem 12 ==\nNine delegates, three each from three different countries, randomly select chairs at a round table that seats nine people. Let the [[probability]] that each delegate sits next to at least one delegate from another country be <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are [[relatively prime]] positive integers. Find <math>m + n</math>.",
    "solution": "Use complementary probability and [[Principle of Inclusion-Exclusion]]. If we consider the delegates from each country to be indistinguishable and number the chairs, we have <cmath>\\frac{9!}{(3!)^3} = \\frac{9\\cdot8\\cdot7\\cdot6\\cdot5\\cdot4}{6\\cdot6} = 6\\cdot8\\cdot7\\cdot5 = 30\\cdot56</cmath> total ways to seat the candidates. \n\nOf these, there are <math>3 \\times 9 \\times \\frac{6!}{(3!)^2} </math> ways to have the candidates of at least some one country sit together. This comes to <cmath>\\frac{27\\cdot6\\cdot5\\cdot4}6 = 27\\cdot 20.</cmath>\n\nAmong these there are <math> 3 \\times 9 \\times 4 </math> ways for candidates from two countries to each sit together. This comes to <math> 27\\cdot 4. </math>\n\nFinally, there are <math> 9 \\times 2 = 18.</math> ways for the candidates from all the countries to sit in three blocks (9 clockwise arrangements, and 9 counter-clockwise arrangements).\n\nSo, by PIE, the total count of unwanted arrangements is <math>27\\cdot 20 - 27\\cdot 4 + 18 = 16\\cdot27 + 18 = 18\\cdot25. </math> So the fraction <cmath> \\frac mn = \\frac{30\\cdot 56 - 18\\cdot 25}{30\\cdot 56} = \\frac{56 - 15}{56} = \\frac{41}{56}.</cmath> Thus <math>m + n = 56 + 41 = \\fbox{097}.</math>"
  },
  {
    "year": 2011,
    "variant": "II",
    "problem_number": 13,
    "latex": "Point <math>P</math> lies on the diagonal <math>AC</math> of [[square]] <math>ABCD</math> with <math>AP > CP</math>. Let <math>O_{1}</math> and <math>O_{2}</math> be the [[circumcenter]]s of triangles <math>ABP</math> and <math>CDP</math> respectively. Given that <math>AB = 12</math> and <math>\\angle O_{1}PO_{2} = 120^{\\circ}</math>, then <math>AP = \\sqrt{a} + \\sqrt{b}</math>, where <math>a</math> and <math>b</math> are positive integers. Find <math>a + b</math>.",
    "solution": "==Quickest Method of Solving==\nThis is a combination of Solutions 1 and 2.\n\nFirst, draw <math>O_1P,O_2P,BP,DP</math>. Then, observe that <math>\\angle BAP=45</math> implies that <math>\\angle BO_1P=90</math>. So, <math>\\triangle BO_1P</math> is a <math>45-90-45</math> triangle. Similarly, observe that <math>DO_2P</math> is too. So, a rotation of <math>\\angle O_1PO_2</math> to <math>\\angle BPO_2</math> adds <math>45</math> degrees. Then, moving to <math>BPD</math> subtracts <math>45</math> degrees. Hence, <math>\\angle BPD=120</math>. Let the intersection of <math>BD</math> and <math>AC</math> be <math>Q</math>. Then <math>BQP</math> is a <math>30-90-60</math> triangle, hence <math>QP=\\frac{6\\sqrt{2}}{\\sqrt{3}}</math> (We know that <math>BQ</math> is <math>6\\sqrt{2}</math>), or <math>QP=2\\sqrt{6}</math> Finally, <math>AP=QP+AQ=2\\sqrt{6}+6\\sqrt{2}=\\sqrt{24}+\\sqrt{72} \\Rightarrow \\boxed{096}</math>"
  },
  {
    "year": 2011,
    "variant": "II",
    "problem_number": 14,
    "latex": "==Problem 14==\nThere are <math>N</math> [[permutation]]s <math>(a_{1}, a_{2}, ... , a_{30})</math> of <math>1, 2, \\ldots, 30</math> such that for <math>m \\in \\left\\{{2, 3, 5}\\right\\}</math>, <math>m</math> divides <math>a_{n+m} - a_{n}</math> for all integers <math>n</math> with <math>1 \\leq n < n+m \\leq 30</math>. Find the remainder when <math>N</math> is divided by <math>1000</math>.",
    "solution": "===Solution 1===\nBe wary of \"position\" versus \"number\" in the solution!\n\nEach POSITION in the 30-position permutation is uniquely defined by an ordered triple <math>(i, j, k)</math>. The <math>n</math>th position is defined by this ordered triple where <math>i</math> is <math>n \\mod 2</math>, <math>j</math> is <math>n \\mod 3</math>, and <math>k</math> is <math>n \\mod 5</math>. There are 2 choices for <math>i</math>, 3 for <math>j</math>, and 5 for <math>k</math>, yielding <math>2 \\cdot 3 \\cdot 5=30</math> possible triples. Because the least common multiple of 2, 3, and 5 is 30, none of these triples are repeated and all are used. By the conditions of the problem, if <math>i</math> is the same in two different triples, then the two numbers in these positions must be equivalent mod 2. If <math>j</math> is the same, then the two numbers must be equivalent <math>\\mod 3</math>, and if <math>k</math> is the same, the two numbers must be equivalent mod 5. Take care to note that that doesn't mean that the number 1 has to have <math>1 \\mod 2</math>! It's that the POSITION which NUMBER 1 occupies has <math>1 \\mod 2</math>!\n\nThe ordered triple (or position) in which 1 can be placed has 2 options for i, 3 for j, and 5 for k, resulting in 30 different positions of placement.\n\nThe ordered triple where 2 can be placed in is somewhat constrained by the placement of 1. Because 1 is not equivalent to 2 in terms of mod 2, 3, or 5, the i, j, and k in their ordered triples must be different. Thus, for the number 2, there are (2-1) choices for i, (3-1) choices for j, and (5-1) choices for k. Thus, there are 1*2*4=8 possible placements for the number two once the number one is placed.\n\nBecause 3 is equivalent to 1 mod 2, it must have the same i as the ordered triple of 1. Because 3 is not equivalent to 1 or 2 in terms of mod 3 or 5, it must have different j and k values. Thus, there is 1 choice for i, (2-1) choices for j, and (4-1) choices for k, for a total of <math>1\\cdot 1 \\cdot 3=3</math> choices for the placement of 3.\n\nAs above, 4 is even, so it must have the same value of i as 2. It is also 1 mod 3, so it must have the same j value of 1. 4 is not equivalent to 1, 2, or 3 mod 5, so it must have a different k value than that of 1, 2, and 3. Thus, there is 1 choice for i, 1 choice for j, and (3-1) choices for k, yielding a total of <math>1 \\cdot 1 \\cdot 2=2</math> possible placements for 4.\n\n5 is odd and is equivalent to 2 mod 3, so it must have the same i value as 1 and the same j value of 2. 5 is not equivalent to 1, 2, 3, or 4 mod 5, so it must have a different k value from 1, 2, 3, and 4. However, 4 different values of k are held by these four numbers, so 5 must hold the one remaining value. Thus, only one possible triple is found for the placement of 5.\n\nAll numbers from 6 to 30 are also fixed in this manner. All values of i, j, and k have been used, so every one of these numbers will have a unique triple for placement, as above with the number five. Thus, after 1, 2, 3, and 4 have been placed, the rest of the permutation is fixed. \n\nThus, <math>N = 30 \\cdot 8 \\cdot 3 \\cdot 2=30 \\cdot 48=1440</math>. Thus, the remainder when <math>N</math> is divided by <math>1000</math> is <math>\\boxed{440}.</math>\n\n===Solution 2===\nWe observe that the condition on the permutations means that two numbers with indices congruent <math>\\mod m</math> are themselves congruent <math>\\mod m</math> for <math>m \\in \\{ 2,3,5\\}.</math> Furthermore, suppose that <math>a_n \\equiv k \\mod m.</math> Then, there are <math>30/m</math> indices congruent to <math>n \\mod m,</math> and <math>30/m</math> numbers congruent to <math>k \\mod m,</math> because 2, 3, and 5 are all factors of 30. Therefore, since every index congruent to <math>n</math> must contain a number congruent to <math>k,</math> and no number can appear twice in the permutation, only the indices congruent to <math>n</math> contain numbers congruent to <math>k.</math> In other words, <math>a_i \\equiv a_j \\mod m \\iff i \\equiv j \\mod m.</math> But it is not necessary that <math>\\textcolor{red}{(a_i\\equiv i)\\cup (a_j\\equiv j)\\mod m}</math>. In fact, if that were the case, there would only be one way to assign the indices, since <math>2,3,5</math> are relatively prime to each other and <math>30=\\text{lcm}(2,3,5)</math>: <math>\\{a_1,a_2,\\dots a_{30}\\}\\in\\{1,2,\\dots 30\\}\\text{ }respectively</math>.\n\nThis tells us that in a valid permutation, the congruence classes <math>\\mod m</math> are simply swapped around, and if the set <math>S</math> is a congruence class <math>\\mod m</math> for <math>m = </math> 2, 3, or 5, the set <math>\\{ a_i \\vert i \\in S \\}</math> is still a congruence class <math>\\mod m.</math> Clearly, each valid permutation of the numbers 1 through 30 corresponds to exactly one permutation of the congruence classes modulo 2, 3, and 5. Also, if we choose some permutations of the congruence classes modulo 2, 3, and 5, they correspond to exactly one valid permutation of the numbers 1 through 30. This can be shown as follows: First of all, the choice of permutations of the congruence classes gives us every number in the permutation modulo 2, 3, and 5, so by the Chinese Remainder Theorem, it gives us every number <math>\\mod 2\\cdot 3\\cdot 5 = 30.</math> Because the numbers must be between 1 and 30 inclusive, it thus uniquely determines what number goes in each index. Furthermore, two different indices cannot contain the same number. We will prove this by contradiction, calling the indices <math>a_i</math> and <math>a_j</math> for <math>i \\neq j.</math> If <math>a_i=a_j,</math> then they must have the same residues modulo 2, 3, and 5, and so <math>i \\equiv j</math> modulo 2, 3, and 5. Again using the Chinese Remainder Theorem, we conclude that <math>i \\equiv j \\mod 30,</math> so because <math>i</math> and <math>j</math> are both between 1 and 30 inclusive, <math>i = j,</math> giving us a contradiction. Therefore, every choice of permutations of the congruence classes modulo 2, 3, and 5 corresponds to exactly one valid permutation of the numbers 1 through 30.\n\nIn other words, each set of assignment from <math>a_j\\rightarrow j\\mod (2,3,5)</math> determines a unique string of <math>30</math> numbers. For example:\n\n<math>\\left[(0,1)\\rightarrow (1,0)\\right]\\cap\\left[(0,1,2)\\rightarrow (0,2,1)\\right]\\cap\\left[(0,1,2,3,4)\\rightarrow (4,2,3,0,1)\\right]</math>:\n<cmath>\\begin{array}{|c||c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|}\n\\hline\n2&1&0&1&0&1&0&1&0&1&0&1&0&1&0&1&0&1&0&1&0&1&0&1&0&1&0&1&0&1&0\\\\ \\hline\n3&0&2&1&0&2&1&0&2&1&0&2&1&0&2&1&0&2&1&0&2&1&0&2&1&0&2&1&0&2&1\\\\ \\hline\n5&4&2&3&0&1&4&2&3&0&1&4&2&3&0&1&4&2&3&0&1&4&2&3&0&1&4&2&3&0&1\\\\ \\hline\\hline\n30&9&2&13&0&11&4&27&8&25&6&29&22&3&20&1&24&17&28&15&26&19&12&23&10&21&14&7&18&5&16\\\\ \\hline\n\\end{array} </cmath>\n\nWe have now established a bijection between valid permutations of the numbers 1 through 30 and permutations of the congruence classes modulo 2, 3, and 5, so <math>N</math> is equal to the number of permutations of congruence classes. There are always <math>m</math> congruence classes <math>\\mod m,</math> so <math>N = 2! \\cdot 3! \\cdot 5! = 2 \\cdot 6 \\cdot 120 = 1440 \\equiv \\framebox[1.3\\width]{440} \\mod 1000.</math>\n\n===Solution 3 (2-sec solve)===\nNote that <math>30=2\\cdot 3\\cdot 5</math>. Since <math>\\gcd(2, 3, 5)=1</math>, by CRT, for each value <math>k=0\\ldots 29</math> modulo <math>30</math> there exists a unique ordered triple of values <math>(a, b, c)</math> such that <math>k\\equiv a\\pmod{2}</math>, <math>k\\equiv b\\pmod{3}</math>, and <math>k\\equiv c\\pmod{5}</math>. Therefore, we can independently assign the residues modulo <math>2, 3, 5</math>, so <math>N=2!\\cdot 3!\\cdot 5!=1440</math>, and the answer is <math>\\boxed{440}</math>.\n\n-vockey\n\n===Solution 4( Better explanation of Solution 3) ===\nFirst let's look at the situation when <math>m</math> is equal to 2. It isn't too difficult to see the given conditions are satisfied iff the sequences  <math>S_1 = a_1,a_3,a_5,a_7...</math> and <math>S_2 =a_2,a_4,a_6...</math> each are assigned either <math>\\equiv 0 \\pmod 2</math> or <math>\\equiv 1 \\pmod 2</math>. Another way to say this is each element in the sequence <math>a_1,a_3,a_5,a_7...</math> would be the same mod 2, and similarly for the other sequence. There are 2! = 2 ways to assign the mods to the sequences.\n\nNow when <math>m</math> is equal to 3, the sequences are <math>T_1 = a_1, a_4,a_7..</math>, <math>T_2 = a_2,a_5,a_8,a_11...</math>, and <math>T_3 = a_3,a_6,a_9...</math>. Again, for each sequence, all of its elements are congruent either <math>0</math>,<math>1</math>, or <math>2</math> mod <math>3</math>. There are <math>3! = 6</math> ways to assign the mods to the sequences.\n\nFinally do the same thing for <math>m = 5</math>. There are <math>5!</math> ways. In total there are <math>2 * 6*120 = 1440</math> and the answer is <math>\\boxed{440}</math>.\n\nWhy does this method work? Its due to CRT.\n\n-MathLegend27\n\nNote: the explanation is not complete without mentioning that 2*3*5 = 30, therefore CRT guarantees there is only 1 permutation for every combination of mod selections. If the problem asked for permutations of <math>{1,2,...,60}</math>, the answer would have been <math>2!3!5!2!2!2!</math>. \n\n-Mathdummy\n\n===Solution 5(slightly more rigor than needed) ===\nNote, for the purposes of this problem, it is easier to have our residue classes mod \\( m \\) to be \\( \\{1, 2, \\dots, m\\} \\) instead of \\( \\{0, 1, 2, \\dots, m-1\\} \\).\n\nWe will start by finding a general insight for \\( m \\) given that \\( m \\mid 30 \\).  \n<cmath> m \\mid (a_{i + m} - a_i) \\implies a_{i + m} \\equiv a_i \\pmod{m} </cmath>  \nNotice that for every \\( p \\) between \\( 1 \\) and \\( m \\) inclusive, we have  \n<cmath> a_p \\equiv a_{p+m} \\equiv a_{p+2m} \\equiv a_{p+3m} ... \\pmod{m}. </cmath>  \nNotice that \\( \\{p, p+m, p+2m, \\dots, p+km\\} \\) all fall under the residue class \\( p \\pmod{m} \\).  \nLet this list of numbers with indices that are \\( p \\pmod{m} \\) all be congruent to \\( \\sigma_m(p) \\pmod{m} \\).  \nNotice that \\( \\sigma_m \\) maps numbers from \\( \\{1, 2, \\dots, m\\} \\) to \\( \\{1, 2, \\dots, m\\} \\).\n\n<math>\\textbf{Claim: \\( \\sigma_m \\) is bijective.}</math>\nSince \\( \\sigma_m \\) is a valid function mapping two sets of the same size, we simply prove injectivity.  \n\nAssume for the sake of contradiction, for \\( p \\neq q \\), let \\( \\sigma_m(p) \\equiv \\sigma_m(q) \\pmod{m} \\), and let them be congruent to some constant \\( x \\pmod{m} \\).  \nSince \\( 1 \\leq p, q \\leq m \\) and \\( p \\neq q \\), this implies \\( p \\) and \\( q \\) are not congruent mod \\( m \\).  \n<cmath> \\{p, p+m, p+2m, \\dots \\} \\cap \\{q, q+m, q+2m, \\dots\\} = \\emptyset, </cmath>  \nsince these sets are distinct mod \\( m \\).  \n\nTherefore, \\( \\sigma_m \\) maps \\( \\frac{2 \\cdot 30}{m} \\) distinct values to some \\( x \\pmod{30} \\).  \nHowever, this implies that there are \\( \\frac{2 \\cdot 30}{m} \\) distinct values between \\( 1 \\) and \\( 30 \\) falling under the same residue class, which is obviously false.  \nThus, we have proven the claim.  \n\nSince \\( \\sigma_m \\) is injective and maps between two sets of identical size, it is bijective.  \nTherefore, there are \\( m! \\) ways to create such a mapping called \\( \\sigma_m \\).  \n\nFor this problem, there are \\( 2! \\cdot 3! \\cdot 5! \\) ways to find \\( \\sigma_2 \\), \\( \\sigma_3 \\), and \\( \\sigma_5 \\).  \n(Notice \\( \\sigma_k \\) lies in the symmetric group \\( S_k \\).)\n\n<math>\\textbf{Claim: Finding \\( \\sigma_2 \\), \\( \\sigma_3 \\), and \\( \\sigma_5 \\) completely determines \\( a_i \\).}</math> \nIf we know \\( \\sigma_2(i) \\), \\( \\sigma_3(i) \\), and \\( \\sigma_5(i) \\), we know \\( i \\pmod{2} \\), \\( i \\pmod{3} \\), and \\( i \\pmod{5} \\).  \nBy the Chinese Remainder Theorem (CRT), we know \\( i \\pmod{30} \\), and since \\( 1 \\leq i \\leq 30 \\), this completely determines \\( i \\).  \n\nTherefore, \\( 2! \\cdot 3! \\cdot 5! = 2 \\cdot 6 \\cdot 120 = 1440 \\).  \n\nTherefore, the answer is <math>\\boxed{440}</math>\n\n~~Mathcounts Griiinder"
  },
  {
    "year": 2011,
    "variant": "II",
    "problem_number": 15,
    "latex": "Let <math>P(x) = x^2 - 3x - 9</math>. A real number <math>x</math> is chosen at random from the interval <math>5 \\le x \\le 15</math>. The probability that <math>\\left\\lfloor\\sqrt{P(x)}\\right\\rfloor = \\sqrt{P(\\left\\lfloor x \\right\\rfloor)}</math> is equal to <math>\\frac{\\sqrt{a} + \\sqrt{b} + \\sqrt{c} - d}{e}</math> , where <math>a</math>, <math>b</math>, <math>c</math>, <math>d</math>, and <math>e</math> are positive integers. Find <math>a + b + c + d + e</math>.",
    "solution": "Table of values of <math>P(x)</math>:\n\n<cmath>\\begin{align*}\nP(5) &= 1 \\\\\nP(6) &= 9 \\\\\nP(7) &= 19 \\\\\nP(8) &= 31 \\\\\nP(9) &= 45 \\\\\nP(10) &= 61 \\\\\nP(11) &= 79 \\\\\nP(12) &= 99 \\\\\nP(13) &= 121 \\\\\nP(14) &= 145 \\\\\nP(15) &= 171 \\\\\n\\end{align*}</cmath>\n\nIn order for <math>\\lfloor \\sqrt{P(x)} \\rfloor = \\sqrt{P(\\lfloor x \\rfloor)}</math> to hold, <math>\\sqrt{P(\\lfloor x \\rfloor)}</math> must be an integer and hence <math>P(\\lfloor x \\rfloor)</math> must be a perfect square. This limits <math>x</math> to <math>5 \\le x < 6</math> or <math>6 \\le x < 7</math> or <math>13 \\le x < 14</math> since, from the table above, those are the only values of <math>x</math> for which <math>P(\\lfloor x \\rfloor)</math> is an perfect square. However, in order for <math>\\sqrt{P(x)}</math> to be rounded down to <math>P(\\lfloor x \\rfloor)</math>, <math>P(x)</math> must be less than the next perfect square after <math>P(\\lfloor x \\rfloor)</math> (for the said intervals). Now, we consider the three cases:\n\n\nCase <math>5 \\le x < 6</math>:\n\n<math>P(x)</math> must be less than the first perfect square after <math>1</math>, which is <math>4</math>, ''i.e.'':\n\n<math>1 \\le P(x) < 4</math> (because <math>\\lfloor \\sqrt{P(x)} \\rfloor = 1</math> implies <math>1 \\le \\sqrt{P(x)} < 2</math>)\n\nSince <math>P(x)</math> is increasing for <math>x \\ge 5</math>, we just need to find the value <math>v \\ge 5</math> where <math>P(v) = 4</math>, which will give us the working range <math>5 \\le x < v</math>.\n\n<cmath>\\begin{align*}\nv^2 - 3v - 9 &= 4 \\\\\nv &= \\frac{3 + \\sqrt{61}}{2}\n\\end{align*}</cmath>\n\nSo in this case, the only values that will work are <math>5 \\le x < \\frac{3 + \\sqrt{61}}{2}</math>.\n\nCase <math>6 \\le x < 7</math>:\n\n<math>P(x)</math> must be less than the first perfect square after <math>9</math>, which is <math>16</math>.\n\n<cmath>\\begin{align*}\nv^2 - 3v - 9 &= 16 \\\\\nv &= \\frac{3 + \\sqrt{109}}{2}\n\\end{align*}</cmath>\n\nSo in this case, the only values that will work are <math>6 \\le x < \\frac{3 + \\sqrt{109}}{2}</math>.\n\nCase <math>13 \\le x < 14</math>:\n\n<math>P(x)</math> must be less than the first perfect square after <math>121</math>, which is <math>144</math>.\n\n<cmath>\\begin{align*}\nv^2 - 3v - 9 &= 144 \\\\\nv &= \\frac{3 + \\sqrt{621}}{2}\n\\end{align*}</cmath>\n\nSo in this case, the only values that will work are <math>13 \\le x < \\frac{3 + \\sqrt{621}}{2}</math>.\n\nNow, we find the length of the working intervals and divide it by the length of the total interval, <math>15 - 5 = 10</math>:\n\n<cmath>\\begin{align*}\n\\frac{\\left( \\frac{3 + \\sqrt{61}}{2} - 5 \\right) + \\left( \\frac{3 + \\sqrt{109}}{2} - 6 \\right) + \\left( \\frac{3 + \\sqrt{621}}{2} - 13 \\right)}{10} \\\\\n&= \\frac{\\sqrt{61} + \\sqrt{109} + \\sqrt{621} - 39}{20}\n\\end{align*}</cmath>\n\nThus, the answer is <math>61 + 109 + 621 + 39 + 20 = \\fbox{850}</math>."
  },
  {
    "year": 2012,
    "variant": "I",
    "problem_number": 1,
    "latex": "Find the number of positive integers with three not necessarily distinct digits, <math>abc</math>, with <math>a \\neq 0</math> and <math>c \\neq 0</math> such that both <math>abc</math> and <math>cba</math> are multiples of <math>4</math>.",
    "solution": "A positive integer is divisible by <math>4</math> if and only if its last two digits are divisible by <math>4.</math> For any value of <math>b</math>, there are two possible values for <math>a</math> and <math>c</math>, since we find that if <math>b</math> is even, <math>a</math> and <math>c</math> must be either <math>4</math> or <math>8</math>, and if <math>b</math> is odd, <math>a</math> and <math>c</math> must be either <math>2</math> or <math>6</math>. There are thus <math>2 \\cdot 2 = 4</math> ways to choose <math>a</math> and <math>c</math> for each <math>b,</math> and <math>10</math> ways to choose <math>b</math> since <math>b</math> can be any digit. The final answer is then <math>4 \\cdot 10 = \\boxed{040}</math>."
  },
  {
    "year": 2012,
    "variant": "I",
    "problem_number": 2,
    "latex": "The terms of an arithmetic sequence add to <math>715</math>. The first term of the sequence is increased by <math>1</math>, the second term is increased by <math>3</math>, the third term is increased by <math>5</math>, and in general, the <math>k</math>th term is increased by the <math>k</math>th odd positive integer. The terms of the new sequence add to <math>836</math>. Find the sum of the first, last, and middle terms of the original sequence.",
    "solution": "===Solution 1===\nIf the sum of the original sequence is <math>\\sum_{i=1}^{n} a_i</math> then the sum of the new sequence can be expressed as <math>\\sum_{i=1}^{n} a_i + (2i - 1) = n^2 + \\sum_{i=1}^{n} a_i.</math> Therefore, <math>836 = n^2 + 715 \\rightarrow n=11.</math> Now the middle term of the original sequence is simply the average of all the terms, or <math>\\frac{715}{11} = 65,</math> and the first and last terms average to this middle term, so the desired sum is simply three times the middle term, or <math>\\boxed{195}.</math>\n\n\nAlternatively, notice that in the original sequence, <math>11a_1 + 55d = 715</math>, from which <math>a_1 + 5d = 65</math>. Since we are tasked to find <math>a_1 + a_6 + a_{11} = 3(a_1 + 5d)</math>, the desired answer is <math>3 \\cdot 65 = \\boxed{195}.</math>\n\n===Solution 2===\nAfter the adding of the odd numbers, the total of the sequence increases by <math>836 - 715 = 121 = 11^2</math>. Since the sum of the first <math>n</math> positive odd numbers is <math>n^2</math>, there must be <math>11</math> terms in the sequence, so the mean of the sequence is <math>\\dfrac{715}{11} = 65</math>. Since the first, last, and middle terms are centered around the mean, our final answer is <math>65 \\cdot 3 = \\boxed{195}</math>\n\n===Solution 3===\nProceed as in Solution 2 until it is noted that there are 11 terms in the sequence. Since the sum of the terms of the original arithmetic sequence is 715, we note that <math>\\frac{2a_1 + 10d}{2} \\cdot 11 = 715</math> or <math>2a_1 + 10d = 130</math> for all sets of first terms and common differences that fit the conditions given in the problem. Assume WLOG that <math>a_1 = 60</math> and <math>d = 1</math>. Then the first term of the corresponding arithmetic sequence will be <math>60</math>, the sixth (middle) term will be <math>65</math>, and the eleventh (largest) term will be <math>70</math>. Thus, our final answer is <math>60 + 65 + 70 = \\boxed{195}</math>.\n\n~ [https://artofproblemsolving.com/wiki/index.php/User:Cxsmi cxsmi]"
  },
  {
    "year": 2012,
    "variant": "I",
    "problem_number": 3,
    "latex": "Nine people sit down for dinner where there are three choices of meals. Three people order the beef meal, three order the chicken meal, and three order the fish meal. The waiter serves the nine meals in random order. Find the number of ways in which the waiter could serve the meal types to the nine people so that exactly one person receives the type of meal ordered by that person.",
    "solution": "Call a beef meal <math>B,</math> a chicken meal <math>C,</math> and a fish meal <math>F.</math> Now say the nine people order meals <math>\\text{BBBCCCFFF}</math> respectively and say that the person who receives the correct meal is the first person. We will solve for this case and then multiply by <math>9</math> to account for the <math>9</math> different ways in which the person to receive the correct meal could be picked. Note, this implies that the dishes are indistinguishable, though the people aren't. For example, two people who order chicken are separate, though if they receive fish, there is only 1 way to order them.\n\nThe problem we must solve is to distribute meals <math>\\text{BBCCCFFF}</math> to orders <math>\\text{BBCCCFFF}</math> with no matches. The two people who ordered <math>B</math>'s can either both get <math>C</math>'s, both get <math>F</math>'s, or get one <math>C</math> and one <math>F.</math> We proceed with casework.\n\n<UL>\n<LI> If the two <math>B</math> people both get <math>C</math>'s, then the three <math>F</math> meals left to distribute must all go to the <math>C</math> people. The <math>F</math> people then get <math>BBC</math> in some order, which gives three possibilities. The indistinguishability is easier to see here, as we distribute the <math>F</math> meals to the <math>C</math> people, and there is only 1 way to order this, as all three meals are the same.</LI>\n\n<LI> If the two <math>B</math> people both get <math>F</math>'s, the situation is identical to the above and three possibilities arise. </LI>\n\n<LI> If the two <math>B</math> people get <math>CF</math> in some order, then the <math>C</math> people must get <math>FFB</math> and the <math>F</math> people must get <math>CCB.</math> This gives <math>2 \\cdot 3 \\cdot 3 = 18</math> possibilities. </LI>\n</UL>\n\nSumming across the cases we see there are <math>24</math> possibilities, so the answer is <math>9 \\cdot 24 = \\boxed{216.}</math>"
  },
  {
    "year": 2012,
    "variant": "I",
    "problem_number": 4,
    "latex": "Butch and Sundance need to get out of Dodge. To travel as quickly as possible, each alternates walking and riding their only horse, Sparky, as follows. Butch begins by walking while Sundance rides. When Sundance reaches the first of the hitching posts that are conveniently located at one-mile intervals along their route, he ties Sparky to the post and begins walking. When Butch reaches Sparky, he rides until he passes Sundance, then leaves Sparky at the next hitching post and resumes walking, and they continue in this manner. Sparky, Butch, and Sundance walk at <math>6,</math> <math>4,</math> and <math>2.5</math> miles per hour, respectively. The first time Butch and Sundance meet at a milepost, they are <math>n</math> miles from Dodge, and they have been traveling for <math>t</math> minutes. Find <math>n + t</math>.",
    "solution": "When they meet at the milepost, Sparky has been ridden for <math>n</math> miles total. Assume Butch rides Sparky for <math>a</math> miles, and Sundance rides for <math>n-a</math> miles. Thus, we can set up an equation, given that Sparky takes <math>\\frac{1}{6}</math> hours per mile, Butch takes <math>\\frac{1}{4}</math> hours per mile, and Sundance takes <math>\\frac{2}{5}</math> hours per mile:\n\n<cmath>\\frac{a}{6} + \\frac{n-a}{4} = \\frac{n-a}{6} + \\frac{2a}{5} \\rightarrow  a = \\frac{5}{19}n.</cmath>\n\nThe smallest possible integral value of <math>n</math> is <math>19</math>, so we plug in <math>n = 19</math> and <math>a = 5</math> and get <math>t = \\frac{13}{3}</math> hours, or <math>260</math> minutes. So our answer is <math>19 + 260 = \\boxed{279}</math>.\n\nNote that this solution is not rigorous because it is not guaranteed that they will switch properly to form this combination."
  },
  {
    "year": 2012,
    "variant": "I",
    "problem_number": 5,
    "latex": "Let <math>B</math> be the set of all binary integers that can be written using exactly <math>5</math> zeros and <math>8</math> ones where leading zeros are allowed. If all possible subtractions are performed in which one element of <math>B</math> is subtracted from another, find the number of times the answer <math>1</math> is obtained.",
    "solution": "When <math>1</math> is subtracted from a binary number, the number of digits will remain constant if and only if the original number ended in <math>10.</math> Therefore, every subtraction involving two numbers from <math>B</math> will necessarily involve exactly one number ending in <math>10.</math> To solve the problem, then, we can simply count the instances of such numbers. With the <math>10</math> in place, the seven remaining <math>1</math>'s can be distributed in any of the remaining <math>11</math> spaces, so the answer is <math>{11 \\choose 7} = \\boxed{330}</math>."
  },
  {
    "year": 2012,
    "variant": "I",
    "problem_number": 6,
    "latex": "The complex numbers <math>z</math> and <math>w</math> satisfy <math>z^{13} = w,</math> <math>w^{11} = z,</math> and the imaginary part of <math>z</math> is <math>\\sin{\\frac{m\\pi}{n}}</math>, for relatively prime positive integers <math>m</math> and <math>n</math> with <math>m<n.</math> Find <math>n.</math>",
    "solution": "Substituting the first equation into the second, we find that <math>(z^{13})^{11} = z</math> and thus <math>z^{143} = z.</math> We know that <math>z \\neq 0,</math> since we are given the imaginary part of <math>z</math>, so we can divide by <math>z</math> to get <math>z^{142} = 1.</math> So, <math>z</math> must be a <math>142</math>nd root of unity, and thus, by De Moivre's theorem, the imaginary part of <math>z</math> will be of the form <math>\\sin{\\frac{2k\\pi}{142}} = \\sin{\\frac{k\\pi}{71}},</math> where <math>k \\in \\{1, 2, \\ldots, 70\\}.</math> Note that <math>71</math> is prime and <math>k<71</math> by the conditions of the problem, so the denominator in the argument of this value will always be <math>71.</math> Thus, <math>n = \\boxed{071}.</math>"
  },
  {
    "year": 2012,
    "variant": "I",
    "problem_number": 7,
    "latex": "At each of the sixteen circles in the network below stands a student. A total of <math>3360</math> coins are distributed among the sixteen students. All at once, all students give away all their coins by passing an equal number of coins to each of their neighbors in the network. After the trade, all students have the same number of coins as they started with. Find the number of coins the student standing at the center circle had originally.\n\n<center><asy>\nimport cse5;\nunitsize(6mm);\ndefaultpen(linewidth(.8pt));\ndotfactor = 8;\npathpen=black;\n\npair A = (0,0);\npair B = 2*dir(54), C = 2*dir(126), D = 2*dir(198), E = 2*dir(270), F = 2*dir(342);\npair G = 3.6*dir(18), H = 3.6*dir(90), I = 3.6*dir(162), J = 3.6*dir(234), K = 3.6*dir(306);\npair M = 6.4*dir(54), N = 6.4*dir(126), O = 6.4*dir(198), P = 6.4*dir(270), L = 6.4*dir(342);\npair[] dotted = {A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P};\n\nD(A--B--H--M);\nD(A--C--H--N);\nD(A--F--G--L);\nD(A--E--K--P);\nD(A--D--J--O);\nD(B--G--M);\nD(F--K--L);\nD(E--J--P);\nD(O--I--D);\nD(C--I--N);\nD(L--M--N--O--P--L);\n\ndot(dotted);\n\n</asy></center>",
    "solution": "Say the student in the center starts out with <math>a</math> coins, the students neighboring the center student each start with <math>b</math> coins, and all other students start out with <math>c</math> coins. Then the <math>a</math>-coin student has five neighbors, all the <math>b</math>-coin students have three neighbors, and all the <math>c</math>-coin students have four neighbors.\n\nNow in order for each student's number of coins to remain equal after the trade, the number of coins given by each student must be equal to the number received, and thus\n\n<cmath>\n\\begin{align*}\na &= 5 \\cdot \\frac{b}{3}\\\\\nb &= \\frac{a}{5} + 2 \\cdot \\frac{c}{4}\\\\\nc &= 2 \\cdot \\frac{c}{4} + 2 \\cdot \\frac{b}{3}.\n\\end{align*}\n</cmath>\n\nSolving these equations, we see that <math>\\frac{a}{5} = \\frac{b}{3} = \\frac{c}{4}.</math> Also, the total number of coins is <math>a + 5b + 10c = 3360,</math> so <math>a + 5 \\cdot \\frac{3a}{5} + 10 \\cdot \\frac{4a}{5} = 3360 \\rightarrow a = \\frac{3360}{12} = \\boxed{280}.</math>\n\n*One way to make this more rigorous (answering the concern in Solution 3) is to let <math>a</math>, <math>b</math>, and <math>c</math> represent the <math>total</math> number of coins in the rings. Then, you don't care about individual people in the passing, you just know that each ring gets some coins and loses some coins, which must cancel each other out."
  },
  {
    "year": 2012,
    "variant": "I",
    "problem_number": 8,
    "latex": "Cube <math>ABCDEFGH,</math> labeled as shown below, has edge length <math>1</math> and is cut by a plane passing through vertex <math>D</math> and the midpoints <math>M</math> and <math>N</math> of <math>\\overline{AB}</math> and <math>\\overline{CG}</math> respectively. The plane divides the cube into two solids. The volume of the larger of the two solids can be written in the form <math>\\tfrac{p}{q},</math> where <math>p</math> and <math>q</math> are relatively prime positive integers. Find <math>p+q.</math>\n\n<center><asy>import cse5;\nunitsize(10mm);\npathpen=black;\ndotfactor=3;\n\npair A = (0,0), B = (3.8,0), C = (5.876,1.564), D = (2.076,1.564), E = (0,3.8), F = (3.8,3.8), G = (5.876,5.364), H = (2.076,5.364), M = (1.9,0), N = (5.876,3.465);\npair[] dotted = {A,B,C,D,E,F,G,H,M,N};\n\nD(A--B--C--G--H--E--A);\nD(E--F--B);\nD(F--G);\npathpen=dashed;\nD(A--D--H);\nD(D--C);\n\ndot(dotted);\nlabel(\"$A$\",A,SW);\nlabel(\"$B$\",B,S);\nlabel(\"$C$\",C,SE);\nlabel(\"$D$\",D,NW);\nlabel(\"$E$\",E,W);\nlabel(\"$F$\",F,SE);\nlabel(\"$G$\",G,NE);\nlabel(\"$H$\",H,NW);\nlabel(\"$M$\",M,S);\nlabel(\"$N$\",N,NE);\n\n</asy></center>",
    "solution": "Define a coordinate system with <math>D</math> at the origin and <math>C,</math> <math>A,</math> and <math>H</math> on the <math>x</math>, <math>y</math>, and <math>z</math> axes respectively. Then <math>D=(0,0,0),</math> <math>M=(.5,1,0),</math> and <math>N=(1,0,.5).</math> It follows that the plane going through <math>D,</math> <math>M,</math> and <math>N</math> has equation <math>2x-y-4z=0.</math> Let <math>Q = (1,1,.25)</math> be the intersection of this plane and edge <math>BF</math> and let <math>P = (1,2,0).</math> Now since <math>2(1) - 1(2) - 4(0) = 0,</math> <math>P</math> is on the plane. Also, <math>P</math> lies on the extensions of segments <math>DM,</math> <math>NQ,</math> and <math>CB</math> so the solid <math>DPCN = DMBCQN + MPBQ</math> is a right triangular pyramid. Note also that pyramid <math>MPBQ</math> is similar to <math>DPCN</math> with scale factor <math>.5</math> and thus the volume of solid <math>DMBCQN,</math> which is one of the solids bounded by the cube and the plane, is <math>[DPCN] - [MPBQ] = [DPCN] - \\left(\\frac{1}{2}\\right)^3[DPCN] = \\frac{7}{8}[DPCN].</math> But the volume of <math>DPCN</math> is simply the volume of a pyramid with base <math>1</math> and height <math>.5</math> which is <math>\\frac{1}{3} \\cdot 1 \\cdot .5 = \\frac{1}{6}.</math> So <math>[DMBCQN] = \\frac{7}{8} \\cdot \\frac{1}{6} = \\frac{7}{48}.</math> Note, however, that this volume is less than <math>.5</math> and thus this solid is the smaller of the two solids. The desired volume is then <math>[ABCDEFGH] - [DMBCQN] = 1 - \\frac{7}{48} = \\frac{41}{48} \\rightarrow p+q = \\boxed{089.}</math>\n\n*Another way to finish after using coordinates: Take the volume of DMBCNQ as the sum of the volumes of DMBQ and DBCNQ. Then, we have the sum of the volumes of a tetrahedron and a pyramid with a trapezoidal base. Their volumes, respectively, are <math>\\tfrac{1}{48}</math> and <math>\\tfrac{1}{8}</math>, giving the same answer as above. <math>\\blacksquare</math> ~mathtiger6"
  },
  {
    "year": 2012,
    "variant": "I",
    "problem_number": 9,
    "latex": "Let <math>x,</math> <math>y,</math> and <math>z</math> be positive real numbers that satisfy\n<cmath>2\\log_{x}(2y) = 2\\log_{2x}(4z) = \\log_{2x^4}(8yz) \\ne 0.</cmath>\nThe value of <math>xy^5z</math> can be expressed in the form <math>\\frac{1}{2^{p/q}},</math> where <math>p</math> and <math>q</math> are relatively prime positive integers. Find <math>p+q.</math>",
    "solution": "Since there are only two dependent equations given and three unknowns, the three expressions given can equate to any common value (that isn't 0, of course), so to simplify the problem let us assume without loss of generality that\n<cmath>2\\log_{x}(2y) = 2\\log_{2x}(4z) = \\log_{2x^4}(8yz) = 2.</cmath>\nThen\n<cmath>\n\\begin{align*}\n2\\log_{x}(2y) = 2 &\\implies x=2y\\\\\n2\\log_{2x}(4z) = 2 &\\implies 2x=4z\\\\\n\\log_{2x^4}(8yz) = 2 &\\implies 4x^8 = 8yz\n\\end{align*}\n</cmath>\nSolving these equations, we quickly see that <math>4x^8 = (2y)(4z) = x(2x) \\rightarrow x=2^{-1/6}</math> and then <math>y=z=2^{-1/6 - 1} = 2^{-7/6}.</math>\nFinally, our desired value is <math>2^{-1/6} \\cdot (2^{-7/6})^5 \\cdot 2^{-7/6} = 2^{-43/6}</math> and thus <math>p+q = 43 + 6 = \\boxed{049.}</math>"
  },
  {
    "year": 2012,
    "variant": "I",
    "problem_number": 10,
    "latex": "Let <math>\\mathcal{S}</math> be the set of all perfect squares whose rightmost three digits in base <math>10</math> are <math>256</math>. Let <math>\\mathcal{T}</math> be the set of all numbers of the form <math>\\frac{x-256}{1000}</math>, where <math>x</math> is in <math>\\mathcal{S}</math>. In other words, <math>\\mathcal{T}</math> is the set of numbers that result when the last three digits of each number in <math>\\mathcal{S}</math> are truncated. Find the remainder when the tenth smallest element of <math>\\mathcal{T}</math> is divided by <math>1000</math>.",
    "solution": "It is apparent that for a perfect square <math>s^2</math> to satisfy the constraints, we must have <math>s^2 - 256 = 1000n</math> or <math>(s+16)(s-16) = 1000n.</math> Now in order for <math>(s+16)(s-16)</math> to be a multiple of <math>1000,</math> at least one of <math>s+16</math> and <math>s-16</math> must be a multiple of <math>5,</math> and since <math>s+16 \\not\\equiv s-16 \\pmod{5},</math> one term must have all the factors of <math>5</math> and thus must be a multiple of <math>125.</math> Furthermore, each of <math>s+16</math> and <math>s-16</math> must have at least two factors of <math>2,</math> since otherwise <math>(s+16)(s-16)</math> could not possibly be divisible by <math>8.</math> So therefore the conditions are satisfied if either <math>s+16</math> or <math>s-16</math> is divisible by <math>500,</math> or equivalently if <math>s = 500n \\pm 16.</math> Counting up from <math>n=0</math> to <math>n=5,</math> we see that the tenth value of <math>s</math> is <math>500 \\cdot 5 - 16 = 2484</math> and thus the corresponding element in <math>\\mathcal{T}</math> is <math>\\frac{2484^2 - 256}{1000} = 6170 \\rightarrow \\boxed{170.}</math>"
  },
  {
    "year": 2012,
    "variant": "I",
    "problem_number": 11,
    "latex": "A frog begins at <math>P_0 = (0,0)</math> and makes a sequence of jumps according to the following rule: from <math>P_n = (x_n, y_n),</math> the frog jumps to <math>P_{n+1},</math> which may be any of the points <math>(x_n + 7, y_n + 2),</math> <math>(x_n + 2, y_n + 7),</math> <math>(x_n - 5, y_n - 10),</math> or <math>(x_n - 10, y_n - 5).</math> There are <math>M</math> points <math>(x, y)</math> with <math>|x| + |y| \\le 100</math> that can be reached by a sequence of such jumps. Find the remainder when <math>M</math> is divided by <math>1000.</math>",
    "solution": "First of all, it is easy to see by induction that for any <math>P(x,y)</math> in the frog's jump sequence, <math>x+y</math> will be a multiple of <math>3</math> and <math>x-y</math> will be a multiple of <math>5.</math> The base case <math>(x,y) = (0,0)</math> obviously satisfies the constraints and if <math>x+y = 3n</math> and <math>x-y = 5m,</math> any of the four transformations will sustain this property:\n\n<cmath>\n\\begin{align*}\n(x+7)+(y+2) = x+y+9 \\rightarrow 3(n+3) &\\text{ and } (x+7)-(y+2) = x-y+5 \\rightarrow 5(m+1)\\\\\n(x+2)+(y+7) = x+y+9 \\rightarrow 3(n+3) &\\text{ and } (x+2)-(y+7) = x-y-5 \\rightarrow 5(m-1)\\\\\n(x-5)+(y-10) = x+y-15 \\rightarrow 3(n-5) &\\text{ and } (x-5)-(y-10) = x-y+5 \\rightarrow 5(m+1)\\\\\n(x-10)+(y-5) = x+y-15 \\rightarrow 3(n-5) &\\text{ and } (x-10)-(y-5) = x-y-5 \\rightarrow 5(m-1).\\\\\n\\end{align*}\n</cmath>\nSo we know that any point the frog can reach will satisfy <math>x+y = 3n</math> and <math>x-y = 5m.</math> \n---------------\n<math>\\textbf{Lemma:}</math> Any point <math>(x,y)</math> such that there exists 2 integers <math>m</math> and <math>n</math> that satisfy <math>x+y = 3n</math> and <math>x-y = 5m</math> is reachable. \n\n\n<math>\\textbf{Proof:}</math> Denote the total amounts of each specific transformation in the frog's jump sequence to be <math>a,</math> <math>b,</math> <math>c,</math> and <math>d</math> respectively. Then\n\n<math>x=7a+2b-5c-10d</math>,\n\n<math>y=2a+7b-10c-5d</math>,\n\n<math>x+y = 9(a+b)-15(c+d) = 3n</math>, and\n\n<math>x-y = 5(a-b)+5(c-d) = 5m</math>\n\ntogether must have integral solutions. But\n\n<math>3(a+b)-5(c+d) = n</math> implies\n\n<math>(c+d) \\equiv n \\mod 3</math> and thus\n\n<math>(a+b) = \\lfloor{n/3}\\rfloor + 2(c+d).</math>\n\nSimilarly, <math>(a-b)+(c-d) = m</math> implies that <math>(a-b)</math> and <math>(c-d)</math> have the same parity. Now in order for an integral solution to exist, there must always be a way to ensure that the pairs <math>(a+b)</math> and <math>(a-b)</math> and <math>(c+d)</math> and <math>(c-d)</math> have identical parities. The parity of <math>(a+b)</math> is completely dependent on <math>n,</math> so the parities of <math>(a-b)</math> and <math>(c-d)</math> must be chosen to match this value. But the parity of <math>(c+d)</math> can then be adjusted by adding or subtracting <math>3</math> until it is identical to the parity of <math>(c-d)</math> as chosen before, so we conclude that it is always possible to find an integer solution for <math>(a,b,c,d)</math> and thus any point that satisfies <math>x+y = 3n</math> and <math>x-y = 5m</math> can be reached by the frog.\n---------------\nTo count the number of such points in the region <math>|x| + |y| \\le 100,</math> we first note that any such point will lie on the intersection of one line of the form <math>y=x-5m</math> and another line of the form <math>y=-x+3n.</math> The intersection of two such lines will yield the point <math>\\left(\\frac{3n+5m}{2},\\frac{3n-5m}{2}\\right),</math> which will be integral if and only if <math>m</math> and <math>n</math> have the same parity. Now since <math>|x| + |y| = |x \\pm y|,</math> we find that\n\n<cmath>\n\\begin{align*}\n|x + y| = |3n| \\le 100 &\\rightarrow -33 \\le n \\le 33\\\\\n|x - y| = |5m| \\le 100 &\\rightarrow -20 \\le m \\le 20.\n\\end{align*}\n</cmath>\n\nSo there are <math>34</math> possible odd values and <math>33</math> possible even values for <math>n,</math> and <math>20</math> possible odd values and <math>21</math> possible even values for <math>m.</math> Every pair of lines described above will yield a valid accessible point for all pairs of <math>m</math> and <math>n</math> with the same parity, and the number of points <math>M</math> is thus <math>34 \\cdot 20 + 33 \\cdot 21 = 1373 \\rightarrow \\boxed{373}</math>."
  },
  {
    "year": 2012,
    "variant": "I",
    "problem_number": 12,
    "latex": "Let <math>\\triangle ABC</math> be a right triangle with right angle at <math>C.</math> Let <math>D</math> and <math>E</math> be points on <math>\\overline{AB}</math> with <math>D</math> between <math>A</math> and <math>E</math> such that <math>\\overline{CD}</math> and <math>\\overline{CE}</math> trisect <math>\\angle C.</math> If <math>\\frac{DE}{BE} = \\frac{8}{15},</math> then <math>\\tan B</math> can be written as <math>\\frac{m \\sqrt{p}}{n},</math> where <math>m</math> and <math>n</math> are relatively prime positive integers, and <math>p</math> is a positive integer not divisible by the square of any prime. Find <math>m+n+p.</math>",
    "solution": "We have <math>\\angle BCE = \\angle ECD = \\angle DCA = \\tfrac 13 \\cdot 90^\\circ = 30^\\circ</math>. Drop the altitude from <math>D</math> to <math>CB</math> and call the foot <math>F</math>. \n<center><asy>import cse5;size(200);\ndefaultpen(linewidth(0.4)+fontsize(8));\n\npair A,B,C,D,E0,F;\nC=origin;\nB=(10,0);\nA=(0,5);\nE0=extension(C,dir(30),A,B);\nD=extension(C,dir(60),A,B);\nF=foot(D,C,B);\n\ndraw(A--B--C--A, black+0.8);\ndraw(C--D--F^^C--E0, gray);\ndot(\"$A$\",A,N);\ndot(\"$B$\",B,SE);\ndot(\"$C$\",C,SW);\ndot(\"$D$\",D,NE);\ndot(\"$E$\",E0,2*NE);\ndot(\"$F$\",F,S);\n\nlabel(\"$8$\",D--E0,2*NE);\nlabel(\"$15$\",E0--B,2*NE);\nlabel(\"$11a$\",C--B,2*S);\nlabel(rotate(60)*\"$8a$\",C--D,2*NW);\nlabel(rotate(-90)*\"$4\\sqrt{3}a$\",D--F, E);\nlabel(\"$4a$\",C--F,2*S);\n</asy></center>\nLet <math>CD = 8a</math>. Using angle bisector theorem on <math>\\triangle CDB</math>, we get <math>CB = 15a</math>. Now <math>CDF</math> is a <math>30</math>-<math>60</math>-<math>90</math> triangle, so <math>CF = 4a</math>, <math>FD = 4a\\sqrt{3}</math>, and <math>FB = 11a</math>.  Finally, <math>\\tan{B} = \\tfrac{DF}{FB}=\\tfrac{4\\sqrt{3}a}{11a} = \\tfrac{4\\sqrt{3}}{11}</math>. Our final answer is <math>4 + 3 + 11 = \\boxed{018}</math>."
  },
  {
    "year": 2012,
    "variant": "I",
    "problem_number": 13,
    "latex": "Three concentric circles have radii <math>3,</math> <math>4,</math> and <math>5.</math> An equilateral triangle with one vertex on each circle has side length <math>s.</math> The largest possible area of the triangle can be written as <math>a + \\tfrac{b}{c} \\sqrt{d},</math> where <math>a,</math> <math>b,</math> <math>c,</math> and <math>d</math> are positive integers, <math>b</math> and <math>c</math> are relatively prime, and <math>d</math> is not divisible by the square of any prime. Find <math>a+b+c+d.</math>",
    "solution": "Reinterpret the problem in the following manner. Equilateral triangle <math>ABC</math> has a point <math>X</math> on the interior such that <math>AX = 5,</math> <math>BX = 4,</math> and <math>CX = 3.</math> A <math>60^\\circ</math> counter-clockwise rotation about vertex <math>A</math> maps <math>X</math> to <math>X'</math> and <math>B</math> to <math>C.</math> \n<center><asy>import cse5;\nsize(200);\ndefaultpen(linewidth(0.4)+fontsize(8));\n\npair O = origin;\npair A,B,C,Op,Bp,Cp;\npath c3,c4,c5;\nc3 = CR(O,3);\nc4 = CR(O,4);\nc5 = CR(O,5);\ndraw(c3^^c4^^c5, gray+0.25);\nA = 5*dir(96.25);\nOp = rotate(60,A)*O;\nB = OP(CR(Op,4),c3);\nBp = IP(CR(Op,4),c3);\nC = rotate(-60,A)*B;\nCp = rotate(-60,A)*Bp;\ndraw(A--B--C--A, black+0.8);\ndraw(A--Bp--Cp--A, royalblue+0.8);\ndraw(CR(Op,4), heavygreen+0.25);\ndot(\"$A$\",A,N);\ndot(\"$X$\",O,E);\ndot(\"$X'$\",Op,E);\ndot(\"$C$\",B,SE);\ndot(\"$C'$\",Bp,NE);\ndot(\"$B$\",C,2*SW);\ndot(\"$B'$\",Cp,2*S);\n</asy></center>\nNote that angle <math>XAX'</math> is <math>60</math> and <math>XA = X'A = 5</math> which tells us that triangle <math>XAX'</math> is equilateral and that <math>XX' = 5.</math> We now notice that <math>XC = 3</math> and <math>X'C = 4</math> which tells us that angle <math>XCX'</math> is <math>90</math> because there is a <math>3</math>-<math>4</math>-<math>5</math> Pythagorean triple. Now note that <math>\\angle ABC + \\angle ACB = 120^\\circ</math> and <math>\\angle XCA + \\angle XBA = 90^\\circ,</math> so <math>\\angle XCB+\\angle XBC = 30^\\circ</math> and <math>\\angle BXC = 150^\\circ.</math> Applying the law of cosines on triangle <math>BXC</math> yields\n\n<cmath>BC^2 = BX^2+CX^2 - 2 \\cdot BX \\cdot CX \\cdot \\cos150^\\circ = 4^2+3^2-24 \\cdot \\frac{-\\sqrt{3}}{2} = 25+12\\sqrt{3}</cmath>\n\nand thus the area of <math>ABC</math> equals <cmath>\\frac{\\sqrt{3}}{4}\\cdot BC^2 = 25\\frac{\\sqrt{3}}{4}+9.</cmath>\n\nso our final answer is <math>3+4+25+9 = \\boxed{041}.</math>"
  },
  {
    "year": 2012,
    "variant": "I",
    "problem_number": 14,
    "latex": "Complex numbers <math>a,</math> <math>b,</math> and <math>c</math> are zeros of a polynomial <math>P(z) = z^3 + qz + r,</math> and <math>|a|^2 + |b|^2 + |c|^2 = 250.</math> The points corresponding to <math>a,</math> <math>b,</math> and <math>c</math> in the complex plane are the vertices of a right triangle with hypotenuse <math>h.</math> Find <math>h^2.</math>",
    "solution": "By Vieta's formula, the sum of the roots is equal to 0, or <math>a+b+c=0</math>. Therefore, <math>\\frac{(a+b+c)}{3}=0</math>. Because the centroid of any triangle is the average of its vertices, the centroid of this triangle is the origin. Let one leg of the right triangle be <math>x</math> and the other leg be <math>y</math>. Without the loss of generality, let <math>\\overline{ac}</math> be the hypotenuse. The magnitudes of <math>a</math>, <math>b</math>, and <math>c</math> are just <math>\\frac{2}{3}</math> of the medians because the origin, or the centroid in this case, cuts the median in a ratio of <math>2:1</math>. So, <math>|a|^2=\\frac{4}{9}\\cdot((\\frac{x}{2})^2+y^2)=\\frac{x^2}{9}+\\frac{4y^2}{9}</math> because <math>|a|</math> is two thirds of the median from <math>a</math>. Similarly, <math>|c|^2=\\frac{4}{9}\\cdot(x^2+(\\frac{y}{2})^2)=\\frac{4x^2}{9}+\\frac{y^2}{9}</math>. The median from <math>b</math> is just half the hypotenuse because the median of any right triangle is just half the hypotenuse. So, <math>|b|^2=\\frac{4}{9}\\cdot\\frac{x^2+y^2}{4}=\\frac{x^2}{9}+\\frac{y^2}{9}</math>. Hence, <math>|a|^2+|b|^2+|c|^2=\\frac{6x^2+6y^2}{9}=\\frac{2x^2+2y^2}{3}=250</math>. Therefore, <math>h^2=x^2+y^2=\\frac{3}{2}\\cdot250=\\boxed{375}</math>."
  },
  {
    "year": 2012,
    "variant": "I",
    "problem_number": 15,
    "latex": "There are <math>n</math> mathematicians seated around a circular table with <math>n</math> seats numbered <math>1,</math> <math>2,</math> <math>3,</math> <math>...,</math> <math>n</math> in clockwise order. After a break they again sit around the table. The mathematicians note that there is a positive integer <math>a</math> such that\n\n<UL>\n(<math>1</math>) for each <math>k,</math> the mathematician who was seated in seat <math>k</math> before the break is seated in seat <math>ka</math> after the break (where seat <math>i + n</math> is seat <math>i</math>);\n</UL>\n\n<UL>\n(<math>2</math>) for every pair of mathematicians, the number of mathematicians sitting between them after the break, counting in both the clockwise and the counterclockwise directions, is different from either of the number of mathematicians sitting between them before the break.\n</UL>\n\nFind the number of possible values of <math>n</math> with <math>1 < n < 1000.</math>",
    "solution": "It is a well-known fact that the set <math>0, a, 2a, ... (n-1)a</math> forms a complete set of residues if and only if <math>a</math> is relatively prime to <math>n</math>.\n\nThus, we have <math>a</math> is relatively prime to <math>n</math>. In addition, for any seats <math>p</math> and <math>q</math>, we must have <math>ap - aq</math> not be equivalent to either <math>p - q</math> or <math>q - p</math> modulo <math>n</math> to satisfy our conditions. These simplify to <math>(a-1)p \\not\\equiv (a-1)q</math> and <math>(a+1)p \\not\\equiv (a+1)q</math> modulo <math>n</math>, so multiplication by both <math>a-1</math> and <math>a+1</math> must form a complete set of residues mod <math>n</math> as well. \n\nThus, we have <math>a-1</math>, <math>a</math>, and <math>a+1</math> are relatively prime to <math>n</math>. We must find all <math>n</math> for which such an <math>a</math> exists. <math>n</math> obviously cannot be a multiple of <math>2</math> or <math>3</math>, but for any other <math>n</math>, we can set <math>a = n-2</math>, and then <math>a-1 = n-3</math> and <math>a+1 = n-1</math>. All three of these will be relatively prime to <math>n</math>, since two numbers <math>x</math> and <math>y</math> are relatively prime if and only if <math>x-y</math> is relatively prime to <math>x</math>. In this case, <math>1</math>, <math>2</math>, and <math>3</math> are all relatively prime to <math>n</math>, so <math>a = n-2</math> works.\n\nNow we simply count all <math>n</math> that are not multiples of <math>2</math> or <math>3</math>, which is easy using inclusion-exclusion. We get a final answer of <math>998 - (499 + 333 - 166) = \\boxed{332}</math>.\n\n\nNote: another way to find that <math>(a-1)</math> and <math>(a+1)</math> have to be relative prime to <math>n</math> is the following: start with <math>ap-aq \\not \\equiv \\pm(p-q) \\pmod n</math>. Then, we can divide by <math>p-q</math> to get <math>a \\not \\equiv \\pm 1</math> modulo <math>\\frac{n}{\\gcd(n, p-q)}</math>. Since <math>\\gcd(n, p-q)</math> ranges through all the divisors of <math>n</math>, we get that <math>a \\not \\equiv \\pm 1</math> modulo the divisors of <math>n</math> or <math>\\gcd(a-1, n) = \\gcd(a+1, n) = 1</math>."
  },
  {
    "year": 2012,
    "variant": "II",
    "problem_number": 1,
    "latex": "== Problem 1 ==\nFind the number of ordered pairs of positive integer solutions <math>(m, n)</math> to the equation <math>20m + 12n = 2012</math>."
  },
  {
    "year": 2012,
    "variant": "II",
    "problem_number": 2,
    "latex": "== Problem 2 ==\n<!-- don't remove the following tag, for PoTW on the Wiki front page--><onlyinclude>Two geometric sequences <math>a_1, a_2, a_3, \\ldots</math> and <math>b_1, b_2, b_3, \\ldots</math> have the same common ratio, with <math>a_1 = 27</math>, <math>b_1=99</math>, and <math>a_{15}=b_{11}</math>. Find <math>a_9</math>.<!-- don't remove the following tag, for PoTW on the Wiki front page--></onlyinclude>",
    "solution": "Call the common ratio <math>r.</math> Now since the <math>n</math>th term of a geometric sequence with first term <math>x</math> and common ratio <math>y</math> is <math>xy^{n-1},</math> we see that <math>a_1 \\cdot r^{14} = b_1 \\cdot r^{10} \\implies r^4 = \\frac{99}{27} = \\frac{11}{3}.</math> But <math>a_9</math> equals <math>a_1 \\cdot r^8 = a_1 \\cdot (r^4)^2=27\\cdot {\\left(\\frac{11}{3}\\right)}^2=27\\cdot \\frac{121} 9=\\boxed{363}</math>."
  },
  {
    "year": 2012,
    "variant": "II",
    "problem_number": 3,
    "latex": "== Problem 3 ==\nAt a certain university, the division of mathematical sciences consists of the departments of mathematics, statistics, and computer science. There are two male and two female professors in each department. A committee of six professors is to contain three men and three women and must also contain two professors from each of the three departments. Find the number of possible committees that can be formed subject to these requirements.",
    "solution": "There are two cases:\n\nCase 1: One man and one woman is chosen from each department.\n\nCase 2: Two men are chosen from one department, two women are chosen from another department, and one man and one woman are chosen from the third department.\n\nFor the first case, in each department there are <math>{{2}\\choose{1}} \\times {{2}\\choose{1}} = 4</math> ways to choose one man and one woman. Thus there are <math>4^3 = 64</math> total possibilities conforming to case 1.\n\nFor the second case, there is only <math>{{2}\\choose{2}} = 1</math> way to choose two professors of the same gender from a department, and again there are <math>4</math> ways to choose one man and one woman. Thus there are <math>1 \\cdot 1 \\cdot 4 = 4</math> ways to choose two men from one department, two women from another department, and one man and one woman from the third department. However, there are <math>3! = 6</math> different department orders, so the total number of possibilities conforming to case 2 is <math>4 \\cdot 6 = 24</math>.\n\nSumming these two values yields the final answer: <math>64 + 24 = \\boxed{088}</math>."
  },
  {
    "year": 2012,
    "variant": "II",
    "problem_number": 4,
    "latex": "== Problem 4 ==\nAna, Bob, and Cao bike at constant rates of <math>8.6</math> meters per second, <math>6.2</math> meters per second, and <math>5</math> meters per second, respectively. They all begin biking at the same time from the northeast corner of a rectangular field whose longer side runs due west. Ana starts biking along the edge of the field, initially heading west, Bob starts biking along the edge of the field, initially heading south, and Cao bikes in a straight line across the field to a point <math>D</math> on the south edge of the field. Cao arrives at point <math>D</math> at the same time that Ana and Bob arrive at <math>D</math> for the first time. The ratio of the field's length to the field's width to the distance from point <math>D</math> to the southeast corner of the field can be represented as <math>p : q : r</math>, where <math>p</math>, <math>q</math>, and <math>r</math> are positive integers with <math>p</math> and <math>q</math> relatively prime. Find <math>p+q+r</math>.",
    "solution": "<asy>draw((1.2,0)--(0,0)--(0,1.4)--(6,1.4)--(6,0)--(1.2,0)--(6,1.4));\nlabel(\"$D$\", (1.2,0),dir(-90));\ndot((6,1.4));\ndot((1.2,0));\nlabel(\"$a$\", (0.6,0),dir(-90));\nlabel(\"$b$\", (3.6,0),dir(-90));\nlabel(\"$c$\", (6,0.7),dir(0));</asy>\n\nLet <math>a,b,c</math> be the labeled lengths as shown in the diagram. Also, assume WLOG the time taken is <math>1</math> second. \n\nObserve that <math>\\dfrac{2a+b+c}{8.6}=1</math> or <math>2a+b+c=8.6</math>, and <math>\\dfrac{b+c}{6.2}=1</math> or <math>b+c=6.2</math>. Subtracting the second equation from the first gives <math>2a=2.4</math>, or <math>a=1.2</math>.\n\nNow, let us solve <math>b</math> and <math>c</math>. Note that <math>\\dfrac{\\sqrt{b^2+c^2}}{5}=1</math>, or <math>b^2+c^2=25</math>. We also have <math>b+c=6.2</math>.\n\nWe have a system of equations: <cmath>\\left\\{\\begin{array}{l}b+c=6.2\\\\ b^2+c^2=25\\end{array}\\right.</cmath>\n\nSquaring the first equation gives <math>b^2+2bc+c^2=38.44</math>, and subtracting the second from this gives <math>2bc=13.44</math>. Now subtracting this from <math>b^2+c^2=25</math> gives <math>b^2-2bc+c^2=(b-c)^2=11.56</math>, or <math>b-c=3.4</math>. Now we have the following two equations:\n\n<cmath>\\left\\{\\begin{array}{l}b+c=6.2\\\\ b-c=3.4\\end{array}\\right.</cmath>\n\nAdding the equations and dividing by two gives <math>b=4.8</math>, and it follows that <math>c=1.4</math>.\n\nThe ratios we desire are therefore <math>1.4:6:4.8=7:30:24</math>, and our answer is <math>7+30+24=\\boxed{061}</math>.\n\nNote that in our diagram, we labeled the part of the bottom <math>b</math> and the side <math>c</math>. However, these labels are interchangeable. We can cancel out the case where the side is <math>4.8</math> and the part of the bottom is <math>1.4</math> by noting a restriction of the problem: \"...a rectangular field whose longer side runs due west.\" If we had the side be <math>4.8</math>, then the entire bottom would be <math>1.2+1.4=2.6</math>, clearly less than <math>4.8</math> and therefore violating our restriction."
  },
  {
    "year": 2012,
    "variant": "II",
    "problem_number": 5,
    "latex": "== Problem 5 ==\nIn the accompanying figure, the outer square <math>S</math> has side length <math>40</math>. A second square <math>S'</math> of side length <math>15</math> is constructed inside <math>S</math> with the same center as <math>S</math> and with sides parallel to those of <math>S</math>. From each midpoint of a side of <math>S</math>, segments are drawn to the two closest vertices of <math>S'</math>. The result is a four-pointed starlike figure inscribed in <math>S</math>. The star figure is cut out and then folded to form a pyramid with base <math>S'</math>. Find the volume of this pyramid.\n\n<center><asy>\n\npair S1 = (20, 20), S2 = (-20, 20), S3 = (-20, -20), S4 = (20, -20);\npair M1 = (S1+S2)/2, M2 = (S2+S3)/2, M3=(S3+S4)/2, M4=(S4+S1)/2;\npair Sp1 = (7.5, 7.5), Sp2=(-7.5, 7.5), Sp3 = (-7.5, -7.5), Sp4 = (7.5, -7.5);\n\ndraw(S1--S2--S3--S4--cycle);\ndraw(Sp1--Sp2--Sp3--Sp4--cycle);\ndraw(Sp1--M1--Sp2--M2--Sp3--M3--Sp4--M4--cycle);\n</asy></center>",
    "solution": "The volume of this pyramid can be found by the equation <math>V=\\frac{1}{3}bh</math>, where <math>b</math> is the base and <math>h</math> is the height. The base is easy, since it is a square and has area <math>15^2=225</math>.\n\n\nTo find the height of the pyramid, the height of the four triangles is needed, which will be called <math>h^\\prime</math>. By drawing a line through the middle of the larger square, we see that its length is equal to the length of the smaller rectangle and two of the triangle's heights. Then <math>40=2h^\\prime +15</math>, which means that  <math>h^\\prime=12.5</math>.\n\n\nWhen the pyramid is made, you see that the height is the one of the legs of a right triangle, with the hypotenuse equal to <math>h^\\prime</math> and the other leg having length equal to half of the side length of the smaller square, or <math>7.5</math>. So, the Pythagorean Theorem can be used to find the height.\n\n<math>h=\\sqrt{12.5^2-7.5^2}=\\sqrt{100}=10</math> \n\nFinally, <math>V=\\frac{1}{3}bh=\\frac{1}{3}(225)(10)=\\boxed{750}</math>."
  },
  {
    "year": 2012,
    "variant": "II",
    "problem_number": 6,
    "latex": "== Problem 6 ==\nLet <math>z=a+bi</math> be the complex number with <math>\\vert z \\vert = 5</math> and <math>b > 0</math> such that the distance between <math>(1+2i)z^3</math> and <math>z^5</math> is maximized, and let <math>z^4 = c+di</math>. Find <math>c+d</math>.",
    "solution": "Let's consider the maximization constraint first: we want to maximize the value of <math>|z^5 - (1+2i)z^3|</math>\nSimplifying, we have\n\n<math>|z^3| * |z^2 - (1+2i)|</math>\n\n<math>=|z|^3 * |z^2 - (1+2i)|</math>\n\n<math>=125|z^2 - (1+2i)|</math>\n\nThus we only need to maximize the value of <math>|z^2 - (1+2i)|</math>.\n\nTo maximize this value, we must have that <math>z^2</math> is in the opposite direction of <math>1+2i</math>. The unit vector in the complex plane in the desired direction is <math>\\frac{-1}{\\sqrt{5}} + \\frac{-2}{\\sqrt{5}} i</math>. Furthermore, we know that the magnitude of <math>z^2</math> is <math>25</math>, because the magnitude of <math>z</math> is <math>5</math>. From this information, we can find that <math>z^2 = \\sqrt{5} (-5 - 10i)</math>\n\nSquaring, we get <math>z^4 = 5 (25 - 100 + 100i) = -375 + 500i</math>. Finally, <math>c+d = -375 + 500 = \\boxed{125}</math>"
  },
  {
    "year": 2012,
    "variant": "II",
    "problem_number": 7,
    "latex": "== Problem 7 ==\nLet <math>S</math> be the increasing sequence of positive integers whose binary representation has exactly <math>8</math> ones. Let <math>N</math> be the 1000th number in <math>S</math>. Find the remainder when <math>N</math> is divided by <math>1000</math>.",
    "solution": "Okay, an exercise in counting (lots of binomials to calculate!).  In base 2, the first number is <math>11111111</math>, which is the only way to choose 8 1's out of 8 spaces, or <math>\\binom{8}{8}</math>.  What about 9 spaces?  Well, all told, there are <math>\\binom{9}{8}=9</math>, which includes the first 1.  Similarly, for 10 spaces, there are <math>\\binom{10}{8}=45,</math> which includes the first 9.  For 11 spaces, there are <math>\\binom{11}{8}=165</math>, which includes the first 45.  You're getting the handle.  For 12 spaces, there are <math>\\binom{12}{8}=495</math>, which includes the first 165; for 13 spaces, there are <math>\\binom{13}{8}=13 \\cdot 99 > 1000</math>, so we now know that <math>N</math> has exactly 13 spaces, so the <math>2^{12}</math> digit is 1.  \n\nNow we just proceed with the other 12 spaces with 7 1's, and we're looking for the <math>1000-495=505th</math> number.  Well, <math>\\binom{11}{7}=330</math>, so we know that the <math>2^{11}</math> digit also is 1, and we're left with finding the <math>505-330=175th</math> number with 11 spaces and 6 1's.  Now <math>\\binom{10}{6}=210,</math> which is too big, but <math>\\binom{9}{6}=84.</math>  Thus, the <math>2^9</math> digit is 1, and we're now looking for the <math>175-84=91st</math> number with 9 spaces and 5 1's.  Continuing the same process, <math>\\binom{8}{5}=56</math>, so the <math>2^8</math> digit is 1, and we're left to look for the <math>91-56=35th</math> number with 8 spaces and 4 1's.  But here <math>\\binom{7}{4}=35</math>, so N must be the last or largest 7-digit number with 4 1's.  Thus the last 8 digits of <math>N</math> must be <math>01111000</math>, and to summarize, <math>N=1101101111000</math> in base <math>2</math>.  Therefore, <math>N = 8+16+32+64+256+512+2048+4096 \\equiv 32 \\pmod{1000}</math>, and the answer is <math>\\boxed{032}</math>."
  },
  {
    "year": 2012,
    "variant": "II",
    "problem_number": 8,
    "latex": "== Problem 8 ==\nThe complex numbers <math>z</math> and <math>w</math> satisfy the system <cmath> z + \\frac{20i}w = 5+i </cmath>\n<cmath> w+\\frac{12i}z = -4+10i </cmath> Find the smallest possible value of <math>\\vert zw\\vert^2</math>.",
    "solution": "Multiplying the two equations together gives us <cmath>zw + 32i - \\frac{240}{zw} = -30 + 46i</cmath> and multiplying by <math>zw</math> then gives us a quadratic in <math>zw</math>: <cmath>(zw)^2 + (30-14i)zw - 240 =0.</cmath> Using the quadratic formula, we find the two possible values of <math>zw</math> to be <math>7i-15 \\pm \\sqrt{(15-7i)^2 + 240}</math> = <math>6+2i,</math> <math>12i - 36.</math> The smallest possible value of <math>\\vert zw\\vert^2</math> is then obviously <math>6^2 + 2^2 = \\boxed{040}</math>.\n===Note===\nA key thing to note here is that <math>|zw|^2=|z|^2\\cdot|w|^2,</math> which can be proved as follows:\n\nProof: Using the values for <math>z</math> and <math>w</math> that we used above, we get:\n\n\\begin{align*}\n|zw|^2&=|(ac-bd)+i(bc+ad)|^2\\\\\n&=(ac-bd)^2+(bc+ad)^2\\\\\n&=a^2c^2+b^2d^2+b^2c^2+a^2d^2-2abcd+2abc\\\\\n&=a^2c^2+b^2d^2+b^2c^2+a^2d^2\n\\end{align*}\nAlso, <math>|z|^2=a^2+b^2</math> and <math>|w|^2=c^2+d^2</math>. Therefore: \n<cmath>|z|^2\\cdot|w|^2=(a^2+b^2)(c^2+d^2)=a^2c^2+a^2d^2+b^2c^2+b^2d^2</cmath>\nand our proof is complete.\n\nNow, also note that we found <math>\\sqrt{416-210i}</math> by letting <math>416-210i=(a-bi)^2</math> and solving for <math>a</math> and <math>b</math> by considering real and imaginary parts. Then, we substitute that into <math>a-bi</math> which is the value of <math>\\sqrt{416-210i}</math> and continue from there.\n\n'''mathboy282'''"
  },
  {
    "year": 2012,
    "variant": "II",
    "problem_number": 9,
    "latex": "== Problem 9 ==\nLet <math>x</math> and <math>y</math> be real numbers such that <math>\\frac{\\sin x}{\\sin y} = 3</math> and <math>\\frac{\\cos x}{\\cos y} = \\frac12</math>. The value of <math>\\frac{\\sin 2x}{\\sin 2y} + \\frac{\\cos 2x}{\\cos 2y}</math> can be expressed in the form <math>\\frac pq</math>, where <math>p</math> and <math>q</math> are relatively prime positive integers. Find <math>p+q</math>.",
    "solution": "Examine the first term in the expression we want to evaluate, <math>\\frac{\\sin 2x}{\\sin 2y}</math>, separately from the second term, <math>\\frac{\\cos 2x}{\\cos 2y}</math>.\n\n=== The First Term ===\n\nUsing the identity <math>\\sin 2\\theta = 2\\sin\\theta\\cos\\theta</math>, we have:\n\n<math>\\frac{2\\sin x \\cos x}{2\\sin y \\cos y} = \\frac{\\sin x \\cos x}{\\sin y \\cos y} = \\frac{\\sin x}{\\sin y}\\cdot\\frac{\\cos x}{\\cos y}=3\\cdot\\frac{1}{2} = \\frac{3}{2}</math>\n\n=== The Second Term ===\n\nLet the equation <math>\\frac{\\sin x}{\\sin y} = 3</math> be equation 1, and let the equation <math>\\frac{\\cos x}{\\cos y} = \\frac12</math> be equation 2.\nHungry for the widely-used identity <math>\\sin^2\\theta + \\cos^2\\theta = 1</math>, we cross multiply equation 1 by <math>\\sin y</math> and multiply equation 2 by <math>\\cos y</math>.\n\nEquation 1 then becomes:\n\n<math>\\sin x = 3\\sin y</math>.\n\nEquation 2 then becomes:\n\n<math>\\cos x = \\frac{1}{2} \\cos y</math>\n\nAha! We can square both of the resulting equations and match up the resulting LHS with the resulting RHS:\n\n<math>1 = 9\\sin^2 y + \\frac{1}{4} \\cos^2 y</math>\n\nApplying the identity <math>\\cos^2 y = 1 - \\sin^2 y</math> (which is similar to <math>\\sin^2\\theta + \\cos^2\\theta = 1</math> but a bit different), we can change <math>1 = 9\\sin^2 y + \\frac{1}{4} \\cos^2 y</math> into:\n\n<math>1 = 9\\sin^2 y + \\frac{1}{4} - \\frac{1}{4} \\sin^2 y</math>\n\nRearranging, we get <math>\\frac{3}{4} = \\frac{35}{4} \\sin^2 y </math>.\n\nSo, <math>\\sin^2 y = \\frac{3}{35}</math>.\n\nSquaring Equation 1 (leading to <math>\\sin^2 x = 9\\sin^2 y</math>), we can solve for <math>\\sin^2 x</math>:\n\n<math>\\sin^2 x = 9\\left(\\frac{3}{35}\\right) = \\frac{27}{35}</math>\n\nUsing the identity <math>\\cos 2\\theta = 1 - 2\\sin^2\\theta</math>, we can solve for <math>\\frac{\\cos 2x}{\\cos 2y}</math>.\n\n<math>\\cos 2x = 1 - 2\\sin^2 x = 1 - 2\\cdot\\frac{27}{35} = 1 - \\frac{54}{35} = -\\frac{19}{35}</math>\n\n<math>\\cos 2y = 1 - 2\\sin^2 y = 1 - 2\\cdot\\frac{3}{35} = 1 - \\frac{6}{35} = \\frac{29}{35}</math>\n\nThus, <math>\\frac{\\cos 2x}{\\cos 2y} = \\frac{-19/35}{29/35} = -\\frac{19}{29}</math>.\n\nPlugging in the numbers we got back into the original equation :\n\nWe get <math>\\frac{\\sin 2x}{\\sin 2y} + \\frac{\\cos 2x}{\\cos 2y} = \\frac32 + \\left(-\\frac{19}{29} \\right) = \\frac{49}{58}</math>.\n\nSo, the answer is <math>49+58=\\boxed{107}</math>."
  },
  {
    "year": 2012,
    "variant": "II",
    "problem_number": 10,
    "latex": "== Problem 10 ==\nFind the number of positive integers <math>n</math> less than <math>1000</math> for which there exists a positive real number <math>x</math> such that <math>n=x\\lfloor x \\rfloor</math>.\n\nNote: <math>\\lfloor x \\rfloor</math> is the greatest integer less than or equal to <math>x</math>.",
    "solution": "=== Solution 1 ===\nWe know that <math>x</math> cannot be irrational because the product of a rational number and an irrational number is irrational (but <math>n</math> is an integer). Therefore <math>x</math> is rational.\n\n\nLet <math>x = a + \\frac{b}{c}</math> where <math>a,b,c</math> are nonnegative integers and <math>0 \\le b < c</math> (essentially, <math>x</math> is a mixed number). Then,\n<cmath>n = \\left(a + \\frac{b}{c}\\right) \\left\\lfloor a +\\frac{b}{c} \\right\\rfloor \\Rightarrow n = \\left(a + \\frac{b}{c}\\right)a = a^2 + \\frac{ab}{c}</cmath> \n\nHere it is sufficient for <math>\\frac{ab}{c}</math> to be an integer. We can use casework to find values of <math>n</math> based on the value of <math>a</math>:\n\n<math>a = 0 \\implies</math> nothing because n is positive\n\n<math>a = 1 \\implies \\frac{b}{c} = \\frac{0}{1}</math>\n\n<math>a = 2 \\implies \\frac{b}{c} = \\frac{0}{2},\\frac{1}{2}</math>\n\n<math>a = 3 \\implies\\frac{b}{c} =\\frac{0}{3},\\frac{1}{3},\\frac{2}{3}</math>\n\n\nThe pattern continues up to <math>a = 31</math>. Note that if <math>a = 32</math>, then <math>n > 1000</math>. However if <math>a = 31</math>, the largest possible <math>x</math> is <math>31 + \\frac{30}{31}</math>, in which <math>n</math> is still less than <math>1000</math>. Therefore the number of positive integers for <math>n</math> is equal to <math>1+2+3+...+31 = \\frac{31 \\cdot 32}{2} = \\boxed{496}.</math>\n\n=== Solution 2===\nNotice that <math>x\\lfloor x\\rfloor</math> is continuous over the region <math>x \\in [k, k+1)</math> for any integer <math>k</math>. Therefore, it takes all values in the range <math>[k\\lfloor k\\rfloor, (k+1)\\lfloor k+1\\rfloor) = [k^2, (k+1)k)</math> over that interval. Note that if <math>k>32</math> then <math>k^2 > 1000</math> and if <math>k=31</math>, the maximum value attained is <math>31*32 < 1000</math>. It follows that the answer is <math> \\sum_{k=1}^{31} (k+1)k-k^2  = \\sum_{k=1}^{31} k = \\frac{31\\cdot 32}{2} = \\boxed{496}.</math>\n\n=== Solution 3===\nBounding gives <math>x^2\\le n<x^2+x</math>. Thus there are a total of <math>x</math> possible values for <math>n</math>, for each value of <math>x^2</math>. Checking, we see <math>31^2+31=992<1000</math>, so there are <cmath>1+2+3+...+31= \\boxed{496}</cmath> such values for <math>n</math>.\n\n=== Solution 4===\n\nAfter a bit of experimenting, we let <math>n=l^2+s, s < 2n+1</math>. We claim that I (the integer part of <math>x</math>) = <math>l</math> . (Prove it yourself using contradiction !) so now we get that <math>x=l+\\frac{s}{l}</math>. This implies that solutions exist iff <math>s<l</math>, or for all natural numbers of the form <math>l^2+s</math> where <math>s<l</math>. \nHence, 1 solution exists for <math>l=1</math>! 2 for <math>l=2</math> and so on. Therefore our final answer is <math>31+30+\\dots+1= \\boxed{496}</math>\n\n=== Solution 5 ===\n\nNotice we can write <math>floor(x)</math> as <math>x - frac(x)</math>. Since <math>n</math> is a positive integer less than <math>1000</math>, <math>1 \\leq x(x - frac(x)) \\leq 999</math>. We now have <math>1 \\leq x^{2} - x*frac(x) \\leq 999</math>. Since <math>x*frac(x)</math> ranges from <math>0</math> to <math>x</math>, we can rewrite as <math>1 \\leq x^{2} \\leq 999 + x</math>. Notice all <math>x</math> that satisfy this inequality range from <math>1</math> to <math>32</math>. Now every range from <math>y</math> to <math>y+1</math> for <math>x</math> result in exactly <math>y</math> solutions that give a positive integer solution for <math>n</math>. The first range is <math>1</math> to <math>2</math> and the last range is <math>31</math> to <math>32</math>. Thus, by using our above lemma, we can find the total number of solutions by <math>1+2+‚Ä¶+31 = \\frac{31*32}{2} = \\boxed{496}</math>.\n\n\n~ilikemath247365\n\n=== Video Solution ===\n\n[https://youtu.be/GqiNJuOsl1w?si=yd68PahrwevAa6fn 2012 AIME II #10]\n\n~MathProblemSolvingSkills.com"
  },
  {
    "year": 2012,
    "variant": "II",
    "problem_number": 11,
    "latex": "== Problem 11 ==\nLet <math>f_1(x) = \\frac23 - \\frac3{3x+1}</math>, and for <math>n \\ge 2</math>, define <math>f_n(x) = f_1(f_{n-1}(x))</math>. The value of <math>x</math> that satisfies <math>f_{1001}(x) = x-3</math> can be expressed in the form <math>\\frac mn</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "After evaluating the first few values of <math>f_k (x)</math>, we obtain <math>f_4(x) = f_1(x) = \\frac{2}{3} - \\frac{3}{3x+1} = \\frac{6x-7}{9x+3}</math>. Since <math>1001 \\equiv 2 \\mod 3</math>, <math>f_{1001}(x) = f_2(x) = \\frac{3x+7}{6-9x}</math>. We set this equal to <math>x-3</math>, i.e.\n\n\n<math>\\frac{3x+7}{6-9x} = x-3 \\Rightarrow x = \\frac{5}{3}</math>. The answer is thus <math>5+3 = \\boxed{008}</math>."
  },
  {
    "year": 2012,
    "variant": "II",
    "problem_number": 12,
    "latex": "== Problem 12 ==\nFor a positive integer <math>p</math>, define the positive integer <math>n</math> to be <math>p</math>''-safe'' if <math>n</math> differs in absolute value by more than <math>2</math> from all multiples of <math>p</math>. For example, the set of <math>10</math>-safe numbers is <math>\\{ 3, 4, 5, 6, 7, 13, 14, 15, 16, 17, 23, \\ldots\\}</math>. Find the number of positive integers less than or equal to <math>10,000</math> which are simultaneously <math>7</math>-safe, <math>11</math>-safe, and <math>13</math>-safe.",
    "solution": "We see that a number <math>n</math> is <math>p</math>-safe if and only if the residue of <math>n \\mod p</math> is greater than <math>2</math> and less than <math>p-2</math>; thus, there are <math>p-5</math> residues <math>\\mod p</math> that a <math>p</math>-safe number can have. Therefore, a number <math>n</math> satisfying the conditions of the problem can have <math>2</math> different residues <math>\\mod 7</math>, <math>6</math> different residues <math>\\mod 11</math>, and <math>8</math> different residues <math>\\mod 13</math>. The Chinese Remainder Theorem states that for a number <math>x</math> that is\n<math>a</math> (mod b)\n<math>c</math> (mod d)\n<math>e</math> (mod f)\nhas one solution if <math>\\gcd(b,d,f)=1</math>. For example, in our case, the number <math>n</math> can be:\n3 (mod 7)\n3 (mod 11)\n7 (mod 13)\nso since <math>\\gcd(7,11,13)</math>=1, there is 1 solution for n for this case of residues of <math>n</math>.\n\nThis means that by the Chinese Remainder Theorem, <math>n</math> can have <math>2\\cdot 6 \\cdot 8 = 96</math> different residues mod <math>7 \\cdot 11 \\cdot 13 = 1001</math>. Thus, there are <math>960</math> values of <math>n</math> satisfying the conditions in the range <math>0 < n \\le 10010</math>. However, we must now remove any values greater than <math>10000</math> that satisfy the conditions. By checking residues, we easily see that the only such values are <math>10006</math> and <math>10007</math>, so there remain <math>\\fbox{958}</math> values satisfying the conditions of the problem.\n\n\n*We can also say <math>\\frac{2}{7}</math> of all numbers are 7-safe, <math>\\frac{6}{11}</math> of all numbers are 11-safe, and <math>\\frac{8}{13}</math> of all numbers are 13-safe. We can multiply these to get that <math>\\frac{96}{1001}</math> of all numbers are simultaneously 7-safe, 11-safe, and 13-safe."
  },
  {
    "year": 2012,
    "variant": "II",
    "problem_number": 13,
    "latex": "== Problem 13 ==\nEquilateral <math>\\triangle ABC</math> has side length <math>\\sqrt{111}</math>. There are four distinct triangles <math>AD_1E_1</math>, <math>AD_1E_2</math>, <math>AD_2E_3</math>, and <math>AD_2E_4</math>, each congruent to <math>\\triangle ABC</math>,\nwith <math>BD_1 = BD_2 = \\sqrt{11}</math>. Find <math>\\sum_{k=1}^4(CE_k)^2</math>.",
    "solution": "Note that there are only two possible locations for points <math>D_1</math> and <math>D_2</math>, as they are both <math>\\sqrt{111}</math> from point <math>A</math> and <math>\\sqrt{11}</math> from point <math>B</math>, so they are the two points where a circle centered at <math>A</math> with radius <math>\\sqrt{111}</math> and a circle centered at <math>B</math> with radius <math>\\sqrt{11}</math> intersect.  Let <math>D_1</math> be the point on the opposite side of <math>\\overline{AB}</math> from <math>C</math>, and <math>D_2</math> the point on the same side of <math>\\overline{AB}</math> as <math>C</math>.\n\nLet <math>\\theta</math> be the measure of angle <math>BAD_1</math> (also the measure of angle <math>BAD_2</math>); by the Law of Cosines,\n<cmath>\\begin{align*}\\sqrt{11}^2 &= \\sqrt{111}^2 + \\sqrt{111}^2 - 2 \\cdot \\sqrt{111} \\cdot \\sqrt{111} \\cdot \\cos\\theta\\\\\n11 &= 222(1 - \\cos\\theta)\\end{align*}</cmath>\n\nThere are two equilateral triangles with <math>\\overline{AD_1}</math> as a side; let <math>E_1</math> be the third vertex that is farthest from <math>C</math>, and <math>E_2</math> be the third vertex that is nearest to <math>C</math>.\n\nAngle <math>E_1AC = E_1AD_1 + D_1AB + BAC = 60 + \\theta + 60 = 120 + \\theta</math>; by the Law of Cosines,\n<cmath>\\begin{align*}(E_1C)^2 &= (E_1A)^2 + (AC)^2 - 2 (E_1A) (AC)\\cos(120 + \\theta)\\\\\n&= 111 + 111 - 222\\cos(120 + \\theta)\\end{align*}</cmath>\nAngle <math>E_2AC = \\theta</math>; by the Law of Cosines,\n<cmath>\\begin{align*}(E_2C)^2 &= (E_2A)^2 + (AC)^2 - 2 (E_2A) (AC)\\cos\\theta\\\\\n&= 111 + 111 - 222\\,\\cos\\theta\\end{align*}</cmath>\n\nThere are two equilateral triangles with <math>\\overline{AD_2}</math> as a side; let <math>E_3</math> be the third vertex that is farthest from <math>C</math>, and <math>E_4</math> be the third vertex that is nearest to <math>C</math>.\n\nAngle <math>E_3AC = E_3AB + BAC = (60 - \\theta) + 60 = 120 - \\theta</math>; by the Law of Cosines,\n<cmath>\\begin{align*}(E_3C)^2 &= (E_3A)^2 + (AC)^2 - 2 (E_3A) (AC)\\cos(120 - \\theta)\\\\\n&= 111 + 111 - 222\\cos(120 - \\theta)\\end{align*}</cmath>\nAngle <math>E_4AC = \\theta</math>; by the Law of Cosines,\n<cmath>\\begin{align*}(E_4C)^2 &= (E_4A)^2 + (AC)^2 - 2 (E_4A) (AC)\\cos\\theta \\\\\n&= 111 + 111 - 222\\cos\\theta\\end{align*}</cmath>\n\nThe solution is:\n<cmath>\\begin{align*}\n\\sum_{k=1}^4(CE_k)^2 &= (E_1C)^2 + (E_3C)^2 + (E_2C)^2 + (E_4C)^2\\\\\n&= 222(1 - \\cos(120 + \\theta)) + 222(1 - \\cos(120 - \\theta)) + 222(1 - \\cos\\theta) + 222(1 - \\cos\\theta)\\\\\n&= 222((1 - (\\cos120\\cos\\theta - \\sin120\\sin\\theta)) + (1 - (\\cos120\\cos\\theta + \\sin120\\sin\\theta)) + 2(1 -\\cos\\theta))\\\\\n&= 222(1 - \\cos120\\cos\\theta + \\sin120\\sin\\theta + 1 - \\cos120\\cos\\theta - \\sin120\\sin\\theta + 2 - 2\\cos\\theta)\\\\\n&= 222(1 + \\frac{1}{2}\\cos\\theta + 1 + \\frac{1}{2}\\cos\\theta + 2 - 2\\cos\\theta)\\\\\n&= 222(4 - \\cos\\theta)\\\\\n&= 666 + 222(1 - \\cos\\theta)\n\\end{align*}</cmath>\nSubstituting <math>11</math> for <math>222(1 - \\cos\\theta)</math> gives the solution <math>666 + 11 = \\framebox{677}.</math>"
  },
  {
    "year": 2012,
    "variant": "II",
    "problem_number": 14,
    "latex": "== Problem 14 ==\nIn a group of nine people each person shakes hands with exactly two of the other people from the group. Let <math>N</math> be the number of ways this handshaking can occur. Consider two handshaking arrangements different if and only if at least two people who shake hands under one arrangement do not shake hands under the other arrangement. Find the remainder when <math>N</math> is divided by <math>1000</math>.",
    "solution": "Given that each person shakes hands with two people, we can view all of these through graph theory as 'rings'.  This will split it into four cases:  Three rings of three, one ring of three and one ring of six, one ring of four and one ring of five, and one ring of nine. (All other cases that sum to nine won't work, since they have at least one 'ring' of two or fewer points, which doesn't satisfy the handshaking conditions of the problem.)\n\n'''Case 1:'''   To create our groups of three, there are <math>\\dfrac{\\dbinom{9}{3}\\dbinom{6}{3}\\dbinom{3}{3}}{3!}</math>.  In general, the number of ways we can arrange people within the rings to count properly is <math>\\dfrac{(n-1)!}{2}</math>, since there are <math>(n-1)!</math> ways to arrange items in the circle, and then we don't want to want to consider reflections as separate entities.  Thus, each of the three cases has <math>\\dfrac{(3-1)!}{2}=1</math> arrangements.  Therefore, for this case, there are <math>\\left(\\dfrac{\\dbinom{9}{3}\\dbinom{6}{3}\\dbinom{3}{3}}{3!}\\right)(1)^3=280</math>\n\n'''Case 2:'''  For three and six, there are <math>\\dbinom{9}{6}=84</math> sets for the rings.  For organization within the ring, as before, there is only one way (i.e. <math>(3-1)!/2</math>)to arrange the ring of three.  For six, there is <math>\\dfrac{(6-1)!}{2}=60</math>.  This means there are <math>(84)(1)(60)=5040</math> arrangements.\n\n'''Case 3:'''  For four and five, there are <math>\\dbinom{9}{5}=126</math> sets for the rings.  Within the five, there are <math>\\dfrac{4!}{2}=12</math>, and within the group of four there are <math>\\dfrac{3!}{2}=3</math> arrangements.  This means the total is <math>(126)(12)(3)=4536</math>.\n\n'''Case 4:'''  For the nine case, there is <math>\\dbinom{9}{9}=1</math> arrangement for the ring.  Within it, there are <math>\\dfrac{8!}{2}=20160</math> arrangements.\n\nSumming the cases, we have <math>280+5040+4536+20160=30016 \\to \\boxed{016}</math>.\n\nNote: the reason why we divided by <math>3!</math> in Case 1 and not the other three cases is because for case one and case one only, the groups each have 3 people, implying a symmetric configuration. \n\nFor example, for 3 people A, B, C in group 1, they could very well be in group 2 or 3 too, because each group has 3 people. \n\nHowever, for all the other three cases, the configurations are not symmetric and so dividing by <math>2!</math> or like would be incorrect. It is not possible to configure A, B, C such that they can be both a group of 3 and a group of 6, since {A, B, C} only has 3 elements. \n\n~mathboy282"
  },
  {
    "year": 2012,
    "variant": "II",
    "problem_number": 15,
    "latex": "== Problem 15 ==\nTriangle <math>ABC</math> is inscribed in circle <math>\\omega</math> with <math>AB=5</math>, <math>BC=7</math>, and <math>AC=3</math>. The bisector of angle <math>A</math> meets side <math>\\overline{BC}</math> at <math>D</math> and circle <math>\\omega</math> at a second point <math>E</math>. Let <math>\\gamma</math> be the circle with diameter <math>\\overline{DE}</math>. Circles <math>\\omega</math> and <math>\\gamma</math> meet at <math>E</math> and a second point <math>F</math>. Then <math>AF^2 = \\frac mn</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "==Quick Solution using Olympiad Terms ==\n\nTake a force-overlaid inversion about <math>A</math> and note <math>D</math> and <math>E</math> map to each other. As <math>DE</math> was originally the diameter of <math>\\gamma</math>, <math>DE</math> is still the diameter of <math>\\gamma</math>. Thus <math>\\gamma</math> is preserved. Note that the midpoint <math>M</math> of <math>BC</math> lies on <math>\\gamma</math>, and <math>BC</math> and <math>\\omega</math> are swapped. Thus points <math>F</math> and <math>M</math> map to each other, and are isogonal. It follows that <math>AF</math> is a symmedian of <math>\\triangle{ABC}</math>, or that <math>ABFC</math> is harmonic. Then <math>(AB)(FC)=(BF)(CA)</math>, and thus we can let <math>BF=5x, CF=3x</math> for some <math>x</math>. By the LoC, it is easy to see <math>\\angle{BAC}=120^\\circ</math> so <math>(5x)^2+(3x)^2-2\\cos{60^\\circ}(5x)(3x)=49</math>. Solving gives <math>x^2=\\frac{49}{19}</math>, from which by Ptolemy's we see <math>AF=\\frac{30}{\\sqrt{19}}</math>. We conclude the answer is <math>900+19=\\boxed{919}</math>.\n\n'''- Emathmaster'''\n\nSide Note: You might be wondering what the motivation for this solution is. Most of the people who've done EGMO Chapter 8 should recognize this as problem 8.32 (2009 Russian Olympiad) with the computational finish afterwards.\nNow if you haven't done this, but still know what inversion is, here's the motivation. We'd see that it's kinda hard to angle chase, and if we could, it would still be a bit hard to apply (you could use trig, but it won't be so clean most likely). If you give up after realizing that angle chasing won't work, you'd likely go in a similar approach to Solution 1 (below) or maybe be a bit more insightful and go with the elementary solution above.\n\nFinally, we notice there's circles! Classic setup for inversion! Since we're involving an angle-bisector, the first thing that comes to mind is a force overlaid inversion described in Lemma 8.16 of EGMO (where we invert with radius <math>\\sqrt{AB \\cdot AC}</math> and center <math>A</math>, then reflect over the <math>A</math>-angle bisector, which fixes <math>B, C</math>). We try applying this to the problem, and it's fruitful - we end up with this solution.\n-MSC"
  },
  {
    "year": 2013,
    "variant": "I",
    "problem_number": 1,
    "latex": "The AIME Triathlon consists of a half-mile swim, a 30-mile bicycle ride, and an eight-mile run. Tom swims, bicycles, and runs at constant rates. He runs fives times as fast as he swims, and he bicycles twice as fast as he runs. Tom completes the AIME Triathlon in four and a quarter hours. How many minutes does he spend bicycling?",
    "solution": "Let <math>r</math> represent the rate Tom swims in miles per minute. Then we have\n\n<math>\\frac{1/2}{r} + \\frac{8}{5r} + \\frac{30}{10r} = 255</math>\n\nSolving for <math>r</math>, we find <math>r = 1/50</math>, so the time Tom spends biking is <math>\\frac{30}{(10)(1/50)} = \\boxed{150}</math> minutes."
  },
  {
    "year": 2013,
    "variant": "I",
    "problem_number": 2,
    "latex": "Find the number of five-digit positive integers, <math>n</math>, that satisfy the following conditions:\n\n<UL>\n(a) the number <math>n</math> is divisible by <math>5,</math>\n</UL>\n\n<UL>\n(b) the first and last digits of <math>n</math> are equal, and\n</UL>\n\n<UL>\n(c) the sum of the digits of <math>n</math> is divisible by <math>5.</math>\n</UL>",
    "solution": "The number takes a form of <math>\\overline{5xyz5}</math>, in which <math>5|(x+y+z)</math>. Let <math>x</math> and <math>y</math> be arbitrary digits. For each pair of <math>x,y</math>, there are exactly two values of <math>z</math> that satisfy the condition of <math>5|(x+y+z)</math>. Therefore, the answer is <math>10\\times10\\times2=\\boxed{200}</math>"
  },
  {
    "year": 2013,
    "variant": "I",
    "problem_number": 3,
    "latex": "Let <math>ABCD</math> be a square, and let <math>E</math> and <math>F</math> be points on <math>\\overline{AB}</math> and <math>\\overline{BC},</math> respectively. The line through <math>E</math> parallel to <math>\\overline{BC}</math> and the line through <math>F</math> parallel to <math>\\overline{AB}</math> divide <math>ABCD</math> into two squares and two nonsquare rectangles. The sum of the areas of the two squares is <math>\\frac{9}{10}</math> of the area of square <math>ABCD.</math> Find <math>\\frac{AE}{EB} + \\frac{EB}{AE}.</math>",
    "solution": "It's important to note that <math>\\dfrac{AE}{EB} + \\dfrac{EB}{AE}</math> is equivalent to <math>\\dfrac{AE^2 + EB^2}{(AE)(EB)}</math>\n\nWe define <math>a</math> as the length of the side of larger inner square, which is also <math>EB</math>, <math>b</math> as the length of the side of the smaller inner square which is also <math>AE</math>, and <math>s</math> as the side length of <math>ABCD</math>. Since we are given that the sum of the areas of the two squares is<math>\\frac{9}{10}</math> of the the area of ABCD, we can represent that as <math>a^2 + b^2 = \\frac{9s^2}{10}</math>. The sum of the two nonsquare rectangles can then be represented as <math>2ab  = \\frac{s^2}{10}</math>. \n\nLooking back at what we need to find, we can represent <math>\\dfrac{AE^2 + EB^2}{(AE)(EB)}</math> as <math>\\dfrac{a^2 + b^2}{ab}</math>. We have the numerator, and dividing<math>\\frac{s^2}{10}</math> by two gives us the denominator <math>\\frac{s^2}{20}</math>. Dividing <math>\\dfrac{\\frac{9s^2}{10}}{\\frac{s^2}{20}}</math> gives us an answer of <math>\\boxed{018}</math>."
  },
  {
    "year": 2013,
    "variant": "I",
    "problem_number": 4,
    "latex": "In the array of 13 squares shown below, 8 squares are colored red, and the remaining 5 squares are colored blue. If one of all possible such colorings is chosen at random, the probability that the chosen colored array appears the same when rotated 90 degrees around the central square is <math>\\frac{1}{n}</math> , where ''n'' is a positive integer. Find ''n''.\n\n<asy>\ndraw((0,0)--(1,0)--(1,1)--(0,1)--(0,0));\ndraw((2,0)--(2,2)--(3,2)--(3,0)--(3,1)--(2,1)--(4,1)--(4,0)--(2,0));\ndraw((1,2)--(1,4)--(0,4)--(0,2)--(0,3)--(1,3)--(-1,3)--(-1,2)--(1,2));\ndraw((-1,1)--(-3,1)--(-3,0)--(-1,0)--(-2,0)--(-2,1)--(-2,-1)--(-1,-1)--(-1,1));\ndraw((0,-1)--(0,-3)--(1,-3)--(1,-1)--(1,-2)--(0,-2)--(2,-2)--(2,-1)--(0,-1));\nsize(100);</asy>",
    "solution": "When the array appears the same after a 90-degree rotation, the top formation must look the same as the right formation, which looks the same as the bottom one, which looks the same as the right one. There are four of the same configuration. There are not enough red squares for these to be all red, nor are there enough blue squares for there to be more than one blue square in each three-square formation. Thus there are 2 reds and 1 blue in each, and a blue in the center. There are 3 ways to choose which of the squares in the formation will be blue, leaving the other two red.\n\nThere are <math>\\binom{13}{5}</math> ways to have 5 blue squares in an array of 13. \n\n<math>\\frac{3}{\\binom{13}{5}}</math> = <math>\\frac{1}{429}</math> , so ''<math>n</math>'' = <math>\\boxed{429}</math>"
  },
  {
    "year": 2013,
    "variant": "I",
    "problem_number": 5,
    "latex": "The real root of the equation <math>8x^3 - 3x^2 - 3x - 1 = 0</math> can be written in the form <math>\\frac{\\sqrt[3]a + \\sqrt[3]b + 1}{c}</math>, where <math>a</math>, <math>b</math>, and <math>c</math> are positive integers. Find <math>a+b+c</math>.",
    "solution": "We note that <math>8x^3 - 3x^2 - 3x - 1 = 9x^3 - x^3 - 3x^2 - 3x - 1 = 9x^3 - (x + 1)^3</math>. Therefore, we have that <math>9x^3 = (x+1)^3</math>, so it follows that <math>x\\sqrt[3]{9} = x+1</math>. Solving for <math>x</math> yields <math>\\frac{1}{\\sqrt[3]{9}-1} = \\frac{\\sqrt[3]{81}+\\sqrt[3]{9}+1}{8}</math>, so the answer is <math>\\boxed{98}</math>."
  },
  {
    "year": 2013,
    "variant": "I",
    "problem_number": 6,
    "latex": "Melinda has three empty boxes and <math>12</math> textbooks, three of which are mathematics textbooks. One box will hold any three of her textbooks, one will hold any four of her textbooks, and one will hold any five of her textbooks. If Melinda packs her textbooks into these boxes in random order, the probability that all three mathematics textbooks end up in the same box can be written as <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "The total ways the textbooks can be arranged in the 3 boxes is <math>12\\textbf{C}3\\cdot 9\\textbf{C}4</math>, which is equivalent to <math>\\frac{12\\cdot 11\\cdot 10\\cdot 9\\cdot 8\\cdot 7\\cdot 6}{144}=12\\cdot11\\cdot10\\cdot7\\cdot3</math>.   If all of the math textbooks are put into the box that can hold <math>3</math> textbooks, there are <math>9!/(4!\\cdot 5!)=9\\textbf{C}4</math> ways for the other textbooks to be arranged.  If all of the math textbooks are put into the box that can hold <math>4</math> textbooks, there are <math>9</math> ways to choose the other book in that box, times <math>8\\textbf{C}3</math> ways for the other books to be arranged.  If all of the math textbooks are put into the box with the capability of holding <math>5</math> textbooks, there are <math>9\\textbf{C}2</math> ways to choose the other 2 textbooks in that box, times <math>7\\textbf{C}3</math> ways to arrange the other 7 textbooks.  <math> 9\\textbf{C}4=9\\cdot7\\cdot2=126</math>, <math>9\\cdot 8\\textbf{C}3=9\\cdot8\\cdot7=504</math>, and <math>9\\textbf{C}2\\cdot 7\\textbf{C}3=9\\cdot7\\cdot5\\cdot4=1260</math>, so the total number of ways the math textbooks can all be placed into the same box is <math>126+504+1260=1890</math>.  So, the probability of this occurring is <math>\\frac{(9\\cdot7)(2+8+(4\\cdot5))}{12\\cdot11\\cdot10\\cdot7\\cdot3}=\\frac{1890}{27720}</math>.  If the numerator and denominator are both divided by <math>9\\cdot7</math>, we have <math>\\frac{(2+8+(4\\cdot5))}{4\\cdot11\\cdot10}=\\frac{30}{440}</math>.  Simplifying the numerator yields <math>\\frac{30}{10\\cdot4\\cdot11}</math>, and dividing both numerator and denominator by <math>10</math> results in <math>\\frac{3}{44}</math>.  This fraction cannot be simplified any further, so <math>m=3</math> and <math>n=44</math>.  Therefore, <math>m+n=3+44=\\boxed{047}</math>."
  },
  {
    "year": 2013,
    "variant": "I",
    "problem_number": 7,
    "latex": "A rectangular box has width <math>12</math> inches, length <math>16</math> inches, and height <math>\\frac{m}{n}</math> inches, where <math>m</math> and <math>n</math> are relatively prime positive integers. Three faces of the box meet at a corner of the box. The center points of those three faces are the vertices of a triangle with an area of <math>30</math> square inches. Find <math>m+n</math>.",
    "solution": "Let the height of the box be <math>x</math>.\n\nAfter using the Pythagorean Theorem three times, we can quickly see that the sides of the triangle are 10, <math>\\sqrt{\\left(\\frac{x}{2}\\right)^2 + 64}</math>, and <math>\\sqrt{\\left(\\frac{x}{2}\\right)^2 + 36}</math>. Since the area of the triangle is <math>30</math>, the altitude of the triangle from the base with length <math>10</math> is <math>6</math>.\n\nConsidering the two triangles created by the altitude, we use the Pythagorean theorem twice to find the lengths of the two line segments that make up the base of <math>10</math>.\n\nWe find:\n<cmath>10 = \\sqrt{\\left(28+x^2/4\\right)}+x/2</cmath>\n\nSolving for <math>x</math> gives us <math>x=\\frac{36}{5}</math>. Since this fraction is simplified:\n<cmath>m+n=\\boxed{041}</cmath>"
  },
  {
    "year": 2013,
    "variant": "I",
    "problem_number": 8,
    "latex": "The domain of the function <math>f(x) = \\arcsin(\\log_{m}(nx))</math> is a closed interval of length <math>\\frac{1}{2013}</math> , where <math>m</math> and <math>n</math> are positive integers and <math>m>1</math>. Find the remainder when the smallest possible sum <math>m+n</math> is divided by 1000.",
    "solution": "We know that the domain of <math>\\text{arcsin}</math> is <math>[-1, 1]</math>, so <math>-1 \\le \\log_m nx \\le 1</math>. Now we can apply the definition of logarithms:\n<cmath>m^{-1} = \\frac1m \\le nx \\le m</cmath> <cmath>\\implies \\frac{1}{mn} \\le x \\le \\frac{m}{n}</cmath>\nSince the domain of <math>f(x)</math> has length <math>\\frac{1}{2013}</math>, we have that\n<cmath>\\frac{m}{n} - \\frac{1}{mn} = \\frac{1}{2013}</cmath> <cmath>\\implies \\frac{m^2 - 1}{mn} = \\frac{1}{2013}</cmath>\n\nA larger value of <math>m</math> will also result in a larger value of <math>n</math> since <math> \\frac{m^2 - 1}{mn} \\approx  \\frac{m^2}{mn}=\\frac{m}{n}</math> meaning <math>m</math> and <math>n</math> increase about linearly for large <math>m</math> and <math>n</math>. So we want to find the smallest value of <math>m</math> that also results in an integer value of <math>n</math>. The problem states that <math>m > 1</math>. Thus, first we try <math>m = 2</math>:\n<cmath>\\frac{3}{2n} = \\frac{1}{2013} \\implies 2n = 3 \\cdot 2013 \\implies n \\notin \\mathbb{Z} </cmath>  \nNow, we try <math>m=3</math>:\n<cmath>\\frac{8}{3n} = \\frac{1}{2013} \\implies 3n = 8 \\cdot 2013 \\implies n = 8 \\cdot 671 = 5368</cmath>\nSince <math>m=3</math> is the smallest value of <math>m</math> that results in an integral <math>n</math> value, we have minimized <math>m+n</math>, which is <math>5368 + 3 = 5371 \\equiv \\boxed{371} \\pmod{1000}</math>."
  },
  {
    "year": 2013,
    "variant": "I",
    "problem_number": 9,
    "latex": "A paper equilateral triangle <math>ABC</math> has side length <math>12</math>. The paper triangle is folded so that vertex <math>A</math> touches a point on side <math>\\overline{BC}</math> a distance <math>9</math> from point <math>B</math>. The length of the line segment along which the triangle is folded can be written as <math>\\frac{m\\sqrt{p}}{n}</math>, where <math>m</math>, <math>n</math>, and <math>p</math> are positive integers, <math>m</math> and <math>n</math> are relatively prime, and <math>p</math> is not divisible by the square of any prime. Find <math>m+n+p</math>.\n\n<asy>\nimport cse5;\nsize(12cm);\npen tpen = defaultpen + 1.337;\nreal a = 39/5.0;\nreal b = 39/7.0;\npair B = MP(\"B\", (0,0), dir(200));\npair A = MP(\"A\", (9,0), dir(-80));\npair C = MP(\"C\", (12,0), dir(-20));\npair K = (6,10.392);\npair M = (a*B+(12-a)*K) / 12;\npair N = (b*C+(12-b)*K) / 12;\ndraw(B--M--N--C--cycle, tpen);\ndraw(M--A--N--cycle);\nfill(M--A--N--cycle, mediumgrey);\npair shift = (-20.13, 0);\npair B1 = MP(\"B\", B+shift, dir(200));\npair A1 = MP(\"A\", K+shift, dir(90));\npair C1 = MP(\"C\", C+shift, dir(-20));\ndraw(A1--B1--C1--cycle, tpen);</asy>",
    "solution": "Let <math>M</math> and <math>N</math> be the points on <math>\\overline{AB}</math> and <math>\\overline{AC}</math>, respectively, where the paper is folded. Let <math>D</math> be the point on <math>\\overline{BC}</math> where the folded <math>A</math> touches it.\n<asy> import cse5; size(8cm); pen tpen = defaultpen + 1.337; \nreal a = 39/5.0; real b = 39/7.0; \npair B = MP(\"B\", (0,0), dir(200)); pair A = MP(\"A\", 12*dir(60), dir(90)); pair C = MP(\"C\", (12,0), dir(-20)); pair D = MP(\"D\", (9,0), dir(-80)); pair Y = MP(\"Y\", midpoint(A--D), dir(-50)); pair M = MP(\"M\", extension(A,B,Y,Y+(dir(90)*(D-A))), dir(180)); pair N = MP(\"N\", extension(A,C,M,Y), dir(20)); pair F = MP(\"F\", foot(A,B,C), dir(-90)); pair X = MP(\"X\", extension(A,F,M,N), dir(-120));\ndraw(B--A--C--cycle, tpen); draw(M--N^^F--A--D); draw(rightanglemark(D,F,A,15)); draw(rightanglemark(A,Y,M,15)); MA(\"\\theta\",F,A,D,1.8); \n</asy>\nWe have <math>AF=6\\sqrt{3}</math> and <math>FD=3</math>, so <math>AD=3\\sqrt{13}</math>. Denote <math>\\angle DAF = \\theta </math>; we get <math>\\cos\\theta = 2\\sqrt{3}/\\sqrt{13}</math>. \n\nIn triangle <math>AXY</math>, <math>AY=\\tfrac 12 AD = \\tfrac 32 \\sqrt{13}</math>, and <math>AX=AY\\sec\\theta =\\tfrac{13}{4}\\sqrt{3}</math>. \n\nIn triangle <math>AMX</math>, we get <math>\\angle AMX=60^\\circ-\\theta</math> and then use sine-law to get <math>MX=\\tfrac 12 AX\\csc(60^\\circ-\\theta)</math>; similarly, from triangle <math>ANX</math> we get <math>NX=\\tfrac 12 AX\\csc(60^\\circ+\\theta)</math>. Thus <cmath>MN=\\tfrac 12 AX(\\csc(60^\\circ-\\theta) +\\csc(60^\\circ+\\theta)).</cmath> Since <math>\\sin(60^\\circ\\pm \\theta) = \\tfrac 12 (\\sqrt{3}\\cos\\theta \\pm \\sin\\theta)</math>, we get\n<cmath>\\begin{align*}\n    \\csc(60^\\circ-\\theta) +\\csc(60^\\circ+\\theta) &= \\frac{\\sqrt{3}\\cos\\theta}{\\cos^2\\theta - \\tfrac 14} = \\frac{24 \\cdot \\sqrt{13}}{35}\n\\end{align*}</cmath>\nThen <cmath>MN = \\frac 12 AX \\cdot \\frac{24 \\cdot \\sqrt{13}}{35} = \\frac{39\\sqrt{39}}{35}</cmath>\n\nThe answer is <math>39 + 39 + 35 = \\boxed{113}</math>."
  },
  {
    "year": 2013,
    "variant": "I",
    "problem_number": 10,
    "latex": "There are nonzero integers <math>a</math>, <math>b</math>, <math>r</math>, and <math>s</math> such that the complex number <math>r+si</math> is a zero of the polynomial <math>P(x)={x}^{3}-a{x}^{2}+bx-65</math>. For each possible combination of <math>a</math> and <math>b</math>, let <math>{p}_{a,b}</math> be the sum of the zeros of <math>P(x)</math>. Find the sum of the <math>{p}_{a,b}</math>'s for all possible combinations of <math>a</math> and <math>b</math>.",
    "solution": "Since <math>r+si</math> is a root, by the Complex Conjugate Root Theorem, <math>r-si</math> must be the other imaginary root. Using <math>q</math> to represent the real root, we have\n\n<math>(x-q)(x-r-si)(x-r+si) = x^3 -ax^2 + bx -65</math>\n\nApplying difference of squares, and regrouping, we have\n\n<math>(x-q)(x^2 - 2rx + (r^2 + s^2)) = x^3 -ax^2 + bx -65</math>\n\nSo matching coefficients, we obtain\n\n<math>q(r^2 + s^2) = 65</math>\n\n<math>b = r^2 + s^2 + 2rq</math>\n\n<math>a = q + 2r</math>\n\nBy Vieta's each <math> {p}_{a,b} = a </math> so we just need to find the values of <math> a </math> in each pair.\nWe proceed by determining possible values for <math>q</math>, <math>r</math>, and <math>s</math> and using these to determine <math>a</math> and <math>b</math>.\n\nIf <math>q = 1</math>, <math>r^2 + s^2 = 65</math>\nso (r, s) = <math>(\\pm1, \\pm 8), (\\pm8, \\pm 1), (\\pm4, \\pm 7), (\\pm7, \\pm 4)</math>\n\nSimilarly, for <math>q = 5</math>, <math>r^2 + s^2 = 13</math> so the pairs <math>(r,s)</math> are\n<math>(\\pm2, \\pm 3), (\\pm3, \\pm 2)</math>\n\nFor <math>q = 13</math>, <math>r^2 + s^2 = 5</math> so the pairs <math> (r,s)</math> are\n<math>(\\pm2, \\pm 1), (\\pm1, \\pm 2)</math>\n\nNow we can disregard the plus minus signs for s because those cases are included as complex conjugates of the counted cases.\nThe positive and negative values of r will cancel, so the sum of the  <math> {p}_{a,b} = a </math> for <math>q = 1</math> is <math>q</math> times the number of distinct <math>r</math> values (as each value of <math>r</math> generates a pair <math>(a,b)</math>).\nOur answer is then <math>(1)(8) + (5)(4) + (13)(4) = \\boxed{080}</math>."
  },
  {
    "year": 2013,
    "variant": "I",
    "problem_number": 11,
    "latex": "Ms. Math's kindergarten class has <math>16</math> registered students. The classroom has a very large number, <math>N</math>, of play blocks which satisfies the conditions:\n\n(a) If <math>16</math>, <math>15</math>, or <math>14</math> students are present in the class, then in each case all the blocks can be distributed in equal numbers to each student, and\n\n(b) There are three integers <math>0 < x < y < z < 14</math> such that when <math>x</math>, <math>y</math>, or <math>z</math> students are present and the blocks are distributed in equal numbers to each student, there are exactly three blocks left over.\n\nFind the sum of the distinct prime divisors of the least possible value of <math>N</math> satisfying the above conditions.",
    "solution": "<math>N</math> must be some multiple of <math>\\text{lcm}(14, 15, 16)= 2^{4}\\cdot 3\\cdot 5\\cdot 7</math> ; this <math>lcm</math> is hereby denoted <math>k</math> and <math>N = qk</math>.\n\n<math>1</math>, <math>2</math>, <math>3</math>, <math>4</math>, <math>5</math>, <math>6</math>, <math>7</math>, <math>8</math>, <math>10</math>, and <math>12</math> all divide <math>k</math>, so <math>x, y, z = 9, 11, 13</math>\n\nWe have the following three modulo equations:\n\n<math>nk\\equiv 3\\pmod{9}</math>\n\n<math>nk\\equiv 3\\pmod{11}</math>\n\n<math>nk\\equiv 3\\pmod{13}</math>\n\nTo solve the equations, you can notice the answer must be of the form <math>9\\cdot 11\\cdot 13\\cdot m + 3</math> where <math>m</math> is an integer. \n\nThis must be divisible by <math>lcm</math> <math>(14, 15, 16)</math>, which is <math>560\\cdot 3</math>. \n\nTherefore, <math>\\frac{9\\cdot 11\\cdot 13\\cdot m + 3}{560\\cdot 3} = q</math>, which is an integer. Factor out <math>3</math> and divide to get <math>\\frac{429m+1}{560} = q</math>. \nTherefore, <math>429m+1=560q</math>. We can use [[Bezout's Lemma|Bezout's Identity]] or a [[Euclidean algorithm]] bash to solve for the least of <math>m</math> and <math>q</math>. \n\nWe find that the least <math>m</math> is <math>171</math> and the least <math>q</math> is <math>131</math>. \n\nSince we want to factor <math>1680\\cdot q</math>, don't multiply: we already know that the prime factors of <math>1680</math> are <math>2</math>, <math>3</math>, <math>5</math>, and <math>7</math>, and since <math>131</math> is prime, we have <math>2 + 3 + 5 + 7 + 131 = \\boxed{148}</math>."
  },
  {
    "year": 2013,
    "variant": "I",
    "problem_number": 12,
    "latex": "Let <math>\\bigtriangleup PQR</math> be a triangle with <math>\\angle P = 75^\\circ</math> and <math>\\angle Q = 60^\\circ</math>. A regular hexagon <math>ABCDEF</math> with side length 1 is drawn inside <math>\\triangle PQR</math> so that side <math>\\overline{AB}</math> lies on <math>\\overline{PQ}</math>, side <math>\\overline{CD}</math> lies on <math>\\overline{QR}</math>, and one of the remaining vertices lies on <math>\\overline{RP}</math>. There are positive integers <math>a, b, c, </math> and <math>d</math> such that the area of <math>\\triangle PQR</math> can be expressed in the form <math>\\frac{a+b\\sqrt{c}}{d}</math>, where <math>a</math> and <math>d</math> are relatively prime, and c is not divisible by the square of any prime. Find <math>a+b+c+d</math>.",
    "solution": "First, find that <math>\\angle R = 45^\\circ</math>.\nDraw <math>ABCDEF</math>. Now draw <math>\\bigtriangleup PQR</math> around <math>ABCDEF</math> such that <math>Q</math> is adjacent to <math>C</math> and <math>D</math>. The height of <math>ABCDEF</math> is <math>\\sqrt{3}</math>, so the length of base <math>QR</math> is <math>2+\\sqrt{3}</math>. Let the equation of <math>\\overline{RP}</math> be <math>y = x</math>. Then, the equation of <math>\\overline{PQ}</math> is <math>y = -\\sqrt{3} (x - (2+\\sqrt{3})) \\to y = -x\\sqrt{3} + 2\\sqrt{3} + 3</math>. Solving the two equations gives <math>y = x = \\frac{\\sqrt{3} + 3}{2}</math>. The area of <math>\\bigtriangleup PQR</math> is <math>\\frac{1}{2} * (2 + \\sqrt{3}) * \\frac{\\sqrt{3} + 3}{2} = \\frac{5\\sqrt{3} + 9}{4}</math>. <math>a + b + c + d = 9 + 5 + 3 + 4 = \\boxed{021}</math>\n\n\n\nNote (different ending): When you have the length of the base <math>QR</math>, you don't need to find the equations of the lines <math>QP</math> and <math>PR</math>. Instead, make an altitude from <math>P</math> to <math>QR</math>, and call the foot <math>M</math>. <math>QPM</math> is a <math>45, 45, 90</math> triangle and <math>PMR</math> is a <math>30, 60, 90</math> triangle. And, they both share <math>PM</math>. So, we can set <math>RM</math> as <math>x</math>, so <math>PM</math> is <math>x\\sqrt{3}</math>. Since <math>QPM</math> is a <math>45, 45, 90</math> triangle, <math>PM=MQ=x\\sqrt{3}</math>. The base <math>QR</math> can be written as <math>QM+MR=x+x\\sqrt{3}=2+\\sqrt{3}</math>. Solve this equation and <math>x=\\frac{\\sqrt{3}+1}{2}</math> and <math>PM=x\\sqrt{3}=\\frac{\\sqrt{3}+3}{2}</math>. Multiply this by base <math>QR</math> and divide by <math>2</math> to get the area of triangle <math>PQR</math> which is <math>\\frac{9+5\\sqrt{3}}{4}</math>. So, <math>a + b + c + d = 9 + 5 + 3 + 4 = \\boxed{021}</math>\n-hwan"
  },
  {
    "year": 2013,
    "variant": "I",
    "problem_number": 13,
    "latex": "Triangle <math>AB_0C_0</math> has side lengths <math>AB_0 = 12</math>, <math>B_0C_0 = 17</math>, and <math>C_0A = 25</math>. For each positive integer <math>n</math>, points <math>B_n</math> and <math>C_n</math> are located on <math>\\overline{AB_{n-1}}</math> and <math>\\overline{AC_{n-1}}</math>, respectively, creating three similar triangles <math>\\triangle AB_nC_n \\sim \\triangle B_{n-1}C_nC_{n-1} \\sim \\triangle AB_{n-1}C_{n-1}</math>. The area of the union of all triangles <math>B_{n-1}C_nB_n</math> for <math>n\\geq1</math> can be expressed as <math>\\tfrac pq</math>, where <math>p</math> and <math>q</math> are relatively prime positive integers. Find <math>q</math>.",
    "solution": "Note that every <math>B_nC_n</math> is parallel to each other for any nonnegative <math>n</math>. Also, the area we seek is simply the ratio <math>k=\\frac{[B_0B_1C_1]}{[B_0B_1C_1]+[C_1C_0B_0]}</math>, because it repeats in smaller and smaller units. Note that the area of the triangle, by Heron's formula, is 90.\n\nFor ease, all ratios I will use to solve this problem are with respect to the area of <math>[AB_0C_0]</math>. For example, if I say some area has ratio <math>\\frac{1}{2}</math>, that means its area is 45.\n\nNow note that <math>k=</math> 1 minus ratio of <math>[B_1C_1A]</math> minus ratio <math>[B_0C_0C_1]</math>. We see by similar triangles given that ratio <math>[B_0C_0C_1]</math> is <math>\\frac{17^2}{25^2}</math>. Ratio <math>[B_1C_1A]</math> is <math>(\\frac{336}{625})^2</math>, after seeing that <math>C_1C_0 = \\frac{289}{625}</math>, . Now it suffices to find 90 times ratio <math>[B_0B_1C_1]</math>, which is given by 1 minus the two aforementioned ratios. Substituting these ratios to find <math>k</math> and clearing out the <math>5^8</math>, we see that the answer is <math>90\\cdot \\frac{5^8-336^2-17^2\\cdot 5^4}{5^8-336^2}</math>, which gives <math>q= \\boxed{961}</math>."
  },
  {
    "year": 2013,
    "variant": "I",
    "problem_number": 14,
    "latex": "For <math>\\pi \\le \\theta < 2\\pi</math>, let\n<cmath>\\begin{align*}\nP &= \\frac12\\cos\\theta - \\frac14\\sin 2\\theta - \\frac18\\cos 3\\theta + \\frac{1}{16}\\sin 4\\theta + \\frac{1}{32} \\cos 5\\theta - \\frac{1}{64} \\sin 6\\theta - \\frac{1}{128} \\cos 7\\theta + \\cdots\n\\end{align*}</cmath>\nand\n<cmath>\\begin{align*}\nQ &= 1 - \\frac12\\sin\\theta -\\frac14\\cos 2\\theta + \\frac18 \\sin 3\\theta + \\frac{1}{16}\\cos 4\\theta - \\frac{1}{32}\\sin 5\\theta - \\frac{1}{64}\\cos 6\\theta +\\frac{1}{128}\\sin 7\\theta + \\cdots\n\\end{align*}</cmath>\nso that <math>\\frac{P}{Q} = \\frac{2\\sqrt2}{7}</math>. Then <math>\\sin\\theta = -\\frac{m}{n}</math> where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "Noticing the <math>\\sin</math> and <math>\\cos</math> in both <math>P</math> and <math>Q,</math> we think of the angle addition identities: \n\n<cmath>\\sin(a + b) = \\sin a \\cos b + \\cos a \\sin b, \\cos(a + b) = \\cos a \\cos b - \\sin a \\sin b</cmath>\n\nWith this in mind, we multiply <math>P</math> by <math>\\sin \\theta</math> and <math>Q</math> by <math>\\cos \\theta</math> to try and use some angle addition identities. Indeed, we get \n<cmath>\\begin{align*}\nP \\sin \\theta + Q \\cos \\theta &= \\cos \\theta + \\dfrac{1}{2}(\\cos \\theta \\sin \\theta - \\sin \\theta \\cos \\theta) - \\dfrac{1}{4}(\\sin{2 \\theta} \\sin \\theta + \\cos{2 \\theta} \\cos{\\theta}) - \\cdots \\\\\n&= \\cos \\theta - \\dfrac{1}{4} \\cos \\theta + \\dfrac{1}{8} \\sin{2 \\theta} + \\dfrac{1}{16} \\cos{3 \\theta} + \\cdots \\\\\n&= \\cos \\theta - \\dfrac{1}{2}P\n\\end{align*}</cmath>\nafter adding term-by-term. Similar term-by-term adding yields <cmath>P \\cos \\theta + Q \\sin \\theta = -2(Q - 1).</cmath> \nThis is a system of equations; rearrange and rewrite to get <cmath>P(1 + 2 \\sin \\theta) + 2Q \\cos \\theta = 2 \\cos \\theta</cmath> and <cmath>P \\cos^2 \\theta + Q \\cos \\theta(2 + \\sin \\theta) = 2 \\cos \\theta.</cmath> Subtract the two and rearrange to get <cmath>\\dfrac{P}{Q} = \\dfrac{\\cos \\theta}{2 + \\sin \\theta} = \\dfrac{2 \\sqrt{2}}{7}.</cmath> Then, square both sides and use Pythagorean Identity to get a quadratic in <math>\\sin \\theta.</math> Factor that quadratic and solve for <math>\\sin \\theta = -17/19, 1/3.</math> Since we're given <math>\\pi\\leq\\theta<2\\pi,</math> <math>\\sin\\theta</math> is nonpositive. We therefore use the negative solution, and our desired answer is <math>17 + 19 = \\boxed{036}.</math>"
  },
  {
    "year": 2013,
    "variant": "I",
    "problem_number": 15,
    "latex": "Let <math>N</math> be the number of ordered triples <math>(A,B,C)</math> of integers satisfying the conditions \n(a) <math>0\\le A<B<C\\le99</math>, \n(b) there exist integers <math>a</math>, <math>b</math>, and <math>c</math>, and prime <math>p</math> where <math>0\\le b<a<c<p</math>, \n(c) <math>p</math> divides <math>A-a</math>, <math>B-b</math>, and <math>C-c</math>, and \n(d) each ordered triple <math>(A,B,C)</math> and each ordered triple <math>(b,a,c)</math> form arithmetic sequences. Find <math>N</math>.",
    "solution": "From condition (d), we have <math>(A,B,C)=(B-D,B,B+D)</math> and <math>(b,a,c)=(a-d,a,a+d)</math>. Condition <math>\\text{(c)}</math> states that <math>p\\mid B-D-a</math>, <math>p | B-a+d</math>, and <math>p\\mid B+D-a-d</math>. We subtract the first two to get <math>p\\mid-d-D</math>, and we do the same for the last two to get <math>p\\mid 2d-D</math>. We subtract these two to get <math>p\\mid 3d</math>. So <math>p\\mid 3</math> or <math>p\\mid d</math>. The second case is clearly impossible, because that would make <math>c=a+d>p</math>, violating condition <math>\\text{(b)}</math>. So we have <math>p\\mid 3</math>, meaning <math>p=3</math>. Condition <math>\\text{(b)}</math> implies that <math>(b,a,c)=(0,1,2)</math> or <math>(a,b,c)\\in (1,0,2)\\rightarrow (-2,0,2)\\text{ }(D\\equiv 2\\text{ mod 3})</math>. Now we return to condition <math>\\text{(c)}</math>, which now implies that <math>(A,B,C)\\equiv(-2,0,2)\\pmod{3}</math>. Now, we set <math>B=3k</math> for increasing positive integer values of <math>k</math>. <math>B=0</math> yields no solutions. <math>B=3</math> gives <math>(A,B,C)=(1,3,5)</math>, giving us <math>1</math> solution. If <math>B=6</math>, we get <math>2</math> solutions, <math>(4,6,8)</math> and <math>(1,6,11)</math>. Proceeding in the manner, we see that if <math>B=48</math>, we get 16 solutions. However, <math>B=51</math> still gives <math>16</math> solutions because <math>C_\\text{max}=2B-1=101>100</math>. Likewise, <math>B=54</math> gives <math>15</math> solutions. This continues until <math>B=96</math> gives one solution. <math>B=99</math> gives no solution. Thus, <math>N=1+2+\\cdots+16+16+15+\\cdots+1=2\\cdot\\frac{16(17)}{2}=16\\cdot 17=\\boxed{272}</math>."
  },
  {
    "year": 2013,
    "variant": "II",
    "problem_number": 1,
    "latex": "==Problem 1==\nSuppose that the measurement of time during the day is converted to the metric system so that each day has <math>10</math> metric hours, and each metric hour has <math>100</math> metric minutes. Digital clocks would then be produced that would read <math>\\text{9:99}</math> just before midnight, <math>\\text{0:00}</math> at midnight, <math>\\text{1:25}</math> at the former <math>\\text{3:00}</math> AM, and <math>\\text{7:50}</math> at the former <math>\\text{6:00}</math> PM. After the conversion, a person who wanted to wake up at the equivalent of the former <math>\\text{6:36}</math> AM would set his new digital alarm clock for <math>\\text{A:BC}</math>, where <math>\\text{A}</math>, <math>\\text{B}</math>, and <math>\\text{C}</math> are digits. Find <math>100\\text{A}+10\\text{B}+\\text{C}</math>.",
    "solution": "There are <math>24 \\cdot 60=1440</math> normal minutes in a day , and <math>10 \\cdot 100=1000</math> metric minutes in a day. The ratio of normal to metric minutes in a day is <math>\\frac{1440}{1000}</math>, which simplifies to <math>\\frac{36}{25}</math>. This means that every time 36 normal minutes pass, 25 metric minutes pass. From midnight to <math>\\text{6:36}</math> AM, <math>6 \\cdot 60+36=396</math> normal minutes pass. This can be viewed as <math>\\frac{396}{36}=11</math> cycles of 36 normal minutes, so 11 cycles of 25 metric minutes pass. Adding <math>25 \\cdot 11=275</math> to <math>\\text{0:00}</math> gives <math>\\text{2:75}</math>, so the answer is <math>\\boxed{275}</math>."
  },
  {
    "year": 2013,
    "variant": "II",
    "problem_number": 2,
    "latex": "==Problem 2==\nPositive integers <math>a</math> and <math>b</math> satisfy the condition\n<cmath>\\log_2(\\log_{2^a}(\\log_{2^b}(2^{1000}))) = 0.</cmath>\nFind the sum of all possible values of <math>a+b</math>.",
    "solution": "To simplify, we write this logarithmic expression as an exponential one. Just looking at  the first log, it has a base of 2 and an argument of the expression in parenthesis. Therefore, we can make 2 the base, 0 the exponent, and the argument the result. That means <math>\\log_{2^a}(\\log_{2^b}(2^{1000}))=1</math> (because <math>2^0=1</math>). Doing this again, we get <math>\\log_{2^b}(2^{1000})=2^a</math>. Doing the process one more time, we finally eliminate all of the logs, getting <math>{(2^{b})}^{(2^a)}=2^{1000}</math>. Using the property that <math>{(a^x)^{y}}=a^{xy}</math>, we simplify to <math>2^{b\\cdot2^{a}}=2^{1000}</math>. Eliminating equal bases leaves <math>b\\cdot2^a=1000</math>. The largest <math>a</math> such that <math>2^a</math> divides <math>1000</math> is <math>3</math>, so we only need to check <math>1</math>,<math>2</math>, and <math>3</math>. When <math>a=1</math>, <math>b=500</math>; when <math>a=2</math>, <math>b=250</math>; when <math>a=3</math>, <math>b=125</math>. Summing all the <math>a</math>'s and <math>b</math>'s gives the answer of <math>\\boxed{881}</math>.\n\nNote that <math>a</math> cannot be <math>0,</math> since that would cause the <math>\\log_{2^a}</math> to have a <math>1</math> in the base, which is not possible (also the problem specifies that <math>a</math> and <math>b</math> are positive)."
  },
  {
    "year": 2013,
    "variant": "II",
    "problem_number": 3,
    "latex": "==Problem 3==\nA large candle is <math>119</math> centimeters tall.  It is designed to burn down more quickly when it is first lit and more slowly as it approaches its bottom.  Specifically, the candle takes <math>10</math> seconds to burn down the first centimeter from the top, <math>20</math> seconds to burn down the second centimeter, and <math>10k</math> seconds to burn down the <math>k</math>-th centimeter.  Suppose it takes <math>T</math> seconds for the candle to burn down completely.  Then <math>\\tfrac{T}{2}</math> seconds after it is lit, the candle's height in centimeters will be <math>h</math>.  Find <math>10h</math>.",
    "solution": "We find that <math>T=10(1+2+\\cdots +119)</math>. From Gauss's formula, we find that the value of <math>T</math> is <math>10(7140)=71400</math>. The value of <math>\\frac{T}{2}</math> is therefore <math>35700</math>. We find that <math>35700</math> is <math>10(3570)=10\\cdot \\frac{k(k+1)}{2}</math>, so <math>3570=\\frac{k(k+1)}{2}</math>. As a result, <math>7140=k(k+1)</math>, which leads to <math>0=k^2+k-7140</math>. We notice that <math>k=84</math>, so the answer is <math>10(119-84)=\\boxed{350}</math>."
  },
  {
    "year": 2013,
    "variant": "II",
    "problem_number": 4,
    "latex": "In the Cartesian plane let <math>A = (1,0)</math> and <math>B = \\left( 2, 2\\sqrt{3} \\right)</math>.  Equilateral triangle <math>ABC</math> is constructed so that <math>C</math> lies in the first quadrant.  Let <math>P=(x,y)</math> be the center of <math>\\triangle ABC</math>.  Then <math>x \\cdot y</math> can be written as <math>\\tfrac{p\\sqrt{q}}{r}</math>, where <math>p</math> and <math>r</math> are relatively prime positive integers and <math>q</math> is an integer that is not divisible by the square of any prime.  Find <math>p+q+r</math>.",
    "solution": "The distance from point <math>A</math> to point <math>B</math> is <math> \\sqrt{13}</math>. The vector that starts at point A and ends at point B is given by <math>B - A = (1, 2\\sqrt{3})</math>. Since the center of an equilateral triangle, <math>P</math>, is also the intersection of the perpendicular bisectors of the sides of the triangle, we need first find the equation for the perpendicular bisector to <math>\\overline{AB}</math>. The line perpendicular to <math>\\overline{AB}</math> through the midpoint, <math>M =  \\left(\\dfrac{3}{2},\\sqrt{3}\\right)</math>, <math>\\overline{AB}</math> can be parameterized by <math>\\left(\\dfrac{2\\sqrt{3}}{\\sqrt{13}}, \\dfrac{-1}{\\sqrt{13}}\\right) t + \\left(\\dfrac{3}{2},\\sqrt{3}\\right)</math>. At this point, it is useful to note that <math>\\Delta BMP</math> is a 30-60-90 triangle with <math>\\overline{MB}</math> measuring <math>\\dfrac{\\sqrt{13}}{2}</math>. This yields the length of <math>\\overline{MP}</math> to be <math>\\dfrac{\\sqrt{13}}{2\\sqrt{3}}</math>. Therefore, <math>P =\\left(\\dfrac{2\\sqrt{3}}{\\sqrt{13}},\\dfrac{-1}{\\sqrt{13}}\\right)\\left(\\dfrac{\\sqrt{13}}{2\\sqrt{3}}\\right) + \\left(\\dfrac{3}{2},\\sqrt{3}\\right) = \\left(\\dfrac{5}{2}, \\dfrac{5}{2\\sqrt{3}}\\right)</math>. Therefore <math>xy = \\dfrac{25\\sqrt{3}}{12}</math> yielding an answer of <math> p + q + r  = 25 + 3 + 12 = \\boxed{040}</math>."
  },
  {
    "year": 2013,
    "variant": "II",
    "problem_number": 5,
    "latex": "In equilateral <math>\\triangle ABC</math> let points <math>D</math> and <math>E</math> trisect <math>\\overline{BC}</math>. Then <math>\\sin(\\angle DAE)</math> can be expressed in the form <math>\\frac{a\\sqrt{b}}{c}</math>, where <math>a</math> and <math>c</math> are relatively prime positive integers, and <math>b</math> is an integer that is not divisible by the square of any prime. Find <math>a+b+c</math>.",
    "solution": "<asy>\npair A = (1, sqrt(3)), B = (0, 0), C= (2, 0);\npair M = (1, 0);\npair D = (2/3, 0), E = (4/3, 0);\ndraw(A--B--C--cycle);\nlabel(\"$A$\", A, N);\nlabel(\"$B$\", B, SW);\nlabel(\"$C$\", C, SE);\nlabel(\"$D$\", D, S);\nlabel(\"$M$\", M, S);\nlabel(\"$E$\", E, S);\ndraw(A--D);\ndraw(A--M);\ndraw(A--E); </asy>\n\nWithout loss of generality, assume the triangle sides have length 3. Then the trisected side is partitioned into segments of length 1, making your computation easier. \n\nLet <math>M</math> be the midpoint of <math>\\overline{DE}</math>. Then <math>\\Delta MCA</math> is a 30-60-90 triangle with <math>MC = \\dfrac{3}{2}</math>, <math>AC = 3</math> and <math>AM = \\dfrac{3\\sqrt{3}}{2}</math>. Since the triangle <math>\\Delta AME</math> is right, then we can find the length of <math>\\overline{AE}</math> by pythagorean theorem, <math>AE = \\sqrt{7}</math>. Therefore, since <math>\\Delta AME</math> is a right triangle, we can easily find <math>\\sin(\\angle EAM) = \\dfrac{1}{2\\sqrt{7}}</math> and <math>\\cos(\\angle EAM) = \\sqrt{1-\\sin(\\angle EAM)^2}=\\dfrac{3\\sqrt{3}}{2\\sqrt{7}}</math>. So we can use the double angle formula for sine, <math>\\sin(\\angle EAD) = 2\\sin(\\angle EAM)\\cos(\\angle EAM) = \\dfrac{3\\sqrt{3}}{14}</math>. Therefore, <math>a + b + c = \\boxed{020}</math>."
  },
  {
    "year": 2013,
    "variant": "II",
    "problem_number": 6,
    "latex": "==Problem 6==\nFind the least positive integer <math>N</math> such that the set of <math>1000</math> consecutive integers beginning with <math>1000\\cdot N</math> contains no square of an integer.",
    "solution": "===Solution 1===\nThe difference between consecutive integral squares must be greater than 1000. <math>(x+1)^2-x^2\\geq1000</math>, so <math>x\\geq\\frac{999}{2}\\implies x\\geq500</math>. <math>x=500</math> does not work, so <math>x>500</math>. Let <math>n=x-500</math>. By inspection,  <math>n^2</math> should end in a number close to but less than 1000 such that there exists <math>1000N</math> within the difference of the two squares. Examine when <math>n^2=1000</math>. Then, <math>n=10\\sqrt{10}</math>. One example way to estimate <math>\\sqrt{10}</math> follows. \n\n <math>3^2=9</math>, so <math>10=(x+3)^2=x^2+6x+9</math>. <math>x^2</math> is small, so <math>10=6x+9</math>. <math>x=1/6\\implies \\sqrt{10}\\approx 19/6</math>. This is 3.16.\n\nThen, <math>n\\approx 31.6</math>. <math>n^2<1000</math>, so <math>n</math> could be <math>31</math>. Add 500 to get the first square and 501 to get the second. Then, the two integral squares are <math>531^2</math> and <math>532^2</math>. Checking, <math>531^2=281961</math> and <math>532^2=283024</math>. <math>282,000</math> straddles the two squares, which have a difference of 1063. The difference has been minimized, so <math>N</math> is minimized <math>N=282000\\implies\\boxed{282}</math>\n\n~BJHHar\n\n===Solution 2===\nLet us first observe the difference between <math>x^2</math> and <math>(x+1)^2</math>, for any arbitrary <math>x\\ge 0</math>. <math>(x+1)^2-x^2=2x+1</math>. So that means for every <math>x\\ge 0</math>, the difference between that square and the next square have a difference of <math>2x+1</math>. Now, we need to find an <math>x</math> such that <math>2x+1\\ge 1000</math>. Solving gives <math>x\\ge \\frac{999}{2}</math>, so <math>x\\ge 500</math>. Now we need to find what range of numbers has to be square-free: <math>\\overline{N000}\\rightarrow \\overline{N999}</math> have to all be square-free.\nLet us first plug in a few values of <math>x</math> to see if we can figure anything out. <math>x=500</math>, <math>x^2=250000</math>, and <math>(x+1)^2=251001</math>. Notice that this does not fit the criteria, because <math>250000</math> is a square, whereas <math>\\overline{N000}</math> cannot be a square. This means, we must find a square, such that the last <math>3</math> digits are close to <math>1000</math>, but not there, such as <math>961</math> or <math>974</math>. Now, the best we can do is to keep on listing squares until we hit one that fits. We do not need to solve for each square: remember that the difference between consecutive squares are <math>2x+1</math>, so all we need to do is addition. After making a list, we find that <math>531^2=281961</math>, while <math>532^2=283024</math>. It skipped <math>282000</math>, so our answer is <math>\\boxed{282}</math>.\n\n===Solution 3===\nLet <math>x</math> be the number being squared. Based on the reasoning above, we know that <math>N</math> must be at least <math>250</math>, so <math>x</math> has to be at least <math>500</math>. Let <math>k</math> be <math>x-500</math>. We can write <math>x^2</math> as <math>(500+k)^2</math>, or <math>250000+1000k+k^2</math>. We can disregard <math>250000</math> and <math>1000k</math>, since they won't affect the last three digits, which determines if there are any squares between <math>\\overline{N000}\\rightarrow \\overline{N999}</math>. So we must find a square, <math>k^2</math>, such that it is under <math>1000</math>, but the next square is over <math>1000</math>. We find that <math>k=31</math> gives <math>k^2=961</math>, and so <math>(k+1)^2=32^2=1024</math>. We can be sure that this skips a thousand because the <math>1000k</math> increments it up <math>1000</math> each time. Now we can solve for <math>x</math>: <math>(500+31)^2=281961</math>, while <math>(500+32)^2=283024</math>. We skipped <math>282000</math>, so the answer is <math>\\boxed{282}</math>.\n\n===Solution 4===\nThe goal is to find the least <math>N \\in \\mathbb{N}</math> such that <math>\\exists m \\in \\mathbb{N}</math> where <math>m^2 + 1 \\leq 1000N, 1000N + 1000 \\leq (m+1)^2</math>.\n\n\nCombining the two inequalities leads to <math>(m+1)^2 \\geq m^2 + 1001, m \\geq 500</math>.\n\n\nLet <math>m = k + 500</math>, where <math>k \\in \\mathbb{W}</math>, then the inequalities become,\n\n<math>N \\geq \\frac{(k+500)^2 + 1}{1000} = \\frac{k^2 + 1}{1000} + k + 250</math>, and\n\n<math>N \\leq \\frac{(k+501)^2}{1000} - 1 = \\frac{(k+1)^2}{1000} + k + 250.</math>\n\n\nFor <math>k=31</math>, one can verify that <math>N = 282</math> is the unique integer satisfying the inequalities.\n\nFor <math>k \\leq 30</math>, <math>k + 250 < \\frac{k^2 + 1}{1000} + k + 250 \\leq N</math> <math>\\leq \\frac{(k+1)^2}{1000} + k + 250 \\leq \\frac{(30+1)^2}{1000} + k + 250 < k + 251</math>, \n\ni.e., <math>k + 250 < N < k + 251</math>, a contradiction. \n\nNote <math>k \\geq 32</math> leads to larger <math>N</math>(s).\n\nHence, the answer is <math>\\boxed{282}</math>.\n\n~yuxiaomatt"
  },
  {
    "year": 2013,
    "variant": "II",
    "problem_number": 7,
    "latex": "==Problem 7==\nA group of clerks is assigned the task of sorting <math>1775</math> files. Each clerk sorts at a constant rate of <math>30</math> files per hour. At the end of the first hour, some of the clerks are reassigned to another task; at the end of the second hour, the same number of the remaining clerks are also reassigned to another task, and a similar assignment occurs at the end of the third hour. The group finishes the sorting in <math>3</math> hours and <math>10</math> minutes. Find the number of files sorted during the first one and a half hours of sorting.",
    "solution": "There are <math>x</math> clerks at the beginning, and <math>t</math> clerks are reassigned to another task at the end of each hour. So, <math>30x+30(x-t)+30(x-2t)+30\\cdot\\frac{10}{60} \\cdot (x-3t)=1775</math>, and simplify that we get <math>19x-21t=355</math>.\nNow the problem is to find a reasonable integer solution. Now we know <math>x= \\frac{355+21t}{19}</math>, so <math>19</math> divides <math>355+21t</math>, AND as long as <math>t</math> is a integer, <math>19</math> must divide <math>2t+355</math>. Now, we suppose that <math>19m=2t+355</math>, similarly we get <math>t=\\frac{19m-355}{2}</math>, and so in order to get a minimum integer solution for <math>t</math>, it is obvious that <math>m=19</math> works. So we get <math>t=3</math> and <math>x=22</math>.  One and a half hour's work should be <math>30x+15(x-t)</math>, so the answer is <math>\\boxed{945}</math>."
  },
  {
    "year": 2013,
    "variant": "II",
    "problem_number": 8,
    "latex": "==Problem 8==\nA hexagon that is inscribed in a circle has side lengths <math>22</math>, <math>22</math>, <math>20</math>, <math>22</math>, <math>22</math>, and <math>20</math> in that order. The radius of the circle can be written as <math>p+\\sqrt{q}</math>, where <math>p</math> and <math>q</math> are positive integers. Find <math>p+q</math>.",
    "solution": "<asy>\nimport olympiad;\nimport math;\n\nreal a;\na=2*asin(11/(5+sqrt(267)));\npair A,B,C,D,E,F;\nA=expi(pi); B=expi(pi-a); C=expi(a); D=expi(0); E=expi(-a); F=expi(pi+a);\ndraw(A--B--C--D--E--F--A--D);\ndot(A); dot(B); dot(C); dot(D); dot(E); dot(F);\ndraw(unitcircle);\nlabel(\"$A$\",A,W);label(\"$B$\",B,NW);label(\"$C$\",C,NE);label(\"$D$\",D,dir(0));label(\"$E$\",E,SE);label(\"$F$\",F,SW);\n\n</asy>\n\n\n===Solution 1===\nLet us call the hexagon <math>ABCDEF</math>, where <math>AB=CD=DE=AF=22</math>, and <math>BC=EF=20</math>. \nWe can just consider one half of the hexagon, <math>ABCD</math>, to make matters simpler. \nDraw a line from the center of the circle, <math>O</math>, to the midpoint of <math>BC</math>, <math>X</math>. Now, draw a line from <math>O</math> to the midpoint of <math>AB</math>, <math>Y</math>. Clearly, <math>\\angle BXO=90^{\\circ}</math>, because <math>BO=CO</math>, and <math>\\angle BYO=90^{\\circ}</math>, for similar reasons. Also notice that <math>\\angle AOX=90^{\\circ}</math>. \nLet us call <math>\\angle BOY=\\theta</math>. Therefore, <math>\\angle AOB=2\\theta</math>, and so <math>\\angle BOX=90-2\\theta</math>. Let us label the radius of the circle <math>r</math>. This means <cmath>\\sin{\\theta}=\\frac{BY}{r}=\\frac{11}{r}</cmath> <cmath>\\sin{(90-2\\theta)}=\\frac{BX}{r}=\\frac{10}{r}</cmath>\nNow we can use simple trigonometry to solve for <math>r</math>.\nRecall that  <math>\\sin{(90-\\alpha)}=\\cos(\\alpha)</math>: That means <math>\\sin{(90-2\\theta)}=\\cos{2\\theta}=\\frac{10}{r}</math>.\nRecall that <math>\\cos{2\\alpha}=1-2\\sin^2{\\alpha}</math>: That means <math>\\cos{2\\theta}=1-2\\sin^2{\\theta}=\\frac{10}{r}</math>.\nLet <math>\\sin{\\theta}=x</math>.\nSubstitute to get <math>x=\\frac{11}{r}</math> and <math>1-2x^2=\\frac{10}{r}</math>\nNow substitute the first equation into the second equation: <math>1-2\\left(\\frac{11}{r}\\right)^2=\\frac{10}{r}</math>\nMultiplying both sides by <math>r^2</math> and reordering gives us the quadratic <cmath>r^2-10r-242=0</cmath>\nUsing the quadratic equation to solve, we get that <math>r=5+\\sqrt{267}</math> (because <math>5-\\sqrt{267}</math> gives a negative value), so the answer is <math>5+267=\\boxed{272}</math>.\n\n===Solution 2===\nUsing the trapezoid <math>ABCD</math> mentioned above, draw an altitude of the trapezoid passing through point <math>B</math> onto <math>AD</math> at point <math>J</math>. Now, we can use the pythagorean theorem: <math>(22^2-(r-10)^2)+10^2=r^2</math>. Expanding and combining like terms gives us the quadratic <cmath>r^2-10r-242=0</cmath> and solving for <math>r</math> gives <math>r=5+\\sqrt{267}</math>. So the solution is <math>5+267=\\boxed{272}</math>.\n\n===Solution 3===\n\nJoin the diameter of the circle <math>AD</math> and let the length be <math>d</math>. By [[Ptolemy's Theorem]] on trapezoid <math>ADEF</math>, <math>(AD)(EF) + (AF)(DE) = (AE)(DF)</math>. Since it is an isosceles trapezoid, both diagonals are equal. Let them be equal to <math>x</math> each. Then\n\n<cmath>20d + 22^2 = x^2</cmath>\n\nSince <math>\\angle AED</math> is subtended by the diameter, it is right. Hence by the Pythagorean Theorem with right <math>\\triangle AED</math>:\n\n<cmath>(AE)^2 + (ED)^2 = (AD)^2</cmath>\n<cmath>x^2 + 22^2 = d^2</cmath>\n\nFrom the above equations, we have:\n<cmath>x^2 = d^2 - 22^2 = 20d + 22^2</cmath>\n<cmath>d^2 - 20d = 2\\times22^2</cmath>\n<cmath>d^2 - 20d + 100 = 968+100 = 1068</cmath>\n<cmath>(d-10) = \\sqrt{1068}</cmath>\n<cmath>d = \\sqrt{1068} + 10 = 2\\times(\\sqrt{267}+5)</cmath>\n\nSince the radius is half the diameter, it is <math>\\sqrt{267}+5</math>, so the answer is <math>5+267 \\Rightarrow \\boxed{272}</math>.\n===Solution 4===\nAs we can see this image, it is symmetrical hence the diameter divides the hexagon into two congruent quadrilateral. Now we can apply the Ptolemy's theorem. Denote the radius is r, we can get <cmath>22*2x+440=\\sqrt{4x^2-400}\\sqrt{4x^2-484}</cmath>, after simple factorization, we can get <cmath>x^4-342x^2-2420x=0</cmath>, it is easy to see that <math>x=-10, x=0</math> are two solutions for the equation, so we can factorize that into <cmath>x(x+10)(x^2-10x-242)</cmath>so we only need to find the solution for <cmath>x^2-10x-242=0</cmath> and we can get <math>x=(\\sqrt{267}+5)</math> is the desired answer for the problem, and our answer is <math>5+267 \\Rightarrow \\boxed{272}</math>.ÔΩûbluesoul\n\n===Solution 6 (Trig Bash)===\n\nLet <math>\\angle{AOB} = \\theta</math>. So, we have <math>\\sin \\dfrac{\\theta}{2} = \\dfrac{11}{r}</math> and <math>\\cos \\dfrac{\\theta}{2} = \\dfrac{\\sqrt{r^{2} - 121}}{r}</math>. So, <math>\\sin \\theta = 2 \\sin \\dfrac{\\theta}{2} \\cos \\dfrac{\\theta}{2} = \\dfrac{22 \\sqrt{r^{2} - 121}}{r^{2}}</math>. Let <math>H</math> be the foot of the perpendicular from <math>B</math> to <math>\\overline{AD}</math>. We have <math>BF = 2 BH = 2 r \\sin \\theta = \\dfrac{44 \\sqrt{r^{2} - 121}}{r}</math>. Using Pythagorean theorem on <math>\\triangle BCF</math>, to get <math>(\\dfrac{44 \\sqrt{r^{2} - 121}}{r})^{2} + 20^{2} = (2r)^{2}</math>, or <math>\\dfrac{44^{2}r^{2} - 44^{2} \\cdot 121}{r^{2}} + 20^{2} = 4r^{4}</math>. Multiplying by <math>r^{2}</math>, we get <math>44^{2} r^{2} - 44^{2} \\cdot 121 + 20^{2} r^{2} = 4r^{4}</math>. Rearranging and simplifying, we get a quadratic in <math>r^{2}</math>: <cmath>r^{4} - 584r^{2} + 242^{2} = 0 \\text{,}</cmath> which gives us <math>r^{2} = 292 \\pm 10\\sqrt{267}</math>. Because <math>r</math> is in the form <math>p + \\sqrt{q}</math>, we know to choose the larger option, meaning <math>r^2 = 292 + 10\\sqrt{267}</math>, so <math>p\\sqrt{q} = 5\\sqrt{267}</math> and <math>p^2 + q = 292</math>. By inspection, we get <math>(p, q) = (5, 267)</math>, so our answer is <math>5 + 267 = \\boxed{272}</math>.\n\n~Puck_0"
  },
  {
    "year": 2013,
    "variant": "II",
    "problem_number": 9,
    "latex": "==Problem 9==\nA <math>7\\times 1</math> board is completely covered by <math>m\\times 1</math> tiles without overlap; each tile may cover any number of consecutive squares, and each tile lies completely on the board. Each tile is either red, blue, or green. Let <math>N</math> be the number of tilings of the <math>7\\times 1</math> board in which all three colors are used at least once. For example, a <math>1\\times 1</math> red tile followed by a <math>2\\times 1</math> green tile, a <math>1\\times 1</math> green tile, a <math>2\\times 1</math> blue tile, and a <math>1\\times 1</math> green tile is a valid tiling. Note that if the <math>2\\times 1</math> blue tile is replaced by two <math>1\\times 1</math> blue tiles, this results in a different tiling. Find the remainder when <math>N</math> is divided by <math>1000</math>.",
    "solution": "Firstly, we consider how many different ways possible to divide the <math>7\\times 1</math> board.\nWe ignore the cases of 1 or 2 pieces since we need at least one tile of each color.\n\n* Three pieces: <math>5+1+1</math>, <math>4+2+1</math>, <math>4+1+2</math>, etc, <math>\\dbinom{6}{2}=15</math> ways in total (just apply stars and bars here)\n* Four pieces: <math>\\dbinom{6}{3}=20</math>\n* Five pieces: <math>\\dbinom{6}{4}=15</math>\n* Six pieces: <math>\\dbinom{6}{5}=6</math>\n* Seven pieces: <math>\\dbinom{6}{6}=1</math>\n\nSecondly, we use Principle of Inclusion-Exclusion to consider how many ways to color them:\n\n* Three pieces: <math>3^3-3\\times 2^3+3=6</math>\n* Four pieces: <math>3^4-3\\times 2^4+3=36</math>\n* Five pieces: <math>3^5-3\\times 2^5+3=150</math>\n* Six pieces: <math>3^6-3\\times 2^6+3=540</math>\n* Seven pieces: <math>3^7-3\\times 2^7+3=1806</math>\n\nFinally, we combine them together: <math>15\\times 6+20\\times 36+15\\times 150+6\\times 540+1\\times 1806= 8106</math>.\n\nSo the answer is <math>\\boxed{106}</math>."
  },
  {
    "year": 2013,
    "variant": "II",
    "problem_number": 10,
    "latex": "Given a circle of radius <math>\\sqrt{13}</math>, let <math>A</math> be a point at a distance <math>4 + \\sqrt{13}</math> from the center <math>O</math> of the circle. Let <math>B</math> be the point on the circle nearest to point <math>A</math>. A line passing through the point <math>A</math> intersects the circle at points <math>K</math> and <math>L</math>. The maximum possible area for <math>\\triangle BKL</math> can be written in the form <math>\\frac{a - b\\sqrt{c}}{d}</math>, where <math>a</math>, <math>b</math>, <math>c</math>, and <math>d</math> are positive integers, <math>a</math> and <math>d</math> are relatively prime, and <math>c</math> is not divisible by the square of any prime. Find <math>a+b+c+d</math>.",
    "solution": "<asy>\nimport math;\nimport olympiad;\nimport graph;\npair A, B, K, L;\nB = (sqrt(13), 0); A=(4+sqrt(13), 0);\ndot(B);\ndot(A);\n\ndraw(Circle((0,0), sqrt(13)));\nlabel(\"$O$\", (0,0), S);label(\"$B$\", B, SW);label(\"$A$\", A, S);\ndot((0,0));\n\n\n\n</asy>\n\n\nNow we put the figure in the Cartesian plane, let the center of the circle <math>O (0,0)</math>, then <math>B (\\sqrt{13},0)</math>, and <math>A(4+\\sqrt{13},0)</math>\n\nThe equation for Circle O is <math>x^2+y^2=13</math>, and let the slope of the line <math>AKL</math> be <math>k</math>, then the equation for line <math>AKL</math> is <math>y=k(x-4-\\sqrt{13})</math>.\n\nThen we get <math>(k^2+1)x^2-2k^2(4+\\sqrt{13})x+k^2\\cdot (4+\\sqrt{13})^2-13=0</math>. According to [[Vieta's Formulas]], we get\n\n<math>x_1+x_2=\\frac{2k^2(4+\\sqrt{13})}{k^2+1}</math>, and <math>x_1x_2=\\frac{(4+\\sqrt{13})^2\\cdot k^2-13}{k^2+1}</math>\n\nSo, <math>LK=\\sqrt{1+k^2}\\cdot \\sqrt{(x_1+x_2)^2-4x_1x_2}</math>\n\nAlso, the distance between <math>B</math> and <math>LK</math> is <math>\\frac{k\\times \\sqrt{13}-(4+\\sqrt{13})\\cdot k}{\\sqrt{1+k^2}}=\\frac{-4k}{\\sqrt{1+k^2}}</math>\n \nSo the area <math>S=0.5ah=\\frac{-4k\\sqrt{(16+8\\sqrt{13})k^2-13}}{k^2+1}</math>\n\nThen the maximum value of <math>S</math> is <math>\\frac{104-26\\sqrt{13}}{3}</math>\n\nSo the answer is <math>104+26+13+3=\\boxed{146}</math>."
  },
  {
    "year": 2013,
    "variant": "II",
    "problem_number": 11,
    "latex": "==Problem 11==\nLet <math>A = \\{1, 2, 3, 4, 5, 6, 7\\}</math>, and let <math>N</math> be the number of functions <math>f</math> from set <math>A</math> to set <math>A</math> such that <math>f(f(x))</math> is a constant function. Find the remainder when <math>N</math> is divided by <math>1000</math>.",
    "solution": "Any such function can be constructed by distributing the elements of <math>A</math> on three tiers.\n\nThe bottom tier contains the constant value, <math>c=f(f(x))</math> for any <math>x</math>. (Obviously <math>f(c)=c</math>.)\n\nThe middle tier contains <math>k</math> elements <math>x\\ne c</math> such that <math>f(x)=c</math>, where <math>1\\le k\\le 6</math>.\n\nThe top tier contains <math>6-k</math> elements such that <math>f(x)</math> equals an element on the middle tier.\n\nThere are <math>7</math> choices for <math>c</math>. Then for a given <math>k</math>, there are <math>\\tbinom6k</math> ways to choose the elements on the middle tier, and then <math>k^{6-k}</math> ways to draw arrows down from elements on the top tier to elements on the middle tier.\n\nThus <math>N=7\\cdot\\sum_{k=1}^6\\tbinom6k\\cdot k^{6-k}=7399</math>, giving the answer <math>\\boxed{399}</math>."
  },
  {
    "year": 2013,
    "variant": "II",
    "problem_number": 12,
    "latex": "==Problem 12==\n\nLet <math>S</math> be the set of all polynomials of the form <math>z^3 + az^2 + bz + c</math>, where <math>a</math>, <math>b</math>, and <math>c</math> are integers. Find the number of polynomials in <math>S</math> such that each of its roots <math>z</math> satisfies either <math>|z| = 20</math> or <math>|z| = 13</math>.",
    "solution": "Every cubic with real coefficients has to have either three real roots or one real and two nonreal roots which are conjugates. This follows from [[Vieta's formulas]]. \n\n*Case 1:  <math>f(z)=(z-r)(z-\\omega)(z-\\omega^*)</math>, where <math>r\\in \\mathbb{R}</math>,  <math>\\omega</math> is nonreal, and <math>\\omega^*</math> is the complex conjugate of omega (note that we may assume that <math>\\Im(\\omega)>0</math>).\n\nThe real root <math>r</math> must be one of <math>-20</math>, <math>20</math>, <math>-13</math>, or <math>13</math>. By Vi√®te's formulas, <math>a=-(r+\\omega+\\omega^*)</math>, <math>b=|\\omega|^2+r(\\omega+\\omega^*)</math>, and <math>c=-r|\\omega|^2</math>. But <math>\\omega+\\omega^*=2\\Re{(\\omega)}</math> (i.e., adding the conjugates cancels the imaginary part). Therefore, to make <math>a</math> an integer, <math>2\\Re{(\\omega)}</math> must be an integer. Conversely, if <math>\\omega+\\omega^*=2\\Re{(\\omega)}</math> is an integer, then <math>a,b,</math> and <math>c</math> are clearly integers. Therefore <math>2\\Re{(\\omega)}\\in \\mathbb{Z}</math> is equivalent to the desired property. Let <math>\\omega=\\alpha+i\\beta</math>.\n\n*Subcase 1.1: <math>|\\omega|=20</math>.\nIn this case, <math>\\omega</math> lies on a circle of radius <math>20</math> in the complex plane. As <math>\\omega</math> is nonreal, we see that <math>\\beta\\ne 0</math>.  Hence <math>-20<\\Re{(\\omega)}< 20</math>, or rather <math>-40<2\\Re{(\\omega)}< 40</math>. We count <math>79</math> integers in this interval, each of which corresponds to a unique complex number on the circle of radius <math>20</math> with positive imaginary part.\n\n*Subcase 1.2: <math>|\\omega|=13</math>.\nIn this case, <math>\\omega</math> lies on a circle of radius <math>13</math> in the complex plane. As <math>\\omega</math> is nonreal, we see that <math>\\beta\\ne 0</math>.  Hence <math>-13<\\Re{(\\omega)}< 13</math>, or rather <math>-26<2\\Re{(\\omega)}< 26</math>. We count <math>51</math> integers in this interval, each of which corresponds to a unique complex number on the circle of radius <math>13</math> with positive imaginary part.\n\nTherefore, there are <math>79+51=130</math> choices for <math>\\omega</math>. We also have <math>4</math> choices for <math>r</math>, hence there are <math>4\\cdot 130=520</math> total polynomials in this case.\n\n*Case 2: <math>f(z)=(z-r_1)(z-r_2)(z-r_3)</math>, where <math>r_1,r_2,r_3</math> are all real.\nIn this case, there are four possible real roots, namely <math>\\pm 13, \\pm20</math>. Let <math>p</math> be the number of times that <math>13</math> appears among <math>r_1,r_2,r_3</math>, and define <math>q,r,s</math> similarly for <math>-13,20</math>, and <math>-20</math>, respectively. Then <math>p+q+r+s=3</math> because there are three roots. We wish to find the number of ways to choose nonnegative integers <math>p,q,r,s</math> that satisfy that equation. By balls and urns, these can be chosen in <math>\\binom{6}{3}=20</math> ways.\n\nTherefore, there are a total of <math>520+20=\\boxed{540}</math> polynomials with the desired property."
  },
  {
    "year": 2013,
    "variant": "II",
    "problem_number": 13,
    "latex": "==Problem 13==\nIn <math>\\triangle ABC</math>, <math>AC = BC</math>, and point <math>D</math> is on <math>\\overline{BC}</math> so that <math>CD = 3\\cdot BD</math>. Let <math>E</math> be the midpoint of <math>\\overline{AD}</math>. Given that <math>CE = \\sqrt{7}</math> and <math>BE = 3</math>, the area of <math>\\triangle ABC</math> can be expressed in the form <math>m\\sqrt{n}</math>, where <math>m</math> and <math>n</math> are positive integers and <math>n</math> is not divisible by the square of any prime. Find <math>m+n</math>.",
    "solution": "==Video Solution by Punxsutawney Phil==\nhttps://www.youtube.com/watch?v=IXPT0vHgt_c"
  },
  {
    "year": 2013,
    "variant": "II",
    "problem_number": 14,
    "latex": "==Problem 14==\nFor positive integers <math>n</math> and <math>k</math>, let <math>f(n, k)</math> be the remainder when <math>n</math> is divided by <math>k</math>, and for <math>n > 1</math> let <math>F(n) = \\max_{\\substack{1\\le k\\le \\frac{n}{2}}} f(n, k)</math>. Find the remainder when <math>\\sum\\limits_{n=20}^{100} F(n)</math> is divided by <math>1000</math>.",
    "solution": "===The Pattern===\n\nWe can find that \n\n<math>20\\equiv 6 \\pmod{7}</math>\n\n<math>21\\equiv 5 \\pmod{8}</math>\n\n<math>22\\equiv 6 \\pmod{8}</math>\n\n<math>23\\equiv 7 \\pmod{8}</math>\n\n<math>24\\equiv 6 \\pmod{9}</math>\n\n<math>25\\equiv 7 \\pmod{9}</math>\n\n<math>26\\equiv 8 \\pmod{9}</math>\n\nObserving these and we can find that the reminders are in groups of three continuous integers, considering this is true, and we get\n\n<math>99\\equiv 31 \\pmod{34}</math>\n\n<math>100\\equiv 32 \\pmod{34}</math>\n\nSo the sum is <math>6+3\\times(6+...+31)+31+32=1512</math>,it is also 17+20+23+...+95, so the answer is <math>\\boxed{512}</math>.\nBy: Kris17\n\n===The Intuition===\nFirst, let's see what happens if we remove a restriction. Let's define <math>G(x)</math> as\n\n<math>G(x):=\\max_{\\substack{1\\le k}} f(n, k)</math>\n\nNow, if you set <math>k</math> as any number greater than <math>n</math>, you get n, obviously the maximum possible. That's too much freedom; let's restrict it a bit. Hence <math>H(x)</math> is defined as\n\n<math>H(x):=\\max_{\\substack{1\\le k\\le n}} f(n, k)</math>\n\nNow, after some thought, we find that if we set <math>k=\\lfloor \\frac{n}{2} \\rfloor+1</math> we get a remainder of <math>\\lfloor \\frac{n-1}{2} \\rfloor</math>, the max possible. Once we have gotten this far, it is easy to see that the original equation, \n\n<math>F(n) = \\max_{\\substack{1\\le k\\le \\frac{n}{2}}} f(n, k)</math>\n\nhas a solution with <math>k=\\lfloor \\frac{n}{3} \\rfloor+1</math>.\n\n<math>W^5</math>~Rowechen\n\n===The Proof===\nThe solution presented above does not prove why <math>F(x)</math> is found by dividing <math>x</math> by <math>3</math>. Indeed, that is the case, as rigorously shown below.\n\nConsider the case where <math>x = 3k</math>. We shall prove that <math>F(x) = f(x, k+1)</math>.\nFor all <math>x/2\\ge n > k+1, x = 2n + q</math>, where <math>0\\le q< n</math>. This is because <math>x < 3k + 3 < 3n</math> and <math>x \\ge 2n</math>. Also, as <math>n</math> increases, <math>q</math> decreases. Thus, <math>q = f(x, n) < f(x, k+1) = k - 2</math> for all <math>n > k+1</math>.\nConsider all <math>n < k+1. f(x, k) = 0</math> and <math>f(x, k-1) = 3</math>. Also, <math>0 < f(x, k-2) < k-2</math>. Thus, for <math>k > 5, f(x, k+1) > f(x, n)</math> for <math>n < k+1</math>.\n\nSimilar proofs apply for <math>x = 3k + 1</math> and <math>x = 3k + 2</math>. The reader should feel free to derive these proofs themself.\n\n===Generalized Solution===\n\n<math>Lemma:</math> Highest remainder when <math>n</math> is divided by <math>1\\leq k\\leq n/2</math> is obtained for <math>k_0 = (n + (3 - n \\pmod{3}))/3</math> and the remainder thus obtained is <math>(n - k_0*2) = [(n - 6)/3 + (2/3)*n \\pmod{3}]</math>. \n\n<math>Note:</math> This is the second highest remainder when <math>n</math> is divided by <math>1\\leq k\\leq n</math> and the highest remainder occurs when <math>n</math> is divided by <math>k_M</math> = <math>(n+1)/2</math> for odd <math>n</math> and  <math>k_M</math> = <math>(n+2)/2</math> for even <math>n</math>.\n\nUsing the lemma above:\n\n<math>\\sum\\limits_{n=20}^{100} F(n) = \\sum\\limits_{n=20}^{100} [(n - 6)/3 + (2/3)*n \\pmod{3}] </math>\n<math>= [(120*81/2)/3 - 2*81 + (2/3)*81]\n= 1512</math>\n\nSo the answer is <math>\\boxed{512}</math>\n\nProof of Lemma: It is similar to <math>The Proof</math> stated above. \n\nKris17"
  },
  {
    "year": 2013,
    "variant": "II",
    "problem_number": 15,
    "latex": "==Problem 15==\nLet <math>A,B,C</math> be angles of a triangle with\n<cmath> \\begin{align*}\n\\cos^2 A + \\cos^2 B + 2 \\sin A \\sin B \\cos C &= \\frac{15}{8} \\text{ and} \\\\\n\\cos^2 B + \\cos^2 C + 2 \\sin B \\sin C \\cos A &= \\frac{14}{9}\n\\end{align*} </cmath>\nThere are positive integers <math>p</math>, <math>q</math>, <math>r</math>, and <math>s</math> for which <cmath> \\cos^2 C + \\cos^2 A + 2 \\sin C \\sin A \\cos B = \\frac{p-q\\sqrt{r}}{s}, </cmath> where <math>p+q</math> and <math>s</math> are relatively prime and <math>r</math> is not divisible by the square of any prime.  Find <math>p+q+r+s</math>.\n\n\n===Solution 1===\nLet's draw the triangle. Since the problem only deals with angles, we can go ahead and set one of the sides to a convenient value. Let <math>BC = \\sin{A}</math>.\n\nBy the Law of Sines, we must have <math>CA = \\sin{B}</math> and <math>AB = \\sin{C}</math>.\n\nNow let us analyze the given:\n\n<cmath>\\begin{align*}\n\\cos^2A + \\cos^2B + 2\\sin A\\sin B\\cos C &= 1-\\sin^2A + 1-\\sin^2B + 2\\sin A\\sin B\\cos C \\\\\n&= 2-(\\sin^2A + \\sin^2B - 2\\sin A\\sin B\\cos C)\n\\end{align*}</cmath>\n\nNow we can use the Law of Cosines to simplify this:\n\n<cmath>= 2-\\sin^2C</cmath>\n\n\nTherefore: <cmath>\\sin C = \\sqrt{\\dfrac{1}{8}},\\cos C = \\sqrt{\\dfrac{7}{8}}.</cmath> Similarly, <cmath>\\sin A = \\sqrt{\\dfrac{4}{9}},\\cos A = \\sqrt{\\dfrac{5}{9}}.</cmath> Note that the desired value is equivalent to <math>2-\\sin^2B</math>, which is <math>2-\\sin^2(A+C)</math>. All that remains is to use the sine addition formula and, after a few minor computations, we obtain a result of <math>\\dfrac{111-4\\sqrt{35}}{72}</math>. Thus, the answer is <math>111+4+35+72 = \\boxed{222}</math>.\n\nNote that the problem has a flaw because <math>\\cos B < 0</math> which contradicts with the statement that it's an acute triangle. Would be more accurate to state that <math>A</math> and <math>C</math> are smaller than 90. -Mathdummy\n\n===Solution 2===\nLet us use the identity <math>\\cos^2A+\\cos^2B+\\cos^2C+2\\cos A \\cos B \\cos C=1</math> .\n\nAdd <cmath>\\begin{align*} \\cos^2 C+2(\\cos A\\cos B-\\sin A \\sin B)\\cos C \\end{align*}</cmath> to both sides of the first given equation. \n\n\n\n\nThus, as <cmath>\\begin{align*} \\cos A\\cos B-\\sin A\\sin B=\\cos (A+B)=-\\cos C ,\\end{align*}</cmath> \nwe have <cmath>\\begin{align*} \\dfrac{15}{8}-2\\cos^2 C +\\cos^2 C=1, \n\\end{align*}</cmath> so <math>\\cos C</math> is <math>\\sqrt{\\dfrac{7}{8}}</math> and therefore <math> \\sin C</math> is <math>\\sqrt{\\dfrac{1}{8}}</math>. \n\nSimilarily, we have <math>\\sin A =\\dfrac{2}{3}</math> and <math>\\cos A=\\sqrt{\\dfrac{14}{9}-1}=\\sqrt{\\dfrac{5}{9}}</math> and the rest of the solution proceeds as above.\n\n===Solution 3===\n\nLet \n<cmath> \\begin{align*}\n\\cos^2 A + \\cos^2 B + 2 \\sin A \\sin B \\cos C &= \\frac{15}{8} \\text{     ------ (1)}\\\\\n\\cos^2 B + \\cos^2 C + 2 \\sin B \\sin C \\cos A &= \\frac{14}{9} \\text{     ------ (2)}\\\\\n\\cos^2 C + \\cos^2 A + 2 \\sin C \\sin A \\cos B &= x \\text{                        ------ (3)}\\\\\n\\end{align*} </cmath>\n\nAdding (1) and (3) we get:\n<cmath> 2 \\cos^2 A + \\cos^2 B + \\cos^2 C + 2 \\sin A( \\sin B \\cos C +  \\sin C \\cos B)  = \\frac{15}{8} + x</cmath>   or\n<cmath> 2 \\cos^2 A + \\cos^2 B + \\cos^2 C + 2 \\sin A \\sin (B+C)  = \\frac{15}{8} + x</cmath>    or\n<cmath> 2 \\cos^2 A + \\cos^2 B + \\cos^2 C + 2 \\sin ^2 A = \\frac{15}{8} + x</cmath>    or\n<cmath> \\cos^2 B + \\cos^2 C =  x - \\frac{1}{8}     \\text{     ------ (4)}</cmath>\n\nSimilarly adding (2) and (3) we get:\n<cmath> \\cos^2 A + \\cos^2 B =  x - \\frac{4}{9}     \\text{     ------ (5)} </cmath>\nSimilarly adding (1) and (2) we get:\n<cmath> \\cos^2 A + \\cos^2 C =  \\frac{14}{9}  - \\frac{1}{8}     \\text{     ------ (6)} </cmath>\n\nAnd (4) - (5) gives:\n<cmath> \\cos^2 C - \\cos^2 A =  \\frac{4}{9}  - \\frac{1}{8}    \\text{     ------ (7)} </cmath>\n\nNow (6) - (7) gives:\n<math> \\cos^2 A  =  \\frac{5}{9} </math> or\n<math>\\cos A = \\sqrt{\\dfrac{5}{9}}</math> and <math>\\sin A = \\frac{2}{3} </math>\nso <math>\\cos C</math> is <math>\\sqrt{\\dfrac{7}{8}}</math> and therefore <math> \\sin C</math> is <math>\\sqrt{\\dfrac{1}{8}}</math>\n\nNow <math>\\sin B = \\sin(A+C)</math> can be computed first and then <math>\\cos^2 B</math> is easily found.\n\nThus <math>\\cos^2 B</math> and <math>\\cos^2 C</math> can be plugged into (4) above to give x =  <math>\\dfrac{111-4\\sqrt{35}}{72}</math>.\n\nHence the answer is = <math>111+4+35+72 = \\boxed{222}</math>.\n\nKris17\n\n=== Solution 4 ===\n\nLet's take the first equation <math>\\cos^2 A + \\cos^2 B + 2 \\sin A \\sin B \\cos C = \\frac{15}{8}</math>. Substituting <math>180 - A - B</math> for C, given A, B, and C form a triangle, and that <math>\\cos C = \\cos(A + B)</math>, gives us:\n\n<math>\\cos^2 A + \\cos^2 B + 2 \\sin A \\sin B \\cos (A+B) = \\frac{15}{8}</math>\n\nExpanding out gives us <math>\\cos^2 A + \\cos^2 B + 2 \\sin^2 A \\sin^2 B - 2 \\sin A \\sin B \\cos A \\cos B = \\frac{15}{8}</math>. \n\nUsing the double angle formula <math>\\cos^2 k = \\frac{\\cos (2k) + 1}{2}</math>, we can substitute for each of the squares <math>\\cos^2 A</math> and <math>\\cos^2 B</math>. Next we can use the Pythagorean identity on the <math>\\sin^2 A</math> and <math>\\sin^2 B</math> terms. Lastly we can use the sine double angle to simplify.\n\n<math>\\cos^2 A + \\cos^2 B + 2(1 - \\cos^2 A)(1 - \\cos^2 B) - \\frac{1}{2} \\cdot \\sin 2A \\sin 2B = \\frac{15}{8}</math>. \n\nExpanding and canceling yields, and again using double angle substitution, \n\n<math>1 + 2 \\cdot \\frac{\\cos (2A) + 1}{2} \\cdot \\frac{\\cos (2B) + 1}{2} - \\frac{1}{2} \\cdot \\sin 2A \\sin 2B = \\frac{15}{8}</math>. \n\nFurther simplifying yields:\n\n<math>\\frac{3}{2} + \\frac{\\cos 2A \\cos 2B - \\sin 2A \\sin 2B}{2} = \\frac{15}{8}</math>. \n\nUsing cosine angle addition formula and simplifying further yields, and applying the same logic to Equation <math>2</math> yields:\n\n<math>\\cos (2A + 2B) = \\frac{3}{4}</math> and <math>\\cos (2B + 2C) = \\frac{1}{9}</math>.\n\nSubstituting the identity <math>\\cos (2A + 2B) = \\cos(2C)</math>, we get:\n\n<math>\\cos (2C) = \\frac{3}{4}</math> and <math>\\cos (2A) = \\frac{1}{9}</math>.\n\nSince the third expression simplifies to the expression <math>\\frac{3}{2} + \\frac{\\cos (2A + 2C)}{2}</math>, taking inverse cosine and using the angles in angle addition formula yields the answer, <math>\\frac{111 - 4\\sqrt{35}}{72}</math>, giving us the answer <math>\\boxed{222}</math>.\n\n===Solution 5===\nWe will use the sum to product formula to simply these equations. Recall <cmath>2\\sin{\\frac{\\alpha+\\beta}{2}}\\sin{\\frac{\\alpha-\\beta}{2}} = \\cos{\\alpha}+\\cos{\\beta}.</cmath> Using this, let's rewrite the first equation: <cmath>\\cos^2(A) + \\cos^2(B) + 2 \\sin(A) \\sin(B) \\cos(C) = \\frac{15}{8}</cmath> <cmath>\\cos^2(A) + \\cos^2(B) + (\\cos(A+B)+\\cos(A-B))\\cos(C).</cmath> Now, note that <math>\\cos(C)=-\\cos(A+B)</math>. <cmath>\\cos^2(A) + \\cos^2(B) + (\\cos(A+B)+\\cos(A-B))(-\\cos(A+B))</cmath> <cmath>\\cos^2(A) + \\cos^2(B) - \\cos(A+B)\\cos(A-B)+cos^2(A+B)=\\frac{15}{8}.</cmath> We apply the sum to product formula again. <cmath>\\cos^2(A) + \\cos^2(B) - \\frac{\\cos(2A)+\\cos(2B)}{2}+cos^2(A+B)=\\frac{15}{8}.</cmath> Now, recall that <math>\\cos(2\\alpha)=2\\cos^2(\\alpha)-1</math>. We apply this and simplify our expression to get: <cmath>\\cos^2(A+B)=\\frac{7}{8}</cmath> <cmath>\\cos^2(C)=\\frac{7}{8}.</cmath> Analogously, <cmath>\\cos^2(A)=\\frac{5}{9}.</cmath> <cmath>\\cos^2(A+C)=\\frac{p-q\\sqrt{r}}{s}-1.</cmath> We can find this value easily by angle sum formula. After a few calculations, we get <math>\\frac{111 - 4\\sqrt{35}}{72}</math>, giving us the answer <math>\\boxed{222}</math>.\n~superagh\n\n===Solution 6===\nAccording to LOC <math>a^2+b^2-2ab\\cos{\\angle{c}}=c^2</math>, we can write it into <math>\\sin^2{\\angle{A}}+\\sin^2{\\angle{B}}-2\\sin{\\angle{A}}\\sin{\\angle{B}}\\cos{\\angle{C}}=\\sin^2{\\angle{C}}</math>. <math>\\sin^2{\\angle{A}}+\\sin^2{\\angle{B}}-2\\sin{\\angle{A}}\\sin{\\angle{B}}\\cos{\\angle{C}}+cos^2A+cos^2B+2sinAsinBcosC=\\frac{15}{8}+sin^2C</math> We can simplify to <math>2=sin^2C+\\frac{15}{8}</math>. Similarly, we can generalize <math>2=sin^2A+\\frac{14}{9}</math>. After solving, we can get that <math>sinA=\\frac{2}{3}; cosA=\\frac{\\sqrt{5}}{3}; sinC=\\frac{\\sqrt{2}}{4}; cosC=\\frac{\\sqrt{14}}{4}</math>\nAssume the value we are looking for is <math>x</math>, we get <math>sin^2B+x=2</math>, while <math>sinB=sin(180^{\\circ}-A-C)=sin(A+C)</math> which is <math>\\frac{2\\sqrt{14}+\\sqrt{10}}{12}</math>, so <math>x=\\frac{111 - 4\\sqrt{35}}{72}</math>, giving us the answer <math>\\boxed{222}</math>.~bluesoul",
    "solution": "===Solution 1===\nLet's draw the triangle. Since the problem only deals with angles, we can go ahead and set one of the sides to a convenient value. Let <math>BC = \\sin{A}</math>.\n\nBy the Law of Sines, we must have <math>CA = \\sin{B}</math> and <math>AB = \\sin{C}</math>.\n\nNow let us analyze the given:\n\n<cmath>\\begin{align*}\n\\cos^2A + \\cos^2B + 2\\sin A\\sin B\\cos C &= 1-\\sin^2A + 1-\\sin^2B + 2\\sin A\\sin B\\cos C \\\\\n&= 2-(\\sin^2A + \\sin^2B - 2\\sin A\\sin B\\cos C)\n\\end{align*}</cmath>\n\nNow we can use the Law of Cosines to simplify this:\n\n<cmath>= 2-\\sin^2C</cmath>\n\n\nTherefore: <cmath>\\sin C = \\sqrt{\\dfrac{1}{8}},\\cos C = \\sqrt{\\dfrac{7}{8}}.</cmath> Similarly, <cmath>\\sin A = \\sqrt{\\dfrac{4}{9}},\\cos A = \\sqrt{\\dfrac{5}{9}}.</cmath> Note that the desired value is equivalent to <math>2-\\sin^2B</math>, which is <math>2-\\sin^2(A+C)</math>. All that remains is to use the sine addition formula and, after a few minor computations, we obtain a result of <math>\\dfrac{111-4\\sqrt{35}}{72}</math>. Thus, the answer is <math>111+4+35+72 = \\boxed{222}</math>.\n\nNote that the problem has a flaw because <math>\\cos B < 0</math> which contradicts with the statement that it's an acute triangle. Would be more accurate to state that <math>A</math> and <math>C</math> are smaller than 90. -Mathdummy"
  },
  {
    "year": 2014,
    "variant": "I",
    "problem_number": 1,
    "latex": "== Problem 1 ==\n\nThe 8 eyelets for the lace of a sneaker all lie on a rectangle, four equally spaced on each of the longer sides. The rectangle has a width of 50 mm and a length of 80 mm. There is one eyelet at each vertex of the rectangle. The lace itself must pass between the vertex eyelets along a width side of the rectangle and then crisscross between successive eyelets until it reaches the two eyelets at the other width side of the rectangle as shown. After passing through these final eyelets, each of the ends of the lace must extend at least 200 mm farther to allow a knot to be tied. Find the minimum length of the lace in millimeters.\n\n<asy>\nsize(200);\ndefaultpen(linewidth(0.7));\npath laceL=(-20,-30)..tension 0.75 ..(-90,-135)..(-102,-147)..(-152,-150)..tension 2 ..(-155,-140)..(-135,-40)..(-50,-4)..tension 0.8 ..origin;\npath laceR=reflect((75,0),(75,-240))*laceL;\ndraw(origin--(0,-240)--(150,-240)--(150,0)--cycle,gray);\nfor(int i=0;i<=3;i=i+1)\n{\npath circ1=circle((0,-80*i),5),circ2=circle((150,-80*i),5);\nunfill(circ1); draw(circ1);\nunfill(circ2); draw(circ2);\n}\ndraw(laceL--(150,-80)--(0,-160)--(150,-240)--(0,-240)--(150,-160)--(0,-80)--(150,0)^^laceR,linewidth(1));</asy>",
    "solution": "The rectangle is divided into three smaller rectangles with a width of 50 mm and a length of <math>\\dfrac{80}{3}</math>mm.  According to the Pythagorean Theorem (or by noticing the 8-15-17 Pythagorean triple), the diagonal of the rectangle is\n<math>\\sqrt{50^2+\\left(\\frac{80}{3}\\right)^2}=\\frac{170}{3}</math>mm.  Since that on the lace, there are 6 of these diagonals, a width, and an extension of at least 200 mm on each side.  Therefore, the minimum of the lace in millimeters is\n<cmath>6\\times \\dfrac{170}{3}+50+200\\times 2=\\boxed{790}.</cmath>"
  },
  {
    "year": 2014,
    "variant": "I",
    "problem_number": 2,
    "latex": "== Problem 2 ==\n\nAn urn contains <math>4</math> green balls and <math>6</math> blue balls. A second urn contains <math>16</math> green balls and <math>N</math> blue balls. A single ball is drawn at random from each urn. The probability that both balls are of the same color is <math>0.58</math>. Find <math>N</math>.",
    "solution": "First, we find the probability both are green, then the probability both are blue, and add the two probabilities. The sum should be equal to <math>0.58</math>. \n\nThe probability both are green is <math>\\frac{4}{10}\\cdot\\frac{16}{16+N}</math>, and the probability both are blue is <math>\\frac{6}{10}\\cdot\\frac{N}{16+N}</math>, so \n<cmath> \\frac{4}{10}\\cdot\\frac{16}{16+N}+\\frac{6}{10}\\cdot\\frac{N}{16+N}=\\frac{29}{50}</cmath>\nSolving this equation, \n<cmath>20\\left(\\frac{16}{16+N}\\right)+30\\left(\\frac{N}{16+N}\\right)=29</cmath>\nMultiplying both sides by <math>16+N</math>, we get\n\n<cmath>\\begin{align*}\n20\\cdot16+30\\cdot N&=29(16+N)\\\\\n320+30N&=464+29N\\\\\nN&=\\boxed{144}\n\\end{align*}</cmath>"
  },
  {
    "year": 2014,
    "variant": "I",
    "problem_number": 3,
    "latex": "== Problem 3 ==\nFind the number of rational numbers <math>r</math>, <math>0<r<1</math>, such that when <math>r</math> is written as a fraction in lowest terms, the numerator and the denominator have a sum of 1000.",
    "solution": "Let the numerator and denominator <math>x,y</math> with <math>\\gcd(x,y)=1</math> and <math>x+y = 1000.</math> Now if <math>\\gcd(x,y) = 1</math> then <math>\\gcd(x,y) =\\gcd(x,1000-x)= \\gcd(x,1000-x-(-1)x)=\\gcd(x,1000)=1.</math> Therefore any pair that works satisfies <math>\\gcd(x,1000)= 1.</math> By Euler's totient theorem, there are <math>\\phi(1000) = 400</math> numbers relatively prime to 1000 from 1 to 1000. Recall that <math>r=\\frac{x}{y}<1</math> and note by Euclidean algorithm <math>\\gcd(1000,1000-x)=1</math>, so we want <math>x<y=1000-x.</math> Thus the <math>400</math> relatively prime numbers can generate <math>\\boxed{200}</math> desired fractions."
  },
  {
    "year": 2014,
    "variant": "I",
    "problem_number": 4,
    "latex": "== Problem 4 ==\nJon and Steve ride their bicycles along a path that parallels two side-by-side train tracks running the east/west direction. Jon rides east at <math>20</math> miles per hour, and Steve rides west at <math>20</math> miles per hour. Two trains of equal length, traveling in opposite directions at constant but different speeds each pass the two riders. Each train takes exactly <math>1</math> minute to go past Jon. The westbound train takes <math>10</math> times as long as the eastbound train to go past Steve. The length of each train is <math>\\tfrac{m}{n}</math> miles, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "For the purposes of this problem, we will use miles and minutes as our units; thus, the bikers travel at speeds of <math>\\dfrac{1}{3}</math> mi/min.\n\nLet <math>d</math> be the length of the trains, <math>r_1</math> be the speed of train 1 (the faster train), and <math>r_2</math> be the speed of train 2.\n\nConsider the problem from the bikers' moving frame of reference. In order to pass Jon, the first train has to cover a distance equal to its own length, at a rate of <math>r_1 - \\dfrac{1}{3}</math>. Similarly, the second train has to cover a distance equal to its own length, at a rate of <math>r_2 + \\dfrac{1}{3}</math>. Since the times are equal and <math>d = rt</math>, we have that <math>\\dfrac{d}{r_1 - \\dfrac{1}{3}} = \\dfrac{d}{r_2 + \\dfrac{1}{3}}</math>. Solving for <math>r_1</math> in terms of <math>r_2</math>, we get that <math>r_1 = r_2 + \\dfrac{2}{3}</math>.\n\nNow, let's examine the times it takes the trains to pass Steve. This time, we augment train 1's speed by <math>\\dfrac{1}{3}</math>, and decrease train 2's speed by <math>\\dfrac{1}{3}</math>. Thus, we have that <math>\\dfrac{d}{r_2 - \\dfrac{1}{3}} = 10\\dfrac{d}{r_1 + \\dfrac{1}{3}}</math>.\n\nMultiplying this out and simplifying, we get that <math>r_1 = 10r_2 - \\dfrac{11}{3}</math>. Since we now have 2 expressions for <math>r_1</math> in terms of <math>r_2</math>, we can set them equal to each other:\n\n<math>r_2 + \\dfrac{2}{3} = 10r_2 - \\dfrac{11}{3}</math>. Solving for <math>r_2</math>, we get that <math>r_2 = \\dfrac{13}{27}</math>. Since we know that it took train 2 1 minute to pass Jon, we know that <math>1 = \\dfrac{d}{r_2 + \\dfrac{1}{3}}</math>. Plugging in <math>\\dfrac{13}{27}</math> for <math>r_2</math> and solving for <math>d</math>, we get that <math>d = \\dfrac{22}{27}</math>, and our answer is <math>27 + 22 = \\boxed{049}</math>."
  },
  {
    "year": 2014,
    "variant": "I",
    "problem_number": 5,
    "latex": "== Problem 5 ==\nLet the set <math>S = \\{P_1, P_2, \\dots, P_{12}\\}</math> consist of the twelve vertices of a regular <math>12</math>-gon. A subset <math>Q</math> of <math>S</math> is called \"communal\" if there is a circle such that all points of <math>Q</math> are inside the circle, and all points of <math>S</math> not in <math>Q</math> are outside of the circle. How many communal subsets are there? (Note that the empty set is a communal subset.)",
    "solution": "By looking at the problem and drawing a few pictures, it quickly becomes obvious that one cannot draw a circle that covers <math>2</math> disjoint areas of the <math>12</math>-gon without including all the vertices in between those areas. In other words, in order for a subset to be communal, all the vertices in the subset must be adjacent to one another. We now count the number of ways to select a row of adjacent vertices. We notice that for any subset size between <math>1</math> and <math>11</math>, there are <math>12</math> possible subsets like this (this is true because we can pick any of the <math>12</math> vertices as a \"starting\" vertex, include some number of vertices counterclockwise from that vertex, and generate all possible configurations). However, we also have to include the set of all <math>12</math> vertices, as well as the empty set. Thus, the total number is <math>12\\cdot11 + 2 = \\boxed{134}</math>."
  },
  {
    "year": 2014,
    "variant": "I",
    "problem_number": 6,
    "latex": "== Problem 6 ==\n\nThe graphs <math>y=3(x-h)^2+j</math> and <math>y=2(x-h)^2+k</math> have y-intercepts of <math>2013</math> and <math>2014</math>, respectively, and each graph has two positive integer x-intercepts. Find <math>h</math>.",
    "solution": "Begin by setting <math>x</math> to 0, then set both equations to <math>h^2=\\frac{2013-j}{3}</math> and <math>h^2=\\frac{2014-k}{2}</math>, respectively. Notice that because the two parabolas have to have positive x-intercepts, <math>h\\ge32</math>.\n\nWe see that <math>h^2=\\frac{2014-k}{2}</math>, so we now need to find a positive integer <math>h</math> which has positive integer x-intercepts for both equations.\n\nNotice that if <math>k=2014-2h^2</math> is -2 times a square number, then you have found a value of <math>h</math> for which the second equation has positive x-intercepts. We guess and check <math>h=36</math> to obtain <math>k=-578=-2(17^2)</math>.\n\nFollowing this, we check to make sure the first equation also has positive x-intercepts (which it does), so we can conclude the answer is <math>\\boxed{036}</math>."
  },
  {
    "year": 2014,
    "variant": "I",
    "problem_number": 7,
    "latex": "== Problem 7 ==\nLet <math>w</math> and <math>z</math> be complex numbers such that <math>|w| = 1</math> and <math>|z| = 10</math>. Let <math>\\theta = \\arg \\left(\\tfrac{w-z}{z}\\right) </math>. The maximum possible value of <math>\\tan^2 \\theta</math> can be written as <math>\\tfrac{p}{q}</math>, where <math>p</math> and <math>q</math> are relatively prime positive integers. Find <math>p+q</math>. (Note that <math>\\arg(w)</math>, for <math>w \\neq 0</math>, denotes the measure of the angle that the ray from <math>0</math> to <math>w</math> makes with the positive real axis in the complex plane)",
    "solution": "Let <math>w = \\operatorname{cis}{(\\alpha)}</math> and <math>z = 10\\operatorname{cis}{(\\beta)}</math>. Then, <math>\\dfrac{w - z}{z} = \\dfrac{\\operatorname{cis}{(\\alpha)} - 10\\operatorname{cis}{(\\beta)}}{10\\operatorname{cis}{\\beta}}</math>.\n\nMultiplying both the numerator and denominator of this fraction by <math>\\operatorname{cis}{(-\\beta)}</math> gives us:\n\n<math>\\dfrac{w - z}{z} = \\dfrac{1}{10}\\operatorname{cis}{(\\alpha - \\beta)} - 1 = \\dfrac{1}{10}\\cos{(\\alpha - \\beta)} + \\dfrac{1}{10}i\\sin{(\\alpha - \\beta)} - 1</math>.\n\nWe know that <math>\\tan{\\theta}</math> is equal to the imaginary part of the above expression divided by the real part. Let <math>x = \\alpha - \\beta</math>. Then, we have that:\n\n<math>\\tan{\\theta} = \\dfrac{\\sin{x}}{\\cos{x} - 10}.</math>\n\nWe need to find a maximum of this expression, so we take the derivative:\n\nNote (not from author): To take the derivative, we need to use the [https://en.wikipedia.org/wiki/Quotient_rule Quotient Rule]. In this case, <cmath>\\frac{d}{dx}\\left(\\frac{\\sin x}{\\cos x-10}\\right)=\\frac{\\cos x(\\cos x-10)-(-\\sin x)\\sin x}{(\\cos x-10)^2}=\\dfrac{1 - 10\\cos{x}}{(\\cos{x} - 10)^2}</cmath>\n\nThus, we see that the maximum occurs when <math>\\cos{x} = \\dfrac{1}{10}</math>. Therefore, <math>\\sin{x} = \\pm\\dfrac{\\sqrt{99}}{10}</math>, and <math>\\tan{\\theta} = \\pm\\dfrac{\\sqrt{99}}{99}</math>. Thus, the maximum value of <math>\\tan^2{\\theta}</math> is <math>\\dfrac{99}{99^2}</math>, or <math>\\dfrac{1}{99}</math>, and our answer is <math>1 + 99 = \\boxed{100}</math>."
  },
  {
    "year": 2014,
    "variant": "I",
    "problem_number": 8,
    "latex": "== Problem 8 ==\nThe positive integers <math>N</math> and <math>N^2</math> both end in the same sequence of four digits <math>abcd</math> when written in base <math>10</math>, where digit <math>a</math> is not zero. Find the three-digit number <math>abc</math>.",
    "solution": "We have that <math>N^2 - N = N(N - 1)\\equiv 0\\mod{10000}</math>\n\nThus, <math>N(N-1)</math> must be divisible by both <math>5^4</math> and <math>2^4</math>. Note, however, that if either <math>N</math> or <math>N-1</math> has both a <math>5</math> and a <math>2</math> in its factorization, the other must end in either <math>1</math> or <math>9</math>, which is impossible for a number that is divisible by either <math>2</math> or <math>5</math>. Thus, one of them is divisible by <math>2^4 = 16</math>, and the other is divisible by <math>5^4 = 625</math>. Noting that <math>625 \\equiv 1\\mod{16}</math>, we see that <math>625</math> would work for <math>N</math>, except the thousands digit is <math>0</math>. The other possibility is that <math>N</math> is a multiple of <math>16</math> and <math>N-1</math> is a multiple of <math>625</math>. In order for this to happen, <cmath>N-1 \\equiv -1 \\pmod {16}.</cmath> Since <math>625 \\equiv 1 \\pmod{16}</math>, we know that <math>15 \\cdot 625 = 9375 \\equiv 15 \\equiv -1 \\mod{16}</math>. Thus, <math>N-1 = 9375</math>, so <math>N = 9376</math>, and our answer is <math>\\boxed{937}</math>."
  },
  {
    "year": 2014,
    "variant": "I",
    "problem_number": 9,
    "latex": "== Problem 9 ==\n\nLet <math>x_1<x_2<x_3</math> be the three real roots of the equation <math>\\sqrt{2014}x^3-4029x^2+2=0</math>. Find <math>x_2(x_1+x_3)</math>.",
    "solution": "Substituting <math>n</math> for <math>2014</math>, we get <cmath>\\sqrt{n}x^3 - (1+2n)x^2 + 2 = \\sqrt{n}x^3 - x^2 - 2nx^2 + 2</cmath> <cmath>= x^2(\\sqrt{n}x - 1) - 2(nx^2 - 1) = 0</cmath> Noting that <math>nx^2 - 1</math> factors as a difference of squares to <cmath>(\\sqrt{n}x - 1)(\\sqrt{n}x+1)</cmath> we can factor the left side as <cmath>(\\sqrt{n}x - 1)(x^2 - 2(\\sqrt{n}x+1))</cmath> This means that <math>\\frac{1}{\\sqrt{n}}</math> is a root, and the other two roots are the roots of <math>x^2 - 2\\sqrt{n}x - 2</math>. Note that the constant term of the quadratic is negative, so one of the two roots is positive and the other is negative. In addition, by Vieta's Formulas, the roots sum to <math>2\\sqrt{n}</math>, so the positive root must be greater than <math>2\\sqrt{n}</math> in order to produce this sum when added to a negative value. Since <math>0 < \\frac{1}{\\sqrt{2014}} < 2\\sqrt{2014}</math> is clearly true, <math>x_2 = \\frac{1}{\\sqrt{2014}}</math> and <math>x_1 + x_3 = 2\\sqrt{2014}</math>. Multiplying these values together, we find that <math>x_2(x_1+x_3) = \\boxed{002}</math>."
  },
  {
    "year": 2014,
    "variant": "I",
    "problem_number": 10,
    "latex": "== Problem 10 ==\nA disk with radius <math>1</math> is externally tangent to a disk with radius <math>5</math>. Let <math>A</math> be the point where the disks are tangent, <math>C</math> be the center of the smaller disk, and <math>E</math> be the center of the larger disk. While the larger disk remains fixed, the smaller disk is allowed to roll along the outside of the larger disk until the smaller disk has turned through an angle of <math>360^\\circ</math>. That is, if the center of the smaller disk has moved to the point <math>D</math>, and the point on the smaller disk that began at <math>A</math> has now moved to point <math>B</math>, then <math>\\overline{AC}</math> is parallel to <math>\\overline{BD}</math>. Then <math>\\sin^2(\\angle BEA)=\\tfrac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "<asy>\nsize(150);\npair a=(5,0),b=(2,3*sqrt(3)),c=(6,0),d=(3,3*sqrt(3)),e=(0,0);\ndraw(circle(e,5));\ndraw(circle(c,1));\ndraw(circle(d,1));\ndot(a^^b^^c^^d^^e^^(5/2,5*sqrt(3)/2));\nlabel(\"$A$\",a,W,fontsize(9));\nlabel(\"$B$\",b,NW,fontsize(9));\nlabel(\"$C$\",c,E,fontsize(9));\nlabel(\"$D$\",d,E,fontsize(9));\nlabel(\"$E$\",e,SW,fontsize(9));\nlabel(\"$F$\",(5/2,5*sqrt(3)/2),SSW,fontsize(9));\n</asy>\n\nLet <math>F</math> be the new tangency point of the two disks. The smaller disk rolled along minor arc <math>\\overset{\\frown}{AF}</math> on the larger disk.\n\nLet <math>\\alpha = \\angle AEF</math>, in radians. The smaller disk must then have rolled along an arc of length <math>5\\alpha</math>, since the larger disk has a radius of <math>5</math>.  Since all of the points on major arc <math>\\overset{\\frown}{BF}</math> on the smaller disk have come into contact with the larger disk at some point during the rolling, and none of the other points on the smaller disk did,<cmath>\\overset{\\frown}{BF}=\\overset{\\frown}{AF}=5\\alpha</cmath>. \n\nSince <math>\\overline{AC} || \\overline{BD}</math>, <cmath>\\angle BDF \\cong \\angle FEA</cmath> so the angles of minor arc <math>\\overset{\\frown}{BF}</math> and minor arc <math>\\overset{\\frown}{AF}</math> are equal, so minor arc <math>\\overset{\\frown}{BF}</math> has an angle of <math>\\alpha</math>. Since the smaller disk has a radius of <math>1</math>, the length of minor arc <math>\\overset{\\frown}{BF}</math> is <math>\\alpha</math>. This means that <math>5\\alpha + \\alpha</math> equals the circumference of the smaller disk, so <math>6\\alpha = 2\\pi</math>, or <math>\\alpha = \\frac{\\pi}{3}</math>.\n\nNow, to find <math>\\sin^2{\\angle BEA}</math>, we construct <math>\\triangle BDE</math>. Also, drop a perpendicular from <math>D</math> to <math>\\overline{EA}</math>, and call this point <math>X</math>. Since <math>\\alpha = \\frac{\\pi}{3}</math> and <math>\\angle DXE</math> is right, <cmath>DE = 6</cmath> <cmath>EX = 3</cmath> and <cmath>DX = 3\\sqrt{3}</cmath> \n\nNow drop a perpendicular from <math>B</math> to <math>\\overline{EA}</math>, and call this point <math>Y</math>. Since <math>\\overline{BD} || \\overline{EA}</math>, <cmath>XY = BD = 1</cmath> and <cmath>BY = DX = 3\\sqrt{3}</cmath> Thus, we know that <cmath>EY = EX - XY = 3 - 1 = 2</cmath> and by using the Pythagorean Theorem on <math>\\triangle BEY</math>, we get that <cmath>BE = \\sqrt{31}</cmath> Thus, <cmath>\\sin{\\angle BEA} = \\frac{\\sqrt{27}}{\\sqrt{31}}</cmath> so <cmath>\\sin^2{\\angle BEA} = \\frac{27}{31}</cmath> and our answer is <math>27 + 31 = \\boxed{058}</math>."
  },
  {
    "year": 2014,
    "variant": "I",
    "problem_number": 11,
    "latex": "== Problem 11 ==\n\nA token starts at the point <math>(0,0)</math> of an <math>xy</math>-coordinate grid and then makes a sequence of six moves. Each move is 1 unit in a direction parallel to one of the coordinate axes. Each move is selected randomly from the four possible directions and independently of the other moves. The probability the token ends at a point on the graph of <math>|y|=|x|</math> is <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "Perform the coordinate transformation <math>(x, y)\\rightarrow (x+y, x-y)</math>. Then we can see that a movement up, right, left, or down in the old coordinates adds the vectors <math>\\langle 1, -1 \\rangle</math>, <math>\\langle 1, 1 \\rangle</math>, <math>\\langle -1, -1 \\rangle</math>, <math>\\langle -1, 1 \\rangle</math> respectively. Moreover, the transformation takes the equation <math>|y| = |x|</math> to the union of the x and y axis. Exactly half of the moves go up in the new coordinates, and half of them go down. In order to end up on the x axis, we need to go up thrice and down thrice. The number of possible sequences of up and down moves is the number of permutations of <math>UUUDDD</math>, which is just <math>\\binom63 = 20</math>. The probability of any of these sequences happening is <math>\\left(\\frac12\\right)^6</math>. Thus, the probability of ending on the x axis is <math>\\frac{20}{2^6}</math>. Similarly, the probability of ending on the y axis is the same. \n\nHowever, we overcount exactly one case: ending at <math>(0, 0)</math>. Since ending on the x axis and ending on the y axis are independent events, the probability of both is simply <math>\\left(\\frac{20}{2^6}\\right)^2 = \\frac{25}{256}</math>. Using PIE, the total probability is <math>\\frac{20}{64} + \\frac{20}{64} - \\frac{25}{256} = \\frac{135}{256}</math>, giving an answer of <math>\\boxed{391}</math>.\n\n~sampai7"
  },
  {
    "year": 2014,
    "variant": "I",
    "problem_number": 12,
    "latex": "== Problem 12 ==\nLet <math>A=\\{1,2,3,4\\}</math>, and <math>f</math> and <math>g</math> be randomly chosen (not necessarily distinct) functions from <math>A</math> to <math>A</math>. The probability that the range of <math>f</math> and the range of <math>g</math> are disjoint is <math>\\tfrac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m</math>.",
    "solution": "The natural way to go is casework. And the natural process is to sort <math>f</math> and <math>g</math> based on range size! Via Pigeonhole Principle, we see that the only real possibilities are: <math>f 1 g 1; f 1 g 2; f 1 g 3; f 2 g 2</math>. Note that the <math>1, 2</math> and <math>1, 3</math> cases are symmetrical and we need just a <math>*2</math>. Note also that the total number of cases is <math>4^4*4^4=4^8</math>.\n\n<math>f 1 g 1</math>: clearly, we choose one number as the range for <math>f</math>, one for <math>g</math>, yielding <math>12</math> possibilities.\n\n<math>f 1 g 2</math> with symmetry (WLOG <math>f</math> has 1 element): start by selecting numbers for the ranges. This yields <math>4</math> for the one number in <math>f</math>, and <math>3</math> options for the two numbers for <math>g</math>. Afterwards, note that the function with 2 numbers in the range can have <math>4+6+4=14</math> arrangements of these two numbers (1 of one, 3 of the other *2 and 2 of each). Therefore, we have <math>2*12*14</math> possibilities, the 2 from symmetry.\n\n<math>f 2 g 2</math>: no symmetry, still easy! Just note that we have <math>6</math> choices of which numbers go to <math>f</math> and <math>g</math>, and within each, <math>14*14=196</math> choices for the orientation of each of the two numbers. That's <math>6*196</math> possibilities.\n\n<math>f 1 g 3</math>: again, symmetrical (WLOG <math>f</math> has one element): <math>4</math> ways to select the single element for <math>f</math>, and then find the number of ways to distribute the <math>3</math> distinct numbers in the range for <math>g</math>. The only arrangement for the frequency of each number is <math>{1, 1, 2}</math> in some order. Therefore, we have <math>3</math> ways to choose which number is the one represented twice, and then note that there are <math>12</math> ways to arrange these! The number of possibilities in this situation is <math>2 * 4 * 3 * 12</math>.\n\nTotal, divided by <math>4^8</math>, gets <math>\\frac{3 * (1 + 2 * 7^2 + 2^2 * 7 + 2^3 * 3)}{4^7}</math>, with numerator <math>\\boxed{453}</math>."
  },
  {
    "year": 2014,
    "variant": "I",
    "problem_number": 13,
    "latex": "==Problem 13==\nOn square <math>ABCD</math>, points <math>E,F,G</math>, and <math>H</math> lie on sides <math>\\overline{AB},\\overline{BC},\\overline{CD},</math> and <math>\\overline{DA},</math> respectively, so that <math>\\overline{EG} \\perp \\overline{FH}</math> and <math>EG=FH = 34</math>. Segments <math>\\overline{EG}</math> and <math>\\overline{FH}</math> intersect at a point <math>P</math>, and the areas of the quadrilaterals <math>AEPH, BFPE, CGPF,</math> and <math>DHPG</math> are in the ratio <math>269:275:405:411.</math> Find the area of square <math>ABCD</math>.\n\n<asy>\npair A = (0,sqrt(850));\npair B = (0,0);\npair C = (sqrt(850),0);\npair D = (sqrt(850),sqrt(850));\ndraw(A--B--C--D--cycle);\ndotfactor = 3;\ndot(\"$A$\",A,dir(135));\ndot(\"$B$\",B,dir(215));\ndot(\"$C$\",C,dir(305));\ndot(\"$D$\",D,dir(45));\npair H = ((2sqrt(850)-sqrt(306))/6,sqrt(850));\npair F = ((2sqrt(850)+sqrt(306)+7)/6,0);\ndot(\"$H$\",H,dir(90));\ndot(\"$F$\",F,dir(270));\ndraw(H--F);\npair E = (0,(sqrt(850)-6)/2);\npair G = (sqrt(850),(sqrt(850)+sqrt(100))/2);\ndot(\"$E$\",E,dir(180));\ndot(\"$G$\",G,dir(0));\ndraw(E--G);\npair P = extension(H,F,E,G);\ndot(\"$P$\",P,dir(60));\nlabel(\"$w$\", intersectionpoint( A--P, E--H ));\nlabel(\"$x$\", intersectionpoint( B--P, E--F ));\nlabel(\"$y$\", intersectionpoint( C--P, G--F ));\nlabel(\"$z$\", intersectionpoint( D--P, G--H ));</asy>",
    "solution": "Let <math>s</math> be the side length of <math>ABCD</math>, let <math>Q</math>, and <math>R</math> be the midpoints of <math>\\overline{EG}</math> and <math>\\overline{FH}</math>, respectively, let <math>S</math> be the foot of the perpendicular from <math>Q</math> to <math>\\overline{CD}</math>, let <math>T</math> be the foot of the perpendicular from <math>R</math> to <math>\\overline{AD}</math>. \n<asy> size(150); defaultpen(fontsize(10pt)); pair A,B,C,D,E,F,Fp,G,Gp,H,O,I,J,R,S,T;  A=dir(45*3); B=dir(-45*3); C=dir(-45); D=dir(45); O = origin; real theta=15; E=extension(A,B,O,dir(180+theta)); G=extension(C,D,O,dir(theta)); I=extension(A,D,O,dir(90+theta)); J=extension(B,C,O,dir(-90+theta)); H=(A+I)/2; F=H+(J-I); R=midpoint(H--F); S=midpoint(C--D); T=(R.x, A.y); draw(A--B--C--D--cycle^^E--G^^F--H, black+0.8);  draw(S--R--T, gray+0.4);   dotfactor = 3; dot(\"$A$\",A,dir(135)); dot(\"$B$\",B,dir(215)); dot(\"$C$\",C,dir(305)); dot(\"$D$\",D,dir(45)); dot(\"$H$\",H,dir(90)); dot(\"$F$\",F,dir(270));  dot(\"$E$\",E,dir(180)); dot(\"$G$\",G,dir(0)); dot(\"$Q$\",O,dir(-90)); dot(\"$R$\",R,dir(-180)); dot(\"$S$\",S,dir(0)); dot(\"$T$\",T,dir(90));  pair P = extension(F,H,E,G); dot(\"$P$\",P,dir(180+60));  </asy>\nThe fraction of the area of the square <math>ABCD</math> which is occupied by trapezoid <math>BCGE</math> is <cmath>\\frac{275+405}{269+275+405+411}=\\frac 12,</cmath>so <math>Q</math> is the center of <math>ABCD</math>. Thus <math>R</math>, <math>Q</math>, <math>S</math> are collinear, and <math>RT=QS=\\tfrac 12 s</math>. Similarly, the fraction of the area occupied by trapezoid <math>CDHF</math> is <math>\\tfrac 35</math>, so <math>RS=\\tfrac 35s</math> and <math>RQ=\\tfrac{1}{10}s</math>. \n\nBecause <math>\\triangle QSG \\cong \\triangle RTH</math>, the area of <math>DHPG</math> is the sum <cmath>[DHPG]=[DTRS]+[RPQ].</cmath> Rectangle <math>DTRS</math> has area <math>RS\\cdot RT = \\tfrac 35s\\cdot \\tfrac 12 s = \\tfrac{3}{10}s^2</math>. If <math>\\angle QRP = \\theta</math> , then <math>\\triangle RPQ</math> has area <cmath>[RPQ]= \\tfrac 12 \\cdot \\tfrac 1{10}s\\sin\\theta \\cdot \\tfrac 1{10}s\\cos\\theta = \\tfrac 1{400}s^2\\sin 2\\theta.</cmath>Therefore the area of <math>[DHPG]</math> is <math>s^2(\\tfrac 3{10}+\\tfrac 1{400}\\sin 2\\theta)</math>. Because the area of trapezoid <math>CDHF</math> is <math>\\tfrac 35 s^2</math>, the area of <math>CGPF</math> is <math>s^2(\\tfrac 3{10}-\\tfrac 1{400}\\sin 2\\theta)</math>.\n\nBecause these areas are in the ratio <math>411:405=(408+3):(408-3)</math>, it follows that <cmath>\\frac{\\frac 1{400}\\sin 2\\theta}{\\frac 3{10}}=\\frac 3{408},</cmath>from which we get <math>\\sin 2\\theta = \\tfrac {15}{17}</math>. Note that <math>\\theta =\\angle RHT > \\angle QAT = 45^\\circ</math>, so <math>\\cos 2\\theta = -\\sqrt{1-\\sin^2 2\\theta}= -\\tfrac 8{17}</math> and <math>\\sin^2\\theta = \\tfrac{1}{2}(1-\\cos 2\\theta) = \\tfrac{25}{34}</math>. Then <cmath>[ABCD]=s^2 = EG^2\\sin^2\\theta = 34^2 \\cdot \\tfrac {25}{34} = 850.</cmath>"
  },
  {
    "year": 2014,
    "variant": "I",
    "problem_number": 14,
    "latex": "== Problem 14 ==\n\nLet <math>m</math> be the largest real solution to the equation\n\n<math>\\frac{3}{x-3}+\\frac{5}{x-5}+\\frac{17}{x-17}+\\frac{19}{x-19}=x^2-11x-4</math>\n\nThere are positive integers <math>a</math>, <math>b</math>, and <math>c</math> such that <math>m=a+\\sqrt{b+\\sqrt{c}}</math>. Find <math>a+b+c</math>.",
    "solution": "The first step is to notice that the 4 on the right hand side can simplify the terms on the left hand side. If we distribute 1 to <math>\\frac{3}{x-3}</math>, then the fraction becomes of the form <math>\\frac{x}{x - 3}</math>. A similar cancellation happens with the other four terms. If we assume <math>x = 0</math> is not the highest solution (which is true given the answer format) we can cancel the common factor of <math>x</math> from both sides of the equation.\n\n<math>\\frac{1}{x - 3} + \\frac{1}{x - 5} + \\frac{1}{x - 17} + \\frac{1}{x - 19} = x - 11</math>\n\nThen, if we make the substitution <math>y = x - 11</math>, we can further simplify.\n\n<math>\\frac{1}{y + 8} + \\frac{1}{y + 6} + \\frac{1}{y - 6} + \\frac{1}{y - 8} =y </math>\n\nIf we group and combine the terms of the form  <math>y - n</math> and   <math> y + n</math>, we get this equation:\n\n<math>\\frac{2y}{y^2 - 64} + \\frac{2y}{y^2 - 36} = y</math>\n\nThen, we can cancel out a <math>y</math> from both sides, knowing that <math>x = 11</math> is not a possible solution given the answer format.\nAfter we do that, we can make the final substitution <math>z = y^2</math>.\n\n<math>\\frac{2}{z - 64} + \\frac{2}{z - 36} = 1</math>\n \n<math>2z - 128 + 2z - 72 = (z - 64)(z - 36)</math>\n \n<math>4z -  200 = z^2 - 100z + 64(36)</math>\n \n<math>z^2 - 104z + 2504 = 0</math>\n\nUsing the quadratic formula, we get that the largest solution for <math>z</math> is <math>z = 52 + 10\\sqrt{2}</math>. Then, repeatedly substituting backwards, we find that the largest value of <math>x</math> is <math>11 + \\sqrt{52 + \\sqrt{200}}</math>. The answer is thus <math>11 + 52 + 200 = \\boxed{263}</math>\n\n\nNote: When <math>x</math> is barely larger than <math>19</math>, then <math>\\frac{19}{x-19}</math> is very large, so the left side of the equation approaches infinity as <math>x</math> approaches <math>19</math> from the side greater than <math>19</math>. However, we also know as <math>x</math> gets very large, the fractions get smaller as the left side approaches <math>0</math>. Since the quadratic on the right side is increasing and positive when <math>x=19</math>, the equation will be true at a certain <math>x>19.</math> So, we don't have to assume there is an answer <math>x>0.</math>"
  },
  {
    "year": 2014,
    "variant": "I",
    "problem_number": 15,
    "latex": "== Problem 15 ==\n\nIn <math>\\triangle ABC</math>, <math>AB = 3</math>, <math>BC = 4</math>, and <math>CA = 5</math>. Circle <math>\\omega</math> intersects <math>\\overline{AB}</math> at <math>E</math> and <math>B</math>, <math>\\overline{BC}</math> at <math>B</math> and <math>D</math>, and <math>\\overline{AC}</math> at <math>F</math> and <math>G</math>. Given that <math>EF=DF</math> and <math>\\frac{DG}{EG} = \\frac{3}{4}</math>, length <math>DE=\\frac{a\\sqrt{b}}{c}</math>, where <math>a</math> and <math>c</math> are relatively prime positive integers, and <math>b</math> is a positive integer not divisible by the square of any prime. Find <math>a+b+c</math>.",
    "solution": "== Fast Video Solution ==\n\nhttps://www.youtube.com/watch?v=n2tDvCQYK-I"
  },
  {
    "year": 2014,
    "variant": "II",
    "problem_number": 1,
    "latex": "Abe can paint the room in 15 hours, Bea can paint 50 percent faster than Abe, and Coe can paint twice as fast as Abe. Abe begins to paint the room and works alone for the first hour and a half. Then Bea joins Abe, and they work together until half the room is painted. Then Coe joins Abe and Bea, and they work together until the entire room is painted. Find the number of minutes after Abe begins for the three of them to finish painting the room.",
    "solution": "From the given information, we can see that Abe can paint <math>\\frac{1}{15}</math> of the room in an hour, Bea can paint <math>\\frac{1}{15}\\times\\frac{3}{2} = \\frac{1}{10}</math> of the room in an hour, and Coe can paint the room in <math>\\frac{1}{15}\\times 2 = \\frac{2}{15}</math> of the room in an hour.  After <math>90</math> minutes, Abe has painted <math>\\frac{1}{15}\\times\\frac{3}{2}=\\frac{1}{10}</math> of the room.  Working together, Abe and Bea can paint <math>\\frac{1}{15}+\\frac{1}{10}=\\frac{1}{6}</math> of the room in an hour, so it takes then <math>\\frac{2}{5}\\div \\frac{1}{6}= \\frac{12}{5}</math> hours to finish the first half of the room.  All three working together can paint <math>\\frac{1}{6}+\\frac{2}{15}=\\frac{3}{10}</math> of the room in an hour, and it takes them <math>\\frac{1}{2}\\div \\frac{3}{10}=\\frac{5}{3}</math> hours to finish the room.  The total amount of time they take is\n<cmath>90+\\frac{12}{5}\\times 60+\\frac{5}{3}\\times 60 = 90+ 144 + 100 = \\boxed{334} \\text{\\ minutes.}</cmath>"
  },
  {
    "year": 2014,
    "variant": "II",
    "problem_number": 2,
    "latex": "Arnold is studying the prevalence of three health risk factors, denoted by A, B, and C, within a population of men. For each of the three factors, the probability that a randomly selected man in the population has only this risk factor (and none of the others) is 0.1. For any two of the three factors, the probability that a randomly selected man has exactly these two risk factors (but not the third) is 0.14. The probability that a randomly selected man has all three risk factors, given that he has A and B is <math>\\frac{1}{3}</math>. The probability that a man has none of the three risk factors given that he does not have risk factor A is <math>\\frac{p}{q}</math>, where <math>p</math> and <math>q</math> are relatively prime positive integers. Find <math>p+q</math>.",
    "solution": "We first assume a population of <math>100</math> to facilitate solving. Then we simply organize the statistics given into a Venn diagram.\n\n<asy>\n\npair A,B,C,D,E,F,G;\nA=(0,55);\nB=(60,55);\nC=(60,0);\nD=(0,0);\ndraw(A--B--C--D--A);\nE=(30,35);\nF=(20,20);\nG=(40,20);\ndraw(circle(E,15));\ndraw(circle(F,15));\ndraw(circle(G,15));\n\ndraw(\"$A$\",(30,52));\ndraw(\"$B$\",(7,7));\ndraw(\"$C$\",(53,7));\n\ndraw(\"100\",(5,60));\ndraw(\"10\",(30,40));\ndraw(\"10\",(15,15));\ndraw(\"10\",(45,15));\n\ndraw(\"14\",(30,16));\ndraw(\"14\",(38,29));\ndraw(\"14\",(22,29));\n\ndraw(\"$x$\",(30,25));\ndraw(\"$y$\",(10,45));\n\n</asy>\n\nLet <math>x</math> be the number of men with all three risk factors.  Since \"the probability that a randomly selected man has all three risk factors, given that he has A and B is <math>\\frac{1}{3}</math>,\" we can tell that <math>x = \\frac{1}{3}(x+14)</math>, since there are <math>x</math> people with all three factors and 14 with only A and B.  Thus <math>x=7</math>.\n\nLet <math>y</math> be the number of men with no risk factors.  It now follows that\n<cmath> y= 100 - 3 \\cdot 10 - 3 \\cdot 14 - 7 = 21. </cmath>\nThe number of men with risk factor A is <math>10+2 \\cdot 14+7 = 45</math> (10 with only A, 28 with A and one of the others, and 7 with all three).  Thus the number of men without risk factor <math>A</math> is 55, so the desired conditional probability is <math>21/55</math>.  So the answer is <math>21+55=\\boxed{076}</math>."
  },
  {
    "year": 2014,
    "variant": "II",
    "problem_number": 3,
    "latex": "A rectangle has sides of length <math>a</math> and 36. A hinge is installed at each vertex of the rectangle, and at the midpoint of each side of length 36. The sides of length <math>a</math> can be pressed toward each other keeping those two sides parallel so the rectangle becomes a convex hexagon as shown. When the figure is a hexagon with the sides of length <math>a</math> parallel and separated by a distance of 24, the hexagon has the same area as the original rectangle. Find <math>a^2</math>. \n\n<asy>\npair A,B,C,D,E,F,R,S,T,X,Y,Z;\ndotfactor = 2;\nunitsize(.1cm);\nA = (0,0);\nB = (0,18);\nC = (0,36);\n// don't look here\nD = (12*2.236, 36);\nE = (12*2.236, 18);\nF = (12*2.236, 0);\ndraw(A--B--C--D--E--F--cycle);\ndot(\" \",A,NW);\ndot(\" \",B,NW);\ndot(\" \",C,NW);\ndot(\" \",D,NW);\ndot(\" \",E,NW);\ndot(\" \",F,NW);\n//don't look here\nR = (12*2.236 +22,0);\nS = (12*2.236 + 22 - 13.4164,12);\nT = (12*2.236 + 22,24);\nX = (12*4.472+ 22,24);\nY = (12*4.472+ 22 + 13.4164,12);\nZ = (12*4.472+ 22,0);\ndraw(R--S--T--X--Y--Z--cycle);\ndot(\" \",R,NW);\ndot(\" \",S,NW);\ndot(\" \",T,NW);\ndot(\" \",X,NW);\ndot(\" \",Y,NW);\ndot(\" \",Z,NW);\n// sqrt180 = 13.4164\n// sqrt5 = 2.236</asy>",
    "solution": "When we squish the rectangle, the hexagon is composed of a rectangle and two isosceles triangles with side lengths 18, 18, and 24 as shown below.\n\n<asy>\npair R,S,T,X,Y,Z;\ndotfactor = 2;\nunitsize(.1cm);\nR = (12*2.236 +22,0);\nS = (12*2.236 + 22 - 13.4164,12);\nT = (12*2.236 + 22,24);\nX = (12*4.472+ 22,24);\nY = (12*4.472+ 22 + 13.4164,12);\nZ = (12*4.472+ 22,0);\ndraw(R--S--T--X--Y--Z--cycle);\ndraw(T--R,red);\ndraw(X--Z,red);\ndot(\" \",R,NW);\ndot(\" \",S,NW);\ndot(\" \",T,NW);\ndot(\" \",X,NW);\ndot(\" \",Y,NW);\ndot(\" \",Z,NW);\n// sqrt180 = 13.4164\n// sqrt5 = 2.236</asy>\n\nBy Heron's Formula, the area of each isosceles triangle is <math>\\sqrt{(30)(12)(12)(6)}=\\sqrt{180\\times 12^2}=72\\sqrt{5}</math>. So the area of both is <math>144\\sqrt{5}</math>. From the rectangle, our original area is <math>36a</math>. The area of the rectangle in the hexagon is <math>24a</math>. So we have <cmath>24a+144\\sqrt{5}=36a\\implies 12a=144\\sqrt{5}\\implies a=12\\sqrt{5}\\implies a^2=\\boxed{720}.</cmath>"
  },
  {
    "year": 2014,
    "variant": "II",
    "problem_number": 4,
    "latex": "The repeating decimals <math>0.abab\\overline{ab}</math> and <math>0.abcabc\\overline{abc}</math> satisfy \n\n<cmath>0.abab\\overline{ab}+0.abcabc\\overline{abc}=\\frac{33}{37},</cmath>\n\nwhere <math>a</math>, <math>b</math>, and <math>c</math> are (not necessarily distinct) digits. Find the three digit number <math>abc</math>.",
    "solution": "Notice repeating decimals can be written as the following:\n\n<math>0.\\overline{ab}=\\frac{10a+b}{99}</math>\n\n<math>0.\\overline{abc}=\\frac{100a+10b+c}{999}</math>\n\nwhere a,b,c are the digits. Now we plug this back into the original fraction:\n\n<math>\\frac{10a+b}{99}+\\frac{100a+10b+c}{999}=\\frac{33}{37}</math>\n\nMultiply both sides by <math>999*99.</math> This helps simplify the right side as well because <math>999=111*9=37*3*9</math>:\n\n<math>9990a+999b+9900a+990b+99c=33/37*37*3*9*99=33*3*9*99</math>\n\nDividing both sides by <math>9</math> and simplifying gives:\n\n<math>2210a+221b+11c=99^2=9801</math>\n\nAt this point, seeing the <math>221</math> factor common to both a and b is crucial to simplify. This is because taking <math>mod 221</math> to both sides results in:\n\n<math>2210a+221b+11c  \\equiv 9801 \\mod 221 \\iff 11c  \\equiv 77 \\mod 221</math>\n\nNotice that we arrived to the result <math>9801 \\equiv 77 \\mod 221</math> by simply dividing <math>9801</math> by <math>221</math> and seeing <math>9801=44*221+77.</math> Okay, now it's pretty clear to divide both sides by <math>11</math> in the modular equation but we have to worry about <math>221</math> being multiple of <math>11.</math> Well, <math>220</math> is a multiple of <math>11</math> so clearly, <math>221</math> couldn't be. Also, <math>221=13*17.</math> Now finally we simplify and get:\n\n<math>c \\equiv 7 \\mod 221</math>\n\nBut we know <math>c</math> is between <math>0</math> and <math>9</math> because it is a digit, so <math>c</math> must be <math>7.</math> Now it is straightforward from here to find <math>a</math> and <math>b</math>:\n\n<math>2210a+221b+11(7)=9801 \\iff 221(10a+b)=9724 \\iff 10a+b=44</math>\n\nand since a and b are both between <math>0</math> and <math>9</math>, we have <math>a=b=4</math>. Finally we have the <math>3</math> digit integer <math>\\boxed{447}</math>"
  },
  {
    "year": 2014,
    "variant": "II",
    "problem_number": 5,
    "latex": "<!-- don't remove the following tag, for PoTW on the Wiki front page--><onlyinclude>Real numbers <math>r</math> and <math>s</math> are roots of <math>p(x)=x^3+ax+b</math>, and <math>r+4</math> and <math>s-3</math> are roots of <math>q(x)=x^3+ax+b+240</math>. Find the sum of all possible values of <math>|b|</math>.<!-- don't remove the following tag, for PoTW on the Wiki front page--></onlyinclude>",
    "solution": "Because the coefficient of <math>x^2</math> in both <math>p(x)</math> and <math>q(x)</math> is 0, the remaining root of <math>p(x)</math> is <math>-(r+s)</math>, and the remaining root of <math>q(x)</math> is <math>-(r+s+1)</math>. The coefficients of <math>x</math> in <math>p(x)</math> and <math>q(x)</math> are both equal to <math>a</math>, and equating the two coefficients gives\n<cmath>rs-(r+s)^2 = (r+4)(s-3)-(r+s+1)^2 </cmath>from which <math>s = \\tfrac 12 (5r+13)</math>. Substitution should give <math>r = -5</math> and <math>r = 1</math>, corresponding to <math>s = -6</math> and <math>s = 9</math>, and <math>|b| = 330, 90</math>, for an answer of <math>\\boxed{420}</math>."
  },
  {
    "year": 2014,
    "variant": "II",
    "problem_number": 6,
    "latex": "Charles has two six-sided die. One of the die is fair, and the other die is biased so that it comes up six with probability <math>\\frac{2}{3}</math> and each of the other five sides has probability <math>\\frac{1}{15}</math>. Charles chooses one of the two dice at random and rolls it three times. Given that the first two rolls are both sixes, the probability that the third roll will also be a six is <math>\\frac{p}{q}</math>, where <math>p</math> and <math>q</math> are relatively prime positive integers. Find <math>p+q</math>.",
    "solution": "The probability that he rolls a six twice when using the fair die is <math>\\frac{1}{6}\\times \\frac{1}{6}=\\frac{1}{36}</math>.  The probability that he rolls a six twice using the biased die is <math>\\frac{2}{3}\\times \\frac{2}{3}=\\frac{4}{9}=\\frac{16}{36}</math>.  Given that Charles rolled two sixes, we can see that it is <math>16</math> times more likely that he chose the second die.  Therefore the probability that he is using the fair die is <math>\\frac{1}{17}</math>, and the probability that he is using the biased die is <math>\\frac{16}{17}</math>.  The probability of rolling a third six is\n\n<cmath>\\frac{1}{17}\\times \\frac{1}{6} + \\frac{16}{17} \\times \\frac{2}{3} = \\frac{1}{102}+\\frac{32}{51}=\\frac{65}{102}</cmath>\nTherefore, our desired <math>p+q</math> is <math>65+102= \\boxed{167}</math>"
  },
  {
    "year": 2014,
    "variant": "II",
    "problem_number": 7,
    "latex": "Let <math>f(x)=(x^2+3x+2)^{\\cos(\\pi x)}</math>. Find the sum of all positive integers <math>n</math> for which \n<cmath>\\left |\\sum_{k=1}^n\\log_{10}f(k)\\right|=1.</cmath>",
    "solution": "First, let's split it into two cases to get rid of the absolute value sign\n\n<math>\\left |\\sum_{k=1}^n\\log_{10}f(k)\\right|=1 \\iff \\sum_{k=1}^n\\log_{10}f(k)=1,-1 </math>\n\nNow we simplify using product-sum logarithmic identites:\n\n<math>\\log_{10}{f(1)}+\\log_{10}{f(2)}+...+\\log_{10}{f(n)}=\\log_{10}{f(1)\\cdot f(2) \\cdot ... \\cdot f(n)}=1,-1</math>\n\n\n\nNote that the exponent <math>\\cos{\\pi(x)}</math> is either <math>-1</math> if <math>x</math> is odd or <math>1</math> if <math>x</math> is even. \n\nWriting out the first terms we have \n\n<math>\\frac{1}{(2)(3)}(3)(4)\\frac{1}{(4)(5)} \\ldots</math>\n\nThis product clearly telescopes (i.e. most terms cancel) and equals either <math>10</math> or <math>\\frac{1}{10}</math>. But the resulting term after telescoping depends on parity (odd/evenness), so we split it two cases, one where <math>n</math> is odd and another where <math>n</math> is even. \n\n<math>\\textbf{Case 1: Odd n}</math>\n\nFor odd <math>n</math>, it telescopes to <math>\\frac{1}{2(n+2)}</math> where <math>n</math> is clearly <math>3</math>. \n\n<math>\\textbf{Case 2: Even n}</math>\n\nFor even <math>n</math>, it telescopes to <math>\\frac{n+2}{2}</math> where <math>18</math> is the only possible <math>n</math> value. Thus the answer is <math>\\boxed{021}</math>"
  },
  {
    "year": 2014,
    "variant": "II",
    "problem_number": 8,
    "latex": "Circle <math>C</math> with radius 2 has diameter <math>\\overline{AB}</math>. Circle D is internally tangent to circle <math>C</math> at <math>A</math>. Circle <math>E</math> is internally tangent to circle <math>C</math>, externally tangent to circle <math>D</math>, and tangent to <math>\\overline{AB}</math>. The radius of circle <math>D</math> is three times the radius of circle <math>E</math>, and can be written in the form <math>\\sqrt{m}-n</math>, where <math>m</math> and <math>n</math> are positive integers. Find <math>m+n</math>.",
    "solution": "<center>\n<asy>\nimport graph; size(7.99cm); \nreal labelscalefactor = 0.5; \npen dps = linewidth(0.7) + fontsize(10); defaultpen(dps);\npen dotstyle = black; \nreal xmin = 4.087153740193288, xmax = 11.08175859031552, ymin = -4.938019122704778, ymax = 1.194137062512079; \ndraw(circle((7.780000000000009,-1.320000000000002), 2.000000000000000)); \ndraw(circle((7.271934046987930,-1.319179731427737), 1.491933384829670)); \ndraw(circle((9.198812158392690,-0.8249788848962227), 0.4973111282761416)); \ndraw((5.780002606580324,-1.316771019595571)--(9.779997393419690,-1.323228980404432)); \ndraw((9.198812158392690,-0.8249788848962227)--(9.198009254448635,-1.322289365031666)); \ndraw((7.271934046987930,-1.319179731427737)--(9.198812158392690,-0.8249788848962227)); \ndraw((9.198812158392690,-0.8249788848962227)--(7.780000000000009,-1.320000000000002)); \ndot((7.780000000000009,-1.320000000000002),dotstyle); \nlabel(\"$C$\", (7.707377218471464,-1.576266740352400), NE * labelscalefactor); \ndot((7.271934046987930,-1.319179731427737),dotstyle); \nlabel(\"$D$\", (7.303064016111554,-1.276266740352400), NE * labelscalefactor); \ndot((9.198812158392690,-0.8249788848962227),dotstyle); \nlabel(\"$E$\", (9.225301294671791,-0.7792624249832147), NE * labelscalefactor); \ndot((9.198009254448635,-1.322289365031666),dotstyle); \nlabel(\"$F$\", (9.225301294671791,-1.276266740352400), NE * labelscalefactor); \ndot((9.779997393419690,-1.323228980404432),dotstyle); \nlabel(\"$B$\", (9.810012253929656,-1.276266740352400), NE * labelscalefactor); \ndot((5.780002606580324,-1.316771019595571),dotstyle); \nlabel(\"$A$\", (5.812051070003994,-1.276266740352400), NE * labelscalefactor); \nclip((xmin,ymin)--(xmin,ymax)--(xmax,ymax)--(xmax,ymin)--cycle);\n</asy>\n</center>\n\nUsing the diagram above, let the radius of <math>D</math> be <math>3r</math>, and the radius of <math>E</math> be <math>r</math>. Then, <math>EF=r</math>, and <math>CE=2-r</math>, so the Pythagorean theorem in <math>\\triangle CEF</math> gives <math>CF=\\sqrt{4-4r}</math>. Also, <math>CD=CA-AD=2-3r</math>, so <cmath>DF=DC+CF=2-3r+\\sqrt{4-4r}.</cmath> Noting that <math>DE=4r</math>, we can now use the Pythagorean theorem in <math>\\triangle DEF</math> to get \n<cmath>(2-3r+\\sqrt{4-4r})^2+r^2=16r^2.</cmath>\n\nSolving this quadratic is somewhat tedious, but the constant terms cancel, so the computation isn't terrible. Solving gives <math>3r=\\sqrt{240}-14</math> for a final answer of <math>\\boxed{254}</math>.\n\n*Notice that C, E and the point of tangency to circle C for circle E will be collinear because C and E intersect the tangent line at a right angle, implying they must be on the same line."
  },
  {
    "year": 2014,
    "variant": "II",
    "problem_number": 9,
    "latex": "Ten chairs are arranged in a circle. Find the number of subsets of this set of chairs that contain at least three adjacent chairs.",
    "solution": "We know that a subset with less than <math>3</math> chairs cannot contain <math>3</math> adjacent chairs.  There are only <math>10</math> sets of <math>3</math> chairs so that they are all <math>3</math> adjacent.  There are <math>10</math> subsets of <math>4</math> chairs where all <math>4</math> are adjacent, and <math>10 \\cdot 5</math> or <math>50</math> where there are only <math>3.</math>  If there are <math>5</math> chairs, <math>10</math> have all <math>5</math> adjacent, <math>10 \\cdot 4</math> or <math>40</math> have <math>4</math> adjacent, and <math>10 \\cdot {5\\choose 2}</math> or <math>100</math> have <math>3</math> adjacent.  With <math>6</math> chairs in the subset, <math>10</math> have all <math>6</math> adjacent, <math>10(3)</math> or <math>30</math> have <math>5</math> adjacent, <math>10 \\cdot {4\\choose2}</math> or <math>60</math> have <math>4</math> adjacent, <math>\\frac{10 \\cdot 3}{2}</math> or <math>15</math> have <math>2</math> groups of <math>3</math> adjacent chairs, and <math>10 \\cdot \\left({5\\choose2} - 3\\right)</math> or <math>70</math> have <math>1</math> group of <math>3</math> adjacent chairs.  All possible subsets with more than <math>6</math> chairs have at least <math>1</math> group of <math>3</math> adjacent chairs, so we add <math>{10\\choose7}</math> or <math>120</math>, <math>{10\\choose8}</math> or <math>45</math>, <math>{10\\choose9}</math> or <math>10</math>, and <math>{10\\choose10}</math> or <math>1.</math>  Adding, we get <math>10 + 10 + 50 + 10 + 40 + 100 + 10 + 30 + 60 + 15 + 70 + 120 + 45 + 10 + 1 = \\boxed{581}.</math>"
  },
  {
    "year": 2014,
    "variant": "II",
    "problem_number": 10,
    "latex": "Let <math>z</math> be a complex number with <math>|z|=2014</math>. Let <math>P</math> be the polygon in the complex plane whose vertices are <math>z</math> and every <math>w</math> such that <math>\\frac{1}{z+w}=\\frac{1}{z}+\\frac{1}{w}</math>. Then the area enclosed by <math>P</math> can be written in the form <math>n\\sqrt{3}</math>, where <math>n</math> is an integer. Find the remainder when <math>n</math> is divided by <math>1000</math>.",
    "solution": "Note that the given equality reduces to\n\n<cmath>\\frac{1}{w+z} = \\frac{w+z}{wz}</cmath>\n<cmath>wz = {(w+z)}^2</cmath>\n<cmath>w^2 + wz + z^2 = 0</cmath>\n<cmath>\\frac{w^3 - z^3}{w-z} = 0</cmath>\n<cmath>w^3 = z^3, w \\neq z</cmath>\n\nNow, let <math>w = r_w e^{i \\theta_w}</math> and likewise for <math>z</math>. Consider circle <math>O</math> with the origin as the center and radius 2014 on the complex plane. It is clear that <math>z</math> must be one of the points on this circle, as <math>|z| = 2014</math>. \n\nBy DeMoivre's Theorem, the complex modulus of <math>w</math> is cubed when <math>w</math> is cubed. Thus <math>w</math> must lie on <math>O</math>, since its the cube of its modulus, and thus its modulus, must be equal to <math>z</math>'s modulus.\n\nAgain, by DeMoivre's Theorem, <math>\\theta_w</math> is tripled when <math>w</math> is cubed and likewise for <math>z</math>. For <math>w</math>, <math>z</math>, and the origin to lie on the same line, <math>3 \\theta_w</math> must be some multiple of 360 degrees apart from <math>3 \\theta_z</math> , so <math>\\theta_w</math> must differ from <math>\\theta_z</math> by some multiple of 120 degrees.\n\nNow, without loss of generality, assume that <math>z</math> is on the real axis. (The circle can be rotated to put <math>z</math> in any other location.) Then there are precisely two possible distinct locations for <math>w</math>; one is obtained by going 120 degrees clockwise from <math>z</math> about the circle and the other by moving the same amount counter-clockwise. Moving along the circle with any other multiple of 120 degrees in any direction will result in these three points.\n\nLet the two possible locations for <math>w</math> be <math>W_1</math> and <math>W_2</math> and the location of <math>z</math> be point <math>Z</math>. Note that by symmetry, <math>W_1W_2Z</math> is equilateral, say, with side length <math>x</math>. We know that the circumradius of this equilateral triangle is <math>2014</math>, so using the formula <math>\\frac{abc}{4R} = [ABC]</math> and that the area of an equilateral triangle with side length <math>s</math> is <math>\\frac{s^2\\sqrt{3}}{4}</math>, so we have\n\n<cmath>\\frac{x^3}{4R} = \\frac{x^2\\sqrt{3}}{4}</cmath>\n<cmath>x = R \\sqrt{3}</cmath>\n<cmath>\\frac{x^2\\sqrt{3}}{4} = \\frac{3R^2 \\sqrt{3}}{4}</cmath>\n\nSince we're concerned with the non-radical part of this expression and <math>R = 2014</math>,\n\n<cmath>\\frac{3R^2}{4} \\equiv 3 \\cdot 1007^2 \\equiv 3 \\cdot 7^2 \\equiv \\boxed{147} \\pmod{1000}</cmath>\n\nand we are done. <math>\\blacksquare</math>"
  },
  {
    "year": 2014,
    "variant": "II",
    "problem_number": 11,
    "latex": "==Problem 11==\nIn <math>\\triangle RED</math>, <math>\\measuredangle DRE=75^{\\circ}</math> and <math>\\measuredangle RED=45^{\\circ}</math>. <math>RD=1</math>. Let <math>M</math> be the midpoint of segment <math>\\overline{RD}</math>. Point <math>C</math> lies on side <math>\\overline{ED}</math> such that <math>\\overline{RC}\\perp\\overline{EM}</math>. Extend segment <math>\\overline{DE}</math> through <math>E</math> to point <math>A</math> such that <math>CA=AR</math>. Then <math>AE=\\frac{a-\\sqrt{b}}{c}</math>, where <math>a</math> and <math>c</math> are relatively prime positive integers, and <math>b</math> is a positive integer. Find <math>a+b+c</math>.",
    "solution": "Let <math>P</math> be the foot of the perpendicular from <math>A</math> to <math>\\overline{CR}</math>, so <math>\\overline{AP}\\parallel\\overline{EM}</math>. Since triangle <math>ARC</math> is isosceles, <math>P</math> is the midpoint of <math>\\overline{CR}</math>, and <math>\\overline{PM}\\parallel\\overline{CD}</math>. Thus, <math>APME</math> is a parallelogram and <math>AE = PM = \\frac{CD}{2}</math>. We can then use coordinates. Let <math>O</math> be the foot of altitude <math>RO</math> and set <math>O</math> as the origin. Now we notice special right triangles! In particular, <math>DO = \\frac{1}{2}</math> and <math>EO = RO = \\frac{\\sqrt{3}}{2}</math>, so <math>D\\left(\\frac{1}{2}, 0\\right)</math>, <math>E\\left(-\\frac{\\sqrt{3}}{2}, 0\\right)</math>, and <math>R\\left(0, \\frac{\\sqrt{3}}{2}\\right).</math> <math>M =</math> midpoint<math>(D, R) = \\left(\\frac{1}{4}, \\frac{\\sqrt{3}}{4}\\right)</math> and the slope of <math>ME = \\frac{\\frac{\\sqrt{3}}{4}}{\\frac{1}{4} + \\frac{\\sqrt{3}}{2}} = \\frac{\\sqrt{3}}{1 + 2\\sqrt{3}}</math>, so the slope of <math>RC = -\\frac{1 + 2\\sqrt{3}}{\\sqrt{3}}.</math> Instead of finding the equation of the line, we use the definition of slope: for every <math>CO = x</math> to the left, we go <math>\\frac{x(1 + 2\\sqrt{3})}{\\sqrt{3}} = \\frac{\\sqrt{3}}{2}</math> up. Thus, <math>x = \\frac{\\frac{3}{2}}{1 + 2\\sqrt{3}} = \\frac{3}{4\\sqrt{3} + 2} = \\frac{3(4\\sqrt{3} - 2)}{44} = \\frac{6\\sqrt{3} - 3}{22}.</math> <math>DC = \\frac{1}{2} - x = \\frac{1}{2} - \\frac{6\\sqrt{3} - 3}{22} = \\frac{14 - 6\\sqrt{3}}{22}</math>, and <math>AE = \\frac{7 - \\sqrt{27}}{22}</math>, so the answer is <math>\\boxed{056}</math>.\n\n<asy>\nunitsize(8cm);\npair a, o, d, r, e, m, cm, c,p;\no =(0,0);\nd = (0.5, 0);\nr = (0,sqrt(3)/2);\ne = (-sqrt(3)/2,0);\n\nm = midpoint(d--r);\ndraw(e--m);\ncm = foot(r, e, m);\ndraw(L(r, cm,1, 1));\nc = IP(L(r, cm, 1, 1), e--d);\nclip(r--d--e--cycle);\ndraw(r--d--e--cycle);\ndraw(rightanglemark(e, cm, c, 1.5));\na = -(4sqrt(3)+9)/11+0.5;\ndot(a);\ndraw(a--r, dashed);\ndraw(a--c, dashed);\npair[] PPAP = {a, o, d, r, e, m, c};\nfor(int i = 0; i<7; ++i) {\n\tdot(PPAP[i]);\n}\nlabel(\"$A$\", a, W);\nlabel(\"$E$\", e, SW);\nlabel(\"$C$\", c, S);\nlabel(\"$O$\", o, S);\nlabel(\"$D$\", d, SE);\nlabel(\"$M$\", m, NE);\nlabel(\"$R$\", r, N);\np = foot(a, r, c);\nlabel(\"$P$\", p, NE);\ndraw(p--m, dashed);\ndraw(a--p, dashed);\ndot(p);\n</asy>"
  },
  {
    "year": 2014,
    "variant": "II",
    "problem_number": 12,
    "latex": "Suppose that the angles of <math>\\triangle ABC</math> satisfy <math>\\cos(3A)+\\cos(3B)+\\cos(3C)=1.</math> Two sides of the triangle have lengths 10 and 13. There is a positive integer <math>m</math> so that the maximum possible length for the remaining side of <math>\\triangle ABC</math> is <math>\\sqrt{m}.</math> Find <math>m.</math>",
    "solution": "Note that <math>\\cos{3C}=-\\cos{(3A+3B)}</math>. Thus, our expression is of the form <math>\\cos{3A}+\\cos{3B}-\\cos{(3A+3B)}=1</math>. Let <math>\\cos{3A}=x</math> and <math>\\cos{3B}=y</math>.\n\nUsing the fact that <math>\\cos(3A+3B)=\\cos 3A\\cos 3B-\\sin 3A\\sin 3B=xy-\\sqrt{1-x^2}\\sqrt{1-y^2}</math>, we get <math>x+y-xy+\\sqrt{1-x^2}\\sqrt{1-y^2}=1</math>, or <math>\\sqrt{1-x^2}\\sqrt{1-y^2}=xy-x-y+1=(x-1)(y-1)</math>. \n\nSquaring both sides, we get <math>(1-x^2)(1-y^2) = [(x-1)(y-1)]^2</math>. Cancelling factors, <math>(1+x)(1+y) = (1-x)(1-y)</math>.\n\n*Notice here that we cancelled out one factor of (x-1) and (y-1), which implies that (x-1) and (y-1) were not 0. If indeed they were 0 though, we would have \n\n<math>cos(3A)-1=0, cos(3A)=1</math> \n\nFor this we could say that A must be 120 degrees for this to work. This is one case. The B case follows in the same way, where B must be equal to 120 degrees. This doesn't change the overall solution though, as then the other angles are irrelevant (this is the largest angle, implying that this will have the longest side and so we would want to have the 120 degreee angle opposite of the unknown side).\n\nExpanding, <math>1+x+y+xy=1-x-y+xy\\rightarrow x+y=-x-y</math>. \n\nSimplification leads to <math>x+y=0</math>.\n\nTherefore, <math>\\cos(3C)=1</math>. So <math>\\angle C</math> could be <math>0^\\circ</math> or <math>120^\\circ</math>. We eliminate <math>0^\\circ</math> and use law of cosines to get our answer: \n\n<cmath>m=10^2+13^2-2\\cdot 10\\cdot 13\\cos\\angle C</cmath>\n<cmath>\\rightarrow m=269-260\\cos 120^\\circ=269-260\\left(\\text{-}\\frac{1}{2}\\right)</cmath>\n<cmath>\\rightarrow m=269+130=399</cmath>\n \n<math>\\framebox{399}</math>"
  },
  {
    "year": 2014,
    "variant": "II",
    "problem_number": 13,
    "latex": "Ten adults enter a room, remove their shoes, and toss their shoes into a pile. Later, a child randomly pairs each left shoe with a right shoe without regard to which shoes belong together. The probability that for every positive integer <math>k<5</math>, no collection of <math>k</math> pairs made by the child contains the shoes from exactly <math>k</math> of the adults is <math>\\frac{m}{n}</math>, where m and n are relatively prime positive integers. Find <math>m+n.</math>",
    "solution": "Label the left shoes be <math>L_1,\\dots, L_{10}</math> and the right shoes <math>R_1,\\dots, R_{10}</math>. Notice that there are <math>10!</math> possible pairings.\n\n\nLet a pairing be \"bad\" if it violates the stated condition. We would like a better condition to determine if a given pairing is bad.\n\n\nNote that, in order to have a bad pairing, there must exist a collection of <math>k<5</math> pairs that includes both the left and the right shoes of <math>k</math> adults; in other words, it is bad if it is possible to pick <math>k</math> pairs and properly redistribute all of its shoes to exactly <math>k</math> people.\n\n\nThus, if a left shoe is a part of a bad collection, its corresponding right shoe must also be in the bad collection (and vice versa). To search for bad collections, we can start at an arbitrary right shoe (say <math>R_1</math>), check the left shoe it is paired with (say <math>L_i</math>), and from the previous observation, we know that <math>R_i</math> must also be in the bad collection. Then we may check the left shoe paired with <math>R_i</math>, find its counterpart, check its left pair, find its counterpart, etc. until we have found <math>L_1</math>. We can imagine each right shoe \"sending\" us to another right shoe (via its paired left shoe) until we reach the starting right shoe, at which point we know that we have found a bad collection if we have done this less than <math>5</math> times. \n\n\nEffectively we have just traversed a ''cycle.'' (Note: This is the cycle notation of permutations.) The only condition for a bad pairing is that there is a cycle with length less than <math>5</math>; thus, we need to count pairings where every cycle has length at least <math>5</math>. This is only possible if there is a single cycle of length <math>10</math> or two cycles of length <math>5</math>. \n\n\nThe first case yields <math>9!</math> working pairings. The second case yields <math>\\frac{{10\\choose 5}}{2}\\cdot{4!}^2=\\frac{10!}{2 \\cdot {5!}^2} \\cdot {4!}^2</math> pairings. Therefore, taking these cases out of a total of <math>10!</math>, the probability is <math>\\frac{1}{10}+\\frac{1}{50} = \\frac{3}{25}</math>, for an answer of <math>\\boxed{028}</math>."
  },
  {
    "year": 2014,
    "variant": "II",
    "problem_number": 14,
    "latex": "In <math>\\triangle{ABC}, AB=10, \\angle{A}=30^\\circ</math> , and <math>\\angle{C=45^\\circ}</math>. Let <math>H, D,</math> and <math>M</math> be points on the line <math>BC</math> such that <math>AH\\perp{BC}</math>, <math>\\angle{BAD}=\\angle{CAD}</math>, and <math>BM=CM</math>. Point <math>N</math> is the midpoint of the segment <math>HM</math>, and point <math>P</math> is on ray <math>AD</math> such that <math>PN\\perp{BC}</math>. Then <math>AP^2=\\dfrac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "==Diagram==\n<asy>\nunitsize(20);\npair A = MP(\"A\",(-5sqrt(3),0)), B = MP(\"B\",(0,5),N), C = MP(\"C\",(5,0)), M = D(MP(\"M\",0.5(B+C),NE)), D = MP(\"D\",IP(L(A,incenter(A,B,C),0,2),B--C),N), H = MP(\"H\",foot(A,B,C),N), N = MP(\"N\",0.5(H+M),NE), P = MP(\"P\",IP(A--D,L(N,N-(1,1),0,10)));\nD(A--B--C--cycle);\nD(B--H--A,blue+dashed);\nD(A--D);\nD(P--N);\nmarkscalefactor = 0.05;\nD(rightanglemark(A,H,B));\nD(rightanglemark(P,N,D));\nMP(\"10\",0.5(A+B)-(-0.1,0.1),NW);\n</asy>"
  },
  {
    "year": 2014,
    "variant": "II",
    "problem_number": 15,
    "latex": "For any integer <math>k\\geq 1</math>, let <math>p(k)</math> be the smallest prime which does not divide <math>k.</math> Define the integer function <math>X(k)</math> to be the product of all primes less than <math>p(k)</math> if <math>p(k)>2</math>, and <math>X(k)=1</math> if <math>p(k)=2.</math> Let <math>\\{x_n\\}</math> be the sequence defined by <math>x_0=1</math>, and <math>x_{n+1}X(x_n)=x_np(x_n)</math> for <math>n\\geq 0.</math> Find the smallest positive integer <math>t</math> such that <math>x_t=2090.</math>",
    "solution": "Note that for any <math>x_i</math>, for any prime <math>p</math>, <math>p^2 \\nmid x_i</math>.  This provides motivation to translate <math>x_i</math> into a binary sequence <math>y_i</math>. \n\nLet the prime factorization of <math>x_i</math> be written as <math>p_{a_1} \\cdot p_{a_2} \\cdot p_{a_3} \\cdots</math>, where <math>p_i</math> is the <math>i</math>th prime number. Then, for every <math>p_{a_k}</math> in the prime factorization of <math>x_i</math>, place a <math>1</math> in the <math>a_k</math>th digit of <math>y_i</math>. This will result in the conversion <math>x_1 = 2, x_{2} = 3, x_{3} = 2 * 3 = 6, \\cdots</math>.\n\nMultiplication for the sequence <math>x_i</math> will translate to addition for the sequence <math>y_i</math>. Thus, we see that <math>x_{n+1}X(x_n) = x_np(x_n)</math> translates into <math>y_{n+1} = y_n+1</math>. Since <math>x_0=1</math>, and <math>y_0=0</math>, <math>x_i</math> corresponds to <math>y_i</math>, which is <math>i</math> in binary. Since <math>x_{10010101_2} = 2 \\cdot 5 \\cdot 11 \\cdot 19 = 2090</math>, <math>t = 10010101_2</math> = <math>\\boxed{149}</math>."
  },
  {
    "year": 2015,
    "variant": "I",
    "problem_number": 1,
    "latex": "The expressions <math>A</math> = <math> 1 \\times 2 + 3 \\times 4 + 5 \\times 6 + \\cdots + 37 \\times 38 + 39 </math> and <math>B</math> = <math> 1 + 2 \\times 3 + 4 \\times 5 + \\cdots + 36 \\times 37 + 38 \\times 39 </math> are obtained by writing multiplication and addition operators in an alternating pattern between successive integers.  Find the positive difference between integers <math>A</math> and <math>B</math>.",
    "solution": "==Video Solution For Problems 1-3==\nhttps://www.youtube.com/watch?v=5HAk-6qlOH0"
  },
  {
    "year": 2015,
    "variant": "I",
    "problem_number": 2,
    "latex": "The nine delegates to the Economic Cooperation Conference include <math>2</math> officials from Mexico, <math>3</math> officials from Canada, and <math>4</math> officials from the United States. During the opening session, three of the delegates fall asleep. Assuming that the three sleepers were determined randomly, the probability that exactly two of the sleepers are from the same country is <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "==Video Solution For Problems 1-3==\nhttps://www.youtube.com/watch?v=5HAk-6qlOH0"
  },
  {
    "year": 2015,
    "variant": "I",
    "problem_number": 3,
    "latex": "There is a prime number <math>p</math> such that <math>16p+1</math> is the cube of a positive integer.  Find <math>p</math>.",
    "solution": "==Video Solution For Problems 1-3==\nhttps://www.youtube.com/watch?v=5HAk-6qlOH0"
  },
  {
    "year": 2015,
    "variant": "I",
    "problem_number": 4,
    "latex": "Point <math>B</math> lies on line segment <math>\\overline{AC}</math> with <math>AB=16</math> and <math>BC=4</math>. Points <math>D</math> and <math>E</math> lie on the same side of line <math>AC</math> forming equilateral triangles <math>\\triangle ABD</math> and <math>\\triangle BCE</math>. Let <math>M</math> be the midpoint of <math>\\overline{AE}</math>, and <math>N</math> be the midpoint of <math>\\overline{CD}</math>. The area of <math>\\triangle BMN</math> is <math>x</math>. Find <math>x^2</math>.",
    "solution": "==Diagram==\n<asy>\npair A = (0, 0), B = (16, 0), C = (20, 0), D = (8, 8*sqrt(3)), EE = (18, 2*sqrt(3)), M = (9, sqrt(3)), NN = (14, 4*sqrt(3));\ndraw(A--B--D--cycle);\ndraw(B--C--EE--cycle);\ndraw(A--EE);\ndraw(C--D);\ndraw(B--M--NN--cycle);\ndot(A);\ndot(B);\ndot(C);\ndot(D);\ndot(EE);\ndot(M);\ndot(NN);\nlabel(\"A\", A, SW);\nlabel(\"B\", B, S);\nlabel(\"C\", C, SE);\nlabel(\"D\", D, N);\nlabel(\"E\", EE, N);\nlabel(\"M\", M, NW);\nlabel(\"N\", NN, NE);\n</asy>\n\nDiagram by [[User:RedFireTruck|<font color=\"#FF0000\">RedFireTruck</font>]] ([[User talk:RedFireTruck|<font color=\"#FFFFFF\">talk</font>]])"
  },
  {
    "year": 2015,
    "variant": "I",
    "problem_number": 5,
    "latex": "In a drawer Sandy has <math>5</math> pairs of socks, each pair a different color.  On Monday Sandy selects two individual socks at random from the <math>10</math> socks in the drawer.  On Tuesday Sandy selects <math>2</math> of the remaining <math>8</math> socks at random and on Wednesday two of the remaining <math>6</math> socks at random.  The probability that Wednesday is the first day Sandy selects matching socks is <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers,  Find <math>m+n</math>.",
    "solution": "The order of the days doesn't matter, therefore we can solve backwards. \n\nLet the fifth sock be arbitrary; the probability that the sixth sock matches in color is <math>\\dfrac{1}{9}</math>. \n\nAssuming this, then let the first sock be arbitrary; the probability that the second sock does not match is <math>\\dfrac{6}{7}.</math>\n\nThe only \"hard\" part is the third and fourth sock. But that is simple casework. If the third sock's color matches the color of one of the first two socks (which occurs with probability <math>\\dfrac{2}{6} = \\dfrac{1}{3}</math>), then the fourth sock can be arbitrary. Otherwise (with probability <math>\\dfrac{2}{3}</math>), the fourth sock can be chosen with probability <math>\\dfrac{4}{5}</math> (5 socks left, 1 sock that can possibly match the third sock's color). The desired probability is thus\n<cmath>\\frac{1}{9} \\cdot \\frac{6}{7} \\cdot \\left(\\dfrac{1}{3} + \\dfrac{2}{3} \\cdot \\dfrac{4}{5}\\right) = \\frac{26}{315}.</cmath>\nThe sum is therefore <math>26+315=\\boxed{341}.</math>"
  },
  {
    "year": 2015,
    "variant": "I",
    "problem_number": 6,
    "latex": "Point <math>A,B,C,D,</math> and <math>E</math> are equally spaced on a minor arc of a circle. Points <math>E,F,G,H,I</math> and <math>A</math> are equally spaced on a minor arc of a second circle with center <math>C</math> as shown in the figure below. The angle <math>\\angle ABD</math> exceeds <math>\\angle AHG</math> by <math>12^\\circ</math>. Find the degree measure of <math>\\angle BAG</math>.\n\n<asy>\npair A,B,C,D,E,F,G,H,I,O;\nO=(0,0);\nC=dir(90);\nB=dir(70);\nA=dir(50);\nD=dir(110);\nE=dir(130);\ndraw(arc(O,1,50,130));\nreal x=2*sin(20*pi/180);\nF=x*dir(228)+C;\nG=x*dir(256)+C;\nH=x*dir(284)+C;\nI=x*dir(312)+C;\ndraw(arc(C,x,200,340));\nlabel(\"$A$\",A,dir(0));\nlabel(\"$B$\",B,dir(75));\nlabel(\"$C$\",C,dir(90));\nlabel(\"$D$\",D,dir(105));\nlabel(\"$E$\",E,dir(180));\nlabel(\"$F$\",F,dir(225));\nlabel(\"$G$\",G,dir(260));\nlabel(\"$H$\",H,dir(280));\nlabel(\"$I$\",I,dir(315));\n</asy>",
    "solution": "Let <math>O</math> be the center of the circle with <math>ABCDE</math> on it. \n\nLet <math>x</math> be the degree measurement of <math>\\overarc{ED}=\\overarc{DC}=\\overarc{CB}=\\overarc{BA}</math> in circle <math>O</math> \n\nand <math>y</math> be the degree measurement of <math>\\overarc{EF}=\\overarc{FG}=\\overarc{GH}=\\overarc{HI}=\\overarc{IA}</math> in circle <math>C</math>.\n\n<math>\\angle ECA</math> is, therefore, <math>5y</math> by way of circle <math>C</math> and <cmath>\\frac{360-4x}{2}=180-2x</cmath> by way of circle <math>O</math>.\n<math>\\angle ABD</math> is <math>180 - \\frac{3x}{2}</math> by way of circle <math>O</math>, and <cmath>\\angle AHG = 180 - \\frac{3y}{2}</cmath> by way of circle <math>C</math>.\n\nThis means that:\n\n<cmath>180-\\frac{3x}{2}=180-\\frac{3y}{2}+12</cmath>\n\nwhich when simplified yields <cmath>\\frac{3x}{2}+12=\\frac{3y}{2}</cmath> or <cmath>x+8=y</cmath>\nSince:\n<cmath>\\angle ACE=5y=180-2x</cmath> and <cmath>5x+40=180-2x</cmath>\nSo:\n<cmath>7x=140\\Longleftrightarrow x=20</cmath> \n<cmath>y=28</cmath>\n<math>\\angle BAG</math> is equal to <math>\\angle BAE</math> + <math>\\angle EAG</math>, which equates to <math>\\frac{3x}{2} + y</math>.\nPlugging in yields <math>30+28</math>, or <math>\\boxed{058}</math>."
  },
  {
    "year": 2015,
    "variant": "I",
    "problem_number": 7,
    "latex": "In the diagram below, <math>ABCD</math> is a square. Point <math>E</math> is the midpoint of <math>\\overline{AD}</math>. Points <math>F</math> and <math>G</math> lie on <math>\\overline{CE}</math>, and <math>H</math> and <math>J</math> lie on <math>\\overline{AB}</math> and <math>\\overline{BC}</math>, respectively, so that <math>FGHJ</math> is a square. Points <math>K</math> and <math>L</math> lie on <math>\\overline{GH}</math>, and <math>M</math> and <math>N</math> lie on <math>\\overline{AD}</math> and <math>\\overline{AB}</math>, respectively, so that <math>KLMN</math> is a square. The area of <math>KLMN</math> is 99. Find the area of <math>FGHJ</math>.\n\n<asy>\npair A,B,C,D,E,F,G,H,J,K,L,M,N;\nB=(0,0);\nreal m=7*sqrt(55)/5;\nJ=(m,0);\nC=(7*m/2,0);\nA=(0,7*m/2);\nD=(7*m/2,7*m/2);\nE=(A+D)/2;\nH=(0,2m);\nN=(0,2m+3*sqrt(55)/2);\nG=foot(H,E,C);\nF=foot(J,E,C);\ndraw(A--B--C--D--cycle);\ndraw(C--E);\ndraw(G--H--J--F);\npair X=foot(N,E,C);\nM=extension(N,X,A,D);\nK=foot(N,H,G);\nL=foot(M,H,G);\ndraw(K--N--M--L);\nlabel(\"$A$\",A,NW);\nlabel(\"$B$\",B,SW);\nlabel(\"$C$\",C,SE);\nlabel(\"$D$\",D,NE);\nlabel(\"$E$\",E,dir(90));\nlabel(\"$F$\",F,NE);\nlabel(\"$G$\",G,NE);\nlabel(\"$H$\",H,W);\nlabel(\"$J$\",J,S);\nlabel(\"$K$\",K,SE);\nlabel(\"$L$\",L,SE);\nlabel(\"$M$\",M,dir(90));\nlabel(\"$N$\",N,dir(180)); </asy>",
    "solution": "Let us find the proportion of the side length of <math>KLMN</math> and <math>FJGH</math>. Let the side length of <math>KLMN=y</math> and the side length of <math>FJGH=x</math>.\n\n<asy>\npair A,B,C,D,E,F,G,H,J,K,L,M,N,P;\nB=(0,0);\nreal m=7*sqrt(55)/5;\nJ=(m,0);\nC=(7*m/2,0);\nA=(0,7*m/2);\nD=(7*m/2,7*m/2);\nE=(A+D)/2;\nH=(0,2m);\nN=(0,2m+3*sqrt(55)/2);\nG=foot(H,E,C);\nF=foot(J,E,C);\ndraw(A--B--C--D--cycle);\ndraw(C--E);\ndraw(G--H--J--F);\npair X=foot(N,E,C);\nM=extension(N,X,A,D);\nK=foot(N,H,G);\nL=foot(M,H,G);\ndraw(K--N--M--L);\nlabel(\"$A$\",A,NW);\nlabel(\"$B$\",B,SW);\nlabel(\"$C$\",C,SE);\nlabel(\"$D$\",D,NE);\nlabel(\"$E$\",E,dir(90));\nlabel(\"$F$\",F,NE);\nlabel(\"$G$\",G,NE);\nlabel(\"$H$\",H,W);\nlabel(\"$J$\",J,S);\nlabel(\"$K$\",K,SE);\nlabel(\"$L$\",L,SE);\nlabel(\"$M$\",M,dir(90));\nlabel(\"$N$\",N,dir(180)); </asy>\n\n\nNow, examine <math>BC</math>. We know <math>BC=BJ+JC</math>, and triangles <math>\\Delta BHJ</math> and <math>\\Delta JFC</math> are similar to <math>\\Delta EDC</math> since they are <math>1-2-\\sqrt{5}</math> triangles. Thus, we can rewrite <math>BC</math> in terms of the side length of <math>FJGH</math>. \n<cmath>BJ=\\frac{1}{\\sqrt{5}}HJ=\\frac{x}{\\sqrt{5}}=\\frac{x\\sqrt{5}}{5}, JC=\\frac{\\sqrt{5}}{2}JF=\\frac{x\\sqrt{5}}{2}\\Rightarrow BC=\\frac{7x\\sqrt{5}}{10}</cmath>\n\nNow examine <math>AB</math>. We can express this length in terms of <math>x,y</math> since <math>AB=AN+NH+HB</math>. By using similar triangles as in the first part, we have \n<cmath>AB=\\frac{1}{\\sqrt{5}}y+\\frac{\\sqrt{5}}{2}y+\\frac{2}{\\sqrt{5}}x</cmath>\n<cmath>AB=BC\\Rightarrow \\frac{7y\\sqrt{5}}{10}+\\frac{2x\\sqrt{5}}{5}=\\frac{7x\\sqrt{5}}{10}\\Rightarrow \\frac{7y\\sqrt{5}}{10}=\\frac{3x\\sqrt{5}}{10}\\Rightarrow 7y=3x</cmath>\n\nNow, it is trivial to see that <math>[FJGH]=\\left(\\frac{x}{y}\\right)^2[KLMN]=\\left(\\frac{7}{3}\\right)^2\\cdot 99=\\boxed{539}.</math>"
  },
  {
    "year": 2015,
    "variant": "I",
    "problem_number": 8,
    "latex": "For positive integer <math>n</math>, let <math>s(n)</math> denote the sum of the digits of <math>n</math>.  Find the smallest positive integer satisfying <math>s(n) = s(n+864) = 20</math>.",
    "solution": "You know whatever <math>n</math> is, it has to have 3 digits, because if it had only two, the maximum of <math>s(n)</math> is 18 and because in AIME all answers are up to three digits. \n\nNow let <math>n=100a_2+10a_1+a_0</math>\n\nSo first we know, <math>a_2+a_1+a_0=20</math>. Okay now we have to split into cases based on which digit gets carried. This meaning, when you add a 3 digit number to 864, we have to know when to carry the digits. Note that if you don't understand any of the steps I take, just try adding any 3-digit number to 864 regularly (using the old-fashioned \"put one number over the other\" method, not mental calculation), and observe what you do at each step.\n\n(1)<math>\\textcolor{red}{*}</math> None of the digits get carried over to the next space:\nSo this means <math>a_2<2, a_1<4</math> and <math>a_0<6</math>. So \n\n<math>s(864+n)=(8+a_2)+(6+a_1)+(4+a_0)=38</math>\nSo it doesn't work. Now:\n\n(2) <math>a_2+8</math> is the only one that carries over\nSo this means <math>a_2>1, a_1<4</math> and <math>a_0<6</math>. So\n\n<math>s(864+n)=1+(8+a_2-10)+(6+a_1)+(a_0+4)=29</math> \n\n(3)<math>\\textcolor{red}{*}</math> <math>a_0+4</math> is the only one that carries over.\nSo\n\n<math>s(864+n)=(8+a_2)+(6+a_1+1)+(4+a_0-10)=29</math>\n\n(4)The first and second digit carry over (but not the third)\n\n<math>s(864+n)=1+(8+a_2-10+1)+(6+a_1-10)+(4+a_0)=20</math>\n\nAha! This case works but we still have to make sure it's possible for <math>a_2+a_1+a_0=20</math> (We assumed this is true, so we have to find a number that works.) Since only the second and first digit carry over, <math>a_2>0, a_1>3</math> and <math>a_0<6</math>. The smallest value we can get with this is 695. Let's see if we can find a smaller one:\n\n(5)The first and third digit carry over (but not the second)\n\n<math>s(864+n)=1+(8+a_2-10)+(7+a_1)+(4+a_0-10)=20</math>\n\nThe largest value for the middle digit is 2, so the other digits have to be both 9's. So the smallest possible value is 929\n\n(6) All the digits carry over\n\n<math>s(864+n)=1+(9+a_2-10)+(7+a_1-10)+(4+a_0-10)=\\text{Way less than 20}</math>\n\n\nSo the answer is <math>\\boxed{695}</math> which after a quick test, does indeed work.\n\nNote: This problem is VERY easy to bash out. I did this when I mocked this test, it gave me the answer in 5 min. Basically you just bash out all of the three digit numbers whose digit sum is 20 and you'll find (quickly) that the answer is <math>\\boxed{695}</math>\n\n<math>\\textcolor{red}{*}</math> Note to author: Since we have <math>a_2+a_1+a_0=20</math>, this implies that <math>a_2</math> must be at least <math>2</math> (since <math>a_1+a_0 \\le 18</math>), and therefore the first digit must ALWAYS carry. This is presumably the reason where the case where the second and third digits were carried but not the first was omitted, but for this reason cases (1) and (3) are also unnecessary."
  },
  {
    "year": 2015,
    "variant": "I",
    "problem_number": 9,
    "latex": "Let <math>S</math> be the set of all ordered triple of integers <math>(a_1,a_2,a_3)</math> with <math>1 \\le a_1,a_2,a_3 \\le 10</math>. Each ordered triple in <math>S</math> generates a sequence according to the rule <math>a_n=a_{n-1}\\cdot | a_{n-2}-a_{n-3} |</math> for all <math>n\\ge 4</math>. Find the number of such sequences for which <math>a_n=0</math> for some <math>n</math>.",
    "solution": "Let <math>a_1=x, a_2=y, a_3=z</math>. First note that if any absolute value equals 0, then <math>a_n=0</math>.\nAlso note that if at any position, <math>a_n=a_{n-1}</math>, then <math>a_{n+2}=0</math>.\nThen, if any absolute value equals 1, then <math>a_n=0</math>.\nTherefore, if either <math>|y-x|</math> or <math>|z-y|</math> is less than or equal to 1, then that ordered triple meets the criteria.\nAssume that to be the only way the criteria is met.\nTo prove, let <math>|y-x|>1</math>, and <math>|z-y|>1</math>. Then, <math>a_4 \\ge 2z</math>, <math>a_5 \\ge 4z</math>, and <math>a_6 \\ge 4z</math>.\nHowever, since the minimum values of <math>a_5</math> and <math>a_6</math> are equal, there must be a scenario where the criteria was met that does not meet our earlier scenarios. Calculation shows that to be <math>z=1</math>, <math>|y-x|=2</math>. Again assume that any other scenario will not meet criteria.\nTo prove, divide the other scenarios into two cases: <math>z>1</math>, <math>|y-x|>1</math>, and <math>|z-y|>1</math>; and <math>z=1</math>, <math>|y-x|>2</math>, and <math>|z-y|>1</math>.\nFor the first one, <math>a_4 \\ge 2z</math>, <math>a_5 \\ge 4z</math>, <math>a_6 \\ge 8z</math>, and <math>a_7 \\ge 16z</math>, by which point we see that this function diverges.\nFor the second one, <math>a_4 \\ge 3</math>, <math>a_5 \\ge 6</math>, <math>a_6 \\ge 18</math>, and <math>a_7 \\ge 54</math>, by which point we see that this function diverges.\n\n\nTherefore, the only scenarios where <math>a_n=0</math> is when any of the following are met:\n<math>|y-x|<2</math> (280 options)\n<math>|z-y|<2</math> (280 options, 80 of which coincide with option 1)\n<math>z=1</math>, <math>|y-x|=2</math>. (16 options, 2 of which coincide with either option 1 or option 2)\nAdding the total number of such ordered triples yields <math>280+280-80+16-2=\\boxed{494}</math>.\n\n*Note to author: \n\nBecause <math>a_4 \\ge 2z</math>, <math>a_5 \\ge 4z</math>, <math>a_6 \\ge 8z</math>, and <math>a_7 \\ge 16z</math> doesn't mean the function diverges. What if <math>z = 7</math>, <math>a_4 = 60</math>, and <math>a_5 = 30</math> too?\n\n*Note to the Note to author:\n\nThis isn't possible because the difference between is either 0, 1, or some number greater than 1. If <math>a_4 = 63\\text{, then }a_5</math> is either 0, 63, or some number greater than 63 (since it must be a multiple of <math>z</math>)."
  },
  {
    "year": 2015,
    "variant": "I",
    "problem_number": 10,
    "latex": "Let <math>f(x)</math> be a third-degree polynomial with real coefficients satisfying\n<cmath>|f(1)|=|f(2)|=|f(3)|=|f(5)|=|f(6)|=|f(7)|=12.</cmath> Find <math>|f(0)|</math>.",
    "solution": "Let <math>f(x)</math> = <math>ax^3+bx^2+cx+d</math>.\nSince <math>f(x)</math> is a third degree polynomial, it can have at most two bends in it where it goes from up to down, or from down to up.\nBy drawing a coordinate axis, and two lines representing <math>12</math> and <math>-12</math>, it is easy to see that <math>f(1)=f(5)=f(6)</math>, and <math>f(2)=f(3)=f(7)</math>; otherwise more bends would be required in the graph. Since only the absolute value of <math>f(0)</math> is required, there is no loss of generalization by stating that <math>f(1)=12</math>, and <math>f(2)=-12</math>. This provides the following system of equations.\n<cmath> a +     b +   c +   d =  12</cmath>\n<cmath>8a +   4b + 2c +   d = -12</cmath>\n<cmath> 27a +   9b + 3c +   d = -12</cmath>\n<cmath>125a + 25b + 5c +   d =  12</cmath>\n<cmath>216a + 36b + 6c +   d =  12</cmath>\n<cmath>343a + 49b + 7c +   d = -12</cmath>\nUsing any four of these functions as a system of equations yields <math>d = |f(0)| = \\boxed{072}</math>"
  },
  {
    "year": 2015,
    "variant": "I",
    "problem_number": 11,
    "latex": "Triangle <math>ABC</math> has positive integer side lengths with <math>AB=AC</math>. Let <math>I</math> be the intersection of the bisectors of <math>\\angle B</math> and <math>\\angle C</math>. Suppose <math>BI=8</math>. Find the smallest possible perimeter of <math>\\triangle ABC</math>.",
    "solution": "Let <math>D</math> be the midpoint of <math>\\overline{BC}</math>. Then by SAS Congruence, <math>\\triangle ABD \\cong \\triangle ACD</math>, so <math>\\angle ADB = \\angle ADC = 90^o</math>.\n\nNow let <math>BD=y</math>, <math>AB=x</math>, and <math>\\angle IBD = \\dfrac{\\angle ABD}{2} = \\theta</math>.\n\nThen <math>\\mathrm{cos}{(\\theta)} = \\dfrac{y}{8}</math>\n\nand <math>\\mathrm{cos}{(2\\theta)} = \\dfrac{y}{x} = 2\\mathrm{cos^2}{(\\theta)} - 1 = \\dfrac{y^2-32}{32}</math>.\n\nCross-multiplying yields <math>32y = x(y^2-32)</math>.\n\nSince <math>x,y>0</math>, <math>y^2-32</math> must be positive, so <math>y > 5.5</math>.\n\nAdditionally, since <math>\\triangle IBD</math> has hypotenuse <math>\\overline{IB}</math> of length <math>8</math>, <math>BD=y < 8</math>.\n\nTherefore, given that <math>BC=2y</math> is an integer, the only possible values for <math>y</math> are <math>6</math>, <math>6.5</math>, <math>7</math>, and <math>7.5</math>.\n\nHowever, only one of these values, <math>y=6</math>, yields an integral value for <math>AB=x</math>, so we conclude that <math>y=6</math> and <math>x=\\dfrac{32(6)}{(6)^2-32}=48</math>.\n\nThus the perimeter of <math>\\triangle ABC</math> must be <math>2(x+y) = \\boxed{108}</math>."
  },
  {
    "year": 2015,
    "variant": "I",
    "problem_number": 12,
    "latex": "Consider all 1000-element subsets of the set <math>\\{1, 2, 3, ... , 2015\\}</math>.  From each such subset choose the least element.  The arithmetic mean of all of these least elements is <math> \\frac{p}{q} </math>, where <math>p</math> and <math>q</math> are relatively prime positive integers.  Find <math>p + q</math>.",
    "solution": "==Hint==\nUse the Hockey Stick Identity in the form\n\n<cmath>\\binom{a}{a} + \\binom{a+1}{a} + \\binom{a+2}{a} + \\dots + \\binom{b}{a} = \\binom{b+1}{a+1}.</cmath>\n\n(This is best proven by a combinatorial argument that coincidentally pertains to the problem: count two ways the number of subsets of the first <math>(b + 1)</math> numbers with <math>(a + 1)</math> elements whose least element is <math>i</math>, for <math>1 \\le i \\le b - a + 1</math>.)\n\n===Solution 1===\nLet <math>M</math> be the desired mean. Then because <math>\\dbinom{2015}{1000}</math> subsets have 1000 elements and <math>\\dbinom{2015 - i}{999}</math> have <math>i</math> as their least element,\n<cmath>\n\\begin{align*}\n\\binom{2015}{1000} M &= 1 \\cdot \\binom{2014}{999} + 2 \\cdot \\binom{2013}{999} + \\dots + 1016 \\cdot \\binom{999}{999} \\\\\n     &= \\binom{2014}{999} + \\binom{2013}{999} + \\dots + \\binom{999}{999} \\\\\n     &                      + \\binom{2013}{999} + \\binom{2012}{999} + \\dots + \\binom{999}{999} \\\\\n     & \\dots \\\\\n     & + \\binom{999}{999} \\\\\n     &= \\binom{2015}{1000} + \\binom{2014}{1000} + \\dots + \\binom{1000}{1000} \\\\\n     &= \\binom{2016}{1001}.\n\\end{align*}\n</cmath>\nUsing the definition of binomial coefficient and the identity <math>n! = n \\cdot (n-1)!</math>, we deduce that\n<cmath>M = \\frac{2016}{1001} = \\frac{288}{143}.</cmath>\nThe answer is <math>\\boxed{431}.</math>"
  },
  {
    "year": 2015,
    "variant": "I",
    "problem_number": 13,
    "latex": "With all angles measured in degrees, the product <math>\\prod_{k=1}^{45} \\csc^2(2k-1)^\\circ=m^n</math>, where <math>m</math> and <math>n</math> are integers greater than 1. Find <math>m+n</math>.",
    "solution": "Let <math>x = \\cos 1^\\circ + i \\sin 1^\\circ</math>. Then from the identity\n<cmath>\\sin 1 = \\frac{x - \\frac{1}{x}}{2i} = \\frac{x^2 - 1}{2 i x},</cmath>\nwe deduce that (taking absolute values and noticing <math>|x| = 1</math>)\n<cmath>|2\\sin 1| = |x^2 - 1|.</cmath>\nBut because <math>\\csc</math> is the reciprocal of <math>\\sin</math> and because <math>\\sin z = \\sin (180^\\circ - z)</math>, if we let our product be <math>M</math> then\n<cmath>\\frac{1}{M} = \\sin 1^\\circ \\sin 3^\\circ \\sin 5^\\circ \\dots \\sin 177^\\circ \\sin 179^\\circ</cmath>\n<cmath> = \\frac{1}{2^{90}} |x^2 - 1| |x^6 - 1| |x^{10} - 1| \\dots |x^{354} - 1| |x^{358} - 1|</cmath>\nbecause <math>\\sin</math> is positive in the first and second quadrants. Now, notice that <math>x^2, x^6, x^{10}, \\dots, x^{358}</math> are the roots of <math>z^{90} + 1 = 0.</math> Hence, we can write <math>(z - x^2)(z - x^6)\\dots (z - x^{358}) = z^{90} + 1</math>, and so\n<cmath>\\frac{1}{M} = \\dfrac{1}{2^{90}}|1 - x^2| |1 - x^6| \\dots |1 - x^{358}| = \\dfrac{1}{2^{90}} |1^{90} + 1| = \\dfrac{1}{2^{89}}.</cmath>\nIt is easy to see that <math>M = 2^{89}</math> and that our answer is <math>2 + 89 = \\boxed{91}</math>."
  },
  {
    "year": 2015,
    "variant": "I",
    "problem_number": 14,
    "latex": "For each integer <math>n \\ge 2</math>, let <math>A(n)</math> be the area of the region in the coordinate plane defined by the inequalities <math>1\\le x \\le n</math> and <math>0\\le y \\le x \\left\\lfloor \\sqrt x \\right\\rfloor</math>, where <math>\\left\\lfloor \\sqrt x \\right\\rfloor</math> is the greatest integer not exceeding <math>\\sqrt x</math>. Find the number of values of <math>n</math> with <math>2\\le n \\le 1000</math> for which <math>A(n)</math> is an integer.",
    "solution": "Let <math>n\\ge 2</math> and define <math>a(n) = \\left\\lfloor \\sqrt n \\right\\rfloor</math>. For <math>2\\le n \\le 1000</math>, we have <math>1\\le a(n)\\le 31</math>. \n\nFor <math>a^2 \\le x < (a+1)^2</math> we have <math>y=ax</math>. Thus <math>A(n+1)-A(n)=a(n+\\tfrac 12) = \\Delta_n</math> (say), and <math>\\Delta_n</math> is an integer if <math>a</math> is even; otherwise <math>\\Delta_n</math> is an integer plus <math>\\tfrac 12</math>.\n\nIf <math>a=1</math>, <math>n\\in \\{1,2,3\\}</math> and <math>\\Delta_n</math> is of the form <math>k(n)+\\tfrac 12</math> so <math>A(n)</math> is an integer when <math>n</math> is even. \n\nIf <math>a=2</math>, <math>n\\in\\{4,\\ldots , 8\\}</math> and <math>\\Delta_n</math> is an integer for all <math>n</math>. Since <math>A(3)</math> is not an integer, so <math>A(n)</math> is not an integer for any <math>n</math>. \n\nIf <math>a=3</math>, <math>n\\in\\{9,\\ldots , 15\\}</math> and <math>\\Delta_n</math> is of the form <math>k(n)+\\tfrac 12</math>. Since <math>A(8)</math> is of the form <math>k+\\tfrac 12</math> so <math>A(n)</math> is an integer only when <math>n</math> is odd.\n\nIf <math>a=4</math>, <math>n\\in\\{16,\\ldots , 24\\}</math> and <math>\\Delta_n</math> is an integer for all <math>n</math>. Since <math>A(15)</math> is an integer so <math>A(n)</math> is an integer for all <math>n</math>. \n\nNow we are back to where we started; i.e., the case <math>a=5</math> will be the same as <math>a=1</math> and so on. Thus, \n<cmath>\n\\begin{align}\na(n)\\equiv 1\\pmod 4 \\qquad &\\Longrightarrow \\qquad A(n) \\in \\mathbb{Z} \\textrm{ for even } n, \\\\\na(n)\\equiv 2\\pmod 4 \\qquad &\\Longrightarrow \\qquad A(n) \\not\\in \\mathbb{Z} \\textrm{  for any } n, \\\\\na(n)\\equiv 3\\pmod 4 \\qquad &\\Longrightarrow \\qquad A(n) \\in \\mathbb{Z} \\textrm{ for odd  } n, \\\\\na(n)\\equiv 0\\pmod 4 \\qquad &\\Longrightarrow \\qquad A(n) \\in \\mathbb{Z} \\textrm{ for all } n.\n\\end{align}\n</cmath>\n\nFor each <math>a</math> there are <math>2a+1</math> corresponding values of <math>n</math>: i.e., <math>n\\in \\{a^2, \\ldots , (a+1)^2-1\\}</math>.\n\nThus, the number of values of <math>n</math> corresponding to <math>(4)</math> (i.e., <math>a(n)\\equiv 0\\pmod 4</math>) is given by <cmath>\\sum_{\\substack{a=4k \\\\ a\\le 31}}(2a+1) = \\sum_{k=1}^7 (8k+1)=231.</cmath>\n\nThe cases <math>(1)</math> and <math>(3)</math> combine to account for half the values of <math>n</math> corresponding to odd values of <math>a(n)</math>; i.e.,\n<cmath>\\frac 12 \\cdot \\sum_{\\substack{a=2k+1 \\\\ a\\le 31}} (2a+1) = \\sum_{k=0}^{15} (2k+\\tfrac 32) = 264</cmath>However, this also includes the odd integers in <math>\\{1001, \\ldots , 1023\\}</math>. Subtracting <math>12</math> to account for these, we get the  number of values of <math>n</math> corresponding to cases <math>(1)</math> and <math>(3)</math> to be <math>264-12=252</math>.\n\nAdding the contributions from all cases we get our answer to be <math>231+252= \\boxed{483}</math>."
  },
  {
    "year": 2015,
    "variant": "I",
    "problem_number": 15,
    "latex": "A block of wood has the shape of a right circular cylinder with radius <math>6</math> and height <math>8</math>, and its entire surface has been painted blue.  Points <math>A</math> and <math>B</math> are chosen on the edge of one of the circular faces of the cylinder so that <math>\\overarc{AB}</math> on that face measures <math>120^\\circ</math>.  The block is then sliced in half along the plane that passes through point <math>A</math>, point <math>B</math>, and the center of the cylinder, revealing a flat, unpainted face on each half.  The area of one of these unpainted faces is <math>a\\cdot\\pi + b\\sqrt{c}</math>, where <math>a</math>, <math>b</math>, and <math>c</math> are integers and <math>c</math> is not divisible by the square of any prime.  Find <math>a+b+c</math>.\n\n<asy>\nimport three; import solids;\nsize(8cm);\ncurrentprojection=orthographic(-1,-5,3);\n\npicture lpic, rpic;\n\nsize(lpic,5cm);\ndraw(lpic,surface(revolution((0,0,0),(-3,3*sqrt(3),0)..(0,6,4)..(3,3*sqrt(3),8),Z,0,120)),gray(0.7),nolight);\ndraw(lpic,surface(revolution((0,0,0),(-3*sqrt(3),-3,8)..(-6,0,4)..(-3*sqrt(3),3,0),Z,0,90)),gray(0.7),nolight);\ndraw(lpic,surface((3,3*sqrt(3),8)..(-6,0,8)..(3,-3*sqrt(3),8)--cycle),gray(0.7),nolight);\ndraw(lpic,(3,-3*sqrt(3),8)..(-6,0,8)..(3,3*sqrt(3),8));\ndraw(lpic,(-3,3*sqrt(3),0)--(-3,-3*sqrt(3),0),dashed);\ndraw(lpic,(3,3*sqrt(3),8)..(0,6,4)..(-3,3*sqrt(3),0)--(-3,3*sqrt(3),0)..(-3*sqrt(3),3,0)..(-6,0,0),dashed);\ndraw(lpic,(3,3*sqrt(3),8)--(3,-3*sqrt(3),8)..(0,-6,4)..(-3,-3*sqrt(3),0)--(-3,-3*sqrt(3),0)..(-3*sqrt(3),-3,0)..(-6,0,0));\ndraw(lpic,(6*cos(atan(-1/5)+3.14159),6*sin(atan(-1/5)+3.14159),0)--(6*cos(atan(-1/5)+3.14159),6*sin(atan(-1/5)+3.14159),8));\n\nsize(rpic,5cm);\ndraw(rpic,surface(revolution((0,0,0),(3,3*sqrt(3),8)..(0,6,4)..(-3,3*sqrt(3),0),Z,230,360)),gray(0.7),nolight);\ndraw(rpic,surface((-3,3*sqrt(3),0)..(6,0,0)..(-3,-3*sqrt(3),0)--cycle),gray(0.7),nolight);\ndraw(rpic,surface((-3,3*sqrt(3),0)..(0,6,4)..(3,3*sqrt(3),8)--(3,3*sqrt(3),8)--(3,-3*sqrt(3),8)--(3,-3*sqrt(3),8)..(0,-6,4)..(-3,-3*sqrt(3),0)--cycle),white,nolight);\ndraw(rpic,(-3,-3*sqrt(3),0)..(-6*cos(atan(-1/5)+3.14159),-6*sin(atan(-1/5)+3.14159),0)..(6,0,0));\ndraw(rpic,(-6*cos(atan(-1/5)+3.14159),-6*sin(atan(-1/5)+3.14159),0)..(6,0,0)..(-3,3*sqrt(3),0),dashed);\ndraw(rpic,(3,3*sqrt(3),8)--(3,-3*sqrt(3),8));\ndraw(rpic,(-3,3*sqrt(3),0)..(0,6,4)..(3,3*sqrt(3),8)--(3,3*sqrt(3),8)..(3*sqrt(3),3,8)..(6,0,8));\ndraw(rpic,(-3,3*sqrt(3),0)--(-3,-3*sqrt(3),0)..(0,-6,4)..(3,-3*sqrt(3),8)--(3,-3*sqrt(3),8)..(3*sqrt(3),-3,8)..(6,0,8));\ndraw(rpic,(-6*cos(atan(-1/5)+3.14159),-6*sin(atan(-1/5)+3.14159),0)--(-6*cos(atan(-1/5)+3.14159),-6*sin(atan(-1/5)+3.14159),8));\nlabel(rpic,\"$A$\",(-3,3*sqrt(3),0),W);\nlabel(rpic,\"$B$\",(-3,-3*sqrt(3),0),W);\n\nadd(lpic.fit(),(0,0));\nadd(rpic.fit(),(1,0)); </asy>\n\n--Credit to Royalreter1 and chezbgone2 For The Diagram--",
    "solution": "[[File:2015 AIME I 15.png|400px|right]]\nLabel the points where the plane intersects the top face of the cylinder as <math>C</math> and <math>D</math>, and the center of the cylinder as <math>O</math>, such that <math>C,O,</math> and <math>A</math> are collinear. Let <math>N</math> be the center of the bottom face, and <math>M</math> the midpoint of <math>\\overline{AB}</math>. Then <math>ON=4</math>, <math>MN=3</math> (because of the 120 degree angle), and so <math>OM=5</math>. \n\nProject <math>C</math> and <math>D</math> onto the bottom face to get <math>X</math> and <math>Y</math>, respectively. Then the section <math>ABCD</math> (whose area we need to find), is a stretching of the section <math>ABXY</math> on the bottom face. The ratio of stretching is <math>\\frac{OM}{MN}=\\frac{5}{3}</math>, and we do not square this value when finding the area because it is only stretching in one direction. Using 30-60-90 triangles and circular sectors, we find that the area of the section <math>ABXY</math> is <math>18\\sqrt{3}\\ + 12 \\pi</math>. Thus, the area of section <math>ABCD</math> is <math>20\\pi + 30\\sqrt{3}</math>, and so our answer is <math>20+30+3=\\boxed{053}</math>."
  },
  {
    "year": 2015,
    "variant": "II",
    "problem_number": 1,
    "latex": "Let <math>N</math> be the least positive integer that is both <math>22</math> percent less than one integer and <math>16</math> percent greater than another integer. Find the remainder when <math>N</math> is divided by <math>1000</math>.",
    "solution": "If <math>N</math> is <math>22</math> percent less than one integer <math>k</math>, then <math>N=\\frac{78}{100}k=\\frac{39}{50}k</math>. In addition, <math>N</math> is <math>16</math> percent greater than another integer <math>m</math>, so <math>N=\\frac{116}{100}m=\\frac{29}{25}m</math>. Therefore, <math>k</math> is divisible by <math>50</math> and <math>m</math> is divisible by <math>25</math>. Setting these two equal, we have <math>\\frac{39}{50}k=\\frac{29}{25}m</math>. Multiplying by <math>50</math> on both sides, we get <math>39k=58m</math>.\n\nThe smallest integers <math>k</math> and <math>m</math> that satisfy this are <math>k=1450</math> and <math>m=975</math>, so <math>N=1131</math>. The answer is <math>\\boxed{131}</math>."
  },
  {
    "year": 2015,
    "variant": "II",
    "problem_number": 2,
    "latex": "In a new school <math>40</math> percent of the students are freshmen, <math>30</math> percent are sophomores, <math>20</math> percent are juniors, and <math>10</math> percent are seniors. All freshmen are required to take Latin, and <math>80</math> percent of the sophomores, <math>50</math> percent of the juniors, and <math>20</math> percent of the seniors elect to take Latin. The probability that a randomly chosen Latin student is a sophomore is <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "We see that <math>40\\% \\cdot 100\\% + 30\\% \\cdot 80\\% + 20\\% \\cdot 50\\% + 10\\% \\cdot 20\\% = 76\\%</math> of students are learning Latin. In addition, <math>30\\% \\cdot 80\\% = 24\\%</math> of students are sophomores learning Latin. Thus, our desired probability is <math>\\dfrac{24}{76}=\\dfrac{6}{19}</math> and our answer is <math>6+19=\\boxed{025}</math>."
  },
  {
    "year": 2015,
    "variant": "II",
    "problem_number": 3,
    "latex": "Let <math>m</math> be the least positive integer divisible by <math>17</math> whose digits sum to <math>17</math>. Find <math>m</math>.",
    "solution": "The three-digit integers divisible by <math>17</math>, and their digit sum: <cmath>\n\\begin{array}{c|c}\nm & s(m)\\\\ \\hline\n102 & 3 \\\\\n119 & 11\\\\\n136 & 10\\\\\n153 & 9\\\\\n170 & 8\\\\\n187 & 16\\\\\n204 & 6\\\\\n221 & 5\\\\\n238 & 13\\\\\n255 & 12\\\\\n272 & 11\\\\\n289 & 19\\\\\n306 & 9\\\\\n323 & 8\\\\\n340 & 7\\\\\n357 & 15\\\\\n374 & 14\\\\\n391 & 13\\\\\n408 & 12\\\\\n425 & 11\\\\\n442 & 10\\\\\n459 & 18\\\\\n476 & 17\n\\end{array}\n</cmath>\n\nThus the answer is <math>\\boxed{476}</math>."
  },
  {
    "year": 2015,
    "variant": "II",
    "problem_number": 4,
    "latex": "In an isosceles trapezoid, the parallel bases have lengths <math>\\log 3</math> and <math>\\log 192</math>, and the altitude to these bases has length <math>\\log 16</math>. The perimeter of the trapezoid can be written in the form <math>\\log 2^p 3^q</math>, where <math>p</math> and <math>q</math> are positive integers. Find <math>p + q</math>.",
    "solution": "Call the trapezoid <math>ABCD</math> with <math>AB</math> as the smaller base and <math>CD</math> as the longer. Let the point where an altitude intersects the larger base be <math>E</math>, where <math>E</math> is closer to <math>D</math>. \n\nSubtract the two bases and divide to find that <math>ED</math> is <math>\\log 8</math>. The altitude can be expressed as <math>\\frac{4}{3} \\log 8</math>. Therefore, the two legs are <math>\\frac{5}{3} \\log 8</math>, or <math>\\log 32</math>.\n\nThe perimeter is thus <math>\\log 32 + \\log 32 + \\log 192 + \\log 3</math> which is <math>\\log 2^{16} 3^2</math>. So <math>p + q = \\boxed{018}</math>"
  },
  {
    "year": 2015,
    "variant": "II",
    "problem_number": 5,
    "latex": "Two unit squares are selected at random without replacement from an <math>n \\times n</math> grid of unit squares. Find the least positive integer <math>n</math> such that the probability that the two selected unit squares are horizontally or vertically adjacent is less than <math>\\frac{1}{2015}</math>.",
    "solution": "Call the given grid \"Grid A\". Consider Grid B, where the vertices of Grid B fall in the centers of the squares of Grid A; thus, Grid B has dimensions <math>(n-1) \\times (n-1)</math>. There is a one-to-one correspondence between the edges of Grid B and the number of adjacent pairs of unit squares in Grid A. The number of edges in Grid B is <math>2n(n-1)</math>, and the number of ways to pick two squares out of Grid A is <math>\\dbinom{n^2}{2}</math>. So, the probability that the two chosen squares are adjacent is <math>\\frac{2n(n-1)}{\\binom{n^2}{2}} = \\frac{2n(n-1)}{\\frac{n^2(n^2-1)}{2}} = \\frac{4}{n(n+1)}</math>. We wish to find the smallest positive integer <math>n</math> such that <math>\\frac{4}{n(n+1)} < \\frac{1}{2015}</math>, and by inspection the first such <math>n</math> is <math>\\boxed{090}</math>."
  },
  {
    "year": 2015,
    "variant": "II",
    "problem_number": 6,
    "latex": "Steve says to Jon, \"I am thinking of a polynomial whose roots are all positive integers. The polynomial has the form <math>P(x) = 2x^3-2ax^2+(a^2-81)x-c</math> for some positive integers <math>a</math> and <math>c</math>. Can you tell me the values of <math>a</math> and <math>c</math>?\"\n\nAfter some calculations, Jon says, \"There is more than one such polynomial.\"\n\nSteve says, \"You're right.  Here is the value of <math>a</math>.\" He writes down a positive integer and asks, \"Can you tell me the value of <math>c</math>?\"\n\nJon says, \"There are still two possible values of <math>c</math>.\"\n\nFind the sum of the two possible values of <math>c</math>.",
    "solution": "We call the three roots (some may be equal to one another) <math>x_1</math>, <math>x_2</math>, and <math>x_3</math>.  Using Vieta's formulas, we get <math>x_1+x_2+x_3 = a</math>, <math>x_1 \\cdot x_2+x_1 \\cdot x_3+x_2 \\cdot x_3 = \\frac{a^2-81}{2}</math>, and <math>x_1 \\cdot x_2 \\cdot x_3 = \\frac{c}{2}</math>. \n\nSquaring our first equation we get <math>x_1^2+x_2^2+x_3^2+2 \\cdot x_1 \\cdot x_2+2 \\cdot x_1 \\cdot x_3+2 \\cdot x_2 \\cdot x_3 = a^2</math>.\n\nWe can then subtract twice our second equation to get <math>x_1^2+x_2^2+x_3^2 = a^2-2 \\cdot \\frac{a^2-81}{2}</math>.\n\nSimplifying the right side:\n\n\n<cmath> \\begin{align*}\na^2-2 \\cdot \\frac{a^2-81}{2} &= a^2-a^2+81\\\\\n&= 81.\\\\\n\\end{align*} </cmath>\n\nSo, we know <math>x_1^2+x_2^2+x_3^2 = 81</math>.\n\nWe can then list out all the triples of positive integers whose squares sum to <math>81</math>:\n\nWe get <math>(1, 4, 8)</math>, <math>(3, 6, 6)</math>, and <math>(4, 4, 7)</math>.  \n\nThese triples give <math>a</math> values of <math>13</math>, <math>15</math>, and <math>15</math>, respectively, and <math>c</math> values of <math>64</math>, <math>216</math>, and <math>224</math>, respectively.  \n\nWe know that Jon still found two possible values of <math>c</math> when Steve told him the <math>a</math> value, so the <math>a</math> value must be <math>15</math>.  Thus, the two <math>c</math> values are <math>216</math> and <math>224</math>, which sum to <math>\\boxed{\\text{440}}</math>.\n\n~BealsConjecture~"
  },
  {
    "year": 2015,
    "variant": "II",
    "problem_number": 7,
    "latex": "Triangle <math>ABC</math> has side lengths <math>AB = 12</math>, <math>BC = 25</math>, and <math>CA = 17</math>. Rectangle <math>PQRS</math> has vertex <math>P</math> on <math>\\overline{AB}</math>, vertex <math>Q</math> on <math>\\overline{AC}</math>, and vertices <math>R</math> and <math>S</math> on <math>\\overline{BC}</math>. In terms of the side length <math>PQ = \\omega</math>, the area of <math>PQRS</math> can be expressed as the quadratic polynomial <cmath>Area(PQRS) = \\alpha \\omega - \\beta \\omega^2.</cmath>\n\nThen the coefficient <math>\\beta = \\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "If <math>\\omega = 25</math>,  the area of rectangle <math>PQRS</math> is <math>0</math>, so\n\n<cmath>\\alpha\\omega - \\beta\\omega^2 = 25\\alpha - 625\\beta = 0</cmath>\n\nand <math>\\alpha = 25\\beta</math>.  If <math>\\omega = \\frac{25}{2}</math>, we can reflect <math>APQ</math> over <math>PQ</math>, <math>PBS</math> over <math>PS</math>, and <math>QCR</math> over <math>QR</math> to completely cover rectangle <math>PQRS</math>, so the area of <math>PQRS</math> is half the area of the triangle.  Using Heron's formula, since <math>s = \\frac{12 + 17 + 25}{2} = 27</math>, \n\n<cmath> [ABC] = \\sqrt{27 \\cdot 15 \\cdot 10 \\cdot 2} = 90</cmath>\n\nso\n\n<cmath>45 = \\alpha\\omega - \\beta\\omega^2 = \\frac{625}{2} \\beta - \\beta\\frac{625}{4} = \\beta\\frac{625}{4}</cmath>\n\nand \n\n<cmath>\\beta = \\frac{180}{625} = \\frac{36}{125}</cmath>\n\nso the answer is <math>m + n = 36 + 125 = \\boxed{161}</math>."
  },
  {
    "year": 2015,
    "variant": "II",
    "problem_number": 8,
    "latex": "<!-- don't remove the following tag, for PoTW on the Wiki front page--><onlyinclude>Let <math>a</math> and <math>b</math> be positive integers satisfying <math>\\frac{ab+1}{a+b} < \\frac{3}{2}</math>. The maximum possible value of <math>\\frac{a^3b^3+1}{a^3+b^3}</math> is <math>\\frac{p}{q}</math>, where <math>p</math> and <math>q</math> are relatively prime positive integers. Find <math>p+q</math>.<!-- don't remove the following tag, for PoTW on the Wiki front page--></onlyinclude>",
    "solution": "Let us call the quantity <math>\\frac{a^3b^3+1}{a^3+b^3}</math> as <math>N</math> for convenience. Knowing that <math>a</math> and <math>b</math> are positive integers, we can legitimately rearrange the given inequality so that <math>a</math> is by itself, which makes it easier to determine the pairs of <math>(a, b)</math> that work. Doing so, we have <cmath>\\frac{ab+1}{a+b} < \\frac{3}{2}</cmath> <cmath>\\implies 2ab + 2 < 3a + 3b \\implies 2ab - 3a < 3b - 2</cmath> <cmath>\\implies a < \\frac{3b - 2}{2b - 3}.</cmath> Now, observe that if <math>b = 1</math> we have that <math>N = \\frac{a^3 + 1}{a^3 + 1} = 1</math>, regardless of the value of <math>a</math>. If <math>a = 1</math>, we have the same result: that <math>N = \\frac{b^3 + 1}{b^3 + 1} = 1</math>, regardless of the value of <math>b</math>. Hence, we want to find pairs of positive integers <math>(a, b)</math> existing such that neither <math>a</math> nor <math>b</math> is equal to <math>1</math>, and that the conditions given in the problem are satisfied in order to check that the maximum value for <math>N</math> is not <math>1</math>.\n\n\nTo avoid the possibility that <math>a = 1</math>, we want to find values of <math>b</math> such that <math>\\frac{3b - 2}{2b - 3} > 2</math>. If we do this, we will have that <math>a < \\frac{3b - 2}{2b - 3} = k</math>, where <math>k</math> is greater than <math>2</math>, and this allows us to choose values of <math>a</math> greater than <math>1</math>. Again, since <math>b</math> is a positive integer, and we want <math>b > 1</math>, we can legitimately multiply both sides of <math>\\frac{3b - 2}{2b - 3} > 2</math> by <math>2b - 3</math> to get <math>3b - 2 > 4b - 6 \\implies b < 4</math>. For <math>b = 3</math>, we have that <math>a < \\frac{7}{3}</math>, so the only possibility for <math>a</math> greater than <math>1</math> is obviously <math>2</math>. Plugging these values into <math>N</math>, we have that <math>N = \\frac{8(27) + 1}{8 + 27} = \\frac{217}{35} = \\frac{31}{5}</math>. For <math>b = 2</math>, we have that <math>a < \\frac{4}{1} = 4</math>. Plugging <math>a = 3</math> and <math>b = 2</math> in for <math>N</math> yields the same result of <math>\\frac{31}{5}</math>, but plugging <math>a = 2</math> and <math>b = 2</math> into <math>N</math> yields that <math>N = \\frac{8(8) + 1}{8 + 8} = \\frac{65}{16}</math>. Clearly, <math>\\frac{31}{5}</math> is the largest value we can have for <math>N</math>, so our answer is <math>31 + 5 = \\boxed{036}</math>.\n\n(Technically, we would have to find that b > 1 before dividing both sides of the inequality by 2b - 3, but otherwise this solution is correct)"
  },
  {
    "year": 2015,
    "variant": "II",
    "problem_number": 9,
    "latex": "A cylindrical barrel with radius <math>4</math> feet and height <math>10</math> feet is full of water. A solid cube with side length <math>8</math> feet is set into the barrel so that the diagonal of the cube is vertical. The volume of water thus displaced is <math>v</math> cubic feet. Find <math>v^2</math>.\n\n<asy>\nimport three; import solids;\nsize(5cm);\ncurrentprojection=orthographic(1,-1/6,1/6);\n\ndraw(surface(revolution((0,0,0),(-2,-2*sqrt(3),0)--(-2,-2*sqrt(3),-10),Z,0,360)),white,nolight);\n\ntriple A =(8*sqrt(6)/3,0,8*sqrt(3)/3), B = (-4*sqrt(6)/3,4*sqrt(2),8*sqrt(3)/3), C = (-4*sqrt(6)/3,-4*sqrt(2),8*sqrt(3)/3), X = (0,0,-2*sqrt(2));\n\ndraw(X--X+A--X+A+B--X+A+B+C);\ndraw(X--X+B--X+A+B);\ndraw(X--X+C--X+A+C--X+A+B+C);\ndraw(X+A--X+A+C);\ndraw(X+C--X+C+B--X+A+B+C,linetype(\"2 4\"));\ndraw(X+B--X+C+B,linetype(\"2 4\"));\n\ndraw(surface(revolution((0,0,0),(-2,-2*sqrt(3),0)--(-2,-2*sqrt(3),-10),Z,0,240)),white,nolight);\ndraw((-2,-2*sqrt(3),0)..(4,0,0)..(-2,2*sqrt(3),0));\ndraw((-4*cos(atan(5)),-4*sin(atan(5)),0)--(-4*cos(atan(5)),-4*sin(atan(5)),-10)..(4,0,-10)..(4*cos(atan(5)),4*sin(atan(5)),-10)--(4*cos(atan(5)),4*sin(atan(5)),0));\ndraw((-2,-2*sqrt(3),0)..(-4,0,0)..(-2,2*sqrt(3),0),linetype(\"2 4\")); </asy>",
    "solution": "Our aim is to find the volume of the part of the cube submerged in the cylinder. \nIn the problem, since three edges emanate from each vertex, the boundary of the cylinder touches the cube at three points.  Because the space diagonal of the cube is vertical, by the symmetry of the cube, the three points form an equilateral triangle.  Because the radius of the circle is <math>4</math>, by the Law of Cosines, the side length s of the equilateral triangle is\n\n<cmath>s^2 = 2\\cdot(4^2) - 2\\cdot(4^2)\\cos(120^{\\circ}) = 3(4^2)</cmath>\n\nso <math>s = 4\\sqrt{3}</math>.* Again by the symmetry of the cube, the volume we want to find is the volume of a tetrahedron with right angles on all faces at the submerged vertex, so since the lengths of the legs of the tetrahedron are <math>\\frac{4\\sqrt{3}}{\\sqrt{2}} = 2\\sqrt{6}</math> (the three triangular faces touching the submerged vertex are all <math>45-45-90</math> triangles) so \n\n<cmath>v = \\frac{1}{3}(2\\sqrt{6})\\left(\\frac{1}{2} \\cdot (2\\sqrt{6})^2\\right) = \\frac{1}{6} \\cdot 48\\sqrt{6} = 8\\sqrt{6}</cmath>\n\nso \n\n<cmath>v^2 = 64 \\cdot 6 = \\boxed{384}.</cmath>\n\nIn this case, our base was one of the isosceles triangles (not the larger equilateral one). To calculate volume using the latter, note that the height would be <math>2\\sqrt{2}</math>.\n\n*Note that in a 30-30-120 triangle, side length ratios are <math>1:1:\\sqrt{3}</math>.\n*Or, note that the altitude and the centroid of an equilateral triangle are the same point, so since the centroid is 4 units from the vertex (which is <math>\\frac{2}{3}</math> the length of the median), the altitude is 6, which gives a hypotenuse of <math>\\frac{12}{\\sqrt{3}}=4\\sqrt{3}</math> by <math>1:\\frac{\\sqrt{3}}{2}:\\frac{1}{2}</math> relationship for 30-60-90 triangles."
  },
  {
    "year": 2015,
    "variant": "II",
    "problem_number": 10,
    "latex": "Call a permutation <math>a_1, a_2, \\ldots, a_n</math> of the integers <math>1, 2, \\ldots, n</math> ''quasi-increasing'' if <math>a_k \\leq a_{k+1} + 2</math> for each <math>1 \\leq k \\leq n-1</math>. For example, 53421 and 14253 are quasi-increasing permutations of the integers <math>1, 2, 3, 4, 5</math>, but 45123 is not. Find the number of quasi-increasing permutations of the integers <math>1, 2, \\ldots, 7</math>.",
    "solution": "The simple recurrence can be found.\n\nWhen inserting an integer <math>n</math> into a string with <math>n - 1</math> integers, we notice that the integer <math>n</math> has 3 spots where it can go: before <math>n - 1</math>, before <math>n - 2</math>, and at the very end.\n\nEx. Inserting 4 into the string 123:\n4 can go before the 2 (1423), before the 3 (1243), and at the very end (1234).\n\nOnly the addition of the next number, <math>n</math>, will change anything.\n\nThus the number of permutations with <math>n</math> elements is three times the number of permutations with <math>n-1</math> elements. \n\nStart with <math>n=3</math> since all <math>6</math> permutations work. And go up: <math>18, 54, 162, 486</math>.\n\nThus for <math>n=7</math> there are <math>2*3^5=\\boxed{486}</math> permutations.\n\nWhen you are faced with a brain-fazing equation and combinatorics is part of the problem, use recursion! This same idea appeared on another AIME with an 8-box problem."
  },
  {
    "year": 2015,
    "variant": "II",
    "problem_number": 11,
    "latex": "The circumcircle of acute <math>\\triangle ABC</math> has center <math>O</math>. The line passing through point <math>O</math> perpendicular to <math>\\overline{OB}</math> intersects lines <math>AB</math> and <math>BC</math> at <math>P</math> and <math>Q</math>, respectively. Also <math>AB=5</math>, <math>BC=4</math>, <math>BQ=4.5</math>, and <math>BP=\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "==Diagram==\n<asy>\nunitsize(30);\ndraw(Circle((0,0),3));\npair A,B,C,O, Q, P, M, N;\nA=(2.5, -sqrt(11/4));\nB=(-2.5, -sqrt(11/4));\nC=(-1.96, 2.28);\nQ=(-1.89, 2.81);\nP=(1.13, -1.68);\nO=origin;\nM=foot(O,C,B);\nN=foot(O,A,B);\ndraw(A--B--C--cycle);\nlabel(\"$A$\",A,SE);\nlabel(\"$B$\",B,SW);\nlabel(\"$C$\",C,NW);\nlabel(\"$Q$\",Q,NW);\ndot(O);\nlabel(\"$O$\",O,NE);\nlabel(\"$M$\",M,W);\nlabel(\"$N$\",N,S);\nlabel(\"$P$\",P,S);\ndraw(B--O);\ndraw(C--Q);\ndraw(Q--O);\ndraw(O--C);\ndraw(O--A);\ndraw(O--P);\ndraw(O--M, dashed);\ndraw(O--N, dashed);\ndraw(rightanglemark((-2.5, -sqrt(11/4)),(0,0),(-1.89, 2.81),5));\ndraw(rightanglemark(O,N,B,5));\ndraw(rightanglemark(B,O,P,5));\ndraw(rightanglemark(O,M,C,5));\n</asy>"
  },
  {
    "year": 2015,
    "variant": "II",
    "problem_number": 12,
    "latex": "There are <math>2^{10} = 1024</math> possible 10-letter strings in which each letter is either an A or a B. Find the number of such strings that do not have more than 3 adjacent letters that are identical.",
    "solution": "Let <math>f(n)</math> be the number of valid arrangements in a string of length <math>n</math>.\n\nA string can end in 8 ways:\n\n* ...AAA\n* ...BBB\n* ...AAB\n* ...BBA\n* ...BAB\n* ...ABA\n* ...ABB\n* ...BAA\n\n\nIf it ends in ...AAA or ...BBB, the only condition is that the string of length <math>n-3</math> preceding the 3 letters can't end with the same letters. If the string ends with ...AAA, the <math>n-3</math> string must end with B in <math>f(n-3)/2</math> ways, and if the string ends with ...BBB, the <math>n-3</math> string must end with A in <math>f(n-3)/2</math> ways, giving us a total of <math>f(n-3)</math> ways.\n\n\nIf it ends in ...AAB or ...BBA, the <math>n-2</math> string can't end with the 2 repeating letters coming after it. If it ends with ...AAB, the <math>n-2</math> string can end in BB or AB or BA, and if it ends with ...BBA, the <math>n-2</math> string can end in AA, AB, or BA. This happens in <math>4(f(n-2)/4) = f(n-2)</math> ways.\n\n\nFinally, if it ends in ...BAB, ...ABA, ...ABB, or ...BAA, the <math>n-1</math> string must end in the last two letters (for example, if the string of length n ended in BAB, the n-1 string must end with BA). So this gives us <math>4(f(n-1)/4) = f(n-1)</math> ways.\n\n\nSo <math>f(n) = f(n-1) + f(n-2) + f(n-3)</math>. We can calculate the base cases pretty easily: <math>f(2)</math> is 4, <math>f(3)</math> is 8, and <math>f(4)</math> is 14. Now we work upwards: <math>f(5) = 14 + 8 + 4 = 26</math>. <math>f(6) = 26 + 14 + 8 = 48</math>. <math>f(7) = 48 + 26 + 14 = 88</math>. <math>f(8) = 88 + 48 + 26 = 162</math>. <math>f(9) = 162 + 88 + 48 = 298</math>. Ans = <math>f(10) = 298 + 162 + 88 = \\boxed{548}</math>.\n\n~[https://artofproblemsolving.com/wiki/index.php/User:grogg007 grogg007]"
  },
  {
    "year": 2015,
    "variant": "II",
    "problem_number": 13,
    "latex": "Define the sequence <math>a_1, a_2, a_3, \\ldots</math> by <math>a_n = \\sum\\limits_{k=1}^n \\sin{k}</math>, where <math>k</math> represents radian measure. Find the index of the 100th term for which <math>a_n < 0</math>.",
    "solution": "If <math>n = 1</math>, <math>a_n = \\sin(1) > 0</math>.  Then if <math>n</math> satisfies <math>a_n < 0</math>, <math>n \\ge 2</math>, and\n<cmath>a_n = \\sum_{k=1}^n \\sin(k) = \\cfrac{1}{\\sin{1}} \\sum_{k=1}^n\\sin(1)\\sin(k) = \\cfrac{1}{2\\sin{1}} \\sum_{k=1}^n\\cos(k - 1) - \\cos(k + 1) = \\cfrac{1}{2\\sin(1)} [\\cos(0) + \\cos(1) - \\cos(n) - \\cos(n + 1)].</cmath>\nSince <math>2\\sin 1</math> is positive, it does not affect the sign of <math>a_n</math>.  Let <math>b_n = \\cos(0) + \\cos(1) - \\cos(n) - \\cos(n + 1)</math>.  Now since <math>\\cos(0) + \\cos(1) = 2\\cos\\left(\\cfrac{1}{2}\\right)\\cos\\left(\\cfrac{1}{2}\\right)</math> and <math>\\cos(n) + \\cos(n + 1) = 2\\cos\\left(n + \\cfrac{1}{2}\\right)\\cos\\left(\\cfrac{1}{2}\\right)</math>, <math>b_n</math> is negative if and only if <math>\\cos\\left(\\cfrac{1}{2}\\right) < \\cos\\left(n + \\cfrac{1}{2}\\right)</math>, or when <math>n \\in [2k\\pi - 1, 2k\\pi]</math>.  Since <math>\\pi</math> is irrational, there is always only one integer in the range, so there are values of <math>n</math> such that <math>a_n < 0</math> at <math>2\\pi, 4\\pi, \\cdots</math>.  Then the hundredth such value will be when <math>k = 100</math> and <math>n = \\lfloor 200\\pi \\rfloor = \\lfloor 628.318 \\rfloor = \\boxed{628}</math>.\n===Clearer Explanation for the End===\nNotice that we want <math>\\cos(n+1/2)>\\cos(1/2).</math>\n\nNotice that the only interval in which this is true, is where <math>-1/2 < n + 1/2 < 1/2.</math>\n\nThus, we need <math>-1<n<0.</math> So we have <math>-1+2\\pi k <n <0+2\\pi k.</math>\n\nBut we want the 100th solution. Which means <math>n</math> is in between <math>200\\pi - 1 < n < 200 \\pi.</math> So n = 628.\n\n~mathboy282"
  },
  {
    "year": 2015,
    "variant": "II",
    "problem_number": 14,
    "latex": "Let <math>x</math> and <math>y</math> be real numbers satisfying <math>x^4y^5+y^4x^5=810</math> and <math>x^3y^6+y^3x^6=945</math>. Evaluate <math>2x^3+(xy)^3+2y^3</math>.",
    "solution": "The expression we want to find is <math>2(x^3+y^3) + x^3y^3</math>.\n\nFactor the given equations as <math>x^4y^4(x+y) = 810</math> and <math>x^3y^3(x^3+y^3)=945</math>, respectively. Dividing the latter by the former equation yields <math>\\frac{x^2-xy+y^2}{xy} = \\frac{945}{810}</math>. Adding 3 to both sides and simplifying yields <math>\\frac{(x+y)^2}{xy} = \\frac{25}{6}</math>. Solving for <math>x+y</math> and substituting this expression into the first equation yields <math>\\frac{5\\sqrt{6}}{6}(xy)^{\\frac{9}{2}} = 810</math>. Solving for <math>xy</math>, we find that <math>xy = 3\\sqrt[3]{2}</math>, so <math>x^3y^3 = 54</math>. Substituting this into the second equation and solving for <math>x^3+y^3</math> yields <math>x^3+y^3=\\frac{35}{2}</math>. So, the expression to evaluate is equal to <math>2 \\times \\frac{35}{2} + 54 = \\boxed{089}</math>.\n\nNote that since the value we want to find is <math>2(x^3+y^3)+x^3y^3</math>, we can convert <math>2(x^3+y^3)</math> into an expression in terms of <math>x^3y^3</math>, since from the second equation which is <math>x^3y^3(x^3+y^3)=945</math>, we see that <math>2(x^3+y^3)=1890+x^6y^6,</math> and thus the value is <math>\\frac{1890+x^6y^6}{x^3y^3}.</math> Since we've already found <math>x^3y^3,</math> we substitute and find the answer to be 89."
  },
  {
    "year": 2015,
    "variant": "II",
    "problem_number": 15,
    "latex": "Circles <math>\\mathcal{P}</math> and <math>\\mathcal{Q}</math> have radii <math>1</math> and <math>4</math>, respectively, and are externally tangent at point <math>A</math>. Point <math>B</math> is on <math>\\mathcal{P}</math> and point <math>C</math> is on <math>\\mathcal{Q}</math> so that line <math>BC</math> is a common external tangent of the two circles. A line <math>\\ell</math> through <math>A</math> intersects <math>\\mathcal{P}</math> again at <math>D</math> and intersects <math>\\mathcal{Q}</math> again at <math>E</math>. Points <math>B</math> and <math>C</math> lie on the same side of <math>\\ell</math>, and the areas of <math>\\triangle DBA</math> and <math>\\triangle ACE</math> are equal. This common area is <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.\n\n<asy>\nimport cse5;\npathpen=black; pointpen=black;\nsize(6cm);\n\npair E = IP(L((-.2476,1.9689),(0.8,1.6),-3,5.5),CR((4,4),4)), D = (-.2476,1.9689);\n\nfilldraw(D--(0.8,1.6)--(0,0)--cycle,gray(0.7));\nfilldraw(E--(0.8,1.6)--(4,0)--cycle,gray(0.7));\nD(CR((0,1),1)); D(CR((4,4),4,150,390));\nD(L(MP(\"D\",D(D),N),MP(\"A\",D((0.8,1.6)),NE),1,5.5));\nD((-1.2,0)--MP(\"B\",D((0,0)),S)--MP(\"C\",D((4,0)),S)--(8,0));\nD(MP(\"E\",E,N));\n</asy>",
    "solution": "==Hint==\n<math>[ABC] = \\frac{1}{2}ab \\text{sin} C</math> is your friend for a quick solve. If you know about homotheties, go ahead, but you'll still need to do quite a bit of computation. If you're completely lost and you have a lot of time left in your mocking of this AIME, go ahead and use analytic geometry."
  },
  {
    "year": 2016,
    "variant": "I",
    "problem_number": 1,
    "latex": "==Problem 1==\nFor <math>-1<r<1</math>, let <math>S(r)</math> denote the sum of the geometric series <cmath>12+12r+12r^2+12r^3+\\cdots .</cmath>  Let <math>a</math> between <math>-1</math> and <math>1</math> satisfy <math>S(a)S(-a)=2016</math>. Find <math>S(a)+S(-a)</math>.",
    "solution": "The sum of an infinite geometric series is <math>\\frac{a}{1-r}\\rightarrow \\frac{12}{1\\mp a}</math>. The product <math>S(a)S(-a)=\\frac{144}{1-a^2}=2016</math>. <math>\\frac{12}{1-a}+\\frac{12}{1+a}=\\frac{24}{1-a^2}</math>, so the answer is <math>\\frac{2016}{6}=\\boxed{336}</math>."
  },
  {
    "year": 2016,
    "variant": "I",
    "problem_number": 2,
    "latex": "==Problem 2==\nTwo dice appear to be normal dice with their faces numbered from <math>1</math> to <math>6</math>, but each die is weighted so that the probability of rolling the number <math>k</math> is directly proportional to <math>k</math>. The probability of rolling a <math>7</math> with this pair of dice is <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m + n</math>.",
    "solution": "It is easier to think of the dice as <math>21</math> sided dice with <math>6</math> sixes, <math>5</math> fives, etc.  Then there are <math>21^2=441</math> possible rolls. There are <math>2\\cdot(1\\cdot 6+2\\cdot 5+3\\cdot 4)=56</math> rolls that will result in a seven.  The odds are therefore <math>\\frac{56}{441}=\\frac{8}{63}</math>.  The answer is <math>8+63=\\boxed{071}</math>\n\nSee also [[2006 AMC 12B Problems/Problem 17]]"
  },
  {
    "year": 2016,
    "variant": "I",
    "problem_number": 3,
    "latex": "==Problem 3==\nA ''regular icosahedron'' is a <math>20</math>-faced solid where each face is an equilateral triangle and five triangles meet at every vertex. The regular icosahedron shown below has one vertex at the top, one vertex at the bottom, an upper pentagon of five vertices all adjacent to the top vertex and all in the same horizontal plane, and a lower pentagon of five vertices all adjacent to the bottom vertex and all in another horizontal plane. Find the number of paths from the top vertex to the bottom vertex such that each part of a path goes downward or horizontally along an edge of the icosahedron, and no vertex is repeated.\n\n<asy>\nsize(3cm);\npair A=(0.05,0),B=(-.9,-0.6),C=(0,-0.45),D=(.9,-0.6),E=(.55,-0.85),F=(-0.55,-0.85),G=B-(0,1.1),H=F-(0,0.6),I=E-(0,0.6),J=D-(0,1.1),K=C-(0,1.4),L=C+K-A;\ndraw(A--B--F--E--D--A--E--A--F--A^^B--G--F--K--G--L--J--K--E--J--D--J--L--K);\ndraw(B--C--D--C--A--C--H--I--C--H--G^^H--L--I--J^^I--D^^H--B,dashed);\ndot(A^^B^^C^^D^^E^^F^^G^^H^^I^^J^^K^^L);\n</asy>",
    "solution": "Think about each plane independently. From the top vertex, we can go down to any of 5 different points in the second plane. From that point, there are 9 ways to go to another point within the second plane: rotate as many as 4 points clockwise or as many 4 counterclockwise, or stay in place.  Then, there are 2 paths from that point down to the third plane.  Within the third plane, there are 9 paths as well (consider the logic from the second plane).  Finally, there is only one way down to the bottom vertex.  Therefore there are <math>5 \\cdot 9 \\cdot 2 \\cdot 9 \\cdot 1=\\boxed{810}</math> paths."
  },
  {
    "year": 2016,
    "variant": "I",
    "problem_number": 4,
    "latex": "A right prism with height <math>h</math> has bases that are regular hexagons with sides of length <math>12</math>. A vertex <math>A</math> of the prism and its three adjacent vertices are the vertices of a triangular pyramid. The dihedral angle (the angle between the two planes) formed by the face of the pyramid that lies in a base of the prism and the face of the pyramid that does not contain <math>A</math> measures <math>60</math> degrees. Find <math>h^2</math>.",
    "solution": "==Diagram==\n\n<asy>\nimport bsp;\n\ntypedef path3[] shape;\n\nshape operator *(transform3 T, shape p){\nshape os;\nfor(path3 g:p) os.push(T*g);\nreturn os;\n}\n\n\npath3 path(triple[] T){\npath3 P;\nfor(triple i:T) P=P--i;\nreturn P;\n}\n\nvoid addshapes(face[] F, shape[] shp, pen drawpen=currentpen, pen fillpen=white)\n{\nfor(int i=0; i < shp.length; ++i)\nfor(int j=0; j < shp[i].length; ++j) {\npath3 g=shp[i][j];\npicture pic=F.push(g);\nif(fillpen != nullpen) filldraw(pic,project(g),fillpen, drawpen);\nelse draw(pic,project(g),drawpen);\n// filldraw(pic,g,currentlight.intensity(F[F.length-1].point)*fillpen, drawpen);\n}\n}\n\nshape cylinder(real R=1, real H=1, int n=6){\nshape Cyl;\ntriple[] CTop;\ntriple[] CBot;\nfor(int i=0; i <= n; ++i)\nCBot.push((R*cos(2pi*i/n), R*sin(2pi*i/n),0));\nCTop = CBot+(0,0,H);\nfor(int i=0; i < n; ++i)\nCyl.push(CBot[i]--CBot[i+1]--CTop[i+1]--CTop[i]--cycle);\n\npath3 P=path(CBot)--cycle;\nCyl.push(P);\nCyl.push(shift(H*Z)*P);\n\nreturn Cyl;\n}\n\n\nsize(10cm,0);\n\ncurrentprojection=orthographic(1,1,1);\n\nshape cyl1 = cylinder(R=1, H=2);\n\nshape[] group={cyl1};\n\nface[] hidden, visible;\naddshapes(hidden, group, drawpen=linewidth(bp));\naddshapes(visible, group, drawpen=dotted, fillpen=nullpen);\nadd(hidden);\nadd(visible);\n\n//shipout(format=\"pdf\");\n</asy>\n\n~gundraja"
  },
  {
    "year": 2016,
    "variant": "I",
    "problem_number": 5,
    "latex": "==Problem 5==\nAnh read a book. On the first day she read <math>n</math> pages in <math>t</math> minutes, where <math>n</math> and <math>t</math> are positive integers. On the second day Anh read <math>n + 1</math> pages in <math>t + 1</math> minutes. Each day thereafter Anh read one more page than she read on the previous day, and it took her one more minute than on the previous day until she completely read the <math>374</math> page book. It took her a total of <math>319</math> minutes to read the book. Find <math>n + t</math>.",
    "solution": "Let <math>d</math> be the number of days Anh reads for.  Because the difference between the number of pages and minutes Anh reads for each day stays constant and is an integer, <math>d</math> must be a factor of the total difference, which is <math>374-319=55</math>.  Also note that the number of pages Anh reads is <math>dn+\\frac{d(d-1)}{2}</math>.  Similarly, the number of minutes she reads for is <math>dt+\\frac{d(d-1)}{2}</math>.  When <math>d</math> is odd (which it must be), both of these numbers are multiples of <math>d</math>.  Therefore, <math>d</math> must be a factor of <math>55</math>, <math>319</math>, and <math>374</math>.  The only such numbers are <math>1</math> and <math>11</math>.  We know that Anh reads for at least <math>2</math> days. Therefore, <math>d=11</math>.\n\nUsing this, we find that she reads <math>55</math> \"additional\" pages and <math>55</math> \"additional\" minutes.  Therefore, <math>n=\\frac{374-55}{11}=29</math>, while <math>t=\\frac{319-55}{11}=24</math>.  The answer is therefore <math>29+24=\\fbox{053}</math>."
  },
  {
    "year": 2016,
    "variant": "I",
    "problem_number": 6,
    "latex": "In <math>\\triangle ABC</math> let <math>I</math> be the center of the inscribed circle, and let the bisector of <math>\\angle ACB</math> intersect <math>AB</math> at <math>L</math>. The line through <math>C</math> and <math>L</math> intersects the circumscribed circle of <math>\\triangle ABC</math> at the two points <math>C</math> and <math>D</math>. If <math>LI=2</math> and <math>LD=3</math>, then <math>IC=\\tfrac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "Suppose we label the angles as shown below.\n<asy>\nsize(150);\nimport olympiad;\nreal c=8.1,a=5*(c+sqrt(c^2-64))/6,b=5*(c-sqrt(c^2-64))/6;\npair A=(0,0),B=(c,0),D=(c/2,-sqrt(25-(c/2)^2));\npair C=intersectionpoints(circle(A,b),circle(B,a))[0];\npair I=incenter(A,B,C);\npair L=extension(C,D,A,B);\ndot(I^^A^^B^^C^^D);\ndraw(C--D);\npath midangle(pair d,pair e,pair f) {return e--e+((f-e)/length(f-e)+(d-e)/length(d-e))/2;}\ndraw(A--B--D--cycle);\ndraw(circumcircle(A,B,D));\ndraw(A--C--B);\ndraw(A--I--B^^C--I);\ndraw(incircle(A,B,C));\nlabel(\"$A$\",A,SW,fontsize(8));\nlabel(\"$B$\",B,SE,fontsize(8));\nlabel(\"$C$\",C,N,fontsize(8));\nlabel(\"$D$\",D,S,fontsize(8));\nlabel(\"$I$\",I,NE,fontsize(8));\nlabel(\"$L$\",L,SW,fontsize(8));\nlabel(\"$\\alpha$\",A,5*dir(midangle(C,A,I)),fontsize(8));\nlabel(\"$\\alpha$\",A,5*dir(midangle(I,A,B)),fontsize(8));\nlabel(\"$\\beta$\",B,12*dir(midangle(A,B,I)),fontsize(8));\nlabel(\"$\\beta$\",B,12*dir(midangle(I,B,C)),fontsize(8));\nlabel(\"$\\gamma$\",C,5*dir(midangle(A,C,I)),fontsize(8));\nlabel(\"$\\gamma$\",C,5*dir(midangle(I,C,B)),fontsize(8));\n</asy>\nAs <math>\\angle BCD</math> and <math>\\angle BAD</math> intercept the same arc, we know that <math>\\angle BAD=\\gamma</math>. Similarly, <math>\\angle ABD=\\gamma</math>. Also, using <math>\\triangle ICA</math>, we find <math>\\angle CIA=180-\\alpha-\\gamma</math>. Therefore, <math>\\angle AID=\\alpha+\\gamma=\\angle DAI</math>, so <math>\\triangle AID</math> must be isosceles with <math>AD=ID=5</math>. Similarly, <math>BD=ID=5</math>. Then <math>\\triangle DLB \\sim \\triangle ALC</math>, hence <math>\\frac{AL}{AC} = \\frac{3}{5}</math>. Also, <math>AI</math> bisects <math>\\angle LAC</math>, so by the Angle Bisector Theorem <math>\\frac{CI}{IL} =\\frac{AC}{AL}= \\frac{5}{3}</math>. Thus <math>CI = \\frac{10}{3}</math>, and the answer is <math>\\boxed{013}</math>."
  },
  {
    "year": 2016,
    "variant": "I",
    "problem_number": 7,
    "latex": "For integers <math>a</math> and <math>b</math> consider the complex number\n<cmath>\\frac{\\sqrt{ab+2016}}{ab+100}-\\left({\\frac{\\sqrt{|a+b|}}{ab+100}}\\right)i</cmath>\n\nFind the number of ordered pairs of integers <math>(a,b)</math> such that this complex number is a real number.",
    "solution": "We consider two cases:\n\n'''Case 1:'''  <math>ab \\ge -2016</math>.  \n\nIn this case, if\n<cmath>0 = \\text{Im}\\left({\\frac{\\sqrt{ab+2016}}{ab+100}-\\left({\\frac{\\sqrt{|a+b|}}{ab+100}}\\right)i}\\right) = -\\frac{\\sqrt{|a+b|}}{ab+100}</cmath>\nthen <math>ab \\ne -100</math> and <math>|a + b| = 0 = a + b</math>.  Thus <math>ab = -a^2</math> so <math>a^2 < 2016</math>.  Thus <math>a = -44,-43, ... , -1, 0, 1, ..., 43, 44</math>, yielding <math>89</math> values. However since <math>ab = -a^2 \\ne -100</math>,  we have <math>a \\ne \\pm 10</math>.  Thus there are <math>87</math> allowed tuples <math>(a,b)</math> in this case.\n\n'''Case 2:'''  <math>ab < -2016</math>. \n\nIn this case, we want\n<cmath>0 = \\text{Im}\\left({\\frac{\\sqrt{ab+2016}}{ab+100}-\\left({\\frac{\\sqrt{|a+b|}}{ab+100}}\\right)i}\\right) = \\frac{\\sqrt{-ab-2016} - \\sqrt{|a+b|}}{ab+100}</cmath>\nSquaring, we have the equations <math>ab \\ne -100</math> (which always holds in this case) and \n<cmath>-(ab + 2016)= |a + b|.</cmath>\nThen if <math>a > 0</math> and <math>b < 0</math>, let <math>c = -b</math>.  If <math>c > a</math>, \n<cmath>ac - 2016 = c - a \\Rightarrow (a - 1)(c + 1) = 2015 \\Rightarrow (a,b) = (2, -2014), (6, -402), (14, -154), (32, -64). </cmath>\nNote that <math>ab < -2016</math> for every one of these solutions.  If <math>c < a</math>, then\n<cmath>ac - 2016 = a - c \\Rightarrow (a + 1)(c - 1) = 2015 \\Rightarrow (a,b) = (2014, -2), (402, -6), (154, -14), (64, -32). </cmath>\nAgain, <math>ab < -2016</math> for every one of the above solutions. This yields <math>8</math> solutions.  Similarly, if <math>a < 0</math> and <math>b > 0</math>, there are <math>8</math> solutions.  Thus, there are a total of <math>16</math> solutions in this case.\n\nThus, the answer is <math>87 + 16 = \\boxed{103}</math>."
  },
  {
    "year": 2016,
    "variant": "I",
    "problem_number": 8,
    "latex": "==Problem 8==\nFor a permutation <math>p = (a_1,a_2,\\ldots,a_9)</math> of the digits <math>1,2,\\ldots,9</math>, let <math>s(p)</math> denote the sum of the three <math>3</math>-digit numbers <math>a_1a_2a_3</math>, <math>a_4a_5a_6</math>, and <math>a_7a_8a_9</math>. Let <math>m</math> be the minimum value of <math>s(p)</math> subject to the condition that the units digit of <math>s(p)</math> is <math>0</math>. Let <math>n</math> denote the number of permutations <math>p</math> with <math>s(p) = m</math>. Find <math>|m - n|</math>.",
    "solution": "To minimize <math>s(p)</math>, the numbers <math>1</math>, <math>2</math>, and <math>3</math> (which sum to <math>6</math>) must be in the hundreds places.  For the units digit of <math>s(p)</math> to be <math>0</math>, the numbers in the ones places must have a sum of either <math>10</math> or <math>20</math>. However, since the tens digit contributes more to the final sum <math>s(p)</math> than the ones digit, and we are looking for the minimum value of <math>s(p)</math>, we take the sum's units digit to be <math>20</math>. We know that the sum of the numbers in the tens digits is <math>\\sum\\limits_{i=1}^9 (i) -6-20=45-6-20=19</math>. Therefore, <math>m=100\\times6+10\\times19+20=810</math>.\n\nTo find <math>n</math>, realize that there are <math>3!=6</math> ways of ordering the numbers in each of the places.  Additionally, there are three possibilities for the numbers in the ones place: <math>(4,7,9)</math>, <math>(5,7,8)</math>, and <math>(5,6,9)</math>.  Therefore there are <math>6^3\\times3=648</math> ways in total. <math>|m-n|=|810-648|=\\fbox{162}</math>."
  },
  {
    "year": 2016,
    "variant": "I",
    "problem_number": 9,
    "latex": "==Problem 9==\nTriangle <math>ABC</math> has <math>AB=40,AC=31,</math> and <math>\\sin{A}=\\frac{1}{5}</math>. This triangle is inscribed in rectangle <math>AQRS</math> with <math>B</math> on <math>\\overline{QR}</math> and <math>C</math> on <math>\\overline{RS}</math>. Find the maximum possible area of <math>AQRS</math>.",
    "solution": "Note that if angle <math>BAC</math> is obtuse, it would be impossible for the triangle to inscribed in a rectangle. This can easily be shown by drawing triangle ABC, where <math>A</math> is obtuse. Therefore, angle A is acute. Let angle <math>CAS=n</math> and angle <math>BAQ=m</math>. Then, <math>\\overline{AS}=31\\cos(n)</math> and <math>\\overline{AQ}=40\\cos(m)</math>. Then the area of rectangle <math>AQRS</math> is <math>1240\\cos(m)\\cos(n)</math>. By product-to-sum, <math>\\cos(m)\\cos(n)=\\frac{1}{2}(\\cos(m+n)+\\cos(m-n))</math>. <math>\\cos(m+n)=\\sin(90-m-n)=\\sin(BAC)=\\frac{1}{5}</math>. The maximum possible value of <math>\\cos(m-n)</math> is 1, which occurs when <math>m=n</math>. Thus the maximum possible value of <math>\\cos(m)\\cos(n)</math> is <math>\\frac{1}{2}(\\frac{1}{5}+1)=\\frac{3}{5}</math> so the maximum possible area of <math>AQRS</math> is <math>1240\\times{\\frac{3}{5}}=\\fbox{744}</math>."
  },
  {
    "year": 2016,
    "variant": "I",
    "problem_number": 10,
    "latex": "A strictly increasing sequence of positive integers <math>a_1</math>, <math>a_2</math>, <math>a_3</math>, <math>\\cdots</math> has the property that for every positive integer <math>k</math>, the subsequence <math>a_{2k-1}</math>, <math>a_{2k}</math>, <math>a_{2k+1}</math> is geometric and the subsequence <math>a_{2k}</math>, <math>a_{2k+1}</math>, <math>a_{2k+2}</math> is arithmetic. Suppose that <math>a_{13} = 2016</math>. Find <math>a_1</math>.",
    "solution": "We first create a similar sequence where <math>a_1=1</math> and <math>a_2=2</math>. Continuing the sequence,\n\n<cmath>1, 2,4,6,9,12,16,20,25,30,36,42,49,\\cdots</cmath>\n\nHere we can see a pattern; every second term (starting from the first) is a square, and every second term (starting from the third) is the end of a geometric sequence. This can be proven by induction. Similarly, <math>a_{13}</math> would also need to be the end of a geometric sequence (divisible by a square). We see that <math>2016</math> is <math>2^5 \\cdot 3^2 \\cdot 7</math>, so the squares that would fit in <math>2016</math> are <math>1^2=1</math>, <math>2^2=4</math>, <math>3^2=9</math>, <math>2^4=16</math>, <math>2^2 \\cdot 3^2 = 36</math>, and <math>2^4 \\cdot 3^2 = 144</math>. By simple inspection <math>144</math> is the only plausible square, since the other squares in the sequence don't have enough elements before them to go all the way back to <math>a_1</math> while still staying as positive integers. <math>a_{13}=2016=14\\cdot 144</math>, so <math>a_1=14\\cdot 36=\\fbox{504}</math>.\n\n~IYN~"
  },
  {
    "year": 2016,
    "variant": "I",
    "problem_number": 11,
    "latex": "Let <math>P(x)</math> be a nonzero polynomial such that <math>(x-1)P(x+1)=(x+2)P(x)</math> for every real <math>x</math>, and <math>\\left(P(2)\\right)^2 = P(3)</math>. Then <math>P(\\tfrac72)=\\tfrac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m + n</math>.",
    "solution": "Plug in <math>x=1</math> to get <math>(1-1)P(1+1) = 0 = (1+2)P(1) \\Rightarrow P(1) = 0</math>. Plug in <math>x=0</math> to get <math>(0-1)P(0+1) = (0+2)P(0)\\Rightarrow P(0) = -\\frac{1}{2}P(1) = 0</math>. Plug in <math>x=-1</math> to get <math>(-1-1)P(-1+1) = (-1+2)P(-1)\\Rightarrow (-2)P(0)=P(-1)\\Rightarrow P(-1) = 0</math>. So <math>P(x) = x(x-1)(x+1)Q(x)</math> for some polynomial <math>Q(x)</math>. Using the initial equation, once again, <cmath>(x-1)P(x+1) = (x+2)P(x)</cmath>\n<cmath>(x-1)((x+1)(x+1-1)(x+1+1)Q(x+1)) = (x+2)((x)(x-1)(x+1)Q(x))</cmath>\n<cmath>(x-1)(x+1)(x)(x+2)Q(x+1) = (x+2)(x)(x-1)(x+1)Q(x)</cmath>\n<cmath>Q(x+1) = Q(x)</cmath>\nFrom here, we know that <math>Q(x) = C</math> for a constant <math>C</math> (<math>Q(x)</math> cannot be periodic since it is a polynomial), so <math>P(x) = Cx(x-1)(x+1)</math>. We know that <math>\\left(P(2)\\right)^2 = P(3)</math>. Plugging those into our definition of <math>P(x)</math>: <math>(C \\cdot 2 \\cdot (2-1) \\cdot (2+1))^2 = C \\cdot 3 \\cdot (3-1) \\cdot (3+1) \\Rightarrow (6C)^2 = 24C \\Rightarrow 36C^2 - 24C = 0 \\Rightarrow C = 0</math> or <math>\\frac{2}{3}</math>. So we know that <math>P(x) = \\frac{2}{3}x(x-1)(x+1)</math>. So <math>P(\\frac{7}{2}) = \\frac{2}{3} \\cdot \\frac{7}{2} \\cdot (\\frac{7}{2} - 1) \\cdot (\\frac{7}{2} + 1) = \\frac{105}{4}</math>. Thus, the answer is <math>105 + 4 = \\boxed{109}</math>."
  },
  {
    "year": 2016,
    "variant": "I",
    "problem_number": 12,
    "latex": "Find the least positive integer <math>m</math> such that <math>m^2 - m + 11</math> is a product of at least four not necessarily distinct primes.",
    "solution": "<math>m(m-1)</math> is the product of two consecutive integers, so it is always even. Thus <math>m(m-1)+11</math> is odd and never divisible by <math>2</math>. Thus any prime <math>p</math> that divides <math>m^2-m+11</math> must divide <math>4m^2-4m+44=(2m-1)^2+43</math>. We see that <math>(2m-1)^2\\equiv -43\\pmod{p}</math>. We can verify that <math>-43</math> is not a perfect square mod <math>p</math> for each of <math>p=3,5,7</math>. Therefore, all prime factors of <math>m^2-m+11</math> are <math>\\ge 11</math>.\n\nLet <math>m^2 - m + 11 = pqrs</math> for primes <math>11\\le p \\le q \\le r \\le s</math>. From here, we could go a few different ways:\n\n===Solution 1a===\n\nSuppose <math>p=11</math>; then <math>m^2-m+11=11qrs</math>. Reducing modulo 11, we get <math>m\\equiv  1,0 \\pmod{11}</math> so <math>k(11k\\pm 1)+1 = qrs</math>. \n\nSuppose <math>q=11</math>. Then we must have <math>11k^2\\pm k + 1 = 11rs</math>, which leads to <math>k\\equiv \\pm 1 \\pmod{11}</math>, i.e., <math>k\\in \\{1,10,12,21,23,\\ldots\\}</math>. \n\n<math>k=1</math> leads to <math>rs=1</math> (impossible)! Then <math>k=10</math> leads to <math>rs=101</math>, a prime (impossible). Finally, for <math>k=12</math> we get <math>rs=143=11\\cdot 13</math>. \n\nThus our answer is <math>m=11k= \\boxed{132}</math>.\n\n===Solution 1b===\n\nLet <math>m^2 - m + 11 = pqrs</math> for primes <math>p, q, r, s\\ge11</math>. If <math>p, q, r, s = 11</math>, then <math>m^2-m+11=11^4</math>. We can multiply this by <math>4</math> and complete the square to find <math>(2m-1)^2=4\\cdot 11^4-43</math>. But \n<cmath>(2\\cdot 11^2-1)^2=4\\cdot 11^4-4\\cdot 11^2+1 <4\\cdot 11^4-43<(2\\cdot 11^2)^2,</cmath>\nhence we have pinned a perfect square <math>(2m-1)^2=4\\cdot 11^4-43</math> strictly between two consecutive perfect squares, a contradiction. Hence <math>pqrs \\ge 11^3 \\cdot 13</math>. Thus <math>m^2-m+11\\ge 11^3\\cdot 13</math>, or <math>(m-132)(m+131)\\ge0</math>. From the inequality, we see that <math>m \\ge 132</math>. <math>132^2 - 132 + 11 = 11^3 \\cdot 13</math>, so <math>m = \\boxed{132}</math> and we are done."
  },
  {
    "year": 2016,
    "variant": "I",
    "problem_number": 13,
    "latex": "Freddy the frog is jumping around the coordinate plane searching for a river, which lies on the horizontal line <math>y = 24</math>. A fence is located at the horizontal line <math>y = 0</math>. On each jump Freddy randomly chooses a direction parallel to one of the coordinate axes and moves one unit in that direction. When he is at a point where <math>y=0</math>, with equal likelihoods he chooses one of three directions where he either jumps parallel to the fence or jumps away from the fence, but he never chooses the direction that would have him cross over the fence to where <math>y < 0</math>. Freddy starts his search at the point <math>(0, 21)</math> and will stop once he reaches a point on the river. Find the expected number of jumps it will take Freddy to reach the river.",
    "solution": "==Video solution by [https://artofproblemsolving.com/wiki/index.php/User:grogg007 grogg007]== \nhttps://www.youtube.com/watch?v=lDqHL-onoiw"
  },
  {
    "year": 2016,
    "variant": "I",
    "problem_number": 14,
    "latex": "Centered at each lattice point in the coordinate plane are a circle radius <math>\\frac{1}{10}</math> and a square with sides of length <math>\\frac{1}{5}</math> whose sides are parallel to the coordinate axes. The line segment from <math>(0,0)</math> to <math>(1001, 429)</math> intersects <math>m</math> of the squares and <math>n</math> of the circles. Find <math>m + n</math>.",
    "solution": "First note that <math>1001 = 143 \\cdot 7</math> and <math>429 = 143 \\cdot 3</math> so every point of the form <math>(7k, 3k)</math> is on the line.   Then consider the line <math>l</math> from <math>(7k, 3k)</math> to <math>(7(k + 1), 3(k + 1))</math>.  Translate the line <math>l</math> so that <math>(7k, 3k)</math> is now the origin.   There is one square and one circle that intersect the line around <math>(0,0)</math>.  Then the points on <math>l</math> with an integral <math>x</math>-coordinate are, since <math>l</math> has the equation <math>y = \\frac{3x}{7}</math>:\n\n<cmath>  (0,0), \\left(1, \\frac{3}{7}\\right), \\left(2, \\frac{6}{7}\\right), \\left(3, 1 + \\frac{2}{7}\\right), \\left(4, 1 + \\frac{5}{7}\\right), \\left(5, 2 + \\frac{1}{7}\\right), \\left(6, 2 + \\frac{4}{7}\\right), (7,3). </cmath>\n\nWe claim that the lower right vertex of the square centered at <math>(2,1)</math> lies on <math>l</math>.  Since the square has side length <math>\\frac{1}{5}</math>, the lower right vertex of this square has coordinates <math>\\left(2 + \\frac{1}{10},  1 - \\frac{1}{10}\\right) = \\left(\\frac{21}{10}, \\frac{9}{10}\\right)</math>.  Because <math>\\frac{9}{10} = \\frac{3}{7} \\cdot \\frac{21}{10}</math>, <math>\\left(\\frac{21}{10}, \\frac{9}{10}\\right)</math> lies on <math>l</math>.  Since the circle centered at <math>(2,1)</math> is contained inside the square, this circle does not intersect <math>l</math>.  Similarly the upper left vertex of the square centered at <math>(5,2)</math> is on <math>l</math>.  Since every other point listed above is farther away from a lattice point (excluding (0,0) and (7,3)) and there are two squares with centers strictly between <math>(0,0)</math> and <math>(7,3)</math> that intersect <math>l</math>.  Since there are <math>\\frac{1001}{7} = \\frac{429}{3} = 143</math> segments from <math>(7k, 3k)</math> to <math>(7(k + 1), 3(k + 1))</math>, the above count is yields <math>143 \\cdot 2 = 286</math> squares.  Since every lattice point on <math>l</math> is of the form <math>(3k, 7k)</math> where <math>0 \\le k \\le 143</math>, there are <math>144</math> lattice points on <math>l</math>. Centered at each lattice point, there is one square and one circle, hence this counts <math>288</math> squares and circles.  Thus <math>m + n = 286 + 288 = \\boxed{574}</math>.\n \n(Solution by gundraja)"
  },
  {
    "year": 2016,
    "variant": "I",
    "problem_number": 15,
    "latex": "Circles <math>\\omega_1</math> and <math>\\omega_2</math> intersect at points <math>X</math> and <math>Y</math>. Line <math>\\ell</math> is tangent to <math>\\omega_1</math> and <math>\\omega_2</math> at <math>A</math> and <math>B</math>, respectively, with line <math>AB</math> closer to point <math>X</math> than to <math>Y</math>. Circle <math>\\omega</math> passes through <math>A</math> and <math>B</math> intersecting <math>\\omega_1</math> again at <math>D \\neq A</math> and intersecting <math>\\omega_2</math> again at <math>C \\neq B</math>. The three points <math>C</math>, <math>Y</math>, <math>D</math> are collinear, <math>XC = 67</math>, <math>XY = 47</math>, and <math>XD = 37</math>. Find <math>AB^2</math>.",
    "solution": "Using the radical axis theorem, the lines <math>\\overline{AD}, \\overline{BC}, \\overline{XY}</math> are all concurrent at one point, call it <math>F</math>. Now recall by Miquel's theorem in <math>\\triangle FDC</math> the fact that quadrilaterals <math>DAXY</math> and <math>CBXY</math> are cyclic implies <math>FAXB</math> is cyclic as well. Denote <math>\\omega_{3}\\equiv(FAXB)</math> and <math>Z\\equiv\\ell\\cap\\overline{FXY}</math>.\n\nSince point <math>Z</math> lies on the radical axis of <math>\\omega_{1},\\omega_{2}</math>, it has equal power with respect to both circles, thus <cmath>AZ^{2}=\\text{Pow}_{\\omega_{1}}(Z)=ZX\\cdot ZY=\\text{Pow}_{\\omega_{2}}(Z)=ZB^{2}\\implies AZ=ZB.</cmath> Also, notice that <cmath>AZ\\cdot ZB=\\text{Pow}_{\\omega_{3}}(Z)=ZX\\cdot ZF\\implies ZY=ZF.</cmath> The diagonals of quadrilateral <math>FAYB</math> bisect each other at <math>Z</math>, so we conclude that <math>FAYB</math> is a parallelogram. Let <math>u:=ZX</math>, so that <math>ZY=ZF=u+47</math>.\n\nBecause <math>FAYB</math> is a parallelogram and quadrilaterals <math>DAXY, CBXY</math> are cyclic, <cmath>\\angle DFX=\\angle AFX=\\angle BYX=\\angle BCX=\\angle FCX~~\\text{and}~~\\angle XDF=\\angle XDA=\\angle XYA=\\angle XFB=\\angle XFC</cmath> so we have the pair of similar triangles <math>\\triangle DFX~\\sim~\\triangle FCX</math>. Thus <cmath>\\dfrac{37}{2u+47}=\\dfrac{2u+47}{67}\\implies 2u+47=\\sqrt{37\\cdot 67}\\implies u=\\dfrac{1}{2}\\left(\\sqrt{37\\cdot 67}-47\\right).</cmath> Now compute <cmath>AB^{2}=4AZ^{2}=4\\cdot ZX\\cdot ZY=4u(u+47)=37\\cdot 67-47^{2}=\\textbf{270}.</cmath>\n\n[[File:AIME 2016-I15 Geogebra Diagram.png|840px]]"
  },
  {
    "year": 2016,
    "variant": "II",
    "problem_number": 1,
    "latex": "Initially Alex, Betty, and Charlie had a total of <math>444</math> peanuts. Charlie had the most peanuts, and Alex had the least. The three numbers of peanuts that each person had formed a geometric progression. Alex eats <math>5</math> of his peanuts, Betty eats <math>9</math> of her peanuts, and Charlie eats <math>25</math> of his peanuts. Now the three numbers of peanuts each person has forms an arithmetic progression. Find the number of peanuts Alex had initially.",
    "solution": "Let <math>r</math> be the common ratio, where <math>r>1</math>. We then have <math>ar-9-(a-5)=a(r-1)-4=ar^{2}-25-(ar-9)=ar(r-1)-16</math>. We now have, letting, subtracting the 2 equations, <math>ar^{2}+-2ar+a=12</math>, so we have <math>3ar=432,</math> or <math>ar=144</math>, which is how much Betty had. Now we have <math>144+\\dfrac{144}{r}+144r=444</math>, or <math>144(r+\\dfrac{1}{r})=300</math>, or <math>r+\\dfrac{1}{r}=\\dfrac{25}{12}</math>, which solving for <math>r</math> gives <math>r=\\dfrac{4}{3}</math>, since <math>r>1</math>, so Alex had <math>\\dfrac{3}{4} \\cdot 144=\\boxed{108}</math> peanuts."
  },
  {
    "year": 2016,
    "variant": "II",
    "problem_number": 2,
    "latex": "There is a <math>40\\%</math> chance of rain on Saturday and a <math>30\\%</math> chance of rain on Sunday. However, it is twice as likely to rain on Sunday if it rains on Saturday than if it does not rain on Saturday. The probability that it rains at least one day this weekend is <math>\\frac{a}{b}</math>, where <math>a</math> and <math>b</math> are relatively prime positive integers. Find <math>a+b</math>.",
    "solution": "Let <math>x</math> be the probability that it rains on Sunday given that it doesn't rain on Saturday. We then have <math>\\dfrac{3}{5}x+\\dfrac{2}{5}2x = \\dfrac{3}{10} \\implies \\dfrac{7}{5}x=\\dfrac{3}{10}</math> <math> \\implies x=\\dfrac{3}{14}</math>. Therefore, the probability that it doesn't rain on either day is <math>\\left(1-\\dfrac{3}{14}\\right)\\left(\\dfrac{3}{5}\\right)=\\dfrac{33}{70}</math>. Therefore, the probability that rains on at least one of the days is <math>1-\\dfrac{33}{70}=\\dfrac{37}{70}</math>, so adding up the <math>2</math> numbers, we have <math>37+70=\\boxed{107}</math>."
  },
  {
    "year": 2016,
    "variant": "II",
    "problem_number": 3,
    "latex": "Let <math>x,y,</math> and <math>z</math> be real numbers satisfying the system\n<cmath>\\begin{align*}\n\\log_2(xyz-3+\\log_5 x)&=5,\\\\\n\\log_3(xyz-3+\\log_5 y)&=4,\\\\\n\\log_4(xyz-3+\\log_5 z)&=4.\\\\\n\\end{align*}</cmath>\nFind the value of <math>|\\log_5 x|+|\\log_5 y|+|\\log_5 z|</math>.",
    "solution": "First, we get rid of logs by taking powers: <math>xyz-3+\\log_5 x=2^{5}=32</math>, <math>xyz-3+\\log_5 y=3^{4}=81</math>, and <math>(xyz-3+\\log_5 z)=4^{4}=256</math>. Adding all the equations up and using the <math>\\log {xy}=\\log {x}+\\log{y}</math> property, we have <math>3xyz+\\log_5{xyz} = 378</math>, so we have <math>xyz=125</math>. Solving for <math>x,y,z</math> by substituting <math>125</math> for <math>xyz</math> in each equation, we get <math>\\log_5 x=-90, \\log_5 y=-41, \\log_5 z=134</math>, so adding all the absolute values we have <math>90+41+134=\\boxed{265}</math>.\n\nNote: <math>xyz=125</math> because we know <math>xyz</math> has to be a power of <math>5</math>, and so it is not hard to test values in the equation <math>3xyz+\\log_5{xyz} = 378</math> in order to achieve desired value for <math>xyz</math>."
  },
  {
    "year": 2016,
    "variant": "II",
    "problem_number": 4,
    "latex": "An <math>a \\times b \\times c</math> rectangular box is built from <math>a \\cdot b \\cdot c</math> unit cubes. Each unit cube is colored red, green, or yellow. Each of the <math>a</math> layers of size <math>1 \\times b \\times c</math> parallel to the <math>(b \\times c)</math> faces of the box contains exactly <math>9</math> red cubes, exactly <math>12</math> green cubes, and some yellow cubes. Each of the <math>b</math> layers of size <math>a \\times 1 \\times c</math> parallel to the <math>(a \\times c)</math> faces of the box contains exactly <math>20</math> green cubes, exactly <math>25</math> yellow cubes, and some red cubes. Find the smallest possible volume of the box.",
    "solution": "By counting the number of green cubes <math>2</math> different ways, we have <math>12a=20b</math>, or <math>a=\\dfrac{5}{3} b</math>. Notice that there are only <math>3</math> possible colors for unit cubes, so for each of the <math>1 \\times b \\times c</math> layers, there are <math>bc-21</math> yellow cubes, and similarly there are <math>ac-45</math> red cubes in each of the <math>1 \\times a \\times c</math> layers. Therefore, we have <math>a(bc-21)=25b</math> and <math>b(ac-45)=9a</math>. We check a few small values of <math>a,b</math> and solve for <math>c</math>, checking <math>(a,b)=(5,3)</math> gives <math>c=12</math> with a volume of <math>180</math>, <math>(a,b)=(10,6)</math> gives <math>c=6</math> with a volume of <math>360</math>, and <math>(a,b)=(15,9)</math> gives <math>c=4</math>, with a volume of <math>540</math>. Any higher <math>(a,b)</math> will <math>ab>180</math>, so therefore, the minimum volume is <math>\\boxed{180}</math>."
  },
  {
    "year": 2016,
    "variant": "II",
    "problem_number": 5,
    "latex": "Triangle <math>ABC_0</math> has a right angle at <math>C_0</math>. Its side lengths are pairwise relatively prime positive integers, and its perimeter is <math>p</math>. Let <math>C_1</math> be the foot of the altitude to <math>\\overline{AB}</math>, and for <math>n \\geq 2</math>, let <math>C_n</math> be the foot of the altitude to <math>\\overline{C_{n-2}B}</math> in <math>\\triangle C_{n-2}C_{n-1}B</math>. The sum <math>\\sum_{n=2}^\\infty C_{n-2}C_{n-1} = 6p</math>. Find <math>p</math>.",
    "solution": "Do note that by counting the area in 2 ways, the first altitude is <math>x = \\frac{ab}{c}</math>. By similar triangles, the common ratio is <math>\\rho = \\frac{a}{c}</math> for each height, so by the geometric series formula, we have \n<cmath>\\begin{align}\n    6p=\\frac{x}{1-\\rho} = \\frac{ab}{c-a}.\n\\end{align}</cmath>\nWriting <math>p=a+b+c</math> and clearing denominators, we get <cmath>13a=6p .</cmath>Thus <math>p=13q</math>, <math>a=6q</math>, and <math>b+c=7q</math>, i.e. <math>c=7q-b</math>. Plugging these into <math>(1)</math>, we get <math>78q(q-b)=6bq</math>, i.e., <math>14b=13q</math>. Thus <math>q=14r</math> and <math>p=182r</math>, <math>b=13r</math>, <math>a=84r</math>, <math>c=85r</math>. Taking <math>r=1</math> (since <math>a,b,c</math> are relatively prime) we get <math>p=\\boxed{182}</math>.\n\nNote this sulotion seems to have some serious errors"
  },
  {
    "year": 2016,
    "variant": "II",
    "problem_number": 6,
    "latex": "For polynomial <math>P(x)=1-\\dfrac{1}{3}x+\\dfrac{1}{6}x^{2}</math>, define\n<math>Q(x)=P(x)P(x^{3})P(x^{5})P(x^{7})P(x^{9})=\\sum_{i=0}^{50} a_ix^{i}</math>.\nThen <math>\\sum_{i=0}^{50} |a_i|=\\dfrac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "Note that all the coefficients of odd-powered terms is an odd number of odd degree terms multiplied together, and all coefficients of even-powered terms have an even number of odd degree terms multiplied together. Since every odd degree term is negative, and every even degree term is positive, the sum is just equal to <math>Q(-1)=P(-1)^{5}=\\left( \\dfrac{3}{2}\\right)^{5}=\\dfrac{243}{32}</math>, so the desired answer is <math>243+32=\\boxed{275}</math>."
  },
  {
    "year": 2016,
    "variant": "II",
    "problem_number": 7,
    "latex": "Squares <math>ABCD</math> and <math>EFGH</math> have a common center and <math>\\overline{AB} || \\overline{EF}</math>. The area of <math>ABCD</math> is 2016, and the area of <math>EFGH</math> is a smaller positive integer. Square <math>IJKL</math> is constructed so that each of its vertices lies on a side of <math>ABCD</math> and each vertex of <math>EFGH</math> lies on a side of <math>IJKL</math>. Find the difference between the largest and smallest positive integer values for the area of <math>IJKL</math>.",
    "solution": "Letting <math>AI=a</math> and <math>IB=b</math>, we have <cmath>IJ^{2}=a^{2}+b^{2} \\geq 1008</cmath> by [[AM-GM inequality]]. Also, since <math>EFGH||ABCD</math>, the angles that each square cuts another are equal, so all the triangles are formed by a vertex of a larger square and <math>2</math> adjacent vertices of a smaller square are similar. Therefore, the areas form a geometric progression, so since <cmath>2016=12^{2} \\cdot 14</cmath> we have the maximum area is <cmath>2016 \\cdot \\dfrac{11}{12} = 1848</cmath> (the areas of the squares from largest to smallest are <math>12^{2} \\cdot 14, 11 \\cdot 12 \\cdot 14, 11^{2} \\cdot 14</math> forming a geometric progression). \n\n\nThe minimum area is <math>1008</math> (every square is half the area of the square whose sides its vertices touch), so the desired answer is <cmath>1848-1008=\\boxed{840}</cmath>\n\n<asy>\npair A,B,C,D,E,F,G,H,I,J,K,L;\nA=(0,0);\nB=(2016,0);\nC=(2016,2016);\nD=(0,2016);\nI=(1008,0);\nJ=(2016,1008);\nK=(1008,2016);\nL=(0,1008);\nE=(504,504);\nF=(1512,504);\nG=(1512,1512);\nH=(504,1512);\ndraw(A--B--C--D--A);\ndraw(I--J--K--L--I);\ndraw(E--F--G--H--E);\nlabel(\"$A$\",A,SW);\nlabel(\"$B$\",B,SE);\nlabel(\"$C$\",C,NE);\nlabel(\"$D$\",D,NW);\nlabel(\"$E$\",E,SW);\nlabel(\"$F$\",F,SE);\nlabel(\"$G$\",G,NE);\nlabel(\"$H$\",H,NW);\nlabel(\"$I$\",I,S);\nlabel(\"$J$\",J,NE);\nlabel(\"$K$\",K,N);\nlabel(\"$L$\",L,NW);\n</asy>"
  },
  {
    "year": 2016,
    "variant": "II",
    "problem_number": 8,
    "latex": "Find the number of sets <math>\\{a,b,c\\}</math> of three distinct positive integers with the property that the product of <math>a,b,</math> and <math>c</math> is equal to the product of <math>11,21,31,41,51,61</math>.",
    "solution": "Note that the prime factorization of the product is <math>3^{2}\\cdot 7 \\cdot 11 \\cdot 17 \\cdot 31 \\cdot 41 \\cdot 61</math>. Ignoring overcounting, by stars and bars there are <math>6</math> ways to choose how to distribute the factors of <math>3</math>, and <math>3</math> ways to distribute the factors of the other primes, so we have <math>3^{6} \\cdot 6</math> ways. However, some sets have <math>2</math> numbers that are the same, namely the ones in the form <math>1,1,x</math> and <math>3,3,x</math>, which are each counted <math>3</math> times, and each other set is counted <math>6</math> times, so the desired answer is <math>\\dfrac{729 \\cdot 6-6}{6} = \\boxed{728}</math>."
  },
  {
    "year": 2016,
    "variant": "II",
    "problem_number": 9,
    "latex": "The sequences of positive integers <math>1,a_2, a_3,...</math> and <math>1,b_2, b_3,...</math> are an increasing arithmetic sequence and an increasing geometric sequence, respectively. Let <math>c_n=a_n+b_n</math>. There is an integer <math>k</math> such that <math>c_{k-1}=100</math> and <math>c_{k+1}=1000</math>. Find <math>c_k</math>.",
    "solution": "Since all the terms of the sequences are integers, and 100 isn't very big, we should just try out the possibilities for <math>b_2</math>. When we get to <math>b_2=9</math> and <math>a_2=91</math>, we have <math>a_4=271</math> and <math>b_4=729</math>, which works, therefore, the answer is <math>b_3+a_3=81+181=\\boxed{262}</math>."
  },
  {
    "year": 2016,
    "variant": "II",
    "problem_number": 10,
    "latex": "Triangle <math>ABC</math> is inscribed in circle <math>\\omega</math>. Points <math>P</math> and <math>Q</math> are on side <math>\\overline{AB}</math> with <math>AP<AQ</math>. Rays <math>CP</math> and <math>CQ</math> meet <math>\\omega</math> again at <math>S</math> and <math>T</math> (other than <math>C</math>), respectively. If <math>AP=4,PQ=3,QB=6,BT=5,</math> and <math>AS=7</math>, then <math>ST=\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "<asy>\nimport cse5;\npathpen = black; pointpen = black;\npointfontsize = 9;\nsize(8cm);\n\npair A = origin, B = (13,0), P = (4,0), Q = (7,0),\n\tT = B + 5 dir(220), C = IP(circumcircle(A,B,T),Line(T,Q,-0.1,10)),\n\tS = IP(circumcircle(A,B,C),Line(C,P,-0.1,10));\n\nDrawing(A--B--C--cycle);\nD(circumcircle(A,B,C),rgb(0,0.6,1));\nDrawPathArray(C--S^^C--T,rgb(1,0.4,0.1));\nDrawPathArray(A--S^^B--T,rgb(0,0.4,0));\nD(S--T,rgb(1,0.2,0.4));\n\nD(\"A\",A,dir(215));\nD(\"B\",B,dir(330));\nD(\"P\",P,dir(240));\nD(\"Q\",Q,dir(240));\nD(\"T\",T,dir(290));\nD(\"C\",C,dir(120));\nD(\"S\",S,dir(250));\n\nMP(\"4\",(A+P)/2,dir(90));\nMP(\"3\",(P+Q)/2,dir(90));\nMP(\"6\",(Q+B)/2,dir(90));\nMP(\"5\",(B+T)/2,dir(140));\nMP(\"7\",(A+S)/2,dir(40));\n</asy>\nLet <math>\\angle ACP=\\alpha</math>, <math>\\angle PCQ=\\beta</math>, and <math>\\angle QCB=\\gamma</math>. Note that since <math>\\triangle ACQ\\sim\\triangle TBQ</math> we have <math>\\tfrac{AC}{CQ}=\\tfrac56</math>, so by the Ratio Lemma <cmath>\\dfrac{AP}{PQ}=\\dfrac{AC}{CQ}\\cdot\\dfrac{\\sin\\alpha}{\\sin\\beta}\\quad\\implies\\quad \\dfrac{\\sin\\alpha}{\\sin\\beta}=\\dfrac{24}{15}.</cmath>Similarly, we can deduce <math>\\tfrac{PC}{CB}=\\tfrac47</math> and hence <math>\\tfrac{\\sin\\beta}{\\sin\\gamma}=\\tfrac{21}{24}</math>.\n\nNow Law of Sines on <math>\\triangle ACS</math>, <math>\\triangle SCT</math>, and <math>\\triangle TCB</math> yields <cmath>\\dfrac{AS}{\\sin\\alpha}=\\dfrac{ST}{\\sin\\beta}=\\dfrac{TB}{\\sin\\gamma}.</cmath>Hence <cmath>\\dfrac{ST^2}{\\sin^2\\beta}=\\dfrac{TB\\cdot AS}{\\sin\\alpha\\sin\\gamma},</cmath>so <cmath>TS^2=TB\\cdot AS\\left(\\dfrac{\\sin\\beta}{\\sin\\alpha}\\dfrac{\\sin\\beta}{\\sin\\gamma}\\right)=\\dfrac{15\\cdot 21}{24^2}\\cdot 5\\cdot 7=\\dfrac{35^2}{8^2}.</cmath>Hence <math>ST=\\tfrac{35}8</math> and the requested answer is <math>35+8=\\boxed{43}</math>.\n\nEdit: Note that the finish is much simpler. Once you get <math>\\dfrac{AS}{\\sin\\alpha}=\\dfrac{ST}{\\sin\\beta}</math>, you can solve quickly from there getting <math>ST=\\dfrac{AS \\sin(\\beta)}{\\sin(\\alpha)}=7\\cdot \\dfrac{15}{24}=\\dfrac{35}{8}</math>."
  },
  {
    "year": 2016,
    "variant": "II",
    "problem_number": 11,
    "latex": "For positive integers <math>N</math> and <math>k</math>, define <math>N</math> to be <math>k</math>-nice if there exists a positive integer <math>a</math> such that <math>a^{k}</math> has exactly <math>N</math> positive divisors. Find the number of positive integers less than <math>1000</math> that are neither <math>7</math>-nice nor <math>8</math>-nice.",
    "solution": "We claim that an integer <math>N</math> is only <math>k</math>-nice if and only if <math>N \\equiv 1 \\pmod k</math>. By the number of divisors formula, the number of divisors of <math>\\prod_{i=1}^n p_i^{a_i}</math> is <math>\\prod_{i=1}^n (a_i+1)</math>. Since all the <math>a_i</math>'s are divisible by <math>k</math> in a perfect <math>k</math> power, the only if part of the claim follows. To show that all numbers <math>N \\equiv 1 \\pmod k</math> are <math>k</math>-nice, write <math>N=bk+1</math>. Note that <math>2^{kb}</math> has the desired number of factors and is a perfect kth power. By PIE, the number of positive integers less than <math>1000</math> that are either <math>1 \\pmod 7</math> or <math>1\\pmod 8</math> is <math>143+125-18=250</math>, so the desired answer is <math>999-250=\\boxed{749}</math>.\n\nSolution by Shaddoll and firebolt360"
  },
  {
    "year": 2016,
    "variant": "II",
    "problem_number": 12,
    "latex": "The figure below shows a ring made of six small sections which you are to paint on a wall. You have four paint colors available and you will paint each of the six sections a solid color. Find the number of ways you can choose to paint the sections if no two adjacent sections can be painted with the same color.\n\n<asy>\ndraw(Circle((0,0), 4));\ndraw(Circle((0,0), 3));\ndraw((0,4)--(0,3));\ndraw((0,-4)--(0,-3));\ndraw((-2.598, 1.5)--(-3.4641, 2));\ndraw((-2.598, -1.5)--(-3.4641, -2));\ndraw((2.598, -1.5)--(3.4641, -2));\ndraw((2.598, 1.5)--(3.4641, 2));\n</asy>",
    "solution": "==Video Solution by [https://artofproblemsolving.com/wiki/index.php/User:grogg007 grogg007] (Under 5 Mins ‚è©)==\nhttps://www.youtube.com/watch?v=lTP-jNtpwoI"
  },
  {
    "year": 2016,
    "variant": "II",
    "problem_number": 13,
    "latex": "Beatrix is going to place six rooks on a <math>6 \\times 6</math> chessboard where both the rows and columns are labeled <math>1</math> to <math>6</math>; the rooks are placed so that no two rooks are in the same row or the same column. The <math>value</math> of a square is the sum of its row number and column number. The <math>score</math> of an arrangement of rooks is the least value of any occupied square.The average score over all valid configurations is <math>\\frac{p}{q}</math>, where <math>p</math> and <math>q</math> are relatively prime positive integers. Find <math>p+q</math>.",
    "solution": "We casework to find the number of ways to get each possible score. Note that the lowest possible score is <math>2</math> and the highest possible score is <math>7</math>. Let the bijective function <math>f(x)=\\{1,2,3,4,5,6\\} \\to \\{1,2,3,4,5,6\\}</math> denote the row number of the rook for the corresponding column number.\n\n*For a score of <math>2</math>, we must have <math>f(1)=1</math>, and we can arrange the rest of the function however we want, so there are <math>5!=120</math> ways.\n\n*For a score of <math>3</math>, we must have either <math>f(1)=2</math> or <math>f(2)=1</math>, and we can arrange the rest of the rooks however we want, so by PIE the number of ways is <math>5!+5!-4!=216</math>.\n\n*For a score of <math>4</math>, we must have <math>f(1)=3</math>, <math>f(2)=2</math>, or <math>f(3)=1</math>. If <math>f(1)=3</math>, we just don't want <math>f(2)=1</math>, if <math>f(2)=2</math>, we don't want <math>f(1)=1</math>, or if <math>f(3)=1</math>, we don't want <math>f(1)=2</math>, otherwise we can arrange the function however we like. If at least <math>2</math> of the values rooks have a value of <math>4</math>, we can arrange the rest of the rooks however we like, so there are <math>3(5!-4!)-3(4!)+3!=222</math> by PIE.\n\n*If the score is <math>5</math>, then we have either <math>f(4)=1</math>, <math>f(3)=2</math>, <math>f(2)=3</math>, or <math>f(1)=4</math>. If we have the first case, we don't want <math>f(2)=2</math>, <math>f(1)=2</math>, or <math>f(1)=3</math>, so by PIE the number of bad cases is <math>4!+4!+4!-3!=66</math>. If we have the second case, then we don't want <math>f(2)=1</math>, <math>f(1)=1</math>, or <math>f(1)=3</math>, so similarly there are <math>66</math> bad cases. This is true for the other two cases as well. Therefore, there are a total of <math>120-66=54</math> good cases for each one. The number of ways to get <math>f(4)=1, f(1)=4</math> is <math>4!-3!=18</math> because we don't want <math>f(2)=2</math>, the number of ways to get <math>f(4)=1, f(2)=3</math> is <math>18</math> ways because we don't want <math>f(1)=2</math>, the number of ways to get <math>f(4)=1, f(3)=2</math> is <math>18</math> ways because we don't want <math>f(1)=3</math>, the number of ways to get <math>f(3)=2, f(1)=4</math> is <math>18</math> ways because we don't want <math>f(2)=1</math>, the number of ways to get <math>f(3)=2, f(2)=3</math> is <math>18</math> ways because we don't want <math>f(1)=1</math>, and the number of ways to get <math>f(1)=4, f(2)=3</math> is <math>18</math> ways because we don't want <math>f(3)=1</math>. The number of ways to get at least <math>3</math> cases satisfied is <math>3! \\cdot 4</math> because we can arrange the remaining rooks however we like, and the number of ways to get all <math>4</math> cases satisfied is <math>2!=2</math>  ways because we can arrange the remaining rooks however we like, so by PIE we have <math>54 \\cdot 4-18 \\cdot 6 + 3! \\cdot 4-2!=130</math> ways to get a score of <math>5</math>.\n\n*The only way to get a score of <math>7</math> is to have all the rooks run on the antidiagonal. Therefore, the number of ways to get a sum of <math>6</math> is <math>6!-120-216-222-130-1=31</math>.\nThus, the expected sum is <math>\\dfrac{120 \\cdot 2 + 216 \\cdot 3 + 222 \\cdot 4 + 130 \\cdot 5 + 31 \\cdot 6 + 1 \\cdot 7}{720}= \\dfrac{2619}{720}=\\dfrac{291}{80}</math>, so the desired answer is <math>291+80=\\boxed{371}</math>."
  },
  {
    "year": 2016,
    "variant": "II",
    "problem_number": 14,
    "latex": "Equilateral <math>\\triangle ABC</math> has side length <math>600</math>. Points <math>P</math> and <math>Q</math> lie outside the plane of <math>\\triangle ABC</math> and are on opposite sides of the plane. Furthermore, <math>PA=PB=PC</math>, and <math>QA=QB=QC</math>, and the planes of <math>\\triangle PAB</math> and <math>\\triangle QAB</math> form a <math>120^{\\circ}</math> dihedral angle (the angle between the two planes). There is a point <math>O</math> whose distance from each of <math>A,B,C,P,</math> and <math>Q</math> is <math>d</math>. Find <math>d</math>.",
    "solution": "The inradius of <math>\\triangle ABC</math> is <math>100\\sqrt 3</math> and the circumradius is <math>200 \\sqrt 3</math>. Now, consider the line perpendicular to plane <math>ABC</math> through the circumcenter of <math>\\triangle ABC</math>. Note that <math>P,Q,O</math> must lie on that line to be equidistant from each of the triangle's vertices. Also, note that since <math>P, Q, O</math> are collinear, and <math>OP=OQ</math>, we must have <math>O</math> is the midpoint of <math>PQ</math>.  Now, Let <math>K</math> be the circumcenter of <math>\\triangle ABC</math>, and <math>L</math> be the foot of the altitude from <math>A</math> to <math>BC</math>. We must have <math>\\tan(\\angle KLP+ \\angle QLK)= \\tan(120^{\\circ})</math>. Setting <math>KP=x</math> and <math>KQ=y</math>, assuming WLOG <math>x>y</math>, we must have <math>\\tan(120^{\\circ})=-\\sqrt{3}=\\dfrac{\\dfrac{x+y}{100 \\sqrt{3}}}{\\dfrac{30000-xy}{30000}}</math>. Therefore, we must have <math>100(x+y)=xy-30000</math>. Also, we must have <math>\\left(\\dfrac{x+y}{2}\\right)^{2}=\\left(\\dfrac{x-y}{2}\\right)^{2}+120000</math> by the Pythagorean theorem, so we have <math>xy=120000</math>, so substituting into the other equation we have <math>90000=100(x+y)</math>, or <math>x+y=900</math>. Since we want <math>\\dfrac{x+y}{2}</math>, the desired answer is <math>\\boxed{450}</math>."
  },
  {
    "year": 2016,
    "variant": "II",
    "problem_number": 15,
    "latex": "For <math>1 \\leq i \\leq 215</math> let <math>a_i = \\dfrac{1}{2^{i}}</math> and <math>a_{216} = \\dfrac{1}{2^{215}}</math>. Let <math>x_1, x_2, ..., x_{216}</math> be positive real numbers such that <math>\\sum_{i=1}^{216} x_i=1</math> and <math>\\sum_{1 \\leq i < j \\leq 216} x_ix_j = \\dfrac{107}{215} + \\sum_{i=1}^{216} \\dfrac{a_i x_i^{2}}{2(1-a_i)}</math>. The maximum possible value of <math>x_2=\\dfrac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "Note that\n<cmath>\\begin{align*}\\sum_{1 \\leq i < j \\leq 216} x_ix_j &= \\frac12\\left(\\left(\\sum_{i=1}^{216} x_i\\right)^2-\\sum_{i=1}^{216} x_i^2\\right)\\\\&=\\frac12\\left(1-\\sum x_i^2\\right).\\end{align*}</cmath>\nSubstituting this into the second equation and collecting <math>x_i^2</math> terms, we find \n<cmath>\\sum_{i=1}^{216}\\frac{x_i^2}{1-a_i}=\\frac{1}{215}.</cmath> Conveniently, <math>\\sum_{i=1}^{216} 1-a_i=215</math> so we find\n<cmath>\\left(\\sum_{i=1}^{216} 1-a_i\\right)\\left(\\sum_{i=1}^{216}\\frac{x_i^2}{1-a_i}\\right)=1=\\left(\\sum_{i=1}^{216} x_i\\right)^2.</cmath> This is the equality case of the Cauchy-Schwarz Inequality, so <math>x_i=c(1-a_i)</math> for some constant <math>c</math>. Summing these equations and using the facts that <math>\\sum_{i=1}^{216} x_i=1</math> and <math>\\sum_{i=1}^{216} 1-a_i=215</math>, we find <math>c=\\frac{1}{215}</math> and thus <math>x_2=c(1-a_2)=\\frac{1}{215}\\cdot \\left(1-\\frac{1}{4}\\right)=\\frac{3}{860}</math>. Hence the desired answer is <math>860+3=\\boxed{863}</math>."
  },
  {
    "year": 2017,
    "variant": "I",
    "problem_number": 1,
    "latex": "==Problem 1==\nFifteen distinct points are designated on <math>\\triangle ABC</math>: the 3 vertices <math>A</math>, <math>B</math>, and <math>C</math>; <math>3</math> other points on side <math>\\overline{AB}</math>; <math>4</math> other points on side <math>\\overline{BC}</math>; and <math>5</math> other points on side <math>\\overline{CA}</math>. Find the number of triangles with positive area whose vertices are among these <math>15</math> points.",
    "solution": "Every triangle is uniquely determined by 3 points. There are <math>\\binom{15}{3}=455</math> ways to choose 3 points, but that counts the degenerate triangles formed by choosing three points on a line. There are <math>\\binom{5}{3}</math> invalid cases on segment <math>AB</math>, <math>\\binom{6}{3}</math> invalid cases on segment <math>BC</math>, and <math>\\binom{7}{3}</math> invalid cases on segment <math>CA</math> for a total of <math>65</math> invalid cases. The answer is thus <math>455-65=\\boxed{390}</math>."
  },
  {
    "year": 2017,
    "variant": "I",
    "problem_number": 2,
    "latex": "==Problem 2==\nWhen each of <math>702</math>, <math>787</math>, and <math>855</math> is divided by the positive integer <math>m</math>, the remainder is always the positive integer <math>r</math>. When each of <math>412</math>, <math>722</math>, and <math>815</math> is divided by the positive integer <math>n</math>, the remainder is always the positive integer <math>s \\neq r</math>. Find <math>m+n+r+s</math>.",
    "solution": "Let's work on both parts of the problem separately. First, <cmath>855 \\equiv 787 \\equiv 702 \\equiv r \\pmod{m}.</cmath> We take the difference of <math>855</math> and <math>787</math>, and also of <math>787</math> and <math>702</math>. We find that they are <math>85</math> and <math>68</math>, respectively. Since the greatest common divisor of the two differences is <math>17</math> (and the only one besides one), it's safe to assume that <math>m = 17</math>.\n\nThen, we divide <math>855</math> by <math>17</math>, and it's easy to see that <math>r = 5</math>. Dividing <math>787</math> and <math>702</math> by <math>17</math> also yields remainders of <math>5</math>, which means our work up to here is correct.\n\nDoing the same thing with <math>815</math>, <math>722</math>, and <math>412</math>, the differences between <math>815</math> and <math>722</math> and <math>412</math> are <math>310</math> and <math>93</math>, respectively. Since the only common divisor (besides <math>1</math>, of course) is <math>31</math>, <math>n = 31</math>. Dividing all <math>3</math> numbers by <math>31</math> yields a remainder of <math>9</math> for each, so <math>s = 9</math>. Thus, <math>m + n + r + s = 17 + 5 + 31 + 9 = \\boxed{062}</math>."
  },
  {
    "year": 2017,
    "variant": "I",
    "problem_number": 3,
    "latex": "==Problem 3==\nFor a positive integer <math>n</math>, let <math>d_n</math> be the units digit of <math>1 + 2 + \\dots + n</math>. Find the remainder when\n<cmath>\\sum_{n=1}^{2017} d_n</cmath>is divided by <math>1000</math>.",
    "solution": "We see that <math>d_n</math> appears in cycles of <math>20</math> and the cycles are <cmath>1,3,6,0,5,1,8,6,5,5,6,8,1,5,0,6,3,1,0,0,</cmath> adding a total of <math>70</math> each cycle.\nSince <math>\\left\\lfloor\\frac{2017}{20}\\right\\rfloor=100</math>, we know that by <math>2017</math>, there have been <math>100</math> cycles and <math>7000</math> has been added. This can be discarded as we're just looking for the last three digits.\nAdding up the first <math>17</math> of the cycle of <math>20</math>, we can see that the answer is <math>\\boxed{069}</math>.\n ~ Maths_Is_Hard"
  },
  {
    "year": 2017,
    "variant": "I",
    "problem_number": 4,
    "latex": "A pyramid has a triangular base with side lengths <math>20</math>, <math>20</math>, and <math>24</math>. The three edges of the pyramid from the three corners of the base to the fourth vertex of the pyramid all have length <math>25</math>. The volume of the pyramid is <math>m\\sqrt{n}</math>, where <math>m</math> and <math>n</math> are positive integers, and <math>n</math> is not divisible by the square of any prime. Find <math>m+n</math>.",
    "solution": "Let the triangular base be <math>\\triangle ABC</math>, with <math>\\overline {AB} = 24</math>. We find that the altitude to side <math>\\overline {AB}</math> is <math>16</math>, so the area of <math>\\triangle ABC</math> is <math>(24*16)/2 = 192</math>.\n\nLet the fourth vertex of the tetrahedron be <math>P</math>, and let the midpoint of <math>\\overline {AB}</math> be <math>M</math>. Since <math>P</math> is equidistant from <math>A</math>, <math>B</math>, and <math>C</math>, the line through <math>P</math> perpendicular to the plane of <math>\\triangle ABC</math> will pass through the circumcenter of <math>\\triangle ABC</math>, which we will call <math>O</math>. Note that <math>O</math> is equidistant from each of <math>A</math>, <math>B</math>, and <math>C</math>. Then,\n\n<cmath>\\overline {OM} + \\overline {OC} = \\overline {CM} = 16</cmath>\n\nLet <math>\\overline {OM} = d</math>. Then <math>OC=OA=\\sqrt{d^2+12^2}.</math>\nEquation <math>(1)</math>:\n<cmath>d + \\sqrt {d^2 + 144} = 16</cmath>\n\nSquaring both sides, we have\n\n<cmath>d^2 + 144 + 2d\\sqrt {d^2+144} + d^2 = 256</cmath>\n\n<cmath>2d^2 + 2d\\sqrt {d^2+144} = 112</cmath>\n\n<cmath>2d(d + \\sqrt {d^2+144}) = 112</cmath>\n\nSubstituting with equation <math>(1)</math>:\n\n<cmath>2d(16) = 112</cmath>\n\n<cmath>d = 7/2</cmath>\n\nWe now find that <math>\\sqrt{d^2 + 144} = 25/2</math>.\n\nLet the distance <math>\\overline {OP} = h</math>. Using the Pythagorean Theorem on triangle <math>AOP</math>, <math>BOP</math>, or <math>COP</math> (all three are congruent by SSS):\n\n<cmath>25^2 = h^2 + (25/2)^2</cmath>\n\n<cmath>625 = h^2 + 625/4</cmath>\n\n<cmath>1875/4 = h^2</cmath>\n\n<cmath>25\\sqrt {3} / 2 = h</cmath>\n\n\nFinally, by the formula for volume of a pyramid,\n\n<cmath>V = Bh/3</cmath>\n\n<cmath>V = (192)(25\\sqrt{3}/2)/3</cmath>\nThis simplifies to <math>V = 800\\sqrt {3}</math>, so <math>m+n = \\boxed {803}</math>.\n\n\nNOTE : If you don‚Äôt know or remember the formula for the volume of a triangular pyramid, you can derive it using calculus as follows :\n\nTake a small triangular element in the pyramid. We know that it‚Äôs area is proportional to the height from the vertex to the base. Hence, we know that <math>\\frac{A_{small element}}{A} = \\frac{h^2}{H^2} \\implies A_{small element} = \\frac{Ah^2}{H^2}</math>. Now integrate it taking the limits <math>0</math> to <math>H</math>\n\n===Shortcut===\nHere is a shortcut for finding the radius <math>R</math> of the circumcenter of <math>\\triangle ABC</math>.\n\nAs before, we find that the foot of the altitude from <math>P</math> lands on the circumcenter of <math>\\triangle ABC</math>. Let <math>BC=a</math>, <math>AC=b</math>, and <math>AB=c</math>.\nThen we write the area of <math>\\triangle ABC</math> in two ways:\n<cmath>[ABC]= \\frac{1}{2} \\cdot 24 \\cdot 16 = \\frac{abc}{4R}</cmath>\n\nPlugging in <math>20</math>, <math>20</math>, and <math>24</math> for <math>a</math>, <math>b</math>, and <math>c</math> respectively, and solving for <math>R</math>, we obtain <math>R= \\frac{25}{2}=OA=OB=OC</math>.\n\nThen continue as before to use the Pythagorean Theorem on <math>\\triangle AOP</math>, find <math>h</math>, and find the volume of the pyramid.\n\n===Another Shortcut (Extended Law of Sines)===\nTake the base <math>\\triangle ABC</math>, where <math>AB = BC = 20</math> and <math>AC = 24</math>. Draw an altitude from <math>B</math> to <math>AC</math> that bisects <math>AC</math> at point <math>D</math>. Then the altitude has length <math>\\sqrt{20^2 - 12^2} = \\sqrt{16^2} = 16</math>. Next, let <math>\\angle BCA = \\theta</math>. Then from the right triangle <math>\\triangle BDC</math>, <math>\\sin \\theta = 4/5</math>. From the extended law of sines, the circumradius is <math>20 \\cdot \\dfrac{5}{4} \\cdot \\dfrac{1}{2} = \\dfrac{25}{2}</math>."
  },
  {
    "year": 2017,
    "variant": "I",
    "problem_number": 5,
    "latex": "==Problem 5==\nA rational number written in base eight is <math>\\underline{ab} . \\underline{cd}</math>, where all digits are nonzero. The same number in base twelve is <math>\\underline{bb} . \\underline{ba}</math>. Find the base-ten number <math>\\underline{abc}</math>.",
    "solution": "First, note that the first two digits will always be a positive number. We will start with base twelve because of its repetition. List all the positive numbers in base eight that have equal tens and ones digits in base 12.\n\n<math>11_{12}=15_8</math>\n\n<math>22_{12}=32_8</math>\n\n<math>33_{12}=47_8</math>\n\n<math>44_{12}=64_8</math>\n\n<math>55_{12}=101_8</math> \n\nWe stop because we only can have two-digit numbers in base 8 and 101 is not a 2 digit number.\nCompare the ones places to check if they are equal. We find that they are equal if <math>b=2</math> or <math>b=4</math>.\nEvaluating the places to the right side of the decimal point gives us <math>22.23_{12}</math> or <math>44.46_{12}</math>.\nWhen the numbers are converted into base 8, we get <math>32.14_8</math> and <math>64.30_8</math>. Since <math>d\\neq0</math>, the first value is correct. Compiling the necessary digits leaves us a final answer of <math>\\boxed{321}</math>"
  },
  {
    "year": 2017,
    "variant": "I",
    "problem_number": 6,
    "latex": "==Problem 6==\nA circle is circumscribed around an isosceles triangle whose two congruent angles have degree measure <math>x</math>. Two points are chosen independently and uniformly at random on the circle, and a chord is drawn between them. The probability that the chord intersects the triangle is <math>\\frac{14}{25}</math>. Find the difference between the largest and smallest possible values of <math>x</math>.",
    "solution": "The probability that the chord doesn't intersect the triangle is <math>\\frac{11}{25}</math>. The only way this can happen is if the two points are chosen on the same arc between two of the triangle vertices. The probability that a point is chosen on one of the arcs opposite one of the base angles is <math>\\frac{2x}{360}=\\frac{x}{180}</math> (this comes from the Central Angle Theorem, which states that the central angle from two points on a circle is always twice the inscribed angle from those two points), and the probability that a point is chosen on the arc between the two base angles is <math>\\frac{180-2x}{180}</math>. Therefore, we can write <cmath>2\\left(\\frac{x}{180}\\right)^2+\\left(\\frac{180-2x}{180}\\right)^2=\\frac{11}{25}</cmath>\nThis simplifies to <cmath>x^2-120x+3024=0</cmath>\n\n(Note that the simplification is quite tedious)\n\nWhich factors as <cmath>(x-84)(x-36)=0</cmath>\nSo <math>x=84, 36</math>. The difference between these is <math>\\boxed{048}</math>.\n\n\nNote:\n\nWe actually do not need to spend time factoring <math>x^2 - 120x + 3024</math>. Since the problem asks for <math>|x_1 - x_2|</math>, where <math>x_1</math> and <math>x_2</math> are the roots of the quadratic, we can utilize Vieta's by noting that <math>(x_1 - x_2) ^ 2 = (x_1 + x_2) ^ 2 - 4x_1x_2</math>. Vieta's gives us <math>x_1 + x_2 = 120,</math> and <math>x_1x_2 = 3024.</math> Plugging this into the above equation and simplifying gives us <math>(x_1 - x_2) ^ 2 = 2304,</math> or <math>|x_1 - x_2| = 48</math>. \n\nOur answer is then <math>\\boxed{048}</math>.\n\nAnother note: \n\nLetting <math> y = x/180 </math>, the first equation turns into <math>2y^2 + (1-2y)^2 = 11/25</math>, heavily simplifying the otherwise messy simplification, and you can use the aforementioned note to find <math>|y_1 - y_2| = 4/15</math>. Using <math>x = 180y</math>, <math>|x_1 - x_2| =  180|y_1 - y_2|</math>, so the answer is <math>180(4/15) = \\boxed{048}</math>"
  },
  {
    "year": 2017,
    "variant": "I",
    "problem_number": 7,
    "latex": "==Problem 7==\nFor nonnegative integers <math>a</math> and <math>b</math> with  <math>a + b \\leq 6</math>, let <math>T(a, b) = \\binom{6}{a} \\binom{6}{b} \\binom{6}{a + b}</math>. Let <math>S</math> denote the sum of all <math>T(a, b)</math>, where  <math>a</math> and <math>b</math> are nonnegative integers with <math>a + b \\leq 6</math>. Find the remainder when <math>S</math> is divided by <math>1000</math>.",
    "solution": "==Major Note==\nMost solutions use committee forming (except for the bash solution). To understand more about the techniques used, visit the [[committee forming]] page for more information."
  },
  {
    "year": 2017,
    "variant": "I",
    "problem_number": 8,
    "latex": "==Problem 8==\nTwo real numbers <math>a</math> and <math>b</math> are chosen independently and uniformly at random from the interval <math>(0, 75)</math>. Let <math>O</math> and <math>P</math> be two points on the plane with <math>OP = 200</math>. Let <math>Q</math> and <math>R</math> be on the same side of line <math>OP</math> such that the degree measures of <math>\\angle POQ</math> and <math>\\angle POR</math> are <math>a</math> and <math>b</math> respectively, and <math>\\angle OQP</math> and <math>\\angle ORP</math> are both right angles. The probability that <math>QR \\leq 100</math> is equal to <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m + n</math>.",
    "solution": "Noting that <math>\\angle OQP</math> and <math>\\angle ORP</math> are right angles, we realize that we can draw a semicircle with diameter <math>\\overline{OP}</math> and points <math>Q</math> and <math>R</math> on the semicircle. Since the radius of the semicircle is <math>100</math>, if <math>\\overline{QR} \\leq 100</math>, then <math>\\overarc{QR}</math> must be less than or equal to <math>60^{\\circ}</math>.\n\nThis simplifies the problem greatly. Since the degree measure of an angle on a circle is simply half the degree measure of its subtended arc, the problem is simply asking:\n\nGiven <math>a, b</math> such that <math>0<a, b<75</math>, what is the probability that <math>|a-b| \\leq 30</math>? \nThrough simple geometric probability, we get that <math>P = \\frac{16}{25}</math>.\n\nThe answer is <math>16+25=\\boxed{041}</math>\n\n~IYN~\nNote: The Geometric probability can be easily be found through graphing on the x-y plane."
  },
  {
    "year": 2017,
    "variant": "I",
    "problem_number": 9,
    "latex": "==Problem 9==\nLet <math>a_{10} = 10</math>, and for each positive integer <math>n >10</math> let <math>a_n = 100a_{n - 1} + n</math>. Find the least positive <math>n > 10</math> such that <math>a_n</math> is a multiple of <math>99</math>.",
    "solution": "Writing out the recursive statement for <math>a_n, a_{n-1}, \\dots, a_{10}</math> and summing them gives <cmath>a_n+\\dots+a_{10}=(a_n+\\cdots+a_{11})+a_{10}=100(a_{n-1}+\\dots+a_{10})+n+\\dots+10</cmath>\nWhich simplifies to <cmath>a_n=99(a_{n-1}+\\dots+a_{10})+\\frac{1}{2}(n+10)(n-9)</cmath>\nTherefore, <math>a_n</math> is divisible by 99 if and only if <math>\\frac{1}{2}(n+10)(n-9)</math> is divisible by 99, so <math>(n+10)(n-9)</math> needs to be divisible by 9 and 11. Since our goal is just finding the minimum <math>n</math>, we can do casework on whether the <math>n+10</math> or <math>n-9</math> is a multiple of 11 (We choose 11 because it is prime). Assume that <math>n+10</math> is a multiple of 11. Writing out a few terms, <math>n=12, 23, 34, 45</math>, we see that <math>n=45</math> is the smallest <math>n</math> that works in this case. Next, assume that <math>n-9</math> is a multiple of 11. Writing out a few terms, <math>n=20, 31, 42, 53</math>, we see that <math>n=53</math> is the smallest <math>n</math> that works in this case. The smallest <math>n</math> is <math>\\boxed{045}</math>.\n\nNote that we can also construct the solution using CRT by assuming either <math>11</math> divides <math>n+10</math> and <math>9</math> divides <math>n-9</math>, or <math>9</math> divides <math>n+10</math> and <math>11</math> divides <math>n-9</math>, and taking the smaller solution. (We know this because it's impossible for both <math>n+10</math> and <math>n-9</math> to be divisible by 3)."
  },
  {
    "year": 2017,
    "variant": "I",
    "problem_number": 10,
    "latex": "==Problem 10==\nLet <math>z_1=18+83i,~z_2=18+39i,</math> and <math>z_3=78+99i,</math> where <math>i=\\sqrt{-1}.</math> Let <math>z</math> be the unique complex number with the properties that <math>\\frac{z_3-z_1}{z_2-z_1}~\\cdot~\\frac{z-z_2}{z-z_3}</math> is a real number and the imaginary part of <math>z</math> is the greatest possible. Find the real part of <math>z</math>.",
    "solution": "This problem is pretty obvious how to bash, and indeed many of the solutions below explain how to do that. But there‚Äôs no fun in that, and let‚Äôs see if we can come up with a slicker solution that will be more enjoyable.\n\nInstead of thinking of complex numbers as purely a real plus a constant times <math>i</math>, let‚Äôs graph them and hope that the geometric visualization adds insight to the problem.\n\n<asy>\n\nsize(1200,300); \n\nreal xMin = 0;\nreal xMax = 100;\nreal yMin = 0;\nreal yMax = 120;\n\ndraw((xMin,0)--(xMax,0),black+linewidth(1.5),EndArrow(5));\ndraw((0,yMin)--(0,yMax),black+linewidth(1.5),EndArrow(5));\nlabel(\"$R$\",(xMax,0),(2,0));\nlabel(\"$Im$\",(0,yMax),(0,2));\n\npair A,B,C,D;\nA = (18,83); B = (18,39); C = (78,99); D = (56, 104.908997);\ndot(A);\ndot(B);\ndot(C);\ndot(D);\n\nlabel(\"$Z_1$\", A, N); \nlabel(\"$Z_2$\", B, S);\nlabel(\"$Z_3$\", C, N); \nlabel(\"$Z$\", D, N);\n\n\n\n\n</asy>\n\nNote that when we subtract two vectors, the geometric result is the line segment between the two endpoints of the vectors. Thus we can fill in <math>z_3 - z_1, z_2 - z_1, z-z_2 </math> and <math>z-z_3</math> as so;\n\n<asy>\n\nsize(1200,300); \n\nreal xMin = 0;\nreal xMax = 100;\nreal yMin = 0;\nreal yMax = 120;\n\ndraw((xMin,0)--(xMax,0),black+linewidth(1.5),EndArrow(5));\ndraw((0,yMin)--(0,yMax),black+linewidth(1.5),EndArrow(5));\nlabel(\"$R$\",(xMax,0),(2,0));\nlabel(\"$Im$\",(0,yMax),(0,2));\n\npair A,B,C,D;\nA = (18,83); B = (18,39); C = (78,99); D = (56, 104.908997);\ndot(A);\ndot(B);\ndot(C);\ndot(D);\n\ndraw(A--C);\n\ndraw(A--B);\n\ndraw(D--C);\n\ndraw(D--B);\n\nlabel(\"$Z_1$\", A, N); \nlabel(\"$Z_2$\", B, S);\nlabel(\"$Z_3$\", C, N); \nlabel(\"$Z$\", D, N);\n\n</asy>\n\n\n<math>\\angle Z_3Z_1Z_2</math> looks similar to <math>\\angle Z_3ZZ_2</math>, so let‚Äôs try to prove that they are congruent. We can show this in two ways;\n\n===Solution 1.1===\n\nLet‚Äôs look back at the information given to us. The problem states that <math>\\frac{z_3-z_1}{z_2-z_1}~\\cdot~\\frac{z-z_2}{z-z_3}</math> is a real number. Let the real number be some constant, <math>c</math>. Rearranging yields <math>\\frac{z_3-z_1}{z_2-z_1} = c~\\cdot~\\frac{z-z_3}{z-z_2}</math>.\nBut how do we relate this expression to our angles? Well, let‚Äôs take a look at the divisions themselves.\n\nThe subtraction of two vectors yields a vector, and we can write any vector division as <math>\\frac{V_1}{V_2}= X</math> where <math>X</math> is a complex number, as the division of two vectors also yields a vector. We can rewrite this as <math>V_1 = V_2 \\cdot X</math>. We can think of this expression as transforming <math>V_2</math> directly on to <math>V_1</math>, and <math>X</math> is the transformation function. However, this transformation must be some kind of rotation, which means that the degree measure of <math>X</math> is equal to the angle between the two vectors since we need to rotate by that angle to lay <math>V_2</math> flat on <math>V_1</math>.\n\nThus we can rewrite our previous equation as <math>X_1 = c \\cdot X_2</math>, where the angle of <math>X_1</math> equals the angle between <math>z_3-z_1</math> and <math>z_2-z_1</math> and likewise for <math>X_2</math>. More precisely, we can write <math>X_1, X_2</math> as <math>r_1 \\cdot e^{i \\theta_1} </math> and <math>r_2 \\cdot e^{i\\theta_2}</math>, respectively by Euler‚Äôs formula. Then <math>\\theta_1= \\theta_2</math> is the claim we wish to prove.\n\nWe can now do some simple algebra to prove this;  \n\n<math>r_1 \\cdot e^{i \\theta_1} = c \\cdot r_2 \\cdot e^{i\\theta_2} \\implies \\frac{c \\cdot r_2}{r_1} = e^{i(\\theta_1-\\theta_2)} = \\cos{(\\theta_1-\\theta_2)} + i \\cdot \\sin{(\\theta_1-\\theta_2)}</math>\n\n<math>\\frac{c \\cdot r_2}{r_1}</math> is obviously real, so <math> \\cos{(\\theta_1-\\theta_2)} + i \\cdot \\sin{(\\theta_1-\\theta_2)}</math> must be real as well. But the only way that can happen is if <math>\\sin{(\\theta_1-\\theta_2)} = 0 \\implies \\theta_1-\\theta_2 = 0 \\implies \\boxed{\\theta_1 = \\theta_2}</math>.\n\nFood For Thought: Let a, b, c, and d be pairwise distinct complex numbers. Then, a, b, c, and d are concyclic if and only if d-b/d-a : c-b/c-a  is a real number. How can we use the above theorem to prove this?\n\n===Solution 1.2===\n\nLet us write <math>\\frac{z_3 - z_1}{z_2 - z_1}</math> as some complex number with form <math>r_1 (\\cos \\theta_1 + i \\sin \\theta_1).</math> Similarly, we can write <math>\\frac{z-z_2}{z-z_3}</math> as some <math>r_2 (\\cos \\theta_2 + i \\sin \\theta_2).</math>\n\nThe product must be real, so we have that <math>r_1 r_2 (\\cos \\theta_1 + i \\sin \\theta_1) (\\cos \\theta_2 + i \\sin \\theta_2)</math> is real. <math>r_1 r_2</math> is real by definition, so dividing the real number above by <math>r_1 r_2</math> will still yield a real number. (Note that we can see that <math>r_1 r_2 \\not= 0</math> from the definitions of <math>z_1,</math> <math>z_2,</math> and <math>z_3</math>). Thus we have \n\n<cmath>(\\cos \\theta_1 + i \\sin \\theta_1) (\\cos \\theta_2 + i \\sin \\theta_2) = \\cos \\theta_1 \\cos \\theta_2 - \\sin \\theta_1 \\sin \\theta_2 + i(\\cos \\theta_1 \\sin \\theta_2 + \\cos \\theta_2 \\sin \\theta_1)</cmath>\n\nis real. The imaginary part of this is <math>(\\cos \\theta_1 \\sin \\theta_2 + \\cos \\theta_2 \\sin \\theta_1),</math> which we recognize as <math>\\sin(\\theta_1 + \\theta_2).</math> This is only <math>0</math> when <math>\\theta_1 + \\theta_2 = k\\pi</math> for some integer <math>k</math>. Here <math>\\theta_2</math> represents the major angle<math> \\angle Z_3ZZ_2</math>, and the angle we want is the minor angle, so we can rewrite the equation as <math>\\theta_1 + 2\\pi - \\theta_2 = k\\pi \\implies \\theta_1 - \\theta_2 = (k-2)\\pi</math>. We can see from the diagram that both <math>\\theta_1</math> and <math>\\theta_2</math> are obtuse, so therefore <math>\\theta_1 - \\theta_2 = 0 \\implies \\boxed{\\theta_1 = \\theta_2}</math>.\n\n===Solution 1 Rejoined===\n\nNow that we‚Äôve proven this fact, we know that all four points lie on a circle (intuitively one can also observe this because <math>z=z_1</math> and <math>z=z_2</math> satisfy the property in the question, and <math>z=z_3</math> techincally gives no imaginary part), so let‚Äôs draw that in;\n\n\n<asy>\n\nsize(1200,300); \n\nreal xMin = 0;\nreal xMax = 100;\nreal yMin = 0;\nreal yMax = 120;\n\ndraw((xMin,0)--(xMax,0),black+linewidth(1.5),EndArrow(5));\ndraw((0,yMin)--(0,yMax),black+linewidth(1.5),EndArrow(5));\nlabel(\"$R$\",(xMax,0),(2,0));\nlabel(\"$Im$\",(0,yMax),(0,2));\n\npair A,B,C,D;\nA = (18,83); B = (18,39); C = (78,99); D = (56,104.908997);\ndot(A);\ndot(B);\ndot(C);\ndot(D);\n\ndraw(A--C);\n\ndraw(A--B);\n\ndraw(D--C);\n\ndraw(C--B);\n\ndraw(D--B);\n\nlabel(\"$Z_1$\", A, W); \nlabel(\"$Z_2$\", B, W);\nlabel(\"$Z_3$\", C, N); \nlabel(\"$Z$\", D, N);\n\ndraw(circle((56,61), 43.9089968));\n\n</asy>\n\nWhile <math>Z_1, Z_2, Z_3</math> are fixed, <math>Z</math> can be anywhere on the circle because those are the only values of <math>Z</math> that satisfy the problem requirements. However, we want to find the real part of the <math>Z</math> with the maximum imaginary part. This Z would lie directly above the center of the circle, and thus the real part would be the same as the x-value of the center of the circle. So all we have to do is find this value and we‚Äôre done.\n\nConsider the perpendicular bisectors of <math>Z_1Z_2</math> and <math>Z_2Z_3</math>. Since any chord can be perpendicularly bisected by a radius of a circle, these two lines both intersect at the center. Since <math>Z_1Z_2</math> is vertical, the perpendicular bisector will be horizontal and pass through the midpoint of this line, which is (18, 61). Therefore the equation for this line is <math>y=61</math>. \n<math>Z_2Z_3</math> is nice because it turns out the differences in the x and y values are both equal (60) which means that the slope of the line is 1. The slope of the perpendicular bisector is therefore -1 and it passes through the midpoint, (48,69), so the equation of this line is <math>y=-x+117</math>. Finally, equating the two yields <cmath>61=-x+117 \\implies x = \\boxed{056}</cmath>\n\n~KingRavi\n\n~Anonymous(Solution 1.2)"
  },
  {
    "year": 2017,
    "variant": "I",
    "problem_number": 11,
    "latex": "==Problem 11==\nConsider arrangements of the <math>9</math> numbers <math>1, 2, 3, \\dots, 9</math> in a <math>3 \\times 3</math> array. For each such arrangement, let <math>a_1</math>, <math>a_2</math>, and <math>a_3</math> be the medians of the numbers in rows <math>1</math>, <math>2</math>, and <math>3</math> respectively, and let <math>m</math> be the median of <math>\\{a_1, a_2, a_3\\}</math>. Let <math>Q</math> be the number of arrangements for which <math>m = 5</math>. Find the remainder when <math>Q</math> is divided by <math>1000</math>.",
    "solution": "Assume that <math>5 \\in \\{a_1, a_2, a_3\\}</math>, <math>m \\neq 5</math>, and WLOG, <math>\\max{(a_1, a_2, a_3)} = 5</math>. Then we know that the other two medians in <math>\\{a_1, a_2, a_3\\}</math> and the smallest number of rows 1, 2, and 3 are all less than 5. But there are only 4 numbers less than 5 in <math>1, 2, 3, \\dots, 9</math>, a Contradiction. Thus, if <math>5 \\in \\{a_1, a_2, a_3\\}</math>, then <math>m = 5</math>.\n\nWLOG, assume <math>5</math> is in the upper left corner. One of the two other values in the top row needs to be below <math>5</math>, and the other needs to be above <math>5</math>. This can be done in <math>4\\cdot4\\cdot2=32</math> ways.\nThe other <math>6</math> can be arranged in <math>6!=720</math> ways.\nFinally, accounting for when <math>5</math> is in every other space, our answer is <math>32\\cdot720\\cdot9</math>, which is <math>207360</math>. But we only need the last <math>3</math> digits, so <math>\\boxed{360}</math> is our answer.\n\n~Solution by SuperSaiyanOver9000, mathics42, edited by zhaohm\n===Alternative Proof===\n'''Claim:''' As long as one median is equal to <math>5,</math> the overall median is equal to <math>5.</math>\n\n'''Proof:''' Notice that to obtain a median of <math>5,</math> we need one number greater and one number lesser than <math>5</math> along with <math>5.</math>\n\nThus, we remain with 3 numbers greater than <math>5</math> and 3 less than <math>5,</math> meaning that the overall median, no matter the distribution, of the remaining two rows must be <math>5.</math>\n\nmathboy282"
  },
  {
    "year": 2017,
    "variant": "I",
    "problem_number": 12,
    "latex": "==Problem 12==\nCall a set <math>S</math> product-free if there do not exist <math>a, b, c \\in S</math> (not necessarily distinct) such that <math>a b = c</math>. For example, the empty set and the set <math>\\{16, 20\\}</math> are product-free, whereas the sets <math>\\{4, 16\\}</math> and <math>\\{2, 8, 16\\}</math> are not product-free. Find the number of product-free subsets of the set <math>\\{1, 2, 3, 4,..., 7, 8, 9, 10\\}</math>.",
    "solution": "We shall solve this problem by doing casework on the lowest element of the subset. Note that the number <math>1</math> cannot be in the subset because <math>1*1=1</math>. Let <math>S</math> be a product-free set. If the lowest element of <math>S</math> is <math>2</math>, we consider the set <math>\\{3, 6, 9\\}</math>. We see that 5 of these subsets can be a subset of <math>S</math> (<math>\\{3\\}</math>, <math>\\{6\\}</math>, <math>\\{9\\}</math>, <math>\\{6, 9\\}</math>, and the empty set). Now consider the set <math>\\{5, 10\\}</math>. We see that 3 of these subsets can be a subset of <math>S</math> (<math>\\{5\\}</math>, <math>\\{10\\}</math>, and the empty set). Note that <math>4</math> cannot be an element of <math>S</math>, because <math>2</math> is. Now consider the set <math>\\{7, 8\\}</math>. All four of these subsets can be a subset of <math>S</math>. So if the smallest element of <math>S</math> is <math>2</math>, there are <math>5*3*4=60</math> possible such sets.\n\nIf the smallest element of <math>S</math> is <math>3</math>, the only restriction we have is that <math>9</math> is not in <math>S</math>. This leaves us <math>2^6=64</math> such sets.\n\nIf the smallest element of <math>S</math> is not <math>2</math> or <math>3</math>, then <math>S</math> can be any subset of <math>\\{4, 5, 6, 7, 8, 9, 10\\}</math>, including the empty set. This gives us <math>2^7=128</math> such subsets.\n\nSo our answer is <math>60+64+128=\\boxed{252}</math>."
  },
  {
    "year": 2017,
    "variant": "I",
    "problem_number": 13,
    "latex": "==Problem 13==\nFor every <math>m \\geq 2</math>, let <math>Q(m)</math> be the least positive integer with the following property: For every <math>n \\geq Q(m)</math>, there is always a perfect cube <math>k^3</math> in the range <math>n < k^3 \\leq m \\cdot n</math>. Find the remainder when <cmath>\\sum_{m = 2}^{2017} Q(m)</cmath>is divided by 1000.",
    "solution": "Lemma 1: The ratio between <math>k^3</math> and <math>(k+1)^3</math> decreases as <math>k</math> increases.\n\nLemma 2: If the range <math>(n,mn]</math> includes <math>y</math> cubes, <math>(p,mp]</math> will always contain at least <math>y-1</math> cubes for all <math>p</math> in <math>[n,+\\infty)</math>.\n\nIf <math>m=14</math>, the range <math>(1,14]</math> includes one cube. The range <math>(2,28]</math> includes 2 cubes, which fulfills the Lemma. Since <math>n=1</math> also included a cube, we can assume that <math>Q(m)=1</math> for all <math>m>14</math>. Two groups of 1000 are included in the sum modulo 1000. They do not count since <math>Q(m)=1</math> for all of them, therefore <cmath>\\sum_{m = 2}^{2017} Q(m) \\equiv \\sum_{m = 2}^{17} Q(m) \\mod 1000</cmath>\n\nNow that we know this we will find the smallest <math>n</math> that causes <math>(n,mn]</math> to contain two cubes and work backwards (recursion) until there is no cube in <math>(n,mn]</math>.\n\nFor <math>m=2</math> there are two cubes in <math>(n,2n]</math> for <math>n=63</math>. There are no cubes in <math>(31,62]</math> but there is one in <math>(32,64]</math>. Therefore <math>Q(2)=32</math>.\n\nFor <math>m=3</math> there are two cubes in <math>(n,3n]</math> for <math>n=22</math>. There are no cubes in <math>(8,24]</math> but there is one in <math>(9,27]</math>. Therefore <math>Q(3)=9</math>.\n\nFor <math>m</math> in <math>\\{4,5,6,7\\}</math> there are two cubes in <math>(n,4n]</math> for <math>n=7</math>. There are no cubes in <math>(1,4]</math> but there is one in <math>(2,8]</math>. Therefore <math>Q(4)=2</math>, and the same for <math>Q(5)</math>, <math>Q(6)</math>, and <math>Q(7)</math> for a sum of <math>8</math>.\n\nFor all other <math>m</math> there is one cube in <math>(1,8]</math>, <math>(2,16]</math>, <math>(3,24]</math>, and there are two in <math>(4,32]</math>. Therefore, since there are 10 values of <math>m</math> in the sum, this part sums to <math>10</math>.\n\nWhen the partial sums are added, we get <math>\\boxed{059}\\hspace{2 mm}QED\\hspace{2 mm} \\blacksquare</math>\n\nThis solution is brought to you by [[User:a1b2|a1b2]]"
  },
  {
    "year": 2017,
    "variant": "I",
    "problem_number": 14,
    "latex": "==Problem 14==\n\nLet <math>a > 1</math> and <math>x > 1</math> satisfy <math>\\log_a(\\log_a(\\log_a 2) + \\log_a 24 - 128) = 128</math> and <math>\\log_a(\\log_a x) = 256</math>. Find the remainder when <math>x</math> is divided by <math>1000</math>.",
    "solution": "The first condition implies\n\n<cmath>a^{128} = \\log_a\\log_a 2 + \\log_a 24 - 128</cmath>\n\n<cmath>128+a^{128} = \\log_a\\log_a 2^{24}</cmath>\n\n<cmath>a^{a^{128}a^{a^{128}}} = 2^{24}</cmath>\n\n<cmath>\\left(a^{a^{128}}\\right)^{\\left(a^{a^{128}}\\right)} = 2^{24} = 8^8</cmath>\n\nSo <math>a^{a^{128}} = 8</math>. \n\nPutting each side to the power of <math>128</math>:\n\n<cmath>\\left(a^{128}\\right)^{\\left(a^{128}\\right)} = 8^{128} = 64^{64},</cmath>\n\nso <math>a^{128} = 64 \\implies a = 2^{\\frac{3}{64}}</math>. Specifically,\n\n<cmath>\\log_a(x) = \\frac{\\log_2(x)}{\\log_2(a)} = \\frac{64}{3}\\log_2(x)</cmath>\n\nso we have that\n\n<cmath>256 = \\log_a(\\log_a(x)) = \\frac{64}{3}\\log_2\\left(\\frac{64}{3}\\log_2(x)\\right)</cmath>\n\n<cmath>12 = \\log_2\\left(\\frac{64}{3}\\log_2(x)\\right)</cmath>\n\n<cmath>2^{12} = \\frac{64}{3}\\log_2(x)</cmath>\n\n<cmath>192 = \\log_2(x)</cmath>\n\n<cmath>x = 2^{192}</cmath>\n\nWe only wish to find <math>x\\bmod 1000</math>. To do this, we note that <math>x\\equiv 0\\bmod 8</math> and now, by the Chinese Remainder Theorem, wish only to find <math>x\\bmod 125</math>. By [[Euler's Totient Theorem]]:\n\n<cmath>2^{\\phi(125)} = 2^{100} \\equiv 1\\bmod 125</cmath>\n\nso\n\n<cmath>2^{192} \\equiv \\frac{1}{2^8} \\equiv \\frac{1}{256} \\equiv \\frac{1}{6} \\bmod 125</cmath>\n\nso we only need to find the inverse of <math>6 \\bmod 125</math>. It is easy to realize that <math>6\\cdot 21 = 126 \\equiv 1\\bmod 125</math>, so \n\n<cmath>x\\equiv 21\\bmod 125, x\\equiv 0\\bmod 8.</cmath>\n\nUsing [[Chinese Remainder Theorem]], we get that <math>x\\equiv \\boxed{896}\\bmod 1000</math>, finishing the solution."
  },
  {
    "year": 2017,
    "variant": "I",
    "problem_number": 15,
    "latex": "==Problem 15==\n\nThe area of the smallest equilateral triangle with one vertex on each of the sides of the right triangle with side lengths <math>2\\sqrt{3},~5,</math> and <math>\\sqrt{37},</math> as shown, is <math>\\frac{m\\sqrt{p}}{n},</math> where <math>m,~n,</math> and <math>p</math> are positive integers, <math>m</math> and <math>n</math> are relatively prime, and <math>p</math> is not divisible by the square of any prime. Find <math>m+n+p.</math>\n\n<asy>\nsize(5cm);\npair C=(0,0),B=(0,2*sqrt(3)),A=(5,0);\nreal t = .385, s = 3.5*t-1;\npair R = A*t+B*(1-t), P=B*s;\npair Q = dir(-60) * (R-P) + P;\nfill(P--Q--R--cycle,gray);\ndraw(A--B--C--A^^P--Q--R--P);\ndot(A--B--C--P--Q--R);\n</asy>",
    "solution": "Lemma: If <math>x,y</math> satisfy <math>px+qy=1</math>, then the minimal value of <math>\\sqrt{x^2+y^2}</math> is <math>\\frac{1}{\\sqrt{p^2+q^2}}</math>.\n\nProof: Recall that the distance between the point <math>(x_0,y_0)</math> and the line <math>px+qy+r = 0</math> is given by <math>\\frac{|px_0+qy_0+r|}{\\sqrt{p^2+q^2}}</math>. In particular, the distance between the origin and any point <math>(x,y)</math> on the line <math>px+qy=1</math> is at least <math>\\frac{1}{\\sqrt{p^2+q^2}}</math>.\n\n---\n\nLet the vertices of the right triangle be <math>(0,0),(5,0),(0,2\\sqrt{3}),</math> and let <math>(a,0),(0,b)</math> be the two vertices of the equilateral triangle on the legs of the right triangle. Then, the third vertex of the equilateral triangle is <math>\\left(\\frac{a+b\\sqrt{3}}{2},\\frac{a\\sqrt{3}+b}{2}\\right)</math>. This point must lie on the hypotenuse <math>\\frac{x}{5} + \\frac{y}{2\\sqrt{3}} = 1</math>, i.e. <math>a,b</math> must satisfy\n<cmath> \\frac{a+b\\sqrt{3}}{10}+\\frac{a\\sqrt{3}+b}{4\\sqrt{3}} = 1,</cmath>\nwhich can be simplified to\n<cmath>\\frac{7}{20}a + \\frac{11\\sqrt{3}}{60}b = 1.</cmath>\n\nBy the lemma, the minimal value of <math>\\sqrt{a^2+b^2}</math> is\n<cmath>\\frac{1}{\\sqrt{\\left(\\frac{7}{20}\\right)^2 + \\left(\\frac{11\\sqrt{3}}{60}\\right)^2}} = \\frac{10\\sqrt{3}}{\\sqrt{67}},</cmath>\nso the minimal area of the equilateral triangle is\n<cmath> \\frac{\\sqrt{3}}{4} \\cdot \\left(\\frac{10\\sqrt{3}}{\\sqrt{67}}\\right)^2 = \\frac{\\sqrt{3}}{4} \\cdot \\frac{300}{67} = \\frac{75\\sqrt{3}}{67},</cmath>\nand hence the answer is <math>75+3+67=\\boxed{145}</math>."
  },
  {
    "year": 2017,
    "variant": "II",
    "problem_number": 1,
    "latex": "Find the number of subsets of <math>\\{1, 2, 3, 4, 5, 6, 7, 8\\}</math> that are subsets of neither <math>\\{1, 2, 3, 4, 5\\}</math> nor <math>\\{4, 5, 6, 7, 8\\}</math>.",
    "solution": "The number of subsets of a set with <math>n</math> elements is <math>2^n</math>. The total number of subsets of <math>\\{1, 2, 3, 4, 5, 6, 7, 8\\}</math> is equal to <math>2^8</math>. The number of sets that are subsets of at least one of <math>\\{1, 2, 3, 4, 5\\}</math> or <math>\\{4, 5, 6, 7, 8\\}</math> can be found using complementary counting. There are <math>2^5</math> subsets of <math>\\{1, 2, 3, 4, 5\\}</math> and <math>2^5</math> subsets of <math>\\{4, 5, 6, 7, 8\\}</math>. It is easy to make the mistake of assuming there are <math>2^5+2^5</math> sets that are subsets of at least one of <math>\\{1, 2, 3, 4, 5\\}</math> or <math>\\{4, 5, 6, 7, 8\\}</math>, but the <math>2^2</math> subsets of <math>\\{4, 5\\}</math> are overcounted. There are <math>2^5+2^5-2^2</math> sets that are subsets of at least one of <math>\\{1, 2, 3, 4, 5\\}</math> or <math>\\{4, 5, 6, 7, 8\\}</math>, so there are <math>2^8-(2^5+2^5-2^2)</math> subsets of <math>\\{1, 2, 3, 4, 5, 6, 7, 8\\}</math> that are subsets of neither <math>\\{1, 2, 3, 4, 5\\}</math> nor <math>\\{4, 5, 6, 7, 8\\}</math>. <math>2^8-(2^5+2^5-2^2)=\\boxed{196}</math>."
  },
  {
    "year": 2017,
    "variant": "II",
    "problem_number": 2,
    "latex": "The teams <math>T_1</math>, <math>T_2</math>, <math>T_3</math>, and <math>T_4</math> are in the playoffs. In the semifinal matches, <math>T_1</math> plays <math>T_4</math>, and <math>T_2</math> plays <math>T_3</math>. The winners of those two matches will play each other in the final match to determine the champion. When <math>T_i</math> plays <math>T_j</math>, the probability that <math>T_i</math> wins is <math>\\frac{i}{i+j}</math>, and the outcomes of all the matches are independent. The probability that <math>T_4</math> will be the champion is <math>\\frac{p}{q}</math>, where <math>p</math> and <math>q</math> are relatively prime positive integers. Find <math>p+q</math>.",
    "solution": "There are two scenarios in which <math>T_4</math> wins. The first scenario is where <math>T_4</math> beats <math>T_1</math>, <math>T_3</math> beats <math>T_2</math>, and <math>T_4</math> beats <math>T_3</math>, and the second scenario is where <math>T_4</math> beats <math>T_1</math>, <math>T_2</math> beats <math>T_3</math>, and <math>T_4</math> beats <math>T_2</math>. Consider the first scenario. The probability <math>T_4</math> beats <math>T_1</math> is <math>\\frac{4}{4+1}</math>, the probability <math>T_3</math> beats <math>T_2</math> is <math>\\frac{3}{3+2}</math>, and the probability <math>T_4</math> beats <math>T_3</math> is <math>\\frac{4}{4+3}</math>. Therefore the first scenario happens with probability <math>\\frac{4}{4+1}\\cdot\\frac{3}{3+2}\\cdot\\frac{4}{4+3}</math>. Consider the second scenario. The probability <math>T_4</math> beats <math>T_1</math> is <math>\\frac{4}{1+4}</math>, the probability <math>T_2</math> beats <math>T_3</math> is <math>\\frac{2}{2+3}</math>, and the probability <math>T_4</math> beats <math>T_2</math> is <math>\\frac{4}{4+2}</math>. Therefore the second scenario happens with probability <math>\\frac{4}{1+4}\\cdot\\frac{2}{2+3}\\cdot\\frac{4}{4+2}</math>. By summing these two probabilities, the probability that <math>T_4</math> wins is <math>\\frac{4}{4+1}\\cdot\\frac{3}{3+2}\\cdot\\frac{4}{4+3}+\\frac{4}{1+4}\\cdot\\frac{2}{2+3}\\cdot\\frac{4}{4+2}</math>. Because this expression is equal to <math>\\frac{256}{525}</math>, the answer is <math>256+525=\\boxed{781}</math>."
  },
  {
    "year": 2017,
    "variant": "II",
    "problem_number": 3,
    "latex": "A triangle has vertices <math>A(0,0)</math>, <math>B(12,0)</math>, and <math>C(8,10)</math>. The probability that a randomly chosen point inside the triangle is closer to vertex <math>B</math> than to either vertex <math>A</math> or vertex <math>C</math> can be written as <math>\\frac{p}{q}</math>, where <math>p</math> and <math>q</math> are relatively prime positive integers. Find <math>p+q</math>.",
    "solution": "<asy>\npair A,B,C,D,X,Z,P;\nA=(0,0); B=(12,0); C=(8,10); X=(10,5); Z=(6,0); P=(6,3.4);\nfill(B--X--P--Z--cycle,lightgray);\ndraw(A--B--C--cycle);\ndot(A);\nlabel(\"$A$\",A,SW);\ndot(B);\nlabel(\"$B$\",B,SE);\ndot(C);\nlabel(\"$C$\",C,N);\ndraw(X--P,dashed);\ndraw(Z--P,dashed);\ndot(X);\nlabel(\"$X$\",X,NE);\ndot(Z);\nlabel(\"$Z$\",Z,S);\ndot(P);\nlabel(\"$P$\",P,NW);\n</asy>\n\nThe set of all points closer to point <math>B</math> than to point <math>A</math> lie to the right of the perpendicular bisector of <math>AB</math> (line <math>PZ</math> in the diagram), and the set of all points closer to point <math>B</math> than to point <math>C</math> lie below the perpendicular bisector of <math>BC</math> (line <math>PX</math> in the diagram). Therefore, the set of points inside the triangle that are closer to <math>B</math> than to either vertex <math>A</math> or vertex <math>C</math> is bounded by quadrilateral <math>BXPZ</math>. Because <math>X</math> is the midpoint of <math>BC</math> and <math>Z</math> is the midpoint of <math>AB</math>, <math>X=(10,5)</math> and <math>Z=(6,0)</math>. The coordinates of point <math>P</math> is the solution to the system of equations defined by lines <math>PX</math> and <math>PZ</math>. Using the point-slope form of a linear equation and the fact that the slope of the line perpendicular to a line with slope <math>m</math> is <math>-\\frac{1}{m}</math>, the equation for line <math>PX</math> is <math>y=\\frac{2}{5}x+1</math> and the equation for line <math>PZ</math> is <math>x=6</math>. The solution of this system is <math>P=\\left(6,\\frac{17}{5}\\right)</math>. Using the shoelace formula on quadrilateral <math>BXPZ</math> and triangle <math>ABC</math>, the area of quadrilateral <math>BXPZ</math> is <math>\\frac{109}{5}</math> and the area of triangle <math>ABC</math> is <math>60</math>. Finally, the probability that a randomly chosen point inside the triangle is closer to vertex <math>B</math> than to vertex <math>A</math> or vertex <math>C</math> is the ratio of the area of quadrilateral <math>BXPZ</math> to the area of <math>ABC</math>, which is <math>\\frac{\\frac{109}{5}}{60}=\\frac{109}{300}</math>. The answer is <math>109+300=\\boxed{409}</math>."
  },
  {
    "year": 2017,
    "variant": "II",
    "problem_number": 4,
    "latex": "Find the number of positive integers less than or equal to <math>2017</math> whose base-three representation contains no digit equal to <math>0</math>.",
    "solution": "===Solution 1===\nThe base-<math>3</math> representation of <math>2017_{10}</math> is <math>2202201_3</math>. Because any <math>7</math>-digit base-<math>3</math> number that starts with <math>22</math> and has no digit equal to <math>0</math> must be greater than <math>2017_{10}</math>, all <math>7</math>-digit numbers that have no digit equal to <math>0</math> must start with <math>21</math> or <math>1</math> in base <math>3</math>. Of the base-<math>3</math> numbers that have no digit equal to <math>0</math>, there are <math>2^5</math> <math>7</math>-digit numbers that start with <math>21</math>, <math>2^6</math> <math>7</math>-digit numbers that start with <math>1</math>, <math>2^6</math> <math>6</math>-digit numbers, <math>2^5</math> <math>5</math>-digit numbers, <math>2^4</math> <math>4</math>-digit numbers, <math>2^3</math> <math>3</math>-digit numbers, <math>2^2</math> <math>2</math>-digit numbers, and <math>2^1</math> <math>1</math>-digit numbers. Summing these up, we find that the answer is <math>2^5+2^6+2^6+2^5+2^4+2^3+2^2+2^1=\\boxed{222}</math>.\n\n===Solution 2===\n\nNote that <math>2017=2202201_{3}</math>, and <math>2187=3^7=10000000_{3}</math>. There can be a <math>1,2,...,7</math> digit number less than <math>2187</math>, and each digit can either be <math>1</math> or <math>2</math>. So <math>2^1</math> one digit numbers and so on up to <math>2^7</math> <math>7</math> digit.\n\n\nNow we have to subtract out numbers from <math>2018</math> to <math>2187</math>\n\nThen either the number must begin <math>221...</math> or <math>222...</math> with  four more digits at the end\n\nUsing <math>1</math>s and <math>2</math>s there are <math>2^4</math> options for each so:\n\n<math>2+4+8+16+32+64+128-2*16=256-2-32=\\boxed{222}</math>\n\n===Solution 3 (Casework)===\nSince the greatest power of <math>3</math> that can be used is <math>3^6</math>, we can do these cases.\n\nCoefficient of <math>3^6=0</math>: Then if the number has only <math>3^0</math>, it has 2 choices (1 or 2). Likewise if the number has both a <math>3^1</math> and <math>3^0</math> term, there are 4 choices, and so on until <math>3^5</math>, so the sum is <math>2+4+...+64=127-1=126</math>.\n\nCoefficient of <math>3^6=1</math>: Any combination of <math>1</math> or <math>2</math> for the remaining coefficients works, so <math>2^6=64</math>. Why is this less than <math>126</math>? Because the first time around, leading zeroes didn't count. But this time, all coefficients <math>3^n</math> of <math>n<6</math> need 1 and 2.\n\nCoefficient of <math>3^6=2</math>: Look at <math>3^5</math> coefficient. If 1, all of them work because <math>3^7=2187-3^5=243<<2017</math>. That's 32 cases. Now of this coefficient is 2, then at the coefficient of <math>3^4=81</math> is at least 1. However, <math>3^6*2+3^5*2+3^4>>2017</math>, so our answer is <math>126+64+32=\\boxed{222}</math>."
  },
  {
    "year": 2017,
    "variant": "II",
    "problem_number": 5,
    "latex": "A set contains four numbers. The six pairwise sums of distinct elements of the set, in no particular order, are <math>189</math>, <math>320</math>, <math>287</math>, <math>234</math>, <math>x</math>, and <math>y</math>. Find the greatest possible value of <math>x+y</math>.",
    "solution": "Let these four numbers be <math>a</math>, <math>b</math>, <math>c</math>, and <math>d</math>, where <math>a>b>c>d</math>. <math>x+y</math> needs to be maximized, so let <math>x=a+b</math> and <math>y=a+c</math> because these are the two largest pairwise sums. Now <math>x+y=2a+b+c</math> needs to be maximized. Notice that <math>2a+b+c=3(a+b+c+d)-(a+2b+2c+3d)=3((a+c)+(b+d))-((a+d)+(b+c)+(b+d)+(c+d))</math>. No matter how the numbers <math>189</math>, <math>320</math>, <math>287</math>, and <math>234</math> are assigned to the values <math>a+d</math>, <math>b+c</math>, <math>b+d</math>, and <math>c+d</math>, the sum <math>(a+d)+(b+c)+(b+d)+(c+d)</math> will always be <math>189+320+287+234</math>. Therefore we need to maximize <math>3((a+c)+(b+d))-(189+320+287+234)</math>. The maximum value of <math>(a+c)+(b+d)</math> is achieved when we let <math>a+c</math> and <math>b+d</math> be <math>320</math> and <math>287</math> because these are the two largest pairwise sums besides <math>x</math> and <math>y</math>. Therefore, the maximum possible value of <math>x+y=3(320+287)-(189+320+287+234)=\\boxed{791}</math>."
  },
  {
    "year": 2017,
    "variant": "II",
    "problem_number": 6,
    "latex": "Find the sum of all positive integers <math>n</math> such that <math>\\sqrt{n^2+85n+2017}</math> is an integer.",
    "solution": "Manipulating the given expression, <math>\\sqrt{n^2+85n+2017}=\\frac{1}{2}\\sqrt{4n^2+340n+8068}=\\frac{1}{2}\\sqrt{(2n+85)^2+843}</math>. The expression under the radical must be an square number for the entire expression to be an integer, so <math>(2n+85)^2+843=s^2</math>. Rearranging, <math>s^2-(2n+85)^2=843</math>. By difference of squares, <math>(s-(2n+85))(s+(2n+85))=1\\times843=3\\times281</math>. It is easy to check that those are all the factor pairs of 843. Considering each factor pair separately, <math>2n+85</math> is found to be <math>421</math> and <math>139</math>. The two values of <math>n</math> that satisfy one of the equations are <math>168</math> and <math>27</math>. Summing these together gives us the answer ; <math>168+27=\\boxed{195}</math>."
  },
  {
    "year": 2017,
    "variant": "II",
    "problem_number": 7,
    "latex": "Find the number of integer values of <math>k</math> in the closed interval <math>[-500,500]</math> for which the equation <math>\\log(kx)=2\\log(x+2)</math> has exactly one real solution.",
    "solution": "<asy>\nLabel f; \nf.p=fontsize(5); \nxaxis(-3,3,Ticks(f,1.0));\nyaxis(-3,26,Ticks(f,1.0));\nreal f(real x){return (x+2)^2;}\nreal g(real x){return x*-1;}\nreal h(real x){return x*-2;}\nreal i(real x){return x*-3;}\nreal j(real x){return x*8;}\ndraw(graph(f,-2,3),green);\ndraw(graph(g,-2,2),red);\ndraw(graph(h,-2,1),red);\ndraw(graph(i,-2,1/3),red);\ndraw(graph(j,-0.25,3),red);\n</asy>\nNote the equation <math>\\log(kx)=2\\log(x+2)</math> is valid for <math>kx>0</math> and <math>x>-2</math>. <math>\\log(kx)=2\\log(x+2)=\\log((x+2)^2)</math>. The equation <math>kx=(x+2)^2</math> is derived by taking away the outside logs from the previous equation. Because <math>(x+2)^2</math> is always non-negative, <math>kx</math> must also be non-negative; therefore this takes care of the <math>kx>0</math> condition as long as <math>k\\neq0</math>, i.e. <math>k</math> cannot be <math>0</math>. Now, we graph both <math>(x+2)^2</math> (the green graph) and <math>kx</math> (the red graph for <math>k=-1,k=-2,k=-3,k=8</math>) for <math>x>-2</math>. It is easy to see that all negative values of <math>k</math> make the equation <math>\\log(kx)=2\\log(x+2)</math> have only one solution. However, there is also one positive value of <math>k</math> that makes the equation only have one solution, as shown by the steepest line in the diagram. We can show that the slope of this line is a positive integer by setting the discriminant of the equation <math>(x+2)^2=kx</math> to be <math>0</math> and solving for <math>k</math>. Therefore, there are <math>500</math> negative solutions and <math>1</math> positive solution, for a total of <math>\\boxed{501}</math>."
  },
  {
    "year": 2017,
    "variant": "II",
    "problem_number": 8,
    "latex": "Find the number of positive integers <math>n</math> less than <math>2017</math> such that <cmath>1+n+\\frac{n^2}{2!}+\\frac{n^3}{3!}+\\frac{n^4}{4!}+\\frac{n^5}{5!}+\\frac{n^6}{6!}</cmath> is an integer.",
    "solution": "We start with the last two terms of the polynomial <math>1+n+\\frac{n^2}{2!}+\\frac{n^3}{3!}+\\frac{n^4}{4!}+\\frac{n^5}{5!}+\\frac{n^6}{6!}</math>, which are <math>\\frac{n^5}{5!}+\\frac{n^6}{6!}</math>. This can simplify to <math>\\frac{6n^5+n^6}{720}</math>, which can further simplify to <math>\\frac{n^5(6+n)}{720}</math>. Notice that the prime factorization of <math>720</math> is <math>5\\cdot3\\cdot3\\cdot2\\cdot2\\cdot2\\cdot2</math>. In order for <math>\\frac{n^5(6+n)}{720}</math> to be an integer, one of the parts must divide <math>5, 3</math>, and <math>2</math>. Thus, one of the parts must be a multiple of <math>5, 3</math>, and <math>2</math>, and the LCM  of these three numbers is <math>30</math>. This means <cmath>n^5 \\equiv 0\\pmod{30}</cmath> or <cmath>6+n \\equiv 0\\pmod{30}</cmath> Thus, we can see that <math>n</math> must equal <math>0\\pmod{30}</math> or <math>-6\\pmod{30}</math>. Note that as long as we satisfy <math>\\frac{6n^5+n^6}{720}</math>, <math>2!, 3!</math>, and <math>4!</math> will all divide into integers, as their prime factorizations will be fulfilled with the LCM being 30. E.g. <math>4! = 2\\cdot2\\cdot2\\cdot2\\cdot3</math>, and this will be divisible by <math>2^4\\cdot3^4\\cdot5^4</math>. Now, since we know that <math>n</math> must equal <math>0\\pmod{30}</math> or <math>-6\\pmod{30}</math> in order for the polynomial to be an integer, <math>n\\equiv0, 24\\pmod{30}</math>. To find how many integers fulfill the equation and are <math><2017</math>, we take <math>\\left \\lfloor\\frac{2017}{30} \\right \\rfloor</math> and multiply it by <math>2</math>. Thus, we get <math>67\\cdot2=\\boxed{134}</math>.\n\n~Solution by IronicNinja~"
  },
  {
    "year": 2017,
    "variant": "II",
    "problem_number": 9,
    "latex": "A special deck of cards contains <math>49</math> cards, each labeled with a number from <math>1</math> to <math>7</math> and colored with one of seven colors. Each number-color combination appears on exactly one card. Sharon will select a set of eight cards from the deck at random. Given that she gets at least one card of each color and at least one card with each number, the probability that Sharon can discard one of her cards and <math>\\textit{still}</math> have at least one card of each color and at least one card with each number is <math>\\frac{p}{q}</math>, where <math>p</math> and <math>q</math> are relatively prime positive integers. Find <math>p+q</math>.",
    "solution": "Without loss of generality, assume that the <math>8</math> numbers on Sharon's cards are <math>1</math>, <math>1</math>, <math>2</math>, <math>3</math>, <math>4</math>, <math>5</math>, <math>6</math>, and <math>7</math>, in that order, and assume the <math>8</math> colors are red, red, and six different arbitrary colors. There are <math>{8\\choose2}-1</math> ways of assigning the two red cards to the <math>8</math> numbers; we subtract <math>1</math> because we cannot assign the two reds to the two <math>1</math>'s.\nIn order for Sharon to be able to remove at least one card and still have at least one card of each color, one of the reds have to be assigned with one of the <math>1</math>s. The number of ways for this to happen is <math>2 \\cdot 6 = 12</math> (the first card she draws has to be a <math>1</math> (2 choices), while the second card can be any card but the remaining card with a <math>1</math> (6 choices)). Each of these assignments is equally likely, so desired probability is <math>\\frac{12}{{8\\choose2}-1}=\\frac{4}{9} \\implies 4 + 9 = 13 = \\boxed{013}</math>."
  },
  {
    "year": 2017,
    "variant": "II",
    "problem_number": 10,
    "latex": "Rectangle <math>ABCD</math> has side lengths <math>AB=84</math> and <math>AD=42</math>. Point <math>M</math> is the midpoint of <math>\\overline{AD}</math>, point <math>N</math> is the trisection point of <math>\\overline{AB}</math> closer to <math>A</math>, and point <math>O</math> is the intersection of <math>\\overline{CM}</math> and <math>\\overline{DN}</math>. Point <math>P</math> lies on the quadrilateral <math>BCON</math>, and <math>\\overline{BP}</math> bisects the area of <math>BCON</math>. Find the area of <math>\\triangle CDP</math>.",
    "solution": "<asy>\npair A,B,C,D,M,n,O,P;\nA=(0,42);B=(84,42);C=(84,0);D=(0,0);M=(0,21);n=(28,42);O=(12,18);P=(32,13);\nfill(C--D--P--cycle,blue);\ndraw(A--B--C--D--cycle);\ndraw(C--M);\ndraw(D--n);\ndraw(B--P);\ndraw(D--P);\nlabel(\"$A$\",A,NW);\nlabel(\"$B$\",B,NE);\nlabel(\"$C$\",C,SE);\nlabel(\"$D$\",D,SW);\nlabel(\"$M$\",M,W);\nlabel(\"$N$\",n,N);\nlabel(\"$O$\",O,(-0.5,1));\nlabel(\"$P$\",P,N);\ndot(A);\ndot(B);\ndot(C);\ndot(D);\ndot(M);\ndot(n);\ndot(O);\ndot(P);\nlabel(\"28\",(0,42)--(28,42),N);\nlabel(\"56\",(28,42)--(84,42),N);\n</asy>\nImpose a coordinate system on the diagram where point <math>D</math> is the origin. Therefore <math>A=(0,42)</math>, <math>B=(84,42)</math>, <math>C=(84,0)</math>, and <math>D=(0,0)</math>. Because <math>M</math> is a midpoint and <math>N</math> is a trisection point, <math>M=(0,21)</math> and <math>N=(28,42)</math>. The equation for line <math>DN</math> is <math>y=\\frac{3}{2}x</math> and the equation for line <math>CM</math> is <math>\\frac{1}{84}x+\\frac{1}{21}y=1</math>, so their intersection, point <math>O</math>, is <math>(12,18)</math>. Using the shoelace formula on quadrilateral <math>BCON</math>, or drawing diagonal <math>\\overline{BO}</math> and using <math>\\frac12bh</math>, we find that its area is <math>2184</math>. Therefore the area of triangle <math>BCP</math> is <math>\\frac{2184}{2} = 1092</math>. Using <math>A = \\frac 12 bh</math>, we get <math>2184 = 42h</math>. Simplifying, we get <math>h = 52</math>. This means that the x-coordinate of <math>P = 84 - 52 = 32</math>. Since P lies on <math>\\frac{1}{84}x+\\frac{1}{21}y=1</math>, you can solve and get that the y-coordinate of <math>P</math> is <math>13</math>. Therefore the area of <math>CDP</math> is <math>\\frac{1}{2} \\cdot 13 \\cdot 84=\\boxed{546}</math>."
  },
  {
    "year": 2017,
    "variant": "II",
    "problem_number": 11,
    "latex": "Five towns are connected by a system of roads. There is exactly one road connecting each pair of towns. Find the number of ways there are to make all the roads one-way in such a way that it is still possible to get from any town to any other town using the roads (possibly passing through other towns on the way).",
    "solution": "It is obvious that any configuration of one-way roads which contains a town whose roads all lead into it or lead out of it cannot satisfy the given. We claim that any configuration which does not have a town whose roads all lead into it or lead out of it does satisfy the given conditions. Now we show that a loop of <math>3</math> or more towns exist. Pick a town, then choose a neighboring town to travel to <math>5</math> times. Of these <math>6</math> towns visited, at least two of them must be the same; therefore there must exist a loop of <math>3</math> or more towns because a loop of <math>2</math> towns cannot exist. We want to show that the loop can be reached from any town, and any town can be reached from the loop.\n\n<math>\\textbf{Case 1}</math>. The loop has <math>5</math> towns.\nClearly every town can be reached by going around the loop.\n\n<math>\\textbf{Case 2}</math>. The loop has <math>4</math> towns.\nThe town not on the loop must have a road leading to it. This road comes from a town on the loop. Therefore this town can be reached from the loop. This town not on the loop must also have a road leading out of it. This road leads to a town on the loop. Therefore the loop can be reached from the town.\n\n<math>\\textbf{Case 3}</math>. The loop has <math>3</math> towns.\nThere are two towns not on the loop; call them Town <math>A</math> and Town <math>B</math>. Without loss of generality assume <math>A</math> leads to <math>B</math>. Because a road must lead to <math>A</math>, the town where this road comes from must be on the loop. Therefore <math>A</math> and therefore <math>B</math> can be reached from the loop. Because a road must lead out of <math>B</math>, the town it leads to must be on the loop. Therefore the loop can be reached from <math>B</math> and also <math>A</math>.\n\nThe number of good configurations is the total number of configurations minus the number of bad configurations. There are <math>2^{{5\\choose2}}</math> total configurations. To find the number of bad configurations in which a town exists such that all roads lead to it, there are <math>5</math> ways to choose this town and <math>2^6</math> ways to assign the six other roads that do not connect to this town. The same logic is used to find the number of bad configurations in which a town exists such that all roads lead out of it. It might be tempting to conclude that there are <math>5 \\cdot 2^6+5 \\cdot 2^6</math> bad configurations, but the configurations in which there exists a town such that all roads lead to it and a town such that all roads lead out of it are overcounted. There are <math>5</math> ways to choose the town for which all roads lead to it, <math>4</math> ways to choose the town for which all roads lead out of it, and <math>2^3</math> ways to assign the remaining <math>3</math> roads not connected to either of these towns. Therefore, the answer is <math>2^{{5\\choose2}}-(5 \\cdot 2^6+5 \\cdot 2^6-5\\cdot 4 \\cdot 2^3)=\\boxed{544}</math>.\n\n===Diagram===\n[[File:2017AIMEII_P11_Diagram.JPG|400px]]\n\nNote that this isn't necessarily a diagram of the actual sequence of roads (I haven't drawn in every pair of cities to be connected), but a simplified diagram that can be used to represent a visualized representation of the loops in the cases\n'''mathboy282'''"
  },
  {
    "year": 2017,
    "variant": "II",
    "problem_number": 12,
    "latex": "Circle <math>C_0</math> has radius <math>1</math>, and the point <math>A_0</math> is a point on the circle. Circle <math>C_1</math> has radius <math>r<1</math> and is internally tangent to <math>C_0</math> at point <math>A_0</math>. Point <math>A_1</math> lies on circle <math>C_1</math> so that <math>A_1</math> is located <math>90^{\\circ}</math> counterclockwise from <math>A_0</math> on <math>C_1</math>. Circle <math>C_2</math> has radius <math>r^2</math> and is internally tangent to <math>C_1</math> at point <math>A_1</math>. In this way a sequence of circles <math>C_1,C_2,C_3,\\ldots</math> and a sequence of points on the circles <math>A_1,A_2,A_3,\\ldots</math> are constructed, where circle <math>C_n</math> has radius <math>r^n</math> and is internally tangent to circle <math>C_{n-1}</math> at point <math>A_{n-1}</math>, and point <math>A_n</math> lies on <math>C_n</math> <math>90^{\\circ}</math> counterclockwise from point <math>A_{n-1}</math>, as shown in the figure below. There is one point <math>B</math> inside all of these circles. When <math>r = \\frac{11}{60}</math>, the distance from the center <math>C_0</math> to <math>B</math> is <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.\n\n<asy>\ndraw(Circle((0,0),125));\ndraw(Circle((25,0),100));\ndraw(Circle((25,20),80));\ndraw(Circle((9,20),64));\ndot((125,0));\nlabel(\"$A_0$\",(125,0),E);\ndot((25,100));\nlabel(\"$A_1$\",(25,100),SE);\ndot((-55,20));\nlabel(\"$A_2$\",(-55,20),E);\n</asy>",
    "solution": "Impose a coordinate system and let the center of <math>C_0</math> be <math>(0,0)</math> and <math>A_0</math> be <math>(1,0)</math>. Therefore <math>A_1=(1-r,r)</math>, <math>A_2=(1-r-r^2,r-r^2)</math>, <math>A_3=(1-r-r^2+r^3,r-r^2-r^3)</math>, <math>A_4=(1-r-r^2+r^3+r^4,r-r^2-r^3+r^4)</math>, and so on, where the signs alternate in groups of <math>2</math>. The limit of all these points is point <math>B</math>. Using the sum of infinite geometric series formula on <math>B</math> and reducing the expression: <math>(1-r)-(r^2-r^3)+(r^4-r^5)-...=\\frac{1-r}{1+r^2}</math>, <math>(r-r^2)-(r^3-r^4)+(r^5-r^6)-...=\\frac{r-r^2}{1+r^2}</math>. Thus, we get <math>B=\\left(\\frac{1-r}{r^2+1},\\frac{r-r^2}{r^2+1}\\right)</math>. The distance from <math>B</math> to the origin is <math>\\sqrt{\\left(\\frac{1-r}{r^2+1}\\right)^2+\\left(\\frac{r-r^2}{r^2+1}\\right)^2}=\\frac{1-r}{\\sqrt{r^2+1}}.</math> Let <math>r=\\frac{11}{60}</math>, and the distance from the origin is <math>\\frac{49}{61}</math>.  <math>49+61=\\boxed{110}</math>."
  },
  {
    "year": 2017,
    "variant": "II",
    "problem_number": 13,
    "latex": "For each integer <math>n\\geq3</math>, let <math>f(n)</math> be the number of <math>3</math>-element subsets of the vertices of the regular <math>n</math>-gon that are the vertices of an isosceles triangle (including equilateral triangles). Find the sum of all values of <math>n</math> such that <math>f(n+1)=f(n)+78</math>.",
    "solution": "Considering <math>n \\pmod{6}</math>, we have the following formulas:\n\n<math>n\\equiv 0</math>: <math>\\frac{n(n-4)}{2} + \\frac{n}{3}</math>\n\n<math>n\\equiv 2, 4</math>: <math>\\frac{n(n-2)}{2}</math>\n\n<math>n\\equiv 3</math>: <math>\\frac{n(n-3)}{2} + \\frac{n}{3}</math>\n\n<math>n\\equiv 1, 5</math>: <math>\\frac{n(n-1)}{2}</math>\n\nTo derive these formulas, we note the following:\nAny isosceles triangle formed by the vertices of our regular <math>n</math>-sided polygon <math>P</math> has its sides from the set of edges and diagonals of <math>P</math>. Notably, as two sides of an isosceles triangle must be equal, it is important to use the property that same-lengthed edges and diagonals come in groups of <math>n</math>, unless <math>n</math> is even when one set of diagonals (those which bisect the polygon) comes in a group of <math>\\frac{n}{2}</math>. Three properties hold true of <math>f(n)</math>:\n\nWhen <math>n</math> is odd there are <math>\\frac{n(n-1)}{2}</math> satisfactory subsets (This can be chosen with <math>n</math> choices for the not-base vertex, and <math>\\frac{n-1}{2}</math> for the pair of equal sides as we have <math>n-1</math> edges to choose from, and we must divide by 2 for over-count).*\n*Another explanation: For any diagonal or side of the polygon chosen as the base of the isosceles triangle, there is exactly 1 isosceles triangle that can be formed. So, the total number of satisfactory subsets is <math>\\dbinom{n}{2}=\\dfrac{n(n-1)}{2}.</math>\n\nWhen <math>n</math> is even there are <math>\\frac{n(n-2)}{2}</math> satisfactory subsets (This can be chosen with <math>n</math> choices for the not-base vertex, and <math>\\frac{n-2}{2}</math> for the pair of equal sides as we have <math>n-1</math> edges to choose from, one of them which is not satisfactory (the bisecting edge), and we must divide by 2 for over-count).\n\nWhen <math>n</math> is a multiple of three we additionally over-count equilateral triangles, of which there are <math>\\frac{n}{3}</math>. As we count them three times, we are two times over, so we subtract <math>\\frac{2n}{3}</math>.\n\nConsidering the six possibilities <math>n \\equiv 0,1,2,3,4,5 \\pmod{6}</math> and solving, we find that the only valid solutions are <math>n = 36, 52, 157</math>, from which the answer is <math>36 + 52 + 157 = \\boxed{245}</math>."
  },
  {
    "year": 2017,
    "variant": "II",
    "problem_number": 14,
    "latex": "A <math>10\\times10\\times10</math> grid of points consists of all points in space of the form <math>(i,j,k)</math>, where <math>i</math>, <math>j</math>, and <math>k</math> are integers between <math>1</math> and <math>10</math>, inclusive. Find the number of different lines that contain exactly <math>8</math> of these points.",
    "solution": "<math>Case \\textrm{ } 1:</math> The lines are not parallel to the faces\n\nA line through the point <math>(a,b,c)</math> must contain <math>(a \\pm 1, b \\pm 1, c \\pm 1)</math> on it as well, as otherwise, the line would not pass through more than 5 points. This corresponds to the 4 diagonals of the cube.\n\nWe look at the one from <math>(1,1,1)</math> to <math>(10,10,10)</math>. The lower endpoint of the desired lines must contain both a 1 and a 3, so it can be <math>(1,1,3), (1,2,3), (1,3,3)</math>. If <math>\\textrm{min} > 0</math> then the point <math>(a-1,b-1,c-1)</math> will also be on the line for example, 3 applies to the other end.\n\nAccounting for permutations, there are <math>12</math> ways, so there are <math>12 \\cdot 4 = 48</math> different lines for this case. \n\n\n\n<math>Case \\textrm{ } 2:</math> The lines where the <math>x</math>, <math>y</math>, or <math>z</math> is the same for all the points on the line. \n\nWLOG, let the <math>x</math> value stay the same throughout. Let the line be parallel to the diagonal from <math>(1,1,1)</math> to <math>(1,10,10)</math>. For the line to have 8 points, the <math>y</math> and <math>z</math> must be 1 and 3 in either order, and the <math>x</math> value can be any value from 1 to 10. In addition, this line can be parallel to 6 face diagonals. So we get <math>2 \\cdot 10 \\cdot 6 = 120</math> possible lines for this case. \n\nThe answer is, therefore, <math>120 + 48 = \\boxed{168}</math>\n\nSolution by stephcurry added to the wiki by Thedoge edited by Rapurt9 and phoenixfire"
  },
  {
    "year": 2017,
    "variant": "II",
    "problem_number": 15,
    "latex": "Tetrahedron <math>ABCD</math> has <math>AD=BC=28</math>, <math>AC=BD=44</math>, and <math>AB=CD=52</math>. For any point <math>X</math> in space, suppose <math>f(X)=AX+BX+CX+DX</math>. The least possible value of <math>f(X)</math> can be expressed as <math>m\\sqrt{n}</math>, where <math>m</math> and <math>n</math> are positive integers, and <math>n</math> is not divisible by the square of any prime. Find <math>m+n</math>.",
    "solution": "==Official Solution (MAA)==\n[[File:2017 AIME II 15.png|300px|right]]\nLet <math>M</math> and <math>N</math> be midpoints of <math>\\overline{AB}</math> and <math>\\overline{CD}</math>. The given conditions imply that <math>\\triangle ABD\\cong\\triangle BAC</math> and <math>\\triangle CDA\\cong\\triangle DCB</math>, and therefore <math>MC=MD</math> and <math>NA=NB</math>. It follows that <math>M</math> and <math>N</math> both lie on the common perpendicular bisector of <math>\\overline{AB}</math> and <math>\\overline{CD}</math>, and thus line <math>MN</math> is that common perpendicular bisector. Points <math>B</math> and <math>C</math> are symmetric to <math>A</math> and <math>D</math> with respect to line <math>MN</math>. If <math>X</math> is a point in space and <math>X'</math> is the point symmetric to <math>X</math> with respect to line <math>MN</math>, then <math>BX=AX'</math> and <math>CX=DX'</math>, so <math>f(X) = AX+AX'+DX+DX'</math>.\n\nLet <math>Q</math> be the intersection of <math>\\overline{XX'}</math> and <math>\\overline{MN}</math>. Then <math>AX+AX'\\geq 2AQ</math>, from which it follows that <math>f(X) \\geq 2(AQ+DQ) = f(Q)</math>. It remains to minimize <math>f(Q)</math> as <math>Q</math> moves along <math>\\overline{MN}</math>.\n[[File:2017 AIME II 15a.png|300px|right]]\nAllow <math>D</math> to rotate about <math>\\overline{MN}</math> to point <math>D'</math> in the plane <math>AMN</math> on the side of <math>\\overline{MN}</math> opposite <math>A</math>. Because <math>\\angle DNM</math> is a right angle, <math>D'N=DN</math>. It then follows that <math>f(Q) = 2(AQ+D'Q)\\geq 2AD'</math>, and equality occurs when <math>Q</math> is the intersection of <math>\\overline{AD'}</math> and <math>\\overline{MN}</math>. Thus <math>\\min f(Q) = 2AD'</math>. Because <math>\\overline{MD}</math> is the median of <math>\\triangle ADB</math>, the Length of Median Formula shows that <math>4MD^2 = 2AD^2 + 2BD^2 - AB^2 = 2\\cdot 28^2 + 2 \\cdot 44^2 - 52^2</math> and <math>MD^2 = 684</math>. By the Pythagorean Theorem <math>MN^2 = MD^2 - ND^2 = 8</math>.\n\nBecause <math>\\angle AMN</math> and <math>\\angle D'NM</math> are right angles, <cmath>(AD')^2 = (AM+D'N)^2 + MN^2 = (2AM)^2 + MN^2 = 52^2 + 8 = 4\\cdot 678.</cmath>It follows that <math>\\min f(Q) = 2AD' = 4\\sqrt{678}</math>. The requested sum is <math>4+678=\\boxed{682}</math>."
  },
  {
    "year": 2018,
    "variant": "I",
    "problem_number": 1,
    "latex": "==Problem 1==\nLet <math>S</math> be the number of ordered pairs of integers <math>(a,b)</math> with <math>1 \\leq a \\leq 100</math> and <math>b \\geq 0</math> such that the polynomial <math>x^2+ax+b</math> can be factored into the product of two (not necessarily distinct) linear factors with integer coefficients. Find the remainder when <math>S</math> is divided by <math>1000</math>.",
    "solution": "Let the linear factors be <math>(x+c)(x+d)</math>.\n\nThen, <math>a=c+d</math> and <math>b=cd</math>.\n\nWe know that <math>1\\le a\\le 100</math> and <math>b\\ge 0</math>, so <math>c</math> and <math>d</math> both have to be non-negative\n\nHowever, <math>a</math> cannot be <math>0</math>, so at least one of <math>c</math> and <math>d</math> must be greater than <math>0</math>, ie positive.\n\nAlso, <math>a</math> cannot be greater than <math>100</math>, so <math>c+d</math> must be less than or equal to <math>100</math>.\n\nEssentially, if we plot the solutions, we get a triangle on the coordinate plane with vertices <math>(0,0), (0, 100),</math> and <math>(100,0)</math>. Remember that <math>(0,0)</math> does not work, so there is a square with the top right corner <math>(1,1)</math>.\n\nNote that <math>c</math> and <math>d</math> are interchangeable since they end up as <math>a</math> and <math>b</math> in the end anyways. Thus, we simply draw a line from <math>(1,1)</math> to <math>(50,50)</math>, designating one of the halves as our solution (since the other side is simply the coordinates flipped).\n\nWe note that the pattern from <math>(1,1)</math> to <math>(50,50)</math> is <math>2+3+4+\\dots+51</math> solutions and from <math>(51, 49)</math> to <math>(100,0)</math> is <math>50+49+48+\\dots+1</math> solutions, since we can decrease the <math>y</math>-value by <math>1</math> until <math>0</math> for each coordinate.\n\nAdding up gives <cmath>\\dfrac{2+51}{2}\\cdot 50+\\dfrac{50+1}{2}\\cdot 50.</cmath>\nThis gives us <math>2600</math>, and <math>2600\\equiv 600 \\bmod{1000}.</math>\n\nThus, the answer is: <cmath>\\boxed{600}.</cmath>\n\n~Minor edit by Yiyj1"
  },
  {
    "year": 2018,
    "variant": "I",
    "problem_number": 2,
    "latex": "The number <math>n</math> can be written in base <math>14</math> as <math>\\underline{a}\\text{ }\\underline{b}\\text{ }\\underline{c}</math>, can be written in base <math>15</math> as <math>\\underline{a}\\text{ }\\underline{c}\\text{ }\\underline{b}</math>, and can be written in base <math>6</math> as <math>\\underline{a}\\text{ }\\underline{c}\\text{ }\\underline{a}\\text{ }\\underline{c}\\text{ }</math>, where <math>a > 0</math>. Find the base-<math>10</math> representation of <math>n</math>.",
    "solution": "We have these equations:\n<math>196a+14b+c=225a+15c+b=222a+37c</math>.\nTaking the last two we get <math>3a+b=22c</math>. Because <math>c \\neq 0</math> otherwise <math>a \\ngtr 0</math>, and <math>a \\leq 5</math>, <math>c=1</math>.\n\nThen we know <math>3a+b=22</math>.\nTaking the first two equations we see that <math>29a+14c=13b</math>. Combining the two gives <math>a=4, b=10, c=1</math>. Then we see that <math>222 \\times 4+37 \\times1=\\boxed{925}</math>."
  },
  {
    "year": 2018,
    "variant": "I",
    "problem_number": 3,
    "latex": "Kathy has <math>5</math> red cards and <math>5</math> green cards. She shuffles the <math>10</math> cards and lays out <math>5</math> of the cards in a row in a random order. She will be happy if and only if all the red cards laid out are adjacent and all the green cards laid out are adjacent. For example, card orders <math>RRGGG</math>, <math>GGGGR</math>, or <math>RRRRR</math> will make Kathy happy, but <math>RRRGR</math> will not. The probability that Kathy will be happy is <math> \\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m + n</math> .",
    "solution": "We have <math>2+4\\cdot 2</math> cases total.\n\nThe two are all red and all green. Then, you have 4 of one, 1 of other. 3 of one, 2 of other. 2 of one, 3 of other. 1 of one, 4 of other. Then flip the order, so times two.\n\nObviously the denominator is <math>10\\cdot 9\\cdot 8\\cdot 7\\cdot 6</math>, since we are choosing a card without replacement.\n\nThen, we have for the numerator for the two of all red and green: <cmath>5\\cdot 4\\cdot 3\\cdot 2\\cdot 1.</cmath>\n\nFor the 4 and 1, we have: <cmath>5\\cdot 4\\cdot 3\\cdot 2\\cdot 5.</cmath>\n\nFor the 3 and 2, we have: <cmath>5\\cdot 4\\cdot 3\\cdot 5\\cdot 4.</cmath>\n\nFor the 2 and 3, we have: <cmath>5\\cdot 4\\cdot 5\\cdot 4\\cdot 3.</cmath>\n\nFor the 1 and 4, we have: <cmath>5\\cdot 5\\cdot 4\\cdot 3\\cdot 2.</cmath>\n\nAdding up and remembering to double all of them, since they can be reversed and the 5's can be red or green, we get, after simplifying: <math>\\dfrac{31}{126}</math>\n\nThus the answer is <math>31 + 126 = \\boxed{157}</math>.\n-gorefeebuddie"
  },
  {
    "year": 2018,
    "variant": "I",
    "problem_number": 4,
    "latex": "==Problem 4==\nIn <math>\\triangle ABC, AB = AC = 10</math> and <math>BC = 12</math>. Point <math>D</math> lies strictly between <math>A</math> and <math>B</math> on <math>\\overline{AB}</math> and point <math>E</math> lies strictly between <math>A</math> and <math>C</math> on <math>\\overline{AC}</math> so that <math>AD = DE = EC</math>. Then <math>AD</math> can be expressed in the form <math>\\dfrac{p}{q}</math>, where <math>p</math> and <math>q</math> are relatively prime positive integers. Find <math>p+q</math>.",
    "solution": "We apply Law of Cosines on <math>\\angle A</math> twice (one from <math>\\triangle ADE</math> and one from <math>\\triangle ABC</math>),\n\n\\begin{align*}\n12^2 &= 10^2 + 10^2 - 2(10)(10) \\cdot \\cos{A} \\\\[5pt]\nx^2&=x^2+(10-x)^2-2(x)(10-x)\\cdot \\cos{A} \n\\end{align*}\n\nSolving for <math>\\cos{A}</math> in both equations, we get\n\\begin{align*}\n\\cos{A} &= \\frac{7}{25} \\\\\n\\cos{A} &= \\frac{(10-x)^2}{(2)(10-x)(x)} = \\frac{10-x}{2x}\n\\end{align*}\nSetting the two equal,\n\\begin{align*} \n\\frac{10-x}{2x} &= \\frac{7}{25} \\\\[5pt]\n250-25x &= 14x \\\\[5pt]\nx &= \\frac{250}{39}.\n\\end{align*}\nTherefore, our answer is <math>\\boxed{289}</math>\n\nNote that this strategy of applying LOC on congruent or supplementary angles is very common. It's also how Stewart's Theorem is derived. \n\n'''-RootThreeOverTwo, edits by epiconan'''"
  },
  {
    "year": 2018,
    "variant": "I",
    "problem_number": 5,
    "latex": "==Problem 5==\n\nFor each ordered pair of real numbers <math>(x,y)</math> satisfying <cmath>\\log_2(2x+y) = \\log_4(x^2+xy+7y^2)</cmath>there is a real number <math>K</math> such that <cmath>\\log_3(3x+y) = \\log_9(3x^2+4xy+Ky^2).</cmath>Find the product of all possible values of <math>K</math>.",
    "solution": "Using the logarithmic property <math>\\log_{a^n}b^n = \\log_{a}b</math>, we note that <cmath>(2x+y)^2 = x^2+xy+7y^2</cmath>\nThat gives <cmath>x^2+xy-2y^2=0</cmath> upon simplification and division by <math>3</math>. Factoring <math>x^2+xy-2y^2=0</math> gives <cmath>(x+2y)(x-y)=0</cmath> Then, <cmath>x=y \\text{ or }x=-2y</cmath>\nFrom the second equation, <cmath>9x^2+6xy+y^2=3x^2+4xy+Ky^2</cmath> If we take <math>x=y</math>, we see that <math>K=9</math>. If we take <math>x=-2y</math>, we see that <math>K=21</math>. The product is <math>\\boxed{189}</math>.\n\n-expiLnCalc"
  },
  {
    "year": 2018,
    "variant": "I",
    "problem_number": 6,
    "latex": "Let <math>N</math> be the number of complex numbers <math>z</math> with the properties that <math>|z|=1</math> and <math>z^{6!}-z^{5!}</math> is a real number. Find the remainder when <math>N</math> is divided by <math>1000</math>.",
    "solution": "Let <math>a=z^{120}</math>. This simplifies the problem constraint to <math>a^6-a \\in \\mathbb{R}</math>. This is true if <math>\\text{Im}(a^6)=\\text{Im}(a)</math>. Let <math>\\theta</math> be the angle <math>a</math> makes with the positive x-axis. Note that there is exactly one <math>a</math> for each angle <math>0\\le\\theta<2\\pi</math>. We are given <math>\\sin\\theta = \\sin{6\\theta}</math>. Note that <math>\\sin \\theta = \\sin (\\pi - \\theta)</math> and <math>\\sin \\theta = \\sin (\\theta + 2\\pi)</math>. We can use these facts to create two types of solutions: \n\n<cmath>\\sin \\theta = \\sin ((2m + 1)\\pi - \\theta)</cmath>\n\nwhich implies that <math>(2m+1)\\pi-\\theta = 6\\theta</math> and reduces to <math>\\frac{(2m + 1)\\pi}{7} = \\theta</math>. There are 7 solutions for this.\n\n<cmath>\\sin \\theta = \\sin (2n\\pi + \\theta)</cmath>\n\nwhich implies that <math>2n\\pi+\\theta=6\\theta</math> and reduces to <math>\\frac{2n\\pi}{5} = \\theta</math>. There are 5 solutions for this, totaling 12 values of <math>a</math>.\n\nFor each of these solutions for <math>a</math>, there are necessarily <math>120</math> solutions for <math>z</math>. Thus, there are <math>12\\cdot 120=1440</math> solutions for <math>z</math>, yielding an answer of <math>\\boxed{440}</math>."
  },
  {
    "year": 2018,
    "variant": "I",
    "problem_number": 7,
    "latex": "A right hexagonal prism has height <math>2</math>. The bases are regular hexagons with side length <math>1</math>. Any <math>3</math> of the <math>12</math> vertices determine a triangle. Find the number of these triangles that are isosceles (including equilateral triangles).",
    "solution": "We can consider two cases: when the three vertices are on one base, and when the vertices are on two bases.\n\nCase 1: vertices are on one base. Then we can call one of the vertices <math>A</math> for distinction. Either the triangle can have sides <math>1, 1, \\sqrt{3}</math> with 6 cases or <math>\\sqrt{3}, \\sqrt{3}, \\sqrt{3}</math> with 2 cases. This can be repeated on the other base for <math>16</math> cases.\n\nCase 2: The vertices span two bases. WLOG call the only vertex on one of the bases <math>X</math>. Call the closest vertex on the other base <math>B</math>, and label clockwise <math>C, D, E, F, G</math>. We will multiply the following scenarios by <math>12</math>, because the top vertex can have <math>6</math> positions and the top vertex can be on the other base. We can have <math>XCG, XDF</math>, but we are not done! Don't forget that the problem statement implies that the longest diagonal in a base is <math>2</math> and the height is <math>2</math>, so <math>XBE</math> is also correct! Those are the only three cases, so there are <math>12*3=36</math> cases for this case.\n\nIn total there's <math>\\boxed{052}</math> cases."
  },
  {
    "year": 2018,
    "variant": "I",
    "problem_number": 8,
    "latex": "Let <math>ABCDEF</math> be an equiangular hexagon such that <math>AB=6, BC=8, CD=10</math>, and <math>DE=12</math>. Denote by <math>d</math> the diameter of the largest circle that fits inside the hexagon. Find <math>d^2</math>.",
    "solution": "==Video Solution by Punxsutawney Phil==\nhttps://www.youtube.com/watch?v=oc-cDRIEzoo"
  },
  {
    "year": 2018,
    "variant": "I",
    "problem_number": 9,
    "latex": "Find the number of four-element subsets of <math>\\{1,2,3,4,\\dots, 20\\}</math> with the property that two distinct elements of a subset have a sum of <math>16</math>, and two distinct elements of a subset have a sum of <math>24</math>. For example, <math>\\{3,5,13,19\\}</math> and <math>\\{6,10,20,18\\}</math> are two such subsets.",
    "solution": "This problem is tricky because it is the capital of a few \"bashy\" calculations. Nevertheless, the process is straightforward. Call the set <math>\\{a, b, c, d\\}</math>.\n\nNote that there are only two cases: 1 where <math>a + b = 16</math> and <math>c + d = 24</math> or 2 where <math>a + b = 16</math> and <math>a + c = 24</math>. Also note that there is no overlap between the two situations! This is because if they overlapped, adding the two equations of both cases and canceling out gives you <math>a=d</math>, which cannot be true.\n\nCase 1.\nThis is probably the simplest: just make a list of possible combinations for <math>\\{a, b\\}</math> and <math>\\{c, d\\}</math>. We get <math>\\{1, 15\\}\\dots\\{7, 9\\}</math> for the first and <math>\\{4, 20\\}\\dots\\{11, 13\\}</math> for the second. That appears to give us <math>7*8=56</math> solutions, right? NO. Because elements can't repeat, take out the supposed sets\n<cmath>\\{1, 15, 9, 15\\}, \\{2, 14, 10, 14\\}, \\{3, 13, 11, 13\\}, \\{4, 12, 4, 20\\}, \\{5, 11, 5, 19\\},</cmath><cmath>\\{5, 11, 11, 13\\}, \\{6, 10, 6, 18\\}, \\{6, 10, 10, 14\\}, \\{7, 9, 9, 15\\}, \\{7, 9, 7, 17\\}</cmath> That's ten cases gone. So <math>46</math> for Case 1.\n\nCase 2.\nWe can look for solutions by listing possible <math>a</math> values and filling in the blanks. Start with <math>a=4</math>, as that is the minimum. We find <math>\\{4, 12, 20, ?\\}</math>, and likewise up to <math>a=15</math>. But we can't have <math>a=8</math> or <math>a=12</math> because <math>a=b</math> or <math>a=c</math>, respectively! Now, it would seem like there are <math>10</math> values for <math>a</math> and <math>17</math> unique values for each <math>?</math>, giving a total of <math>170</math>, but that is once again not true because there are some repeated values!\nThere are two cases of overcounting:\n\ncase 1) (5,11,13,19) & (5.11.19.13)\n\nThe same is for (6,10,14,18) and (7,9,15,17)\n\ncase 2) those that have the same b and c values\n\nthis case includes:\n\n(1,15,9,7) and (7,9,15,1)\n\n(2,14,10,6) and (6,10,14,2)\n\n(3,13,11,5) and (5,11,13,3)\n\nSo we need to subtract 6 overcounts.\nSo, that's <math>164</math> for Case 2.\n\nTotal gives <math>\\boxed{210}</math>.\n\n-expiLnCalc"
  },
  {
    "year": 2018,
    "variant": "I",
    "problem_number": 10,
    "latex": "The wheel shown below consists of two circles and five spokes, with a label at each point where a spoke meets a circle. A bug walks along the wheel, starting at point <math>A</math>. At every step of the process, the bug walks from one labeled point to an adjacent labeled point. Along the inner circle the bug only walks in a counterclockwise direction, and along the outer circle the bug only walks in a clockwise direction. For example, the bug could travel along the path <math>AJABCHCHIJA</math>, which has <math>10</math> steps. Let <math>n</math> be the number of paths with <math>15</math> steps that begin and end at point <math>A</math>. Find the remainder when <math>n</math> is divided by <math>1000.</math>\n<center><asy>\nunitsize(32);\ndraw(unitcircle);\ndraw(scale(2) * unitcircle);\nfor(int d = 90; d < 360 + 90; d += 72){\ndraw(2 * dir(d) -- dir(d));\n}\n\nreal s = 4;\ndot(1 * dir( 90), linewidth(s));\ndot(1 * dir(162), linewidth(s));\ndot(1 * dir(234), linewidth(s));\ndot(1 * dir(306), linewidth(s));\ndot(1 * dir(378), linewidth(s));\ndot(2 * dir(378), linewidth(s));\ndot(2 * dir(306), linewidth(s));\ndot(2 * dir(234), linewidth(s));\ndot(2 * dir(162), linewidth(s));\ndot(2 * dir( 90), linewidth(s));\n\ndefaultpen(fontsize(10pt));\nreal r = 0.05;\nlabel(\"$A$\", (1-r) * dir( 90), -dir( 90));\nlabel(\"$B$\", (1-r) * dir(162), -dir(162));\nlabel(\"$C$\", (1-r) * dir(234), -dir(234));\nlabel(\"$D$\", (1-r) * dir(306), -dir(306));\nlabel(\"$E$\", (1-r) * dir(378), -dir(378));\nlabel(\"$F$\", (2+r) * dir(378), dir(378));\nlabel(\"$G$\", (2+r) * dir(306), dir(306));\nlabel(\"$H$\", (2+r) * dir(234), dir(234));\nlabel(\"$I$\", (2+r) * dir(162), dir(162));\nlabel(\"$J$\", (2+r) * dir( 90), dir( 90));\n</asy></center>",
    "solution": "We divide this up into casework.  The \"directions\" the bug can go are <math>\\text{Clockwise}</math>, <math>\\text{Counter-Clockwise}</math>, and <math>\\text{Switching}</math>.  Let an <math>I</math> signal going clockwise (because it has to be in the ''inner'' circle), an <math>O</math> signal going counter-clockwise, and an <math>S</math> switching between inner and outer circles.  An example string of length fifteen that gets the bug back to <math>A</math> would be <math>ISSIIISOOSISSII</math>.\nFor the bug to end up back at <math>A</math>, the difference between the number of <math>I</math>'s and <math>O</math>'s must be a multiple of <math>5</math>.\n;Case 1  --  There are 15 more <math>I</math>'s than <math>O</math>'s.\n:There is clearly <math>1</math> way for this to happen.\n\n;Case 2  --  There are <math>5</math> more <math>I</math>'s than <math>O</math>'s.\n:We split this case up into several sub-cases based on the number of <math>S</math>'s.\n:;Sub-case 1  --  There are <math>10</math> <math>S</math>'s and <math>5</math> <math>I</math>'s.\n::Notice that the number of ways to order the <math>I</math>'s and <math>O</math>'s are independent assortments because the <math>I</math>'s must be in the \"even\" spaces between <math>S</math>'s (i.e. before the 1st <math>S</math>, between the 2nd and 3rd <math>S</math>'s, etc.), while the <math>O</math>'s must be in the \"odd\" spaces.\n\n::There are <math>6</math> places to put the <math>I</math>'s (after the 0th, 2nd, 4th, 6th, 8th, and 10th <math>S</math>'s), and <math>4</math> places to put the (0) <math>O</math>'s.  We use stars and bars to get an answer of <math>\\binom{10}{5}\\binom{4}{0}</math>\n:;Sub-case 2  --  There are <math>8</math> <math>S</math>'s, <math>6</math> <math>I</math>'s, and <math>1</math> <math>O</math>.\n::Similarly and by using stars and bars, we get an amount of <math>\\binom{10}{4}\\binom{4}{1}</math>\n:All the other  sub-cases are similar, with a total of <math>\\binom{10}{5}\\binom{4}{0}+\\binom{10}{4}\\binom{4}{1}+\\cdots+\\binom{10}{1}\\binom{4}{4}=\\binom{14}{5}=2002</math> by [https://artofproblemsolving.com/wiki/index.php?title=Combinatorial_identity#Vandermonde.27s_Identity Vandermonde's Identity].\n\n;Case 3  --  There are <math>5</math> more <math>O</math>'s than <math>I</math>'s.\n:This case is similar to the other case.\n:Here is an example of a sub-case for this case.\n:;Sub-case:  There are <math>10</math> <math>S</math>'s and <math>5</math> <math>O</math>'s.\n::There are <math>\\binom{9}{4}\\binom{5}{0}</math> ways to do this.\n:We can see now that the pattern is going to be <math>\\binom{9}{4}\\binom{5}{0}+\\binom{9}{3}\\binom{5}{1}+\\cdots+\\binom{9}{0}\\binom{5}{4}=\\binom{14}{4}=1001</math>.\n\n\nSo, the total number of ways is <math>1+2002+1001=3004</math> which gives <math>\\boxed{004}</math> as the answer."
  },
  {
    "year": 2018,
    "variant": "I",
    "problem_number": 11,
    "latex": "Find the least positive integer <math>n</math> such that when <math>3^n</math> is written in base <math>143</math>, its two right-most digits in base <math>143</math> are <math>01</math>.",
    "solution": "Note that the given condition is equivalent to <math>3^n \\equiv 1 \\pmod{143^2}</math> and <math>143=11\\cdot 13</math>. Because <math>\\gcd(11^2, 13^2) = 1</math>, the desired condition is equivalent to <math>3^n \\equiv 1 \\pmod{121}</math> and <math>3^n \\equiv 1 \\pmod{169}</math>.\n\nIf <math>3^n \\equiv 1 \\pmod{121}</math>, one can see the sequence <math>1, 3, 9, 27, 81, 1, 3, 9...</math> so <math>5|n</math>.\n\nNow if <math>3^n \\equiv 1 \\pmod{169}</math>, it is harder. But we do observe that <math>3^3 \\equiv 1 \\pmod{13}</math>, therefore <math>3^3 = 13a + 1</math> for some integer <math>a</math>. So our goal is to find the first number <math>p_1</math> such that <math>(13a+1)^ {p_1} \\equiv 1 \\pmod{169}</math>. Then, <math>p_1 \\equiv 0 \\pmod{13}, </math> which follows from the binomial theorem. It is not difficult to see that the smallest <math>p_1=13</math>, so ultimately <math>3^{39} \\equiv 1 \\pmod{169}</math>. Therefore, <math>39|n</math>.\n\nThe first <math>n</math> satisfying both criteria is thus <math>5\\cdot 39=\\boxed{195}</math>.\n\n-expiLnCalc"
  },
  {
    "year": 2018,
    "variant": "I",
    "problem_number": 12,
    "latex": "For every subset <math>T</math> of <math>U = \\{ 1,2,3,\\ldots,18 \\}</math>, let <math>s(T)</math> be the sum of the elements of <math>T</math>, with <math>s(\\emptyset)</math> defined to be <math>0</math>. If <math>T</math> is chosen at random among all subsets of <math>U</math>, the probability that <math>s(T)</math> is divisible by <math>3</math> is <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m</math>.",
    "solution": "The question asks us for the probability that a randomly chosen subset of the set of the first 18 positive integers has the property that the sum of its elements is divisible by 3. Note that the total number of subsets is <math>2^{18}</math> because each element can either be in or not in the subset. To find the probability, we will find the total numbers of ways the problem can occur and divide by <math>2^{18}</math>.\n\nTo simplify the problem, let‚Äôs convert the set to mod 3:\n\n<cmath>U' = \\{1,2,0,1,2,0,1,2,0,1,2,0,1,2,0,1,2,0\\}</cmath>\n\nNote that there are six elements congruent to 0 mod 3, 6 congruent to 1 mod 3, and 6 congruent to 2 mod 3. After conversion to mod three, the problem is the same but we‚Äôre dealing with much simpler numbers. Let‚Äôs apply casework on this converted set based on <math>S = s(T')</math>, the sum of the elements of a subset <math>T'</math> of <math>U'</math>.\n\n<math>\\textbf{Case 1: }S=0</math>\n\nIn this case, we can restrict the subsets to subsets that only contain 0. There are six 0‚Äôs and each one can be in or out of the subset, for a total of <math>2^{6} = 64</math> subsets. In fact, for every case we will have, we can always add a sequence of 0‚Äôs and the total sum will not change, so we will have to multiply by 64 for each case. Therefore, let‚Äôs just calculate the total number of ways we can have each case and remember to multiply it in after summing up the cases. This is equivalent to finding the number of ways you can choose such subsets without including the 0's. Therefore this case gives us <math>\\boxed{1}</math> way.\n\n<math>\\textbf{Case 2: }S= 3</math>\n\nIn this case and each of the subsequent cases, we denote the number of 1‚Äôs in the case and the number of two‚Äôs in the case as <math>x, y</math> respectively. Then in this case we have two subcases;\n\n<math>x, y = 3,0: </math> This case has <math>\\tbinom{6}{3} \\cdot \\tbinom{6}{0} = 20 </math> ways.\n\n<math>x, y = 1,1: </math> This case has <math>\\tbinom{6}{1} \\cdot \\tbinom{6}{1} = 36 </math> ways.\n\nIn total, this case has <math>20+36=\\boxed{56}</math> ways.\n\n<math>\\textbf{Case 3: }S=6</math>\n\nIn this case, there are 4 subcases;\n\n<math>x, y = 6,0: </math> This case has <math>\\tbinom{6}{6} \\cdot \\tbinom{6}{0} = 1 </math> way.\n\n<math>x, y = 4,1: </math> This case has <math>\\tbinom{6}{4} \\cdot \\tbinom{6}{1} = 90 </math> ways.\n\n<math>x, y = 2,2: </math> This case has <math>\\tbinom{6}{2} \\cdot \\tbinom{6}{2} = 225 </math> ways.\n\n<math>x, y = 0,3: </math> This case has <math>\\tbinom{6}{0} \\cdot \\tbinom{6}{3} = 20 </math> ways.\n\nIn total, this case has <math>1+90+225+20=\\boxed{336}</math> ways.\n\nNote that for each case, the # of 1‚Äôs goes down by 2 and the # of 2‚Äôs goes up by 1. This is because the sum is fixed, so when we change one it must be balanced out by the other. This is similar to the Diophantine equation <math>x + 2y= S</math> and the total number of solutions will be <math>\\tbinom{6}{x} \\cdot \\tbinom{6}{y}</math>. From here we continue our casework, and our subcases will be coming out quickly as we have realized this relation.\n\n<math>\\textbf{Case 4: }S=9</math>\n\nIn this case we have 3 subcases:\n\n<math>x, y = 5,2: </math> This case has <math>\\tbinom{6}{5} \\cdot \\tbinom{6}{1} = 90 </math> ways.\n\n<math>x, y = 3,3: </math> This case has <math>\\tbinom{6}{3} \\cdot \\tbinom{6}{3} = 400 </math> ways.\n\n<math>x, y = 1,4: </math> This case has <math>\\tbinom{6}{1} \\cdot \\tbinom{6}{4} = 90 </math> ways.\n\nIn total, this case has <math>90+400+90=\\boxed{580}</math> ways.\n\n<math>\\textbf{Case 5: } S=12</math>\n\nIn this case we have 4 subcases:\n\n<math>x, y = 6,3: </math> This case has <math>\\tbinom{6}{6} \\cdot \\tbinom{6}{3} = 20 </math> ways.\n\n<math>x, y = 4,4: </math> This case has <math>\\tbinom{6}{4} \\cdot \\tbinom{6}{4} = 225 </math> ways.\n\n<math>x, y = 2,5: </math> This case has <math>\\tbinom{6}{2} \\cdot \\tbinom{6}{5} = 90 </math> ways.\n\n<math>x, y = 0,6: </math> This case has <math>\\tbinom{6}{0} \\cdot \\tbinom{6}{6} = 1 </math> way.\n\nTherefore the total number of ways in this case is <math>20 + 225 + 90 + 1=\\boxed{336}</math>. \nHere we notice something interesting. Not only is the answer the same as Case 3, the subcases deliver the exact same answers, just in reverse order. Why is that?\n\nWe discover the pattern that the values of <math>x, y</math> of each subcase of Case 5 can be obtained by subtracting the corresponding values of <math>x, y</math> of each subcase in Case 3 from 6 ( For example, the subcase 0, 6 in Case 5 corresponds to the subcase 6, 0 in Case 3). Then by the combinatorial identity, <math>\\tbinom{6}{k} = \\tbinom{6}{6-k}</math>, which is why each subcase evaluates to the same number. But can we extend this reasoning to all subcases to save time?\n\nLet‚Äôs write this proof formally. Let <math>W_S</math> be the number of subsets of the set <math>\\{1,2,1,2,1,2,1,2,1,2,1,2\\}</math> (where each 1 and 2 is distinguishable) such that the sum of the elements of the subset is <math>S</math> and <math>S</math> is divisible by 3. We define the empty set as having a sum of 0. We claim that <math>W_S = W_{18-S}</math>.\n\n<math>W_S = \\sum_{i=1}^{|D|} \\tbinom{6}{x_i}\\tbinom{6}{y_i}</math> if and only if there exists <math>x_i, y_i</math> that satisfy <math>0\\leq x_i \\leq 6</math>, <math>0\\leq y_i \\leq 6</math>, <math>x_i + 2y_i = S</math>, and <math>D</math>  is the set of the pairs <math>x_i, y_i</math>. This is because for each pair <math>x_i</math>, <math>y_i</math> there are six elements of the same residue mod(3) to choose <math>x_i</math> and <math>y_i</math> numbers from, and their value sum must be <math>S</math>.\n\nLet all <math>x_n</math>, <math>y_n</math> satisfy <math>x_n = 6-x_i</math> and <math>y_n = 6-y_i</math>.\nWe can rewrite the equation <math> x_i+ 2y_i = S \\implies -x_i- 2y_i = -S \\implies 6-x_i+ 6-2y_i= 12 - S</math>\n<math>\\implies 6-x_i+12-2y_i = 18-S \\implies 6-x_i + 2(6-y_i) = 18-S </math>\n<cmath>\\implies x_n + 2y_n = 18 - S</cmath>\n\nTherefore, since <math>0\\leq x_i, y_i\\leq 6</math> and <math>x_n = 6-x_i</math> and <math>y_n = 6-y_i</math>, <math>0\\leq x_n, y_n\\leq 6</math>. As shown above, <math>x_n + 2y_n = 18 - S</math> and since <math>S</math> and 18 are divisible by 3, 18 -<math>S</math> is divisible by 3. Therefore, by the fact that <math>W_S = \\sum_{i=1}^{|D|} \\tbinom{6}{x_i}\\tbinom{6}{y_i}</math>, we have that;\n\n<math>W_{18-S} = \\sum_{n=1}^{|D|} \\tbinom{6}{x_n}\\tbinom{6}{y_n} \\implies W_{18-S} =  \\sum_{i=1}^{|D|} \\tbinom{6}{6-x_i}\\tbinom{6}{6-y_i} \\implies W_{18-S} =  \\sum_{i=1}^{|D|} \\tbinom{6}{x_i}\\tbinom{6}{y_i} = W_S</math>, proving our claim.\n\nWe have found our shortcut, so instead of bashing out the remaining cases, we can use this symmetry. The total number of ways over all the cases is <math>\\sum_{k=0}^{6} W_{3k} = 2 \\cdot (1+56+336)+580 = 1366</math>. The final answer is <math>\\frac{2^{6}\\cdot 1366}{2^{18}} = \\frac{1366}{2^{12}} = \\frac{683}{2^{11}}. </math>\n\nThere are no more 2‚Äôs left to factor out of the numerator, so we are done and the answer is <math>\\boxed{\\boxed{683}}</math>.\n\n\n~KingRavi"
  },
  {
    "year": 2018,
    "variant": "I",
    "problem_number": 13,
    "latex": "Let <math>\\triangle ABC</math> have side lengths <math>AB=30</math>, <math>BC=32</math>, and <math>AC=34</math>. Point <math>X</math> lies in the interior of <math>\\overline{BC}</math>, and points <math>I_1</math> and <math>I_2</math> are the incenters of <math>\\triangle ABX</math> and <math>\\triangle ACX</math>, respectively. Find the minimum possible area of <math>\\triangle AI_1I_2</math> as <math>X</math> varies along <math>\\overline{BC}</math>.",
    "solution": "First note that <cmath>\\angle I_1AI_2 = \\angle I_1AX + \\angle XAI_2 = \\frac{\\angle BAX}2 + \\frac{\\angle CAX}2 = \\frac{\\angle A}2</cmath> is a constant not depending on <math>X</math>, so by <math>[AI_1I_2] = \\tfrac12(AI_1)(AI_2)\\sin\\angle I_1AI_2</math> it suffices to minimize <math>(AI_1)(AI_2)</math>.  Let <math>a = BC</math>, <math>b = AC</math>, <math>c = AB</math>, and <math>\\alpha = \\angle AXB</math>.  Remark that <cmath>\\angle AI_1B = 180^\\circ - (\\angle I_1AB + \\angle I_1BA) = 180^\\circ - \\tfrac12(180^\\circ - \\alpha) = 90^\\circ + \\tfrac\\alpha 2.</cmath> Applying the Law of Sines to <math>\\triangle ABI_1</math> gives <cmath>\\frac{AI_1}{AB} = \\frac{\\sin\\angle ABI_1}{\\sin\\angle AI_1B}\\qquad\\Rightarrow\\qquad AI_1 = \\frac{c\\sin\\frac B2}{\\cos\\frac\\alpha 2}.</cmath> Analogously one can derive <math>AI_2 = \\tfrac{b\\sin\\frac C2}{\\sin\\frac\\alpha 2}</math>, and so <cmath>[AI_1I_2] = \\frac{bc\\sin\\frac A2 \\sin\\frac B2\\sin\\frac C2}{2\\cos\\frac\\alpha 2\\sin\\frac\\alpha 2} = \\frac{bc\\sin\\frac A2 \\sin\\frac B2\\sin\\frac C2}{\\sin\\alpha}\\geq bc\\sin\\frac A2 \\sin\\frac B2\\sin\\frac C2,</cmath> with equality when <math>\\alpha = 90^\\circ</math>, that is, when <math>X</math> is the foot of the perpendicular from <math>A</math> to <math>\\overline{BC}</math>.  In this case the desired area is <math>bc\\sin\\tfrac A2\\sin\\tfrac B2\\sin\\tfrac C2</math>.  To make this feasible to compute, note that <cmath>\\sin\\frac A2=\\sqrt{\\frac{1-\\cos A}2}=\\sqrt{\\frac{1-\\frac{b^2+c^2-a^2}{2bc}}2} = \\sqrt{\\dfrac{(a-b+c)(a+b-c)}{4bc}}.</cmath> Applying similar logic to <math>\\sin \\tfrac B2</math> and <math>\\sin\\tfrac C2</math> and simplifying yields a final answer of <cmath>\\begin{align*}bc\\sin\\frac A2\\sin\\frac B2\\sin\\frac C2&=bc\\cdot\\dfrac{(a-b+c)(b-c+a)(c-a+b)}{8abc}\\\\&=\\dfrac{(30-32+34)(32-34+30)(34-30+32)}{8\\cdot 32}=\\boxed{126}.\\end{align*}</cmath>\n\n*Notice that we truly did minimize the area for <math>[A I_1 I_2]</math> because <math>b, c, \\angle A, \\angle B, \\angle C</math> are all constants while only <math>\\sin \\alpha</math> is variable, so maximizing <math>\\sin \\alpha</math> would minimize the area."
  },
  {
    "year": 2018,
    "variant": "I",
    "problem_number": 14,
    "latex": "Let <math>SP_1P_2P_3EP_4P_5</math> be a heptagon. A frog starts jumping at vertex <math>S</math>. From any vertex of the heptagon except <math>E</math>, the frog may jump to either of the two adjacent vertices. When it reaches vertex <math>E</math>, the frog stops and stays there. Find the number of distinct sequences of jumps of no more than <math>12</math> jumps that end at <math>E</math>.",
    "solution": "This is easily solved by recursion/dynamic programming. To simplify the problem somewhat, let us imagine the seven vertices on a line <math>E \\leftrightarrow P_4 \\leftrightarrow P_5 \\leftrightarrow S \\leftrightarrow P_1 \\leftrightarrow P_2 \\leftrightarrow P_3 \\leftrightarrow E</math>. We can count the number of left/right (L/R) paths of length <math>\\le 11</math> that start at <math>S</math> and end at either <math>P_4</math> or <math>P_3</math>.\n\nWe can visualize the paths using the common grid counting method by starting at the origin <math>(0,0)</math>, so that a right (R) move corresponds to moving 1 in the positive <math>x</math> direction, and a left (L) move corresponds to moving 1 in the positive <math>y</math> direction. Because we don't want to move more than 2 units left or more than 3 units right, our path must not cross the lines <math>y = x+2</math> or <math>y = x-3</math>. Letting <math>p(x,y)</math> be the number of such paths from <math>(0,0)</math> to <math>(x,y)</math> under these constraints, we have the following base cases:\n\n<math>p(x,0) = \\begin{cases}\n1 & x \\le 3 \\\\\n0 & x > 3\n\\end{cases}\n\\qquad p(0,y) = \\begin{cases}\n1 & y \\le 2 \\\\\n0 & y > 2\n\\end{cases}\n</math>\n\nand recursive step\n<math>p(x,y) = p(x-1,y) + p(x,y-1)</math> for <math>x,y \\ge 1</math>.\n\nThe filled in grid will look something like this, where the lower-left <math>1</math> corresponds to the origin:\n\n<math>\n\\begin{tabular}{|c|c|c|c|c|c|c|c|} \\hline\n0 & 0 & 0 & 0 & \\textbf{89} & & & \\\\ \\hline\n0 & 0 & 0 & \\textbf{28} & 89 & & & \\\\ \\hline\n0 & 0 & \\textbf{9} & 28 & 61 & 108 & 155 & \\textbf{155} \\\\ \\hline\n0 & \\textbf{3} & 9 & 19 & 33 & 47 & \\textbf{47} & 0 \\\\ \\hline\n\\textbf{1} & 3 & 6 & 10 & 14 & \\textbf{14} & 0 & 0 \\\\ \\hline\n1 & 2 & 3 & 4 & \\textbf{4} & 0 & 0 & 0 \\\\ \\hline\n1 & 1 & 1 & \\textbf{1} & 0 & 0 & 0 & 0 \\\\ \\hline\n\\end{tabular}\n</math>\n\nThe bolded numbers on the top diagonal represent the number of paths from <math>S</math> to <math>P_4</math> in 2, 4, 6, 8, 10 moves, and the numbers on the bottom diagonal represent the number of paths from <math>S</math> to <math>P_3</math> in 3, 5, 7, 9, 11 moves. We don't care about the blank entries or entries above the line <math>x+y = 11</math>. The total number of ways is <math>1+3+9+28+89+1+4+14+47+155 = \\boxed{351}</math>.\n\n(Solution by scrabbler94)"
  },
  {
    "year": 2018,
    "variant": "I",
    "problem_number": 15,
    "latex": "==Problem 15==\nDavid found four sticks of different lengths that can be used to form three non-congruent convex cyclic quadrilaterals, <math>A,\\text{ }B,\\text{ }C</math>, which can each be inscribed in a circle with radius <math>1</math>. Let <math>\\varphi_A</math> denote the measure of the acute angle made by the diagonals of quadrilateral <math>A</math>, and define <math>\\varphi_B</math> and <math>\\varphi_C</math> similarly. Suppose that <math>\\sin\\varphi_A=\\tfrac{2}{3}</math>, <math>\\sin\\varphi_B=\\tfrac{3}{5}</math>, and <math>\\sin\\varphi_C=\\tfrac{6}{7}</math>. All three quadrilaterals have the same area <math>K</math>, which can be written in the form <math>\\dfrac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "Suppose our four sides lengths cut out arc lengths of <math>2a</math>, <math>2b</math>, <math>2c</math>, and <math>2d</math>, where <math>a+b+c+d=180^\\circ</math>. Then, we only have to consider which arc is opposite <math>2a</math>. These are our three cases, so\n<cmath>\\varphi_A=a+c</cmath>\n<cmath>\\varphi_B=a+b</cmath>\n<cmath>\\varphi_C=a+d</cmath>\nOur first case involves quadrilateral <math>ABCD</math> with <math>\\overarc{AB}=2a</math>, <math>\\overarc{BC}=2b</math>, <math>\\overarc{CD}=2c</math>, and <math>\\overarc{DA}=2d</math>.\n\nThen, by Law of Sines, <math>AC=2\\sin\\left(\\frac{\\overarc{ABC}}{2}\\right)=2\\sin(a+b)</math> and <math>BD=2\\sin\\left(\\frac{\\overarc{BCD}}{2}\\right)=2\\sin(a+d)</math>. Therefore,\n\n<cmath>K=\\frac{1}{2}\\cdot AC\\cdot BD\\cdot \\sin(\\varphi_A)=2\\sin\\varphi_A\\sin\\varphi_B\\sin\\varphi_C=\\frac{24}{35},</cmath>\nso our answer is <math>24+35=\\boxed{059}</math>.\n\nNote that the conditions of the problem are satisfied when the lengths of the four sticks are about <math>0.32, 0.91, 1.06, 1.82</math>.\n\nBy S.B.\n\n===Note===\n[[File:CyclIntersect.png|400px]]\n\nThe solution uses <cmath>\\varphi_A=a+c.</cmath>\n\nWe can see that this follows because <math>\\varphi_A = \\frac12 (2a+2c)=a+c,</math> where <math>a</math> and <math>c</math> are the central angles of opposite sides.\n____Shen Kislay Kai"
  },
  {
    "year": 2018,
    "variant": "II",
    "problem_number": 1,
    "latex": "Points <math>A</math>, <math>B</math>, and <math>C</math> lie in that order along a straight path where the distance from <math>A</math> to <math>C</math> is <math>1800</math> meters. Ina runs twice as fast as Eve, and Paul runs twice as fast as Ina. The three runners start running at the same time with Ina starting at <math>A</math> and running toward <math>C</math>, Paul starting at <math>B</math> and running toward <math>C</math>, and Eve starting at <math>C</math> and running toward <math>A</math>. When Paul meets Eve, he turns around and runs toward <math>A</math>. Paul and Ina both arrive at <math>B</math> at the same time. Find the number of meters from <math>A</math> to <math>B</math>.",
    "solution": "We know that in the same amount of time given, Ina will run twice the distance of Eve, and Paul would run quadruple the distance of Eve. Let's consider the time it takes for Paul to meet Eve: Paul would've run 4 times the distance of Eve, which we can denote as <math>d</math>. Thus, the distance between <math>B</math> and <math>C</math> is <math>4d+d=5d</math>. In that given time, Ina would've run twice the distance <math>d</math>, or <math>2d</math> units. \n\nNow, when Paul starts running back towards <math>A</math>, the same amount of time would pass since he will meet Ina at his starting point. Thus, we know that he travels another <math>4d</math> units and Ina travels another <math>2d</math> units. \n\nTherefore, drawing out the diagram, we find that <math>2d+2d+4d+d=9d=1800 \\implies d=200</math>, and distance between <math>A</math> and <math>B</math> is the distance Ina traveled, or <math>4d=4(200)=\\boxed{800}</math>"
  },
  {
    "year": 2018,
    "variant": "II",
    "problem_number": 2,
    "latex": "Let <math>a_{0} = 2</math>, <math>a_{1} = 5</math>, and <math>a_{2} = 8</math>, and for <math>n > 2</math> define <math>a_{n}</math> recursively to be the remainder when <math>4</math>(<math>a_{n-1}</math> <math>+</math> <math>a_{n-2}</math> <math>+</math> <math>a_{n-3}</math>) is divided by <math>11</math>. Find <math>a_{2018} \\cdot a_{2020} \\cdot a_{2022}</math>.",
    "solution": "When given a sequence problem, one good thing to do is to check if the sequence repeats itself or if there is a pattern.\n\nAfter computing more values of the sequence, it can be observed that the sequence repeats itself every 10 terms starting at <math>a_{0}</math>.\n\n<math>a_{0} = 2</math>,\n<math>a_{1} = 5</math>,\n<math>a_{2} = 8</math>,\n<math>a_{3} = 5</math>,\n<math>a_{4} = 6</math>,\n<math>a_{5} = 10</math>,\n<math>a_{6} = 7</math>,\n<math>a_{7} = 4</math>,\n<math>a_{8} = 7</math>,\n<math>a_{9} = 6</math>,\n<math>a_{10} = 2</math>,\n<math>a_{11} = 5</math>,\n<math>a_{12} = 8</math>,\n<math>a_{13} = 5</math>\n\nWe can simplify the expression we need to solve to <math>a_{8}\\cdot a_{10} \\cdot a_{2}</math>.\n\nOur answer is <math>7 \\cdot 2 \\cdot 8</math> <math>= \\boxed{112}</math>."
  },
  {
    "year": 2018,
    "variant": "II",
    "problem_number": 3,
    "latex": "Find the sum of all positive integers <math>b < 1000</math> such that the base-<math>b</math> integer <math>36_{b}</math> is a perfect square and the base-<math>b</math> integer <math>27_{b}</math> is a perfect cube.",
    "solution": "The first step is to convert <math>36_{b}</math> and <math>27_{b}</math> into base-10 numbers. Then, we can write <cmath>36_{b} = 3b + 6</cmath> and <cmath>27_{b} = 2b + 7</cmath>. It should also be noted that <math>8 \\leq b < 1000</math>.\n\nBecause there are less perfect cubes than perfect squares for the restriction we are given on <math>b</math>, it is best to list out all the perfect cubes. Since the maximum <math>b</math> can be is 1000 and <math>2</math> ‚Ä¢ <math>1000 + 7 = 2007</math>, we can list all the perfect cubes less than 2007.\n\nNow, <math>2b + 7</math> must be one of <cmath>3^3, 4^3, ... , 12^3</cmath>. However, <math>2b + 7</math> will always be odd, so we can eliminate the cubes of the even numbers and change our list of potential cubes to <cmath>3^3, 5^3, 7^3, 9^3\\text{, and }11^3</cmath>.\n\nBecause <math>3b + 6</math> is a perfect square and is clearly divisible by 3, it must be divisible by 9, so <math>b + 2</math> is divisible by 3. Thus the cube, which is <cmath>2b + 7 = 2(b + 2) + 3</cmath>, must also be divisible by 3. Therefore, the only cubes that <math>2b + 7</math> could potentially be now are <math>3^3</math> and <math>9^3</math>.\n\nWe need to test both of these cubes to make sure <math>3b + 6</math> is a perfect square.\n\n<math>\\textbf{Case 1:}</math> If we set <cmath>3^3 = 2b + 7</cmath>so <cmath>b = 10</cmath>. If we plug this value of b into <math>3b + 6</math>, the expression equals <math>36</math>, which is indeed a perfect square.\n\n<math>\\textbf{Case 2:}</math> If we set <cmath>9^3 = 2b + 7</cmath>so <cmath>b = 361</cmath>. If we plug this value of b into <math>3b + 6</math>, the expression equals <math>1089</math>, which is <math>33^2</math>.\n\nWe have proven that both <math>b = 10</math> and <math>b = 361</math> are the only solutions, so <cmath>10 + 361 = \\boxed{371}</cmath>"
  },
  {
    "year": 2018,
    "variant": "II",
    "problem_number": 4,
    "latex": "In equiangular octagon <math>CAROLINE</math>, <math>CA = RO = LI = NE =</math> <math>\\sqrt{2}</math> and <math>AR = OL = IN = EC = 1</math>. The self-intersecting octagon <math>CORNELIA</math> encloses six non-overlapping triangular regions. Let <math>K</math> be the area enclosed by <math>CORNELIA</math>, that is, the total area of the six triangular regions. Then <math>K =</math> <math>\\dfrac{a}{b}</math>, where <math>a</math> and <math>b</math> are relatively prime positive integers. Find <math>a + b</math>.",
    "solution": "We can draw <math>CORNELIA</math> and introduce some points.\n\n[[File:2018_AIME_II_Problem_4.png|200px]]\n\nThe diagram is essentially a 3x3 grid where each of the 9 squares making up the grid have a side length of 1.\n\nIn order to find the area of <math>CORNELIA</math>, we need to find 4 times the area of <math>\\bigtriangleup</math><math>ACY</math> and 2 times the area of <math>\\bigtriangleup</math><math>YZW</math>.\n\nUsing similar triangles <math>\\bigtriangleup</math><math>ARW</math> and <math>\\bigtriangleup</math><math>YZW</math>(We look at their heights), <math>YZ</math> <math>=</math> <math>\\frac{1}{3}</math>. Therefore, the area of <math>\\bigtriangleup</math><math>YZW</math> is <math>\\frac{1}{3}\\cdot\\frac{1}{2}\\cdot\\frac{1}{2}</math> <math>=</math> <math>\\frac{1}{12}</math>\n\nSince <math>YZ</math> <math>=</math> <math>\\frac{1}{3}</math> and <math>XY = ZQ</math>, <math>XY</math> <math>=</math> <math>\\frac{1}{3}</math> and <math>CY</math> <math>=</math> <math>\\frac{4}{3}</math>.\n\nTherefore, the area of <math>\\bigtriangleup</math><math>ACY</math> is <math>\\frac{4}{3}\\cdot</math> <math>1</math> <math>\\cdot</math> <math>\\frac{1}{2}</math> <math>=</math> <math>\\frac{2}{3}</math>\n\nOur final answer is <math>\\frac{1}{12}</math> <math>\\cdot</math> <math>2</math> <math>+</math> <math>\\frac{2}{3}</math> <math>\\cdot</math> <math>4</math> <math>=</math> <math>\\frac{17}{6}</math>\n\n<math>17 + 6 =</math> <math>\\boxed{023}</math>"
  },
  {
    "year": 2018,
    "variant": "II",
    "problem_number": 5,
    "latex": "Suppose that <math>x</math>, <math>y</math>, and <math>z</math> are complex numbers such that <math>xy = -80 - 320i</math>, <math>yz = 60</math>, and <math>zx = -96 + 24i</math>, where <math>i</math> <math>=</math> <math>\\sqrt{-1}</math>. Then there are real numbers <math>a</math> and <math>b</math> such that <math>x + y + z = a + bi</math>. Find <math>a^2 + b^2</math>.",
    "solution": "The First (pun intended) thing to notice is that <math>xy</math> and <math>zx</math> have a similar structure, but not exactly conjugates, but instead once you take out the magnitudes of both, simply multiples of a root of unity. It turns out that root of unity is <math>e^{\\frac{3\\pi i}{2}}</math>. Anyway this results in getting that <math>\\left(\\frac{-3i}{10}\\right)y=z</math>. Then substitute this into <math>yz</math> to get, after some calculation, that <math>y=10e^{\\frac{5\\pi i}{4}}\\sqrt{2}</math> and <math>z=-3e^{\\frac{7\\pi i}{4}}\\sqrt{2}</math>. Then plug <math>z</math> into <math>zx</math>, you could do the same thing with <math>xy</math> but <math>zx</math> looks like it's easier due to it being smaller. Anyway you get <math>x=20+12i</math>. Then add all three up, it turns out easier than it seems because for <math>z</math> and <math>y</math> the <math>\\sqrt{2}</math> disappears after you expand the root of unity (e raised to a specific power). Long story short, you get <math>x=20+12i, y=-3+3i, z=-10-10i \\implies x+y+z=7+5i \\implies a^2+b^2=\\boxed{074}</math>.\n\n~First"
  },
  {
    "year": 2018,
    "variant": "II",
    "problem_number": 6,
    "latex": "A real number <math>a</math> is chosen randomly and uniformly from the interval <math>[-20, 18]</math>. The probability that the roots of the polynomial\n\n<math>x^4 + 2ax^3 + (2a - 2)x^2 + (-4a + 3)x - 2</math>\n\nare all real can be written in the form <math>\\dfrac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m + n</math>.",
    "solution": "The polynomial we are given is rather complicated, so we could use [[Rational Root Theorem]] to turn the given polynomial into a degree-2 polynomial. With Rational Root Theorem, <math>x = 1, -1, 2, -2</math> are all possible rational roots. Upon plugging these roots into the polynomial, <math>x = -2</math> and <math>x = 1</math> make the polynomial equal 0 and thus, they are roots that we can factor out.\n\nThe polynomial becomes:\n\n<math>(x - 1)(x + 2)(x^2 + (2a - 1)x + 1)</math>\n\nSince we know <math>1</math> and <math>-2</math> are real numbers, we only need to focus on the quadratic.\n\nWe should set the discriminant of the quadratic greater than or equal to 0.\n\n<math>(2a - 1)^2 - 4 \\geq 0</math>.\n\nThis simplifies to:\n\n<math>a \\geq \\dfrac{3}{2}</math>\n\nor\n\n<math>a \\leq -\\dfrac{1}{2}</math>\n\nThis means that the interval <math>\\left(-\\dfrac{1}{2}, \\dfrac{3}{2}\\right)</math> is the \"bad\" interval. The length of the interval where <math>a</math> can be chosen from is 38 units long, while the bad interval is 2 units long. Therefore, the \"good\" interval is 36 units long.\n\n<math>\\dfrac{36}{38} = \\dfrac{18}{19}</math>\n\n<math>18 + 19 = \\boxed{037}</math>\n\n~First"
  },
  {
    "year": 2018,
    "variant": "II",
    "problem_number": 7,
    "latex": "==Problem 7==\nTriangle <math>ABC</math> has side lengths <math>AB = 9</math>, <math>BC =</math> <math>5\\sqrt{3}</math>, and <math>AC = 12</math>. Points <math>A = P_{0}, P_{1}, P_{2}, ... , P_{2450} = B</math> are on segment <math>\\overline{AB}</math> with <math>P_{k}</math> between <math>P_{k-1}</math> and <math>P_{k+1}</math> for <math>k = 1, 2, ..., 2449</math>, and points <math>A = Q_{0}, Q_{1}, Q_{2}, ... , Q_{2450} = C</math> are on segment <math>\\overline{AC}</math> with <math>Q_{k}</math> between <math>Q_{k-1}</math> and <math>Q_{k+1}</math> for <math>k = 1, 2, ..., 2449</math>. Furthermore, each segment <math>\\overline{P_{k}Q_{k}}</math>, <math>k = 1, 2, ..., 2449</math>, is parallel to <math>\\overline{BC}</math>. The segments cut the triangle into <math>2450</math> regions, consisting of <math>2449</math> trapezoids and <math>1</math> triangle. Each of the <math>2450</math> regions has the same area. Find the number of segments <math>\\overline{P_{k}Q_{k}}</math>, <math>k = 1, 2, ..., 2450</math>, that have rational length.",
    "solution": "For each <math>k</math> between <math>2</math> and <math>2450</math>, the area of the trapezoid with <math>\\overline{P_kQ_k}</math> as its bottom base is the difference between the areas of two triangles, both similar to <math>\\triangle{ABC}</math>. Let <math>d_k</math> be the length of segment <math>\\overline{P_kQ_k}</math>. The area of the trapezoid with bases <math>\\overline{P_{k-1}Q_{k-1}}</math> and <math>P_kQ_k</math> is <math>\\left(\\frac{d_k}{5\\sqrt{3}}\\right)^2 - \\left(\\frac{d_{k-1}}{5\\sqrt{3}}\\right)^2 = \\frac{d_k^2-d_{k-1}^2}{75}</math> times the area of <math>\\triangle{ABC}</math>. (This logic also applies to the topmost triangle if we notice that <math>d_0 = 0</math>.) However, we also know that the area of each shape is <math>\\frac{1}{2450}</math> times the area of <math>\\triangle{ABC}</math>. We then have <math>\\frac{d_k^2-d_{k-1}^2}{75} = \\frac{1}{2450}</math>. Simplifying, <math>d_k^2-d_{k-1}^2 = \\frac{3}{98}</math>. However, we know that <math>d_0^2 = 0</math>, so <math>d_1^2 = \\frac{3}{98}</math>, and in general, <math>d_k^2 = \\frac{3k}{98}</math> and <math>d_k = \\frac{\\sqrt{\\frac{3k}{2}}}{7}</math>. The smallest <math>k</math> that gives a rational <math>d_k</math> is <math>6</math>, so <math>d_k</math> is rational if and only if <math>k = 6n^2</math> for some integer <math>n</math>.The largest <math>n</math> such that <math>6n^2</math> is less than <math>2450</math> is <math>20</math>, so <math>k</math> has <math>\\boxed{020}</math> possible values.\n\nSolution by zeroman"
  },
  {
    "year": 2018,
    "variant": "II",
    "problem_number": 8,
    "latex": "A frog is positioned at the origin of the coordinate plane. From the point <math>(x, y)</math>, the frog can jump to any of the points <math>(x + 1, y)</math>, <math>(x + 2, y)</math>, <math>(x, y + 1)</math>, or <math>(x, y + 2)</math>. Find the number of distinct sequences of jumps in which the frog begins at <math>(0, 0)</math> and ends at <math>(4, 4)</math>.",
    "solution": "We solve this problem by working backwards. Notice, the only points the frog can be on to jump to <math>(4,4)</math> in one move are <math>(2,4),(3,4),(4,2),</math> and <math>(4,3)</math>. This applies to any other point, thus we can work our way from <math>(0,0)</math> to <math>(4,4)</math>, recording down the number of ways to get to each point recursively. \n\n<math>(0,0): 1</math>\n\n<math>(1,0)=(0,1)=1</math>\n\n<math>(2,0)=(0, 2)=2</math>\n\n<math>(3,0)=(0, 3)=3</math>\n\n<math>(4,0)=(0, 4)=5</math>\n\n<math>(1,1)=2</math>, <math>(1,2)=(2,1)=5</math>, <math>(1,3)=(3,1)=10</math>, <math>(1,4)=(4,1)= 20</math>\n\n<math>(2,2)=14, (2,3)=(3,2)=32, (2,4)=(4,2)=71</math>\n\n<math>(3,3)=84, (3,4)=(4,3)=207</math>\n\n<math>(4,4)=2\\cdot \\left( (4,2)+(4,3)\\right) = 2\\cdot \\left( 207+71\\right)=2\\cdot 278=\\boxed{556}</math>\n\nA diagram of the numbers:\n\n<asy>\nimport graph;\nadd(shift(0,0)*grid(4,4));\nlabel((0,0), \"1\", SW);\nlabel((1,0), \"1\", SW);\nlabel((2,0), \"2\", SW);\nlabel((3,0), \"3\", SW);\nlabel((4,0), \"5\", SW);\n\nlabel((0,1), \"1\", SW);\nlabel((1,1), \"2\", SW);\nlabel((2,1), \"5\", SW);\nlabel((3,1), \"10\", SW);\nlabel((4,1), \"20\", SW);\n\nlabel((0,2), \"2\", SW);\nlabel((1,2), \"5\", SW);\nlabel((2,2), \"14\", SW);\nlabel((3,2), \"32\", SW);\nlabel((4,2), \"71\", SW);\n\nlabel((0,3), \"3\", SW);\nlabel((1,3), \"10\", SW);\nlabel((2,3), \"32\", SW);\nlabel((3,3), \"84\", SW);\nlabel((4,3), \"207\", SW);\n\nlabel((0,4), \"5\", SW);\nlabel((1,4), \"20\", SW);\nlabel((2,4), \"71\", SW);\nlabel((3,4), \"207\", SW);\nlabel((4,4), \"556\", SW);\n</asy>\n\n~First"
  },
  {
    "year": 2018,
    "variant": "II",
    "problem_number": 9,
    "latex": "Octagon <math>ABCDEFGH</math> with side lengths <math>AB = CD = EF = GH = 10</math> and <math>BC = DE = FG = HA = 11</math> is formed by removing 6-8-10 triangles from the corners of a <math>23</math> <math>\\times</math> <math>27</math> rectangle with side <math>\\overline{AH}</math> on a short side of the rectangle, as shown. Let <math>J</math> be the midpoint of <math>\\overline{AH}</math>, and partition the octagon into 7 triangles by drawing segments <math>\\overline{JB}</math>, <math>\\overline{JC}</math>, <math>\\overline{JD}</math>, <math>\\overline{JE}</math>, <math>\\overline{JF}</math>, and <math>\\overline{JG}</math>. Find the area of the convex polygon whose vertices are the centroids of these 7 triangles.\n\n<asy>\nunitsize(6);\npair P = (0, 0), Q = (0, 23), R = (27, 23), SS = (27, 0);\npair A = (0, 6), B = (8, 0), C = (19, 0), D = (27, 6), EE = (27, 17), F = (19, 23),  G = (8, 23), J = (0, 23/2), H = (0, 17);\ndraw(P--Q--R--SS--cycle);\ndraw(J--B);\ndraw(J--C);\ndraw(J--D);\ndraw(J--EE);\ndraw(J--F);\ndraw(J--G);\ndraw(A--B);\ndraw(H--G);\nreal dark = 0.6;\nfilldraw(A--B--P--cycle, gray(dark));\nfilldraw(H--G--Q--cycle, gray(dark));\nfilldraw(F--EE--R--cycle, gray(dark));\nfilldraw(D--C--SS--cycle, gray(dark));\ndot(A);\ndot(B);\ndot(C);\ndot(D);\ndot(EE);\ndot(F);\ndot(G);\ndot(H);\ndot(J);\ndot(H);\ndefaultpen(fontsize(10pt));\nreal r = 1.3;\nlabel(\"$A$\", A, W*r);\nlabel(\"$B$\", B, S*r);\nlabel(\"$C$\", C, S*r);\nlabel(\"$D$\", D, E*r);\nlabel(\"$E$\", EE, E*r);\nlabel(\"$F$\", F, N*r);\nlabel(\"$G$\", G, N*r);\nlabel(\"$H$\", H, W*r);\nlabel(\"$J$\", J, W*r);\n</asy>",
    "solution": "We represent octagon <math>ABCDEFGH</math> in the coordinate plane with the upper left corner of the rectangle being the origin. Then it follows that <math>A=(0,-6), B=(8, 0), C=(19,0), D=(27, -6), E=(27, -17), F=(19, -23), G=(8, -23), H=(0, -17), J=(0, -\\frac{23}{2})</math>. Recall that the centroid is <math>\\frac{1}{3}</math> way up each median in the triangle. Thus, we can find the centroids easily by finding the midpoint of the side opposite of point <math>J</math>. Furthermore, we can take advantage of the reflective symmetry across the line parallel to <math>BC</math> going through <math>J</math> by dealing with less coordinates and ommiting the <math>\\frac{1}{2}</math> in the shoelace formula. \n\nBy doing some basic algebra, we find that the coordinates of the centroids of <math>\\bigtriangleup JAB, \\bigtriangleup JBC, \\bigtriangleup JCD, \\bigtriangleup JDE</math> are <math>\\left(\\frac{8}{3}, -\\frac{35}{6}\\right), \\left(9, -\\frac{23}{6}\\right), \\left(\\frac{46}{3}, -\\frac{35}{6}\\right),</math> and <math>\\left(18, -\\frac{23}{2}\\right)</math>, respectively. We'll have to throw in the projection of the centroid of <math>\\bigtriangleup JAB</math> to the line of reflection to apply shoelace, and that point is <math>\\left( \\frac{8}{3}, -\\frac{23}{2}\\right)</math>\n\nFinally, applying Shoelace, we get: \n<math>\\left|\\left(\\frac{8}{3}\\cdot (-\\frac{23}{6})+9\\cdot (-\\frac{35}{6})+\\frac{46}{3}\\cdot (-\\frac{23}{2})+18\\cdot (\\frac{-23}{2})+\\frac{8}{3}\\cdot (-\\frac{35}{6})\\right) - \\left((-\\frac{35}{6}\\cdot 9) +\\\\(-\\frac{23}{6}\\cdot \\frac{46}{3})+ (-\\frac{35}{6}\\cdot 18)+(\\frac{-23}{2}\\cdot \\frac{8}{3})+(-\\frac{23}{2}\\cdot \\frac{8}{3})\\right)\\right|</math>\n<math>=\\left|\\left(-\\frac{92}{9}-\\frac{105}{2}-\\frac{529}{3}-207-\\frac{140}{9}\\right)-\\left(-\\frac{105}{2}-\\frac{529}{9}-105-\\frac{92}{3}-\\frac{92}{3}\\right)\\right|</math>\n<math>=\\left|-\\frac{232}{9}-\\frac{1373}{6}-207+\\frac{529}{9}+\\frac{184}{3}+105+\\frac{105}{2}\\right|</math>\n<math>=\\left|\\frac{297}{9}-\\frac{690}{6}-102\\right|=\\left| 33-115-102\\right|=\\left|-184\\right|=\\boxed{184}</math>\n\nSolution by ktong\n\nnote: for a slightly simpler calculation, notice that the heptagon can be divided into two trapezoids of equal area and a small triangle."
  },
  {
    "year": 2018,
    "variant": "II",
    "problem_number": 10,
    "latex": "Find the number of functions <math>f(x)</math> from <math>\\{1, 2, 3, 4, 5\\}</math> to <math>\\{1, 2, 3, 4, 5\\}</math> that satisfy <math>f(f(x)) = f(f(f(x)))</math> for all <math>x</math> in <math>\\{1, 2, 3, 4, 5\\}</math>.",
    "solution": "Just to visualize solution 1. If we list all possible <math>(x,f(x))</math>, from <math>{1,2,3,4,5}</math> to <math>{1,2,3,4,5}</math> in a specific order, we get <math>5 \\cdot 5 = 25</math> different <math>(x,f(x))</math> 's.\nNamely:\n\n<cmath>(1,1) (1,2) (1,3) (1,4) (1,5)</cmath>\n<cmath>(2,1) (2,2) (2,3) (2,4) (2,5)</cmath> \n<cmath>(3,1) (3,2) (3,3) (3,4) (3,5)</cmath> \n<cmath>(4,1) (4,2) (4,3) (4,4) (4,5)</cmath>\n<cmath>(5,1) (5,2) (5,3) (5,4) (5,5)</cmath>\n\nTo list them in this specific order makes it a lot easier to solve this problem. We notice, In order to solve this problem at least one pair of <math>(x,x)</math> where <math>x\\in{1,2,3,4,5}</math> must exist.In this case I rather \"go backwards\". First fixing <math>5</math> pairs <math>(x,x)</math>, (the diagonal of our table) and map them to the other fitting pairs <math>(x,f(x))</math>. You can do this in <math>\\frac{5!}{5!} = 1</math> way. Then fixing <math>4</math> pairs <math>(x,x)</math> (The diagonal minus <math>1</math>) and map them to the other fitting pairs <math>(x,f(x))</math>. You can do this in \n<math>4\\cdot\\frac{5!}{4!} = 20</math> ways. Then fixing <math>3</math> pairs <math>(x,x)</math> (The diagonal minus <math>2</math>) and map them to the other fitting pairs <math>(x,f(x))</math>. You can do this in <math>\\tfrac{(5\\cdot4\\cdot3\\cdot6\\cdot3)}{3!2!} + \\tfrac{(5\\cdot4\\cdot3\\cdot6\\cdot1)}{3!} = 150</math> ways.\nFixing <math>2</math> pairs <math>(x,x)</math> (the diagonal minus <math>3</math>) and map them to the other fitting pairs <math>(x,f(x))</math>. You can do this in <math>\\frac{(5\\cdot4\\cdot6\\cdot4\\cdot2)}{2!3!} + \\frac{(5\\cdot4\\cdot6\\cdot4\\cdot2)}{2!2!} + \\frac{(5\\cdot4\\cdot6\\cdot2\\cdot1)}{2!2!} = 380</math> ways.\nLastly, fixing <math>1</math> pair <math>(x,x)</math> (the diagonal minus <math>4</math>) and map them to the other fitting pairs <math>(x,f(x))</math>. You can do this in <math>\\tfrac{5!}{4!} + 4\\cdot\\tfrac{5!}{3!} + 5! = 205</math> ways.\n\nSo <math>1 + 20 + 150 + 380 + 205 = \\framebox{756}</math>"
  },
  {
    "year": 2018,
    "variant": "II",
    "problem_number": 11,
    "latex": "Find the number of permutations of <math>1, 2, 3, 4, 5, 6</math> such that for each <math>k</math> with <math>1</math> <math>\\leq</math> <math>k</math> <math>\\leq</math> <math>5</math>, at least one of the first <math>k</math> terms of the permutation is greater than <math>k</math>.",
    "solution": "If the first number is <math>6</math>, then there are no restrictions. There are <math>5!</math>, or <math>120</math> ways to place the other <math>5</math> numbers.\n\n\nIf the first number is <math>5</math>, <math>6</math> can go in four places, and there are <math>4!</math> ways to place the other <math>4</math> numbers. <math>4 \\cdot 4! = 96</math> ways.\n\n\nIf the first number is <math>4</math>, ....\n\n4 6 _ _ _ _ <math>\\implies</math> 24 ways\n\n4 _ 6 _ _ _ <math>\\implies</math> 24 ways\n\n4 _ _ 6 _ _ <math>\\implies</math> 24 ways\n\n4 _ _ _ 6 _ <math>\\implies</math> 5 must go between <math>4</math> and <math>6</math>, so there are <math>3 \\cdot 3! = 18</math> ways.\n\n<math>24 + 24 + 24 + 18 = 90</math> ways if 4 is first.\n\n\nIf the first number is <math>3</math>, ....\n\n3 6 _ _ _ _ <math>\\implies</math> 24 ways\n\n3 _ 6 _ _ _ <math>\\implies</math> 24 ways\n\n3 1 _ 6 _ _ <math>\\implies</math> 4 ways \n\n3 2 _ 6 _ _ <math>\\implies</math> 4 ways\n\n3 4 _ 6 _ _ <math>\\implies</math> 6 ways\n\n3 5 _ 6 _ _ <math>\\implies</math> 6 ways\n\n3 5 _ _ 6 _ <math>\\implies</math> 6 ways\n\n3 _ 5 _ 6 _ <math>\\implies</math> 6 ways\n\n3 _ _ 5 6 _ <math>\\implies</math> 4 ways\n\n<math>24 + 24 + 4 + 4 + 6 + 6 + 6 + 6 + 4 = 84</math> ways\n\n\nIf the first number is <math>2</math>, ....\n\n2 6 _ _ _ _ <math>\\implies</math> 24 ways\n\n2 _ 6 _ _ _ <math>\\implies</math> 18 ways \n\n2 3 _ 6 _ _ <math>\\implies</math> 4 ways\n\n2 4 _ 6 _ _ <math>\\implies</math> 6 ways\n\n2 5 _ 6 _ _ <math>\\implies</math> 6 ways\n\n2 5 _ _ 6 _ <math>\\implies</math> 6 ways\n\n2 _ 5 _ 6 _ <math>\\implies</math> 4 ways\n\n2 4 _ 5 6 _ <math>\\implies</math> 2 ways\n\n2 3 4 5 6 1 <math>\\implies</math> 1 way\n\n\n<math>24 + 18 + 4 + 6 + 6 + 6 + 4 + 2 + 1 = 71</math> ways\n\n\nGrand Total : <math>120 + 96 + 90 + 84 + 71 = \\boxed{461}</math>"
  },
  {
    "year": 2018,
    "variant": "II",
    "problem_number": 12,
    "latex": "Let <math>ABCD</math> be a convex quadrilateral with <math>AB = CD = 10</math>, <math>BC = 14</math>, and <math>AD = 2\\sqrt{65}</math>. Assume that the diagonals of <math>ABCD</math> intersect at point <math>P</math>, and that the sum of the areas of triangles <math>APB</math> and <math>CPD</math> equals the sum of the areas of triangles <math>BPC</math> and <math>APD</math>. Find the area of quadrilateral <math>ABCD</math>.",
    "solution": "==Diagram==\n\nLet <math>AP=x</math> and let <math>PC=\\rho x</math>. Let <math>[ABP]=\\Delta</math> and let <math>[ADP]=\\Lambda</math>.\n<asy>\ndefaultpen(fontsize(14)+0.6); unitsize(12);\n\nreal x=11.25;\npair B1=origin, D1=(x,0), C1=IP(CR(B1,14),CR(D1,10)), A1=OP(CR(B1,10),CR(D1,2*sqrt(65))), P1=extension(A1,C1,B1,D1);\n\npair A=origin, C=(length(C1-A1),0), B=IP(CR(A,10),CR(C,14)), D=OP(CR(A,2*sqrt(65)),CR(C,10)), P=extension(A,C,B,D);\n\ndraw(A--B--C--D--A);\ndraw(A--C^^B--D,gray+0.4);\ndot(\"$A$\",A,dir(A-P)); dot(\"$B$\",B,dir(B-P)); dot(\"$C$\",C,dir(C-P)); dot(\"$D$\",D,dir(D-P)); dot(\"$P$\",P,dir(230));\n\npen p=fontsize(10);\nlabel(\"$10$\",A--B,up,p); label(\"$10$\", C--D, 2*right,p); label(\"$14$\", B--C, N,p); label(\"$2\\sqrt{65}$\", A--D, SW,p); label(\"$x$\", A--P,down,p); label(\"$\\rho x$\", P--C,down,p); label(\"$\\Delta$\",(A+B+P)/3, right,p); label(\"$\\Lambda$\",(A+D+P)/3, right,p);\n</asy>"
  },
  {
    "year": 2018,
    "variant": "II",
    "problem_number": 13,
    "latex": "Misha rolls a standard, fair six-sided die until she rolls <math>1-2-3</math> in that order on three consecutive rolls. The probability that she will roll the die an odd number of times is <math>\\dfrac{m}{n}</math> where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "Let <math>P_n</math> be the probability of getting consecutive <math>1,2,3</math> rolls in <math>n</math> rolls and not rolling <math>1,2,3</math> prior to the nth roll. \n\nLet <math>x = P_3+P_5+...=1-(P_4+P_6+..)</math>. Following Solution 2, one can see that\n<cmath>P_{n+1}=P_{n}-\\frac{P_{n-2}}{6^3}</cmath>\nfor all positive integers <math>n \\ge 5</math>. Summing for <math>n=5,7,...</math> gives\n<cmath>(1-x)-\\frac{1}{6^3}=x-\\frac{1}{6^3}-\\frac{x}{6^3}</cmath>\n<cmath> \\implies x = \\frac{m}{n} = \\frac{216}{431} \\implies m+n=216+431= \\boxed{647}</cmath>"
  },
  {
    "year": 2018,
    "variant": "II",
    "problem_number": 14,
    "latex": "The incircle <math>\\omega</math> of triangle <math>ABC</math> is tangent to <math>\\overline{BC}</math> at <math>X</math>. Let <math>Y \\neq X</math> be the other intersection of <math>\\overline{AX}</math> with <math>\\omega</math>. Points <math>P</math> and <math>Q</math> lie on <math>\\overline{AB}</math> and <math>\\overline{AC}</math>, respectively, so that <math>\\overline{PQ}</math> is tangent to <math>\\omega</math> at <math>Y</math>. Assume that <math>AP = 3</math>, <math>PB = 4</math>, <math>AC = 8</math>, and <math>AQ = \\dfrac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "==Diagram==\n<asy> size(200); import olympiad; defaultpen(linewidth(1)+fontsize(12)); \npair A,B,C,P,Q,Wp,X,Y,Z; B=origin; C=(6.75,0); A=IP(CR(B,7),CR(C,8)); path c=incircle(A,B,C); Wp=IP(c,A--C); Z=IP(c,A--B); X=IP(c,B--C); Y=IP(c,A--X); pair I=incenter(A,B,C); P=extension(A,B,Y,Y+dir(90)*(Y-I)); Q=extension(A,C,P,Y);\ndraw(A--B--C--cycle, black+1); draw(c^^A--X^^P--Q); \npen p=4+black; dot(\"$A$\",A,N,p); dot(\"$B$\",B,SW,p); dot(\"$C$\",C,SE,p); dot(\"$X$\",X,S,p); dot(\"$Y$\",Y,dir(55),p); dot(\"$W$\",Wp,E,p); dot(\"$Z$\",Z,W,p); dot(\"$P$\",P,W,p); dot(\"$Q$\",Q,E,p); MA(\"\\beta\",C,X,A,0.3,black); MA(\"\\alpha\",B,A,X,0.7,black); </asy>"
  },
  {
    "year": 2018,
    "variant": "II",
    "problem_number": 15,
    "latex": "Find the number of functions <math>f</math> from <math>\\{0, 1, 2, 3, 4, 5, 6\\}</math> to the integers such that <math>f(0) = 0</math>, <math>f(6) = 12</math>, and\n<cmath>|x - y| \\leq |f(x) - f(y)| \\leq 3|x - y|</cmath>\nfor all <math>x</math> and <math>y</math> in <math>\\{0, 1, 2, 3, 4, 5, 6\\}</math>.",
    "solution": "==Official Solution (MAA)==\n\nBecause <math>f(n)</math> and <math>f(n+1)</math> can differ by at most 3 for <math>n=0,1,2,3,4,5</math>, <math>f</math> can decrease at most once. This is because if <math>f</math> decreases <math>2</math> times (or more) then we get a contradiction: <math>12 = f(6) \\le 3\\cdot 4 + (-1)\\cdot 2 = 10</math>.\n\nIf <math>f</math> never decreases, then <math>f(n+1)-f(n)\\in \\{1,2,3\\}</math> for all <math>n</math>. Let <math>a, b</math>, and <math>c</math> denote the number of times this difference is <math>1, 2</math>, and <math>3</math>, respectively. Then <math>a+b+c=6</math> and <math>a+2b+3c = 12</math>. Subtracting the first equation from the second yields <math>b+2c=6</math>, so <math>(b,c)=(6,0), (4,1), (2,2)</math>, or <math>(0,3)</math>. These yield <math>a=0,1,2</math>, or <math>3</math>, respectively, so the number of possibilities in this case is<cmath>\\binom{6}{0,6,0}+\\binom{6}{1,4,1}+\\binom{6}{2,2,2}+\\binom{6}{3,0,3}=141.</cmath>If <math>f</math> decreases from <math>f(0)</math> to <math>f(1)</math> or from <math>f(5)</math> to <math>f(6)</math>, then <math>f(2)</math> or <math>f(4)</math>, respectively, is determined. The only solutions to <math>a+b+c=4</math> and <math>a+2b+3c=10</math> are <math>(a,b,c)=(1,0,3)</math> and <math>(a,b,c)=(0,2,2)</math>, so the number of functions is <cmath>2\\left[\\binom{4}{1,0,3}+\\binom{4}{0,2,2}\\right]=20. </cmath>Finally, suppose that <math>f(n+1)<f(n)</math> for some <math>n=1,2,3,4</math>. Note that the condition <math>|(n+1)-(n-1)|\\le |f(n+1)-f(n-1)|</math> implies that <math>f(n+1)-f(n-1)\\ge 2</math>, so it must be that <math>f(n)-f(n+1)=1</math> and <cmath>f(n+2)-f(n+1)=f(n)-f(n-1)=3.</cmath>This means that <math>f(n-1)</math> and <math>f(n+2)</math> are uniquely determined by the value of <math>f(n)</math>, and, in particular, that <math>f(n+2)-f(n-1)=5</math>. As a result, there are three more values of <math>f</math> to determine, and they must provide a total increase of <math>7</math>. The only ways to do this are either to have two differences of <math>3</math> and one difference of <math>1</math>, which can be arranged in <math>3</math> ways, or to have one difference of <math>3</math> and two differences of <math>2</math>, which can be arranged in <math>3</math> ways. Thus for each of the <math>4</math>  possibilities for <math>n</math>, there are <math>6</math> ways to arrange the increases, giving a total of <math>24</math> ways.\n    \nThe total number of functions is <math>141+20+24=\\boxed{185}</math>."
  },
  {
    "year": 2019,
    "variant": "I",
    "problem_number": 1,
    "latex": "Consider the integer <cmath>N = 9 + 99 + 999 + 9999 + \\cdots + \\underbrace{99\\ldots 99}_\\text{321 digits}.</cmath>Find the sum of the digits of <math>N</math>.",
    "solution": "Let's express the number in terms of <math>10^n</math>. We can obtain <math>(10-1)+(10^2-1)+(10^3-1)+\\cdots+(10^{321}-1)</math>. By the commutative and associative property, we can group it into <math>(10+10^2+10^3+\\cdots+10^{321})-321</math>. We know the former will yield <math>1111....10</math>, so we only have to figure out what the last few digits are. There are currently <math>321</math> 1's. We know the last four digits are <math>1110</math>, and that the others will not be affected if we subtract <math>321</math>. If we do so, we get that <math>1110-321=789</math>. This method will remove three <math>1</math>'s, and add a <math>7</math>, <math>8</math> and <math>9</math>. Therefore, the sum of the digits is <math>(321-3)+7+8+9=\\boxed{342}</math>.\n\n-eric2020\n-another Eric in 2020\n\n\n\nA similar and simpler way to consider the initial manipulations is to observe that adding <math>1</math> to each term results in <math>(10+100+... 10^{320}+10^{321})</math>. There are <math>321</math> terms, so it becomes <math>11...0</math>, where there are <math>322</math> digits in <math>11...0</math>. Then, subtract the <math>321</math> you initially added. \n\n~ BJHHar"
  },
  {
    "year": 2019,
    "variant": "I",
    "problem_number": 2,
    "latex": "Jenn randomly chooses a number <math>J</math> from <math>1, 2, 3,\\ldots, 19, 20</math>. Bela then randomly chooses a number <math>B</math> from <math>1, 2, 3,\\ldots, 19, 20</math> distinct from <math>J</math>. The value of <math>B - J</math> is at least <math>2</math> with a probability that can be expressed in the form <math>\\frac{m}{n}</math> where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "<math>B-J \\ne 0</math> because <math>B \\ne J</math>, so the probability that <math>B-J < 0</math> is <math>\\frac{1}{2}</math> by symmetry.\n\nThe probability that <math>B-J = 1</math> is <math>\\frac{19}{20 \\times 19} = \\frac{1}{20}</math> because there are 19 pairs: <math>(B,J) = (2,1), \\ldots, (20,19)</math>.\n\nThe probability that <math>B-J \\ge 2</math> is <math>1-\\frac{1}{2}-\\frac{1}{20} = \\frac{9}{20} \\implies \\boxed{029}</math>"
  },
  {
    "year": 2019,
    "variant": "I",
    "problem_number": 3,
    "latex": "In <math>\\triangle PQR</math>, <math>PR=15</math>, <math>QR=20</math>, and <math>PQ=25</math>. Points <math>A</math> and <math>B</math> lie on <math>\\overline{PQ}</math>, points <math>C</math> and <math>D</math> lie on <math>\\overline{QR}</math>, and points <math>E</math> and <math>F</math> lie on <math>\\overline{PR}</math>, with <math>PA=QB=QC=RD=RE=PF=5</math>. Find the area of hexagon <math>ABCDEF</math>.",
    "solution": "==Diagram==\n<asy>\ndot((0,0));\ndot((15,0));\ndot((15,20));\ndraw((0,0)--(15,0)--(15,20)--cycle);\ndot((5,0));\ndot((10,0));\ndot((15,5));\ndot((15,15));\ndot((3,4));\ndot((12,16));\ndraw((5,0)--(3,4));\ndraw((10,0)--(15,5));\ndraw((12,16)--(15,15));\n</asy>"
  },
  {
    "year": 2019,
    "variant": "I",
    "problem_number": 4,
    "latex": "A soccer team has <math>22</math> available players. A fixed set of <math>11</math> players starts the game, while the other <math>11</math> are available as substitutes. During the game, the coach may make as many as <math>3</math> substitutions, where any one of the <math>11</math> players in the game is replaced by one of the substitutes. No player removed from the game may reenter the game, although a substitute entering the game may be replaced later. No two substitutions can happen at the same time. The players involved and the order of the substitutions matter. Let <math>n</math> be the number of ways the coach can make substitutions during the game (including the possibility of making no substitutions). Find the remainder when <math>n</math> is divided by <math>1000</math>.",
    "solution": "There are <math>0-3</math> substitutions. The number of ways to sub any number of times must be multiplied by the previous number. This is defined recursively. The case for <math>0</math> subs is <math>1</math>, and the ways to reorganize after <math>n</math> subs is the product of the number of new subs (<math>12-n</math>) and the players that can be ejected (<math>11</math>). The formula for <math>n</math> subs is then <math>a_n=11(12-n)a_{n-1}</math> with <math>a_0=1</math>. \n\nSumming from <math>0</math> to <math>3</math> gives <math>1+11^2+11^{3}\\cdot 10+11^{4}\\cdot 10\\cdot 9</math>. Notice that <math>10+9\\cdot11\\cdot10=10+990=1000</math>. Then, rearrange it into <math>1+11^2+11^3\\cdot (10+11\\cdot10\\cdot9)= 1+11^2+11^3\\cdot (1000)</math>. When taking modulo <math>1000</math>, the last term goes away. What is left is <math>1+11^2=\\boxed{122}</math>.\n\n~BJHHar"
  },
  {
    "year": 2019,
    "variant": "I",
    "problem_number": 5,
    "latex": "A moving particle starts at the point <math>(4,4)</math> and moves until it hits one of the coordinate axes for the first time. When the particle is at the point <math>(a,b)</math>, it moves at random to one of the points <math>(a-1,b)</math>, <math>(a,b-1)</math>, or <math>(a-1,b-1)</math>, each with probability <math>\\frac{1}{3}</math>, independently of its previous moves. The probability that it will hit the coordinate axes at <math>(0,0)</math> is <math>\\frac{m}{3^n}</math>, where <math>m</math> and <math>n</math> are positive integers such that <math>m</math> is not divisible by <math>3</math>. Find <math>m + n</math>.",
    "solution": "One could recursively compute the probabilities of reaching <math>(0,0)</math> as the first axes point from any point <math>(x,y)</math> as <cmath>P(x,y) = \\frac{1}{3} P(x-1,y) + \\frac{1}{3} P(x,y-1) + \\frac{1}{3} P(x-1,y-1)</cmath> for <math>x,y \\geq 1,</math> and the base cases are\n<math>P(0,0) = 1, P(x,0) = P(y,0) = 0</math> for any <math>x,y</math> not equal to zero.\nWe then recursively find <math>P(4,4) = \\frac{245}{2187}</math> so the answer is <math>245 + 7 = \\boxed{252}</math>.\n\n\n\nIf this algebra seems intimidating, you can watch a nice pictorial explanation of this by On The Spot Stem.\nhttps://www.youtube.com/watch?v=XBRuy3_TM9w"
  },
  {
    "year": 2019,
    "variant": "I",
    "problem_number": 6,
    "latex": "In convex quadrilateral <math>KLMN</math> side <math>\\overline{MN}</math> is perpendicular to diagonal <math>\\overline{KM}</math>, side <math>\\overline{KL}</math> is perpendicular to diagonal <math>\\overline{LN}</math>, <math>MN = 65</math>, and <math>KL = 28</math>. The line through <math>L</math> perpendicular to side <math>\\overline{KN}</math> intersects diagonal <math>\\overline{KM}</math> at <math>O</math> with <math>KO = 8</math>. Find <math>MO</math>.",
    "solution": "Let <math>\\angle MKN=\\alpha</math> and <math>\\angle LNK=\\beta</math>. Let <math>P</math> be the project of <math>L</math> onto line <math>NK</math>. Note <math>\\angle KLP=\\beta</math>. \n\nThen, <math>KP=28\\sin\\beta=8\\cos\\alpha</math>.\nFurthermore, <math>KN=\\frac{65}{\\sin\\alpha}=\\frac{28}{\\sin\\beta} \\Rightarrow 65\\sin\\beta=28\\sin\\alpha</math>.\n\nDividing the equations gives\n<cmath>\\frac{65}{28}=\\frac{28\\sin\\alpha}{8\\cos\\alpha}=\\frac{7}{2}\\tan\\alpha\\Rightarrow \\tan\\alpha=\\frac{65}{98}</cmath>\n\nThus, <math>MK=\\frac{MN}{\\tan\\alpha}=98</math>, so <math>MO=MK-KO=\\boxed{090}</math>."
  },
  {
    "year": 2019,
    "variant": "I",
    "problem_number": 7,
    "latex": "There are positive integers <math>x</math> and <math>y</math> that satisfy the system of equations \n\\begin{align*}\n\\log_{10} x + 2 \\log_{10} (\\text{gcd}(x,y)) &= 60\\\\\n\\log_{10} y + 2 \\log_{10} (\\text{lcm}(x,y)) &= 570.\n\\end{align*}\nLet <math>m</math> be the number of (not necessarily distinct) prime factors in the prime factorization of <math>x</math>, and let <math>n</math> be the number of (not necessarily distinct) prime factors in the prime factorization of <math>y</math>. Find <math>3m+2n</math>.",
    "solution": "Add the two equations to get that <math>\\log x+\\log y+2(\\log(\\gcd(x,y))+2(\\log(\\text{lcm}(x,y)))=630</math>.\nThen, we use the theorem <math>\\log a+\\log b=\\log ab</math> to get the equation, <math>\\log (xy)+2(\\log(\\gcd(x,y))+\\log(\\text{lcm}(x,y)))=630</math>.\nUsing the theorem that <math>\\gcd(x,y) \\cdot \\text{lcm}(x,y)=x\\cdot y</math>, along with the previously mentioned theorem, we can get the equation <math>3\\log(xy)=630</math>.\nThis can easily be simplified to <math>\\log(xy)=210</math>, or <math>xy = 10^{210}</math>.\n\n<math>10^{210}</math> can be factored into <math>2^{210} \\cdot 5^{210}</math>, and <math>m+n</math> equals to the sum of the exponents of <math>2</math> and <math>5</math>, which is <math>210+210 = 420</math>.\nMultiply by two to get <math>2m +2n</math>, which is <math>840</math>.\nThen, use the first equation (<math>\\log x + 2\\log(\\gcd(x,y)) = 60</math>) to show that <math>x</math> has to have lower degrees of <math>2</math> and <math>5</math> than <math>y</math>  (you can also test when <math>x>y</math>, which is a contradiction to the restrains we set before). Therefore, <math>\\gcd(x,y)=x</math>. Then, turn the equation into <math>3\\log x = 60</math>, which yields <math>\\log x = 20</math>, or <math>x = 10^{20}</math>.\nFactor this into <math>2^{20} \\cdot 5^{20}</math>, and add the two 20's, resulting in <math>m</math>, which is <math>40</math>.\nAdd <math>m</math> to <math>2m + 2n</math> (which is <math>840</math>) to get <math>40+840 = \\boxed{880}</math>.\n\n~minor mistake fix by virjoy2001\n~minor mistake fix by oralayhan\n\nRemark: You can obtain the contradiction by using LTE. If <math>\\nu_2{(x)}\\geq{\\nu_2{(y)}}, \\nu_2{(y^2x)}=60</math>. However, <math>\\nu_2{(xy)}=210</math> a contradiction. Same goes with taking <math>\\nu_5{(x,y)}</math>\n\n===Easier Approach to Finish===\nAfter noting that <math>xy=10^{210},</math> notice that we can let <math>x=10^a</math> and <math>y=10^b.</math> Thus, we have from the given equations (1) and (2) respectively, that:\n<cmath>a+2a=60</cmath>\n<cmath>b+2b=570</cmath>\nSolving, we get <math>(a,b)=(20,190).</math> This matches with our constraint that <math>xy=10^{210}</math> (this constraint can actually be rederived by adding the two equations) so we finish from here.\n\n<math>x=2^{20}\\cdot 5^{20}, y=2^{190}\\cdot 5^{190}.</math> Thus, the answer desired is <math>3(20+20)+2(190+190)=880.</math> ~mathboy282 (minor addition by Technodoggo)"
  },
  {
    "year": 2019,
    "variant": "I",
    "problem_number": 8,
    "latex": "Let <math>x</math> be a real number such that <math>\\sin^{10}x+\\cos^{10} x = \\tfrac{11}{36}</math>. Then <math>\\sin^{12}x+\\cos^{12} x = \\tfrac{m}{n}</math> where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "We can substitute <math>y = \\sin^2{x}</math>. Since we know that <math>\\cos^2{x}=1-\\sin^2{x}</math>, we can do some simplification. \n\nThis yields <math>y^5+(1-y)^5=\\frac{11}{36}</math>. From this, we can substitute again to get some cancellation through binomials. If we let <math>z=\\frac{1}{2}-y</math>, we can simplify the equation to:\n<cmath>\\left(\\frac{1}{2}+z\\right)^5+\\left(\\frac{1}{2}-z\\right)^5=\\frac{11}{36}.</cmath> \nAfter using binomial theorem, this simplifies to:\n<cmath>\\frac{1}{16}(80z^4+40z^2+1)=\\frac{11}{36}.</cmath>\nIf we use the quadratic formula, we obtain  <math>z^2=\\frac{1}{12}</math>, so <math>z=\\pm\\frac{1}{2\\sqrt{3}}</math> (observe that either choice of <math>z</math> doesn't matter). Substituting <math>z,</math> we get:\n\n<cmath>\\sin^{12}{x}+\\cos^{12}{x}=\\left(\\frac{1}{2}-z\\right)^6+\\left(\\frac{1}{2}+z\\right)^6=2z^6 + \\frac{15z^4}{2} + \\frac{15z^2}{8} + \\frac{1}{32}=\\frac{13}{54}.</cmath>\n\nTherefore, the answer is <math>13+54=\\boxed{067}</math>.\n\n-eric2020, inspired by Tommy2002\n===Motivation===\nThe motivation to substitute <math>z=\\frac{1}{2}-y</math> comes so that after applying the binomial theorem to <math>y^5+(1-y)^5=\\left(\\frac{1}{2}+z\\right)^5+\\left(\\frac{1}{2}-z\\right)^5,</math> a lot of terms will cancel out. Note that all the terms with odd exponents in <math>\\left(\\frac{1}{2}+z\\right)^5</math> will cancel out, while the terms with even exponents will be doubled. \n'''mathboy282'''"
  },
  {
    "year": 2019,
    "variant": "I",
    "problem_number": 9,
    "latex": "Let <math>\\tau(n)</math> denote the number of positive integer divisors of <math>n</math>. Find the sum of the six least positive integers <math>n</math> that are solutions to <math>\\tau (n) + \\tau (n+1) = 7</math>.",
    "solution": "In order to obtain a sum of <math>7</math>, we must have:\n* either a number with <math>5</math> divisors (''a fourth power of a prime'') and a number with <math>2</math> divisors (''a prime''), or\n* a number with <math>4</math> divisors (''a semiprime or a cube of a prime'') and a number with <math>3</math> divisors (''a square of a prime''). (No integer greater than <math>1</math> can have fewer than <math>2</math> divisors.)\nSince both of these cases contain a number with an odd number of divisors, that number must be an even power of a prime. These can come in the form of a square-like <math>3^2</math> with <math>3</math> divisors, or a fourth power like <math>2^4</math> with <math>5</math> divisors. We then find the smallest such values by hand.\n* <math>2^2</math> has two possibilities: <math>3</math> and <math>4</math> or <math>4</math> and <math>5</math>. Neither works.\n* <math>3^2</math> has two possibilities: <math>8</math> and <math>9</math> or <math>9</math> and <math>10</math>. <math>\\boxed{(8,9)}</math> and <math>\\boxed{(9,10)}</math> both work.\n* <math>2^4</math> has two possibilities: <math>15</math> and <math>16</math> or <math>16</math> and <math>17</math>. Only <math>\\boxed{(16,17)}</math> works.\n* <math>5^2</math> has two possibilities: <math>24</math> and <math>25</math> or <math>25</math> and <math>26</math>. Only <math>\\boxed{(25,26)}</math> works.\n* <math>7^2</math> has two possibilities: <math>48</math> and <math>49</math> or <math>49</math> and <math>50</math>. Neither works.\n* <math>3^4</math> has two possibilities: <math>80</math> and <math>81</math> or <math>81</math> and <math>82</math>. Neither works.\n* <math>11^2</math> has two possibilities: <math>120</math> and <math>121</math> or <math>121</math> and <math>122</math>. Only <math>\\boxed{(121,122)}</math> works.\n* <math>13^2</math> has two possibilities: <math>168</math> and <math>169</math> or <math>169</math> and <math>170</math>. Neither works.\n* <math>17^2</math> has two possibilities: <math>288</math> and <math>289</math> or <math>289</math> and <math>290</math>. Neither works.\n* <math>19^2</math> has two possibilities: <math>360</math> and <math>361</math> or <math>361</math> and <math>362</math>. Only <math>\\boxed{(361,362)}</math> works.\nHaving computed the working possibilities, we take the sum of the corresponding values of <math>n</math>: <math>8+9+16+25+121+361 = \\boxed{\\textbf{540}}</math>. ~Kepy.\n\n\nPossible improvement: since all primes <math>>2</math> are odd, their fourth powers are odd as well, which cannot be adjacent to any primes because both of the adjacent numbers will be even. Thus, we only need to check <math>16</math> for the fourth power case. - mathleticguyyy"
  },
  {
    "year": 2019,
    "variant": "I",
    "problem_number": 10,
    "latex": "For distinct complex numbers <math>z_1,z_2,\\dots,z_{673}</math>, the polynomial\n<cmath> (x-z_1)^3(x-z_2)^3 \\cdots (x-z_{673})^3 </cmath>can be expressed as <math>x^{2019} + 20x^{2018} + 19x^{2017}+g(x)</math>, where <math>g(x)</math> is a polynomial with complex coefficients and with degree at most <math>2016</math>. The sum <cmath> \\left| \\sum_{1 \\le j <k \\le 673} z_jz_k \\right| </cmath> can be expressed in the form <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "In order to begin this problem, we must first understand what it is asking for. The notation \n<cmath> \\left| \\sum_{1 \\le j <k \\le 673} z_jz_k \\right| </cmath>\nsimply asks for the absolute value of the sum of the product of the distinct unique roots of the polynomial taken two at a time or\n<cmath>(z_1z_2+z_1z_3+ \\dots + z_1z_{672}+z_1z_{673})+(z_2z_3+z_2z_4+ \\dots +z_2z_{673}) + (z_3z_4+z_3z_5+ \\dots +z_3z_{673}) + \\dots +z_{672}z_{673}.</cmath> Call this sum <math>S</math>. \n\nNow we can begin the problem. Rewrite the polynomial as <math>P=(x-z_1)(x-z_1)(x-z_1)(x-z_2)(x-z_2)(x-z_2) \\dots (x-z_{673})(x-z_{673})(x-z_{673})</math>. Then we have that the roots of <math>P</math> are <math>z_1,z_1,z_1,z_2,z_2,z_2, \\dots , z_{673},z_{673},z_{673}</math>. \n\nBy Vieta's formulas, we have that the sum of the roots of <math>P</math> is <math>(-1)^1 \\cdot \\dfrac{20}{1}=-20=z_1+z_1+z_1+z_2+z_2+z_2+ \\dots + z_{673}+z_{673}+z_{673}=3(z_1+z_2+z_3+ \\dots +z_{673})</math>. Thus, <math>z_1+z_2+z_3+ \\dots +z_{673}=- \\dfrac{20}{3}.</math> \n\nSimilarly, we also have that the the sum of the roots of <math>P</math> taken two at a time is <math>(-1)^2 \\cdot \\dfrac{19}{1} = 19.</math> This is equal to <math>z_1^2+z_1^2+z_1^2+z_1z_2+z_1z_2+z_1z_2+ \\dots =  \\\\ 3(z_1^2+z_2^2+ \\dots + z_{673}^2) + 9(z_1z_2+z_1z_3+z_1z_4+ \\dots + z_{672}z_{673}) =  3(z_1^2+z_2^2+ \\dots + z_{673}^2) + 9S.</math> \n\nNow we need to find and expression for <math>z_1^2+z_2^2+ \\dots + z_{673}^2</math> in terms of <math>S</math>. We note that <math>(z_1+z_2+z_3+ \\dots +z_{673})^2= (-20/3)^2=\\dfrac{400}{9} \\\\ =(z_1^2+z_2^2+ \\dots + z_{673}^2)+2(z_1z_2+z_1z_3+z_1z_4+ \\dots + z_{672}z_{673})=(z_1^2+z_2^2+ \\dots + z_{673}^2)+2S.</math> \nThus, <math>z_1^2+z_2^2+ \\dots + z_{673}^2= \\dfrac{400}{9} -2S</math>. \n\nPlugging this into our other Vieta equation, we have <math> 3 \\left( \\dfrac{400}{9} -2S \\right) +9S = 19</math>. This gives <math>S = - \\dfrac{343}{9} \\Rightarrow \\left| S \\right| = \\dfrac{343}{9}</math>. Since 343 is relatively prime to 9, <math>m+n = 343+9 = \\fbox{352}</math>."
  },
  {
    "year": 2019,
    "variant": "I",
    "problem_number": 11,
    "latex": "In <math>\\triangle ABC</math>, the sides have integer lengths and <math>AB=AC</math>. Circle <math>\\omega</math> has its center at the incenter of <math>\\triangle ABC</math>. An ''excircle'' of <math>\\triangle ABC</math> is a circle in the exterior of <math>\\triangle ABC</math> that is tangent to one side of the triangle and tangent to the extensions of the other two sides. Suppose that the excircle tangent to <math>\\overline{BC}</math> is internally tangent to <math>\\omega</math>, and the other two excircles are both externally tangent to <math>\\omega</math>. Find the minimum possible value of the perimeter of <math>\\triangle ABC</math>.",
    "solution": "Let the tangent circle be <math>\\omega</math>. Some notation first: let <math>BC=a</math>, <math>AB=b</math>, <math>s</math> be the semiperimeter, <math>\\theta=\\angle ABC</math>, and <math>r</math> be the inradius. Intuition tells us that the radius of <math>\\omega</math> is <math>r+\\frac{2rs}{s-a}</math> (using the exradius formula). However, the sum of the radius of <math>\\omega</math> and <math>\\frac{rs}{s-b}</math> is equivalent to the distance between the incenter and the the <math>B/C</math> excenter. Denote the B excenter as <math>I_B</math> and the incenter as <math>I</math>. \nLemma: <math>I_BI=\\frac{2b*IB}{a}</math>\nWe draw the circumcircle of <math>\\triangle ABC</math>. Let the angle bisector of <math>\\angle ABC</math> hit the circumcircle at a second point <math>M</math>. By the incenter-excenter lemma, <math>AM=CM=IM</math>. Let this distance be <math>\\alpha</math>. Ptolemy's theorem on <math>ABCM</math> gives us <cmath>a\\alpha+b\\alpha=b(\\alpha+IB)\\to \\alpha=\\frac{b*IB}{a}</cmath> Again, by the incenter-excenter lemma, <math>II_B=2IM</math> so <math>II_b=\\frac{2b*IB}{a}</math> as desired.\nUsing this gives us the following equation: <cmath>\\frac{2b*IB}{a}=r+\\frac{2rs}{s-a}+\\frac{rs}{s-b}</cmath> \nMotivated by the <math>s-a</math> and <math>s-b</math>, we make the following substitution: <math>x=s-a, y=s-b</math>\nThis changes things quite a bit. Here's what we can get from it: <cmath>a=2y, b=x+y, s=x+2y</cmath> It is known (easily proved with Heron's and <math>a=rs</math>) that <cmath>r=\\sqrt{\\frac{(s-a)(s-b)(s-b)}{s}}=\\sqrt{\\frac{xy^2}{x+2y}}</cmath> Using this, we can also find <math>IB</math>: let the midpoint of <math>BC</math> be <math>N</math>. Using Pythagorean's Theorem on <math>\\triangle INB</math>, <cmath>IB^2=r^2+(\\frac{a}{2})^2=\\frac{xy^2}{x+2y}+y^2=\\frac{2xy^2+2y^3}{x+2y}=\\frac{2y^2(x+y)}{x+2y}  </cmath> We now look at the RHS of the main equation: <cmath>r+\\frac{2rs}{s-a}+\\frac{rs}{s-b}=r(1+\\frac{2(x+2y)}{x}+\\frac{x+2y}{y})=r(\\frac{x^2+5xy+4y^2}{xy})=\\frac{r(x+4y)(x+y)}{xy}=\\frac{2(x+y)IB}{2y}</cmath>\nCancelling some terms, we have <cmath>\\frac{r(x+4y)}{x}=IB</cmath> \nSquaring, <cmath>\\frac{2y^2(x+y)}{x+2y}=\\frac{(x+4y)^2*xy^2}{x^2(x+2y)}\\to \\frac{(x+4y)^2}{x}=2(x+y)</cmath> Expanding and moving terms around gives <cmath>(x-8y)(x+2y)=0\\to x=8y</cmath> Reverse substituting, <cmath>s-a=8s-8b\\to b=\\frac{9}{2}a</cmath> Clearly the smallest solution is <math>a=2</math> and <math>b=9</math>, so our answer is <math>2+9+9=\\boxed{020}</math>\n-franchester"
  },
  {
    "year": 2019,
    "variant": "I",
    "problem_number": 12,
    "latex": "Given <math>f(z) = z^2-19z</math>, there are complex numbers <math>z</math> with the property that <math>z</math>, <math>f(z)</math>, and <math>f(f(z))</math> are the vertices of a right triangle in the complex plane with a right angle at <math>f(z)</math>. There are positive integers <math>m</math> and <math>n</math> such that one such value of <math>z</math> is <math>m+\\sqrt{n}+11i</math>. Find <math>m+n</math>.",
    "solution": "Notice that we must have <cmath>\\frac{f(f(z))-f(z)}{f(z)-z}=-\\frac{f(f(z))-f(z)}{z-f(z)}\\in i\\mathbb R .</cmath>However, <math>f(t)-t=t(t-20)</math>, so\n<cmath>\n\\begin{align*}\n\\frac{f(f(z))-f(z)}{f(z)-z}&=\\frac{(z^2-19z)(z^2-19z-20)}{z(z-20)}\\\\\n&=\\frac{z(z-19)(z-20)(z+1)}{z(z-20)}\\\\\n&=(z-19)(z+1)\\\\\n&=(z-9)^2-100.\n\\end{align*}\n</cmath>\nThen, the real part of <math>(z-9)^2</math> is <math>100</math>. Since <math>\\text{Im}(z-9)=\\text{Im}(z)=11</math>, let <math>z-9=a+11i</math>. Then, <cmath>100=\\text{Re}((a+11i)^2)=a^2-121\\implies a=\\pm\\sqrt{221}.</cmath>It follows that <math>z=9+\\sqrt{221}+11i</math>, and the requested sum is <math>9+221=\\boxed{230}</math>.\n\n(Solution by TheUltimate123)"
  },
  {
    "year": 2019,
    "variant": "I",
    "problem_number": 13,
    "latex": "Triangle <math>ABC</math> has side lengths <math>AB=4</math>, <math>BC=5</math>, and <math>CA=6</math>. Points <math>D</math> and <math>E</math> are on ray <math>AB</math> with <math>AB<AD<AE</math>. The point <math>F \\neq C</math> is a point of intersection of the circumcircles of <math>\\triangle ACD</math> and <math>\\triangle EBC</math> satisfying <math>DF=2</math> and <math>EF=7</math>. Then <math>BE</math> can be expressed as <math>\\tfrac{a+b\\sqrt{c}}{d}</math>, where <math>a</math>, <math>b</math>, <math>c</math>, and <math>d</math> are positive integers such that <math>a</math> and <math>d</math> are relatively prime, and <math>c</math> is not divisible by the square of any prime. Find <math>a+b+c+d</math>.",
    "solution": "<asy>\nunitsize(20);\npair A, B, C, D, E, F, X, O1, O2;\nA = (0, 0); B = (4, 0);\nC = intersectionpoints(circle(A, 6), circle(B, 5))[0];\nD = B + (5/4 * (1 + sqrt(2)), 0); E = D + (4 * sqrt(2), 0);\nF = intersectionpoints(circle(D, 2), circle(E, 7))[1];\nX = extension(A, E, C, F);\nO1 = circumcenter(C, A, D);\nO2 = circumcenter(C, B, E);\n\nfilldraw(A--B--C--cycle, lightcyan, deepcyan);\nfilldraw(D--E--F--cycle, lightmagenta, deepmagenta);\ndraw(B--D, gray(0.6));\ndraw(C--F, gray(0.6));\ndraw(circumcircle(C, A, D), dashed);\ndraw(circumcircle(C, B, E), dashed);\n\ndot(\"$A$\", A, dir(A-O1));\ndot(\"$B$\", B, dir(240));\ndot(\"$C$\", C, dir(120));\ndot(\"$D$\", D, dir(40));\ndot(\"$E$\", E, dir(E-O2));\ndot(\"$F$\", F, dir(270));\ndot(\"$X$\", X, dir(140));\n\nlabel(\"$6$\", (C+A)/2, dir(C-A)*I, deepcyan);\nlabel(\"$5$\", (C+B)/2, dir(B-C)*I, deepcyan);\nlabel(\"$4$\", (A+B)/2, dir(A-B)*I, deepcyan);\nlabel(\"$7$\", (F+E)/2, dir(F-E)*I, deepmagenta);\nlabel(\"$2$\", (F+D)/2, dir(D-F)*I, deepmagenta);\nlabel(\"$4\\sqrt{2}$\", (D+E)/2, dir(E-D)*I, deepmagenta);\nlabel(\"$a$\", (B+X)/2, dir(B-X)*I, gray(0.3));\nlabel(\"$a\\sqrt{2}$\", (D+X)/2, dir(D-X)*I, gray(0.3));\n</asy>\n\nNotice that <cmath>\\angle DFE=\\angle CFE-\\angle CFD=\\angle CBE-\\angle CAD=180-B-A=C.</cmath>By the Law of Cosines, <cmath>\\cos C=\\frac{AC^2+BC^2-AB^2}{2\\cdot AC\\cdot BC}=\\frac34.</cmath>Then, <cmath>DE^2=DF^2+EF^2-2\\cdot DF\\cdot EF\\cos C=32\\implies DE=4\\sqrt2.</cmath>Let <math>X=\\overline{AB}\\cap\\overline{CF}</math>, <math>a=XB</math>, and <math>b=XD</math>. Then, <cmath>XA\\cdot XD=XC\\cdot XF=XB\\cdot XE\\implies b(a+4)=a(b+4\\sqrt2)\\implies b=a\\sqrt2.</cmath>However, since <math>\\triangle XFD\\sim\\triangle XAC</math>, <math>XF=\\tfrac{4+a}3</math>, but since <math>\\triangle XFE\\sim\\triangle XBC</math>, <cmath>\\frac75=\\frac{4+a}{3a}\\implies a=\\frac54\\implies BE=a+a\\sqrt2+4\\sqrt2=\\frac{5+21\\sqrt2}4,</cmath>and the requested sum is <math>5+21+2+4=\\boxed{032}</math>.\n\n(Solution by TheUltimate123)"
  },
  {
    "year": 2019,
    "variant": "I",
    "problem_number": 14,
    "latex": "Find the least odd prime factor of <math>2019^8+1</math>.",
    "solution": "==Video Solution & More by MegaMath==\nhttps://www.youtube.com/watch?v=E6Vs5uf49Fc"
  },
  {
    "year": 2019,
    "variant": "I",
    "problem_number": 15,
    "latex": "Let <math>\\overline{AB}</math> be a chord of a circle <math>\\omega</math>, and let <math>P</math> be a point on the chord <math>\\overline{AB}</math>. Circle <math>\\omega_1</math> passes through <math>A</math> and <math>P</math> and is internally tangent to <math>\\omega</math>. Circle <math>\\omega_2</math> passes through <math>B</math> and <math>P</math> and is internally tangent to <math>\\omega</math>. Circles <math>\\omega_1</math> and <math>\\omega_2</math> intersect at points <math>P</math> and <math>Q</math>. Line <math>PQ</math> intersects <math>\\omega</math> at <math>X</math> and <math>Y</math>. Assume that <math>AP=5</math>, <math>PB=3</math>, <math>XY=11</math>, and <math>PQ^2 = \\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "<asy>\nsize(8cm);\npair O, A, B, P, O1, O2, Q, X, Y;\nO=(0, 0);\nA=dir(140); B=dir(40);\nP=(3A+5B)/8;\nO1=extension((A+P)/2, (A+P)/2+(0, 1), A, O);\nO2=extension((B+P)/2, (B+P)/2+(0, 1), B, O);\nQ=intersectionpoints(circle(O1, length(A-O1)), circle(O2, length(B-O2)))[1];\nX=intersectionpoint(P -- (P+(P-Q)*100), circle(O, 1));\nY=intersectionpoint(Q -- (Q+(Q-P)*100), circle(O, 1));\n\ndraw(circle(O, 1));\ndraw(circle(O1, length(A-O1)));\ndraw(circle(O2, length(B-O2)));\ndraw(A -- B); draw(X -- Y); draw(A -- O -- B); draw(O1 -- P -- O2);\n\ndot(\"$O$\", O, S);\ndot(\"$A$\", A, A);\ndot(\"$B$\", B, B);\ndot(\"$P$\", P, dir(70));\ndot(\"$Q$\", Q, dir(200));\ndot(\"$O_1$\", O1, SW);\ndot(\"$O_2$\", O2, SE);\ndot(\"$X$\", X, X);\ndot(\"$Y$\", Y, Y);\n</asy>\nLet <math>O_1</math> and <math>O_2</math> be the centers of <math>\\omega_1</math> and <math>\\omega_2</math>, respectively. There is a homothety at <math>A</math> sending <math>\\omega</math> to <math>\\omega_1</math> that sends <math>B</math> to <math>P</math> and <math>O</math> to <math>O_1</math>, so <math>\\overline{OO_2}\\parallel\\overline{O_1P}</math>. Similarly, <math>\\overline{OO_1}\\parallel\\overline{O_2P}</math>, so <math>OO_1PO_2</math> is a parallelogram. Moreover, <cmath>\\angle O_1QO_2=\\angle O_1PO_2=\\angle O_1OO_2,</cmath>hence <math>OO_1O_2Q</math> is cyclic. However, <cmath>OO_1=O_2P=O_2Q,</cmath>so <math>OO_1O_2Q</math> is an isosceles trapezoid. Since <math>\\overline{O_1O_2}\\perp\\overline{XY}</math>, <math>\\overline{OQ}\\perp\\overline{XY}</math>, so <math>Q</math> is the midpoint of <math>\\overline{XY}</math>.\n\nBy Power of a Point, <math>PX\\cdot PY=PA\\cdot PB=15</math>. Since <math>PX+PY=XY=11</math> and <math>XQ=11/2</math>, <cmath>XP=\\frac{11-\\sqrt{61}}2\\implies PQ=XQ-XP=\\frac{\\sqrt{61}}2\\implies PQ^2=\\frac{61}4,</cmath>\nand the requested sum is <math>61+4=\\boxed{065}</math>.\n\n(Solution by TheUltimate123)\n\n===Note===\nOne may solve for <math>PX</math> first using PoAP, <math>PX = \\frac{11}{2} - \\frac{\\sqrt{61}}{2}</math>. Then, notice that <math>PQ^2</math> is rational but <math>PX^2</math> is not, also <math>PX = \\frac{XY}{2} - \\frac{\\sqrt{61}}{2}</math>. The most likely explanation for this is that <math>Q</math> is the midpoint of <math>XY</math>, so that <math>XQ = \\frac{11}{2}</math> and <math>PQ=\\frac{\\sqrt{61}}{2}</math>. Then our answer is <math>m+n=61+4=\\boxed{065}</math>. One can rigorously prove this using the methods above"
  },
  {
    "year": 2019,
    "variant": "II",
    "problem_number": 1,
    "latex": "Two different points, <math>C</math> and <math>D</math>, lie on the same side of line <math>AB</math> so that <math>\\triangle ABC</math> and <math>\\triangle BAD</math> are congruent with <math>AB = 9</math>, <math>BC=AD=10</math>, and <math>CA=DB=17</math>. The intersection of these two triangular regions has area <math>\\tfrac mn</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "<asy>\nunitsize(10);\npair A = (0,0);\npair B = (9,0);\npair C = (15,8);\npair D = (-6,8);\npair E = (-6,0);\ndraw(A--B--C--cycle);\ndraw(B--D--A);\nlabel(\"$A$\",A,dir(-120));\nlabel(\"$B$\",B,dir(-60));\nlabel(\"$C$\",C,dir(60));\nlabel(\"$D$\",D,dir(120));\nlabel(\"$E$\",E,dir(-135));\nlabel(\"$9$\",(A+B)/2,dir(-90));\nlabel(\"$10$\",(D+A)/2,dir(-150));\nlabel(\"$10$\",(C+B)/2,dir(-30));\nlabel(\"$17$\",(D+B)/2,dir(60));\nlabel(\"$17$\",(A+C)/2,dir(120));\n\ndraw(D--E--A,dotted);\nlabel(\"$8$\",(D+E)/2,dir(180));\nlabel(\"$6$\",(A+E)/2,dir(-90));\n</asy>\n- Diagram by Brendanb4321\n\n\nExtend <math>AB</math> to form a right triangle with legs <math>6</math> and <math>8</math> such that <math>AD</math> is the hypotenuse and connect the points <math>CD</math> so \nthat you have a rectangle. (We know that <math>\\triangle ADE</math> is a <math>6-8-10</math>, since <math>\\triangle DEB</math> is an <math>8-15-17</math>.) The base <math>CD</math> of the rectangle will be <math>9+6+6=21</math>. Now, let <math>O</math> be the intersection of <math>BD</math> and <math>AC</math>. This means that <math>\\triangle ABO</math> and <math>\\triangle DCO</math> are with ratio <math>\\frac{21}{9}=\\frac73</math>. Set up a proportion, knowing that the two heights add up to 8. We will let <math>y</math> be the height from <math>O</math> to <math>DC</math>, and <math>x</math> be the height of <math>\\triangle ABO</math>.\n<cmath>\\frac{7}{3}=\\frac{y}{x}</cmath>\n<cmath>\\frac{7}{3}=\\frac{8-x}{x}</cmath>\n<cmath>7x=24-3x</cmath>\n<cmath>10x=24</cmath>\n<cmath>x=\\frac{12}{5}</cmath>\n\nThis means that the area is <math>A=\\tfrac{1}{2}(9)(\\tfrac{12}{5})=\\tfrac{54}{5}</math>. This gets us <math>54+5=\\boxed{059}.</math>\n\n-Solution by the Math Wizard, Number Magician of the Second Order, Head of the Council of the Geometers"
  },
  {
    "year": 2019,
    "variant": "II",
    "problem_number": 2,
    "latex": "Lilypads <math>1,2,3,\\ldots</math> lie in a row on a pond. A frog makes a sequence of jumps starting on pad <math>1</math>. From any pad <math>k</math> the frog jumps to either pad <math>k+1</math> or pad <math>k+2</math> chosen randomly with probability <math>\\tfrac{1}{2}</math> and independently of other jumps. The probability that the frog visits pad <math>7</math> is <math>\\tfrac{p}{q}</math>, where <math>p</math> and <math>q</math> are relatively prime positive integers. Find <math>p+q</math>.",
    "solution": "Let <math>P_n</math> be the probability the frog visits pad <math>7</math> starting from pad <math>n</math>. Then <math>P_7 = 1</math>, <math>P_6 = \\frac12</math>, and <math>P_n = \\frac12(P_{n + 1} + P_{n + 2})</math> for all integers <math>1 \\leq n \\leq 5</math>. Working our way down, we find\n<cmath>P_5 = \\frac{3}{4}</cmath>\n<cmath>P_4 = \\frac{5}{8}</cmath>\n<cmath>P_3 = \\frac{11}{16}</cmath>\n<cmath>P_2 = \\frac{21}{32}</cmath>\n<cmath>P_1 = \\frac{43}{64}</cmath>\n<math>43 + 64 = \\boxed{107}</math>."
  },
  {
    "year": 2019,
    "variant": "II",
    "problem_number": 3,
    "latex": "Find the number of <math>7</math>-tuples of positive integers <math>(a,b,c,d,e,f,g)</math> that satisfy the following systems of equations:\n<cmath>\\begin{align*}\nabc&=70,\\\\\ncde&=71,\\\\\nefg&=72.\n\\end{align*}</cmath>",
    "solution": "As 71 is prime, <math>c</math>, <math>d</math>, and <math>e</math> must be 1, 1, and 71 (in some order). However, since <math>c</math> and <math>e</math> are divisors of 70 and 72 respectively, the only possibility is <math>(c,d,e) = (1,71,1)</math>. Now we are left with finding the number of solutions <math>(a,b,f,g)</math> satisfying <math>ab = 70</math> and <math>fg = 72</math>, which separates easily into two subproblems. The number of positive integer solutions to <math>ab = 70</math> simply equals the number of divisors of 70 (as we can choose a divisor for <math>a</math>, which uniquely determines <math>b</math>). As <math>70 = 2^1 \\cdot 5^1 \\cdot 7^1</math>, we have <math>d(70) = (1+1)(1+1)(1+1) = 8</math> solutions. Similarly, <math>72 = 2^3 \\cdot 3^2</math>, so <math>d(72) = 4 \\times 3 = 12</math>.\n\nThen the answer is simply <math>8 \\times 12 = \\boxed{096}</math>.\n\n-scrabbler94"
  },
  {
    "year": 2019,
    "variant": "II",
    "problem_number": 4,
    "latex": "A standard six-sided fair die is rolled four times. The probability that the product of all four numbers rolled is a perfect square is <math>\\tfrac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "Notice that, other than the number 5, the remaining numbers 1, 2, 3, 4, 6 are only divisible by 2 and/or 3. We can do some cases on the number of 5's rolled (note that there are <math>6^4 = 1296</math> outcomes).\n\nCase 1 (easy): Four 5's are rolled. This has probability <math>\\frac{1}{6^4}</math> of occurring.\n\nCase 2: Two 5's are rolled.\n\nCase 3: No 5's are rolled.\n\nTo find the number of outcomes for the latter two cases, we will use recursion. Consider a 5-sided die with faces numbered 1, 2, 3, 4, 6. For <math>n \\ge 1</math>, let <math>a_n</math> equal the number of outcomes after rolling the die <math>n</math> times, with the property that the product is a square. Thus, <math>a_1 = 2</math> as 1 and 4 are the only possibilities.\n\nTo find <math>a_{n+1}</math> given <math>a_n</math> (where <math>n \\ge 1</math>), we observe that if the first <math>n</math> rolls multiply to a perfect square, then the last roll must be 1 or 4. This gives <math>2a_n</math> outcomes. Otherwise, the first <math>n</math> rolls do not multiply to a perfect square (<math>5^n - a_n</math> outcomes). In this case, we claim that the last roll is uniquely determined (either 2, 3, or 6). If the product of the first <math>n</math> rolls is <math>2^x 3^y</math> where <math>x</math> and <math>y</math> are not both even, then we observe that if <math>x</math> and <math>y</math> are both odd, then the last roll must be 6; if only <math>x</math> is odd, the last roll must be 2, and if only <math>y</math> is odd, the last roll must be 3. Thus, we have <math>5^n - a_n</math> outcomes in this case, and <math>a_{n+1} = 2a_n + (5^n - a_n) = 5^n + a_n</math>.\n\nComputing <math>a_2</math>, <math>a_3</math>, <math>a_4</math> gives <math>a_2 = 7</math>, <math>a_3 = 32</math>, and <math>a_4 = 157</math>. Thus for Case 3, there are 157 outcomes. For case 2, we multiply <math>a_2</math> by <math>\\binom{4}{2} = 6</math> to distribute the two 5's among four rolls. Thus the probability is\n\n<cmath> \\frac{1 + 6 \\cdot 7 + 157}{6^4} = \\frac{200}{6^4} = \\frac{25}{162} \\implies m+n = \\boxed{187} </cmath>\n\n-scrabbler94"
  },
  {
    "year": 2019,
    "variant": "II",
    "problem_number": 5,
    "latex": "Four ambassadors and one advisor for each of them are to be seated at a round table with <math>12</math> chairs numbered in order <math>1</math> to <math>12</math>. Each ambassador must sit in an even-numbered chair. Each advisor must sit in a chair adjacent to his or her ambassador. There are <math>N</math> ways for the <math>8</math> people to be seated at the table under these conditions. Find the remainder when <math>N</math> is divided by <math>1000</math>.",
    "solution": "Suppose first that the chairs weren't numbered, and rotation doesn't matter. Then if we let the ambassador-advisor pairs act as a single person, we essentially want to pick <math>4</math> seats out of <math>8</math> seats, and fixing one pair gives <math>7 \\cdot 6 \\cdot 5</math> ways. However, now we want to number the seats, in which there are <math>12</math> possibilities (for some pair of people, we choose the order and then we choose which even spot the ambassador sits in, giving <math>2\\cdot 6.</math>) However, the order of the other pairs is then uniquely determined, so this method works, giving us <math>7 \\cdot 6 \\cdot 5 \\cdot 12 = 2520</math> ways. We are asked to find the remainder when <math>\\textit{N}</math> is divided by <math>1000</math>, which is <math>\\boxed{520}</math>.\n~Maximilian113 \n~Minor edits by Hiphopfrog1"
  },
  {
    "year": 2019,
    "variant": "II",
    "problem_number": 6,
    "latex": "In a Martian civilization, all logarithms whose bases are not specified are assumed to be base <math>b</math>, for some fixed <math>b\\ge2</math>. A Martian student writes down\n<cmath>3\\log(\\sqrt{x}\\log x)=56</cmath>\n<cmath>\\log_{\\log x}(x)=54</cmath>\nand finds that this system of equations has a single real number solution <math>x>1</math>. Find <math>b</math>.",
    "solution": "Using change of base on the second equation to base b,\n<cmath>\\frac{\\log x}{\\log \\log_{b}{x}}=54</cmath>\n<cmath>\\log x = 54 \\cdot \\log\\log_{b}{x}</cmath>\n<cmath>x = (\\log_{b}{x})^{54}</cmath>\nNote by dolphin7 - you could also just rewrite the second equation in exponent form.\n\nSubstituting this into the <math>\\sqrt x</math> of the first equation,\n<cmath>3\\log_{b}{((\\log_{b}{x})^{27}\\log_{b}{x})} = 56</cmath>\n<cmath>3\\log_{b}{(\\log_{b}{x})^{28}} = 56</cmath>\n<cmath>\\log_{b}{(\\log_{b}{x})^{84}} = 56</cmath>\n\nWe can manipulate this equation to be able to substitute <math>x = (\\log_{b}{x})^{54}</math> a couple more times:\n<cmath>\\log_{b}{(\\log_{b}{x})^{54}} = 56 \\cdot \\frac{54}{84}</cmath>\n<cmath>\\log_{b}{x} = 36</cmath>\n<cmath>(\\log_{b}{x})^{54} = 36^{54}</cmath>\n<cmath>x = 6^{108}</cmath>\n\nHowever, since we found that <math>\\log_{b}{x} = 36</math>, <math>x</math> is also equal to <math>b^{36}</math>. Equating these,\n<cmath>b^{36} = 6^{108}</cmath>\n<cmath>b = 6^3 = \\boxed{216}</cmath>"
  },
  {
    "year": 2019,
    "variant": "II",
    "problem_number": 7,
    "latex": "Triangle <math>ABC</math> has side lengths <math>AB=120,BC=220</math>, and <math>AC=180</math>. Lines <math>\\ell_A,\\ell_B</math>, and <math>\\ell_C</math> are drawn parallel to <math>\\overline{BC},\\overline{AC}</math>, and <math>\\overline{AB}</math>, respectively, such that the intersections of <math>\\ell_A,\\ell_B</math>, and <math>\\ell_C</math> with the interior of <math>\\triangle ABC</math> are segments of lengths <math>55,45</math>, and <math>15</math>, respectively. Find the perimeter of the triangle whose sides lie on lines <math>\\ell_A,\\ell_B</math>, and <math>\\ell_C</math>.",
    "solution": "==Diagram==\n<asy>\n/* Made by MRENTHUSIASM */\nsize(350);\n\npair A, B, C, D, E, F, G, H, I, J, K, L;\nB = origin;\nC = (220,0);\nA = intersectionpoints(Circle(B,120),Circle(C,180))[0];\nD = A+1/4*(B-A);\nE = A+1/4*(C-A);\nF = B+1/4*(A-B);\nG = B+1/4*(C-B);\nH = C+1/8*(A-C);\nI = C+1/8*(B-C);\nJ = extension(D,E,F,G);\nK = extension(F,G,H,I);\nL = extension(H,I,D,E);\ndraw(A--B--C--cycle);\ndraw(J+9/8*(K-J)--K+9/8*(J-K),dashed);\ndraw(L+9/8*(K-L)--K+9/8*(L-K),dashed);\ndraw(J+9/8*(L-J)--L+9/8*(J-L),dashed);\ndraw(D--E^^F--G^^H--I,red);\ndot(\"$B$\",B,1.5SW,linewidth(4));\ndot(\"$C$\",C,1.5SE,linewidth(4));\ndot(\"$A$\",A,1.5N,linewidth(4));\ndot(D,linewidth(4));\ndot(E,linewidth(4));\ndot(F,linewidth(4));\ndot(G,linewidth(4));\ndot(H,linewidth(4));\ndot(I,linewidth(4));\ndot(J,linewidth(4));\ndot(K,linewidth(4));\ndot(L,linewidth(4));\nlabel(\"$55$\",midpoint(D--E),S,red);\nlabel(\"$45$\",midpoint(F--G),dir(55),red);\nlabel(\"$15$\",midpoint(H--I),dir(160),red);\nlabel(\"$\\ell_A$\",J+9/8*(L-J),1.5*dir(B--C));\nlabel(\"$\\ell_B$\",K+9/8*(J-K),1.5*dir(C--A));\nlabel(\"$\\ell_C$\",L+9/8*(K-L),1.5*dir(A--B));\n</asy>\n~MRENTHUSIASM"
  },
  {
    "year": 2019,
    "variant": "II",
    "problem_number": 8,
    "latex": "The polynomial <math>f(z)=az^{2018}+bz^{2017}+cz^{2016}</math> has real coefficients not exceeding <math>2019</math>, and <math>f\\left(\\tfrac{1+\\sqrt{3}i}{2}\\right)=2015+2019\\sqrt{3}i</math>. Find the remainder when <math>f(1)</math> is divided by <math>1000</math>.",
    "solution": "We have <math>\\frac{1+\\sqrt{3}i}{2} = \\omega</math> where <math>\\omega = e^{\\frac{i\\pi}{3}}</math> is a primitive 6th root of unity. Then we have\n\n<cmath>\\begin{align*}\nf(\\omega) &= a\\omega^{2018} + b\\omega^{2017} + c\\omega^{2016}\\\\\n&= a\\omega^2 + b\\omega + c\n\\end{align*}</cmath>\n\nWe wish to find <math>f(1) = a+b+c</math>. We first look at the real parts. As <math>\\text{Re}(\\omega^2) = -\\frac{1}{2}</math> and <math>\\text{Re}(\\omega) = \\frac{1}{2}</math>, we have <math>-\\frac{1}{2}a + \\frac{1}{2}b + c = 2015 \\implies -a+b + 2c = 4030</math>. Looking at imaginary parts, we have <math>\\text{Im}(\\omega^2) = \\text{Im}(\\omega) = \\frac{\\sqrt{3}}{2}</math>, so <math>\\frac{\\sqrt{3}}{2}(a+b) = 2019\\sqrt{3} \\implies a+b = 4038</math>. As <math>a</math> and <math>b</math> do not exceed 2019, we must have <math>a = 2019</math> and <math>b = 2019</math>. Then <math>c = \\frac{4030}{2} = 2015</math>, so <math>f(1) = 4038 + 2015 = 6053 \\implies f(1) \\pmod{1000} = \\boxed{053}</math>.\n\n-scrabbler94"
  },
  {
    "year": 2019,
    "variant": "II",
    "problem_number": 9,
    "latex": "Call a positive integer <math>n</math> <math>k</math>-<i>pretty</i> if <math>n</math> has exactly <math>k</math> positive divisors and <math>n</math> is divisible by <math>k</math>. For example, <math>18</math> is <math>6</math>-pretty. Let <math>S</math> be the sum of positive integers less than <math>2019</math> that are <math>20</math>-pretty. Find <math>\\tfrac{S}{20}</math>.",
    "solution": "Every 20-pretty integer can be written in form <math>n = 2^a 5^b k</math>, where <math>a \\ge 2</math>, <math>b \\ge 1</math>, <math>\\gcd(k,10) = 1</math>, and <math>d(n) = 20</math>, where <math>d(n)</math> is the number of divisors of <math>n</math>. Thus, we have <math>20 = (a+1)(b+1)d(k)</math>, using the fact that the divisor function is multiplicative. As <math>(a+1)(b+1)</math> must be a divisor of 20, there are not many cases to check.\n\nIf <math>a+1 = 4</math>, then <math>b+1 = 5</math>. But this leads to no solutions, as <math>(a,b) = (3,4)</math> gives <math>2^3 5^4 > 2019</math>.\n\nIf <math>a+1 = 5</math>, then <math>b+1 = 2</math> or <math>4</math>. The first case gives <math>n = 2^4 \\cdot 5^1 \\cdot p</math> where <math>p</math> is a prime other than 2 or 5. Thus we have <math>80p < 2019 \\implies p = 3, 7, 11, 13, 17, 19, 23</math>. The sum of all such <math>n</math> is <math>80(3+7+11+13+17+19+23) = 7440</math>. In the second case <math>b+1 = 4</math> and <math>d(k) = 1</math>, and there is one solution <math>n = 2^4 \\cdot 5^3 = 2000</math>.\n\nIf <math>a+1 = 10</math>, then <math>b+1 = 2</math>, but this gives <math>2^9 \\cdot 5^1 > 2019</math>. No other values for <math>a+1</math> work.\n\nThen we have <math>\\frac{S}{20} = \\frac{80(3+7+11+13+17+19+23) + 2000}{20} = 372 + 100 = \\boxed{472}</math>.\n\n-scrabbler94"
  },
  {
    "year": 2019,
    "variant": "II",
    "problem_number": 10,
    "latex": "There is a unique angle <math>\\theta</math> between <math>0^{\\circ}</math> and <math>90^{\\circ}</math> such that for nonnegative integers <math>n</math>, the value of <math>\\tan{\\left(2^{n}\\theta\\right)}</math> is positive when <math>n</math> is a multiple of <math>3</math>, and negative otherwise. The degree measure of <math>\\theta</math> is <math>\\tfrac{p}{q}</math>, where <math>p</math> and <math>q</math> are relatively prime integers. Find <math>p+q</math>.",
    "solution": "Note that if <math>\\tan \\theta</math> is positive, then <math>\\theta</math> is in the first or third quadrant, so <math>0^{\\circ} < \\theta < 90^{\\circ} \\pmod{180^{\\circ}}</math>. \n\nFurthermore, the only way <math>\\tan{\\left(2^{n}\\theta\\right)}</math> can be positive for all <math>n</math> that are multiples of <math>3</math> is when:\n<cmath>2^0\\theta \\equiv 2^3\\theta \\equiv 2^6\\theta \\equiv ... \\pmod{180^{\\circ}}.</cmath>\n(This is because if it isn't the same value, the terminal angle will gradually shift from the first quadrant into different quadrants, making the condition for positive tan untrue. This must also be true in order for <math>\\theta</math> to be unique.) \n\nThis is the case if <math>2^3\\theta \\equiv 2^0\\theta \\pmod{180^{\\circ}}</math>, so <math>7\\theta \\equiv 0^{\\circ} \\pmod{180^{\\circ}}</math>. Therefore, recalling that <math>0^{\\circ}<\\theta<90^{\\circ},</math> the possible <math>\\theta</math> are:\n<cmath>\\frac{180}{7}^{\\circ}, \\frac{360}{7}^{\\circ}, \\frac{540}{7}^{\\circ}.</cmath>\n\n<math>\\frac{180}{7}^{\\circ}</math> does not work since <math>\\tan\\left(2 \\cdot \\frac{180}{7}^{\\circ}\\right)</math> is positive.\n\n<math>\\frac{360}{7}^{\\circ}</math> does not work because <math>\\tan\\left(4 \\cdot \\frac{360}{7}^{\\circ}\\right)</math> is positive.\n\nThus, <math>\\theta = \\frac{540}{7}^{\\circ}</math>, and a quick check verifies that it does work. Our desired answer is <math>540 + 7 = \\boxed{547}</math>."
  },
  {
    "year": 2019,
    "variant": "II",
    "problem_number": 11,
    "latex": "Triangle <math>ABC</math> has side lengths <math>AB=7, BC=8, </math> and <math>CA=9.</math> Circle <math>\\omega_1</math> passes through <math>B</math> and is tangent to line <math>AC</math> at <math>A.</math> Circle <math>\\omega_2</math> passes through <math>C</math> and is tangent to line <math>AB</math> at <math>A.</math> Let <math>K</math> be the intersection of circles <math>\\omega_1</math> and <math>\\omega_2</math> not equal to <math>A.</math> Then <math>AK=\\tfrac mn,</math> where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n.</math>",
    "solution": "<asy>\nunitsize(20);\npair B = (0,0);\npair A = (2,sqrt(45));\npair C = (8,0);\ndraw(circumcircle(A,B,(-17/8,0)),rgb(.7,.7,.7));\ndraw(circumcircle(A,C,(49/8,0)),rgb(.7,.7,.7));\ndraw(B--A--C--cycle);\nlabel(\"$A$\",A,dir(105));\nlabel(\"$B$\",B,dir(-135));\nlabel(\"$C$\",C,dir(-75));\ndot((2.68,2.25));\nlabel(\"$K$\",(2.68,2.25),2*down);\nlabel(\"$\\omega_1$\",(-4.5,1));\nlabel(\"$\\omega_2$\",(12.75,6));\nlabel(\"$7$\",(A+B)/2,dir(140));\nlabel(\"$8$\",(B+C)/2,dir(-90));\nlabel(\"$9$\",(A+C)/2,dir(60));\n</asy>\n-Diagram by Brendanb4321\n\n\nNote that from the tangency condition that the supplement of <math>\\angle CAB</math> with respects to lines <math>AB</math> and <math>AC</math> are equal to <math>\\angle AKB</math> and <math>\\angle AKC</math>, respectively, so from tangent-chord, <cmath>\\angle AKC=\\angle AKB=180^{\\circ}-\\angle BAC</cmath> Also note that <math>\\angle ABK=\\angle KAC</math><math>^{(*)}</math>, so <math>\\triangle AKB\\sim \\triangle CKA</math>. Using similarity ratios, we can easily find <cmath>AK^2=BK*KC</cmath> However, since <math>AB=7</math> and <math>CA=9</math>, we can use similarity ratios to get <cmath>BK=\\frac{7}{9}AK, CK=\\frac{9}{7}AK</cmath> \n\n*Now we use Law of Cosines on <math>\\triangle AKB</math>: From reverse Law of Cosines, <math>\\cos{\\angle BAC}=\\frac{11}{21}\\implies \\cos{(180^{\\circ}-\\angle BAC)}=\\angle AKB=-\\frac{11}{21}</math>\nGiving us <cmath>AK^2+\\frac{49}{81}AK^2+\\frac{22}{27}AK^2=49</cmath> <cmath>\\implies \\frac{196}{81}AK^2=49</cmath> <cmath>AK=\\frac{9}{2}</cmath> so our answer is <math>9+2=\\boxed{011}</math>.\n\n<math>^{(*)}</math> Let <math>O</math> be the center of <math>\\omega_1</math>. Then <math>\\angle KAC = 90 - \\angle OAK = 90 - \\frac{1}{2}(180 - \\angle AOK) = \\frac{\\angle AOK}{2} = \\angle ABK</math>. Thus, <math>\\angle ABK = \\angle KAC</math>\n\n-franchester; <math>^{(*)}</math> by firebolt360\n===Supplement===\n*In order to get to the Law of Cosines first, we first apply the LOC to <math>\\triangle{ABC},</math> obtaining <math>\\angle{BAC}.</math>\n*We angle chase before applying the law of cosines to <math>\\angle{AKB}.</math> \n\nNote that <math>\\angle{ABK}=\\angle{KAC}</math> and <math>\\angle{KCA}=\\angle{KAB}</math> from tangent-chord. \n\nThus, <math>\\angle{AKC}=\\angle{AKB}=180^{\\circ}-(\\angle{ABK}+\\angle{KAB}).</math> \n\nHowever from our tangent chord, note that:\n<cmath>\\angle{ABK}+\\angle{KAB}=\\angle{KAC}+\\angle{KAB}=\\angle{BAC}.</cmath>\nThus, <math>\\angle{AKB}=180^\\circ-\\angle{BAC}.</math> \n\n*As an alternative approach, note that the sum of the angles in quadrilateral <math>ABKC</math> is <math>360^{\\circ}</math> and we can find <math>\\angle{AKB}=\\frac12</math> of convex <math>\\angle{BKC},</math> which is just:\n<cmath>\\frac12 \\left(360^{\\circ}-2(\\angle{KAB}+\\angle{KBA}\\right) = 180^\\circ - \\angle{BAC}.</cmath>\n\n~mathboy282"
  },
  {
    "year": 2019,
    "variant": "II",
    "problem_number": 12,
    "latex": "For <math>n \\ge 1</math> call a finite sequence <math>(a_1, a_2 \\ldots a_n)</math> of positive integers <i>progressive</i> if <math>a_i < a_{i+1}</math> and <math>a_i</math> divides <math>a_{i+1}</math> for all <math>1 \\le i \\le n-1</math>. Find the number of progressive sequences such that the sum of the terms in the sequence is equal to <math>360</math>.",
    "solution": "If the first term is <math>x</math>, then dividing through by <math>x</math>, we see that we can find the number of progressive sequences whose sum is <math>\\frac{360}{x} - 1</math>, and whose first term is not 1. If <math>a(k)</math> denotes the number of progressive sequences whose sum is <math>k</math> and whose first term is not 1, then we can express the answer <math>N</math> as follows:\n\n<cmath>\\begin{align*}N &= a(359) + a(179) + a(119) + a(89) + a(71) + a(59) + a(44) + a(39) \\\\\n&+ a(35) + a(29) + a(23) + a(19) + a(17) + a(14) + a(11) + a(9) \\\\\n&+ a(8) + a(7) + a(5) + a(4) + a(3) + a(2) + a(1) + 1\n\\end{align*}</cmath>\n\nAnd in general, we have <math>a(k) = 1+\\sum_{d|k\\text{ and } d\\ne 1,k}a(d-1)</math>.\n\nThe <math>+1</math> at the end accounts for the sequence whose only term is 360. Fortunately, many of these numbers are prime; we have <math>a(p) = 1</math> for primes <math>p</math> as the only such sequence is \"<math>p</math>\" itself. Also, <math>a(1) = 0</math>. So we have\n\n<cmath> N = 15 + a(119) + a(44) + a(39) + a(35) + a(14) + a(9) + a(8) + a(4) </cmath>\n\nFor small <math>k</math>, <math>a(k)</math> is easy to compute: <math>a(4) = 1</math>, <math>a(8) = 2</math>, <math>a(9) = 2</math>. For intermediate <math>k</math> (e.g. <math>k=21</math> below), <math>a(k)</math> can be computed recursively using previously-computed values of <math>a(\\cdot)</math>, similar to dynamic programming. Then we have\n<cmath>\\begin{align*}\na(14) &= 1+a(6) = 1+2 = 3\\\\\na(35) &= 1+a(6)+a(4) = 1 + 2 + 1 = 4 \\\\\na(39) &= 2 + a(12) = 2+4 = 6 \\\\\na(44) &= 2 + a(21) + a(10) = 2+4+2=8 \\\\\na(119) &= 1 + a(16) + a(6) = 1 + 3 + 2 = 6\n\\end{align*}</cmath>\nThus the answer is <math>N = 15+6+8+6+4+3+2+2+1 = \\boxed{47}</math>.\n\n-scrabbler94"
  },
  {
    "year": 2019,
    "variant": "II",
    "problem_number": 13,
    "latex": "Regular octagon <math>A_1A_2A_3A_4A_5A_6A_7A_8</math> is inscribed in a circle of area <math>1.</math> Point <math>P</math> lies inside the circle so that the region bounded by <math>\\overline{PA_1},\\overline{PA_2},</math> and the minor arc <math>\\widehat{A_1A_2}</math> of the circle has area <math>\\tfrac{1}{7},</math> while the region bounded by <math>\\overline{PA_3},\\overline{PA_4},</math> and the minor arc <math>\\widehat{A_3A_4}</math> of the circle has area <math>\\tfrac{1}{9}.</math> There is a positive integer <math>n</math> such that the area of the region bounded by <math>\\overline{PA_6},\\overline{PA_7},</math> and the minor arc <math>\\widehat{A_6A_7}</math> of the circle is equal to <math>\\tfrac{1}{8}-\\tfrac{\\sqrt2}{n}.</math> Find <math>n.</math>",
    "solution": "The actual size of the diagram doesn't matter. To make calculation easier, we discard the original area of the circle, \\(1\\), and assume the side length of the octagon is \\(2\\). \n\nLet \\(r\\) denote the radius of the circle, \\(O\\) be the center of the circle. Then:\n<cmath>r^2= 1^2 + \\left(\\sqrt{2}+1\\right)^2= 4+2\\sqrt{2}.</cmath>\n\nNow, we need to find the \"D\" shape, the small area enclosed by one side of the octagon and \\(\\frac{1}{8}\\) of the circumference of the circle: \n<cmath>\nD= \\frac{1}{8} \\pi r^2 - [A_1 A_2 O]=\\frac{1}{8} \\pi \\left(4+2\\sqrt{2}\\right)- \\left(\\sqrt{2}+1\\right)\n</cmath>\n\nLet \\(PU\\) be the height of \\(\\triangle A_1 A_2 P\\), \\(PV\\) be the height of \\(\\triangle A_3 A_4 P\\), \\(PW\\) be the height of \\(\\triangle A_6 A_7 P\\). From the \\(\\frac{1}{7}\\) and \\(\\frac{1}{9}\\) condition we have \n<cmath>\n\\triangle P A_1 A_2= \\frac{\\pi r^2}{7} - D= \\frac{1}{7} \\pi \\left(4+2\\sqrt{2}\\right)-\\left(\\frac{1}{8} \\pi \\left(4+2\\sqrt{2}\\right)- \\left(\\sqrt{2}+1\\right)\\right)\n</cmath>\n<cmath>\n\\triangle P A_3 A_4= \\frac{\\pi r^2}{9} - D= \\frac{1}{9} \\pi \\left(4+2\\sqrt{2}\\right)-\\left(\\frac{1}{8} \\pi \\left(4+2\\sqrt{2}\\right)- \\left(\\sqrt{2}+1\\right)\\right)\n</cmath>\nwhich gives \\(PU= \\left(\\frac{1}{7}-\\frac{1}{8}\\right) \\pi \\left(4+ 2\\sqrt{2}\\right) + \\sqrt{2}+1\\) and \\(PV= \\left(\\frac{1}{9}-\\frac{1}{8}\\right) \\pi \\left(4+ 2\\sqrt{2}\\right) + \\sqrt{2}+1\\). \n\nNow, let \\(A_1 A_2\\) intersects \\(A_3 A_4\\) at \\(X\\), \\(A_1 A_2\\) intersects \\(A_6 A_7\\) at \\(Y\\),\\(A_6 A_7\\) intersects \\(A_3 A_4\\) at \\(Z\\). \n\nClearly, \\(\\triangle XYZ\\) is an isosceles right triangle, with right angle at \\(X\\) and the height with regard to which shall be \\(3+2\\sqrt2\\). Now \\(\\frac{PU}{\\sqrt{2}} + \\frac{PV}{\\sqrt{2}} + PW = 3+2\\sqrt2\\) which gives:\n\n\\begin{align*}\nPW&= 3+2\\sqrt2-\\frac{PU}{\\sqrt{2}} - \\frac{PV}{\\sqrt{2}} \\\\\n&=3+2\\sqrt{2}-\\frac{1}{\\sqrt{2}}\\left(\\left(\\frac{1}{7}-\\frac{1}{8}\\right) \\pi \\left(4+ 2\\sqrt{2}\\right) + \\sqrt{2}+1+\\left(\\frac{1}{9}-\\frac{1}{8}\\right) \\pi \\left(4+ 2\\sqrt{2}\\right) + \\sqrt{2}+1\\right)\\\\\n&=1+\\sqrt{2}- \\frac{1}{\\sqrt{2}}\\left(\\frac{1}{7}+\\frac{1}{9}-\\frac{1}{4}\\right)\\pi\\left(4+2\\sqrt{2}\\right)\n\\end{align*}\n\nNow, we have the area for \\(D\\) and the area for \\(\\triangle P A_6 A_7\\), so we add them together:\n\n\\begin{align*}\n\\text{Target Area} &= \\frac{1}{8} \\pi \\left(4+2\\sqrt{2}\\right)- \\left(\\sqrt{2}+1\\right) + \\left(1+\\sqrt{2}\\right)- \\frac{1}{\\sqrt{2}}\\left(\\frac{1}{7}+\\frac{1}{9}-\\frac{1}{4}\\right)\\pi\\left(4+2\\sqrt{2}\\right)\\\\\n&=\\left(\\frac{1}{8} - \\frac{1}{\\sqrt{2}}\\left(\\frac{1}{7}+\\frac{1}{9}-\\frac{1}{4}\\right)\\right)\\text{Total Area}\n\\end{align*}\n\nThe answer should therefore be \\(\\frac{1}{8}- \\frac{\\sqrt{2}}{2}\\left(\\frac{16}{63}-\\frac{16}{64}\\right)=\\frac{1}{8}- \\frac{\\sqrt{2}}{504}\\). The answer is \\(\\boxed{504}\\).\n\n'''SpecialBeing2017'''"
  },
  {
    "year": 2019,
    "variant": "II",
    "problem_number": 14,
    "latex": "Find the sum of all positive integers <math>n</math> such that, given an unlimited supply of stamps of denominations <math>5,n,</math> and <math>n+1</math> cents, <math>91</math> cents is the greatest postage that cannot be formed.",
    "solution": "By the Chicken McNugget theorem, the least possible value of <math>n</math> such that <math>91</math> cents cannot be formed satisfies <math>5n - (5 + n) = 91 \\implies n = 24</math>, so <math>n</math> must be at least <math>24</math>.\n\nFor a value of <math>n</math> to work, we must not only be unable to form the value <math>91</math>, but we must also be able to form the values <math>92</math> through <math>96</math>, as with these five values, we can form any value greater than <math>96</math> by using additional <math>5</math> cent stamps.\n\nNotice that we must form the value <math>96</math> without forming the value <math>91</math>. If we use any <math>5</math> cent stamps when forming <math>96</math>, we could simply remove one to get <math>91</math>. This means that we must obtain the value <math>96</math> using only stamps of denominations <math>n</math> and <math>n+1</math>.\n\nRecalling that <math>n \\geq 24</math>, we can easily figure out the working <math>(n,n+1)</math> pairs that can used to obtain <math>96</math>, as we can use at most <math>\\frac{96}{24}=4</math> stamps without going over. The potential sets are <math>(24, 25), (31, 32), (32, 33), (47, 48), (48, 49), (95, 96)</math>, and <math>(96, 97)</math>.\n\nThe last two obviously do not work, since they are too large to form the values <math>92</math> through <math>95</math>. By a little testing, only <math>(24, 25)</math> and <math>(47, 48)</math> can form the necessary values, so <math>n \\in \\{24, 47\\}</math>. <math>24 + 47 = \\boxed{071}</math>.\n\n~Revision by [[User:emerald_block|emerald_block]] ~Minor Revision by [[Mathkiddie|Mathkiddie]]\n\n===Note on finding and testing potential pairs===\n\nIn order to find potential <math>(n,n+1)</math> pairs, we simply test all combinations of <math>n</math> and <math>n+1</math> that sum to less than <math>4n</math> (so that <math>n\\ge24</math>) to see if they produce an integer value of <math>n</math> when their sum is set to <math>96</math>. Note that, since <math>96</math> is divisible by <math>1</math>, <math>2</math>, <math>3</math>, and <math>4</math>, we must either use only <math>n</math> or only <math>n+1</math>, as otherwise, the sum is guaranteed to not be divisible by one of the numbers <math>2</math>, <math>3</math>, and <math>4</math>.\n\n<math>\n\\begin{array}{c|c|c}\n\\text{Combination} & \\text{Sum} & n\\text{-value} \\\\ \\hline\nn,n,n,n & 4n & 24 \\\\\nn+1,n+1,n+1 & 3n+3 & 31 \\\\\nn,n,n & 3n & 32 \\\\\nn+1,n+1 & 2n+2 & 47 \\\\\nn,n & 2n & 48 \\\\\nn+1 & n+1 & 95 \\\\\nn & n & 96 \\\\\n\\end{array}\n</math>\n\nTo test whether a pair works, we simply check that, using the number <math>5</math> and the two numbers in the pair, it is impossible to form a sum of <math>91</math>, and it is possible to form sums of <math>92</math>, <math>93</math>, and <math>94</math>. (<math>95</math> can always be formed using only <math>5</math>s, and the pair is already able to form <math>96</math> because that was how it was found.) We simply need to reach the residues <math>2</math>, <math>3</math>, and <math>4</math><math>\\pmod{5}</math> using only <math>n</math> and <math>n+1</math> without going over the number we are trying to form, while being unable to do so with the residue <math>1</math>. As stated in the above solution, the last two pairs are clearly too large to work.\n\n<math>\n\\begin{array}{c|c|c|c|c}\n\\text{Pair} & \\text{Not }91 & 92 & 93 & 94 \\\\ \\hline\n24,25 & \\checkmark & \\checkmark & \\checkmark & \\checkmark \\\\\n31,32 & \\times & \\checkmark & \\checkmark & \\checkmark \\\\\n32,33 & \\times & \\checkmark & \\checkmark & \\checkmark \\\\\n47,48 & \\checkmark & \\checkmark & \\checkmark & \\checkmark \\\\\n48,49 & \\checkmark & \\times & \\checkmark & \\checkmark \\\\\n\\end{array}\n</math>\n\n(Note that if a pair is unable to fulfill a single requirement, there is no need to check the rest.)\n\n~[[User:emerald_block|emerald_block]]"
  },
  {
    "year": 2019,
    "variant": "II",
    "problem_number": 15,
    "latex": "In acute triangle <math>ABC</math> points <math>P</math> and <math>Q</math> are the feet of the perpendiculars from <math>C</math> to <math>\\overline{AB}</math> and from <math>B</math> to <math>\\overline{AC}</math>, respectively. Line <math>PQ</math> intersects the circumcircle of <math>\\triangle ABC</math> in two distinct points, <math>X</math> and <math>Y</math>. Suppose <math>XP=10</math>, <math>PQ=25</math>, and <math>QY=15</math>. The value of <math>AB\\cdot AC</math> can be written in the form <math>m\\sqrt n</math> where <math>m</math> and <math>n</math> are positive integers, and <math>n</math> is not divisible by the square of any prime. Find <math>m+n</math>.",
    "solution": "==Diagram==\n<asy>\nsize(200);\ndefaultpen(linewidth(0.4)+fontsize(10));\npen s = linewidth(0.8)+fontsize(8);\n\npair A,B,C,P,Q,X,Y,O;\nO = origin;\nreal theta = 32;\nA = dir(180+theta);\nB = dir(-theta);\nC = dir(75);\nQ = foot(B,A,C);\nP = foot(C,A,B);\npath c = circumcircle(A,B,C);\nX = IP(c, Q--(2*P-Q));\nY = IP(c, P--(2*Q-P));\ndraw(A--B--C--A, black+0.8);\ndraw(c^^X--Y^^B--Q^^C--P);\ndot(\"$A$\", A, SW);\ndot(\"$B$\", B, SE);\ndot(\"$C$\", C, N);\ndot(\"$P$\", P, SW);\ndot(\"$Q$\", Q, W);\ndot(\"$X$\", X, SE);\ndot(\"$Y$\", Y, NW);\nlabel(\"$25$\", P--Q, SW);\nlabel(\"$15$\", Q--Y, SW);\nlabel(\"$10$\", X--P, SW);\n</asy>"
  },
  {
    "year": 2020,
    "variant": "I",
    "problem_number": 1,
    "latex": "In <math>\\triangle ABC</math> with <math>AB=AC,</math> point <math>D</math> lies strictly between <math>A</math> and <math>C</math> on side <math>\\overline{AC},</math> and point <math>E</math> lies strictly between <math>A</math> and <math>B</math> on side <math>\\overline{AB}</math> such that <math>AE=ED=DB=BC.</math> The degree measure of <math>\\angle ABC</math> is <math>\\tfrac{m}{n},</math> where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n.</math>",
    "solution": "<asy>\nsize(10cm);\npair A, B, C, D, F;\nA = (0, tan(3 * pi / 7));\nB = (1, 0);\nC = (-1, 0);\nF = rotate(90/7, A) * (A - (0, 2));\nD = rotate(900/7, F) * A;\n\ndraw(A -- B -- C -- cycle);\ndraw(F -- D);\ndraw(D -- B);\n\nlabel(\"$A$\", A, N);\nlabel(\"$B$\", B, E);\nlabel(\"$C$\", C, W);\nlabel(\"$D$\", D, W);\nlabel(\"$E$\", F, E);\n</asy>\n\nIf we set <math>\\angle{BAC}</math> to <math>x</math>, we can find all other angles through these two properties:\n1. Angles in a triangle sum to <math>180^{\\circ}</math>.\n2. The base angles of an isosceles triangle are congruent.\n\nNow we angle chase. <math>\\angle{ADE}=\\angle{EAD}=x</math>, <math>\\angle{AED} = 180-2x</math>, <math>\\angle{BED}=\\angle{EBD}=2x</math>, <math>\\angle{EDB} = 180-4x</math>, <math>\\angle{BDC} = \\angle{BCD} = 3x</math>, <math>\\angle{CBD} = 180-6x</math>. Since <math>AB = AC</math> as given by the problem, <math>\\angle{ABC} = \\angle{ACB}</math>, so <math>180-4x=3x</math>. Therefore, <math>x = 180/7^{\\circ}</math>, and our desired angle is <cmath>180-4\\left(\\frac{180}{7}\\right) = \\frac{540}{7}</cmath> for an answer of <math>\\boxed{547}</math>.\n\nSee here for a video solution: https://youtu.be/4e8Hk04Ax_E"
  },
  {
    "year": 2020,
    "variant": "I",
    "problem_number": 2,
    "latex": "There is a unique positive real number <math>x</math> such that the three numbers <math>\\log_8{2x}</math>, <math>\\log_4{x}</math>, and <math>\\log_2{x}</math>, in that order, form a geometric progression with positive common ratio.  The number <math>x</math> can be written as <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m + n</math>.",
    "solution": "Since these form a geometric series, <math>\\frac{\\log_2{x}}{\\log_4{x}}</math> is the common ratio. Rewriting this, we get <math>\\frac{\\log_x{4}}{\\log_x{2}} = \\log_2{4} = 2</math> by base change formula. Therefore, the common ratio is 2. Now <math>\\frac{\\log_4{x}}{\\log_8{2x}} = 2 \\implies \\log_4{x} = 2\\log_8{2} + 2\\log_8{x} \\implies \\frac{1}{2}\\log_2{x} = \\frac{2}{3} + \\frac{2}{3}\\log_2{x}</math>\n\n<math>\\implies -\\frac{1}{6}\\log_2{x} = \\frac{2}{3} \\implies \\log_2{x} = -4 \\implies x = \\frac{1}{16}</math>. Therefore, <math>1 + 16 = \\boxed{017}</math>.\n\n~ JHawk0224"
  },
  {
    "year": 2020,
    "variant": "I",
    "problem_number": 3,
    "latex": "A positive integer <math>N</math> has base-eleven representation <math>\\underline{a}\\kern 0.1em\\underline{b}\\kern 0.1em\\underline{c}</math> and base-eight representation <math>\\underline1\\kern 0.1em\\underline{b}\\kern 0.1em\\underline{c}\\kern 0.1em\\underline{a},</math> where <math>a,b,</math> and <math>c</math> represent (not necessarily distinct) digits. Find the least such <math>N</math> expressed in base ten.",
    "solution": "From the given information, <math>121a+11b+c=512+64b+8c+a \\implies 120a=512+53b+7c</math>. Since <math>a</math>, <math>b</math>, and <math>c</math> have to be positive, <math>a \\geq 5</math>. Since we need to minimize the value of <math>n</math>, we want to minimize <math>a</math>, so we have <math>a = 5</math>. Then we know <math>88=53b+7c</math>, and we can see the only solution is <math>b=1</math>, <math>c=5</math>. Finally, <math>515_{11} = 621_{10}</math>, so our answer is <math>\\boxed{621}</math>.\n\n~ JHawk0224"
  },
  {
    "year": 2020,
    "variant": "I",
    "problem_number": 4,
    "latex": "Let <math>S</math> be the set of positive integers <math>N</math> with the property that the last four digits of <math>N</math> are <math>2020,</math> and when the last four digits are removed, the result is a divisor of <math>N.</math> For example, <math>42,020</math> is in <math>S</math> because <math>4</math> is a divisor of <math>42,020.</math> Find the sum of all the digits of all the numbers in <math>S.</math> For example, the number <math>42,020</math> contributes <math>4+2+0+2+0=8</math> to this total.",
    "solution": "We note that any number in <math>S</math> can be expressed as <math>a(10,000) + 2,020</math> for some integer <math>a</math>. The problem requires that <math>a</math> divides this number, and since we know <math>a</math> divides <math>a(10,000)</math>, we need that <math>a</math> divides 2020. Each number contributes the sum of the digits of <math>a</math>, as well as <math>2 + 0 + 2 +0 = 4</math>. Since <math>2020</math> can be prime factorized as <math>2^2 \\cdot 5 \\cdot 101</math>, it has <math>(2+1)(1+1)(1+1) = 12</math> factors. So if we sum all the digits of all possible <math>a</math> values, and add <math>4 \\cdot 12 = 48</math>, we obtain the answer.\n\nNow we list out all factors of <math>2,020</math>, or all possible values of <math>a</math>. <math>1,2,4,5,10,20,101,202,404,505,1010,2020</math>. If we add up these digits, we get <math>45</math>, for a final answer of <math>45+48=\\boxed{093}</math>.\n\n-molocyxu"
  },
  {
    "year": 2020,
    "variant": "I",
    "problem_number": 5,
    "latex": "Six cards numbered <math>1</math> through <math>6</math> are to be lined up in a row. Find the number of arrangements of these six cards where one of the cards can be removed leaving the remaining five cards in either ascending or descending order.",
    "solution": "Realize that any sequence that works (ascending) can be reversed for descending, so we can just take the amount of sequences that satisfy the ascending condition and multiply by two.\n\nIf we choose any of the numbers <math>1</math> through <math>6</math>, there are five other spots to put them, so we get <math>6 \\cdot 5 = 30</math>. However, we overcount some cases. Take the example of <math>132456</math>. We overcount this case because we can remove the <math>3</math> or the <math>2</math>. Therefore, any cases with two adjacent numbers swapped is overcounted, so we subtract <math>5</math> cases (namely, <math>213456, 132456, 124356, 123546, 123465</math>,) to get <math>30-5=25</math>, but we have to add back one more for the original case, <math>123456</math>. Therefore, there are <math>26</math> cases. Multiplying by <math>2</math> gives the desired answer, <math>\\boxed{052}</math>.\n\n~molocyxu"
  },
  {
    "year": 2020,
    "variant": "I",
    "problem_number": 6,
    "latex": "A flat board has a circular hole with radius <math>1</math> and a circular hole with radius <math>2</math> such that the distance between the centers of the two holes is <math>7.</math> Two spheres with equal radii sit in the two holes such that the spheres are tangent to each other. The square of the radius of the spheres is <math>\\tfrac{m}{n},</math> where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n.</math>",
    "solution": "== Diagram ==\n<asy>\n/* Made by MRENTHUSIASM */\nsize(300);\nimport graph3;\nimport solids;\n\ncurrentprojection=orthographic((1,-5,1));\nreal r = sqrt(160/13);\n\ntriple C1, C2, B1, B2;\nC1 = (0,0,sqrt(r^2-1^2));\nC2 = (7,0,sqrt(r^2-2^2));\nB1 = (0,0,0);\nB2 = (7,0,0);\ndraw((-5,-10,0)--(-5,10,0)--(12,10,0)--(12,-10,0)--cycle);\ndraw(shift(C1)*scale3(r)*unitsphere,yellow,light=White);\ndraw(shift(C2)*scale3(r)*unitsphere,yellow,light=White);\ndraw(Circle(B1,1,(0,0,1)));\ndraw(Circle(B2,2,(0,0,1)));\n\ndot(C1^^C2^^B1^^B2,linewidth(4.5));\n</asy>\n~MRENTHUSIASM"
  },
  {
    "year": 2020,
    "variant": "I",
    "problem_number": 7,
    "latex": "A club consisting of <math>11</math> men and <math>12</math> women needs to choose a committee from among its members so that the number of women on the committee is one more than the number of men on the committee. The committee could have as few as <math>1</math> member or as many as <math>23</math> members. Let <math>N</math> be the number of such committees that can be formed. Find the sum of the prime numbers that divide <math>N.</math>",
    "solution": "Let <math>k</math> be the number of women selected. Then, the number of men not selected is <math>11-(k-1)=12-k</math>.\nNote that the sum of the number of women selected and the number of men not selected is constant at <math>12</math>. Each combination of women selected and men not selected corresponds to a committee selection. Since choosing 12 individuals from the total of 23 would give <math>k</math> women and <math>12-k</math> men, the number of committee selections is <math>\\binom{23}{12}</math>. \nThe answer is <math>\\boxed{081}</math>.\n~awang11's sol"
  },
  {
    "year": 2020,
    "variant": "I",
    "problem_number": 8,
    "latex": "A bug walks all day and sleeps all night. On the first day, it starts at point <math>O</math>, faces east, and walks a distance of <math>5</math> units due east. Each night the bug rotates <math>60^\\circ</math> counterclockwise. Each day it walks in this new direction half as far as it walked the previous day. The bug gets arbitrarily close to the point <math>P</math>. Then <math>OP^2=\\tfrac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "<asy>\nsize(8cm);\npair O, A, B, C, D, F, G, H, I, P, X;\nO = (0, 0);\nA = (5, 0);\nX = (8, 0);\nP = (5, 5 / sqrt(3));\nB = rotate(-120, A) * ((O + A) / 2);\nC = rotate(-120, B) * ((A + B) / 2);\nD = rotate(-120, C) * ((B + C) / 2);\nF = rotate(-120, D) * ((C + D) / 2);\nG = rotate(-120, F) * ((D + F) / 2);\nH = rotate(-120, G) * ((F + G) / 2);\nI = rotate(-120, H) * ((G + H) / 2);\ndraw(O -- A -- B -- C -- D -- F -- G -- H -- I);\ndraw(A -- X, dashed);\nmarkscalefactor = 0.05;\npath angle = anglemark(X, A, B);\ndraw(angle);\n\ndot(P);\ndot(O);\ndot(A);\ndot(B);\ndot(C);\ndot(D);\n\nlabel(\"$O$\", O, W);\nlabel(\"$P$\", P, E);\nlabel(\"$A$\", A, S);\nlabel(\"$B$\", B, E);\nlabel(\"$C$\", C, E);\nlabel(\"$D$\", D, W);\nlabel(\"$60^\\circ$\", angle, ENE*3);\n</asy>\n\nWe notice that the moves cycle every 6 moves, so we plot out the first 6 moves on the coordinate grid with point <math>O</math> as the origin. We will keep a tally of the x-coordinate and y-coordinate separately. Then, we will combine them and account for the cycling using the formula for an infinite geometric series.\n\nFirst move: The ant moves right <math>5</math>. \nSecond move: We use properties of a <math>30-60-90</math> triangle to get <math>\\frac{5}{4}</math> right, <math>\\frac{5\\sqrt{3}}{4}</math> up. \nThird move: <math>\\frac{5}{8}</math> left, <math>\\frac{5\\sqrt{3}}{8}</math> up.\nFourth move: <math>\\frac{5}{8}</math> left.\nFifth move: <math>\\frac{5}{32}</math> left, <math>\\frac{5\\sqrt{3}}{32}</math> down.\nSixth move: <math>\\frac{5}{64}</math> right, <math>\\frac{5\\sqrt{3}}{64}</math> down.\n\nTotal of x-coordinate: <math>5 + \\frac{5}{4} - \\frac{5}{8} - \\frac{5}{8}  - \\frac{5}{32} + \\frac{5}{64} = \\frac{315}{64}</math>.\nTotal of y-coordinate: <math>0 + \\frac{5\\sqrt{3}}{4} + \\frac{5\\sqrt{3}}{8} + 0 - \\frac{5\\sqrt{3}}{32} - \\frac{5\\sqrt{3}}{64} = \\frac{105\\sqrt{3}}{64}</math>.\n\nAfter this cycle of six moves, all moves repeat with a factor of <math>(\\frac{1}{2})^6 = \\frac{1}{64}</math>. Using the formula for a geometric series, multiplying each sequence by <math>\\frac{1}{1-\\frac{1}{64}} = \\frac{64}{63}</math> will give us the point <math>P</math>.\n\nNow, knowing the initial <math>x</math> and <math>y,</math> we plug this into the geometric series formula (<math>\\frac{a}{1-r}</math>), and we get <math>\\frac{315}{64} \\cdot \\frac{64}{63} = 5</math>, <math>\\frac{105\\sqrt{3}}{64} \\cdot \\frac{64}{63} = \\frac{5\\sqrt{3}}{3}</math>.\nTherefore, the coordinates of point <math>P</math> are <math>(5,\\frac{5\\sqrt{3}}{3})</math>, so using the Pythagorean Theorem, <math>OP^2 = \\frac{100}{3}</math>, for an answer of <math>\\boxed{103}</math>.\n\n\n-molocyxu"
  },
  {
    "year": 2020,
    "variant": "I",
    "problem_number": 9,
    "latex": "Let <math>S</math> be the set of positive integer divisors of <math>20^9.</math> Three numbers are chosen independently and at random with replacement from the set <math>S</math> and labeled <math>a_1,a_2,</math> and <math>a_3</math> in the order they are chosen. The probability that both <math>a_1</math> divides <math>a_2</math> and <math>a_2</math> divides <math>a_3</math> is <math>\\tfrac{m}{n},</math> where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m.</math>",
    "solution": "<asy>\nsize(12cm);\nfor (int x = 1; x < 18; ++x) {\n    draw((x, 0) -- (x, 9), dotted);\n}\nfor (int y = 1; y < 9; ++y) {\n    draw((0, y) -- (18, y), dotted);\n}\n\ndraw((0, 0) -- (18, 0) -- (18, 9) -- (0, 9) -- cycle);\n\npair b1, b2, b3;\npair c1, c2, c3;\npair a1, a2, a3;\nb1 = (3, 0); b2 = (12, 0); b3 = (16, 0);\nc1 = (0, 2); c2 = (0, 4); c3 = (0, 8);\na1 = b1 + c1; a2 = b2 + c2; a3 = b3 + c3;\n\ndraw(b1 -- a1 -- c1);\ndraw(b2 -- a2 -- c2);\ndraw(b3 -- a3 -- c3);\n\ndot(a1); dot(a2); dot(a3);\nlabel(\"$a_1$\", a1, NE);\nlabel(\"$a_2$\", a2, NE);\nlabel(\"$a_3$\", a3, NE);\nlabel(\"$b_1$\", b1, S);\nlabel(\"$b_2$\", b2, S);\nlabel(\"$b_3$\", b3, S);\nlabel(\"$c_1$\", c1, W);\nlabel(\"$c_2$\", c2, W);\nlabel(\"$c_3$\", c3, W);\n\n</asy>\n\nFirst, prime factorize <math>20^9</math> as <math>2^{18} \\cdot 5^9</math>. Denote <math>a_1</math> as <math>2^{b_1} \\cdot 5^{c_1}</math>, <math>a_2</math> as <math>2^{b_2} \\cdot 5^{c_2}</math>, and <math>a_3</math> as <math>2^{b_3} \\cdot 5^{c_3}</math>.\n\nIn order for <math>a_1</math> to divide <math>a_2</math>, and for <math>a_2</math> to divide <math>a_3</math>, <math>b_1\\le b_2\\le b_3</math>, and <math>c_1\\le c_2\\le c_3</math>. We will consider each case separately. Note that the total amount of possibilities is <math>190^3</math>, as there are <math>(18+1)(9+1)=190</math> choices for each factor.\n\nWe notice that if we add <math>1</math> to <math>b_2</math> and <math>2</math> to <math>b_3</math>, then we can reach the stronger inequality <math>0\\le b_1<b_2+1<b_3+2\\le 20</math>. Therefore, if we pick <math>3</math> integers from <math>0</math> to <math>20</math>, they will correspond to a unique solution, forming a 1-1 correspondence between the numbers <math>b_1</math>, <math>b_2+1</math>, and <math>b_3+2</math>. This is also equivalent to applying stars and bars on distributing the powers of 2 and 5 through differences. The amount of solutions to this inequality is <math>\\dbinom{21}{3}</math>.\n\nThe case for <math>c_1</math>,<math>c_2</math>, and <math>c_3</math> proceeds similarly for a result of <math>\\dbinom{12}{3}</math>. Therefore, the probability of choosing three such factors is <cmath>\\frac{\\dbinom{21}{3} \\cdot \\dbinom{12}{3}}{190^3}.</cmath> Simplification gives <math>\\frac{77}{1805}</math>, and therefore the answer is <math>\\boxed{077}</math>.\n\n-molocyxu"
  },
  {
    "year": 2020,
    "variant": "I",
    "problem_number": 10,
    "latex": "Let <math>m</math> and <math>n</math> be positive integers satisfying the conditions\n\n<math>\\quad\\bullet\\ \\gcd(m+n,210)=1,</math>\n\n<math>\\quad\\bullet\\ m^m</math> is a multiple of <math>n^n,</math> and\n\n<math>\\quad\\bullet\\ m</math> is not a multiple of <math>n.</math>\n\nFind the least possible value of <math>m+n.</math>",
    "solution": "Taking inspiration from <math>4^4 \\mid 10^{10}</math> we are inspired to take <math>n</math> to be <math>p^2</math>, the lowest prime not dividing <math>210</math>, or <math>11 \\implies n = 121</math>. Now, there are <math>242</math> factors of <math>11</math>, so <math>11^{242} \\mid m^m</math>, and then <math>m = 11k</math> for <math>k \\geq 22</math>. Now, <math>\\gcd(m+n, 210) = \\gcd(11+k,210) = 1</math>. Noting <math>k = 26</math> is the minimal that satisfies this, we get <math>(n,m) = (121,286)</math>. Thus, it is easy to verify this is minimal and we get <math>\\boxed{407}</math>. ~awang11"
  },
  {
    "year": 2020,
    "variant": "I",
    "problem_number": 11,
    "latex": "For integers <math>a,b,c</math> and <math>d,</math> let <math>f(x)=x^2+ax+b</math> and <math>g(x)=x^2+cx+d.</math> Find the number of ordered triples <math>(a,b,c)</math> of integers with absolute values not exceeding <math>10</math> for which there is an integer <math>d</math> such that <math>g(f(2))=g(f(4))=0.</math>",
    "solution": "There can be two different cases for this problem, either <math>f(2)=f(4)</math> or not. If it is, note that by Vieta's formulas <math>a = -6</math>. Then, <math>b</math> can be anything. However, <math>c</math> can also be anything, as we can set the root of <math>g</math> (not equal to <math>f(2) = f(4)</math>) to any integer, producing a possible integer value of <math>d</math>. Therefore there are <math>21^2 = 441</math> in this case*. If it isn't, then <math>f(2),f(4)</math> are the roots of <math>g</math>. This means by Vieta's, that:\n\n<cmath>f(2)+f(4) = -c \\in [-10,10]</cmath>\n<cmath>20 + 6a + 2b \\in [-10,10]</cmath>\n<cmath>3a + b \\in [-15,-5].</cmath>\n\nSolving these inequalities while considering that <math>a \\neq -6</math> to prevent <math>f(2) = f(4)</math>, we obtain <math>69</math> possible tuples and adding gives <math>441+69=\\boxed{510}</math>. \n~awang11"
  },
  {
    "year": 2020,
    "variant": "I",
    "problem_number": 12,
    "latex": "Let <math>n</math> be the least positive integer for which <math>149^n-2^n</math> is divisible by <math>3^3\\cdot5^5\\cdot7^7.</math> Find the number of positive integer divisors of <math>n.</math>",
    "solution": "As usual, denote <math>v_p(n)</math> the highest power of prime <math>p</math> that divides <math>n</math>.\n[[Lifting the Exponent]] shows that <cmath>3=v_3(149^n-2^n) = v_3(n) + v_3(147) = v_3(n)+1</cmath> so thus, <math>3^2</math> divides <math>n</math>. It also shows that <cmath>7=v_7(149^n-2^n) = v_7(n) + v_7(147) = v_7(n)+2</cmath> so thus, <math>7^5</math> divides <math>n</math>. \n\n\nNow, setting <math>n = 4c</math> (necessitated by <math>149^n \\equiv 2^n \\pmod 5</math> in order to set up LTE), we see <cmath>v_5(149^{4c}-2^{4c}) = v_5(149^{4c}-16^{c})</cmath> and since <math>149^{4} \\equiv 1 \\pmod{25}</math> and <math>16^1 \\equiv 16 \\pmod{25}</math> then <math>v_5(149^{4c}-2^{4c})=v_5(149^4-16)+v_5(c)=1+v_5(c)</math> meaning that we have that by LTE, <math>5^4 | c</math> and <math>4 \\cdot 5^4</math> divides <math>n</math>. \n\nSince <math>3^2</math>, <math>7^5</math> and <math>4\\cdot 5^4</math> all divide <math>n</math>, the smallest value of <math>n</math> working is their LCM, also <math>3^2 \\cdot 7^5 \\cdot 4 \\cdot 5^4 = 2^2 \\cdot 3^2 \\cdot 5^4 \\cdot 7^5</math>. Thus the number of divisors is <math>(2+1)(2+1)(4+1)(5+1) = \\boxed{270}</math>.\n\n~kevinmathz\n\nclarified by another user \n\nnotation note from another user\n\n===Note===\nWe were able to use LTE with 3 and 7 but not 5 because in order to use LTE, we need \\( p \\mid x-y \\).\n\nObviously, \\( 149^n \\equiv 2^n \\pmod{3} \\) implies \\( 149^n - 2^n \\equiv 0 \\pmod{3} \\), so LTE works here.\n\nFurthermore, \\( 149^n \\equiv 2^n \\pmod{7} \\) implies \\( 149^n - 2^n \\equiv 0 \\pmod{7} \\), so LTE works here.\n\nHowever, when we get to the case of 5, we see that \\( 149^n \\equiv 2^n \\pmod{5} \\) doesn't always hold; specifically, this is only valid when \\( n \\) is a multiple of \\( 4 \\), which is why we let \\( n = 4c \\) in the solution.\n\n'''mathboy282'''"
  },
  {
    "year": 2020,
    "variant": "I",
    "problem_number": 13,
    "latex": "Point <math>D</math> lies on side <math>\\overline{BC}</math> of <math>\\triangle ABC</math> so that <math>\\overline{AD}</math> bisects <math>\\angle BAC.</math> The perpendicular bisector of <math>\\overline{AD}</math> intersects the bisectors of <math>\\angle ABC</math> and <math>\\angle ACB</math> in points <math>E</math> and <math>F,</math> respectively. Given that <math>AB=4,BC=5,</math> and <math>CA=6,</math> the area of <math>\\triangle AEF</math> can be written as <math>\\tfrac{m\\sqrt{n}}p,</math> where <math>m</math> and <math>p</math> are relatively prime positive integers, and <math>n</math> is a positive integer not divisible by the square of any prime. Find <math>m+n+p.</math>",
    "solution": "== Diagram ==\n\n<asy>\n /* Geogebra to Asymptote conversion, documentation at artofproblemsolving.com/Wiki go to User:Azjps/geogebra */\nimport graph; size(18cm); \nreal labelscalefactor = 0.5; /* changes label-to-point distance */\npen dps = linewidth(0.7) + fontsize(10); defaultpen(dps); /* default pen style */ \npen dotstyle = black; /* point style */ \nreal xmin = -10.645016481888238, xmax = 5.4445786933235505, ymin = 0.7766255516825293, ymax = 9.897545413994122;  /* image dimensions */\npen wrwrwr = rgb(0.3803921568627451,0.3803921568627451,0.3803921568627451); pen rvwvcq = rgb(0.8235294117647059,0.0396078431372549,0.07529411764705882); \n\ndraw((-6.837129089839387,8.163360372429347)--(-6.8268938290378,5.895596632024835)--(-4.33118398380513,6.851781504978754)--cycle, linewidth(2) + rvwvcq); \ndraw((-6.837129089839387,8.163360372429347)--(-8.31920210577661,4.188003838050227)--(-3.319253031309944,4.210570466954303)--cycle, linewidth(2) + rvwvcq); \n /* draw figures */\ndraw((-6.837129089839387,8.163360372429347)--(-7.3192122908832715,4.192517163831042), linewidth(2) + wrwrwr); \ndraw((-7.3192122908832715,4.192517163831042)--(-2.319263216416622,4.2150837927351175), linewidth(2) + wrwrwr); \ndraw((-2.319263216416622,4.2150837927351175)--(-6.837129089839387,8.163360372429347), linewidth(2) + wrwrwr); \ndraw((xmin, -2.6100704119306224*xmin-9.68202796751058)--(xmax, -2.6100704119306224*xmax-9.68202796751058), linewidth(2) + wrwrwr); /* line */\ndraw((xmin, 0.3831314264278095*xmin + 8.511194202815297)--(xmax, 0.3831314264278095*xmax + 8.511194202815297), linewidth(2) + wrwrwr); /* line */\ndraw(circle((-6.8268938290378,5.895596632024835), 2.267786838055365), linewidth(2) + wrwrwr); \ndraw(circle((-4.33118398380513,6.851781504978754), 2.828427124746193), linewidth(2) + wrwrwr); \ndraw((xmin, 0.004513371749987873*xmin + 4.225551489816879)--(xmax, 0.004513371749987873*xmax + 4.225551489816879), linewidth(2) + wrwrwr); /* line */\ndraw((-7.3192122908832715,4.192517163831042)--(-4.33118398380513,6.851781504978754), linewidth(2) + wrwrwr); \ndraw((-6.8268938290378,5.895596632024835)--(-2.319263216416622,4.2150837927351175), linewidth(2) + wrwrwr); \ndraw((-6.837129089839387,8.163360372429347)--(-8.31920210577661,4.188003838050227), linewidth(2) + wrwrwr); \ndraw((xmin, 0.004513371749987873*xmin + 8.19421887771445)--(xmax, 0.004513371749987873*xmax + 8.19421887771445), linewidth(2) + wrwrwr); /* line */\ndraw((-3.837159645159393,8.176900349771794)--(-8.31920210577661,4.188003838050227), linewidth(2) + wrwrwr); \ndraw((-3.837159645159393,8.176900349771794)--(-5.3192326610966125,4.2015438153926725), linewidth(2) + wrwrwr); \ndraw((-6.837129089839387,8.163360372429347)--(-6.8268938290378,5.895596632024835), linewidth(2) + rvwvcq); \ndraw((-6.8268938290378,5.895596632024835)--(-4.33118398380513,6.851781504978754), linewidth(2) + rvwvcq); \ndraw((-4.33118398380513,6.851781504978754)--(-6.837129089839387,8.163360372429347), linewidth(2) + rvwvcq); \ndraw((-6.837129089839387,8.163360372429347)--(-8.31920210577661,4.188003838050227), linewidth(2) + rvwvcq); \ndraw((-8.31920210577661,4.188003838050227)--(-3.319253031309944,4.210570466954303), linewidth(2) + rvwvcq); \ndraw((-3.319253031309944,4.210570466954303)--(-6.837129089839387,8.163360372429347), linewidth(2) + rvwvcq); \n /* dots and labels */\ndot((-6.837129089839387,8.163360372429347),dotstyle); \nlabel(\"$A$\", (-6.8002301023571095,8.267690318323321), NE * labelscalefactor); \ndot((-7.3192122908832715,4.192517163831042),dotstyle); \nlabel(\"$B$\", (-7.2808283997985,4.29753046989445), NE * labelscalefactor); \ndot((-2.319263216416622,4.2150837927351175),linewidth(4pt) + dotstyle); \nlabel(\"$C$\", (-2.276337432963145,4.29753046989445), NE * labelscalefactor); \ndot((-5.3192326610966125,4.2015438153926725),linewidth(4pt) + dotstyle); \nlabel(\"$D$\", (-5.274852897434433,4.287082680819637), NE * labelscalefactor); \ndot((-6.8268938290378,5.895596632024835),linewidth(4pt) + dotstyle); \nlabel(\"$F$\", (-6.789782313282296,5.979624510939313), NE * labelscalefactor); \ndot((-4.33118398380513,6.851781504978754),linewidth(4pt) + dotstyle); \nlabel(\"$E$\", (-4.292760724402025,6.93037331674728), NE * labelscalefactor); \ndot((-8.31920210577661,4.188003838050227),linewidth(4pt) + dotstyle); \nlabel(\"$G$\", (-8.273368361905721,4.276634891744824), NE * labelscalefactor); \ndot((-3.319253031309944,4.210570466954303),linewidth(4pt) + dotstyle); \nlabel(\"$H$\", (-3.2793251841451787,4.29753046989445), NE * labelscalefactor); \ndot((-3.837159645159393,8.176900349771794),linewidth(4pt) + dotstyle); \nlabel(\"$I$\", (-3.7912668488110084,8.257242529248508), NE * labelscalefactor); \nclip((xmin,ymin)--(xmin,ymax)--(xmax,ymax)--(xmax,ymin)--cycle); \n /* end of picture */\n</asy>"
  },
  {
    "year": 2020,
    "variant": "I",
    "problem_number": 14,
    "latex": "Let <math>P(x)</math> be a quadratic polynomial with complex coefficients whose <math>x^2</math> coefficient is <math>1.</math> Suppose the equation <math>P(P(x))=0</math> has four distinct solutions, <math>x=3,4,a,b.</math> Find the sum of all possible values of <math>(a+b)^2.</math>",
    "solution": "Either <math>P(3) = P(4)</math> or not. We first see that if <math>P(3) = P(4)</math> it's easy to obtain by Vieta's that <math>(a+b)^2 = 49</math>. Now, take <math>P(3) \\neq P(4)</math> and WLOG <math>P(3) = P(a), P(4) = P(b)</math>. Now, consider the parabola formed by the graph of <math>P</math>. It has vertex <math>\\frac{3+a}{2}</math>. Now, say that <math>P(x) = x^2 - (3+a)x + c</math>. We note <math>P(3)P(4) = c = P(3)\\left(4 - 4a + \\frac{8a - 1}{2}\\right) \\implies a = \\frac{7P(3) + 1}{8}</math>. Now, we note <math>P(4) = \\frac{7}{2}</math> by plugging in again. Now, it's easy to find that <math>a = -2.5, b = -3.5</math>, yielding a value of <math>36</math>. Finally, we add <math>49 + 36 = \\boxed{085}</math>. ~awang11, charmander3333\n\n<b>Remark</b>: We know that <math>c=\\frac{8a-1}{2}</math> from <math>P(3)+P(4)=3+a</math>."
  },
  {
    "year": 2020,
    "variant": "I",
    "problem_number": 15,
    "latex": "Let <math>\\triangle ABC</math> be an acute triangle with circumcircle <math>\\omega,</math> and let <math>H</math> be the intersection of the altitudes of <math>\\triangle ABC.</math> Suppose the tangent to the circumcircle of <math>\\triangle HBC</math> at <math>H</math> intersects <math>\\omega</math> at points <math>X</math> and <math>Y</math> with <math>HA=3,HX=2,</math> and <math>HY=6.</math> The area of <math>\\triangle ABC</math> can be written in the form <math>m\\sqrt{n},</math> where <math>m</math> and <math>n</math> are positive integers, and <math>n</math> is not divisible by the square of any prime. Find <math>m+n.</math>",
    "solution": "The following is a power of a point solution to this menace of a problem:\n\n<asy>\ndefaultpen(fontsize(12)+0.6); size(250);\npen p=fontsize(10)+gray+0.4;\n\nvar phi=75.5, theta=130, r=4.8;\npair A=r*dir(270-phi-57), C=r*dir(270+phi-57), B=r*dir(theta-57), H=extension(A,foot(A,B,C),B,foot(B,C,A));\npath omega=circumcircle(A,B,C), c=circumcircle(H,B,C);\npair O=circumcenter(H,B,C), Op=2*H-O, Z=bisectorpoint(O,Op), X=IP(omega,L(H,Z,0,50)), Y=IP(omega,L(H,Z,50,0)), D=2*H-A, K=extension(B,C,X,Y), E=extension(A,origin,X,Y), L=foot(H,B,C);\n\ndraw(K--C^^omega^^c^^L(A,D,0,1)); draw(Y--K^^L(A,origin,0,1.5)^^L(X,D,0.7,3.5),fuchsia+0.4); \ndraw(CR(H,length(H-L)),royalblue); \ndraw(C--K,p);\ndot(\"$A$\",A,dir(120)); dot(\"$B$\",B,down); dot(\"$C$\",C,down); dot(\"$H$\",H,down); dot(\"$X$\",X,up); dot(\"$Y$\",Y,down);\ndot(\"$O$\",origin,down); dot(\"$O'$\",O,down); dot(\"$K$\",K,up); dot(\"$L$\",L,dir(H-X)); \ndot(\"$D$\",D,down); dot(\"$E$\",E,down); \n\n//draw(O--origin,p);\n//draw(origin--4*dir(57),fuchsia);\n//draw(Arc(H,3,160,200),royalblue); //draw(Arc(H,2,30,70),heavygreen); //draw(Arc(H,6,220,240),fuchsia);\n</asy>\nLet points be what they appear as in the diagram below. Note that <math>3HX = HY</math> is not insignificant; from here, we set <math>XH = HE = \\frac{1}{2} EY = HL = 2</math> by PoP and trivial construction. Now, <math>D</math> is the reflection of <math>A</math> over <math>H</math>. Note <math>AO \\perp XY</math>, and therefore by Pythagorean theorem we have <math>AE = XD = \\sqrt{5}</math>. Consider <math>HD = 3</math>. We have that <math>\\triangle HXD \\cong HLK</math>, and therefore we are ready to PoP with respect to <math>(BHC)</math>. Setting <math>BL = x, LC = y</math>, we obtain <math>xy = 10</math> by PoP on <math>(ABC)</math>, and furthermore, we have <math>KH^2 = 9 = (KL - x)(KL + y) = (\\sqrt{5} - x)(\\sqrt{5} + y)</math>. Now, we get <math>4 = \\sqrt{5}(y - x) - xy</math>, and from <math>xy = 10</math> we take <cmath>\\frac{14}{\\sqrt{5}} = y - x.</cmath> However, squaring and manipulating with <math>xy = 10</math> yields that <math>(x + y)^2 = \\frac{396}{5}</math> and from here, since <math>AL = 5</math> we get the area to be <math>3\\sqrt{55} \\implies \\boxed{058}</math>. ~awang11's sol"
  },
  {
    "year": 2020,
    "variant": "II",
    "problem_number": 1,
    "latex": "Find the number of ordered pairs of positive integers <math>(m,n)</math> such that <math>{m^2n = 20 ^{20}}</math>.",
    "solution": "In this problem, we want to find the number of ordered pairs <math>(m, n)</math> such that <math>m^2n = 20^{20}</math>. Let <math>x = m^2</math>. Therefore, we want two numbers, <math>x</math> and <math>n</math>, such that their product is <math>20^{20}</math> and <math>x</math> is a perfect square. Note that there is exactly one valid <math>n</math> for a unique <math>x</math>, which is <math>\\tfrac{20^{20}}{x}</math>. This reduces the problem to finding the number of unique perfect square factors of <math>20^{20}</math>.\n\n\n<math>20^{20} = 2^{40} \\cdot 5^{20} = \\left(2^2\\right)^{20}\\cdot\\left(5^2\\right)^{10}.</math> Therefore, the answer is <math>21 \\cdot 11 = \\boxed{231}.</math>\n\n\n~superagh\n\n~TheBeast5520"
  },
  {
    "year": 2020,
    "variant": "II",
    "problem_number": 2,
    "latex": "Let <math>P</math> be a point chosen uniformly at random in the interior of the unit square with vertices at <math>(0,0), (1,0), (1,1)</math>, and <math>(0,1)</math>. The probability that the slope of the line determined by <math>P</math> and the point <math>\\left(\\frac58, \\frac38 \\right)</math> is greater than or equal to <math>\\frac12</math> can be written as <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "The areas bounded by the unit square and alternately bounded by the lines through <math>\\left(\\frac{5}{8},\\frac{3}{8}\\right)</math> that are vertical or have a slope of <math>1/2</math> show where <math>P</math> can be placed to satisfy the condition. One of the areas is a trapezoid with bases <math>1/16</math> and <math>3/8</math> and height <math>5/8</math>. The other area is a trapezoid with bases <math>7/16</math> and <math>5/8</math> and height <math>3/8</math>. Then, <cmath>\\frac{\\frac{1}{16}+\\frac{3}{8}}{2}\\cdot\\frac{5}{8}+\\frac{\\frac{7}{16}+\\frac{5}{8}}{2}\\cdot\\frac{3}{8}=\\frac{86}{256}=\\frac{43}{128}\\implies43+128=\\boxed{171}</cmath>\n~mn28407"
  },
  {
    "year": 2020,
    "variant": "II",
    "problem_number": 3,
    "latex": "The value of <math>x</math> that satisfies <math>\\log_{2^x} 3^{20} = \\log_{2^{x+3}} 3^{2020}</math> can be written as <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "Let <math>\\log _{2^x}3^{20}=\\log _{2^{x+3}}3^{2020}=n</math>. Based on the equation, we get <math>(2^x)^n=3^{20}</math> and <math>(2^{x+3})^n=3^{2020}</math>. Expanding the second equation, we get <math>8^n\\cdot2^{xn}=3^{2020}</math>. Substituting the first equation in, we get <math>8^n\\cdot3^{20}=3^{2020}</math>, so <math>8^n=3^{2000}</math>. Taking the 100th root, we get <math>8^{\\frac{n}{100}}=3^{20}</math>. Therefore, <math>(2^{\\frac{3}{100}})^n=3^{20}</math>, and using the our first equation(<math>2^{xn}=3^{20}</math>), we get <math>x=\\frac{3}{100}</math> and the answer is <math>\\boxed{103}</math>.\n~rayfish"
  },
  {
    "year": 2020,
    "variant": "II",
    "problem_number": 4,
    "latex": "Triangles <math>\\triangle ABC</math> and <math>\\triangle A'B'C'</math> lie in the coordinate plane with vertices <math>A(0,0)</math>, <math>B(0,12)</math>, <math>C(16,0)</math>, <math>A'(24,18)</math>, <math>B'(36,18)</math>, <math>C'(24,2)</math>. A rotation of <math>m</math> degrees clockwise around the point <math>(x,y)</math> where <math>0<m<180</math>, will transform <math>\\triangle ABC</math> to <math>\\triangle A'B'C'</math>. Find <math>m+x+y</math>.",
    "solution": "After sketching, it is clear a <math>90^{\\circ}</math> rotation is done about <math>(x,y)</math>. Looking between <math>A</math> and <math>A'</math>, <math>x+y=18</math>. Thus <math>90+18=\\boxed{108}</math>.\n~mn28407"
  },
  {
    "year": 2020,
    "variant": "II",
    "problem_number": 5,
    "latex": "For each positive integer <math>n</math>, let <math>f(n)</math> be the sum of the digits in the base-four representation of <math>n</math> and let <math>g(n)</math> be the sum of the digits in the base-eight representation of <math>f(n)</math>. For example, <math>f(2020) = f(133210_{\\text{4}}) = 10 = 12_{\\text{8}}</math>, and <math>g(2020) = \\text{the digit sum of }12_{\\text{8}} = 3</math>. Let <math>N</math> be the least value of <math>n</math> such that the base-sixteen representation of <math>g(n)</math> cannot be expressed using only the digits <math>0</math> through <math>9</math>. Find the remainder when <math>N</math> is divided by <math>1000</math>.",
    "solution": "Let's work backwards. The minimum base-sixteen representation of <math>g(n)</math> that cannot be expressed using only the digits <math>0</math> through <math>9</math> is <math>A_{16}</math>, which is equal to <math>10</math> in base 10.  Thus, the sum of the digits of the base-eight representation of the sum of the digits of <math>f(n)</math> is <math>10</math>.  The minimum value for which this is achieved is <math>37_8</math>.  We have that <math>37_8 = 31</math>.  Thus, the sum of the digits of the base-four representation of <math>n</math> is <math>31</math>.  The minimum value for which this is achieved is <math>13,333,333,333_4</math>.  We just need this value in base 10 modulo 1000.  We get <math>13,333,333,333_4 = 3(1 + 4 + 4^2 + \\dots + 4^8 + 4^9) + 4^{10} = 3\\left(\\dfrac{4^{10} - 1}{3}\\right) + 4^{10} = 2*4^{10} - 1</math>.  Taking this value modulo <math>1000</math>, we get the final answer of <math>\\boxed{151}</math>.  (If you are having trouble with this step, note that <math>2^{10} = 1024 \\equiv 24 \\pmod{1000}</math>) ~ TopNotchMath"
  },
  {
    "year": 2020,
    "variant": "II",
    "problem_number": 6,
    "latex": "Define a sequence recursively by <math>t_1 = 20</math>, <math>t_2 = 21</math>, and<cmath>t_n = \\frac{5t_{n-1}+1}{25t_{n-2}}</cmath>for all <math>n \\ge 3</math>. Then <math>t_{2020}</math> can be expressed as <math>\\frac{p}{q}</math>, where <math>p</math> and <math>q</math> are relatively prime positive integers. Find <math>p+q</math>.",
    "solution": "Let <math>t_n=\\frac{s_n}{5}</math>. Then, we have <math>s_n=\\frac{s_{n-1}+1}{s_{n-2}}</math> where <math>s_1 = 100</math> and <math>s_2 = 105</math>. By substitution, we find <math>s_3 = \\frac{53}{50}</math>, <math>s_4=\\frac{103}{105\\cdot50}</math>, <math>s_5=\\frac{101}{105}</math>, <math>s_6=100</math>, and <math>s_7=105</math>. So <math>s_n</math> has a period of <math>5</math>. Thus <math>s_{2020}=s_5=\\frac{101}{105}</math>. So, <math>\\frac{101}{105\\cdot 5}\\implies 101+525=\\boxed{626}</math>.\n~mn28407"
  },
  {
    "year": 2020,
    "variant": "II",
    "problem_number": 7,
    "latex": "Two congruent right circular cones each with base radius <math>3</math> and height <math>8</math> have the axes of symmetry that intersect at right angles at a point in the interior of the cones a distance <math>3</math> from the base of each cone. A sphere with radius <math>r</math> lies within both cones. The maximum possible value of <math>r^2</math> is <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "Consider the cross section of the cones and sphere by a plane that contains the two axes of symmetry of the cones as shown below. The sphere with maximum radius will be tangent to the sides of each of the cones. The center of that sphere must be on the axis of symmetry of each of the cones and thus must be at the intersection of their axes of symmetry. Let <math>A</math> be the point in the cross section where the bases of the cones meet, and let <math>C</math> be the center of the sphere. Let the axis of symmetry of one of the cones extend from its vertex, <math>B</math>, to the center of its base, <math>D</math>. Let the sphere be tangent to <math>\\overline{AB}</math> at <math>E</math>. The right triangles <math>\\triangle ABD</math> and <math>\\triangle CBE</math> are similar, implying that the radius of the sphere is<cmath>CE = AD \\cdot\\frac{BC}{AB} = AD \\cdot\\frac{BD-CD}{AB} =3\\cdot\\frac5{\\sqrt{8^2+3^2}} = \\frac{15}{\\sqrt{73}}=\\sqrt{\\frac{225}{73}}.</cmath>The requested sum is <math>225+73=298</math>.\n<asy>\nunitsize(0.6cm);\npair A = (0,0); \npair TriangleOneLeft = (-6,0); \npair TriangleOneDown = (-3,-8); \npair TriangleOneMid = (-3,0);\n\npair D = (0,-3); \npair TriangleTwoDown = (0,-6); \npair B = (-8,-3);\n\npair C = IP(TriangleOneMid -- TriangleOneDown, B--D);\npair EE = foot(C, A, B); \nreal radius = arclength(C--EE); \npath circ = Circle(C, radius);\n\n\n\ndraw(A--B--TriangleTwoDown--cycle);\ndraw(B--D); \ndraw(A--TriangleOneLeft--TriangleOneDown--cycle); \ndraw(circ); \ndraw(C--EE); \ndraw(TriangleOneMid -- TriangleOneDown, gray);\n\ndot(\"$B$\", B, W); \ndot(\"$E$\", EE, NW); \ndot(\"$A$\", A, NE); \ndot(\"$D$\", D, E); \ndot(\"$C$\", C, SE);\n</asy>\n\nNot part of MAA's solution, but this: https://www.geogebra.org/calculator/xv4nm97a is a good visual of the cones in GeoGebra."
  },
  {
    "year": 2020,
    "variant": "II",
    "problem_number": 8,
    "latex": "Define a sequence recursively by <math>f_1(x)=|x-1|</math> and <math>f_n(x)=f_{n-1}(|x-n|)</math> for integers <math>n>1</math>. Find the least value of <math>n</math> such that the sum of the zeros of <math>f_n</math> exceeds <math>500,000</math>.",
    "solution": "First it will be shown by induction that the zeros of <math>f_n</math> are the integers\n<math>a, {a+2,} {a+4,} \\dots, {a + n(n-1)}</math>, where <math>a = n - \\frac{n(n-1)}2.</math>\n\nThis is certainly true for <math>n=1</math>. Suppose that it is true for <math>n = m-1 \\ge 1</math>, and note that the zeros of <math>f_m</math> are the solutions of <math>|x - m| = k</math>, where <math>k</math> is a nonnegative zero of <math>f_{m-1}</math>. Because the zeros of <math>f_{m-1}</math> form an arithmetic sequence with common difference <math>2,</math> so do the zeros of <math>f_m</math>. The greatest zero of <math>f_{m-1}</math> is<cmath>m-1+\\frac{(m-1)(m-2)}2 =\\frac{m(m-1)}2,</cmath>so the greatest zero of <math>f_m</math> is <math>m+\\frac{m(m-1)}2</math> and the least is <math>m-\\frac{m(m-1)}2</math>.\n\nIt follows that the number of zeros of <math>f_n</math> is <math>\\frac{n(n-1)}2+1=\\frac{n^2-n+2}2</math>, and their average value is <math>n</math>. The sum of the zeros of <math>f_n</math> is<cmath>\\frac{n^3-n^2+2n}2.</cmath>Let <math>S(n)=n^3-n^2+2n</math>, so the sum of the zeros exceeds <math>500{,}000</math> if and only if <math>S(n) > 1{,}000{,}000 = 100^3\\!.</math> Because <math>S(n)</math> is increasing for <math>n > 2</math>, the values <math>S(100) = 1{,}000{,}000 - 10{,}000 + 200 = 990{,}200</math> and <math>S(101)=1{,}030{,}301 - 10{,}201 + 202 = 1{,}020{,}302</math> show that the requested value of <math>n</math> is <math>\\boxed{101}</math>."
  },
  {
    "year": 2020,
    "variant": "II",
    "problem_number": 9,
    "latex": "While watching a show, Ayako, Billy, Carlos, Dahlia, Ehuang, and Frank sat in that order in a row of six chairs. During the break, they went to the kitchen for a snack. When they came back, they sat on those six chairs in such a way that if two of them sat next to each other before the break, then they did not sit next to each other after the break. Find the number of possible seating orders they could have chosen after the break.",
    "solution": "There are <math>2^{5}-1</math> intersections that we must consider if we are to perform a PIE bash on this problem. Since we don't really want to think that hard, and bashing does not take that long for this problem, we can write down half of all permutations that satisfy the conditions presented in the problem in \"lexicographically next\" order to keep track easily. We do this for all cases such that the first \"person\" is <math>A-C</math>, and multiply by two, since the number of working permutations with <math>D-F</math> as the first person is the same as if it were <math>A-C</math>, hence, after doing such a bash, we get <math>45\\times2=90</math> permutations that result in no consecutive letters being adjacent to each other.\n~afatperson"
  },
  {
    "year": 2020,
    "variant": "II",
    "problem_number": 10,
    "latex": "Find the sum of all positive integers <math>n</math> such that when <math>1^3+2^3+3^3+\\cdots +n^3</math> is divided by <math>n+5</math>, the remainder is <math>17</math>.",
    "solution": "The formula for the sum of cubes, also known as Nicomachus's Theorem, is as follows:\n<cmath>1^3+2^3+3^3+\\dots+k^3=(1+2+3+\\dots+k)^2=\\left(\\frac{k(k+1)}{2}\\right)^2</cmath>\nfor any positive integer <math>k</math>. \n\nSo let's apply this to this problem.\n\nLet <math>m=n+5</math>. Then we have\n<cmath>\\begin{align*}\n1^3+2^3+3^3+\\dots+(m-5)^3&\\equiv 17 \\mod m \\\\\n\\left(\\frac{(m-5)(m-4)}{2}\\right)^2&\\equiv 17 \\mod m \\\\\n\\left(\\dfrac{m(m-9)+20}2\\right)^2&\\equiv 17\\mod m \\\\\n\\left(m(m-9)+20\\right)^2&\\equiv 4\\cdot 17\\mod m \\\\\n\\left(20\\right)^2&\\equiv 68\\mod m \\\\\n332 &\\equiv 0 \\mod m \\\\\n\\end{align*}</cmath>\nSo, <math>m\\in\\{83,166,332\\}</math>. Testing the cases, only <math>332</math> fails. This leaves <math>78+161=\\boxed{239}</math>. \n\n<math>\\LaTeX</math> and formatting adjustments and intermediate steps for clarification by Technodoggo."
  },
  {
    "year": 2020,
    "variant": "II",
    "problem_number": 11,
    "latex": "Let <math>P(x) = x^2 - 3x - 7</math>, and let <math>Q(x)</math> and <math>R(x)</math> be two quadratic polynomials also with the coefficient of <math>x^2</math> equal to <math>1</math>. David computes each of the three sums <math>P + Q</math>, <math>P + R</math>, and <math>Q + R</math> and is surprised to find that each pair of these sums has a common root, and these three common roots are distinct. If <math>Q(0) = 2</math>, then <math>R(0) = \\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m + n</math>.",
    "solution": "Let <math>Q(x) = x^2 + ax + 2</math> and <math>R(x) = x^2 + bx + c</math>.  We can write the following:\n<cmath>P + Q = 2x^2 + (a - 3)x - 5</cmath>\n<cmath>P + R = 2x^2 + (b - 3)x + (c - 7)</cmath>\n<cmath>Q + R = 2x^2 + (a + b)x + (c + 2)</cmath>\nLet the common root of <math>P+Q,P+R</math> be <math>r</math>; <math>P+R,Q+R</math> be <math>s</math>; and <math>P+Q,Q+R</math> be <math>t</math>.  We then have that the roots of <math>P+Q</math> are <math>r,t</math>, the roots of <math>P + R</math> are <math>r, s</math>, and the roots of <math>Q + R</math> are <math>s,t</math>.\n\nBy Vieta's, we have:\n<cmath> r + t = \\dfrac{3 - a}{2}\\tag{1}</cmath>\n<cmath>r + s = \\dfrac{3 - b}{2}\\tag{2}</cmath>\n<cmath>s + t = \\dfrac{-a - b}{2}\\tag{3}</cmath>\n<cmath>rt = \\dfrac{-5}{2}\\tag{4}</cmath>\n<cmath>rs = \\dfrac{c - 7}{2}\\tag{5}</cmath>\n<cmath>st = \\dfrac{c + 2}{2}\\tag{6}</cmath>\n\nSubtracting <math>(3)</math> from <math>(1)</math>, we get <math>r - s = \\dfrac{3 + b}{2}</math>.  Adding this to <math>(2)</math>, we get <math>2r = 3 \\implies r = \\dfrac{3}{2}</math>.  This gives us that <math>t = \\dfrac{-5}{3}</math> from <math>(4)</math>.  Substituting these values into <math>(5)</math> and <math>(6)</math>, we get <math>s = \\dfrac{c-7}{3}</math> and <math>s = \\dfrac{-3c - 6}{10}</math>.  Equating these values, we get <math>\\dfrac{c-7}{3} = \\dfrac{-3c-6}{10} \\implies c = \\dfrac{52}{19} = R(0)</math>.  Thus, our answer is <math>52 + 19 = \\boxed{071}</math>. ~ TopNotchMath"
  },
  {
    "year": 2020,
    "variant": "II",
    "problem_number": 12,
    "latex": "Let <math>m</math> and <math>n</math> be odd integers greater than <math>1.</math> An <math>m\\times n</math> rectangle is made up of unit squares where the squares in the top row are numbered left to right with the integers <math>1</math> through <math>n</math>, those in the second row are numbered left to right with the integers <math>n + 1</math> through <math>2n</math>, and so on. Square <math>200</math> is in the top row, and square <math>2000</math> is in the bottom row. Find the number of ordered pairs <math>(m,n)</math> of odd integers greater than <math>1</math> with the property that, in the <math>m\\times n</math> rectangle, the line through the centers of squares <math>200</math> and <math>2000</math> intersects the interior of square <math>1099</math>.",
    "solution": "Let us take some cases. Since <math>m</math> and <math>n</math> are odds, and <math>200</math> is in the top row and <math>2000</math> in the bottom, <math>m</math> has to be <math>3</math>, <math>5</math>, <math>7</math>, or <math>9</math>. Also, taking a look at the diagram, the slope of the line connecting those centers has to have an absolute value of <math> < 1</math>. Therefore, <math>m < 1800 \\mod n < 1800-m</math>. \n\nIf <math>m=3</math>, <math>n</math> can range from <math>667</math> to <math>999</math>. However, <math>900</math> divides <math>1800</math>, so looking at mods, we can easily eliminate <math>899</math> and <math>901</math>. Now, counting these odd integers, we get <math>167 - 2 = 165</math>.\n\nSimilarly, let <math>m=5</math>. Then <math>n</math> can range from <math>401</math> to <math>499</math>. However, <math>450|1800</math>, so one can remove <math>449</math> and <math>451</math>. Counting odd integers, we get <math>50 - 2 = 48</math>.\n\nTake <math>m=7</math>. Then, <math>n</math> can range from <math>287</math> to <math>333</math>. However, <math>300|1800</math>, so one can verify and eliminate <math>299</math> and <math>301</math>. Counting odd integers, we get <math>24 - 2 = 22</math>.\n\nLet <math>m = 9</math>. Then <math>n</math> can vary from <math>223</math> to <math>249</math>. However, <math>225|1800</math>. Checking that value and the values around it, we can eliminate <math>225</math>. Counting odd integers, we get <math>14 - 1 = 13</math>.\n\nAdd all of our cases to get <cmath> 165+48+22+13 = \\boxed{248} </cmath>\n\n-Solution by thanosaops"
  },
  {
    "year": 2020,
    "variant": "II",
    "problem_number": 13,
    "latex": "Convex pentagon <math>ABCDE</math> has side lengths <math>AB=5</math>, <math>BC=CD=DE=6</math>, and <math>EA=7</math>. Moreover, the pentagon has an inscribed circle (a circle tangent to each side of the pentagon). Find the area of <math>ABCDE</math>.",
    "solution": "Assume the incircle touches <math>AB</math>, <math>BC</math>, <math>CD</math>, <math>DE</math>, <math>EA</math> at <math>P,Q,R,S,T</math> respectively. Then let <math>PB=x=BQ=RD=SD</math>, <math>ET=y=ES=CR=CQ</math>, <math>AP=AT=z</math>. So we have <math>x+y=6</math>, <math>x+z=5</math> and <math>y+z</math>=7, solve it we have <math>x=2</math>, <math>z=3</math>, <math>y=4</math>. Let the center of the incircle be <math>I</math>, by SAS we can proof triangle <math>BIQ</math> is congruent to triangle <math>DIS</math>, and triangle <math>CIR</math> is congruent to triangle <math>SIE</math>. Then we have <math>\\angle AED=\\angle BCD</math>, <math>\\angle ABC=\\angle CDE</math>. Extend <math>CD</math>, cross ray <math>AB</math> at <math>M</math>, ray <math>AE</math> at <math>N</math>, then by AAS we have triangle <math>END</math> is congruent to triangle <math>BMC</math>. Thus <math>\\angle M=\\angle N</math>. Let <math>EN=MC=a</math>, then <math>BM=DN=a+2</math>. So by law of cosine in triangle <math>END</math> and triangle <math>ANM</math> we can obtain <cmath>\\frac{2a+8}{2(a+7)}=\\cos N=\\frac{a^2+(a+2)^2-36}{2a(a+2)}</cmath>, solved it gives us <math>a=8</math>, which yield triangle <math>ANM</math> to be a triangle with side length 15, 15, 24, draw a height from <math>A</math> to <math>NM</math> divides it into two triangles with side lengths 9, 12, 15, so the area of triangle <math>ANM</math> is 108. Triangle <math>END</math> is a triangle with side lengths 6, 8, 10, so the area of two of them is 48, so the area of pentagon is <math>108-48=\\boxed{60}</math>.\n\n-Fanyuchen20020715"
  },
  {
    "year": 2020,
    "variant": "II",
    "problem_number": 14,
    "latex": "For a real number <math>x</math> let <math>\\lfloor x\\rfloor</math> be the greatest integer less than or equal to <math>x</math>, and define <math>\\{x\\} = x - \\lfloor x \\rfloor</math> to be the fractional part of <math>x</math>. For example, <math>\\{3\\} = 0</math> and <math>\\{4.56\\} = 0.56</math>. Define <math>f(x)=x\\{x\\}</math>, and let <math>N</math> be the number of real-valued solutions to the equation <math>f(f(f(x)))=17</math> for <math>0\\leq x\\leq 2020</math>. Find the remainder when <math>N</math> is divided by <math>1000</math>.",
    "solution": "Note that the upper bound for our sum is <math>2019,</math> and not <math>2020,</math> because if it were <math>2020</math> then the function composition cannot equal to <math>17.</math> From there, it's not too hard to see that, by observing the function composition from right to left, <math>N</math> is (note that the summation starts from the right to the left):\n<cmath>\n\\sum_{x=17}^{2019} \\sum_{y=x}^{2019} \\sum_{z=y}^{2019} 1\n.</cmath>\nOne can see an easy combinatorical argument exists which is the official solution, but I will present another solution here for the sake of variety.\n\nApplying algebraic manipulation and the hockey-stick identity <math>3</math> times gives\n\n<cmath>\n\\sum_{x=17}^{2019} \\sum_{y=x}^{2019} \\sum_{z=y}^{2019} 1\n</cmath>\n\n<cmath>\n=\\sum_{x=17}^{2019} \\sum_{y=x}^{2019} \\sum_{z=y}^{2019} \\binom{z-y}{0}\n</cmath>\n\n<cmath>\n=\\sum_{x=17}^{2019} \\sum_{y=x}^{2019} \\binom{2020-y}{1}\n</cmath>\n\n<cmath>\n=\\sum_{x=17}^{2019} \\binom{2021-x}{2}\n</cmath>\n\n<cmath>\n=\\binom{2005}{3}\n</cmath>\n\nHence, <cmath>N = \\frac{2005 \\cdot 2004 \\cdot 2003}{3 \\cdot 2\\cdot 1} \\equiv \\boxed{010} (\\mathrm{mod} \\hskip .2cm 1000)</cmath>"
  },
  {
    "year": 2020,
    "variant": "II",
    "problem_number": 15,
    "latex": "Let <math>\\triangle ABC</math> be an acute scalene triangle with circumcircle <math>\\omega</math>. The tangents to <math>\\omega</math> at <math>B</math> and <math>C</math> intersect at <math>T</math>. Let <math>X</math> and <math>Y</math> be the projections of <math>T</math> onto lines <math>AB</math> and <math>AC</math>, respectively. Suppose <math>BT = CT = 16</math>, <math>BC = 22</math>, and <math>TX^2 + TY^2 + XY^2 = 1143</math>. Find <math>XY^2</math>.",
    "solution": "Let <math>O</math> be the circumcenter of <math>\\triangle ABC</math>; say <math>OT</math> intersects <math>BC</math> at <math>M</math>; draw segments <math>XM</math>, and <math>YM</math>.  We have <math>MT=3\\sqrt{15}</math>. \n\n[[File:Fanyuchen.png|250px|right]]\n\nSince <math>\\angle A=\\angle CBT=\\angle BCT</math>, we have <math>\\cos A=\\tfrac{11}{16}</math>. Notice that <math>AXTY</math> is cyclic, so <math>\\angle XTY=180^{\\circ}-A</math>, so <math>\\cos XTY=-\\cos A</math>, and the cosine law in <math>\\triangle TXY</math> gives <cmath>1143-2XY^2=-\\frac{11}{8}\\cdot XT\\cdot YT.</cmath> \n\nSince <math>\\triangle BMT \\cong \\triangle CMT</math>, we have <math>TM\\perp BC</math>, and therefore quadrilaterals <math>BXTM</math> and <math>CYTM</math> are cyclic. Let <math>P</math> (resp. <math>Q</math>) be the midpoint of <math>BT</math> (resp. <math>CT</math>). So <math>P</math> (resp. <math>Q</math>) is the center of <math>(BXTM)</math> (resp. <math>CYTM</math>). Then <math>\\theta=\\angle ABC=\\angle MTX</math> and <math>\\phi=\\angle ACB=\\angle YTM</math>. So <math>\\angle XPM=2\\theta</math>, so<cmath>\\frac{\\frac{XM}{2}}{XP}=\\sin \\theta,</cmath>which yields <math>XM=2XP\\sin \\theta=BT(=CT)\\sin \\theta=TY</math>. Similarly we have <math>YM=XT</math>. \n\nPtolemy's theorem in <math>BXTM</math> gives <cmath>16TY=11TX+3\\sqrt{15}BX,</cmath> while Pythagoras' theorem gives <math>BX^2+XT^2=16^2</math>. Similarly, Ptolemy's theorem in <math>YTMC</math> gives<cmath>16TX=11TY+3\\sqrt{15}CY</cmath> while Pythagoras' theorem in <math>\\triangle CYT</math> gives <math>CY^2+YT^2=16^2</math>. Solve this for <math>XT</math> and <math>TY</math> and substitute into the equation about <math>\\cos XTY</math> to obtain the result <math>XY^2=\\boxed{717}</math>.\n\n(Notice that <math>MXTY</math> is a parallelogram, which is an important theorem in Olympiad, and there are some other ways of computation under this observation.)\n\n-Fanyuchen20020715"
  },
  {
    "year": 2021,
    "variant": "I",
    "problem_number": 1,
    "latex": "Zou and Chou are practicing their <math>100</math>-meter sprints by running <math>6</math> races against each other. Zou wins the first race, and after that, the probability that one of them wins a race is <math>\\frac23</math> if they won the previous race but only <math>\\frac13</math> if they lost the previous race. The probability that Zou will win exactly <math>5</math> of the <math>6</math> races is <math>\\frac mn</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n.</math>",
    "solution": "For the next five races, Zou wins four and loses one. Let <math>W</math> and <math>L</math> denote a win and a loss, respectively. There are five possible outcome sequences for Zou:\n<ol style=\"margin-left: 1.5em;\">\n  <li><math>LWWWW</math></li><p>\n  <li><math>WLWWW</math></li><p>\n  <li><math>WWLWW</math></li><p>\n  <li><math>WWWLW</math></li><p>\n  <li><math>WWWWL</math></li><p>\n</ol>\nWe proceed with casework:\n\n<b><u>Case (1): Sequences #1-4, in which Zou does not lose the last race.</u></b>\n\nThe probability that Zou loses a race is <math>\\frac13,</math> and the probability that Zou wins the next race is <math>\\frac13.</math> For each of the three other races, the probability that Zou wins is <math>\\frac23.</math>\n\nThere are four sequences in this case. The probability of one such sequence is <math>\\left(\\frac13\\right)^2\\left(\\frac23\\right)^3.</math>\n\n<b><u>Case (2): Sequence #5, in which Zou loses the last race.</u></b>\n\nThe probability that Zou loses a race is <math>\\frac13.</math> For each of the four other races, the probability that Zou wins is <math>\\frac23.</math>\n\nThere is one sequence in this case. The probability is <math>\\left(\\frac13\\right)^1\\left(\\frac23\\right)^4.</math>\n\n<b><u>Answer</u></b>\n\nThe requested probability is <cmath>4\\left(\\frac13\\right)^2\\left(\\frac23\\right)^3+\\left(\\frac13\\right)^1\\left(\\frac23\\right)^4=\\frac{32}{243}+\\frac{16}{243}=\\frac{48}{243}=\\frac{16}{81},</cmath> from which the answer is <math>16+81=\\boxed{097}.</math>\n\n~MRENTHUSIASM"
  },
  {
    "year": 2021,
    "variant": "I",
    "problem_number": 2,
    "latex": "In the diagram below, <math>ABCD</math> is a rectangle with side lengths <math>AB=3</math> and <math>BC=11</math>, and <math>AECF</math> is a rectangle with side lengths <math>AF=7</math> and <math>FC=9,</math> as shown. The area of the shaded region common to the interiors of both rectangles is <math>\\frac mn</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.\n<asy>\npair A, B, C, D, E, F;\nA=(0,3);\nB=(0,0);\nC=(11,0);\nD=(11,3);\nE=foot(C, A, (9/4,0));\nF=foot(A, C, (35/4,3));\ndraw(A--B--C--D--cycle);\ndraw(A--E--C--F--cycle);\nfilldraw(A--(9/4,0)--C--(35/4,3)--cycle,gray*0.5+0.5*lightgray);\ndot(A^^B^^C^^D^^E^^F);\nlabel(\"$A$\", A, W);\nlabel(\"$B$\", B, W);\nlabel(\"$C$\", C, (1,0));\nlabel(\"$D$\", D, (1,0));\nlabel(\"$F$\", F, N);\nlabel(\"$E$\", E, S);\n</asy>",
    "solution": "Let <math>G</math> be the intersection of <math>AD</math> and <math>FC</math>.\nFrom vertical angles, we know that <math>\\angle FGA= \\angle DGC</math>. Also, because we are given that <math>ABCD</math> and <math>AFCE</math> are rectangles, we know that <math>\\angle AFG= \\angle CDG=90 ^{\\circ}</math>.\nTherefore, by AA similarity, we know that <math>\\triangle AFG\\sim\\triangle CDG</math>.\n\nLet <math>AG=x</math>. Then, we have <math>DG=11-x</math>. By similar triangles, we know that <math>FG=\\frac{7}{3}(11-x)</math> and <math>CG=\\frac{3}{7}x</math>. We have <math>\\frac{7}{3}(11-x)+\\frac{3}{7}x=FC=9</math>.\n\nSolving for <math>x</math>, we have <math>x=\\frac{35}{4}</math>.\nThe area of the shaded region is just <math>3\\cdot \\frac{35}{4}=\\frac{105}{4}</math>.\n\nThus, the answer is <math>105+4=\\framebox{109}</math>. \n\n~yuanyuanC"
  },
  {
    "year": 2021,
    "variant": "I",
    "problem_number": 3,
    "latex": "Find the number of positive integers less than <math>1000</math> that can be expressed as the difference of two integral powers of <math>2.</math>",
    "solution": "We want to find the number of positive integers <math>n<1000</math> which can be written in the form <math>n = 2^a - 2^b</math> for some non-negative integers <math>a > b \\ge 0</math> (note that if <math>a=b</math>, then <math>2^a-2^b = 0</math>). We first observe <math>a</math> must be at most 10; if <math>a \\ge 11</math>, then <math>2^a - 2^b \\ge 2^{10} > 1000</math>. As <math>2^{10} = 1024 \\approx 1000</math>, we can first choose two different numbers <math>a > b</math> from the set <math>\\{0,1,2,\\ldots,10\\}</math> in <math>\\binom{11}{2}=55</math> ways. This includes <math>(a,b) = (10,0)</math>, <math>(10,1)</math>, <math>(10,2)</math>, <math>(10,3)</math>, <math>(10,4)</math> which are invalid as <math>2^a - 2^b > 1000</math> in this case. For all other choices <math>a</math> and <math>b</math>, the value of <math>2^a - 2^b</math> is less than 1000.\n\nWe claim that for all other choices of <math>a</math> and <math>b</math>, the values of <math>2^a - 2^b</math> are pairwise distinct. More specifically, if <math>(a_1,b_1) \\neq (a_2,b_2)</math> where <math>10 \\ge a_1 > b_1 \\ge 0</math> and <math>10 \\ge a_2 > b_2 \\ge 0</math>, we must show that <math>2^{a_1}-2^{b_1} \\neq 2^{a_2} - 2^{b_2}</math>. Suppose otherwise for sake of contradiction; rearranging yields <math>2^{a_1}+2^{b_2} = 2^{a_2}+2^{b_1}</math>. We use the fact that every positive integer has a unique binary representation:\n\nIf <math>a_1 \\neq b_2</math> then <math>\\{a_1,b_2\\} = \\{a_2,b_1\\}</math>; from here we can deduce either <math>a_1=a_2</math> and <math>b_1=b_2</math> (contradicting the assumption that <math>(a_1,b_1) \\neq (a_2,b_2)</math>, or <math>a_1=b_1</math> and <math>a_2=b_2</math> (contradicting the assumption <math>a_1>b_1</math> and <math>a_2>b_2</math>).\n\nIf <math>a_1 = b_2</math> then <math>2^{a_1}+2^{b_2} = 2 \\times 2^{a_1}</math>, and it follows that <math>a_1=a_2=b_1=b_2</math>, also contradicting the assumption <math>(a_1,b_1) \\neq (a_2,b_2)</math>. Hence we obtain contradiction.*\n\nThen there are <math>\\binom{11}{2}-5</math> choices for <math>(a,b)</math> for which <math>2^a - 2^b</math> is a positive integer less than 1000; by the above claim, each choice of <math>(a,b)</math> results in a different positive integer <math>n</math>. Then there are <math>55-5 = \\boxed{050}</math> integers which can be expressed as a difference of two powers of 2.\n\n\n*Note: The uniqueness of binary representation could be rather easily proven, but if you cannot convince yourself on the spot that this is the case, consider the following alternative proof. Let <math>(a_1,b_1) \\neq (a_2,b_2)</math> where <math>10 \\ge a_1 > b_1 \\ge 0</math> and <math>10 \\ge a_2 > b_2 \\ge 0</math> and <math>2^{a_1}-2^{b_1} = 2^{a_2} - 2^{b_2}</math>, for the sake of contradiction. Therefore <math>\\deg_{2}(2^{a_1}-2^{b_1})=\\deg_{2}(2^{a_2}-2^{b_2})</math>, or <math>b_1=b_2</math>. Plugging in, we see that <math>2^{a_1}=2^{a_2}</math>, or <math>a_1=a_2</math>, contradiction.\n\nNote by Ross Gao"
  },
  {
    "year": 2021,
    "variant": "I",
    "problem_number": 4,
    "latex": "Find the number of ways <math>66</math> identical coins can be separated into three nonempty piles so that there are fewer coins in the first pile than in the second pile and fewer coins in the second pile than in the third pile.",
    "solution": "Suppose we have <math>1</math> coin in the first pile. Then <math>(1, 2, 63), (1, 3, 62), \\ldots, (1, 32, 33)</math> all work for a total of <math>31</math> piles. Suppose we have <math>2</math> coins in the first pile, then <math>(2, 3, 61), (2, 4, 60), \\ldots, (2, 31, 33)</math> all work, for a total of <math>29</math>. Continuing this pattern until <math>21</math> coins in the first pile, we have the sum \n<cmath>\\begin{align*}\n31+29+28+26+25+\\cdots+4+2+1 &= (31+28+25+22+\\cdots+1)+(29+26+23+\\cdots+2) \\\\\n&= 176+155 \\\\\n&= \\boxed{331}.\n\\end{align*}</cmath>"
  },
  {
    "year": 2021,
    "variant": "I",
    "problem_number": 5,
    "latex": "Call a three-term strictly increasing arithmetic sequence of integers special if the sum of the squares of the three terms equals the product of the middle term and the square of the common difference. Find the sum of the third terms of all special sequences.",
    "solution": "Let the terms be <math>a-b</math>, <math>a</math>, and <math>a+b</math>. Then we want <math>(a-b)^2+a^2+(a+b)^2=ab^2</math>, or <math>3a^2+2b^2=ab^2</math>. Rearranging, we get <math>b^2=\\frac{3a^2}{a-2}</math>. Simplifying further, <math>b^2=3a+6+\\frac{12}{a-2}</math>. Looking at this second equation, since the right side must be an integer, <math>a-2</math> must equal <math>\\pm1, 2, 3, 4, 6, 12</math>. Looking at the first equation, we see <math>a>2</math> since <math>b^2</math> is positive. This means we must test <math>a=3, 4, 5, 6, 8, 14</math>. After testing these, we see that only <math>a=5</math> and <math>a=14</math> work which give <math>b=5</math> and <math>b=7</math> respectively. Thus the answer is <math>10+21=\\boxed{031}</math>.\n~JHawk0224\n\nNote: You could also use synthetic division to get <math>b^2=\\frac{3a^2}{a-2}</math>."
  },
  {
    "year": 2021,
    "variant": "I",
    "problem_number": 6,
    "latex": "Segments <math>\\overline{AB}, \\overline{AC},</math> and <math>\\overline{AD}</math> are edges of a cube and <math>\\overline{AG}</math> is a diagonal through the center of the cube. Point <math>P</math> satisfies <math>BP=60\\sqrt{10}</math>, <math>CP=60\\sqrt{5}</math>, <math>DP=120\\sqrt{2}</math>, and <math>GP=36\\sqrt{7}</math>. Find <math>AP.</math>",
    "solution": "First scale down the whole cube by <math>12</math>. Let point <math>P</math> have coordinates <math>(x, y, z)</math>, point <math>A</math> have coordinates <math>(0, 0, 0)</math>, and <math>s</math> be the side length. Then we have the equations\n<cmath>\\begin{align*}\n(s-x)^2+y^2+z^2&=\\left(5\\sqrt{10}\\right)^2, \\\\\nx^2+(s-y)^2+z^2&=\\left(5\\sqrt{5}\\right)^2, \\\\\nx^2+y^2+(s-z)^2&=\\left(10\\sqrt{2}\\right)^2, \\\\\n(s-x)^2+(s-y)^2+(s-z)^2&=\\left(3\\sqrt{7}\\right)^2.\n\\end{align*}</cmath>\nThese simplify into\n<cmath>\\begin{align*}\ns^2+x^2+y^2+z^2-2sx&=250, \\\\\ns^2+x^2+y^2+z^2-2sy&=125, \\\\\ns^2+x^2+y^2+z^2-2sz&=200, \\\\\n3s^2-2s(x+y+z)+x^2+y^2+z^2&=63.\n\\end{align*}</cmath>\nAdding the first three equations together, we get <math>3s^2-2s(x+y+z)+3(x^2+y^2+z^2)=575</math>.\nSubtracting this from the fourth equation, we get <math>2(x^2+y^2+z^2)=512</math>, so <math>x^2+y^2+z^2=256</math>. This means <math>PA=16</math>. However, we scaled down everything by <math>12</math> so our answer is <math>16*12=\\boxed{192}</math>.\n\n~JHawk0224"
  },
  {
    "year": 2021,
    "variant": "I",
    "problem_number": 7,
    "latex": "Find the number of pairs <math>(m,n)</math> of positive integers with <math>1\\le m<n\\le 30</math> such that there exists a real number <math>x</math> satisfying <cmath>\\sin(mx)+\\sin(nx)=2.</cmath>",
    "solution": "It is trivial that the maximum value of <math>\\sin \\theta</math> is <math>1</math>, is achieved at <math>\\theta = \\frac{\\pi}{2}+2k\\pi</math> for some integer <math>k</math>.\n\nThis implies that <math>\\sin(mx) = \\sin(nx) = 1</math>, and that <math>mx = \\frac{\\pi}{2}+2a\\pi</math> and <math>nx = \\frac{\\pi}{2}+2b\\pi</math>, for integers <math>a, b</math>.\n\nTaking their ratio, we have <cmath>\\frac{mx}{nx} = \\frac{\\frac{\\pi}{2}+2a\\pi}{\\frac{\\pi}{2}+2b\\pi} \\implies \\frac{m}{n} = \\frac{4a + 1}{4b + 1} \\implies \\frac{m}{4a + 1} = \\frac{n}{4b + 1} = k.</cmath>\nIt remains to find all <math>m, n</math> that satisfy this equation.\n\nIf <math>k = 1</math>, then <math>m \\equiv n \\equiv 1 \\pmod 4</math>. This corresponds to choosing two elements from the set <math>\\{1, 5, 9, 13, 17, 21, 25, 29\\}</math>. There are <math>\\binom 82</math> ways to do so.\n\nIf <math>k < 1</math>, by multiplying <math>m</math> and <math>n</math> by the same constant <math>c = \\frac{1}{k}</math>, we have that <math>mc \\equiv nc \\equiv 1 \\pmod 4</math>. Then either <math>m \\equiv n \\equiv 1 \\pmod 4</math>, or <math>m \\equiv n \\equiv 3 \\pmod 4</math>. But the first case was already counted, so we don't need to consider that case. The other case corresponds to choosing two numbers from the set <math>\\{3, 7, 11, 15, 19, 23, 27\\}</math>. There are <math>\\binom 72</math> ways here. (This argument seems to have a logical flaw *check note at bottom*)\n\nFinally, if <math>k > 1</math>, note that <math>k</math> must be an integer. This means that <math>m, n</math> belong to the set <math>\\{k, 5k, 9k, \\dots\\}</math>, or <math>\\{3k, 7k, 11k, \\dots\\}</math>. Taking casework on <math>k</math>, we get the sets <math>\\{2, 10, 18, 26\\}, \\{6, 14, 22, 30\\}, \\{4, 20\\}, \\{12, 28\\}</math>. Some sets have been omitted; this is because they were counted in the other cases already. This sums to <math>\\binom 42 + \\binom 42 + \\binom 22 + \\binom 22</math>.\n\nIn total, there are <math>\\binom 82 + \\binom 72 + \\binom 42 + \\binom 42 + \\binom 22 + \\binom 22 = \\boxed{063}</math> pairs of <math>(m, n)</math>.\n\nThis solution was brought to you by ~Leonard_my_dude~"
  },
  {
    "year": 2021,
    "variant": "I",
    "problem_number": 8,
    "latex": "Find the number of integers <math>c</math> such that the equation <cmath>\\left||20|x|-x^2|-c\\right|=21</cmath>has <math>12</math> distinct real solutions.",
    "solution": "We take cases for the outermost absolute value, then rearrange: <cmath>\\left|20|x|-x^2\\right|=c\\pm21.</cmath>\nLet <math>f(x)=\\left|20|x|-x^2\\right|.</math> We rewrite <math>f(x)</math> as a piecewise function without using absolute values:\n<cmath>f(x) = \\begin{cases}\n\\left|-20x-x^2\\right| & \\mathrm{if} \\ x \\le 0 \n\\begin{cases}\n20x+x^2 & \\mathrm{if} \\ x\\le-20 \\\\\n-20x-x^2 & \\mathrm{if} \\ -20<x\\leq0\n\\end{cases} \\\\\n\\left|20x-x^2\\right| & \\mathrm{if} \\ x > 0\n\\begin{cases}\n20x-x^2 & \\mathrm{if} \\ 0<x\\leq20 \\\\\n-20x+x^2 & \\mathrm{if} \\ x>20\n\\end{cases}\n\\end{cases}.</cmath>\nWe graph <math>y=f(x)</math> with all extremum points labeled, as shown below. The fact that <math>f(x)</math> is an even function (<math>f(x)=f(-x)</math> holds for all real numbers <math>x,</math> so the graph of <math>y=f(x)</math> is symmetric about the <math>y</math>-axis) should facilitate the process of graphing.\n<asy>\n/* Made by MRENTHUSIASM */\nsize(1200,300); \n\nreal xMin = -65;\nreal xMax = 65;\nreal yMin = -50;\nreal yMax = 125;\n\ndraw((xMin,0)--(xMax,0),black+linewidth(1.5),EndArrow(5));\ndraw((0,yMin)--(0,yMax),black+linewidth(1.5),EndArrow(5));\nlabel(\"$x$\",(xMax,0),(2,0));\nlabel(\"$y$\",(0,yMax),(0,2));\n\nreal f(real x) { return abs(20*abs(x)-x^2); }\nreal g(real x) { return 21; }\nreal h(real x) { return -21; }\ndraw(graph(f,-25,25),red,\"$y=\\left|20|x|-x^2\\right|$\");\ndraw(graph(g,-65,65),blue,\"$y=\\pm21$\");\ndraw(graph(h,-65,65),blue);\n\npair A[];\nA[0] = (-20,0);\nA[1] = (-10,100);\nA[2] = (0,0);\nA[3] = (10,100);\nA[4] = (20,0);\n\nfor(int i = 0; i <= 4; ++i) {\ndot(A[i],red+linewidth(4.5)); \n}\n\nlabel(\"$(-20,0)$\",A[0],(-1.5,-1.5),red,UnFill);\nlabel(\"$(-10,100)$\",A[1],(-1.5,1.5),red);\nlabel(\"$(0,0)$\",A[2],(0,-1.5),red,UnFill);\nlabel(\"$(10,100)$\",A[3],(1.5,1.5),red);\nlabel(\"$(20,0)$\",A[4],(1.5,-1.5),red,UnFill);\n\nadd(legend(),point(E),40E,UnFill);\n</asy>\nSince <math>f(x)=c\\pm21</math> has <math>12</math> distinct real solutions, it is clear that each case has <math>6</math> distinct real solutions geometrically. We shift the graphs of <math>y=\\pm21</math> up <math>c</math> units, where <math>c\\geq0:</math>\n\n* For <math>f(x)=c+21</math> to have <math>6</math> distinct real solutions, we need <math>0\\leq c<79.</math>\n\n* For <math>f(x)=c-21</math> to have <math>6</math> distinct real solutions, we need <math>21<c<121.</math>\n\nTaking the intersection of these two cases gives <math>21<c<79,</math> from which there are <math>79-21-1=\\boxed{057}</math> such integers <math>c.</math>\n\n~MRENTHUSIASM"
  },
  {
    "year": 2021,
    "variant": "I",
    "problem_number": 9,
    "latex": "Let <math>ABCD</math> be an isosceles trapezoid with <math>AD=BC</math> and <math>AB<CD.</math> Suppose that the distances from <math>A</math> to the lines <math>BC,CD,</math> and <math>BD</math> are <math>15,18,</math> and <math>10,</math> respectively. Let <math>K</math> be the area of <math>ABCD.</math> Find <math>\\sqrt2 \\cdot K.</math>",
    "solution": "==Diagram==\n<asy>\n/* Made by MRENTHUSIASM */\nsize(250);\npair A, B, C, D, E, F, G, H;\nA = (-45sqrt(2)/8,18);\nB = (45sqrt(2)/8,18);\nC = (81sqrt(2)/8,0);\nD = (-81sqrt(2)/8,0);\nE = foot(A,C,B);\nF = foot(A,C,D);\nG = foot(A,B,D);\nH = intersectionpoint(A--F,B--D);\nmarkscalefactor=0.1;\ndraw(rightanglemark(A,E,B),red);\ndraw(rightanglemark(A,F,C),red);\ndraw(rightanglemark(A,G,D),red);\ndot(\"$A$\",A,1.5*NW,linewidth(4));\ndot(\"$B$\",B,1.5*NE,linewidth(4));\ndot(\"$C$\",C,1.5*SE,linewidth(4));\ndot(\"$D$\",D,1.5*SW,linewidth(4));\ndot(E,linewidth(4));\ndot(F,linewidth(4));\ndot(G,linewidth(4));\ndraw(A--B--C--D--cycle^^B--D^^B--E);\ndraw(A--E^^A--F^^A--G,dashed);\nlabel(\"$10$\",midpoint(A--G),1.5*(1,0));\nlabel(\"$15$\",midpoint(A--E),1.5*N);\nLabel L = Label(\"$18$\", align=(0,0), position=MidPoint, filltype=Fill(0,3,white));\ndraw(C+(5,0)--(81sqrt(2)/8,18)+(5,0), L=L, arrow=Arrows(),bar=Bars(15));\n</asy>\n~MRENTHUSIASM"
  },
  {
    "year": 2021,
    "variant": "I",
    "problem_number": 10,
    "latex": "Consider the sequence <math>(a_k)_{k\\ge 1}</math> of positive rational numbers defined by <math>a_1 = \\frac{2020}{2021}</math> and for <math>k\\ge 1</math>, if <math>a_k = \\frac{m}{n}</math> for relatively prime positive integers <math>m</math> and <math>n</math>, then\n\n<cmath>a_{k+1} = \\frac{m + 18}{n+19}.</cmath>Determine the sum of all positive integers <math>j</math> such that the rational number <math>a_j</math> can be written in the form <math>\\frac{t}{t+1}</math> for some positive integer <math>t</math>.",
    "solution": "We know that <math>a_{1}=\\tfrac{t}{t+1}</math> when <math>t=2020</math> so <math>1</math> is a possible value of <math>j</math>. Note also that <math>a_{2}=\\tfrac{2038}{2040}=\\tfrac{1019}{1020}=\\tfrac{t}{t+1}</math> for <math>t=1019</math>. Then <math>a_{2+q}=\\tfrac{1019+18q}{1020+19q}</math> unless <math>1019+18q</math> and <math>1020+19q</math> are not relatively prime which happens when <math>q+1</math> divides <math>18q+1019</math> (by the Euclidean Algorithm), or <math>q+1</math> divides <math>1001</math>. Thus, the least value of <math>q</math> is <math>6</math> and <math>j=2+6=8</math>. We know <math>a_{8}=\\tfrac{1019+108}{1020+114}=\\tfrac{1127}{1134}=\\tfrac{161}{162}</math>. Now <math>a_{8+q}=\\tfrac{161+18q}{162+19q}</math> unless <math>18q+161</math> and <math>19q+162</math> are not relatively prime which happens the first time <math>q+1</math> divides <math>18q+161</math> or <math>q+1</math> divides <math>143</math> or <math>q=10</math>, and <math>j=8+10=18</math>. We have <math>a_{18}=\\tfrac{161+180}{162+190}=\\tfrac{341}{352}=\\tfrac{31}{32}</math>. Now <math>a_{18+q}=\\tfrac{31+18q}{32+19q}</math> unless <math>18q+31</math> and <math>19q+32</math> are not relatively prime. This happens the first time <math>q+1</math> divides <math>18q+31</math> implying <math>q+1</math> divides <math>13</math>, which is prime so <math>q=12</math> and <math>j=18+12=30</math>. We have <math>a_{30}=\\tfrac{31+216}{32+228}=\\tfrac{247}{260}=\\tfrac{19}{20}</math>. We have <math>a_{30+q}=\\tfrac{18q+19}{19q+20}</math>, which is always reduced by EA, so the sum of all <math>j</math> is <math>1+2+8+18+30=\\boxed{059}</math>.\n\n~sugar_rush\n\n<b><u>Remark</u></b>\n\nWhenever a fraction is in the form <math>\\frac{t}{t+1}</math> in lowest terms, the difference between the numerator and the denominator in the original fraction will always divide the numerator. We can model <math>a_j</math> as <math>\\frac{m+18k}{m+19k+1}</math> (not necessarily simplified) if <math>a_{j-k}=\\frac{m}{m+1}</math> for integers <math>j</math> and <math>k</math>. We want the least <math>k</math> such that <math>\\gcd(k+1,{m+18k})\\neq1</math>. Let <math>d</math> be a divisor of both <math>k+1</math> and <math>m+18k</math>, then <math>d\\mid18k+18</math>, so <math>d\\mid{m-18}</math>. This follows from the Euclidean Algorithm.\n\n~[https://artofproblemsolving.com/wiki/index.php/User:Magnetoninja Magnetoninja]"
  },
  {
    "year": 2021,
    "variant": "I",
    "problem_number": 11,
    "latex": "Let <math>ABCD</math> be a cyclic quadrilateral with <math>AB=4,BC=5,CD=6,</math> and <math>DA=7.</math> Let <math>A_1</math> and <math>C_1</math> be the feet of the perpendiculars from <math>A</math> and <math>C,</math> respectively, to line <math>BD,</math> and let <math>B_1</math> and <math>D_1</math> be the feet of the perpendiculars from <math>B</math> and <math>D,</math> respectively, to line <math>AC.</math> The perimeter of <math>A_1B_1C_1D_1</math> is <math>\\frac mn,</math> where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n.</math>",
    "solution": "==Diagram==\n<asy>\n/* Made by MRENTHUSIASM */\nsize(300);\n\npair A, B, C, D, A1, B1, C1, D1;\nA = origin;\nC = (sqrt(53041)/31,0);\nB = intersectionpoints(Circle(A,4),Circle(C,5))[0];\nD = intersectionpoints(Circle(A,7),Circle(C,6))[1];\nA1 = foot(A,B,D);\nC1 = foot(C,B,D);\nB1 = foot(B,A,C);\nD1 = foot(D,A,C);\nmarkscalefactor=0.025;\ndraw(rightanglemark(A,A1,B),red);\ndraw(rightanglemark(B,B1,A),red);\ndraw(rightanglemark(C,C1,D),red);\ndraw(rightanglemark(D,D1,C),red);\ndraw(A1--B1--C1--D1--cycle,green);\ndot(\"$A$\",A,1.5*W,linewidth(4));\ndot(\"$B$\",B,1.5*dir(180-aCos(11/59)),linewidth(4));\ndot(\"$C$\",C,1.5*E,linewidth(4));\ndot(\"$D$\",D,1.5*dir(-aCos(11/59)),linewidth(4));\ndot(\"$A_1$\",A1,1.5*dir(A1-A),linewidth(4));\ndot(\"$B_1$\",B1,1.5*S,linewidth(4));\ndot(\"$C_1$\",C1,1.5*dir(C1-C),linewidth(4));\ndot(\"$D_1$\",D1,1.5*N,linewidth(4));\ndraw(A--B--C--D--cycle^^A--C^^B--D^^circumcircle(A,B,C));\ndraw(A--A1^^B--B1^^C--C1^^D--D1,dashed);\n</asy>\n~MRENTHUSIASM"
  },
  {
    "year": 2021,
    "variant": "I",
    "problem_number": 12,
    "latex": "Let <math>A_1A_2A_3\\ldots A_{12}</math> be a dodecagon (<math>12</math>-gon). Three frogs initially sit at <math>A_4,A_8,</math> and <math>A_{12}</math>. At the end of each minute, simultaneously, each of the three frogs jumps to one of the two vertices adjacent to its current position, chosen randomly and independently with both choices being equally likely. All three frogs stop jumping as soon as two frogs arrive at the same vertex at the same time. The expected number of minutes until the frogs stop jumping is <math>\\frac mn</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "Define the <b>distance</b> between two frogs as the number of sides between them that do not contain the third frog.\n\nLet <math>E(a,b,c)</math> denote the expected number of minutes until the frogs stop jumping, such that the distances between the frogs are <math>a,b,</math> and <math>c</math> (in either clockwise or counterclockwise order). Without the loss of generality, assume that <math>a\\leq b\\leq c.</math>\n\nWe wish to find <math>E(4,4,4).</math> Note that:\n<ol style=\"margin-left: 1.5em;\">\n  <li>At any moment before the frogs stop jumping, the only possibilities for <math>(a,b,c)</math> are <math>(4,4,4),(2,4,6),</math> and <math>(2,2,8).</math></li><p>\n  <li><math>E(a,b,c)</math> does not depend on the actual positions of the frogs, but depends on the distances between the frogs.</li><p>\n  <li>At the end of each minute, each frog has <math>2</math> outcomes. So, there are <math>2^3=8</math> outcomes in total.</li><p>\n</ol>\nWe have the following system of equations:\n<cmath>\\begin{align*}\nE(4,4,4)&=1+\\frac{2}{8}E(4,4,4)+\\frac{6}{8}E(2,4,6), \\\\\nE(2,4,6)&=1+\\frac{4}{8}E(2,4,6)+\\frac{1}{8}E(4,4,4)+\\frac{1}{8}E(2,2,8), \\\\\nE(2,2,8)&=1+\\frac{2}{8}E(2,2,8)+\\frac{2}{8}E(2,4,6).\n\\end{align*}</cmath>\nRearranging and simplifying each equation, we get\n<cmath>\\begin{align*}\nE(4,4,4)&=\\frac{4}{3}+E(2,4,6), &(1) \\\\\nE(2,4,6)&=2+\\frac{1}{4}E(4,4,4)+\\frac{1}{4}E(2,2,8), &\\hspace{12.75mm}(2) \\\\\nE(2,2,8)&=\\frac{4}{3}+\\frac{1}{3}E(2,4,6). &(3)\n\\end{align*}</cmath>\nSubstituting <math>(1)</math> and <math>(3)</math> into <math>(2),</math> we obtain <cmath>E(2,4,6)=2+\\frac{1}{4}\\left[\\frac{4}{3}+E(2,4,6)\\right]+\\frac{1}{4}\\left[\\frac{4}{3}+\\frac{1}{3}E(2,4,6)\\right],</cmath> from which <math>E(2,4,6)=4.</math> Substituting this into <math>(1)</math> gives <math>E(4,4,4)=\\frac{16}{3}.</math>\n\nTherefore, the answer is <math>16+3=\\boxed{019}.</math>\n\n~Ross Gao ~MRENTHUSIASM"
  },
  {
    "year": 2021,
    "variant": "I",
    "problem_number": 13,
    "latex": "Circles <math>\\omega_1</math> and <math>\\omega_2</math> with radii <math>961</math> and <math>625</math>, respectively, intersect at distinct points <math>A</math> and <math>B</math>. A third circle <math>\\omega</math> is externally tangent to both <math>\\omega_1</math> and <math>\\omega_2</math>. Suppose line <math>AB</math> intersects <math>\\omega</math> at two points <math>P</math> and <math>Q</math> such that the measure of minor arc <math>\\widehat{PQ}</math> is <math>120^{\\circ}</math>. Find the distance between the centers of <math>\\omega_1</math> and <math>\\omega_2</math>.",
    "solution": "==Quick, Olympiad-Style Solution==\n\nLet <math>D\\equiv\\omega\\cap\\omega_{1}</math> and <math>E\\equiv\\omega\\cap\\omega_{2}</math>. The solution relies on the following key claim:\n\n<font color=red><b>Claim.</b></font color> <math>DPEQ</math> is a harmonic quadrilateral.\n\n<font color=blue><b>Proof.</b></font color> Using the radical axis theorem, the tangents to circle <math>\\omega</math> at <math>D</math> and <math>E</math> are concurrent with line <math>\\overline{ABPQ}</math> at the radical center, implying that our claim is true by harmonic quadrilateral properties. <math>\\blacksquare</math>\n\nThus, we deduce the tangents to <math>\\omega</math> at <math>P</math> and <math>Q</math> are concurrent at <math>F</math> with line <math>\\overline{DE}</math>. Denote by <math>O_{1}, O_{2}, O</math> the centers of <math>\\omega_{1}, \\omega_{2}, \\omega</math> respectively.\n\nNow suppose <math>G\\equiv\\overline{FDE}\\cap\\overline{O_{1}O_{2}}</math>. Note that <math>\\overline{OF}\\parallel\\overline{O_{1}O_{2}}</math> giving us the pairs of similar triangles <cmath>\\triangle O_{1}GD\\sim\\triangle OFD~\\text{and}~\\triangle O_{2}GE\\sim\\triangle OFE.</cmath> We thereby obtain <cmath>\\dfrac{O_{1}G}{O_{1}D}=\\dfrac{OF}{OD}=\\dfrac{r\\sec\\tfrac{120^{\\circ}}{2}}{r}=\\sec 60^{\\circ}=2</cmath> since <math>\\widehat{PQ}=120^{\\circ}</math>, where <math>r</math> denotes the radius of <math>\\omega</math>, and <cmath>\\dfrac{O_{2}G}{O_{2}E}=\\dfrac{OF}{OE}=\\sec 60^{\\circ}=2</cmath> as well. It follows that <cmath>O_{1}O_{2}=O_{1}G-O_{2}G=2(O_{1}D-O_{2}E)=2(961-625)=\\textbf{672}.</cmath>\n\n[[File:AIME 2021-I13 Geogebra Diagram.png|672px]]"
  },
  {
    "year": 2021,
    "variant": "I",
    "problem_number": 14,
    "latex": "For any positive integer <math>a, \\sigma(a)</math> denotes the sum of the positive integer divisors of <math>a</math>. Let <math>n</math> be the least positive integer such that <math>\\sigma(a^n)-1</math> is divisible by <math>2021</math> for all positive integers <math>a</math>. Find the sum of the prime factors in the prime factorization of <math>n</math>.",
    "solution": "We first claim that <math>n</math> must be divisible by <math>42</math>. Since <math>\\sigma(a^n)-1</math> is divisible by <math>2021</math> for all positive integers <math>a</math>, we can first consider the special case where <math>a</math> is prime and <math>a \\neq 0,1 \\pmod{43}</math>. By Dirichlet's Theorem (Refer to the <b>Remark</b> section.), such <math>a</math> always exists.\n\nThen <math>\\sigma(a^n)-1 = \\sum_{i=1}^n a^i = a\\left(\\frac{a^n - 1}{a-1}\\right)</math>. In order for this expression to be divisible by <math>2021=43\\cdot 47</math>, a necessary condition is <math>a^n - 1 \\equiv 0 \\pmod{43}</math>. By [[Fermat's Little Theorem]], <math>a^{42} \\equiv 1 \\pmod{43}</math>. Moreover, if <math>a</math> is a primitive root modulo <math>43</math>, then <math>\\text{ord}_{43}(a) = 42</math>, so <math>n</math> must be divisible by <math>42</math>.\n\nBy similar reasoning, <math>n</math> must be divisible by <math>46</math>, by considering <math>a \\not\\equiv 0,1 \\pmod{47}</math>.\n\nWe next claim that <math>n</math> must be divisible by <math>43</math>. By Dirichlet, let <math>a</math> be a prime that is congruent to <math>1 \\pmod{43}</math>. Then <math>\\sigma(a^n) \\equiv n+1 \\pmod{43}</math>, so since <math>\\sigma(a^n)-1</math> is divisible by <math>43</math>, <math>n</math> is a multiple of <math>43</math>.\n\nAlternatively, since <math>\\left(\\frac{a(a^n - 1^n)}{a-1}\\right)</math> must be divisible by <math>43,</math> by LTE, we have <math>v_{43}(a)+v_{43}{(a-1)}+v_{43}{(n)}-v_{43}{(a-1)} \\geq 1,</math> which simplifies to <math>v_{43}(n) \\geq 1,</math> which implies the desired result.\n\nSimilarly, <math>n</math> is a multiple of <math>47</math>.\n\nLastly, we claim that if <math>n = \\text{lcm}(42, 46, 43, 47)</math>, then <math>\\sigma(a^n) - 1</math> is divisible by <math>2021</math> for all positive integers <math>a</math>. The claim is trivially true for <math>a=1</math> so suppose <math>a>1</math>. Let <math>a = p_1^{e_1}\\ldots p_k^{e_k}</math> be the prime factorization of <math>a</math>. Since <math>\\sigma(n)</math> is [[multiplicative function|multiplicative]], we have\n<cmath>\\sigma(a^n) - 1 = \\prod_{i=1}^k \\sigma(p_i^{e_in}) - 1.</cmath>\nWe can show that <math>\\sigma(p_i^{e_in}) \\equiv 1 \\pmod{2021}</math> for all primes <math>p_i</math> and integers <math>e_i \\ge 1</math>, so\n<cmath>\\sigma(p_i^{e_in}) = 1 + (p_i + p_i^2 + \\ldots + p_i^n) + (p_i^{n+1} + \\ldots + p_i^{2n}) + \\ldots + (p_i^{n(e_i-1)+1} + \\ldots + p_i^{e_in}),</cmath>\nwhere each expression in parentheses contains <math>n</math> terms. It is easy to verify that if <math>p_i = 43</math> or <math>p_i = 47</math> then <math>\\sigma(p_i^{e_in}) \\equiv 1 \\pmod{2021}</math> for this choice of <math>n</math>, so suppose <math>p_i \\not\\equiv 0 \\pmod{43}</math> and <math>p_i \\not\\equiv 0 \\pmod{47}</math>. Each expression in parentheses equals <math>\\frac{p_i^n - 1}{p_i - 1}</math> multiplied by some power of <math>p_i</math>. If <math>p_i \\not\\equiv 1 \\pmod{43}</math>, then FLT implies <math>p_i^n - 1 \\equiv 0 \\pmod{43}</math>, and if <math>p_i \\equiv 1 \\pmod{43}</math>, then <math>p_i + p_i^2 + \\ldots + p_i^n \\equiv 1 + 1 + \\ldots + 1 \\equiv 0 \\pmod{43}</math> (since <math>n</math> is also a multiple of <math>43</math>, by definition). Similarly, we can show <math>\\sigma(p_i^{e_in}) \\equiv 1 \\pmod{47}</math>, and a simple [[Chinese Remainder Theorem|CRT]] argument shows <math>\\sigma(p_i^{e_in}) \\equiv 1 \\pmod{2021}</math>. Then <math>\\sigma(a^n) \\equiv 1^k \\equiv 1 \\pmod{2021}</math>.\n\nThen the prime factors of <math>n</math> are <math>2,3,7,23,43,</math> and <math>47,</math> and the answer is <math>2+3+7+23+43+47 = \\boxed{125}</math>.\n\n~scrabbler94, Revised by wzs26843545602"
  },
  {
    "year": 2021,
    "variant": "I",
    "problem_number": 15,
    "latex": "Let <math>S</math> be the set of positive integers <math>k</math> such that the two parabolas<cmath>y=x^2-k~~\\text{and}~~x=2(y-20)^2-k</cmath>intersect in four distinct points, and these four points lie on a circle with radius at most <math>21</math>. Find the sum of the least element of <math>S</math> and the greatest element of <math>S</math>.",
    "solution": "==Diagram==\nGraph in Desmos: https://www.desmos.com/calculator/37hsgxbygj\n\n~MRENTHUSIASM"
  },
  {
    "year": 2021,
    "variant": "II",
    "problem_number": 1,
    "latex": "Find the arithmetic mean of all the three-digit palindromes. (Recall that a palindrome is a number that reads the same forward and backward, such as <math>777</math> or <math>383</math>.)",
    "solution": "Recall that the arithmetic mean of all the <math>n</math> digit palindromes is just the average of the largest and smallest <math>n</math> digit palindromes, and in this case the <math>2</math> palindromes are <math>101</math> and <math>999</math> and <math>\\frac{101+999}{2}=\\boxed{550},</math> which is the final answer.\n\n~ math31415926535"
  },
  {
    "year": 2021,
    "variant": "II",
    "problem_number": 2,
    "latex": "Equilateral triangle <math>ABC</math> has side length <math>840</math>. Point <math>D</math> lies on the same side of line <math>BC</math> as <math>A</math> such that <math>\\overline{BD} \\perp \\overline{BC}</math>. The line <math>\\ell</math> through <math>D</math> parallel to line <math>BC</math> intersects sides <math>\\overline{AB}</math> and <math>\\overline{AC}</math> at points <math>E</math> and <math>F</math>, respectively. Point <math>G</math> lies on <math>\\ell</math> such that <math>F</math> is between <math>E</math> and <math>G</math>, <math>\\triangle AFG</math> is isosceles, and the ratio of the area of <math>\\triangle AFG</math> to the area of <math>\\triangle BED</math> is <math>8:9</math>. Find <math>AF</math>.\n<asy>\npair A,B,C,D,E,F,G;\nB=origin;\nA=5*dir(60);\nC=(5,0);\nE=0.6*A+0.4*B;\nF=0.6*A+0.4*C;\nG=rotate(240,F)*A;\nD=extension(E,F,B,dir(90));\ndraw(D--G--A,grey);\ndraw(B--0.5*A+rotate(60,B)*A*0.5,grey);\ndraw(A--B--C--cycle,linewidth(1.5));\ndot(A^^B^^C^^D^^E^^F^^G);\nlabel(\"$A$\",A,dir(90));\nlabel(\"$B$\",B,dir(225));\nlabel(\"$C$\",C,dir(-45));\nlabel(\"$D$\",D,dir(180));\nlabel(\"$E$\",E,dir(-45));\nlabel(\"$F$\",F,dir(225));\nlabel(\"$G$\",G,dir(0));\nlabel(\"$\\ell$\",midpoint(E--F),dir(90));\n</asy>",
    "solution": "By angle chasing, we conclude that <math>\\triangle AGF</math> is a <math>30^\\circ\\text{-}30^\\circ\\text{-}120^\\circ</math> triangle, and <math>\\triangle BED</math> is a <math>30^\\circ\\text{-}60^\\circ\\text{-}90^\\circ</math> triangle.\n\nLet <math>AF=x.</math> It follows that <math>FG=x</math> and <math>EB=FC=840-x.</math> By the side-length ratios in <math>\\triangle BED,</math> we have <math>DE=\\frac{840-x}{2}</math> and <math>DB=\\frac{840-x}{2}\\cdot\\sqrt3.</math>\n\nLet the brackets denote areas. We have <cmath>[AFG]=\\frac12\\cdot AF\\cdot FG\\cdot\\sin{\\angle AFG}=\\frac12\\cdot x\\cdot x\\cdot\\sin{120^\\circ}=\\frac12\\cdot x^2\\cdot\\frac{\\sqrt3}{2}</cmath> and <cmath>[BED]=\\frac12\\cdot DE\\cdot DB=\\frac12\\cdot\\frac{840-x}{2}\\cdot\\left(\\frac{840-x}{2}\\cdot\\sqrt3\\right).</cmath>\n\nWe set up and solve an equation for <math>x:</math>\n<cmath>\\begin{align*}\n\\frac{[AFG]}{[BED]}&=\\frac89 \\\\\n\\frac{\\frac12\\cdot x^2\\cdot\\frac{\\sqrt3}{2}}{\\frac12\\cdot\\frac{840-x}{2}\\cdot\\left(\\frac{840-x}{2}\\cdot\\sqrt3\\right)}&=\\frac89 \\\\\n\\frac{2x^2}{(840-x)^2}&=\\frac89 \\\\\n\\frac{x^2}{(840-x)^2}&=\\frac49.\n\\end{align*}</cmath>\nSince <math>0<x<840,</math> it is clear that <math>\\frac{x}{840-x}>0.</math> Therefore, we take the positive square root for both sides:\n<cmath>\\begin{align*}\n\\frac{x}{840-x}&=\\frac23 \\\\\n3x&=1680-2x \\\\\n5x&=1680 \\\\\nx&=\\boxed{336}.\n\\end{align*}</cmath>\n\n~MRENTHUSIASM"
  },
  {
    "year": 2021,
    "variant": "II",
    "problem_number": 3,
    "latex": "Find the number of permutations <math>x_1, x_2, x_3, x_4, x_5</math> of numbers <math>1, 2, 3, 4, 5</math> such that the sum of five products <cmath>x_1x_2x_3 + x_2x_3x_4 + x_3x_4x_5 + x_4x_5x_1 + x_5x_1x_2</cmath>\nis divisible by <math>3</math>.",
    "solution": "Since <math>3</math> is one of the numbers, a product with a <math>3</math> in it is automatically divisible by <math>3,</math> so WLOG <math>x_3=3,</math> we will multiply by <math>5</math> afterward since any of <math>x_1, x_2, \\ldots, x_5</math> would be <math>3,</math> after some cancelation we see that now all we need to find is the number of ways that <math>x_5x_1(x_4+x_2)</math> is divisible by <math>3,</math> since <math>x_5x_1</math> is never divisible by <math>3,</math> now we just need to find the number of ways <math>x_4+x_2</math> is divisible by <math>3.</math> Note that <math>x_2</math> and <math>x_4</math> can be <math>(1, 2), (2, 1), (1, 5), (5, 1), (2, 4), (4, 2), (4, 5),</math> or <math>(5, 4).</math> We have <math>2</math> ways to designate <math>x_1</math> and <math>x_5</math> for a total of <math>8 \\cdot 2 = 16.</math> So the desired answer is <math>16 \\cdot 5=\\boxed{080}.</math>\n\n~math31415926535\n\n~MathFun1000 (Rephrasing for clarity)"
  },
  {
    "year": 2021,
    "variant": "II",
    "problem_number": 4,
    "latex": "There are real numbers <math>a, b, c,</math> and <math>d</math> such that <math>-20</math> is a root of <math>x^3 + ax + b</math> and <math>-21</math> is a root of <math>x^3 + cx^2 + d.</math> These two polynomials share a complex root <math>m + \\sqrt{n} \\cdot i,</math> where <math>m</math> and <math>n</math> are positive integers and <math>i = \\sqrt{-1}.</math> Find <math>m+n.</math>",
    "solution": "By the Complex Conjugate Root Theorem, the imaginary roots for each of <math>x^3+ax+b</math> and <math>x^3+cx^2+d</math> are complex conjugates. Let <math>z=m+\\sqrt{n}\\cdot i</math> and <math>\\overline{z}=m-\\sqrt{n}\\cdot i.</math> It follows that the roots of <math>x^3+ax+b</math> are <math>-20,z,\\overline{z},</math> and the roots of <math>x^3+cx^2+d</math> are <math>-21,z,\\overline{z}.</math>\n\nWe know that\n<cmath>\\begin{align*}\nz+\\overline{z}&=2m, & (1) \\\\\nz\\overline{z}&=m^2+n. & (2)\n\\end{align*}</cmath>\nApplying Vieta's Formulas to <math>x^3+ax+b,</math> we have <math>-20+z+\\overline{z}=0.</math> Substituting <math>(1)</math> into this equation, we get <math>m=10.</math>\n\nApplying Vieta's Formulas to <math>x^3+cx^2+d,</math> we have <math>-21z-21\\overline{z}+z\\overline{z}=0,</math> or <math>-21(z+\\overline{z})+z\\overline{z}=0.</math> Substituting <math>(1)</math> and <math>(2)</math> into this equation, we get <math>n=320.</math>\n\nFinally, the answer is <math>m+n=\\boxed{330}.</math>\n\n~MRENTHUSIASM"
  },
  {
    "year": 2021,
    "variant": "II",
    "problem_number": 5,
    "latex": "For positive real numbers <math>s</math>, let <math>\\tau(s)</math> denote the set of all obtuse triangles that have area <math>s</math> and two sides with lengths <math>4</math> and <math>10</math>. The set of all <math>s</math> for which <math>\\tau(s)</math> is nonempty, but all triangles in <math>\\tau(s)</math> are congruent, is an interval <math>[a,b)</math>. Find <math>a^2+b^2</math>.",
    "solution": "We start by defining a triangle. The two small sides MUST add to a larger sum than the long side. We are given <math>4</math> and <math>10</math> as the sides, so we know that the <math>3</math>rd side is between <math>6</math> and <math>14</math>, exclusive. We also have to consider the word OBTUSE triangles. That means that the two small sides squared is less than the <math>3</math>rd side. So the triangles' sides are between <math>6</math> and <math>\\sqrt{84}</math> exclusive, and the larger bound is between <math>\\sqrt{116}</math> and <math>14</math>, exclusive. The area of these triangles are from <math>0</math> (straight line) to <math>2\\sqrt{84}</math> on the first \"small bound\" and the larger bound is between <math>0</math> and <math>20</math>. \n<math>0 < s < 2\\sqrt{84}</math> is our first equation, and <math>0 < s < 20</math> is our <math>2</math>nd equation. Therefore, the area is between <math>\\sqrt{336}</math> and <math>\\sqrt{400}</math>, so our final answer is <math>\\boxed{736}</math>.\n\n~ARCTICTURN"
  },
  {
    "year": 2021,
    "variant": "II",
    "problem_number": 6,
    "latex": "For any finite set <math>S</math>, let <math>|S|</math> denote the number of elements in <math>S</math>. Find the number of ordered pairs <math>(A,B)</math> such that <math>A</math> and <math>B</math> are (not necessarily distinct) subsets of <math>\\{1,2,3,4,5\\}</math> that satisfy <cmath>|A| \\cdot |B| = |A \\cap B| \\cdot |A \\cup B|</cmath>",
    "solution": "By PIE, <math>|A|+|B|-|A \\cap B| = |A \\cup B|</math>. Substituting into the equation and factoring, we get that <math>(|A| - |A \\cap B|)(|B| - |A \\cap B|) = 0</math>, so therefore <math>A \\subseteq B</math> or <math>B \\subseteq A</math>. WLOG <math>A\\subseteq B</math>, then for each element there are <math>3</math> possibilities, either it is in both <math>A</math> and <math>B</math>, it is in <math>B</math> but not <math>A</math>, or it is in neither <math>A</math> nor <math>B</math>. This gives us <math>3^{5}</math> possibilities, and we multiply by <math>2</math> since it could have also been the other way around. Now we need to subtract the overlaps where <math>A=B</math>, and this case has <math>2^{5}=32</math> ways that could happen. It is <math>32</math> because each number could be in the subset or it could not be in the subset. So the final answer is <math>2\\cdot 3^5 - 2^5 = \\boxed{454}</math>.\n\n~math31415926535"
  },
  {
    "year": 2021,
    "variant": "II",
    "problem_number": 7,
    "latex": "Let <math>a, b, c,</math> and <math>d</math> be real numbers that satisfy the system of equations\n<cmath>\\begin{align*}\na + b &= -3, \\\\\nab + bc + ca &= -4, \\\\\nabc + bcd + cda + dab &= 14, \\\\\nabcd &= 30.\n\\end{align*}</cmath>\nThere exist relatively prime positive integers <math>m</math> and <math>n</math> such that\n<cmath>a^2 + b^2 + c^2 + d^2 = \\frac{m}{n}. </cmath>Find <math>m + n</math>.",
    "solution": "From the fourth equation we get <math> d=\\frac{30}{abc}. </math> Substitute this into the third equation and you get <math>abc + \\frac{30(ab + bc + ca)}{abc} = abc - \\frac{120}{abc} = 14</math>. Hence <math>(abc)^2 - 14(abc)-120 = 0</math>. Solving, we get <math>abc = -6</math> or <math>abc = 20</math>. From the first and second equation, we get <math>ab + bc + ca = ab-3c = -4 \\Longrightarrow ab = 3c-4</math>. If <math>abc=-6</math>, substituting we get <math>c(3c-4)=-6</math>. If you try solving this you see that this does not have real solutions in <math>c</math>, so <math>abc</math> must be <math>20</math>. So <math>d=\\frac{3}{2}</math>. Since <math>c(3c-4)=20</math>, <math>c=-2</math> or <math>c=\\frac{10}{3}</math>. If <math>c=\\frac{10}{3}</math>, then the system <math>a+b=-3</math> and <math>ab = 6</math> does not give you real solutions. So <math>c=-2</math>. Since you already know <math>d=\\frac{3}{2}</math> and <math>c=-2</math>, so you can solve for <math>a</math> and <math>b</math> pretty easily and see that <math>a^{2}+b^{2}+c^{2}+d^{2}=\\frac{141}{4}</math>. So the answer is <math>\\boxed{145}</math>.\n\n~math31415926535 ~minor edit by [[Mathkiddie]]"
  },
  {
    "year": 2021,
    "variant": "II",
    "problem_number": 8,
    "latex": "An ant makes a sequence of moves on a cube where a move consists of walking from one vertex to an adjacent vertex along an edge of the cube. Initially the ant is at a vertex of the bottom face of the cube and chooses one of the three adjacent vertices to move to as its first move. For all moves after the first move, the ant does not return to its previous vertex, but chooses to move to one of the other two adjacent vertices. All choices are selected at random so that each of the possible moves is equally likely. The probability that after exactly <math>8</math> moves that ant is at a vertex of the top face on the cube is <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m + n.</math>",
    "solution": "For all positive integers <math>k,</math> let\n\n* <math>N(k,\\mathrm{BB})</math> be the number of ways to make a sequence of exactly <math>k</math> moves, where the last move is from the bottom face to the bottom face.\n\n* <math>N(k,\\mathrm{BT})</math> be the number of ways to make a sequence of exactly <math>k</math> moves, where the last move is from the bottom face to the top face.\n\n* <math>N(k,\\mathrm{TB})</math> be the number of ways to make a sequence of exactly <math>k</math> moves, where the last move is from the top face to the bottom face.\n\n* <math>N(k,\\mathrm{TT})</math> be the number of ways to make a sequence of exactly <math>k</math> moves, where the last move is from the top face to the top face.\n\nThe base case occurs at <math>k=1,</math> from which <math>\\left(N(1,\\mathrm{BB}),N(1,\\mathrm{BT}),N(1,\\mathrm{TB}),N(1,\\mathrm{TT})\\right)=(2,1,0,0).</math> \n\nSuppose the ant makes exactly <math>k</math> moves for some <math>k\\geq2.</math> We perform casework on its last move:\n<ol style=\"margin-left: 1.5em;\">\n  <li>If its last move is from the bottom face to the bottom face, then its next move has</li><p>\n<ul style=\"margin-left: 1.5em; list-style-type: circle\">\n  <li><math>1</math> way to move from the bottom face to the bottom face.</li><p>\n  <li><math>1</math> way to move from the bottom face to the top face.</li><p>\n</ul>\n  <li>If its last move is from the bottom face to the top face, then its next move has <math>2</math> ways to move from the top face to the top face.</li><p>\n  <li>If its last move is from the top face to the bottom face, then its next move has <math>2</math> ways to move from the bottom face to the bottom face.</li><p>\n  <li>If its last move is from the top face to the top face, then its next move has<p>\n<ul style=\"margin-left: 1.5em; list-style-type: circle\">\n  <li><math>1</math> way to move from the top face to the bottom face.</li><p>\n  <li><math>1</math> way to move from the top face to the top face.</li><p>\n</ul>\n</ol>\nAlternatively, this recursion argument is illustrated below, where each dashed arrow indicates <math>1</math> way, and each solid arrow indicates <math>2</math> ways:\n<asy>\n/* Made by MRENTHUSIASM */ \nsize(9cm); \npair A, B, C, D, E, F, G, H, X, Y; \nA=(0,6); \nB=(0,4); \nC=(0,2); \nD=(0,0); \nE=(10,6); \nF=(10,4); \nG=(10,2); \nH=(10,0); \nX=(-1,8); \nY=(11,8); \nlabel(\"BB\", A, (-2,0)); \nlabel(\"BT\", B, (-2,0)); \nlabel(\"TB\", C, (-2,0)); \nlabel(\"TT\", D, (-2,0)); \nlabel(\"BB\", E, (2,0)); \nlabel(\"BT\", F, (2,0)); \nlabel(\"TB\", G, (2,0)); \nlabel(\"TT\", H, (2,0)); \nlabel(\"\\textbf{The \\boldmath{$k$}th Move}\", shift(0.3,0)*X); \nlabel(\"\\textbf{The \\boldmath{$(k+1)$}th Move}\", shift(-0.3,-0.085)*Y); \ndraw(A--E,0.8+black+dashed,EndArrow); \ndraw(A--F,0.8+black+dashed,EndArrow); \ndraw(B--H,0.8+black,EndArrow); \ndraw(C--E,0.8+black,EndArrow); \ndraw(D--G,0.8+black+dashed,EndArrow); \ndraw(D--H,0.8+black+dashed,EndArrow); \ndot(A^^B^^C^^D^^E^^F^^G^^H, 5+black);\n</asy>\nTherefore, we have the following relationships:\n<cmath>\\begin{align*}\nN(1,\\mathrm{BB})&=2, \\\\ \nN(1,\\mathrm{BT})&=1, \\\\\nN(1,\\mathrm{TB})&=0, \\\\\nN(1,\\mathrm{TT})&=0, \\\\\nN(k+1,\\mathrm{BB})&=N(k,\\mathrm{BB})+2\\cdot N(k,\\mathrm{TB}), \\\\\nN(k+1,\\mathrm{BT})&=N(k,\\mathrm{BB}), \\\\\nN(k+1,\\mathrm{TB})&=N(k,\\mathrm{TT}), \\\\\nN(k+1,\\mathrm{TT})&=N(k,\\mathrm{TT})+2\\cdot N(k,\\mathrm{BT}).\n\\end{align*}</cmath>\nUsing these equations, we recursively fill out the table below:\n<cmath>\\begin{array}{c||c|c|c|c|c|c|c|c}   \n\\hspace{7mm}&\\hspace{6.5mm}&\\hspace{6.5mm}&\\hspace{6.75mm}&\\hspace{6.75mm}&\\hspace{6.75mm}&\\hspace{6.75mm}&& \\\\ [-2.5ex]\n\\boldsymbol{k} & \\boldsymbol{1} & \\boldsymbol{2} & \\boldsymbol{3} & \\boldsymbol{4} & \\boldsymbol{5} & \\boldsymbol{6} & \\boldsymbol{7} & \\boldsymbol{8} \\\\ \n\\hline \\hline\n&&&&&&&& \\\\ [-2.25ex]\n\\boldsymbol{N(k,\\mathrm{BB})} &2&2&2&6&18&38&66&118 \\\\ \\hline  \n&&&&&&&& \\\\ [-2.25ex]\n\\boldsymbol{N(k,\\mathrm{BT})} &1&2&2&2&6&18&38&66 \\\\ \\hline \n&&&&&&&& \\\\ [-2.25ex]\n\\boldsymbol{N(k,\\mathrm{TB})} &0&0&2&6&10&14&26&62 \\\\ \\hline   \n&&&&&&&& \\\\ [-2.25ex]\n\\boldsymbol{N(k,\\mathrm{TT})} &0&2&6&10&14&26&62&138 \\\\\n\\hline \\hline\n&&&&&&&& \\\\ [-2.25ex]\n\\textbf{Total}&\\boldsymbol{3}&\\boldsymbol{6}&\\boldsymbol{12}&\\boldsymbol{24}&\\boldsymbol{48}&\\boldsymbol{96}&\\boldsymbol{192}&\\boldsymbol{384}\n\\end{array}</cmath>\nBy the Multiplication Principle, there are <math>3\\cdot2^{k-1}</math> ways to make exactly <math>k</math> moves. So, we must get <cmath>N(k,\\mathrm{BB})+N(k,\\mathrm{BT})+N(k,\\mathrm{TB})+N(k,\\mathrm{TT})=3\\cdot2^{k-1}</cmath> for all values of <math>k.</math>\n\nFinally, the requested probability is <cmath>\\frac{N(8,\\mathrm{BT})+N(8,\\mathrm{TT})}{N(8,\\mathrm{BB})+N(8,\\mathrm{BT})+N(8,\\mathrm{TB})+N(8,\\mathrm{TT})}=\\frac{66+138}{118+66+62+138}=\\frac{204}{384}=\\frac{17}{32},</cmath> from which the answer is <math>17+32=\\boxed{049}.</math>\n\n~Arcticturn ~MRENTHUSIASM"
  },
  {
    "year": 2021,
    "variant": "II",
    "problem_number": 9,
    "latex": "Find the number of ordered pairs <math>(m, n)</math> such that <math>m</math> and <math>n</math> are positive integers in the set <math>\\{1, 2, ..., 30\\}</math> and the greatest common divisor of <math>2^m + 1</math> and <math>2^n - 1</math> is not <math>1</math>.",
    "solution": "This solution refers to the <b>Remarks</b> section.\n\nBy the Euclidean Algorithm, we have <cmath>\\gcd\\left(2^m+1,2^m-1\\right)=\\gcd\\left(2,2^m-1\\right)=1.</cmath>\nWe are given that <math>\\gcd\\left(2^m+1,2^n-1\\right)>1.</math> Multiplying both sides by <math>\\gcd\\left(2^m-1,2^n-1\\right)</math> gives\n<cmath>\\begin{align*}\n\\gcd\\left(2^m+1,2^n-1\\right)\\cdot\\gcd\\left(2^m-1,2^n-1\\right)&>\\gcd\\left(2^m-1,2^n-1\\right) \\\\\n\\gcd\\left(\\left(2^m+1\\right)\\left(2^m-1\\right),2^n-1\\right)&>\\gcd\\left(2^m-1,2^n-1\\right) \\hspace{12mm} &&\\text{by }\\textbf{Claim 1} \\\\\n\\gcd\\left(2^{2m}-1,2^n-1\\right)&>\\gcd\\left(2^m-1,2^n-1\\right) \\\\\n2^{\\gcd(2m,n)}-1&>2^{\\gcd(m,n)}-1 &&\\text{by }\\textbf{Claim 2} \\\\\n\\gcd(2m,n)&>\\gcd(m,n),\n\\end{align*}</cmath>\nwhich implies that <math>n</math> must have more factors of <math>2</math> than <math>m</math> does.\n\nWe construct the following table for the first <math>30</math> positive integers:\n<cmath>\\begin{array}{c|c|c}\n&& \\\\ [-2.5ex]\n\\boldsymbol{\\#}\\textbf{ of Factors of }\\boldsymbol{2} & \\textbf{Numbers} & \\textbf{Count} \\\\\n\\hline\n&& \\\\ [-2.25ex] \n0 & 1,3,5,7,9,11,13,15,17,19,21,23,25,27,29 & 15 \\\\ \n&& \\\\ [-2.25ex] \n1 & 2,6,10,14,18,22,26,30 & 8 \\\\\n&& \\\\ [-2.25ex] \n2 & 4,12,20,28 & 4 \\\\   \n&& \\\\ [-2.25ex] \n3 & 8,24 & 2 \\\\ \n&& \\\\ [-2.25ex] \n4 & 16 & 1 \\\\\n\\end{array}</cmath>\nTo count the ordered pairs <math>(m,n),</math> we perform casework on the number of factors of <math>2</math> that <math>m</math> has:\n<ol style=\"margin-left: 1.5em;\">\n  <li>If <math>m</math> has <math>0</math> factors of <math>2,</math> then <math>m</math> has <math>15</math> options and <math>n</math> has <math>8+4+2+1=15</math> options. So, this case has <math>15\\cdot15=225</math> ordered pairs.</li><p>\n  <li>If <math>m</math> has <math>1</math> factor of <math>2,</math> then <math>m</math> has <math>8</math> options and <math>n</math> has <math>4+2+1=7</math> options. So, this case has <math>8\\cdot7=56</math> ordered pairs.</li><p>\n  <li>If <math>m</math> has <math>2</math> factors of <math>2,</math> then <math>m</math> has <math>4</math> options and <math>n</math> has <math>2+1=3</math> options. So, this case has <math>4\\cdot3=12</math> ordered pairs.</li><p>\n  <li>If <math>m</math> has <math>3</math> factors of <math>2,</math> then <math>m</math> has <math>2</math> options and <math>n</math> has <math>1</math> option. So, this case has <math>2\\cdot1=2</math> ordered pairs.</li>\n</ol>\nTogether, the answer is <math>225+56+12+2=\\boxed{295}.</math>\n\n~Lcz ~MRENTHUSIASM"
  },
  {
    "year": 2021,
    "variant": "II",
    "problem_number": 10,
    "latex": "Two spheres with radii <math>36</math> and one sphere with radius <math>13</math> are each externally tangent to the other two spheres and to two different planes <math>\\mathcal{P}</math> and <math>\\mathcal{Q}</math>. The intersection of planes <math>\\mathcal{P}</math> and <math>\\mathcal{Q}</math> is the line <math>\\ell</math>. The distance from line <math>\\ell</math> to the point where the sphere with radius <math>13</math> is tangent to plane <math>\\mathcal{P}</math> is <math>\\tfrac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m + n</math>.",
    "solution": "==Diagram==\n<asy>\n/* Made by MRENTHUSIASM */\nsize(275);\nimport graph3;\nimport solids;\n\ncurrentprojection=orthographic((1,1/2,0));\ntriple O1, O2, O3, T1, T2, T3, A, L1, L2;\nO1 = (0,-36,0);\nO2 = (0,36,0);\nO3 = (0,0,-sqrt(1105));\nT1 = (864*sqrt(1105)/1105,-36,-828*sqrt(1105)/1105);\nT2 = (864*sqrt(1105)/1105,36,-828*sqrt(1105)/1105);\nT3 = (24*sqrt(1105)/85,0,-108*sqrt(1105)/85);\nA = (0,0,-36*sqrt(1105)/23);\nL1 = shift(0,-80,0)*A;\nL2 = shift(0,80,0)*A;\n\ndraw(surface(L1--L2--(-T2.x,L2.y,T2.z)--(-T1.x,L1.y,T1.z)--cycle),pink);\ndraw(shift(O1)*rotate(90,O1,O2)*scale3(36)*unitsphere,yellow,light=White);\ndraw(shift(O2)*rotate(90,O1,O2)*scale3(36)*unitsphere,yellow,light=White);\ndraw(shift(O3)*rotate(90,O1,O2)*scale3(13)*unitsphere,red,light=White);\ndraw(surface(L1--L2--(T2.x,L2.y,T2.z)--(T1.x,L1.y,T1.z)--cycle),palegreen);\ndraw(surface(L1--L2--(-T2.x,L2.y,L2.z-abs(T2.z))--(-T1.x,L1.y,L2.z-abs(T1.z))--cycle),palegreen);\ndraw(surface(L1--L2--(T2.x,L2.y,L2.z-abs(T1.z))--(T1.x,L1.y,L1.z-abs(T2.z))--cycle),pink);\ndraw(L1--L2,L=Label(\"$\\ell$\",position=EndPoint,align=3*E),red);\n\nlabel(\"$\\mathcal{P}$\",midpoint(L1--(T1.x,L1.y,T1.z)),(0,-3,0),heavygreen);\nlabel(\"$\\mathcal{Q}$\",midpoint(L1--(T1.x,L1.y,L1.z-abs(T2.z))),(0,-3,0),heavymagenta);\n\ndot(O1,linewidth(4.5));\ndot(O2,linewidth(4.5));\ndot(O3,linewidth(4.5));\ndot(T1,heavygreen+linewidth(4.5));\ndot(T2,heavygreen+linewidth(4.5));\ndot(T3,heavygreen+linewidth(4.5));\ndot(A,red+linewidth(4.5));\n</asy>\n~MRENTHUSIASM"
  },
  {
    "year": 2021,
    "variant": "II",
    "problem_number": 11,
    "latex": "A teacher was leading a class of four perfectly logical students. The teacher chose a set <math>S</math> of four integers and gave a different number in <math>S</math> to each student. Then the teacher announced to the class that the numbers in <math>S</math> were four consecutive two-digit positive integers, that some number in <math>S</math> was divisible by <math>6</math>, and a different number in <math>S</math> was divisible by <math>7</math>. The teacher then asked if any of the students could deduce what <math>S</math> is, but in unison, all of the students replied no.\n\nHowever, upon hearing that all four students replied no, each student was able to determine the elements of <math>S</math>. Find the sum of all possible values of the greatest element of <math>S</math>.",
    "solution": "Note that <math>\\operatorname{lcm}(6,7)=42.</math> It is clear that <math>42\\not\\in S</math> and <math>84\\not\\in S,</math> otherwise the three other elements in <math>S</math> are divisible by neither <math>6</math> nor <math>7.</math>\n\nIn the table below, the multiples of <math>6</math> are colored in yellow, and the multiples of <math>7</math> are colored in green. By the least common multiple, we obtain cycles: If <math>n</math> is a possible maximum value of <math>S,</math> then <math>n+42</math> must be another possible maximum value of <math>S,</math> and vice versa. By observations, we circle all possible maximum values of <math>S.</math>\n<asy>\n/* Made by MRENTHUSIASM */\nsize(20cm);\n\nfill((5,0)--(6,0)--(6,2)--(5,2)--cycle,yellow);\nfill((11,0)--(12,0)--(12,3)--(11,3)--cycle,yellow);\nfill((17,1)--(18,1)--(18,3)--(17,3)--cycle,yellow);\nfill((23,1)--(24,1)--(24,3)--(23,3)--cycle,yellow);\nfill((29,1)--(30,1)--(30,3)--(29,3)--cycle,yellow);\nfill((35,1)--(36,1)--(36,3)--(35,3)--cycle,yellow);\n\nfill((6,0)--(7,0)--(7,2)--(6,2)--cycle,green);\nfill((13,0)--(14,0)--(14,3)--(13,3)--cycle,green);\nfill((20,1)--(21,1)--(21,3)--(20,3)--cycle,green);\nfill((27,1)--(28,1)--(28,3)--(27,3)--cycle,green);\nfill((34,1)--(35,1)--(35,3)--(34,3)--cycle,green);\n\nfill((42,3)--(41,3)--(41,2)--cycle,yellow);\nfill((42,2)--(41,2)--(41,1)--cycle,yellow);\nfill((42,3)--(42,2)--(41,2)--cycle,green);\nfill((42,2)--(42,1)--(41,1)--cycle,green);\n\nfor (real i=9.5; i<=41.5; ++i) {\n   label(\"$\"+string(i+0.5)+\"$\",(i,2.5),fontsize(9pt));\n}\n\nfor (real i=0.5; i<=41.5; ++i) {\n   label(\"$\"+string(i+42.5)+\"$\",(i,1.5),fontsize(9pt));\n}\n\nfor (real i=0.5; i<=14.5; ++i) {\n   label(\"$\"+string(i+84.5)+\"$\",(i,0.5),fontsize(9pt));\n}\n\ndraw(circle((6.5,1.5),0.45)); draw(circle((6.5,0.5),0.45));\ndraw(circle((7.5,1.5),0.45)); draw(circle((7.5,0.5),0.45));\ndraw(circle((8.5,1.5),0.45)); draw(circle((8.5,0.5),0.45));\ndraw(circle((13.5,2.5),0.45)); draw(circle((13.5,1.5),0.45)); draw(circle((13.5,0.5),0.45));\ndraw(circle((14.5,2.5),0.45)); draw(circle((14.5,1.5),0.45)); draw(circle((14.5,0.5),0.45));\ndraw(circle((20.5,2.5),0.45)); draw(circle((20.5,1.5),0.45));\ndraw(circle((23.5,2.5),0.45)); draw(circle((23.5,1.5),0.45));\ndraw(circle((29.5,2.5),0.45)); draw(circle((29.5,1.5),0.45));\ndraw(circle((30.5,2.5),0.45)); draw(circle((30.5,1.5),0.45));\ndraw(circle((35.5,2.5),0.45)); draw(circle((35.5,1.5),0.45));\ndraw(circle((36.5,2.5),0.45)); draw(circle((36.5,1.5),0.45));\ndraw(circle((37.5,2.5),0.45)); draw(circle((37.5,1.5),0.45));\n\ndraw((9,3)--(42,3));\ndraw((0,2)--(42,2));\ndraw((0,1)--(42,1));\ndraw((0,0)--(15,0));\n\nfor (real i=0; i<9; ++i) \n{\n    draw((i,2)--(i,0));\n}\n\nfor (real i=9; i<16; ++i) \n{\n    draw((i,3)--(i,0));\n}\n\nfor (real i=16; i<=42; ++i) \n{\n    draw((i,3)--(i,1));\n}\n</asy>\nFrom the second row of the table above, we perform casework on the possible maximum value of <math>S:</math>\n<cmath>\\begin{array}{c||c|c|l}\n& & & \\\\ [-2.5ex]\n\\textbf{Max Value} & \\boldsymbol{S} & \\textbf{Valid?} & \\hspace{16.25mm}\\textbf{Reasoning/Conclusion} \\\\ [0.5ex]\n\\hline\n& & & \\\\ [-2ex]\n49 & \\{46,47,48,49\\} & & \\text{The student who gets } 46 \\text{ will reply yes.} \\\\\n50 & \\{47,48,49,50\\} & \\checkmark & \\text{Another possibility is } S=\\{89,90,91,92\\}. \\\\\n51 & \\{48,49,50,51\\} & & \\text{The student who gets } 51 \\text{ will reply yes.} \\\\\n56 & \\{53,54,55,56\\} & & \\text{The student who gets } 53 \\text{ will reply yes.} \\\\\n57 & \\{54,55,56,57\\} & & \\text{The student who gets } 57 \\text{ will reply yes.} \\\\\n63 & \\{60,61,62,63\\} & & \\text{The students who get } 60,61,62 \\text{ will reply yes.} \\\\\n66 & \\{63,64,65,66\\} & & \\text{The students who get } 64,65,66 \\text{ will reply yes.} \\\\\n72 & \\{69,70,71,72\\} & & \\text{The student who gets } 69 \\text{ will reply yes.} \\\\\n73 & \\{70,71,72,73\\} & & \\text{The student who gets } 73 \\text{ will reply yes.} \\\\\n78 & \\{75,76,77,78\\} & & \\text{The student who gets } 75 \\text{ will reply yes.} \\\\\n79 & \\{76,77,78,79\\} & \\checkmark & \\text{Another possibility is } S=\\{34,35,36,37\\}. \\\\\n80 & \\{77,78,79,80\\} & & \\text{The student who gets } 80 \\text{ will reply yes.}\n\\end{array}</cmath>\nFinally, all possibilities for <math>S</math> are <math>\\{34,35,36,37\\}, \\{47,48,49,50\\}, \\{76,77,78,79\\},</math> and <math>\\{89,90,91,92\\},</math> from which the answer is <math>37+50+79+92=\\boxed{258}.</math>\n\n<u><b>Remarks</b></u>\n<ol style=\"margin-left: 1.5em;\">\n  <li>Alternatively, we can reconstruct the second table in this solution as follows, where Y and N denote the replies of \"yes\" and \"no\", respectively. Notice that this table has some kind of symmetry!\n\n<asy>\n/* Made by MRENTHUSIASM */\nsize(20cm);\n\nfor (real j=5.5; j<41.5; j+=6) \n{\n\tfill((j+0.5,4)--(j-0.5,4)--(j-0.5,3)--(j+0.5,3)--cycle,yellow);\n}\n\nfor (real j=6.5; j<41.5; j+=7) \n{\n\tfill((j+0.5,4)--(j-0.5,4)--(j-0.5,3)--(j+0.5,3)--cycle,green);\n}\n\nfill((4,1)--(8,1)--(8,2)--(4,2)--cycle,mediumgray);\nfill((33,1)--(37,1)--(37,2)--(33,2)--cycle,mediumgray);\nfill((42,4)--(41,4)--(41,3)--cycle,yellow);\nfill((42,4)--(42,3)--(41,3)--cycle,green);\n\nfor (real i=0.5; i<=41.5; ++i) {\n   label(\"$\"+string(i+42.5)+\"$\",(i,3.5),fontsize(9pt));\n}\n\ndraw(circle((6.5,3.5),0.45));\ndraw(circle((7.5,3.5),0.45));\ndraw(circle((8.5,3.5),0.45));\ndraw(circle((13.5,3.5),0.45));\ndraw(circle((14.5,3.5),0.45));\ndraw(circle((20.5,3.5),0.45));\ndraw(circle((23.5,3.5),0.45));\ndraw(circle((29.5,3.5),0.45));\ndraw(circle((30.5,3.5),0.45));\ndraw(circle((35.5,3.5),0.45));\ndraw(circle((36.5,3.5),0.45));\ndraw(circle((37.5,3.5),0.45));\n\nlabel(\"Y\",(3.5,2.5),blue); label(\"N\",(4.5,2.5),blue); \nlabel(\"N\",(5.5,2.5),blue); label(\"N\",(6.5,2.5),blue); \nlabel(\"N\",(4.5,1.5),blue); label(\"N\",(5.5,1.5),blue); \nlabel(\"N\",(6.5,1.5),blue); label(\"N\",(7.5,1.5),blue); \nlabel(\"N\",(5.5,0.5),blue); label(\"N\",(6.5,0.5),blue); \nlabel(\"N\",(7.5,0.5),blue); label(\"Y\",(8.5,0.5),blue); \nlabel(\"Y\",(10.5,2.5),blue); label(\"N\",(11.5,2.5),blue); \nlabel(\"N\",(12.5,2.5),blue); label(\"N\",(13.5,2.5),blue); \nlabel(\"N\",(11.5,1.5),blue); label(\"N\",(12.5,1.5),blue); \nlabel(\"N\",(13.5,1.5),blue); label(\"Y\",(14.5,1.5),blue); \nlabel(\"Y\",(17.5,2.5),blue); label(\"Y\",(18.5,2.5),blue); \nlabel(\"Y\",(19.5,2.5),blue); label(\"N\",(20.5,2.5),blue); \nlabel(\"N\",(20.5,1.5),blue); label(\"Y\",(21.5,1.5),blue); \nlabel(\"Y\",(22.5,1.5),blue); label(\"Y\",(23.5,1.5),blue); \nlabel(\"Y\",(26.5,2.5),blue); label(\"N\",(27.5,2.5),blue); \nlabel(\"N\",(28.5,2.5),blue); label(\"N\",(29.5,2.5),blue); \nlabel(\"N\",(27.5,1.5),blue); label(\"N\",(28.5,1.5),blue); \nlabel(\"N\",(29.5,1.5),blue); label(\"Y\",(30.5,1.5),blue); \nlabel(\"Y\",(32.5,2.5),blue); label(\"N\",(33.5,2.5),blue); \nlabel(\"N\",(34.5,2.5),blue); label(\"N\",(35.5,2.5),blue); \nlabel(\"N\",(33.5,1.5),blue); label(\"N\",(34.5,1.5),blue); \nlabel(\"N\",(35.5,1.5),blue); label(\"N\",(36.5,1.5),blue); \nlabel(\"N\",(34.5,0.5),blue); label(\"N\",(35.5,0.5),blue); \nlabel(\"N\",(36.5,0.5),blue); label(\"Y\",(37.5,0.5),blue); \n\nfor (real i=0; i<=42; ++i)\n{\n    draw((i,4)--(i,3));\n}\n\ndraw((0,4)--(42,4));\ndraw((0,3)--(42,3));\n</asy></li>\n  <li>As a confirmation, we can verify that each student will be able to deduce what <math>S</math> is upon hearing the four replies of \"no\" in unison. For example, if <math>S=\\{47,48,49,50\\},</math> then all students will know that no one gets <math>46</math> or <math>51,</math> otherwise that student will reply yes (as discussed). Therefore, all students will conclude that <math>S</math> has only one possibility.</li><p>\n</ol>\n\n~MRENTHUSIASM"
  },
  {
    "year": 2021,
    "variant": "II",
    "problem_number": 12,
    "latex": "A convex quadrilateral has area <math>30</math> and side lengths <math>5, 6, 9,</math> and <math>7,</math> in that order. Denote by <math>\\theta</math> the measure of the acute angle formed by the diagonals of the quadrilateral. Then <math>\\tan \\theta</math> can be written in the form <math>\\tfrac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m + n</math>.",
    "solution": "Since we are asked to find <math>\\tan \\theta</math>, we can find <math>\\sin \\theta</math> and <math>\\cos \\theta</math> separately and use their values to get <math>\\tan \\theta</math>. We can start by drawing a diagram. Let the vertices of the quadrilateral be <math>A</math>, <math>B</math>, <math>C</math>, and <math>D</math>. Let <math>AB = 5</math>, <math>BC = 6</math>, <math>CD = 9</math>, and <math>DA = 7</math>. Let <math>AX = a</math>, <math>BX = b</math>, <math>CX = c</math>, and <math>DX = d</math>. We know that <math>\\theta</math> is the acute angle formed between the intersection of the diagonals <math>AC</math> and <math>BD</math>.\n<asy>\nunitsize(4cm);\npair A,B,C,D,X;\nA = (0,0);\nB = (1,0);\nC = (1.25,-1);\nD = (-0.75,-0.75);\ndraw(A--B--C--D--cycle,black+1bp);\nX = intersectionpoint(A--C,B--D);\ndraw(A--C);\ndraw(B--D);\nlabel(\"$A$\",A,NW);\nlabel(\"$B$\",B,NE);\nlabel(\"$C$\",C,SE);\nlabel(\"$D$\",D,SW);\ndot(X);\nlabel(\"$X$\",X,S);\nlabel(\"$5$\",(A+B)/2,N);\nlabel(\"$6$\",(B+C)/2,E);\nlabel(\"$9$\",(C+D)/2,S);\nlabel(\"$7$\",(D+A)/2,W);\nlabel(\"$\\theta$\",X,2.5E);\nlabel(\"$a$\",(A+X)/2,NE);\nlabel(\"$b$\",(B+X)/2,NW);\nlabel(\"$c$\",(C+X)/2,SW);\nlabel(\"$d$\",(D+X)/2,SE);\n</asy>\nWe are given that the area of quadrilateral <math>ABCD</math> is <math>30</math>. We can express this area using the areas of triangles <math>AXB</math>, <math>BXC</math>, <math>CXD</math>, and <math>DXA</math>. Since we want to find <math>\\sin \\theta</math> and <math>\\cos \\theta</math>, we can represent these areas using <math>\\sin \\theta</math> as follows:\n<cmath>\\begin{align*}\n30 &=[ABCD] \\\\\n&=[AXB] + [BXC] + [CXD] + [DXA] \\\\\n&=\\frac{1}{2} ab \\sin (\\angle AXB) + \\frac{1}{2} bc \\sin (\\angle BXC) + \\frac{1}{2} cd \\sin (\\angle CXD) + \\frac{1}{2} da \\sin (\\angle AXD) \\\\\n&=\\frac{1}{2} ab \\sin (180^\\circ - \\theta) + \\frac{1}{2} bc \\sin (\\theta) + \\frac{1}{2} cd \\sin (180^\\circ - \\theta) + \\frac{1}{2} da \\sin (\\theta).\n\\end{align*}</cmath>\nWe know that <math>\\sin (180^\\circ - \\theta) = \\sin \\theta</math>. Therefore it follows that:\n<cmath>\\begin{align*}\n30 &=\\frac{1}{2} ab \\sin (180^\\circ - \\theta) + \\frac{1}{2} bc \\sin (\\theta) + \\frac{1}{2} cd \\sin (180^\\circ - \\theta) + \\frac{1}{2} da \\sin (\\theta) \\\\\n&=\\frac{1}{2} ab \\sin (\\theta) + \\frac{1}{2} bc \\sin (\\theta) + \\frac{1}{2} cd \\sin (\\theta) + \\frac{1}{2} da \\sin (\\theta) \\\\\n&=\\frac{1}{2}\\sin\\theta (ab + bc + cd + da).\n\\end{align*}</cmath>\nFrom here we see that <math>\\sin \\theta = \\frac{60}{ab + bc + cd + da}</math>. Now we need to find <math>\\cos \\theta</math>. Using the Law of Cosines on each of the four smaller triangles, we get following equations:\n<cmath>\\begin{align*}  \n5^2 &= a^2 + b^2 - 2ab\\cos(180^\\circ-\\theta), \\\\  \n6^2 &= b^2 + c^2 - 2bc\\cos \\theta, \\\\  \n9^2 &= c^2 + d^2 - 2cd\\cos(180^\\circ-\\theta), \\\\  \n7^2 &= d^2 + a^2 - 2da\\cos \\theta.  \n\\end{align*}</cmath>\nWe know that <math>\\cos (180^\\circ - \\theta) = -\\cos \\theta</math> for all <math>\\theta</math>. We can substitute this value into our equations to get:\n<cmath>\\begin{align*}  \n5^2 &= a^2 + b^2 + 2ab\\cos \\theta, &&(1) \\\\  \n6^2 &= b^2 + c^2 - 2bc\\cos \\theta, &&(2) \\\\  \n9^2 &= c^2 + d^2 + 2cd\\cos \\theta, &&(3) \\\\  \n7^2 &= d^2 + a^2 - 2da\\cos \\theta. &&(4)\n\\end{align*}</cmath>\nIf we subtract <math>(2)+(4)</math> from <math>(1)+(3)</math>, the squared terms cancel, leaving us with:\n<cmath>\\begin{align*}\n5^2 + 9^2 - 6^2 - 7^2 &= 2ab \\cos \\theta + 2bc \\cos \\theta + 2cd \\cos \\theta + 2da \\cos \\theta \\\\ \n21 &= 2\\cos \\theta (ab  + bc + cd + da).\n\\end{align*}</cmath>\nFrom here we see that <math>\\cos \\theta = \\frac{21/2}{ab + bc + cd + da}</math>.\n\nSince we have figured out <math>\\sin \\theta</math> and <math>\\cos \\theta</math>, we can calculate <math>\\tan \\theta</math>: <cmath>\\tan \\theta = \\frac{\\sin \\theta}{\\cos \\theta} = \\frac{\\frac{60}{ab + bc + cd + da}}{\\frac{21/2}{ab + bc + cd + da}} = \\frac{60}{21/2} = \\frac{120}{21} = \\frac{40}{7}.</cmath>\nTherefore our answer is <math>40 + 7 = \\boxed{047}</math>.\n\n~ Steven Chen (www.professorchenedu.com)\n\n~ my_aops_lessons"
  },
  {
    "year": 2021,
    "variant": "II",
    "problem_number": 13,
    "latex": "Find the least positive integer <math>n</math> for which <math>2^n + 5^n - n</math> is a multiple of <math>1000</math>.",
    "solution": "Recall that <math>1000</math> divides this expression if <math>8</math> and <math>125</math> both divide it. It should be fairly obvious that <math>n \\geq 3</math>; so we may break up the initial condition into two sub-conditions.\n\n(1) <math>5^n \\equiv n \\pmod{8}</math>. Notice that the square of any odd integer is <math>1</math> modulo <math>8</math> (proof by plugging in <math>1^2,3^2,5^2,7^2</math> into modulo <math>8</math>), so the LHS of this expression goes <math>5,1,5,1,\\ldots</math>, while the RHS goes <math>1,2,3,4,5,6,7,8,1,\\ldots</math>. The cycle length of the LHS is <math>2</math>, RHS is <math>8</math>, so the cycle length of the solution is <math>\\operatorname{lcm}(2,8)=8</math>. Indeed, the <math>n</math> that solve this congruence are exactly those such that <math>n \\equiv 5 \\pmod{8}</math>.\n\n(2) <math>2^n \\equiv n \\pmod{125}</math>. This is extremely computationally intensive if we try to calculate all <math>2^1,2^2,\\ldots,2^{100} \\pmod{125}</math>, so we take a divide-and-conquer approach instead. In order for this expression to be true, <math>2^n \\equiv n \\pmod{5}</math> is necessary; it shouldn't take too long for us to go through the <math>20</math> possible LHS-RHS combinations, considering that <math>n</math> must be odd. We only need to test <math>10</math> values of <math>n</math> and obtain <math>n \\equiv 3 \\pmod{20}</math> or <math>n \\equiv 17 \\pmod{20}</math>.\n\nWith this in mind we consider <math>2^n \\equiv n \\pmod{25}</math>. By the Generalized Fermat's Little Theorem, <math>2^{20} \\equiv 1 \\pmod{25}</math>, but we already have <math>n</math> modulo <math>20</math>. Our calculation is greatly simplified. The LHS's cycle length is <math>20</math> and the RHS's cycle length is <math>25</math>, from which their least common multiple is <math>100</math>. In this step we need to test all the numbers between <math>1</math> to <math>100</math> that <math>n \\equiv 3 \\pmod{20}</math> or <math>n \\equiv 17 \\pmod{20}</math>. In the case that <math>n \\equiv 3 \\pmod{20}</math>, the RHS goes <math>3,23,43,63,83</math>, and we need <math>2^n \\equiv n \\equiv 2^3 \\pmod{25}</math>; clearly <math>n \\equiv 83 \\pmod{100}</math>. In the case that <math>n \\equiv 17 \\pmod{20}</math>, by a similar argument, <math>n \\equiv 97 \\pmod{100}</math>. \n\nIn the final step, we need to calculate <math>2^{97}</math> and <math>2^{83}</math> modulo <math>125</math>:\n\nNote that <math>2^{97}\\equiv2^{-3}</math>; because <math>8\\cdot47=376\\equiv1\\pmod{125},</math> we get <math>2^{97} \\equiv 47\\pmod{125}</math>. \n\nNote that <math>2^{83}</math> is <math>2^{-17}=2^{-16}\\cdot2^{-1}</math>. We have\n<cmath>\\begin{align*}\n2^{-1}&\\equiv63, \\\\\n2^{-2}&\\equiv63^2=3969\\equiv-31, \\\\\n2^{-4}&\\equiv(-31)^2=961\\equiv-39, \\\\\n2^{-8}&\\equiv1521\\equiv21, \\\\\n2^{-16}&\\equiv441, \\\\\n2^{-17}&\\equiv63\\cdot441\\equiv7\\cdot(-31)=-217\\equiv33.\n\\end{align*}</cmath> \nThis time, LHS cycle is <math>100</math>, RHS cycle is <math>125</math>, so we need to figure out <math>n</math> modulo <math>500</math>. It should be <math>n \\equiv 283,297 \\pmod{500}</math>.\n\nPut everything together. By the second subcondition, the only candidates less than <math>1000</math> are <math>283,297,783,797</math>. Apply the first subcondition, <math>n=\\boxed{797}</math> is the desired answer.\n\n~Ross Gao (Solution)\n\n~MRENTHUSIASM (Minor Reformatting)"
  },
  {
    "year": 2021,
    "variant": "II",
    "problem_number": 14,
    "latex": "Let <math>\\Delta ABC</math> be an acute triangle with circumcenter <math>O</math> and centroid <math>G</math>. Let <math>X</math> be the intersection of the line tangent to the circumcircle of <math>\\Delta ABC</math> at <math>A</math> and the line perpendicular to <math>GO</math> at <math>G</math>. Let <math>Y</math> be the intersection of lines <math>XG</math> and <math>BC</math>. Given that the measures of <math>\\angle ABC, \\angle BCA, </math> and <math>\\angle XOY</math> are in the ratio <math>13 : 2 : 17, </math> the degree measure of <math>\\angle BAC</math> can be written as <math>\\frac{m}{n},</math> where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "==Diagram==\n<asy>\n/* Made by MRENTHUSIASM */\nsize(375);\n\npair A, B, C, O, G, X, Y;\nA = origin;\nB = (1,0);\nC = extension(A,A+10*dir(585/7),B,B+10*dir(180-585/7));\nO = circumcenter(A,B,C);\nG = centroid(A,B,C);\nY = intersectionpoint(G--G+(100,0),B--C);\nX = intersectionpoint(G--G-(100,0),A--scale(100)*rotate(90)*dir(O-A));\nmarkscalefactor=3/160;\ndraw(rightanglemark(O,G,X),red);\ndot(\"$A$\",A,1.5*dir(180+585/7),linewidth(4));\ndot(\"$B$\",B,1.5*dir(-585/7),linewidth(4));\ndot(\"$C$\",C,1.5N,linewidth(4));\ndot(\"$O$\",O,1.5N,linewidth(4));\ndot(\"$G$\",G,1.5S,linewidth(4));\ndot(\"$Y$\",Y,1.5E,linewidth(4));\ndot(\"$X$\",X,1.5W,linewidth(4));\ndraw(A--B--C--cycle^^X--O--Y--cycle^^A--X^^O--G^^circumcircle(A,B,C));\n</asy>\n~MRENTHUSIASM"
  },
  {
    "year": 2021,
    "variant": "II",
    "problem_number": 15,
    "latex": "Let <math>f(n)</math> and <math>g(n)</math> be functions satisfying\n<cmath>f(n) = \\begin{cases}\\sqrt{n} & \\text{ if } \\sqrt{n} \\text{ is an integer}\\\\\n1 + f(n+1) & \\text{ otherwise}\n\\end{cases}</cmath>and\n<cmath>g(n) = \\begin{cases}\\sqrt{n} & \\text{ if } \\sqrt{n} \\text{ is an integer}\\\\\n2 + g(n+2) & \\text{ otherwise}\n\\end{cases}</cmath>for positive integers <math>n</math>. Find the least positive integer <math>n</math> such that <math>\\tfrac{f(n)}{g(n)} = \\tfrac{4}{7}</math>.",
    "solution": "Consider what happens when we try to calculate <math>f(n)</math> where n is not a square. If <math>k^2<n<(k+1)^2</math> for (positive) integer k, recursively calculating the value of the function gives us <math>f(n)=(k+1)^2-n+f((k+1)^2)=k^2+3k+2-n</math>. Note that this formula also returns the correct value when <math>n=(k+1)^2</math>, but not when <math>n=k^2</math>. Thus <math>f(n)=k^2+3k+2-n</math> for <math>k^2<n \\leq (k+1)^2</math>.\n\nIf <math>2 \\mid (k+1)^2-n</math>, <math>g(n)</math> returns the same value as <math>f(n)</math>. This is because the recursion once again stops at <math>(k+1)^2</math>. We seek a case in which <math>f(n)<g(n)</math>, so obviously this is not what we want. We want <math>(k+1)^2,n</math> to have a different parity, or <math>n, k</math> have the same parity. When this is the case, <math>g(n)</math> instead returns <math>(k+2)^2-n+g((k+2)^2)=k^2+5k+6-n</math>.\n\nWrite <math>7f(n)=4g(n)</math>, which simplifies to <math>3k^2+k-10=3n</math>. Notice that we want the LHS expression to be divisible by 3; as a result, <math>k \\equiv 1 \\pmod{3}</math>. We also want n to be strictly greater than <math>k^2</math>, so <math>k-10>0, k>10</math>. The LHS expression is always even (since <math>3k^2+k-10</math> factors to <math>k(3k+1)-10</math>, and one of <math>k</math> and <math>3k+1</math> will be even), so to ensure that <math>k</math> and <math>n</math> share the same parity, <math>k</math> should be even. Then the least <math>k</math> that satisfies these requirements is <math>k=16</math>, giving <math>n=258</math>.\n\nIndeed - if we check our answer, it works. Therefore, the answer is <math>\\boxed{258}</math>.\n\n-Ross Gao"
  },
  {
    "year": 2022,
    "variant": "I",
    "problem_number": 1,
    "latex": "Quadratic polynomials <math>P(x)</math> and <math>Q(x)</math> have leading coefficients <math>2</math> and <math>-2,</math> respectively. The graphs of both polynomials pass through the two points <math>(16,54)</math> and <math>(20,53).</math> Find <math>P(0) + Q(0).</math>",
    "solution": "Let <math>R(x)=P(x)+Q(x).</math> Since the <math>x^2</math>-terms of <math>P(x)</math> and <math>Q(x)</math> cancel, we conclude that <math>R(x)</math> is a linear polynomial.\n\nNote that\n<cmath>\\begin{alignat*}{8}\nR(16) &= P(16)+Q(16) &&= 54+54 &&= 108, \\\\\nR(20) &= P(20)+Q(20) &&= 53+53 &&= 106,\n\\end{alignat*}</cmath>\nso the slope of <math>R(x)</math> is <math>\\frac{106-108}{20-16}=-\\frac12.</math>\n\nIt follows that the equation of <math>R(x)</math> is <cmath>R(x)=-\\frac12x+c</cmath> for some constant <math>c,</math> and we wish to find <math>R(0)=c.</math>\n\nWe substitute <math>x=20</math> into this equation to get <math>106=-\\frac12\\cdot20+c,</math> from which <math>c=\\boxed{116}.</math>\n\n~MRENTHUSIASM"
  },
  {
    "year": 2022,
    "variant": "I",
    "problem_number": 2,
    "latex": "Find the three-digit positive integer <math>\\underline{a}\\,\\underline{b}\\,\\underline{c}</math> whose representation in base nine is <math>\\underline{b}\\,\\underline{c}\\,\\underline{a}_{\\,\\text{nine}},</math> where <math>a,</math> <math>b,</math> and <math>c</math> are (not necessarily distinct) digits.",
    "solution": "We are given that <cmath>100a + 10b + c = 81b + 9c + a,</cmath> which rearranges to <cmath>99a = 71b + 8c.</cmath>\nTaking both sides modulo <math>71,</math> we have\n<cmath>\\begin{align*}\n28a &\\equiv 8c \\pmod{71} \\\\\n7a &\\equiv 2c \\pmod{71}.\n\\end{align*}</cmath>\nThe only solution occurs at <math>(a,c)=(2,7),</math> from which <math>b=2.</math>\n\nTherefore, the requested three-digit positive integer is <math>\\underline{a}\\,\\underline{b}\\,\\underline{c}=\\boxed{227}.</math>\n\n~MRENTHUSIASM"
  },
  {
    "year": 2022,
    "variant": "I",
    "problem_number": 3,
    "latex": "In isosceles trapezoid <math>ABCD</math>, parallel bases <math>\\overline{AB}</math> and <math>\\overline{CD}</math> have lengths <math>500</math> and <math>650</math>, respectively, and <math>AD=BC=333</math>. The angle bisectors of <math>\\angle{A}</math> and <math>\\angle{D}</math> meet at <math>P</math>, and the angle bisectors of <math>\\angle{B}</math> and <math>\\angle{C}</math> meet at <math>Q</math>. Find <math>PQ</math>.",
    "solution": "== Diagram ==\n<asy>\n/* Made by MRENTHUSIASM */\nsize(300);\npair A, B, C, D, A1, B1, C1, D1, P, Q;\nA = (-250,6*sqrt(731));\nB = (250,6*sqrt(731));\nC = (325,-6*sqrt(731));\nD = (-325,-6*sqrt(731));\nA1 = bisectorpoint(B,A,D);\nB1 = bisectorpoint(A,B,C);\nC1 = bisectorpoint(B,C,D);\nD1 = bisectorpoint(A,D,C);\nP = intersectionpoint(A--300*(A1-A)+A,D--300*(D1-D)+D);\nQ = intersectionpoint(B--300*(B1-B)+B,C--300*(C1-C)+C);\ndraw(anglemark(P,A,B,1000),red);\ndraw(anglemark(D,A,P,1000),red);\ndraw(anglemark(A,B,Q,1000),red);\ndraw(anglemark(Q,B,C,1000),red);\ndraw(anglemark(P,D,A,1000),red);\ndraw(anglemark(C,D,P,1000),red);\ndraw(anglemark(Q,C,D,1000),red);\ndraw(anglemark(B,C,Q,1000),red);\nadd(pathticks(anglemark(P,A,B,1000), n = 1, r = 0.15, s = 750, red));\nadd(pathticks(anglemark(D,A,P,1000), n = 1, r = 0.15, s = 750, red));\nadd(pathticks(anglemark(A,B,Q,1000), n = 1, r = 0.15, s = 750, red));\nadd(pathticks(anglemark(Q,B,C,1000), n = 1, r = 0.15, s = 750, red));\nadd(pathticks(anglemark(P,D,A,1000), n = 2, r = 0.12, spacing = 150, s = 750, red));\nadd(pathticks(anglemark(C,D,P,1000), n = 2, r = 0.12, spacing = 150, s = 750, red));\nadd(pathticks(anglemark(Q,C,D,1000), n = 2, r = 0.12, spacing = 150, s = 750, red));\nadd(pathticks(anglemark(B,C,Q,1000), n = 2, r = 0.12, spacing = 150, s = 750, red));\ndot(\"$A$\",A,1.5*dir(A),linewidth(4));\ndot(\"$B$\",B,1.5*dir(B),linewidth(4));\ndot(\"$C$\",C,1.5*dir(C),linewidth(4));\ndot(\"$D$\",D,1.5*dir(D),linewidth(4));\ndot(\"$P$\",P,1.5*NE,linewidth(4));\ndot(\"$Q$\",Q,1.5*NW,linewidth(4));\ndraw(A--B--C--D--cycle^^A--P--D^^B--Q--C^^P--Q);\nlabel(\"$500$\",midpoint(A--B),1.25N);\nlabel(\"$650$\",midpoint(C--D),1.25S);\nlabel(\"$333$\",midpoint(A--D),1.25W);\nlabel(\"$333$\",midpoint(B--C),1.25E);\n</asy>\n~MRENTHUSIASM ~ihatemath123"
  },
  {
    "year": 2022,
    "variant": "I",
    "problem_number": 4,
    "latex": "Let <math>w = \\dfrac{\\sqrt{3} + i}{2}</math> and <math>z = \\dfrac{-1 + i\\sqrt{3}}{2},</math> where <math>i = \\sqrt{-1}.</math> Find the number of ordered pairs <math>(r,s)</math> of positive integers not exceeding <math>100</math> that satisfy the equation <math>i \\cdot w^r = z^s.</math>",
    "solution": "We rewrite <math>w</math> and <math>z</math> in polar form:\n<cmath>\\begin{align*}\nw &= e^{i\\cdot\\frac{\\pi}{6}}, \\\\\nz &= e^{i\\cdot\\frac{2\\pi}{3}}.\n\\end{align*}</cmath>\nThe equation <math>i \\cdot w^r = z^s</math> becomes\n<cmath>\\begin{align*}\ne^{i\\cdot\\frac{\\pi}{2}} \\cdot \\left(e^{i\\cdot\\frac{\\pi}{6}}\\right)^r &= \\left(e^{i\\cdot\\frac{2\\pi}{3}}\\right)^s \\\\\ne^{i\\left(\\frac{\\pi}{2}+\\frac{\\pi}{6}r\\right)} &= e^{i\\left(\\frac{2\\pi}{3}s\\right)} \\\\\n\\frac{\\pi}{2}+\\frac{\\pi}{6}r &= \\frac{2\\pi}{3}s+2\\pi k \\\\\n3+r &= 4s+12k \\\\\n3+r &= 4(s+3k).\n\\end{align*}</cmath>\nfor some integer <math>k.</math> \n\nSince <math>4\\leq 3+r\\leq 103</math> and <math>4\\mid 3+r,</math> we conclude that\n<cmath>\\begin{align*}\n3+r &\\in \\{4,8,12,\\ldots,100\\}, \\\\\ns+3k &\\in \\{1,2,3,\\ldots,25\\}.\n\\end{align*}</cmath>\nNote that the values for <math>s+3k</math> and the values for <math>r</math> have one-to-one correspondence.\n\nWe apply casework to the values for <math>s+3k:</math>\n<ol style=\"margin-left: 1.5em;\">\n  <li><math>s+3k\\equiv0\\pmod{3}</math></li><p>\nThere are <math>8</math> values for <math>s+3k,</math> so there are <math>8</math> values for <math>r.</math> It follows that <math>s\\equiv0\\pmod{3},</math> so there are <math>33</math> values for <math>s.</math> <p>\nThere are <math>8\\cdot33=264</math> ordered pairs <math>(r,s)</math> in this case.\n  <li><math>s+3k\\equiv1\\pmod{3}</math></li><p>\nThere are <math>9</math> values for <math>s+3k,</math> so there are <math>9</math> values for <math>r.</math> It follows that <math>s\\equiv1\\pmod{3},</math> so there are <math>34</math> values for <math>s.</math> <p>\nThere are <math>9\\cdot34=306</math> ordered pairs <math>(r,s)</math> in this case.\n  <li><math>s+3k\\equiv2\\pmod{3}</math></li><p>\nThere are <math>8</math> values for <math>s+3k,</math> so there are <math>8</math> values for <math>r.</math> It follows that <math>s\\equiv2\\pmod{3},</math> so there are <math>33</math> values for <math>s.</math> <p>\nThere are <math>8\\cdot33=264</math> ordered pairs <math>(r,s)</math> in this case.\n</ol>\nTogether, the answer is <math>264+306+264=\\boxed{834}.</math>\n\n~MRENTHUSIASM"
  },
  {
    "year": 2022,
    "variant": "I",
    "problem_number": 5,
    "latex": "A straight river that is <math>264</math> meters wide flows from west to east at a rate of <math>14</math> meters per minute. Melanie and Sherry sit on the south bank of the river with Melanie a distance of <math>D</math> meters downstream from Sherry. Relative to the water, Melanie swims at <math>80</math> meters per minute, and Sherry swims at <math>60</math> meters per minute. At the same time, Melanie and Sherry begin swimming in straight lines to a point on the north bank of the river that is equidistant from their starting positions. The two women arrive at this point simultaneously. Find <math>D</math>.",
    "solution": "Define <math>m</math> as the number of minutes they swim for.\n\nLet their meeting point be <math>A</math>. Melanie is swimming against the current, so she must aim upstream from point <math>A</math>, to compensate for this; in particular, since she is swimming for <math>m</math> minutes, the current will push her <math>14m</math> meters downstream in that time, so she must aim for a point <math>B</math> that is <math>14m</math> meters upstream from point <math>A</math>. Similarly, Sherry is swimming downstream for <math>m</math> minutes, so she must also aim at point <math>B</math> to compensate for the flow of the current.\n\nIf Melanie and Sherry were to both aim at point <math>B</math> in a <i>currentless</i> river with the same dimensions, they would still both meet at that point simultaneously. Since there is no current in this scenario, the distances that Melanie and Sherry travel, respectively, are <math>80m</math> and <math>60m</math> meters. We can draw out this new scenario, with the dimensions that we have:\n<asy>\nunitsize(0.02cm);\ndraw((0,0)--(0,264)--(550,264)--(550,0)--cycle);\npair B = (198,264);\ndot(B^^(0,0)^^(550,0),linewidth(5));\ndraw((0,0)--B,dashed);\ndraw((550,0)--B,dashed);\n\nlabel(\"$60m$\", (0,0)--B, E);\nlabel(\"$80m$\", (550,0)--B, W);\nlabel(\"$264$\", (0,0)--(0,264), W);\nlabel(\"$\\frac{D}{2} - 14m$\", (0,264)--B, N);\nlabel(\"$\\frac{D}{2} + 14m$\", B--(550,264), N);\nlabel(\"$D$\", (0,0)--(550,0), S);\nlabel(\"$B$\", B, N);\n\nlabel(\"Downstream\", (350,325), E);\nlabel(\"Upstream\", (200,325), W);\ndraw((225,325)--(325,325), Arrows);\n</asy>\n(While it is indeed true that the triangle above with side lengths <math>60m</math>, <math>80m</math> and <math>D</math> is a right triangle, we do not know this yet, so we cannot assume this based on the diagram.)\n\nBy the Pythagorean Theorem, we have\n<cmath>\\begin{align*}\n264^{2} + \\left( \\frac{D}{2} - 14m \\right) ^{2} &= 3600m^{2} \\\\\n264^{2} + \\left( \\frac{D}{2} + 14m \\right) ^{2} &= 6400m^{2}.\n\\end{align*}</cmath>\n\nSubtracting the first equation from the second gives us <math>28Dm = 2800m^{2}</math>, so <math>D = 100m</math>. Substituting this into our first equation, we have that\n<cmath>\\begin{align*}264^{2} + 36^{2} m^{2} &= 60^{2}m^{2} \\\\\n264^{2} &= 96 \\cdot 24 \\cdot m^{2} \\\\\n11^{2} &= 4 \\cdot m^{2} \\\\\nm &= \\frac{11}{2}.\n\\end{align*}</cmath>\n\nSo <math>D = 100m = \\boxed{550}</math>.\n\n~ihatemath123"
  },
  {
    "year": 2022,
    "variant": "I",
    "problem_number": 6,
    "latex": "Find the number of ordered pairs of integers <math>(a, b)</math> such that the sequence<cmath>3, 4, 5, a, b, 30, 40, 50</cmath>is strictly increasing and no set of four (not necessarily consecutive) terms forms an arithmetic progression.",
    "solution": "Since <math>3,4,5,a</math> and <math>3,4,5,b</math> cannot be an arithmetic progression, <math>a</math> or <math>b</math> can never be <math>6</math>. Since <math>b, 30, 40, 50</math> and <math>a, 30, 40, 50</math> cannot be an arithmetic progression, <math>a</math> and <math>b</math> can never be <math>20</math>. Since <math>a < b</math>, there are <math>{24 - 2 \\choose 2} = 231</math> ways to choose <math>a</math> and <math>b</math> with these two restrictions in mind.\n\nHowever, there are still specific invalid cases counted in these <math>231</math> pairs <math>(a,b)</math>. Since\n<cmath>3,5,a,b</cmath>\ncannot form an arithmetic progression, <math>\\underline{(a,b) \\neq (7,9)}</math>.\n<cmath>a,b,30,50</cmath>\ncannot be an arithmetic progression, so <math>(a,b) \\neq (-10,10)</math>; however, since this pair was not counted in our <math>231</math>, we do not need to subtract it off.\n<cmath>3,a,b,30</cmath>\ncannot form an arithmetic progression, so <math>\\underline{(a,b) \\neq (12,21)}</math>.\n<cmath>4, a, b, 40</cmath>\ncannot form an arithmetic progression, so <math>\\underline{(a,b) \\neq (16,28)}</math>.\n<cmath>5, a,b, 50</cmath>\ncannot form an arithmetic progression, <math>(a,b) \\neq 20, 35</math>; however, since this pair was not counted in our <math>231</math> (since we disallowed <math>a</math> or <math>b</math> to be <math>20</math>), we do not to subtract it off.\n\nAlso, the sequences <math>(3,a,b,40)</math>, <math>(3,a,b,50)</math>, <math>(4,a,b,30)</math>, <math>(4,a,b,50)</math>, <math>(5,a,b,30)</math> and <math>(5,a,b,40)</math> will never be arithmetic, since that would require <math>a</math> and <math>b</math> to be non-integers.\n\nSo, we need to subtract off <math>3</math> progressions from the <math>231</math> we counted, to get our final answer of <math>\\boxed{228}</math>.\n\n~ ihatemath123"
  },
  {
    "year": 2022,
    "variant": "I",
    "problem_number": 7,
    "latex": "Let <math>a,b,c,d,e,f,g,h,i</math> be distinct integers from <math>1</math> to <math>9.</math> The minimum possible positive value of <cmath>\\dfrac{a \\cdot b \\cdot c - d \\cdot e \\cdot f}{g \\cdot h \\cdot i}</cmath> can be written as <math>\\frac{m}{n},</math> where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n.</math>",
    "solution": "To minimize a positive fraction, we minimize its numerator and maximize its denominator. It is clear that <math>\\frac{a \\cdot b \\cdot c - d \\cdot e \\cdot f}{g \\cdot h \\cdot i} \\geq \\frac{1}{7\\cdot8\\cdot9}.</math>\n\nIf we minimize the numerator, then <math>a \\cdot b \\cdot c - d \\cdot e \\cdot f = 1.</math> Note that <math>a \\cdot b \\cdot c \\cdot d \\cdot e \\cdot f = (a \\cdot b \\cdot c) \\cdot (a \\cdot b \\cdot c - 1) \\geq 6! = 720,</math> so <math>a \\cdot b \\cdot c \\geq 28.</math> It follows that <math>a \\cdot b \\cdot c</math> and <math>d \\cdot e \\cdot f</math> are consecutive composites with prime factors no other than <math>2,3,5,</math> and <math>7.</math> The smallest values for <math>a \\cdot b \\cdot c</math> and <math>d \\cdot e \\cdot f</math> are <math>36</math> and <math>35,</math> respectively. So, we have <math>\\{a,b,c\\} = \\{2,3,6\\}, \\{d,e,f\\} = \\{1,5,7\\},</math> and <math>\\{g,h,i\\} = \\{4,8,9\\},</math> from which <math>\\frac{a \\cdot b \\cdot c - d \\cdot e \\cdot f}{g \\cdot h \\cdot i} = \\frac{1}{288}.</math>\n\nIf we do not minimize the numerator, then <math>a \\cdot b \\cdot c - d \\cdot e \\cdot f > 1.</math> Note that <math>\\frac{a \\cdot b \\cdot c - d \\cdot e \\cdot f}{g \\cdot h \\cdot i} \\geq \\frac{2}{7\\cdot8\\cdot9} > \\frac{1}{288}.</math>\n\nTogether, we conclude that the minimum possible positive value of <math>\\frac{a \\cdot b \\cdot c - d \\cdot e \\cdot f}{g \\cdot h \\cdot i}</math> is <math>\\frac{1}{288}.</math> Therefore, the answer is <math>1+288=\\boxed{289}.</math>\n\n~MRENTHUSIASM ~jgplay"
  },
  {
    "year": 2022,
    "variant": "I",
    "problem_number": 8,
    "latex": "Equilateral triangle <math>\\triangle ABC</math> is inscribed in circle <math>\\omega</math> with radius <math>18.</math> Circle <math>\\omega_A</math> is tangent to sides <math>\\overline{AB}</math> and <math>\\overline{AC}</math> and is internally tangent to <math>\\omega.</math> Circles <math>\\omega_B</math> and <math>\\omega_C</math> are defined analogously. Circles <math>\\omega_A,</math> <math>\\omega_B,</math> and <math>\\omega_C</math> meet in six points---two points for each pair of circles. The three intersection points closest to the vertices of <math>\\triangle ABC</math> are the vertices of a large equilateral triangle in the interior of <math>\\triangle ABC,</math> and the other three intersection points are the vertices of a smaller equilateral triangle in the interior of <math>\\triangle ABC.</math> The side length of the smaller equilateral triangle can be written as <math>\\sqrt{a} - \\sqrt{b},</math> where <math>a</math> and <math>b</math> are positive integers. Find <math>a+b.</math>",
    "solution": "== Diagram ==\n<asy>\n/* Made by MRENTHUSIASM */\nsize(250);\npair A, B, C, W, WA, WB, WC, X, Y, Z;\nA = 18*dir(90);\nB = 18*dir(210);\nC = 18*dir(330);\nW = (0,0);\nWA = 6*dir(270);\nWB = 6*dir(30);\nWC = 6*dir(150);\nX = (sqrt(117)-3)*dir(270);\nY = (sqrt(117)-3)*dir(30);\nZ = (sqrt(117)-3)*dir(150); \nfilldraw(X--Y--Z--cycle,green,dashed);\ndraw(Circle(WA,12)^^Circle(WB,12)^^Circle(WC,12),blue);\ndraw(Circle(W,18)^^A--B--C--cycle);\ndot(\"$A$\",A,1.5*dir(A),linewidth(4));\ndot(\"$B$\",B,1.5*dir(B),linewidth(4));\ndot(\"$C$\",C,1.5*dir(C),linewidth(4));\ndot(\"$\\omega$\",W,1.5*dir(270),linewidth(4));\ndot(\"$\\omega_A$\",WA,1.5*dir(-WA),linewidth(4));\ndot(\"$\\omega_B$\",WB,1.5*dir(-WB),linewidth(4));\ndot(\"$\\omega_C$\",WC,1.5*dir(-WC),linewidth(4));\n</asy>\n~MRENTHUSIASM ~ihatemath123"
  },
  {
    "year": 2022,
    "variant": "I",
    "problem_number": 9,
    "latex": "Ellina has twelve blocks, two each of red (<math>\\textbf{R}</math>), blue (<math>\\textbf{B}</math>), yellow (<math>\\textbf{Y}</math>), green (<math>\\textbf{G}</math>), orange (<math>\\textbf{O}</math>), and purple (<math>\\textbf{P}</math>). Call an arrangement of blocks <math>\\textit{even}</math> if there is an even number of blocks between each pair of blocks of the same color. For example, the arrangement\n<cmath>\\textbf{R B B Y G G Y R O P P O}</cmath>\nis even. Ellina arranges her blocks in a row in random order. The probability that her arrangement is even is <math>\\frac{m}{n},</math> where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n.</math>",
    "solution": "Consider this position chart: <cmath>\\textbf{1 2 3 4 5 6 7 8 9 10 11 12}</cmath>\nSince there has to be an even number of spaces between each pair of the same color, spots <math>1</math>, <math>3</math>, <math>5</math>, <math>7</math>, <math>9</math>, and <math>11</math> contain some permutation of all <math>6</math> colored balls. Likewise, so do the even spots, so the number of even configurations is <math>6! \\cdot 6!</math> (after putting every pair of colored balls in opposite parity positions, the configuration can be shown to be even). This is out of <math>\\frac{12!}{(2!)^6}</math> possible arrangements, so the probability is: <cmath>\\frac{6!\\cdot6!}{\\frac{12!}{(2!)^6}} = \\frac{6!\\cdot2^6}{7\\cdot8\\cdot9\\cdot10\\cdot11\\cdot12} = \\frac{2^4}{7\\cdot11\\cdot3} = \\frac{16}{231},</cmath>\nwhich is in simplest form. So, <math>m + n = 16 + 231 = \\boxed{247}</math>.\n\n~Oxymoronic15"
  },
  {
    "year": 2022,
    "variant": "I",
    "problem_number": 10,
    "latex": "Three spheres with radii <math>11</math>, <math>13</math>, and <math>19</math> are mutually externally tangent. A plane intersects the spheres in three congruent circles centered at <math>A</math>, <math>B</math>, and <math>C</math>, respectively, and the centers of the spheres all lie on the same side of this plane. Suppose that <math>AB^2 = 560</math>. Find <math>AC^2</math>.",
    "solution": "== Diagram ==\n<asy>\n/* Made by MRENTHUSIASM */\nsize(300);\nimport graph3;\nimport solids;\n\ncurrentprojection=orthographic((7,0.2,9));\ntriple A, B, C, OA, OB, OC;\nA = (0,0,0);\nB = (0,sqrt(560),0);\nC = intersectionpoints(Circle(A,sqrt(756),(0,0,1)),Circle(B,sqrt(960),(0,0,1)))[1];\nOA = (0,0,4);\nOB = (0,sqrt(560),8);\nOC = (C.x,C.y,16);\n\ndraw(shift(OC)*scale3(19)*unitsphere,green,light=Viewport);\ndraw(shift(OA)*scale3(11)*unitsphere,red,light=Viewport);\ndraw(shift(OB)*scale3(13)*unitsphere,yellow,light=Viewport);\ndraw(Circle(A,sqrt(105),(0,0,1))^^Circle(B,sqrt(105),(0,0,1))^^Circle(C,sqrt(105),(0,0,1)));\ndraw((-70,-20,0)--(-70,45,0)--(20,45,0)--(20,-20,0)--cycle);\n\ndot(OA^^OB^^OC,linewidth(4.5));\ndot(\"$A$\",A,(0,1,0),linewidth(4.5));\ndot(\"$B$\",B,(0,1,0),linewidth(4.5));\ndot(\"$C$\",C,(0,1.5,0),linewidth(4.5));\n</asy>\n~MRENTHUSIASM"
  },
  {
    "year": 2022,
    "variant": "I",
    "problem_number": 11,
    "latex": "Let <math>ABCD</math> be a parallelogram with <math>\\angle BAD < 90^\\circ.</math> A circle tangent to sides <math>\\overline{DA},</math> <math>\\overline{AB},</math> and <math>\\overline{BC}</math> intersects diagonal <math>\\overline{AC}</math> at points <math>P</math> and <math>Q</math> with <math>AP < AQ,</math> as shown. Suppose that <math>AP=3,</math> <math>PQ=9,</math> and <math>QC=16.</math> Then the area of <math>ABCD</math> can be expressed in the form <math>m\\sqrt{n},</math> where <math>m</math> and <math>n</math> are positive integers, and <math>n</math> is not divisible by the square of any prime. Find <math>m+n.</math>\n\n<asy>\ndefaultpen(linewidth(0.6)+fontsize(11));\nsize(8cm);\npair A,B,C,D,P,Q;\nA=(0,0);\nlabel(\"$A$\", A, SW);\nB=(6,15);\nlabel(\"$B$\", B, NW);\nC=(30,15);\nlabel(\"$C$\", C, NE);\nD=(24,0);\nlabel(\"$D$\", D, SE);\nP=(5.2,2.6);\nlabel(\"$P$\", (5.8,2.6), N);\nQ=(18.3,9.1);\nlabel(\"$Q$\", (18.1,9.7), W);\ndraw(A--B--C--D--cycle);\ndraw(C--A);\ndraw(Circle((10.95,7.45), 7.45));\ndot(A^^B^^C^^D^^P^^Q);\n</asy>",
    "solution": "Let's redraw the diagram, but extend some helpful lines.\n\n<asy>\nsize(10cm);\npair A,B,C,D,EE,F,P,Q,O;\nA=(0,0);\nEE = (24,15);\nF = (30,0);\nO = (10.5,7.5);\nlabel(\"$A$\", A, SW);\nB=(6,15);\nlabel(\"$B$\", B, NW);\nC=(30,15);\nlabel(\"$C$\", C, NE);\nD=(24,0);\nlabel(\"$D$\", D, SE);\nP=(5.2,2.6);\nlabel(\"$P$\", (5.8,2.6), N);\nQ=(18.3,9.1);\nlabel(\"$Q$\", (18.1,9.7), W);\ndraw(A--B--C--D--cycle);\ndraw(C--A);\ndraw(Circle((10.95,7.45), 7.45));\ndot(A^^B^^C^^D^^P^^Q);\ndot(O);\nlabel(\"$O$\",O,W);\ndraw((10.5,15)--(10.5,0));\ndraw(D--(24,15),dashed);\ndraw(C--(30,0),dashed);\ndraw(D--(30,0));\ndot(EE);\ndot(F);\n\nlabel(\"$3$\", midpoint(A--P), S);\nlabel(\"$9$\", midpoint(P--Q), S);\nlabel(\"$16$\", midpoint(Q--C), S);\nlabel(\"$x$\", (5.5,13.75), W);\nlabel(\"$20$\", (20.25,15), N);\nlabel(\"$6$\", (5.25,0), S);\nlabel(\"$6$\", (1.5,3.75), W);\nlabel(\"$x$\", (8.25,15),N);\nlabel(\"$14+x$\", (17.25,0), S);\nlabel(\"$6-x$\", (27,15), N);\nlabel(\"$6+x$\", (27,7.5), S);\nlabel(\"$6\\sqrt{3}$\", (30,7.5), E);\nlabel(\"$T_1$\", (10.5,15), N);\nlabel(\"$T_2$\", (10.5,0), S);\nlabel(\"$T_3$\", (4.5,11.25), W);\nlabel(\"$E$\", EE, N);\nlabel(\"$F$\", F, S);\n\n</asy>\n\nWe obviously see that we must use power of a point since they've given us lengths in a circle and there are intersection points. Let <math>T_1, T_2, T_3</math> be our tangents from the circle to the parallelogram. By the secant power of a point, the power of <math>A = 3 \\cdot (3+9) = 36</math>. Then <math>AT_2  = AT_3 = \\sqrt{36} = 6</math>. Similarly, the power of <math>C = 16 \\cdot (16+9) = 400</math> and  <math>CT_1 = \\sqrt{400} = 20</math>. We let <math>BT_3 = BT_1 = x</math> and label the diagram accordingly.\n\nNotice that because <math>BC = AD, 20+x = 6+DT_2 \\implies DT_2 = 14+x</math>. Let <math>O</math> be the center of the circle. Since <math>OT_1</math> and <math>OT_2</math> intersect <math>BC</math> and <math>AD</math>, respectively, at right angles, we have <math>T_2T_1CD</math> is a right-angled trapezoid and more importantly, the diameter of the circle is the height of the triangle. Therefore, we can drop an altitude from <math>D</math> to <math>BC</math> and <math>C</math> to <math>AD</math>, and both are equal to <math>2r</math>. Since <math>T_1E = T_2D</math>, <math>20 - CE = 14+x \\implies CE = 6-x</math>. Since <math>CE = DF, DF = 6-x</math> and <math>AF = 6+14+x+6-x = 26</math>. We can now use Pythagorean theorem on <math>\\triangle ACF</math>; we have <math>26^2 + (2r)^2 = (3+9+16)^2 \\implies 4r^2 = 784-676 \\implies 4r^2 = 108 \\implies 2r = 6\\sqrt{3}</math> and <math>r^2 = 27</math>.\n\nWe know that <math>CD = 6+x</math> because <math>ABCD</math> is a parallelogram. Using Pythagorean theorem on <math>\\triangle CDF</math>, <math>(6+x)^2 = (6-x)^2 + 108 \\implies (6+x)^2-(6-x)^2 = 108 \\implies 12 \\cdot 2x = 108 \\implies 2x = 9 \\implies x = \\frac{9}{2}</math>. Therefore, base <math>BC = 20 + \\frac{9}{2} = \\frac{49}{2}</math>. Thus the area of the parallelogram is the base times the height, which is <math>\\frac{49}{2} \\cdot 6\\sqrt{3} = 147\\sqrt{3}</math> and the answer is <math>\\boxed{150}</math>\n\n\n~KingRavi"
  },
  {
    "year": 2022,
    "variant": "I",
    "problem_number": 12,
    "latex": "For any finite set <math>X</math>, let <math>| X |</math> denote the number of elements in <math>X</math>. Define\n<cmath>\nS_n = \\sum | A \\cap B | ,\n</cmath>\nwhere the sum is taken over all ordered pairs <math>(A, B)</math> such that <math>A</math> and <math>B</math> are subsets of <math>\\left\\{ 1 , 2 , 3,  \\cdots , n \\right\\}</math> with <math>|A| = |B|</math>.\nFor example, <math>S_2 = 4</math> because the sum is taken over the pairs of subsets\n<cmath>\n(A, B) \\in \\left\\{ (\\emptyset, \\emptyset) , ( \\{1\\} , \\{1\\} ), ( \\{1\\} , \\{2\\} ) , ( \\{2\\} , \\{1\\} ) , ( \\{2\\} , \\{2\\} ) , ( \\{1 , 2\\} , \\{1 , 2\\} ) \\right\\} ,\n</cmath>\ngiving <math>S_2 = 0 + 1 + 0 + 0 + 1 + 2 = 4</math>.\nLet <math>\\frac{S_{2022}}{S_{2021}} = \\frac{p}{q}</math>, where <math>p</math> and <math>q</math> are relatively prime positive integers. Find the remainder when <math>p + q</math> is divided by\n1000.",
    "solution": "Let's try out for small values of <math>n</math> to get a feel for the problem. When <math>n=1, S_n</math> is obviously <math>1</math>. The problem states that for <math>n=2, S_n</math> is <math>4</math>. Let's try it out for <math>n=3</math>. \n\nLet's perform casework on the number of elements in <math>A, B</math>. \n\n<math>\\textbf{Case 1:} |A| = |B| = 1</math>\n\nIn this case, the only possible equivalencies will be if they are the exact same element, which happens <math>3</math> times.\n\n<math>\\textbf{Case 2:} |A| = |B| = 2</math>\n \nIn this case, if they share both elements, which happens <math>3</math> times, we will get <math>2</math> for each time, and if they share only one element, which also happens <math>6</math> times, we will get <math>1</math> for each time, for a total of <math>12</math> for this case.\n\n<math>\\textbf{Case 3:} |A| = |B| = 3</math>\n\nIn this case, the only possible scenario is that they both are the set <math>\\{1,2,3\\}</math>, and we have <math>3</math> for this case.\n\n\nIn total, <math>S_3 = 18</math>.\n\nNow notice, the number of intersections by each element <math>1 \\ldots 3</math>, or in general, <math>1 \\ldots n</math> is equal for each element because of symmetry - each element when <math>n=3</math> adds <math>6</math> to the answer. Notice that <math>6 = \\binom{4}{2}</math> - let's prove that <math>S_n = n \\cdot \\binom{2n-2}{n-1}</math> (note that you can assume this and answer the problem if you're running short on time in the real test).\n\nLet's analyze the element <math>k</math> - to find a general solution, we must count the number of these subsets that <math>k</math> appears in. For <math>k</math> to be in both <math>A</math> and <math>B</math>, we need both sets to contain <math>k</math> and another subset of <math>1</math> through <math>n</math> not including <math>k</math>. (<math>A = \\{k\\} \\cup A'| A' \\subset \\{1,2,\\ldots,n\\} \\land A' \\not \\subset \\{k\\} </math> and \n<math>B = \\{k\\} \\cup B'| B' \\subset \\{1,2,\\ldots,n\\} \\land B' \\not \\subset \\{k\\} </math>)\n\nFor any <math>0\\leq l \\leq n-1</math> that is the size of both <math>A'</math> and <math>B'</math>, the number of ways to choose the subsets <math>A'</math> and <math>B'</math> is <math>\\binom{n-1}{l}</math> for both subsets, so the total number of ways to choose the subsets are <math>\\binom{n-1}{l}^2</math>.\nNow we sum this over all possible <math>l</math>'s to find the total number of ways to form sets <math>A</math> and <math>B</math> that contain <math>k</math>. This is equal to <math>\\sum_{l=0}^{n-1} \\binom{n-1}{l}^2</math>. This is a simplification of Vandermonde's identity, which states that <math>\\sum_{k=0}^{r} \\binom{m}{k} \\cdot \\binom{n}{r-k} = \\binom{m+n}{r}</math>. Here, <math>m</math>, <math>n</math> and <math>r</math> are all <math>n-1</math>, so this sum is equal to <math>\\binom{2n-2}{n-1}</math>. Finally, since we are iterating over all <math>k</math>'s for <math>n</math> values of <math>k</math>, we have <math>S_n = n \\cdot \\binom{2n-2}{n-1}</math>, proving our claim.\n\nWe now plug in <math>S_n</math> to the expression we want to find. This turns out to be <math>\\frac{2022 \\cdot \\binom{4042}{2021}}{2021 \\cdot \\binom{4040}{2020}}</math>. Expanding produces <math>\\frac{2022 \\cdot 4042!\\cdot 2020! \\cdot 2020!}{2021 \\cdot 4040! \\cdot 2021! \\cdot 2021!}</math>.\n\nAfter cancellation, we have <cmath>\\frac{2022 \\cdot 4042 \\cdot 4041}{2021 \\cdot 2021 \\cdot 2021} \\implies \\frac{4044\\cdot 4041}{2021 \\cdot 2021}</cmath>\n\n<math>4044</math> and <math>4041</math> don't have any common factors with <math>2021</math>, so we're done with the simplification. We want to find <math>4044 \\cdot 4041 + 2021^2 \\pmod{1000} \\equiv 44 \\cdot 41 + 21^2 \\pmod{1000} \\equiv 1804+441 \\pmod{1000} \\equiv 2245 \\pmod{1000} \\equiv \\boxed{245}</math>\n\n\n~KingRavi\n~Edited by MY-2"
  },
  {
    "year": 2022,
    "variant": "I",
    "problem_number": 13,
    "latex": "Let <math>S</math> be the set of all rational numbers that can be expressed as a repeating decimal in the form <math>0.\\overline{abcd},</math> where at least one of the digits <math>a,</math> <math>b,</math> <math>c,</math> or <math>d</math> is nonzero. Let <math>N</math> be the number of distinct numerators obtained when numbers in <math>S</math> are written as fractions in lowest terms. For example, both <math>4</math> and <math>410</math> are counted among the distinct numerators for numbers in <math>S</math> because <math>0.\\overline{3636} = \\frac{4}{11}</math> and <math>0.\\overline{1230} = \\frac{410}{3333}.</math> Find the remainder when <math>N</math> is divided by <math>1000.</math>",
    "solution": "<math>0.\\overline{abcd}=\\frac{abcd}{9999} = \\frac{x}{y}</math>, <math>9999=9\\times 11\\times 101</math>.\n\nThen we need to find the number of positive integers <math>x</math> that (with one of more <math>y</math> such that <math>y|9999</math>) can meet the requirement <math>1 \\leq {x}\\cdot\\frac{9999}{y} \\leq 9999</math>.\n\nMake cases by factors of <math>x</math>. (A venn diagram of cases would be nice here.)\n\n\nCase <math>A</math>:\n\n<math>3 \\nmid x</math> and <math>11 \\nmid x</math> and <math>101 \\nmid x</math>, aka <math>\\gcd (9999, x)=1</math>.\n\nEuler's totient function counts these: \n<cmath>\\varphi \\left(3^2 \\cdot 11 \\cdot 101 \\right) = ((3-1)\\cdot 3)(11-1)(101-1)= \\bf{6000}</cmath> values (but it's enough to note that it's a multiple of 1000 and thus does not contribute to the final answer)\n\nNote: You don't need to know this formula. The remaining cases essentially re-derive the same computation for other factors of <math>9999</math>. This case isn't actually different. \n\nThe remaining cases have <math>3</math> (or <math>9</math>), <math>11</math>, and/or <math>101</math> as factors of <math>abcd</math>, which cancel out part of <math>9999</math>.\nNote: Take care about when to use <math>3</math> vs <math>9</math>.\n\n\nCase <math>B</math>: <math>3|x</math>, but <math>11 \\nmid x</math> and <math>101 \\nmid x</math>. \n\nThen <math>abcd=9x</math> to leave 3 uncancelled, and <math>x=3p</math>, \nso  <math>x \\leq \\frac{9999}{9} = 1111</math>, giving:\n\n<math>x \\in 3 \\cdot \\{1, \\dots \\left\\lfloor \\frac{1111}{3}\\right\\rfloor\\}</math>,\n\n<math>x \\notin (3\\cdot 11) \\cdot \\{1 \\dots \\left\\lfloor \\frac{1111}{3\\cdot 11}\\right\\rfloor\\}</math>,\n\n<math>x \\notin (3 \\cdot 101) \\cdot \\{1 \\dots \\left\\lfloor \\frac{1111}{3 \\cdot 101}\\right\\rfloor\\}</math>,\n\nfor a subtotal of <math>\\left\\lfloor \\frac{1111}{3}\\right\\rfloor -  (\\left\\lfloor\\frac{1111}{3 \\cdot 11}\\right\\rfloor + \\left\\lfloor\\frac{1111}{3 \\cdot 101}\\right\\rfloor ) = 370 - (33+3) = \\bf{334}</math> values.\n\n\nCase <math>C</math>: <math>11|x</math>, but <math>3 \\nmid x</math> and <math>101 \\nmid x</math>. \n\nMuch like previous case, <math>abcd</math> is <math>11x</math>, so  <math>x \\leq \\frac{9999}{11} = 909  </math>,  \n\ngiving <math>\\left\\lfloor \\frac{909}{11}\\right\\rfloor -  \\left(\\left\\lfloor\\frac{909}{11 \\cdot 3}\\right\\rfloor + \\left\\lfloor\\frac{909}{11 \\cdot 101}\\right\\rfloor \\right) = 82 - (27 + 0) = \\bf{55}</math> values.\n\n\nCase <math>D</math>: <math>3|x</math> and <math>11|x</math> (so <math>33|x</math>), but <math>101 \\nmid x</math>.  \n\nHere, <math>abcd</math> is <math>99x</math>, so  <math>x \\leq \\frac{9999}{99} = 101  </math>, \n\ngiving <math>\\left\\lfloor \\frac{101}{33}\\right\\rfloor - \\left\\lfloor \\frac{101}{33 \\cdot 101}\\right\\rfloor = 3-0 = \\bf{3}</math> values.\n\n\nCase <math>E</math>: <math>101|x</math>.\n\nHere, <math>abcd</math> is <math>101x</math>, so  <math>x \\leq \\frac{9999}{101} = 99  </math>,\n\ngiving <math>\\left\\lfloor \\frac{99}{101}\\right\\rfloor = \\bf{0}</math> values, so we don't need to account for multiples of <math>3</math> and <math>11</math>. \n\nTo sum up, the answer is <cmath>6000+334+55+3+0\\equiv\\boxed{392} \\pmod{1000}.</cmath>\n\n===Clarification===\nIn this context, when the solution says, \"Then <math>abcd=9x</math> to leave 3 uncancelled, and <math>x=3p</math>,\" it is a bit vague. The best way to clarify this is by this exact example - what is really meant is we need to divide by 9 first to achieve 1111, which has no multiple of 3; thus, given that the fraction x/y is the simplest form, x can be a multiple of 3.\n\nSimilar explanations can be said when the solution divides 9999 by 11, 101, and uses that divided result in the PIE calculation rather than 9999.\n\n'''mathboy282'''"
  },
  {
    "year": 2022,
    "variant": "I",
    "problem_number": 14,
    "latex": "Given <math>\\triangle ABC</math> and a point <math>P</math> on one of its sides, call line <math>\\ell</math> the <math>\\textit{splitting line}</math> of <math>\\triangle ABC</math> through <math>P</math> if <math>\\ell</math> passes through <math>P</math> and divides <math>\\triangle ABC</math> into two polygons of equal perimeter. Let <math>\\triangle ABC</math> be a triangle where <math>BC = 219</math> and <math>AB</math> and <math>AC</math> are positive integers. Let <math>M</math> and <math>N</math> be the midpoints of <math>\\overline{AB}</math> and <math>\\overline{AC},</math> respectively, and suppose that the splitting lines of <math>\\triangle ABC</math> through <math>M</math> and <math>N</math> intersect at <math>30^\\circ.</math> Find the perimeter of <math>\\triangle ABC.</math>",
    "solution": "==The Geometry Part - Solution 1==\n\nConsider the splitting line through <math>M</math>. Extend <math>D</math> on ray <math>BC</math> such that <math>CD=CA</math>. Then the splitting line bisects segment <math>BD</math>, so in particular it is the midline of triangle <math>ABD</math> and thus it is parallel to <math>AD</math>. But since triangle <math>ACD</math> is isosceles, we can easily see <math>AD</math> is parallel to the angle bisector of <math>C</math>, so the splitting line is also parallel to this bisector, and similar for the splitting line through <math>N</math>. Some simple angle chasing reveals the condition is now equivalent to <math>\\angle A=120^\\circ</math>.\n\n- MortemEtInteritum"
  },
  {
    "year": 2022,
    "variant": "I",
    "problem_number": 15,
    "latex": "Let <math>x,</math> <math>y,</math> and <math>z</math> be positive real numbers satisfying the system of equations:\n<cmath>\\begin{align*}\n\\sqrt{2x-xy} + \\sqrt{2y-xy} &= 1 \\\\\n\\sqrt{2y-yz} + \\sqrt{2z-yz} &= \\sqrt2 \\\\\n\\sqrt{2z-zx} + \\sqrt{2x-zx} &= \\sqrt3.\n\\end{align*}</cmath> \nThen <math>\\left[ (1-x)(1-y)(1-z) \\right]^2</math> can be written as <math>\\frac{m}{n},</math> where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n.</math>",
    "solution": "First, let define a triangle with side lengths <math>\\sqrt{2x}</math>, <math>\\sqrt{2z}</math>, and <math>l</math>, with altitude from <math>l</math>'s equal to <math>\\sqrt{xz}</math>. <math>l = \\sqrt{2x - xz} + \\sqrt{2z - xz}</math>, the left side of one equation in the problem.\n\nLet  <math>\\theta</math> be angle opposite the side with length <math>\\sqrt{2x}</math>. Then the altitude has length <math>\\sqrt{2z} \\cdot \\sin(\\theta) = \\sqrt{xz}</math> and thus <math>\\sin(\\theta) = \\sqrt{\\frac{x}{2}}</math>, so <math>x=2\\sin^2(\\theta)</math> and the side length <math>\\sqrt{2x}</math> is equal to <math>2\\sin(\\theta)</math>.\n\nWe can symmetrically apply this to the two other equations/triangles. \n\nBy law of sines, we have <math>\\frac{2\\sin(\\theta)}{\\sin(\\theta)} = 2R</math>, with <math>R=1</math> as the circumradius, same for all 3 triangles. \nThe circumcircle's central angle to a side is <math>2 \\arcsin(l/2)</math>, so the 3 triangles' <math>l=1, \\sqrt{2}, \\sqrt{3}</math>,  have angles <math>120^{\\circ}, 90^{\\circ}, 60^{\\circ}</math>, respectively.\n\nThis means that by half angle arcs, we see that we have in some order, <math>x=2\\sin^2(\\alpha)</math>, <math>y=2\\sin^2(\\beta)</math>, and <math>z=2\\sin^2(\\gamma)</math> (not necessarily this order, but here it does not matter due to symmetry), satisfying that <math>\\alpha+\\beta=180^{\\circ}-\\frac{120^{\\circ}}{2}</math>, <math>\\beta+\\gamma=180^{\\circ}-\\frac{90^{\\circ}}{2}</math>, and <math>\\gamma+\\alpha=180^{\\circ}-\\frac{60^{\\circ}}{2}</math>. Solving, we get <math>\\alpha=\\frac{135^{\\circ}}{2}</math>, <math>\\beta=\\frac{105^{\\circ}}{2}</math>, and <math>\\gamma=\\frac{165^{\\circ}}{2}</math>.\n\nWe notice that <cmath>[(1-x)(1-y)(1-z)]^2=[\\sin(2\\alpha)\\sin(2\\beta)\\sin(2\\gamma)]^2=[\\sin(135^{\\circ})\\sin(105^{\\circ})\\sin(165^{\\circ})]^2</cmath> <cmath>=\\left(\\frac{\\sqrt{2}}{2} \\cdot \\frac{\\sqrt{6}-\\sqrt{2}}{4} \\cdot \\frac{\\sqrt{6}+\\sqrt{2}}{4}\\right)^2 = \\left(\\frac{\\sqrt{2}}{8}\\right)^2=\\frac{1}{32} \\to \\boxed{033}. \\blacksquare</cmath>\n\n- kevinmathz"
  },
  {
    "year": 2022,
    "variant": "II",
    "problem_number": 1,
    "latex": "Adults made up <math>\\frac5{12}</math> of the crowd of people at a concert. After a bus carrying <math>50</math> more people arrived, adults made up <math>\\frac{11}{25}</math> of the people at the concert. Find the minimum number of adults who could have been at the concert after the bus arrived.",
    "solution": "Let <math>x</math> be the number of people at the party before the bus arrives. We know that <math>x\\equiv 0\\pmod {12}</math>, as <math>\\frac{5}{12}</math> of people at the party before the bus arrives are adults. Similarly, we know that <math>x + 50 \\equiv 0 \\pmod{25}</math>, as <math>\\frac{11}{25}</math> of the people at the party are adults after the bus arrives. <math>x + 50 \\equiv 0 \\pmod{25}</math> can be reduced to <math>x \\equiv 0 \\pmod{25}</math>, and since we are looking for the minimum amount of people, <math>x</math> is <math>300</math>. That means there are <math>350</math> people at the party after the bus arrives, and thus there are <math>350 \\cdot \\frac{11}{25} = \\boxed{154}</math> adults at the party.\n\n~eamo"
  },
  {
    "year": 2022,
    "variant": "II",
    "problem_number": 2,
    "latex": "Azar, Carl, Jon, and Sergey are the four players left in a singles tennis tournament. They are randomly assigned opponents in the semifinal matches, and the winners of those matches play each other in the final match to determine the winner of the tournament. When Azar plays Carl, Azar will win the match with probability <math>\\frac23</math>. When either Azar or Carl plays either Jon or Sergey, Azar or Carl will win the match with probability <math>\\frac34</math>. Assume that outcomes of different matches are independent. The probability that Carl will win the tournament is <math>\\frac{p}{q}</math>, where <math>p</math> and <math>q</math> are relatively prime positive integers. Find <math>p+q</math>.",
    "solution": "Let <math>A</math> be Azar, <math>C</math> be Carl, <math>J</math> be Jon, and <math>S</math> be Sergey. The <math>4</math> circles represent the <math>4</math> players, and the arrow is from the winner to the loser with the winning probability as the label.\n\n[[File:2022AIMEIIP2.png|400px]]\n\nThis problem can be solved by using <math>2</math> cases.\n\n<math>\\textbf{Case 1:}</math> <math>C</math>'s opponent for the semifinal is <math>A</math>\n\nThe probability <math>C</math>'s opponent is <math>A</math> is <math>\\frac13</math>. Therefore the probability <math>C</math> wins the semifinal in this case is <math>\\frac13 \\cdot \\frac13</math>. The other semifinal game is played between <math>J</math> and <math>S</math>, it doesn't matter who wins because <math>C</math> has the same probability of winning either one. The probability of <math>C</math> winning in the final is <math>\\frac34</math>, so the probability of <math>C</math> winning the tournament in case 1 is <math>\\frac13 \\cdot \\frac13 \\cdot \\frac34</math>\n\n\n<math>\\textbf{Case 2:}</math> <math>C</math>'s opponent for the semifinal is <math>J</math> or <math>S</math>\n\nIt doesn't matter if <math>C</math>'s opponent is <math>J</math> or <math>S</math> because <math>C</math> has the same probability of winning either one. The probability <math>C</math>'s opponent is <math>J</math> or <math>S</math> is <math>\\frac23</math>. Therefore the probability <math>C</math> wins the semifinal in this case is <math>\\frac23 \\cdot \\frac34</math>. The other semifinal game is played between <math>A</math> and <math>J</math> or <math>S</math>. In this case it matters who wins in the other semifinal game because the probability of <math>C</math> winning <math>A</math> and <math>J</math> or <math>S</math> is different. \n\n<math>\\textbf{Case 2.1:}</math> <math>C</math>'s opponent for the final is <math>A</math>\n\nFor this to happen, <math>A</math> must have won <math>J</math> or <math>S</math> in the semifinal, the probability is <math>\\frac34</math>. Therefore, the probability that <math>C</math> won <math>A</math> in the final is <math>\\frac34 \\cdot \\frac13</math>.\n\n<math>\\textbf{Case 2.2:}</math> <math>C</math>'s opponent for the final is <math>J</math> or <math>S</math>\n\nFor this to happen, <math>J</math> or <math>S</math> must have won <math>A</math> in the semifinal, the probability is <math>\\frac14</math>. Therefore, the probability that <math>C</math> won <math>J</math> or <math>S</math> in the final is <math>\\frac14 \\cdot \\frac34</math>.\n\nIn Case 2 the probability of <math>C</math> winning the tournament is <math>\\frac23 \\cdot \\frac34 \\cdot (\\frac34 \\cdot \\frac13 + \\frac14 \\cdot \\frac34)</math>\n\nAdding case 1 and case 2 together we get <math>\\frac13 \\cdot \\frac13 \\cdot \\frac34 + \\frac23 \\cdot \\frac34 \\cdot (\\frac34 \\cdot \\frac13 + \\frac14 \\cdot \\frac34) = \\frac{29}{96},</math> so the answer is <math>29 + 96 = \\boxed{\\textbf{125}}</math>.\n\n~[https://artofproblemsolving.com/wiki/index.php/User:Isabelchen isabelchen]"
  },
  {
    "year": 2022,
    "variant": "II",
    "problem_number": 3,
    "latex": "A right square pyramid with volume <math>54</math> has a base with side length <math>6.</math> The five vertices of the pyramid all lie on a sphere with radius <math>\\frac mn</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "==Diagram==\n\n<asy>\nimport three;\nimport settings;\nleftbutton=new string[] {\"rotate\",\"zoom\",\"shift\",\"pan\"};\nmiddlebutton=new string[] {\"\"};\nrightbutton=new string[] {\"zoom\",\"rotateX\",\"rotateY\",\"rotateZ\"};\nwheelup=new string[] {\"zoomin\"};\nwheeldown=new string[] {\"zoomout\"};\nimport three;\npen p = rgb(\"00FF80\")+opacity(0.25);\npen q = rgb(\"FF8000\")+opacity(0.75);\ntriple A = (-3,-3,0);\ntriple B = (-3,3,0);\ntriple C = (3,3,0);\ntriple D = (3,-3,0);\ntriple F = (0,0,9/2);\nsurface sphere = shift((0,0,1/4))*scale3(17/4)*unitsphere;\ndraw(sphere,p);\ndraw(A--B--C--D--A--F--B--F--C--F--D--F--A,q);\ndot(A);\ndot(B);\ndot(C);\ndot(D);\ndot(F);\n</asy>"
  },
  {
    "year": 2022,
    "variant": "II",
    "problem_number": 4,
    "latex": "There is a positive real number <math>x</math> not equal to either <math>\\tfrac{1}{20}</math> or <math>\\tfrac{1}{2}</math> such that<cmath>\\log_{20x} (22x)=\\log_{2x} (202x).</cmath>The value <math>\\log_{20x} (22x)</math> can be written as <math>\\log_{10} (\\tfrac{m}{n})</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "Define <math>a</math> to be <math>\\log_{20x} (22x) = \\log_{2x} (202x)</math>, what we are looking for. Then, by the definition of the logarithm,\n<cmath>\\begin{cases} \n(20x)^{a} &= 22x \\\\\n(2x)^{a} &= 202x. \n\\end{cases}</cmath>\nDividing the first equation by the second equation gives us <math>10^a = \\frac{11}{101}</math>, so by the definition of logs, <math>a = \\log_{10} \\frac{11}{101}</math>. This is what the problem asked for, so the fraction <math>\\frac{11}{101}</math> gives us <math>m+n = \\boxed{112}</math>.\n\n~ihatemath123"
  },
  {
    "year": 2022,
    "variant": "II",
    "problem_number": 5,
    "latex": "Twenty distinct points are marked on a circle and labeled <math>1</math> through <math>20</math> in clockwise order. A line segment is drawn between every pair of points whose labels differ by a prime number. Find the number of triangles formed whose vertices are among the original <math>20</math> points.",
    "solution": "Let <math>a</math>, <math>b</math>, and <math>c</math> be the vertex of a triangle that satisfies this problem, where <math>a > b > c</math>.\n<cmath>a - b = p_1</cmath>\n<cmath>b - c = p_2</cmath>\n<cmath>a - c = p_3</cmath>\n\n<math>p_3 = a - c = a - b + b - c = p_1 + p_2</math>. Because <math>p_3</math> is the sum of two primes, <math>p_1</math> and <math>p_2</math>, <math>p_1</math> or <math>p_2</math> must be <math>2</math>. Let <math>p_1 = 2</math>, then <math>p_3 = p_2 + 2</math>. There are only <math>8</math> primes less than <math>20</math>: <math>2, 3, 5, 7, 11, 13, 17, 19</math>. Only <math>3, 5, 11, 17</math> plus <math>2</math> equals another prime. <math>p_2 \\in \\{ 3, 5, 11, 17 \\}</math>.\n\nOnce <math>a</math> is determined, <math>a = b+2</math> and <math>b = c + p_2</math>. There are <math>18</math> values of <math>a</math> where <math>b+2 \\le 20</math>, and <math>4</math> values of <math>p_2</math>. Therefore the answer is <math>18 \\cdot 4 = \\boxed{\\textbf{072}}</math>\n\n~[https://artofproblemsolving.com/wiki/index.php/User:Isabelchen isabelchen]\n\n===Note: This solution seems incorrect.===\nAlthough the answer is correct, solution 2 below is a more accurate way to approach this problem. I agree, I don't get how <math>a + 2 \\leq 20</math>."
  },
  {
    "year": 2022,
    "variant": "II",
    "problem_number": 6,
    "latex": "Let <math>x_1\\leq x_2\\leq \\cdots\\leq x_{100}</math> be real numbers such that <math>|x_1| + |x_2| + \\cdots + |x_{100}| = 1</math> and <math>x_1 + x_2 + \\cdots + x_{100} = 0</math>. Among all such <math>100</math>-tuples of numbers, the greatest value that <math>x_{76} - x_{16}</math> can achieve is <math>\\tfrac mn</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "To find the greatest value of <math>x_{76} - x_{16}</math>, <math>x_{76}</math> must be as large as possible, and <math>x_{16}</math> must be as small as possible. If <math>x_{76}</math> is as large as possible, <math>x_{76} = x_{77} = x_{78} = \\dots = x_{100} > 0</math>. If <math>x_{16}</math> is as small as possible, <math>x_{16} = x_{15} = x_{14} = \\dots = x_{1} < 0</math>. The other numbers between <math>x_{16}</math> and <math>x_{76}</math> equal to <math>0</math>. Let <math>a = x_{76}</math>, <math>b = x_{16}</math>. Substituting <math>a</math> and <math>b</math> into <math>|x_1| + |x_2| + \\cdots + |x_{100}| = 1</math> and <math>x_1 + x_2 + \\cdots + x_{100} = 0</math> we get:\n<cmath>25a - 16b = 1</cmath>\n<cmath>25a + 16b = 0</cmath>\n<math>a = \\frac{1}{50}</math>, <math>b = -\\frac{1}{32}</math>\n\n<math>x_{76} - x_{16} = a - b = \\frac{1}{50} + \\frac{1}{32} = \\frac{41}{800}</math>. <math>m+n = \\boxed{\\textbf{841}}</math>\n\n~[https://artofproblemsolving.com/wiki/index.php/User:Isabelchen isabelchen]"
  },
  {
    "year": 2022,
    "variant": "II",
    "problem_number": 7,
    "latex": "A circle with radius <math>6</math> is externally tangent to a circle with radius <math>24</math>. Find the area of the triangular region bounded by the three common tangent lines of these two circles.",
    "solution": "<asy>\n//Created by isabelchen\n\nsize(12cm, 12cm);\n\ndraw(circle((0,0),24));\ndraw(circle((30,0),6));\ndraw((72/5, 96/5) -- (40,0));\ndraw((72/5, -96/5) -- (40,0));\ndraw((24, 12) -- (24, -12));\ndraw((0, 0) -- (40, 0));\ndraw((72/5, 96/5) -- (0,0));\ndraw((168/5, 24/5) -- (30,0));\ndraw((54/5, 72/5) -- (30,0));\n\ndot((72/5, 96/5));\nlabel(\"$A$\",(72/5, 96/5),NE);\ndot((168/5, 24/5));\nlabel(\"$B$\",(168/5, 24/5),NE);\ndot((24,0));\nlabel(\"$C$\",(24,0),NW);\ndot((40, 0));\nlabel(\"$D$\",(40, 0),NE);\ndot((24, 12));\nlabel(\"$E$\",(24, 12),NE);\ndot((24, -12));\nlabel(\"$F$\",(24, -12),SE);\ndot((54/5, 72/5));\nlabel(\"$G$\",(54/5, 72/5),NW);\ndot((0, 0));\nlabel(\"$O_1$\",(0, 0),S);\ndot((30, 0));\nlabel(\"$O_2$\",(30, 0),S);\n\n</asy>\n\n<math>r_1 = O_1A = 24</math>, <math>r_2 = O_2B = 6</math>, <math>AG = BO_2 = r_2 = 6</math>, <math>O_1G = r_1 - r_2 = 24 - 6 = 18</math>, <math>O_1O_2 = r_1 + r_2 = 30</math>\n\n<math>\\triangle O_2BD \\sim \\triangle O_1GO_2</math>, <math>\\frac{O_2D}{O_1O_2} = \\frac{BO_2}{GO_1}</math>,  <math>\\frac{O_2D}{30} = \\frac{6}{18}</math>, <math>O_2D = 10</math>\n\n<math>CD = O_2D + r_2 = 10 + 6 = 16</math>,\n\n<math>EF = 2EC = EA + EB = AB = GO_2 = \\sqrt{(O_1O_2)^2-(O_1G)^2} = \\sqrt{30^2-18^2} = 24</math>\n\n<math>DEF = \\frac12 \\cdot EF \\cdot CD = \\frac12 \\cdot 24 \\cdot 16 = \\boxed{\\textbf{192}}</math>\n\n~[https://artofproblemsolving.com/wiki/index.php/User:Isabelchen isabelchen]\n\n===Alternative Finish===\nNote that <math>\\triangle{O_1 O_2 G} \\sim \\triangle{O_1 D A}</math> by AA similarity. Setting up the ratio <math>\\frac{18}{24}=\\frac{24}{AB+8}</math> and then substituting <math>AB</math> with our known values will lead us to the same solution.\n\n'''mathboy282'''"
  },
  {
    "year": 2022,
    "variant": "II",
    "problem_number": 8,
    "latex": "Find the number of positive integers <math>n \\le 600</math> whose value can be uniquely determined when the values of <math>\\left\\lfloor \\frac n4\\right\\rfloor</math>, <math>\\left\\lfloor\\frac n5\\right\\rfloor</math>, and <math>\\left\\lfloor\\frac n6\\right\\rfloor</math> are given, where <math>\\lfloor x \\rfloor</math> denotes the greatest integer less than or equal to the real number <math>x</math>.",
    "solution": "We need to find all numbers between <math>1</math> and <math>600</math> inclusive that are multiples of <math>4</math>, <math>5</math>, and/or <math>6</math> which are also multiples of <math>4</math>, <math>5</math>, and/or <math>6</math> when <math>1</math> is added to them.\n\nWe begin by noting that the LCM of <math>4</math>, <math>5</math>, and <math>6</math> is <math>60</math>.  We can therefore simplify the problem by finding all such numbers described above between <math>1</math> and <math>60</math> and multiplying the quantity of such numbers by <math>10</math> (<math>600</math>/<math>60</math> = <math>10</math>).\n\nAfter making a simple list of the numbers between <math>1</math> and <math>60</math> and going through it, we see that the numbers meeting this condition are <math>4</math>, <math>5</math>, <math>15</math>, <math>24</math>, <math>35</math>, <math>44</math>, <math>54</math>, and <math>55</math>.  This gives us <math>8</math> numbers.  <math>8</math> * <math>10</math> = <math>\\boxed{080}</math>.\n\n===Solution 1.5===\n\nThis is Solution 1 with a slick element included.  Solution 1 uses the concept that <math>60k+l</math> is a solution for <math>n</math> if <math>60k+l</math> is a multiple of <math>3</math>, <math>4</math>, and/or <math>5</math> and <math>60k+l+1</math> is a multiple of <math>3</math>, <math>4</math>, and/or <math>5</math> for positive integer values of <math>l</math> and essentially any integer value of <math>k</math>.  But keeping the same conditions in mind for <math>k</math> and <math>l</math>, we can also say that if <math>60k+l</math> is a solution, then <math>60k-l-1</math> is a solution!  Therefore, one doesn't have to go as far as determining the number of values between <math>1</math> and <math>60</math> and then multiplying by <math>10</math>.  One only has to determine the number of values between <math>1</math> and <math>30</math> and then multiply by <math>20</math>.  The values of <math>n</math> that work between <math>1</math> and <math>30</math> are <math>4</math>, <math>5</math>, <math>15</math>, and <math>24</math>.  This gives us <math>4</math> numbers.  <math>4</math> * <math>20</math> = <math>\\boxed{080}</math>.\n\n===Note===\n\nSoon after the test was administered, a formal request was made to also accept <math>\\boxed{081}</math> as an answer and MAA decided to honor this request. The gist of this request stated that the phrasing of the first part of the question could reasonably be interpreted to mean that one is given the condition to begin with that the integer is less than or equal to <math>600</math>.  In this case, if one was told that the values of <math>\\left\\lfloor \\frac n4\\right\\rfloor</math>, <math>\\left\\lfloor\\frac n5\\right\\rfloor</math>, and <math>\\left\\lfloor\\frac n6\\right\\rfloor</math> were <math>150</math>, <math>120</math>, and <math>100</math> respectively, then the only possible choice for <math>n</math> would be <math>600</math> as <math>601</math>, <math>602</math>, and <math>603</math> do not meet the condition as stated in the first part of the problem. If instead the problem asked for the numbers less than <math>600</math> that met the second condition in the problem, the answer would be <math>\\boxed{080}</math>.  ~burkinafaso ~sethl \n\nHere are two interpretations of the problem: \n1) If <math>n</math> is a positive integer, how many numbers less than or equal to <math>600</math> are determinable? Answer: <math>\\boxed{080}</math>. \n2) If <math>n</math> is a positive integer and <math>n \\leq 600</math>, then how many different <math>n</math> are determinable? Answer: <math>\\boxed{081}</math>. ~epiconan"
  },
  {
    "year": 2022,
    "variant": "II",
    "problem_number": 9,
    "latex": "Let <math>\\ell_A</math> and <math>\\ell_B</math> be two distinct parallel lines. For positive integers <math>m</math> and <math>n</math>, distinct points <math>A_1, A_2, \\allowbreak A_3, \\allowbreak \\ldots, \\allowbreak A_m</math> lie on <math>\\ell_A</math>, and distinct points <math>B_1, B_2, B_3, \\ldots, B_n</math> lie on <math>\\ell_B</math>. Additionally, when segments <math>\\overline{A_iB_j}</math> are drawn for all <math>i=1,2,3,\\ldots, m</math> and <math>j=1,\\allowbreak 2,\\allowbreak 3, \\ldots, \\allowbreak n</math>, no point strictly between <math>\\ell_A</math> and <math>\\ell_B</math> lies on more than 1 of the segments. Find the number of bounded regions into which this figure divides the plane when <math>m=7</math> and <math>n=5</math>. The figure shows that there are 8 regions when <math>m=3</math> and <math>n=2</math>.\n<asy>\nimport geometry;\nsize(10cm);\ndraw((-2,0)--(13,0));\ndraw((0,4)--(10,4));\nlabel(\"$\\ell_A$\",(-2,0),W);\nlabel(\"$\\ell_B$\",(0,4),W);\npoint A1=(0,0),A2=(5,0),A3=(11,0),B1=(2,4),B2=(8,4),I1=extension(B1,A2,A1,B2),I2=extension(B1,A3,A1,B2),I3=extension(B1,A3,A2,B2);\ndraw(B1--A1--B2);\ndraw(B1--A2--B2);\ndraw(B1--A3--B2);\nlabel(\"$A_1$\",A1,S);\nlabel(\"$A_2$\",A2,S);\nlabel(\"$A_3$\",A3,S);\nlabel(\"$B_1$\",B1,N);\nlabel(\"$B_2$\",B2,N);\nlabel(\"1\",centroid(A1,B1,I1));\nlabel(\"2\",centroid(B1,I1,I3));\nlabel(\"3\",centroid(B1,B2,I3));\nlabel(\"4\",centroid(A1,A2,I1));\nlabel(\"5\",(A2+I1+I2+I3)/4);\nlabel(\"6\",centroid(B2,I2,I3));\nlabel(\"7\",centroid(A2,A3,I2));\nlabel(\"8\",centroid(A3,B2,I2));\ndot(A1);\ndot(A2);\ndot(A3);\ndot(B1);\ndot(B2);\n</asy>",
    "solution": "We can use recursion to solve this problem: \n\n<b>1.</b> Fix 7 points on <math>\\ell_A</math>, then put one point <math>B_1</math> on <math>\\ell_B</math>. Now, introduce a function <math>f(x)</math> that indicates the number of regions created, where x is the number of points on <math>\\ell_B</math>. For example, <math>f(1) = 6</math> because there are 6 regions.\n\n<b>2.</b> Now, put the second point <math>B_2</math> on <math>\\ell_B</math>. Join <math>A_1~A_7</math> and <math>B_2</math> will create <math>7</math> new regions (and we are not going to count them again), and split the existing regions. Let's focus on the spliting process: line segment formed between <math>B_2</math> and <math>A_1</math> intersect lines <math>\\overline{B_1A_2}</math>, <math>\\overline{B_1A_3}</math>, ..., <math>\\overline{B_1A_7}</math> at <math>6</math> points <math>\\Longrightarrow</math> creating <math>6</math> regions (we already count one region at first), then <math>5</math> points <math>\\Longrightarrow</math> creating <math>5</math> regions (we already count one region at first), 4 points, etc. So, we have: <cmath>f(2) = f(1) + 7 + (6+5+...+1) = 34.</cmath>\n\n<b>3.</b> If you still need one step to understand this: <math>A_1~A_7</math> and <math>B_3</math> will still create <math>7</math> new regions. Intersecting <cmath>\\overline{A_2B_1}, \\overline{A_2B_2};</cmath> <cmath>\\overline{A_3B_1}, \\overline{A_3B_2};</cmath> <cmath> ...</cmath> <cmath>\\overline{A_7B_1}, \\overline{A_7B_2}</cmath> at <math>12</math> points, creating <math>12</math> regions, etc. Thus, we have: <cmath>f(3) = f(2)+7+(12+10+8+...+2)=34+7+6\\cdot 7=83.</cmath>\n\nYes, you might already notice that: <cmath>f(n+1) = f(n)+7+(6+5+...+1)\\cdot n = f(n) + 7 + 21n.</cmath>\n\n<b>5.</b> Finally, we have <math>f(4) = 153</math>, and <math>f(5)=244</math>. Therefore, the answer is <math>\\boxed{244}</math>.\n\nNote: we could deduce a general formula of this recursion: <math>f(n+1)=f(n)+N_a+\\frac{n\\cdot (N_a) \\cdot (N_a-1)}{2}</math>, where <math>N_a</math> is the number of points on <math>\\ell_A</math>"
  },
  {
    "year": 2022,
    "variant": "II",
    "problem_number": 10,
    "latex": "Find the remainder when<cmath>\\binom{\\binom{3}{2}}{2} + \\binom{\\binom{4}{2}}{2} + \\dots +  \\binom{\\binom{40}{2}}{2}</cmath>is divided by <math>1000</math>.",
    "solution": "== Video Solution by OmegaLearn ==\nhttps://youtu.be/pGkLAX381_s?t=1035\n\n~ pi_is_3.14"
  },
  {
    "year": 2022,
    "variant": "II",
    "problem_number": 11,
    "latex": "Let <math>ABCD</math> be a convex quadrilateral with <math>AB=2, AD=7,</math> and <math>CD=3</math> such that the bisectors of acute angles <math>\\angle{DAB}</math> and <math>\\angle{ADC}</math> intersect at the midpoint of <math>\\overline{BC}.</math> Find the square of the area of <math>ABCD.</math>",
    "solution": "<asy> \ndefaultpen(fontsize(12)+0.6); size(300); \npair A,B,C,D,M,H; real xb=71, xd=121;\nA=origin; D=(7,0); B=2*dir(xb); C=3*dir(xd)+D; M=(B+C)/2; H=foot(M,A,D); path c=CR(D,3); pair A1=bisectorpoint(D,A,B), D1=bisectorpoint(C,D,A), Bp=IP(CR(A,2),A--H), Cp=IP(CR(D,3),D--H);\n\ndraw(B--A--D--C--B); draw(A--M--D^^M--H^^Bp--M--Cp, gray+0.4); draw(rightanglemark(A,H,M,5));\n\ndot(\"$A$\",A,SW); dot(\"$D$\",D,SE); dot(\"$B$\",B,NW); dot(\"$C$\",C,NE); dot(\"$M$\",M,up); dot(\"$H$\",H,down); dot(\"$B'$\",Bp,down); dot(\"$C'$\",Cp,down);\n</asy>\n\nAccording to the problem, we have <math>AB=AB'=2</math>, <math>DC=DC'=3</math>, <math>MB=MB'</math>, <math>MC=MC'</math>, and <math>B'C'=7-2-3=2</math>\n\nBecause <math>M</math> is the midpoint of <math>BC</math>, we have <math>BM=MC</math>, so: <cmath>MB=MB'=MC'=MC.</cmath>\n\nThen, we can see that <math>\\bigtriangleup{MB'C'}</math> is an isosceles triangle with <math>MB'=MC'</math>\n\nTherefore, we could start our angle chasing: <math>\\angle{MB'C'}=\\angle{MC'B'}=180^\\circ-\\angle{MC'D}=180^\\circ-\\angle{MCD}</math>.\n\nThis is when we found that points <math>M</math>, <math>C</math>, <math>D</math>, and <math>B'</math> are on a circle. Thus, <math>\\angle{BMB'}=\\angle{CDC'} \\Rightarrow \\angle{B'MA}=\\angle{C'DM}</math>. This is the time we found that <math>\\bigtriangleup{AB'M} \\sim \\bigtriangleup{MC'D}</math>.\n\nThus, <math>\\frac{AB'}{B'M}=\\frac{MC'}{C'D} \\Longrightarrow (B'M)^2=AB' \\cdot C'D = 6</math>\n\nPoint <math>H</math> is the midpoint of <math>B'C'</math>, and <math>MH \\perp AD</math>. <math>B'H=HC'=1 \\Longrightarrow MH=\\sqrt{B'M^2-B'H^2}=\\sqrt{6-1}=\\sqrt{5}</math>.\n\nThe area of this quadrilateral is the sum of areas of triangles: <cmath>S_{\\bigtriangleup{ABM}}+S_{\\bigtriangleup{AB'M}}+S_{\\bigtriangleup{CDM}}+S_{\\bigtriangleup{C'DM}}+S_{\\bigtriangleup{B'C'M}}</cmath>\n<cmath>=S_{\\bigtriangleup{AB'M}}\\cdot 2 + S_{\\bigtriangleup{B'C'M}} + S_{\\bigtriangleup{C'DM}}\\cdot 2</cmath>\n<cmath>=2 \\cdot \\frac{1}{2} \\cdot AB' \\cdot MH + \\frac{1}{2} \\cdot B'C' \\cdot MH + 2 \\cdot \\frac{1}{2} \\cdot C'D \\cdot MH</cmath>\n<cmath>=2\\sqrt{5}+\\sqrt{5}+3\\sqrt{5}=6\\sqrt{5}</cmath>\n\nFinally, the square of the area is <math>(6\\sqrt{5})^2=\\boxed{180}</math>"
  },
  {
    "year": 2022,
    "variant": "II",
    "problem_number": 12,
    "latex": "Let <math>a, b, x,</math> and <math>y</math> be real numbers with <math>a>4</math> and <math>b>1</math> such that<cmath>\\frac{x^2}{a^2}+\\frac{y^2}{a^2-16}=\\frac{(x-20)^2}{b^2-1}+\\frac{(y-11)^2}{b^2}=1.</cmath>Find the least possible value of <math>a+b.</math>",
    "solution": "Denote <math>P = \\left( x , y \\right)</math>.\n \t\t\nBecause <math>\\frac{x^2}{a^2}+\\frac{y^2}{a^2-16} = 1</math>, <math>P</math>  is on an ellipse whose center is <math>\\left( 0 , 0 \\right)</math> and foci are <math>\\left( - 4 , 0 \\right)</math> and <math>\\left( 4 , 0 \\right)</math>.\n \t\t\nHence, the sum of distance from <math>P</math> to <math>\\left( - 4 , 0 \\right)</math> and <math>\\left( 4 , 0 \\right)</math> is equal to twice the major axis of this ellipse, <math>2a</math>.\n \t\t\nBecause <math>\\frac{(x-20)^2}{b^2-1}+\\frac{(y-11)^2}{b^2} = 1</math>, <math>P</math>  is on an ellipse whose center is <math>\\left( 20 , 11 \\right)</math> and foci are <math>\\left( 20 , 10 \\right)</math> and <math>\\left( 20 , 12 \\right)</math>.\n \t\t\nHence, the sum of distance from <math>P</math> to <math>\\left( 20 , 10 \\right)</math> and <math>\\left( 20 , 12 \\right)</math> is equal to twice the major axis of this ellipse, <math>2b</math>.\n \t\t\nTherefore, <math>2a + 2b</math> is the sum of the distance from <math>P</math> to four foci of these two ellipses.\n \t\t\nTo make this minimized, <math>P</math> is the intersection point of the line that passes through <math>\\left( - 4 , 0 \\right)</math> and <math>\\left( 20 , 10 \\right)</math>, and the line that passes through <math>\\left( 4 , 0 \\right)</math> and <math>\\left( 20 , 12 \\right)</math>.\n \t\t\nThe distance between <math>\\left( - 4 , 0 \\right)</math> and <math>\\left( 20 , 10 \\right)</math> is <math>\\sqrt{\\left( 20 + 4 \\right)^2 + \\left( 10 - 0 \\right)^2} = 26</math>.\n \t\t\nThe distance between <math>\\left( 4 , 0 \\right)</math> and <math>\\left( 20 , 12 \\right)</math> is <math>\\sqrt{\\left( 20 - 4 \\right)^2 + \\left( 12 - 0 \\right)^2} = 20</math>.\n \t\t\nHence, <math>2 a + 2 b = 26 + 20 = 46</math>.\n \t\t\nTherefore, <math>a + b = \\boxed{\\textbf{(023) }}.</math>\n \t\t\n~Steven Chen (www.professorchenedu.com)"
  },
  {
    "year": 2022,
    "variant": "II",
    "problem_number": 13,
    "latex": "There is a polynomial <math>P(x)</math> with integer coefficients such that<cmath>P(x)=\\frac{(x^{2310}-1)^6}{(x^{105}-1)(x^{70}-1)(x^{42}-1)(x^{30}-1)}</cmath>holds for every <math>0<x<1.</math> Find the coefficient of <math>x^{2022}</math> in <math>P(x)</math>.",
    "solution": "Because <math>0 < x < 1</math>, we have\n<cmath>\n\\begin{align*}\nP \\left( x \\right)\n& = \\sum_{a=0}^6 \n\\sum_{b=0}^\\infty \\sum_{c=0}^\\infty \\sum_{d=0}^\\infty \\sum_{e=0}^\\infty\n\\binom{6}{a} x^{2310a} \\left( - 1 \\right)^{6-a}\nx^{105b} x^{70c} x^{42d} x^{30e} \\\\\n& = \\sum_{a=0}^6\n\\sum_{b=0}^\\infty \\sum_{c=0}^\\infty \\sum_{d=0}^\\infty \\sum_{e=0}^\\infty\n\\left( - 1 \\right)^{6-a}\nx^{2310 a + 105 b + 70 c + 42 d + 30 e} .\n\\end{align*}\n</cmath>\n\nDenote by <math>c_{2022}</math> the coefficient of <math>P \\left( x \\right)</math>.\nThus,\n<cmath>\n\\begin{align*}\nc_{2022} & = \\sum_{a=0}^6\n\\sum_{b=0}^\\infty \\sum_{c=0}^\\infty \\sum_{d=0}^\\infty \\sum_{e=0}^\\infty\n\\left( - 1 \\right)^{6-a} \\Bbb I \\left\\{ 2310 a + 105 b + 70 c + 42 d + 30 e = 2022 \\right\\} \\\\\n& = \n\\sum_{b=0}^\\infty \\sum_{c=0}^\\infty \\sum_{d=0}^\\infty \\sum_{e=0}^\\infty\n\\left( - 1 \\right)^{6-0} \\Bbb I \\left\\{ 2310 \\cdot 0 + 105 b + 70 c + 42 d + 30 e = 2022 \\right\\} \\\\\n& = \\sum_{b=0}^\\infty \\sum_{c=0}^\\infty \\sum_{d=0}^\\infty \\sum_{e=0}^\\infty\n\\Bbb I \\left\\{ 105 b + 70 c + 42 d + 30 e = 2022 \\right\\} .\n\\end{align*}\n</cmath>\n\nNow, we need to find the number of nonnegative integer tuples <math>\\left( b , c , d , e \\right)</math> that satisfy \n<cmath>\n\\[\n105 b + 70 c + 42 d + 30 e = 2022 . \\hspace{1cm} (1)\n\\]\n</cmath>\n\nModulo 2 on Equation (1), we have <math>b \\equiv 0 \\pmod{2}</math>.\nHence, we can write <math>b = 2 b'</math>. Plugging this into (1), the problem reduces to finding the number of \nnonnegative integer tuples <math>\\left( b' , c , d , e \\right)</math> that satisfy\n<cmath>\n\\[\n105 b' + 35 c + 21 d + 15 e = 1011 . \\hspace{1cm} (2)\n\\]\n</cmath>\n\nModulo 3 on Equation (2), we have <math>2 c \\equiv 0 \\pmod{3}</math>.\nHence, we can write <math>c = 3 c'</math>. Plugging this into (2), the problem reduces to finding the number of\nnonnegative integer tuples <math>\\left( b' , c' , d , e \\right)</math> that satisfy\n<cmath>\n\\[\n35 b' + 35 c' + 7 d + 5 e = 337 . \\hspace{1cm} (3)\n\\]\n</cmath>\n\nModulo 5 on Equation (3), we have <math>2 d \\equiv 2 \\pmod{5}</math>.\nHence, we can write <math>d = 5 d' + 1</math>. Plugging this into (3), the problem reduces to finding the number of\nnonnegative integer tuples <math>\\left( b' , c' , d' , e \\right)</math> that satisfy\n<cmath>\n\\[\n7 b' + 7 c' + 7 d' + e = 66 . \\hspace{1cm} (4)\n\\]\n</cmath>\n\nModulo 7 on Equation (4), we have <math>e \\equiv 3 \\pmod{7}</math>.\nHence, we can write <math>e = 7 e' + 3</math>. Plugging this into (4), the problem reduces to finding the number of\nnonnegative integer tuples <math>\\left( b' , c' , d' , e' \\right)</math> that satisfy\n<cmath>\n\\[\nb' + c' + d' + e' = 9 . \\hspace{1cm} (5)\n\\]\n</cmath>\n\nThe number of nonnegative integer solutions to Equation (5) is <math>\\binom{9 + 4 - 1}{4 - 1} = \\binom{12}{3} =  \\boxed{\\textbf{(220) }}</math>.\n\n~Steven Chen (www.professorchenedu.com)"
  },
  {
    "year": 2022,
    "variant": "II",
    "problem_number": 14,
    "latex": "For positive integers <math>a</math>, <math>b</math>, and <math>c</math> with <math>a < b < c</math>, consider collections of postage stamps in denominations <math>a</math>, <math>b</math>, and <math>c</math> cents that contain at least one stamp of each denomination. If there exists such a collection that contains sub-collections worth every whole number of cents up to <math>1000</math> cents, let <math>f(a, b, c)</math> be the minimum number of stamps in such a collection. Find the sum of the three least values of <math>c</math> such that <math>f(a, b, c) = 97</math> for some choice of <math>a</math> and <math>b</math>.",
    "solution": "Notice that we must have <math>a = 1</math>; otherwise <math>1</math> cent stamp cannot be represented. At least <math>b-1</math> numbers of <math>1</math> cent stamps are needed to represent the values less than <math>b</math>. Using at most <math>c-1</math> stamps of value <math>1</math> and <math>b</math>, it can have all the values from <math>1</math> to <math>c-1</math> cents. Plus <math>\\lfloor \\frac{999}{c} \\rfloor</math> stamps of value <math>c</math>, every value up to <math>1000</math> can be represented. \n\n===Correction:===\n\nThis should be <math>\\lfloor \\frac{1000}{c} \\rfloor</math>. The current function breaks when <math>c \\mid 1000</math> and <math>b \\mid c</math>. Take <math>c = 200</math> and <math>b = 20</math>. Then, we have <math>\\lfloor \\frac{999}{200} \\rfloor = 4</math> stamps of value 200, <math>\\lfloor \\frac{199}{20} \\rfloor = 9</math> stamps of value b, and 19 stamps of value 1. The maximum such a collection can give is <math>200 \\cdot 4 + 20 \\cdot 9 +19 \\cdot 1 = 999</math>, just shy of the needed 1000. As for the rest of solution, proceed similarly, except use <math>1000</math> instead of <math>999</math>.\n\nAlso, some explanation: <math>b-1</math> one cent stamps cover all residues module <math>b</math>. Having <math>\\lfloor \\frac{c-1}{b} \\rfloor</math> stamps of value b covers all residue classes modulo <math>c</math>. Finally, we just need <math>\\lfloor \\frac{1000}{c} \\rfloor</math> to cover everything up to 1000.\n\nIn addition, note that this function sometimes may not always minimize the number of stamps required. This is due to the fact that the stamps of value <math>b</math> and of value <math>1</math> have the capacity to cover values greater than or equal to <math>c</math> (which occurs when <math>c-1</math> has a remainder less than <math>b-1</math> when divided by <math>b</math>). Thus, in certain cases, not all <math>\\lfloor \\frac{1000}{c} \\rfloor</math> stamps of value c may be necessary, because the stamps of value <math>b</math> and 1 can replace one <math>c</math>.\n\n~[https://artofproblemsolving.com/wiki/index.php/User:Crazyvideogamez CrazyVideoGamez]\n\n\n====Correction for the correction and the original solution:====\n\nActually, <math>f(a, b, c) = b + \\lceil \\frac{c}{b} \\rceil + \\lceil \\frac{1001-b \\lceil \\frac{c}{b} \\rceil}{c} \\rceil - 2</math>.\n\nThis could be obtained by solving the minimum of <math>A+B+C</math> for the system of inequalities <math>A \\geq b-14</math>, <math>A+Bb \\geq c</math>, and <math>A+Bb+Cc \\geq 1000</math>, (Using the inequality adjustment method) where <math>A</math>, <math>B</math>, and <math>C</math> represent the number of <math>a</math>, <math>b</math>, and <math>c</math> postage stamps used. It is possible to get that <math>A=b-1</math>, <math>B=\\lceil \\frac{c}{b} \\rceil-1</math>, <math>C=\\lceil \\frac{1001-b \\lceil \\frac{c}{b} \\rceil}{c} \\rceil</math>. <math>f(a,b,c)=A+B+C</math> yields the above.\n\nNote that in <math>\\text{Case } 2</math>, <math>c=88</math>, for the original solution <math>a=1</math>, <math>b=86</math>, <math>c=88</math>, <math>f(a,b,c)=96</math> if the above definition is used.\n\nWhen <math>A=85</math>, <math>B=1</math>, and <math>C=10</math>, you can get a collection that satisfies the conditions of the problem. <math>A+B+C=96</math> here.\n\nNote that using the correction does not change that the original <math>f(1,87,88)=97</math>.\n\nUnder the correction of the correction:\n\nThe actual solution could be achieved by using inequalities on the left and right of <math>f(a,b,c)</math> to get\n\n<math>b+\\frac{1001}{c}-3<f(a,b,c)<c+1+\\frac{1001}{c}</math>.\n\nSimilar steps follow after substituting <math>f(a,b,c)=97</math>.\n\nHowever, <math>f(1,7,11)=f(1,87,88)=f(1,87,89)=97</math>.\n\nTherefore the answer is still <math>11+88+89=\\boxed{188}</math>.\n\n~eric-z\n\n‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî\n\n\nTherefore using <math>\\lfloor \\frac{999}{c} \\rfloor</math> stamps of value <math>c</math>, <math>\\lfloor \\frac{c-1}{b} \\rfloor</math> stamps of value <math>b</math>, and <math>b-1</math> stamps of value <math>1</math>, all values up to <math>1000</math> can be represented in sub-collections, while minimizing the number of stamps.\n\nSo, <math>f(a, b, c) = \\lfloor \\frac{999}{c} \\rfloor + \\lfloor \\frac{c-1}{b} \\rfloor + b-1</math>.\n\n<math>\\lfloor \\frac{999}{c} \\rfloor + \\lfloor \\frac{c-1}{b} \\rfloor + b-1 = 97</math>. We can get the answer by solving this equation.\n\n<math>c > \\lfloor \\frac{c-1}{b} \\rfloor + b-1</math>\n\n<math>\\frac{999}{c} + c > \\lfloor \\frac{999}{c} \\rfloor + \\lfloor \\frac{c-1}{b} \\rfloor + b-1 = 97</math>\n\n<math>c^2 - 97c + 999 > 0</math>, <math>c > 85.3</math> or <math>c < 11.7</math>\n\n<math>\\lfloor \\frac{999}{c} \\rfloor + \\lfloor \\frac{c-1}{b} \\rfloor + b-1 > \\frac{999}{c}</math>\n\n<math>97 > \\frac{999}{c}</math>, <math>c>10.3</math>\n\n <math>\\text{Case } 1:</math> <math>10.3 < c < 11.7 \\rightarrow c = 11 \\rightarrow \\lfloor \\frac{999}{11} \\rfloor + \\lfloor \\frac{10}{b} \\rfloor + b-1 = 97</math>\n <math>\\lfloor \\frac{10}{b} \\rfloor + b = 8</math>, <math>b=7</math>\n\n <math>\\text{Case } 2: c>85.3</math>\n\n <math>c = 86 \\rightarrow</math> <math>\\lfloor \\frac{999}{86} \\rfloor + \\lfloor \\frac{85}{b} \\rfloor + b-1 = 97</math>\n <math>\\lfloor \\frac{85}{b} \\rfloor + b = 87</math>, <math>b=87 > c \\rightarrow \\text{no solution}</math>\n\n <math>c = 87 \\rightarrow</math> <math>\\lfloor \\frac{999}{87} \\rfloor + \\lfloor \\frac{86}{b} \\rfloor + b-1 = 97</math>\n <math>\\lfloor \\frac{86}{b} \\rfloor + b = 87</math>, <math>b=86</math> or <math>1</math>. <math>\\text{We cannot have }b=1 \\text{ since it doesn't satisfy } a<b \\text{, and note that if } b=86 \\text{ we can have 10 coins of value } c, 1 \\text{ of } b, \\text{ and } 85</math> <math>\\text{of } a \\text{ for a total of 96 coins and still be able to make every value from 1 to 1000. Thus } c=87 \\text{ yields no solution.}</math>\n\n <math>c = 88 \\rightarrow</math> <math>\\lfloor \\frac{999}{88} \\rfloor + \\lfloor \\frac{87}{b} \\rfloor + b-1 = 97</math>\n <math>\\lfloor \\frac{87}{b} \\rfloor + b = 87</math>, <math>b=86</math>\n\n <math>c = 89 \\rightarrow</math> <math>\\lfloor \\frac{999}{89} \\rfloor + \\lfloor \\frac{88}{b} \\rfloor + b-1 = 97</math>\n <math>\\lfloor \\frac{88}{b} \\rfloor + b = 87</math>, <math>b=86</math>\n\nThe <math>3</math> least values of <math>c</math> are <math>11</math>, <math>88</math>, <math>89</math>. <math>11 + 88+ 89 = \\boxed{\\textbf{188}}</math>\n\n~[https://artofproblemsolving.com/wiki/index.php/User:Isabelchen isabelchen]\n~edited by bobjoebilly"
  },
  {
    "year": 2022,
    "variant": "II",
    "problem_number": 15,
    "latex": "Two externally tangent circles <math>\\omega_1</math> and <math>\\omega_2</math> have centers <math>O_1</math> and <math>O_2</math>, respectively. A third circle <math>\\Omega</math> passing through <math>O_1</math> and <math>O_2</math> intersects <math>\\omega_1</math> at <math>B</math> and <math>C</math> and <math>\\omega_2</math> at <math>A</math> and <math>D</math>, as shown. Suppose that <math>AB = 2</math>, <math>O_1O_2 = 15</math>, <math>CD = 16</math>, and <math>ABO_1CDO_2</math> is a convex hexagon. Find the area of this hexagon.\n<asy>\nimport geometry;\nsize(10cm);\npoint O1=(0,0),O2=(15,0),B=9*dir(30);\ncircle w1=circle(O1,9),w2=circle(O2,6),o=circle(O1,O2,B);\npoint A=intersectionpoints(o,w2)[1],D=intersectionpoints(o,w2)[0],C=intersectionpoints(o,w1)[0];\nfilldraw(A--B--O1--C--D--O2--cycle,0.2*fuchsia+white,black);\ndraw(w1);\ndraw(w2);\ndraw(O1--O2,dashed);\ndraw(o);\ndot(O1);\ndot(O2);\ndot(A);\ndot(D);\ndot(C);\ndot(B);\nlabel(\"$\\omega_1$\",8*dir(110),SW);\nlabel(\"$\\omega_2$\",5*dir(70)+(15,0),SE);\nlabel(\"$O_1$\",O1,W);\nlabel(\"$O_2$\",O2,E);\nlabel(\"$B$\",B,N+1/2*E);\nlabel(\"$A$\",A,N+1/2*W);\nlabel(\"$C$\",C,S+1/4*W);\nlabel(\"$D$\",D,S+1/4*E);\nlabel(\"$15$\",midpoint(O1--O2),N);\nlabel(\"$16$\",midpoint(C--D),N);\nlabel(\"$2$\",midpoint(A--B),S);\nlabel(\"$\\Omega$\",o.C+(o.r-1)*dir(270));\n</asy>",
    "solution": "First observe that <math>AO_2 = O_2D</math> and <math>BO_1 = O_1C</math>. Let points <math>A'</math> and <math>B'</math> be the reflections of <math>A</math> and <math>B</math>, respectively, about the perpendicular bisector of <math>\\overline{O_1O_2}</math>. Then quadrilaterals <math>ABO_1O_2</math> and <math>B'A'O_2O_1</math> are congruent, so hexagons <math>ABO_1CDO_2</math> and <math>A'B'O_1CDO_2</math> have the same area. Furthermore, triangles <math>DO_2A'</math> and <math>B'O_1C</math> are congruent, so <math>A'D = B'C</math> and quadrilateral <math>A'B'CD</math> is an isosceles trapezoid.\n<asy>\n\timport olympiad;\nsize(180);\ndefaultpen(linewidth(0.7));\npair Ap = dir(105), Bp = dir(75), O1 = dir(25), C = dir(320), D = dir(220), O2 = dir(175);\ndraw(unitcircle^^Ap--Bp--O1--C--D--O2--cycle);\nlabel(\"$A'$\",Ap,dir(origin--Ap));\nlabel(\"$B'$\",Bp,dir(origin--Bp));\nlabel(\"$O_1$\",O1,dir(origin--O1));\nlabel(\"$C$\",C,dir(origin--C));\nlabel(\"$D$\",D,dir(origin--D));\nlabel(\"$O_2$\",O2,dir(origin--O2));\ndraw(O2--O1,linetype(\"4 4\"));\ndraw(Ap--D^^Bp--C,linetype(\"2 2\"));\n</asy>\nNext, remark that <math>B'O_1 = DO_2</math>, so quadrilateral <math>B'O_1DO_2</math> is also an isosceles trapezoid; in turn, <math>B'D = O_1O_2 = 15</math>, and similarly <math>A'C = 15</math>. Thus, Ptolemy's theorem on <math>A'B'CD</math> yields <math>A'D\\cdot B'C + 2\\cdot 16 = 15^2</math>, whence <math>A'D = B'C = \\sqrt{193}</math>. Let <math>\\alpha = \\angle A'B'D</math>. The Law of Cosines on triangle <math>A'B'D</math> yields\n<cmath>\\cos\\alpha = \\frac{15^2 + 2^2 - (\\sqrt{193})^2}{2\\cdot 2\\cdot 15} = \\frac{36}{60} = \\frac 35,</cmath> and hence <math>\\sin\\alpha = \\tfrac 45</math>. Thus the distance between bases <math>A‚ÄôB‚Äô</math> and <math>CD</math> is <math>12</math> (in fact, <math>\\triangle A'B'D</math> is a <math>9-12-15</math> triangle with a <math>7-12-\\sqrt{193}</math> triangle removed), which implies the area of <math>A'B'CD</math> is <math>\\tfrac12\\cdot 12\\cdot(2+16) = 108</math>.\n\nNow let <math>O_1C = O_2A' = r_1</math> and <math>O_2D = O_1B' = r_2</math>; the tangency of circles <math>\\omega_1</math> and <math>\\omega_2</math> implies <math>r_1 +  r_2 = 15</math>. Furthermore, angles <math>A'O_2D</math> and <math>A'B'D</math> are opposite angles in cyclic quadrilateral <math>B'A'O_2D</math>, which implies the measure of angle <math>A'O_2D</math> is <math>180^\\circ - \\alpha</math>. Therefore, the Law of Cosines applied to triangle <math>\\triangle A'O_2D</math> yields\n<cmath>\\begin{align*}\n193 &= r_1^2 + r_2^2 - 2r_1r_2(-\\tfrac 35) = (r_1^2 + 2r_1r_2 + r_2^2) - \\tfrac45r_1r_2\\\\\n&= (r_1+r_2)^2 - \\tfrac45 r_1r_2 = 225 - \\tfrac45r_1r_2.\n\\end{align*}</cmath>\n\nThus <math>r_1r_2 = 40</math>, and so the area of triangle <math>A'O_2D</math> is <math>\\tfrac12r_1r_2\\sin\\alpha = 16</math>.\n\nThus, the area of hexagon <math>ABO_{1}CDO_{2}</math> is <math>108 + 2\\cdot 16 = \\boxed{140}</math>.\n\n~djmathman\n\n===Additional Graph for Better Understanding (Rearranging of the Pizza Slices)===\nThis is how the reflection mentioned above is actually done. The reflection is actually a reorganization of the red and blue triangles, creating a symmetric figure with a isosceles trapezoid without changing the area. Basically you rearrange them so that each side contains a red triangle above a blue one. Then you calculate the area of the trapezoid and the two congruent triangles beside. \n\n[[File:Actual Graph for Solution 1.PNG|500px]]\n\n~cassphe"
  },
  {
    "year": 2023,
    "variant": "I",
    "problem_number": 1,
    "latex": "Five men and nine women stand equally spaced around a circle in random order. The probability that every man stands diametrically opposite a woman is <math>\\frac{m}{n},</math> where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n.</math>",
    "solution": "For simplicity purposes, we consider two arrangements different even if they only differ by rotations or reflections. In this way, there are <math>14!</math> arrangements without restrictions.\n\nFirst, there are <math>\\binom{7}{5}</math> ways to choose the man-woman diameters. Then, there are <math>10\\cdot8\\cdot6\\cdot4\\cdot2</math> ways to place the five men each in a man-woman diameter. Finally, there are <math>9!</math> ways to place the nine women without restrictions.\n\nTogether, the requested probability is <cmath>\\frac{\\tbinom{7}{5}\\cdot(10\\cdot8\\cdot6\\cdot4\\cdot2)\\cdot9!}{14!} = \\frac{21\\cdot(10\\cdot8\\cdot6\\cdot4\\cdot2)}{14\\cdot13\\cdot12\\cdot11\\cdot10} = \\frac{48}{143},</cmath> from which the answer is <math>48+143 = \\boxed{191}.</math>\n\n~MRENTHUSIASM"
  },
  {
    "year": 2023,
    "variant": "I",
    "problem_number": 2,
    "latex": "Positive real numbers <math>b \\not= 1</math> and <math>n</math> satisfy the equations <cmath>\\sqrt{\\log_b n} = \\log_b \\sqrt{n} \\qquad \\text{and} \\qquad b \\cdot \\log_b n = \\log_b (bn).</cmath> The value of <math>n</math> is <math>\\frac{j}{k},</math> where <math>j</math> and <math>k</math> are relatively prime positive integers. Find <math>j+k.</math>",
    "solution": "Denote <math>x = \\log_b n</math>.\nHence, the system of equations given in the problem can be rewritten as\n<cmath>\n\\begin{align*}\n\\sqrt{x} & = \\frac{1}{2} x , \\\\\nbx & = 1 + x .\n\\end{align*}\n</cmath>\nSolving the system gives <math>x = 4</math> and <math>b = \\frac{5}{4}</math>.\nTherefore,\n<cmath>n = b^x = \\frac{625}{256}.</cmath>\nTherefore, the answer is <math>625 + 256 = \\boxed{881}</math>.\n\n~Steven Chen (Professor Chen Education Palace, www.professorchenedu.com)"
  },
  {
    "year": 2023,
    "variant": "I",
    "problem_number": 3,
    "latex": "A plane contains <math>40</math> lines, no <math>2</math> of which are parallel. Suppose that there are <math>3</math> points where exactly <math>3</math> lines intersect, <math>4</math> points where exactly <math>4</math> lines intersect, <math>5</math> points where exactly <math>5</math> lines intersect, <math>6</math> points where exactly <math>6</math> lines intersect, and no points where more than <math>6</math> lines intersect. Find the number of points where exactly <math>2</math> lines intersect.",
    "solution": "In this solution, let <b><math>\\boldsymbol{n}</math>-line points</b> be the points where exactly <math>n</math> lines intersect. We wish to find the number of <math>2</math>-line points.\n\nThere are <math>\\binom{40}{2}=780</math> pairs of lines. Among them:\n\n* The <math>3</math>-line points account for <math>3\\cdot\\binom32=9</math> pairs of lines.\n\n* The <math>4</math>-line points account for <math>4\\cdot\\binom42=24</math> pairs of lines.\n\n* The <math>5</math>-line points account for <math>5\\cdot\\binom52=50</math> pairs of lines.\n\n* The <math>6</math>-line points account for <math>6\\cdot\\binom62=90</math> pairs of lines.\n\nIt follows that the <math>2</math>-line points account for <math>780-9-24-50-90=\\boxed{607}</math> pairs of lines, where each pair intersect at a single point. \n\n~Steven Chen (Professor Chen Education Palace, www.professorchenedu.com)\n\n~MRENTHUSIASM"
  },
  {
    "year": 2023,
    "variant": "I",
    "problem_number": 4,
    "latex": "The sum of all positive integers <math>m</math> such that <math>\\frac{13!}{m}</math> is a perfect square can be written as <math>2^a3^b5^c7^d11^e13^f,</math> where <math>a,b,c,d,e,</math> and <math>f</math> are positive integers. Find <math>a+b+c+d+e+f.</math>",
    "solution": "==Video Solution by MegaMath==\nhttps://www.youtube.com/watch?v=EqLTyGanr4s&t=136s"
  },
  {
    "year": 2023,
    "variant": "I",
    "problem_number": 5,
    "latex": "Let <math>P</math> be a point on the circle circumscribing square <math>ABCD</math> that satisfies <math>PA \\cdot PC = 56</math> and <math>PB \\cdot PD = 90.</math> Find the area of <math>ABCD.</math>",
    "solution": "[[Ptolemy's theorem]] states that for cyclic quadrilateral <math>WXYZ</math>, <math>WX\\cdot YZ + XY\\cdot WZ = WY\\cdot XZ</math>.\n\nWe may assume that <math>P</math> is between <math>B</math> and <math>C</math>. Let <math>PA = a</math>, <math>PB = b</math>, <math>PC = c</math>, <math>PD = d</math>, and <math>AB = s</math>. We have <math>a^2 + c^2 = AC^2 = 2s^2</math>, because <math>AC</math> is a diameter of the circle. Similarly, <math>b^2 + d^2 = 2s^2</math>. Therefore, <math>(a+c)^2 = a^2 + c^2 + 2ac = 2s^2 + 2(56) = 2s^2 + 112</math>. Similarly, <math>(b+d)^2 = 2s^2 + 180</math>. \n\nBy Ptolemy's Theorem on <math>PCDA</math>, <math>as + cs = ds\\sqrt{2}</math>, and therefore <math>a + c = d\\sqrt{2}</math>. By Ptolemy's on <math>PBAD</math>, <math>bs + ds = as\\sqrt{2}</math>, and therefore <math>b + d = a\\sqrt{2}</math>. By squaring both equations, we obtain\n<cmath>\\begin{alignat*}{8}\n2d^2 &= (a+c)^2 &&= 2s^2 + 112, \\\\\n2a^2 &= (b+d)^2 &&= 2s^2 + 180.\n\\end{alignat*}</cmath>\nThus, <math>a^2 = s^2 + 90</math>, and <math>d^2 = s^2 + 56</math>. Plugging these values into <math>a^2 + c^2 = b^2 + d^2 = 2s^2</math>, we obtain <math>c^2 = s^2 - 90</math>, and <math>b^2 = s^2 - 56</math>. Now, we can solve using <math>a</math> and <math>c</math> (though using <math>b</math> and <math>d</math> yields the same solution for <math>s</math>).\n<cmath>\\begin{align*}\nac = (\\sqrt{s^2 - 90})(\\sqrt{s^2 + 90}) &= 56 \\\\\n(s^2 + 90)(s^2 - 90) &= 56^2 \\\\\ns^4 &= 90^2 + 56^2 = 106^2 \\\\\ns^2 &= \\boxed{106}.\n\\end{align*}</cmath>\n~mathboy100"
  },
  {
    "year": 2023,
    "variant": "I",
    "problem_number": 6,
    "latex": "Alice knows that <math>3</math> red cards and <math>3</math> black cards will be revealed to her one at a time in random order. Before each card is revealed, Alice must guess its color. If Alice plays optimally, the expected number of cards she will guess correctly is <math>\\frac{m}{n},</math> where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n.</math>",
    "solution": "We break the problem into stages, one for each card revealed, then further into cases based on the number of remaining unrevealed cards of each color. Since [[expected value]] is linear, the expected value of the total number of correct card color guesses across all stages is the sum of the expected values of the number of correct card color guesses at each stage; that is, we add the probabilities of correctly guessing the color at each stage to get the final answer (See https://brilliant.org/wiki/linearity-of-expectation/)\n\nAt any stage, if there are <math>a</math> unrevealed cards of one color and <math>b</math> of the other color, and <math>a \\geq b</math>, then the optimal strategy is to guess the color with <math>a</math> unrevealed cards, which succeeds with probability <math>\\frac{a}{a+b}.</math>\n\n<b>Stage 1:</b> \n\nThere are always <math>3</math> unrevealed cards of each color, so the probability of guessing correctly is <math>\\frac{1}{2}</math>.\n\n<b>Stage 2:</b>\n\nThere is always a <math>3</math>-<math>2</math> split (<math>3</math> unrevealed cards of one color and <math>2</math> of the other color), so the probability of guessing correctly is <math>\\frac{3}{5}</math>.\n\n<b>Stage 3:</b>\n\nThere are now <math>2</math> cases:\n<ul>\n<li> The guess from Stage 2 was correct, so there is now a <math>2</math>-<math>2</math> split of cards and a <math>\\frac{1}{2}</math> probability of guessing the color of the third card correctly.\n<li> The guess from Stage 2 was incorrect, so the split is <math>3</math>-<math>1</math> and the probability of guessing correctly is <math>\\frac{3}{4}</math>. \n</ul>\n\nThus, the overall probability of guessing correctly is <math>\\frac{3}{5} \\cdot \\frac{1}{2} + \\frac{2}{5} \\cdot \\frac{3}{4} = \\frac{3}{5}</math>.\n\n<b>Stage 4:</b>\n\nThis stage has <math>2</math> cases as well:\n<ul>\n<li> The guesses from both Stage 2 and Stage 3 were incorrect. This occurs with probability <math>\\frac{2}{5} \\cdot \\frac{1}{4} = \\frac{1}{10}</math> and results in a <math>3</math>-<math>0</math> split and a certain correct guess at this stage.\n<li> Otherwise, there must be a <math>2</math>-<math>1</math> split and a <math>\\frac{2}{3}</math> probability of guessing correctly.\n</ul>\n\nThe probability of guessing the fourth card correctly is therefore <math>\\frac{1}{10} \\cdot 1 + \\frac{9}{10} \\cdot \\frac{2}{3} = \\frac{7}{10}</math>.\n\n<b>Stage 5:</b>\n\nYet again, there are <math>2</math> cases:\n<ul>\n<li> In Stage 4, there was a <math>2</math>-<math>1</math> split and the guess was correct. This occurs with probability <math>\\frac{9}{10} \\cdot \\frac{2}{3} = \\frac{3}{5}</math> and results in a <math>1</math>-<math>1</math> split with a <math>\\frac{1}{2}</math> chance of a correct guess here.\n<li> Otherwise, there must be a <math>2</math>-<math>0</math> split, making a correct guess certain.\n</ul>\n\nIn total, the fifth card can be guessed correctly with probability <math>\\frac{3}{5} \\cdot \\frac{1}{2} + \\frac{2}{5} \\cdot 1 = \\frac{7}{10}</math>.\n\n<b>Stage 6:</b>\n\nAt this point, only <math>1</math> card remains, so the probability of guessing its color correctly is <math>1</math>.\n\nIn conclusion, the expected value of the number of cards guessed correctly is <cmath>\\frac{1}{2} + \\frac{3}{5} + \\frac{3}{5} + \\frac{7}{10} + \\frac{7}{10} + 1 = \\frac{5+6+6+7+7+10}{10} = \\frac{41}{10},</cmath> so the answer is <math>41 + 10 = \\boxed{051}.</math>\n\n~OrangeQuail9"
  },
  {
    "year": 2023,
    "variant": "I",
    "problem_number": 7,
    "latex": "Call a positive integer <math>n</math> extra-distinct if the remainders when <math>n</math> is divided by <math>2, 3, 4, 5,</math> and <math>6</math> are distinct. Find the number of extra-distinct positive integers less than <math>1000</math>.",
    "solution": "<math>n</math> can either be <math>0</math> or <math>1</math> (mod <math>2</math>).\n\nCase 1: <math>n \\equiv 0 \\pmod{2}</math>\n\nThen, <math>n \\equiv 2 \\pmod{4}</math>, which implies <math>n \\equiv 1 \\pmod{3}</math> and <math>n \\equiv 4 \\pmod{6}</math>, and therefore <math>n \\equiv 3 \\pmod{5}</math>. Using [[Chinese Remainder Theorem|CRT]], we obtain <math>n \\equiv 58 \\pmod{60}</math>, which gives <math>16</math> values for <math>n</math>.\n\nCase 2: <math>n \\equiv 1 \\pmod{2}</math>\n\n<math>n</math> is then <math>3 \\pmod{4}</math>. If <math>n \\equiv 0 \\pmod{3}</math>, <math>n \\equiv 3 \\pmod{6}</math>, a contradiction. Thus, <math>n \\equiv 2 \\pmod{3}</math>, which implies <math>n \\equiv 5 \\pmod{6}</math>. <math>n</math> can either be <math>0 \\pmod{5}</math>, which implies that <math>n \\equiv 35 \\pmod{60}</math> by CRT, giving <math>17</math> cases; or <math>4 \\pmod{5}</math>, which implies that <math>n \\equiv 59 \\pmod{60}</math> by CRT, giving <math>16</math> cases.\n\nThe total number of extra-distinct numbers is thus <math>16 + 16 + 17 = \\boxed{049}</math>.\n\n~mathboy100"
  },
  {
    "year": 2023,
    "variant": "I",
    "problem_number": 8,
    "latex": "Rhombus <math>ABCD</math> has <math>\\angle BAD < 90^\\circ.</math> There is a point <math>P</math> on the incircle of the rhombus such that the distances from <math>P</math> to the lines <math>DA,AB,</math> and <math>BC</math> are <math>9,</math> <math>5,</math> and <math>16,</math> respectively. Find the perimeter of <math>ABCD.</math>",
    "solution": "==Diagram==\n<asy>\n/* Made by MRENTHUSIASM; inspired by Math Jams. */\n\nsize(300);\npair A, B, C, D, O, P, R, S, T;\nA = origin;\nB = (125/4,0);\nC = B + 125/4 * dir((3,4));\nD = A + 125/4 * dir((3,4));\nO = (25,25/2);\nP = (15,5);\nR = foot(P,A,D);\nS = foot(P,A,B);\nT = foot(P,B,C);\n\nmarkscalefactor=0.15;\ndraw(rightanglemark(P,R,D)^^rightanglemark(P,S,B)^^rightanglemark(P,T,C),red);\ndraw(Circle(O,25/2)^^A--B--C--D--cycle^^B--T);\ndraw(P--R^^P--S^^P--T,red+dashed);\ndot(\"$A$\",A,1.5*dir(225),linewidth(4.5));\ndot(\"$B$\",B,1.5*dir(-45),linewidth(4.5));\ndot(\"$C$\",C,1.5*dir(45),linewidth(4.5));\ndot(\"$D$\",D,1.5*dir(135),linewidth(4.5));\ndot(\"$P$\",P,1.5*dir(60),linewidth(4.5));\ndot(R^^S^^T,linewidth(4.5));\ndot(O,linewidth(4.5));\n\nlabel(\"$9$\",midpoint(P--R),dir(A-D),red);\nlabel(\"$5$\",midpoint(P--S),dir(180),red);\nlabel(\"$16$\",midpoint(P--T),dir(A-D),red);\n</asy>\n~MRENTHUSIASM"
  },
  {
    "year": 2023,
    "variant": "I",
    "problem_number": 9,
    "latex": "Find the number of cubic polynomials <math>p(x) = x^3 + ax^2 + bx + c,</math> where <math>a, b,</math> and <math>c</math> are integers in <math>\\{-20,-19,-18,\\ldots,18,19,20\\},</math> such that there is a unique integer <math>m \\not= 2</math> with <math>p(m) = p(2).</math>",
    "solution": "Plugging <math>2</math> and <math>m</math> into the expression for <math>p(x)</math> and equating them, we get <math>8+4a+2b+c = m^3+am^2+bm+c</math>. Rearranging, we have <cmath>(m^3-8) + (m^2 - 4)a + (m-2)b = 0.</cmath> Note that the value of <math>c</math> won't matter as it can be anything in the provided range, giving a total of <math>41</math> possible choices for <math>c.</math> So we only need to find the number of ordered pairs <math>(a, b)</math> that work, and multiply it by <math>41.</math>\nWe can start by first dividing both sides by <math>m-2.</math> (Note that this is valid since <math>m\\neq2:</math> <cmath>m^2 + 2m + 4 + (m+2)a + b = 0.</cmath> We can rearrange this so it is a quadratic in <math>m</math>: <cmath>m^2 + (a+2)m + (4 + 2a + b) = 0.</cmath> Remember that <math>m</math> has to be unique and not equal to <math>2.</math> We can split this into two cases: case <math>1</math> being that <math>m</math> has exactly one solution, and it isn't equal to <math>2</math>; case <math>2</math> being that <math>m</math> has two solutions, one being <math>2,</math> but the other is a unique solution not equal to <math>2.</math>\n\n\n<math>\\textbf{Case 1:}</math>\n\nThere is exactly one solution for <math>m,</math> and that solution is not <math>2.</math> This means that the discriminant of the quadratic equation is <math>0,</math> using that, we have <math>(a+2)^2 = 4(4 + 2a + b)</math>. Rearranging, we have <cmath>(a-2)^2 = 4(4 + b)\\Longrightarrow a = 2\\pm2\\sqrt{4+b}.</cmath> Using the fact that <math>4+b</math> must be a perfect square, we can easily see that the values for <math>b</math> can be <math>-4, -3, 0, 5,</math> and <math>12.</math> Also since it's a \"<math>\\pm</math>\" there will usually be <math>2</math> solutions for <math>a</math> for each value of <math>b.</math> The two exceptions for this would be if <math>b = -4</math> and <math>b = 12.</math> For <math>b=-4</math> because it would be a <math>\\pm0,</math> which only gives one solution, instead of two. For <math>b=12</math>, because then <math>a = -6</math>, the solution for <math>m</math> would equal <math>2,</math>, and we don't want this. (We can know this by replacing the solutions into the quadratic formula). \n\nSo we have <math>5</math> solutions for <math>b,</math> each of which gives <math>2</math> values for <math>a,</math> except for <math>2</math> and <math>b = -4,</math> both of which only give one. So in total, there are <math>5*2 - 2 = 8</math> ordered pairs of <math>(a,b)</math> in this case.\n\n\n<math>\\textbf{Case 2:}</math>\n\n<math>m</math> has two solutions, but exactly one of them isn't equal to <math>2.</math> This ensures that <math>1</math> of the solutions is equal to <math>2.</math>\n\nLet <math>r</math> be the other value of <math>m</math> that isn't <math>2.</math> By Vieta: \n<cmath>\\begin{align*}\nr+2 &= -a-2\\\\\n2r &= 4+2a+b.\n\\end{align*}</cmath> From the first equation, we subtract both sides by <math>2</math> and double both sides to get <math>2r = -2a - 8</math> which also equals to <math>4+2a+b</math> from the second equation. Equating both, we have <math>4a + b + 12 = 0.</math> We can easily count that there would be <math>11</math> ordered pairs <math>(a,b)</math> that satisfy that.\n\nHowever, there's an outlier case in which <math>r</math> happens to also equal <math>2,</math> and we don't want that. We can reverse engineer and find out that <math>r=2</math> when <math>(a,b) = (-6, 12),</math> which we overcounted. So we subtract by one and we conclude that there are <math>10</math> ordered pairs of <math>(a,b)</math> that satisfy this case.\n\n\nThis all shows that there is a total of <math>8+10 = 18</math> amount of ordered pairs <math>(a,b).</math> Multiplying this by <math>41</math> (the amount of values for <math>c</math>) we get <math>18\\cdot41=\\boxed{738}</math> as our final answer.\n\n~s214425"
  },
  {
    "year": 2023,
    "variant": "I",
    "problem_number": 10,
    "latex": "There exists a unique positive integer <math>a</math> for which the sum <cmath>U=\\sum_{n=1}^{2023}\\left\\lfloor\\dfrac{n^{2}-na}{5}\\right\\rfloor</cmath> is an integer strictly between <math>-1000</math> and <math>1000</math>. For that unique <math>a</math>, find <math>a+U</math>.\n\n(Note that <math>\\lfloor x\\rfloor</math> denotes the greatest integer that is less than or equal to <math>x</math>.)",
    "solution": "Define <math>\\left\\{ x \\right\\} = x - \\left\\lfloor x \\right\\rfloor</math>.\n\nFirst, we bound <math>U</math>.\n\nWe establish an upper bound of <math>U</math>. We have\n<cmath>\n\\begin{align*}\nU & \\leq \\sum_{n=1}^{2023} \\frac{n^2 - na}{5} \\\\\n& = \\frac{1}{5} \\sum_{n=1}^{2023} n^2 - \\frac{a}{5} \\sum_{n=1}^{2023} n \\\\\n& = \\frac{1012 \\cdot 2023}{5} \\left( 1349 - a \\right) \\\\\n& \\triangleq UB .\n\\end{align*}\n</cmath>\n\nWe establish a lower bound of <math>U</math>. We have\n<cmath>\n\\begin{align*}\nU & =  \\sum_{n=1}^{2023} \\left(  \\frac{n^2 - na}{5} - \\left\\{ \\frac{n^2 - na}{5} \\right\\}  \\right) \\\\\n& = \\sum_{n=1}^{2023} \\frac{n^2 - na}{5}\n- \\sum_{n=1}^{2023} \\left\\{ \\frac{n^2 - na}{5} \\right\\} \\\\\n& = UB -  \\sum_{n=1}^{2023} \\left\\{ \\frac{n^2 - na}{5} \\right\\} \\\\\n& \\geq UB -  \\sum_{n=1}^{2023} \\mathbf 1 \\left\\{ \\frac{n^2 - na}{5} \\notin \\Bbb Z \\right\\} .\n\\end{align*}\n</cmath>\n\nWe notice that if <math>5 | n</math>, then <math>\\frac{n^2 - na}{5} \\in \\Bbb Z</math>.\nThus,\n<cmath>\n\\begin{align*}\nU & \\geq UB -  \\sum_{n=1}^{2023} \\mathbf 1 \\left\\{ \\frac{n^2 - na}{5} \\notin \\Bbb Z \\right\\} \\\\\n& \\geq UB -  \\sum_{n=1}^{2023} \\mathbf 1 \\left\\{ 5 \\nmid n \\right\\} \\\\\n& = UB - \\left( 2023 - \\left\\lfloor \\frac{2023}{5} \\right\\rfloor \\right) \\\\\n& = UB - 1619 \\\\\n& \\triangleq LB .\n\\end{align*}\n</cmath>\n\nBecause <math>U \\in \\left[ - 1000, 1000 \\right]</math> and <math>UB - LB = 1619 < \\left( 1000 - \\left( - 1000 \\right) \\right)</math>, we must have either <math>UB \\in \\left[ - 1000, 1000 \\right]</math> or <math>LB \\in \\left[ - 1000, 1000 \\right]</math>.\n\nFor <math>UB \\in \\left[ - 1000, 1000 \\right]</math>, we get a unique <math>a = 1349</math>.\nFor <math>LB \\in \\left[ - 1000, 1000 \\right]</math>, there is no feasible <math>a</math>.\n\nTherefore, <math>a = 1349</math>. Thus <math>UB = 0</math>.\n\nNext, we compute <math>U</math>.\n\nLet <math>n = 5 q + r</math>, where <math>r = {\\rm Rem} \\ \\left( n, 5 \\right)</math>.\n\nWe have\n<cmath>\n\\begin{align*}\n\\left\\{ \\frac{n^2 - na}{5} \\right\\}\n& = \\left\\{ \\frac{\\left( 5 q + r \\right)^2 - \\left( 5 q + r \\right)\\left( 1350 - 1 \\right)}{5} \\right\\} \\\\\n& = \\left\\{ 5 q^2 + 2 q r - \\left( 5 q + r \\right) 270 + q + \\frac{r^2 + r}{5}  \\right\\} \\\\\n& = \\left\\{\\frac{r^2 + r}{5}  \\right\\} \\\\\n& = \\left\\{\n\\begin{array}{ll}\n0 & \\mbox{ if } r = 0, 4 \\\\\n\\frac{2}{5} & \\mbox{ if } r = 1, 3 \\\\\n\\frac{1}{5} & \\mbox{ if } r = 2\n\\end{array}\n\\right. .\n\\end{align*}\n</cmath>\n\nTherefore,\n<cmath>\n\\begin{align*}\nU & =  \\sum_{n=1}^{2023} \\left(  \\frac{n^2 - na}{5} - \\left\\{ \\frac{n^2 - na}{5} \\right\\}  \\right) \\\\\n& = UB\n- \\sum_{n=1}^{2023} \\left\\{ \\frac{n^2 - na}{5} \\right\\} \\\\\n& = - \\sum_{n=1}^{2023} \\left\\{ \\frac{n^2 - na}{5} \\right\\} \\\\\n& = - \\sum_{q=0}^{404} \\sum_{r=0}^4 \\left\\{\\frac{r^2 + r}{5}  \\right\\}\n+ \\left\\{ \\frac{0^2 - 0 \\cdot a}{5} \\right\\}\n+ \\left\\{ \\frac{2024^2 - 2024a}{5} \\right\\} \\\\\n& = - \\sum_{q=0}^{404} \\left( 0 + 0 + \\frac{2}{5} + \\frac{2}{5} + \\frac{1}{5} \\right)\n+ 0 + 0 \\\\\n& = - 405 .\n\\end{align*}\n</cmath>\n\nTherefore, <math>a + U = 1349 - 405 = \\boxed{\\textbf{944}}</math>.\n\n~Steven Chen (Professor Chen Education Palace, www.professorchenedu.com)\n\n~minor edits by [https://artofproblemsolving.com/wiki/index.php/User:Kevinchen_yay KevinChen_Yay]"
  },
  {
    "year": 2023,
    "variant": "I",
    "problem_number": 11,
    "latex": "Find the number of subsets of <math>\\{1,2,3,\\ldots,10\\}</math> that contain exactly one pair of consecutive integers. Examples of such subsets are <math>\\{\\mathbf{1},\\mathbf{2},5\\}</math> and <math>\\{1,3,\\mathbf{6},\\mathbf{7},10\\}.</math>",
    "solution": "Define <math>f(x)</math> to be the number of subsets of <math>\\{1, 2, 3, 4, \\ldots x\\}</math> that have <math>0</math> consecutive element pairs, and <math>f'(x)</math> to be the number of subsets that have <math>1</math> consecutive pair.\n\nUsing casework on where the consecutive element pair is, there is a unique consecutive element pair that satisfies the conditions. It is easy to see that <cmath>f'(10) = 2f(7) + 2f(6) + 2f(1)f(5) + 2f(2)f(4) + f(3)^2.</cmath>\n\nWe see that <math>f(1) = 2</math>, <math>f(2) = 3</math>, and <math>f(n) = f(n-1) + f(n-2)</math>. This is because if the element <math>n</math> is included in our subset, then there are <math>f(n-2)</math> possibilities for the rest of the elements (because <math>n-1</math> cannot be used), and otherwise there are <math>f(n-1)</math> possibilities. Thus, by induction, <math>f(n)</math> is the <math>n+1</math>th Fibonacci number.\n\nThis means that <math>f'(10) = 2(34) + 2(21) + 2(2)(13) + 2(3)(8) + 5^2 = \\boxed{235}</math>.\n\n\n~mathboy100"
  },
  {
    "year": 2023,
    "variant": "I",
    "problem_number": 12,
    "latex": "Let <math>\\triangle ABC</math> be an equilateral triangle with side length <math>55.</math> Points <math>D,</math> <math>E,</math> and <math>F</math> lie on <math>\\overline{BC},</math> <math>\\overline{CA},</math> and <math>\\overline{AB},</math> respectively, with <math>BD = 7,</math> <math>CE=30,</math> and <math>AF=40.</math> Point <math>P</math> inside <math>\\triangle ABC</math> has the property that <cmath>\\angle AEP = \\angle BFP = \\angle CDP.</cmath> Find <math>\\tan^2(\\angle AEP).</math>",
    "solution": "==Diagram==\n<asy>\n/* Made by MRENTHUSIASM */\n\nsize(300);\n\npair A, B, C, D, E, F, P;\nA = 55*sqrt(3)/3 * dir(90);\nB = 55*sqrt(3)/3 * dir(210);\nC = 55*sqrt(3)/3 * dir(330);\nD = B + 7*dir(0);\nE = A + 25*dir(C-A);\nF = A + 40*dir(B-A);\nP = intersectionpoints(Circle(D,54*sqrt(19)/19),Circle(F,5*sqrt(19)/19))[0];\n\ndraw(anglemark(A,E,P,20),red);\ndraw(anglemark(B,F,P,20),red);\ndraw(anglemark(C,D,P,20),red);\nadd(pathticks(anglemark(A,E,P,20), n = 1, r = 0.2, s = 12, red));\nadd(pathticks(anglemark(B,F,P,20), n = 1, r = 0.2, s = 12, red));\nadd(pathticks(anglemark(C,D,P,20), n = 1, r = 0.2, s = 12, red));\ndraw(A--B--C--cycle^^P--E^^P--F^^P--D);\n\ndot(\"$A$\",A,1.5*dir(A),linewidth(4));\ndot(\"$B$\",B,1.5*dir(B),linewidth(4));\ndot(\"$C$\",C,1.5*dir(C),linewidth(4));\ndot(\"$D$\",D,1.5*S,linewidth(4));\ndot(\"$E$\",E,1.5*dir(30),linewidth(4));\ndot(\"$F$\",F,1.5*dir(150),linewidth(4));\ndot(\"$P$\",P,1.5*dir(-30),linewidth(4));\n\nlabel(\"$7$\",midpoint(B--D),1.5*S,red);\nlabel(\"$30$\",midpoint(C--E),1.5*dir(30),red);\nlabel(\"$40$\",midpoint(A--F),1.5*dir(150),red);\n</asy>\n~MRENTHUSIASM"
  },
  {
    "year": 2023,
    "variant": "I",
    "problem_number": 13,
    "latex": "Each face of two noncongruent parallelepipeds is a rhombus whose diagonals have lengths <math>\\sqrt{21}</math> and <math>\\sqrt{31}</math>.\nThe ratio of the volume of the larger of the two polyhedra to the volume of the smaller is <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math>\nare relatively prime positive integers. Find <math>m + n</math>. A parallelepiped is a solid with six parallelogram faces\nsuch as the one shown below.\n\n<asy>\nunitsize(2cm);\npair o = (0, 0), u = (1, 0), v = 0.8*dir(40), w = dir(70);\n\ndraw(o--u--(u+v));\ndraw(o--v--(u+v), dotted);\ndraw(shift(w)*(o--u--(u+v)--v--cycle));\ndraw(o--w);\ndraw(u--(u+w));\ndraw(v--(v+w), dotted);\ndraw((u+v)--(u+v+w));\n</asy>",
    "solution": "Denote <math>\\alpha = \\tan^{-1} \\frac{\\sqrt{21}}{\\sqrt{31}}</math>.\nDenote by <math>d</math> the length of each side of a rhombus.\n\nNow, we put the solid to the 3-d coordinate space.\nWe put the bottom face on the <math>x-O-y</math> plane.\nFor this bottom face, we put a vertex with an acute angle <math>2 \\alpha</math> at the origin, denoted as <math>O</math>.\nFor two edges that are on the bottom face and meet at <math>O</math>, we put one edge on the positive side of the <math>x</math>-axis. The endpoint is denoted as <math>A</math>. Hence, <math>A = \\left( d , 0 , 0 \\right)</math>.\nWe put the other edge in the first quadrant of the <math>x-O-y</math> plane. The endpoint is denoted as <math>B</math>. Hence, <math>B = \\left( d \\cos 2 \\alpha , d \\sin 2 \\alpha , 0 \\right)</math>.\n\nFor the third edge that has one endpoint <math>O</math>, we denote by <math>C</math> its second endpoint.\nWe denote <math>C = \\left( u , v , w \\right)</math>.\nWithout loss of generality, we set <math>w > 0</math>.\nHence,\n<cmath>\n\\[\nu^2 + v^2 + w^2 = d^2 . \\hspace{1cm} (1)\n\\]\n</cmath>\n\nWe have\n<cmath>\n\\begin{align*}\n\\cos \\angle AOC & = \\frac{\\overrightarrow{OA} \\cdot \\overrightarrow{OC}}{|OA| \\cdot |OC|} \\\\\n& = \\frac{u}{d} , \\hspace{1cm} (2)\n\\end{align*}\n</cmath>\nand\n<cmath>\n\\begin{align*}\n\\cos \\angle BOC & = \\frac{\\overrightarrow{OB} \\cdot \\overrightarrow{OC}}{|OB| \\cdot |OC|} \\\\\n& = \\frac{u \\cos 2 \\alpha + v \\sin 2 \\alpha}{d} . \\hspace{1cm} (3)\n\\end{align*}\n</cmath>\n\nCase 1: <math>\\angle AOC = \\angle BOC = 2 \\alpha</math> or <math>2 \\left( 90^\\circ - \\alpha \\right)</math>.\n\nBy solving (2) and (3), we get\n<cmath>\n\\begin{align*}\nu & = \\pm d \\cos 2 \\alpha , \\\\\nv & = \\pm d \\cos 2 \\alpha \\frac{1 - \\cos 2 \\alpha}{\\sin 2 \\alpha} \\\\\n& = \\pm d \\cos 2 \\alpha \\tan \\alpha .\n\\end{align*}\n</cmath>\n\nPlugging these into (1), we get\n<cmath>\n\\begin{align*}\nw & = d \\sqrt{1 - \\cos^2 2 \\alpha - \\cos^2 2 \\alpha \\tan^2 \\alpha} \\\\\n& = d \\sqrt{\\sin^2 2 \\alpha - \\cos^2 2 \\alpha \\tan^2 \\alpha} . \\hspace{1cm} (4)\n\\end{align*}\n</cmath>\n\nCase 2: <math>\\angle AOC = 2 \\alpha</math> and <math>\\angle BOC = 2 \\left( 90^\\circ - \\alpha \\right)</math>, or <math>\\angle BOC = 2 \\alpha</math> and <math>\\angle AOC = 2 \\left( 90^\\circ - \\alpha \\right)</math>.\n\nBy solving (2) and (3), we get\n<cmath>\n\\begin{align*}\nu & = \\pm d \\cos 2 \\alpha , \\\\\nv & = \\mp d \\cos 2 \\alpha \\frac{1 + \\cos 2 \\alpha}{\\sin 2 \\alpha} \\\\\n& = \\mp d \\cos 2 \\alpha \\cot \\alpha .\n\\end{align*}\n</cmath>\n\nPlugging these into (1), we get\n<cmath>\n\\begin{align*}\nw & = d \\sqrt{1 - \\cos^2 2 \\alpha - \\cos^2 2 \\alpha \\cot^2 \\alpha} \\\\\n& = d \\sqrt{\\sin^2 2 \\alpha - \\cos^2 2 \\alpha \\cot^2 \\alpha} . \\hspace{1cm} (5)\n\\end{align*}\n</cmath>\n\nWe notice that <math>(4) > (5)</math>. Thus, (4) (resp. (5)) is the parallelepiped with a larger (resp. smaller) height.\n\nTherefore, the ratio of the volume of the larger parallelepiped to the smaller one is\n<cmath>\n\\begin{align*}\n\\frac{(4)}{(5)}\n& = \\frac{\\sqrt{\\sin^2 2 \\alpha - \\cos^2 2 \\alpha \\tan^2 \\alpha}}\n{\\sqrt{\\sin^2 2 \\alpha - \\cos^2 2 \\alpha \\cot^2 \\alpha}} \\\\\n& = \\sqrt{\\frac{\\tan^2 2 \\alpha - \\tan^2 \\alpha}{\\tan^2 2 \\alpha - \\cot^2 \\alpha}} .\n\\end{align*}\n</cmath>\n\nRecall that <math>\\tan \\alpha = \\frac{\\sqrt{21}}{\\sqrt{31}}</math>.\nThus, <math>\\tan 2 \\alpha = \\frac{2 \\tan \\alpha}{1 - \\tan^2 \\alpha} = \\frac{\\sqrt{21 \\cdot 31}}{5}</math>.\nPlugging this into the equation above, we get\n<cmath>\n\\begin{align*}\n\\frac{(4)}{(5)}\n& = \\frac{63}{62}.\n\\end{align*}\n</cmath>\n\nTherefore, the answer is <math>63 + 62 = \\boxed{\\textbf{(125) }}</math>.\n\n~Steven Chen (Professor Chen Education Palace, www.professorchenedu.com)"
  },
  {
    "year": 2023,
    "variant": "I",
    "problem_number": 14,
    "latex": "The following analog clock has two hands that can move independently of each other.\n<asy>\n            unitsize(2cm);\n            draw(unitcircle,black+linewidth(2));\n\n            for (int i = 0; i < 12; ++i) {\n                draw(0.9*dir(30*i)--dir(30*i));\n            }\n            for (int i = 0; i < 4; ++i) {\n                draw(0.85*dir(90*i)--dir(90*i),black+linewidth(2));\n            }\n            for (int i = 1; i < 13; ++i) {\n                label(\"\\small\" + (string) i, dir(90 - i * 30) * 0.75);\n            }\n            draw((0,0)--0.6*dir(90),black+linewidth(2),Arrow(TeXHead,2bp));\n            draw((0,0)--0.4*dir(90),black+linewidth(2),Arrow(TeXHead,2bp));\n</asy>\nInitially, both hands point to the number <math>12</math>. The clock performs a sequence of hand movements so that on each movement, one of the two hands moves clockwise to the next number on the clock face while the other hand does not move.\n\nLet <math>N</math> be the number of sequences of <math>144</math> hand movements such that during the sequence, every possible positioning of the hands appears exactly once, and at the end of the <math>144</math> movements, the hands have returned to their initial position. Find the remainder when <math>N</math> is divided by <math>1000</math>.",
    "solution": "This problem is, in essence, the following:  A <math>12\\times12</math> coordinate grid is placed on a (flat) torus; how many loops are there that pass through each point while only moving up or right?  In other words, Felix the frog starts his journey at <math>(0,0)</math> in the coordinate plane.  Every second, he jumps either to the right or up, until he reaches an <math>x</math>- or <math>y</math>-coordinate of <math>12</math>.  At this point, if he tries to jump to a coordinate outside the square from <math>(0,0)</math> to <math>(11,11)</math>, he \"wraps around\" and ends up at an <math>x</math>- or <math>y</math>- coordinate of <math>0</math>.  How many ways are there for Felix to jump on every grid point in this square, so that he ends at <math>(0,0)</math>?  This is consistent with the construction of the flat torus as <math>\\mathbb Z^2/12\\mathbb Z^2</math> (2-dimensional modular arithmetic.  <math>(\\mathbb{Z}_{12})^2</math>)\n\nMoving on, define a <math>\\textit{path}</math> from point <math>A</math> to point <math>B</math> to be a sequence of \"up\"s and \"right\"s that takes Felix from <math>A</math> to <math>B</math>.  The <math>\\textit{distance}</math> from <math>A</math> to <math>B</math> is the length of the shortest path from <math>A</math> to <math>B</math>.  At the crux of this problem is the following consideration:  The points <math>A_i=(i,11-i), i\\in{0,...,11}</math> are pairwise equidistant, each pair having distance of <math>12</math> in both directions. \n\n<asy>\nsize(7cm);\nfor (int x=0; x<12; ++x){\nfor (int y=0; y<12; ++y){\nfill(circle((x,y),0.05));}}\nfor (int i=0; i<12; ++i){\nfill(circle((i,11-i),0.1),red);}\npen p=green+dashed;\npath u=(3,8)--(4,8)--(4,9)--(4,10)--(4,11)--(5,11)--(5,11.5);\npath v=(5,-0.5)--(5,0)--(5,1)--(6,1)--(6,2)--(6,3)--(6,4)--(7,4);\ndraw(u,p);\ndraw(v,p);\npen p=blue+dashed;\npath u=(4,7)--(5,7)--(5,8)--(5,9)--(5,10)--(6,10)--(6,11)--(6,11.5);\npath v=(6,-0.5)--(6,0)--(7,0)--(7,1)--(7,2)--(7,3)--(8,3);\ndraw(u,p);\ndraw(v,p);\n</asy>\n\nA valid complete path then joins two <math>A_i</math>'s, say <math>A_i</math> and <math>A_j</math>.  In fact, a link between some <math>A_i</math> and <math>A_j</math> fully determines the rest of the cycle, as the path from <math>A_{i+1}</math> must \"hug\" the path from <math>A_i</math>, to ensure that there are no gaps.  We therefore see that if <math>A_0</math> leads to <math>A_k</math>, then <math>A_i</math> leads to <math>A_{i+k}</math>.  Only the values of <math>k</math> relatively prime to <math>12</math> result in solutions, though, because otherwise <math>A_0</math> would only lead to <math>\\{A_i:\\exists n\\in \\mathbb Z:i\\equiv kn\\quad\\text{mod 12}\\}</math>.  The number of paths from <math>A_0</math> to <math>A_k</math> is <math>{12\\choose k}</math>, and so the answer is\n\n<cmath>{12\\choose1}+{12\\choose5}+{12\\choose7}+{12\\choose11}=1\\boxed{608}.</cmath>\n\nNotes:\n\n- One can prove that the path from <math>A_{i+1}</math> must \"hug\" the path from <math>A_i</math> by using techniques similar to those in Solution 2.\n\n- One can count the paths as follows:  To get from <math>A_0</math> to <math>A_i</math>, Felix takes <math>k</math> rights and <math>12-k</math> ups, which can be done in  <math>{12\\choose k}</math> ways."
  },
  {
    "year": 2023,
    "variant": "I",
    "problem_number": 15,
    "latex": "Find the largest prime number <math>p<1000</math> for which there exists a complex number <math>z</math> satisfying\n* the real and imaginary part of <math>z</math> are both integers;\n* <math>|z|=\\sqrt{p},</math> and\n* there exists a triangle whose three side lengths are <math>p,</math> the real part of <math>z^{3},</math> and the imaginary part of <math>z^{3}.</math>",
    "solution": "Assume that <math>z=a+bi</math>. Then,\n<cmath>z^3=(a^3-3ab^2)+(3a^2b-b^3)i</cmath>Note that by the Triangle Inequality,\n<cmath>|(a^3-3ab^2)-(3a^2b-b^3)|<p\\implies |a^3+b^3-3ab^2-3a^2b|<a^2+b^2</cmath>Thus, we know\n<cmath>|a+b||a^2+b^2-4ab|<a^2+b^2</cmath>Without loss of generality, assume <math>a>b</math> (as otherwise, consider <math>i^3\\overline z=b+ai</math>). If <math>|a/b|\\geq 4</math>, then\n<cmath>17b^2\\geq a^2+b^2>|a+b||a^2+b^2-4ab|\\geq |b-4b||16b^2-16b^2+b^2|=3b^3</cmath>`Thus, this means <math>b\\leq\\frac{17}3</math> or <math>b\\leq 5</math>. Also note that the roots of <math>x^2-4x+1</math> are <math>2\\pm\\sqrt 3</math>, so thus if <math>b\\geq 6</math>,\n<cmath>2\\sqrt 3b=(2(2-\\sqrt 3)-4)b<a<4b</cmath>Note that\n<cmath>1000>p=a^2+b^2\\geq 12b^2+b^2=13b^2</cmath>so <math>b^2<81</math>, and <math>b<9</math>. If <math>b=8</math>, then <math>16\\sqrt 3\\leq a\\leq 32</math>. Note that <math>\\gcd(a,b)=1</math>, and <math>a\\not\\equiv b\\pmod 2</math>, so <math>a=29</math> or <math>31</math>. However, then <math>5\\mid a^2+b^2</math>, absurd.\n\nIf <math>b=7</math>, by similar logic, we have that <math>14\\sqrt 3 <a< 28</math>, so <math>a=26</math>. However, once again, <math>5\\mid a^2+b^2</math>. If <math>b=6</math>, by the same logic, <math>12\\sqrt3<a<24</math>, so <math>a=23</math>, where we run into the same problem. Thus <math>b\\leq 5</math> indeed.\n\nIf <math>b=5</math>, note that\n<cmath>(a+5)(a^2+25-20a)<a^2+25\\implies a<20</cmath>We note that <math>p=5^2+18^2=349</math> works. Thus, we just need to make sure that if <math>b\\leq 4</math>, <math>a\\leq 18</math>. But this is easy, as\n<cmath>p>(a+b)(a^2+b^2-4ab)\\geq (4+18)(4^2+18^2-4\\cdot 4\\cdot 18)>1000</cmath>absurd. Thus, the answer is <math>\\boxed{349}</math>."
  },
  {
    "year": 2023,
    "variant": "II",
    "problem_number": 1,
    "latex": "The numbers of apples growing on each of six apple trees form an arithmetic sequence where the greatest number of apples growing on any of the six trees is double the least number of apples growing on any of the six trees. The total number of apples growing on all six trees is <math>990.</math> Find the greatest number of apples growing on any of the six trees.",
    "solution": "In the arithmetic sequence, let <math>a</math> be the first term and <math>d</math> be the common difference, where <math>d>0.</math> The sum of the first six terms is <cmath>a+(a+d)+(a+2d)+(a+3d)+(a+4d)+(a+5d) = 6a+15d.</cmath>\nWe are given that\n<cmath>\\begin{align*}\n6a+15d &= 990, \\\\\n2a &= a+5d.\n\\end{align*}</cmath>\nThe second equation implies that <math>a=5d.</math> Substituting this into the first equation, we get \n<cmath>\\begin{align*}\n6(5d)+15d &=990, \\\\\n45d &= 990 \\\\\nd &= 22.\n\\end{align*}</cmath>\nIt follows that <math>a=110.</math> Therefore, the greatest number of apples growing on any of the six trees is <math>a+5d=\\boxed{220}.</math>\n\n~MRENTHUSIASM"
  },
  {
    "year": 2023,
    "variant": "II",
    "problem_number": 2,
    "latex": "Recall that a palindrome is a number that reads the same forward and backward. Find the greatest integer less than <math>1000</math> that is a palindrome both when written in base ten and when written in base eight, such as <math>292 = 444_{\\text{eight}}.</math>",
    "solution": "Assuming that such palindrome is greater than <math>777_8 = 511,</math> we conclude that the palindrome has four digits when written in base <math>8.</math> Let such palindrome be <cmath>(\\underline{ABBA})_8 = 512A + 64B + 8B + A = 513A + 72B.</cmath>\n\nIt is clear that <math>A=1,</math> so we repeatedly add <math>72</math> to <math>513</math> until we get palindromes less than <math>1000:</math>\n<cmath>\\begin{align*}\n513+72\\cdot0 &= 513, \\\\\n513+72\\cdot1 &= \\boxed{585}, \\\\\n513+72\\cdot2 &= 657, \\\\\n513+72\\cdot3 &= 729, \\\\\n513+72\\cdot4 &= 801, \\\\\n513+72\\cdot5 &= 873, \\\\\n513+72\\cdot6 &= 945, \\\\\n513+72\\cdot7 &= 1017. \\\\\n\\end{align*}</cmath>\n\n~MRENTHUSIASM"
  },
  {
    "year": 2023,
    "variant": "II",
    "problem_number": 3,
    "latex": "Let <math>\\triangle ABC</math> be an isosceles triangle with <math>\\angle A = 90^\\circ.</math> There exists a point <math>P</math> inside <math>\\triangle ABC</math> such that <math>\\angle PAB = \\angle PBC = \\angle PCA</math> and <math>AP = 10.</math> Find the area of <math>\\triangle ABC.</math>",
    "solution": "== Diagram ==\n<asy>\n/* Made by MRENTHUSIASM */\n\nsize(200);\npair A, B, C, P;\n\nA = origin;\nB = (0,10*sqrt(5));\nC = (10*sqrt(5),0);\nP = intersectionpoints(Circle(A,10),Circle(C,20))[0];\n\ndot(\"$A$\",A,1.5*SW,linewidth(4));\ndot(\"$B$\",B,1.5*NW,linewidth(4));\ndot(\"$C$\",C,1.5*SE,linewidth(4));\ndot(\"$P$\",P,1.5*NE,linewidth(4));\n\nmarkscalefactor=0.125;\ndraw(rightanglemark(B,A,C,10),red);\ndraw(anglemark(P,A,B,25),red);\ndraw(anglemark(P,B,C,25),red);\ndraw(anglemark(P,C,A,25),red);\nadd(pathticks(anglemark(P,A,B,25), n = 1, r = 0.1, s = 10, red));\nadd(pathticks(anglemark(P,B,C,25), n = 1, r = 0.1, s = 10, red));\nadd(pathticks(anglemark(P,C,A,25), n = 1, r = 0.1, s = 10, red));\n\ndraw(A--B--C--cycle^^P--A^^P--B^^P--C);\nlabel(\"$10$\",midpoint(A--P),dir(-30),blue);\n</asy>\n~MRENTHUSIASM"
  },
  {
    "year": 2023,
    "variant": "II",
    "problem_number": 4,
    "latex": "Let <math>x,y,</math> and <math>z</math> be real numbers satisfying the system of equations\n<cmath>\\begin{align*}\nxy + 4z &= 60 \\\\\nyz + 4x &= 60 \\\\\nzx + 4y &= 60.\n\\end{align*}</cmath>\nLet <math>S</math> be the set of possible values of <math>x.</math> Find the sum of the squares of the elements of <math>S.</math>",
    "solution": "We first subtract the second equation from the first, noting that they both equal <math>60</math>. \n<cmath>\\begin{align*}\nxy+4z-yz-4x&=0 \\\\\n4(z-x)-y(z-x)&=0 \\\\\n(z-x)(4-y)&=0\n\\end{align*}</cmath>\n\nCase 1: Let <math>y=4</math>.\n\nThe first and third equations simplify to:\n<cmath>\\begin{align*}\nx+z&=15 \\\\\nxz&=44\n\\end{align*}</cmath>\nfrom which it is apparent that <math>x=4</math> and <math>x=11</math> are solutions.\n\nCase 2: Let <math>x=z</math>.\n\nThe first and third equations simplify to:\n<cmath>\\begin{align*}\nxy+4x&=60 \\\\\nx^2+4y&=60\n\\end{align*}</cmath>\n\nWe subtract the following equations, yielding:\n<cmath>\\begin{align*}\nx^2+4y-xy-4x&=0 \\\\\nx(x-4)-y(x-4)&=0 \\\\\n(x-4)(x-y)&=0\n\\end{align*}</cmath>\n\nWe thus have <math>x=4</math> and <math>x=y</math>, substituting in <math>x=y=z</math> and solving yields <math>x=6</math> and <math>x=-10</math>.\n\nThen, we just add the squares of the solutions (make sure not to double count the <math>4</math>), and get <cmath>4^2+11^2+6^2+(-10)^2=16+121+36+100=\\boxed{273}.</cmath>\n~SAHANWIJETUNGA"
  },
  {
    "year": 2023,
    "variant": "II",
    "problem_number": 5,
    "latex": "Let <math>S</math> be the set of all positive rational numbers <math>r</math> such that when the two numbers <math>r</math> and <math>55r</math> are written as fractions in lowest terms, the sum of the numerator and denominator of one fraction is the same as the sum of the numerator and denominator of the other fraction. The sum of all the elements of <math>S</math> can be expressed in the form <math>\\frac{p}{q},</math> where <math>p</math> and <math>q</math> are relatively prime positive integers. Find <math>p+q.</math>",
    "solution": "Denote <math>r = \\frac{a}{b}</math>, where <math>gcf\\left( a, b \\right) = 1</math>.\nWe have <math>55 r = \\frac{55a}{b}</math>.\nSuppose <math>gcf\\left( 55, b \\right) = 1</math>, then the sum of the numerator and the denominator of <math>55r</math> is <math>55a + b</math>.\nThis cannot be equal to the sum of the numerator and the denominator of <math>r</math>, <math>a + b</math>.\nTherefore, <math>\\left( 55, b \\right) \\neq 1</math>.\n\nCase 1: <math>b</math> can be written as <math>5c</math> with <math>\\left( c, 11 \\right) = 1</math>.\n\nThus, <math>55r = \\frac{11a}{c}</math>.\n\nBecause the sum of the numerator and the denominator of <math>r</math> and <math>55r</math> are the same,\n<cmath>\n\\[\na + 5c = 11a + c .\n\\]\n</cmath>\n\nHence, <math>2c = 5 a</math>.\n\nBecause <math>\\left( a, b \\right) = 1</math>, <math>\\left( a, c \\right) = 1</math>.\nThus, <math>a = 2</math> and <math>c = 5</math>.\nTherefore, <math>r = \\frac{a}{5c} = \\frac{2}{25}</math>.\n\nCase 2: <math>b</math> can be written as <math>11d</math> with <math>\\left( d, 5 \\right) = 1</math>.\n\nThus, <math>55r = \\frac{5a}{c}</math>.\n\nBecause the sum of the numerator and the denominator of <math>r</math> and <math>55r</math> are the same,\n<cmath>\n\\[\na + 11c = 5a + c .\n\\]\n</cmath>\n\nHence, <math>2a = 5 c</math>.\n\nBecause <math>\\left( a, b \\right) = 1</math>, <math>\\left( a, c \\right) = 1</math>.\nThus, <math>a = 5</math> and <math>c = 2</math>.\nTherefore, <math>r = \\frac{a}{11c} = \\frac{5}{22}</math>.\n\nCase 3: <math>b</math> can be written as <math>55 c</math>.\n\nThus, <math>55r = \\frac{a}{c}</math>.\n\nBecause the sum of the numerator and the denominator of <math>r</math> and <math>55r</math> are the same,\n<cmath>\n\\[\na + 55c = a + c .\n\\]\n</cmath>\n\nHence, <math>c = 0</math>. This is infeasible.\nThus, there is no solution in this case.\n\nPutting all cases together, <math>S = \\left\\{ \\frac{2}{25}, \\frac{5}{22} \\right\\}</math>.\nTherefore, the sum of all numbers in <math>S</math> is\n<cmath>\n\\[\n\\frac{2}{25} + \\frac{5}{22} = \\frac{169}{550} .\n\\]\n</cmath>\n\nTherefore, the answer is <math>169 + 550 = \\boxed{\\textbf{(719) }}</math>.\n\n~Steven Chen (Professor Chen Education Palace, www.professorchenedu.com)"
  },
  {
    "year": 2023,
    "variant": "II",
    "problem_number": 6,
    "latex": "Consider the L-shaped region formed by three unit squares joined at their sides, as shown below. Two points <math>A</math> and <math>B</math> are chosen independently and uniformly at random from inside the region. The probability that the midpoint of <math>\\overline{AB}</math> also lies inside this L-shaped region can be expressed as <math>\\frac{m}{n},</math> where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n.</math>\n<asy>\nunitsize(2cm);\ndraw((0,0)--(2,0)--(2,1)--(1,1)--(1,2)--(0,2)--cycle);\ndraw((0,1)--(1,1)--(1,0),dashed);\n</asy>",
    "solution": "==Video Solution by MOP 2024==\nhttps://youtube.com/watch?v=0UViBt-LYTo&t=0s"
  },
  {
    "year": 2023,
    "variant": "II",
    "problem_number": 7,
    "latex": "Each vertex of a regular dodecagon (<math>12</math>-gon) is to be colored either red or blue, and thus there are <math>2^{12}</math> possible colorings. Find the number of these colorings with the property that no four vertices colored the same color are the four vertices of a rectangle.",
    "solution": "Note that the condition is equivalent to stating that there are no 2 pairs of oppositely spaced vertices with the same color.\n\nCase 1: There are no pairs. This yields <math>2</math> options for each vertices 1-6, and the remaining vertices 7-12 are set, yielding <math>2^6=64</math> cases.\n\nCase 2: There is one pair. Again start with 2 options for each vertex in 1-6, but now multiply by 6 since there are 6 possibilities for which pair can have the same color assigned instead of the opposite. Thus, the cases are: <math>2^6*6=384</math>\n\ncase 3: There are two pairs, but oppositely colored. Start with <math>2^6</math> for assigning 1-6, then multiply by 6C2=15 for assigning which have repeated colors. Divide by 2 due to half the cases having the same colored opposites. <math>2^6*15/2=480</math>\n\nIt is apparent that no other cases exist, as more pairs would force there to be 2 pairs of same colored oppositely spaced vertices with the same color. Thus, the answer is: <math>64+384+480=\\boxed{928}</math>\n\n~SAHANWIJETUNGA"
  },
  {
    "year": 2023,
    "variant": "II",
    "problem_number": 8,
    "latex": "Let <math>\\omega = \\cos\\frac{2\\pi}{7} + i \\cdot \\sin\\frac{2\\pi}{7},</math> where <math>i = \\sqrt{-1}.</math> Find the value of the product<cmath>\\prod_{k=0}^6 \\left(\\omega^{3k} + \\omega^k + 1\\right).</cmath>",
    "solution": "For any <math>k\\in Z</math>, we have,\n<cmath>\n\\begin{align*}\n& \\left( \\omega^{3k} + \\omega^k + 1 \\right)\n\\left( \\omega^{3\\left( 7 - k \\right)} + \\omega^{\\left( 7 - k \\right)} + 1 \\right) \\\\\n& = \\omega^{3 \\cdot 7} + \\omega^{2k + 7} + \\omega^{3k}\n+ \\omega^{-2k + 3 \\cdot 7} + \\omega^7 + \\omega^k\n+ \\omega^{3\\left( 7 - k \\right)} + \\omega^{\\left( 7 - k \\right)} + 1 \\\\\n& = 1 + \\omega^{2k} + \\omega^{3k}\n+ \\omega^{-2k} + 1 + \\omega^k\n+ \\omega^{-3k} + \\omega^{-k} + 1 \\\\\n& = 2 + \\omega^{-3k} \\sum_{j=0}^6 \\omega^{j k} \\\\\n& = 2 + \\omega^{-3k} \\frac{1 - \\omega^{7 k}}{1 - \\omega^k} \\\\\n& = 2 .\n\\end{align*}\n</cmath>\nThe second and the fifth equalities follow from the property that <math>\\omega^7 = 1</math>.\n\nTherefore,\n<cmath>\n\\begin{align*}\n\\Pi_{k=0}^6 \\left( \\omega^{3k} + \\omega^k + 1 \\right)\n& = \\left( \\omega^{3 \\cdot 0} + \\omega^0 + 1 \\right)\n\\Pi_{k=1}^3 \\left( \\omega^{3k} + \\omega^k + 1 \\right)\n\\left( \\omega^{3\\left( 7 - k \\right)} + \\omega^{\\left( 7 - k \\right)} + 1 \\right) \\\\\n& = 3 \\cdot 2^3 \\\\\n& = \\boxed{\\textbf{024}}.\n\\end{align*}\n</cmath>\nMan, What can I say? Mamba never out!\n\n~Steven Chen (Professor Chen Education Palace, www.professorchenedu.com)\n\n<math>k</math> cannot be a multiple of <math>7</math>, otherwise the first equation would equal <math>9</math> instead of <math>2</math> ~inaccessibles"
  },
  {
    "year": 2023,
    "variant": "II",
    "problem_number": 9,
    "latex": "Circles <math>\\omega_1</math> and <math>\\omega_2</math> intersect at two points <math>P</math> and <math>Q,</math> and their common tangent line closer to <math>P</math> intersects <math>\\omega_1</math> and <math>\\omega_2</math> at points <math>A</math> and <math>B,</math> respectively. The line parallel to <math>AB</math> that passes through <math>P</math> intersects <math>\\omega_1</math> and <math>\\omega_2</math> for the second time at points <math>X</math> and <math>Y,</math> respectively. Suppose <math>PX=10,</math> <math>PY=14,</math> and <math>PQ=5.</math> Then the area of trapezoid <math>XABY</math> is <math>m\\sqrt{n},</math> where <math>m</math> and <math>n</math> are positive integers and <math>n</math> is not divisible by the square of any prime. Find <math>m+n.</math>",
    "solution": "==Video Solution & More by MegaMath==\nhttps://www.youtube.com/watch?v=x-5VYR1Dfw4"
  },
  {
    "year": 2023,
    "variant": "II",
    "problem_number": 10,
    "latex": "Let <math>N</math> be the number of ways to place the integers <math>1</math> through <math>12</math> in the <math>12</math> cells of a <math>2 \\times 6</math> grid so that for any two cells sharing a side, the difference between the numbers in those cells is not divisible by <math>3.</math> One way to do this is shown below. Find the number of positive integer divisors of <math>N.</math>\n<cmath>\\begin{array}{|c|c|c|c|c|c|} \\hline\n\\,1\\, & \\,3\\, & \\,5\\, & \\,7\\, & \\,9\\, & 11 \\\\ \\hline\n\\,2\\, & \\,4\\, & \\,6\\, & \\,8\\, & 10 & 12 \\\\ \\hline\n\\end{array}</cmath>",
    "solution": "We replace the numbers which are <math>0 \\pmod 3</math> to <math>0</math>, <math>1 \\pmod 3</math> to <math>1</math>, and <math>2 \\pmod 3</math> to <math>2</math>.\n\nThen, the problem is equivalent to arranging four <math>0</math>'s, four <math>1</math>'s, and four <math>2</math>'s into the grid (and then multiplying by <math>4!^3</math> to account for replacing the remainder numbers with actual numbers) such that no 2 of the same numbers are adjacent. \n\nThen, the numbers which are vertically connected must be different. Two 1s must be connected with two 2s, and two 1s must be connected with two 0s (vertically), as if there are less 1s connected with either, then there will be 2s or 0s which must be connected within the same number.\nFor instance if we did did:\n<li> Three (1,2) pairs </li>\n<li> One (1,0) pair </li>\nThen we would be left with one (0,2), and two remaining 0s which aren't supposed to be connected, so it is impossible. Similar logic works for why all 1s can't be connected with all 2s. \n\n\nThus, we are left with the problem of re-arranging two (1,2) pairs, two (1,0) pairs, two (2,0) pairs. Notice that the pairs can be re-arranged horizontally in any configuration, but when two pairs are placed adjacent there is only one configuration for the rightmost pair to be set after the leftmost one has been placed.\n\nWe have <math>\\frac{6!}{2!2!2!}=90</math> ways to horizontally re-arrange the pairs, with 2 ways to set the initial leftmost column. Thus, there are 180 ways to arrange the pairs. Accounting for the initial simplification of the problem with 1-12 <math>\\rightarrow</math> 0-3, we obtain the answer is: \n\n<cmath>2488320=2^{11}\\cdot3^5\\cdot5^1</cmath>\n\nThe number of divisors is: <math>12\\cdot6\\cdot2=\\boxed{144}.</math>\n~SAHANWIJETUNGA"
  },
  {
    "year": 2023,
    "variant": "II",
    "problem_number": 11,
    "latex": "Find the number of collections of <math>16</math> distinct subsets of <math>\\{1,2,3,4,5\\}</math> with the property that for any two subsets <math>X</math> and <math>Y</math> in the collection, <math>X \\cap Y \\not= \\emptyset.</math>",
    "solution": "Denote by <math>\\mathcal C</math> a collection of 16 distinct subsets of <math>\\left\\{ 1, 2, 3, 4, 5 \\right\\}</math>.\nDenote <math>N = \\min \\left\\{ |S|: S \\in \\mathcal C \\right\\}</math>.\n\nCase 1: <math>N = 0</math>.\n\nThis entails <math>\\emptyset \\in \\mathcal C</math>.\nHence, for any other set <math>A \\in \\mathcal C</math>, we have <math>\\emptyset \\cap A = \\emptyset</math>. This is infeasible.\n\nCase 2: <math>N = 1</math>.\n\nLet <math>\\{a_1\\} \\in \\mathcal C</math>.\nTo get <math>\\{a_1\\} \\cap A \\neq \\emptyset</math> for all <math>A \\in \\mathcal C</math>.\nWe must have <math>a_1 \\in \\mathcal A</math>.\n\nThe total number of subsets of <math>\\left\\{ 1, 2, 3, 4, 5 \\right\\}</math> that contain <math>a_1</math> is <math>2^4 = 16</math>.\nBecause <math>\\mathcal C</math> contains 16 subsets.\nWe must have <math>\\mathcal C = \\left\\{ \\{a_1\\} \\cup A : \\forall \\ A \\subseteq \\left\\{ 1, 2, 3, 4, 5 \\right\\} \\backslash \\left\\{a_1 \\right\\} \\right\\}</math>.\nTherefore, for any <math>X, Y \\in \\mathcal C</math>, we must have <math>X \\cap Y \\supseteq \\{a_1\\}</math>.\nSo this is feasible.\n\nNow, we count the number of <math>\\mathcal C</math> in this case.\nWe only need to determine <math>a_1</math>.\nTherefore, the number of solutions is 5.\n\nCase 3: <math>N = 2</math>.\n\nCase 3.1: There is exactly one subset in <math>\\mathcal C</math> that contains 2 elements.\n\nDenote this subset as <math>\\left\\{ a_1, a_2 \\right\\}</math>.\nWe then put all subsets of <math>\\left\\{ 1, 2, 3, 4, 5 \\right\\}</math> that contain at least three elements into <math>\\mathcal C</math>, except <math>\\left\\{ a_3, a_4, a_5 \\right\\}</math>.\nThis satisfies <math>X \\cap Y \\neq \\emptyset</math> for any <math>X, Y \\in \\mathcal C</math>.\n\nNow, we count the number of <math>\\mathcal C</math> in this case.\nWe only need to determine <math>\\left\\{ a_1, a_2 \\right\\}</math>.\nTherefore, the number of solutions is <math>\\binom{5}{2} = 10</math>.\n\nCase 3.2: There are exactly two subsets in <math>\\mathcal C</math> that contain 2 elements.\n\nThey must take the form <math>\\left\\{ a_1, a_2 \\right\\}</math> and <math>\\left\\{ a_1, a_3 \\right\\}</math>.\n\nWe then put all subsets of <math>\\left\\{ 1, 2, 3, 4, 5 \\right\\}</math> that contain at least three elements into <math>\\mathcal C</math>, except <math>\\left\\{ a_3, a_4, a_5 \\right\\}</math> and <math>\\left\\{ a_2, a_4, a_5 \\right\\}</math>.\nThis satisfies <math>X \\cap Y \\neq \\emptyset</math> for any <math>X, Y \\in \\mathcal C</math>.\n\nNow, we count the number of <math>\\mathcal C</math> in this case.\nWe only need to determine <math>\\left\\{ a_1, a_2 \\right\\}</math> and <math>\\left\\{ a_1, a_3 \\right\\}</math>.\nTherefore, the number of solutions is <math>5 \\cdot \\binom{4}{2} = 30</math>.\n\nCase 3.3: There are exactly three subsets in <math>\\mathcal C</math> that contain 2 elements.\nThey take the form <math>\\left\\{ a_1, a_2 \\right\\}</math>, <math>\\left\\{ a_1, a_3 \\right\\}</math>, <math>\\left\\{ a_1, a_4 \\right\\}</math>.\n\nWe then put all subsets of <math>\\left\\{ 1, 2, 3, 4, 5 \\right\\}</math> that contain at least three elements into <math>\\mathcal C</math>, except <math>\\left\\{ a_3, a_4, a_5 \\right\\}</math>, <math>\\left\\{ a_2, a_4, a_5 \\right\\}</math>, <math>\\left\\{ a_2, a_3, a_5 \\right\\}</math>.\nThis satisfies <math>X \\cap Y \\neq \\emptyset</math> for any <math>X, Y \\in \\mathcal C</math>.\n\nNow, we count the number of <math>\\mathcal C</math> in this case.\nWe only need to determine <math>\\left\\{ a_1, a_2 \\right\\}</math>, <math>\\left\\{ a_1, a_3 \\right\\}</math>, <math>\\left\\{ a_1, a_4 \\right\\}</math>.\nTherefore, the number of solutions is <math>5 \\cdot \\binom{4}{3} = 20</math>.\n\nCase 3.4: There are exactly three subsets in <math>\\mathcal C</math> that contain 2 elements.\nThey take the form <math>\\left\\{ a_1, a_2 \\right\\}</math>, <math>\\left\\{ a_1, a_3 \\right\\}</math>, <math>\\left\\{ a_2, a_3 \\right\\}</math>.\n\nWe then put all subsets of <math>\\left\\{ 1, 2, 3, 4, 5 \\right\\}</math> that contain at least three elements into <math>\\mathcal C</math>, except <math>\\left\\{ a_3, a_4, a_5 \\right\\}</math>, <math>\\left\\{ a_2, a_4, a_5 \\right\\}</math>, <math>\\left\\{ a_1, a_4, a_5 \\right\\}</math>.\nThis satisfies <math>X \\cap Y \\neq \\emptyset</math> for any <math>X, Y \\in \\mathcal C</math>.\n\nNow, we count the number of <math>\\mathcal C</math> in this case.\nWe only need to determine <math>\\left\\{ a_1, a_2 \\right\\}</math>, <math>\\left\\{ a_1, a_3 \\right\\}</math>, <math>\\left\\{ a_2, a_3 \\right\\}</math>.\nTherefore, the number of solutions is <math>\\binom{5}{3} = 10</math>.\n\nCase 3.5: There are exactly four subsets in <math>\\mathcal C</math> that contain 2 elements.\nThey take the form <math>\\left\\{ a_1, a_2 \\right\\}</math>, <math>\\left\\{ a_1, a_3 \\right\\}</math>, <math>\\left\\{ a_1, a_4 \\right\\}</math>, <math>\\left\\{ a_1, a_5 \\right\\}</math>.\n\nWe then put all subsets of <math>\\left\\{ 1, 2, 3, 4, 5 \\right\\}</math> that contain at least three elements into <math>\\mathcal C</math>, except <math>\\left\\{ a_3, a_4, a_5 \\right\\}</math>, <math>\\left\\{ a_2, a_4, a_5 \\right\\}</math>, <math>\\left\\{ a_1, a_4, a_5 \\right\\}</math>, <math>\\left\\{ a_2, a_3, a_4 \\right\\}</math>.\nThis satisfies <math>X \\cap Y \\neq \\emptyset</math> for any <math>X, Y \\in \\mathcal C</math>.\n\nNow, we count the number of <math>\\mathcal C</math> in this case.\nWe only need to determine <math>\\left\\{ a_1, a_2 \\right\\}</math>, <math>\\left\\{ a_1, a_3 \\right\\}</math>, <math>\\left\\{ a_1, a_4 \\right\\}</math>, <math>\\left\\{ a_1, a_5 \\right\\}</math>.\nTherefore, the number of solutions is 5.\n\nPutting all subcases together, the number of solutions is this case is <math>10 + 30 + 20 + 10 + 5 = 75</math>.\n\nCase 4: <math>N \\geq 3</math>.\n\nThe number of subsets of <math>\\left\\{ 1, 2, 3, 4, 5 \\right\\}</math> that contain at least three elements is <math>\\sum_{i=3}^5 \\binom{5}{i} = 16</math>.\nBecause <math>\\mathcal C</math> has 16 elements, we must select all such subsets into <math>\\mathcal C</math>.\nTherefore, the number of solutions in this case is 1.\n\nPutting all cases together, the total number of <math>\\mathcal C</math> is <math>5 + 75 + 1 = \\boxed{\\textbf{(081) }}</math>."
  },
  {
    "year": 2023,
    "variant": "II",
    "problem_number": 12,
    "latex": "In <math>\\triangle ABC</math> with side lengths <math>AB = 13,</math> <math>BC = 14,</math> and <math>CA = 15,</math> let <math>M</math> be the midpoint of <math>\\overline{BC}.</math> Let <math>P</math> be the point on the circumcircle of <math>\\triangle ABC</math> such that <math>M</math> is on <math>\\overline{AP}.</math> There exists a unique point <math>Q</math> on segment <math>\\overline{AM}</math> such that <math>\\angle PBQ = \\angle PCQ.</math> Then <math>AQ</math> can be written as <math>\\frac{m}{\\sqrt{n}},</math> where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n.</math>",
    "solution": "Because <math>M</math> is the midpoint of <math>BC</math>, following from the Stewart's theorem, <math>AM = 2 \\sqrt{37}</math>.\n\nBecause <math>A</math>, <math>B</math>, <math>C</math>, and <math>P</math> are concyclic, <math>\\angle BPA = \\angle C</math>, <math>\\angle CPA = \\angle B</math>.\n\nDenote <math>\\theta = \\angle PBQ</math>.\n\nIn <math>\\triangle BPQ</math>, following from the law of sines,\n<cmath>\n\\[\n\\frac{BQ}{\\sin \\angle BPA} = \\frac{PQ}{\\sin \\angle PBQ}\n\\]\n</cmath>\n\nThus,\n<cmath>\n\\[\n\\frac{BQ}{\\sin C} = \\frac{PQ}{\\sin \\theta} . \\hspace{1cm} (1)\n\\]\n</cmath>\n\nIn <math>\\triangle CPQ</math>, following from the law of sines,\n<cmath>\n\\[\n\\frac{CQ}{\\sin \\angle CPA} = \\frac{PQ}{\\sin \\angle PCQ}\n\\]\n</cmath>\n\nThus,\n<cmath>\n\\[\n\\frac{CQ}{\\sin B} = \\frac{PQ}{\\sin \\theta} . \\hspace{1cm} (2)\n\\]\n</cmath>\n\nTaking <math>\\frac{(1)}{(2)}</math>, we get\n<cmath>\n\\[\n\\frac{BQ}{\\sin C} = \\frac{CQ}{\\sin B}\n\\]\n</cmath>\n\nIn <math>\\triangle ABC</math>, following from the law of sines,\n<cmath>\n\\[\n\\frac{AB}{\\sin C} = \\frac{AC}{\\sin B} . \\hspace{1cm} (3)\n\\]\n</cmath>\n\nThus, Equations (2) and (3) imply\n<cmath>\n\\begin{align*}\n\\frac{BQ}{CQ} & = \\frac{AB}{AC} \\\\\n& = \\frac{13}{15} . \\hspace{1cm} (4)\n\\end{align*}\n</cmath>\n\n\n\nNext, we compute <math>BQ</math> and <math>CQ</math>.\n\nWe have\n<cmath>\n\\begin{align*}\nBQ^2 & = AB^2 + AQ^2 - 2 AB\\cdot AQ \\cos \\angle BAQ \\\\\n& = AB^2 + AQ^2 - 2 AB\\cdot AQ \\cos \\angle BAM \\\\\n& = AB^2 + AQ^2 - 2 AB\\cdot AQ \\cdot \\frac{AB^2 + AM^2 - BM^2}{2 AB \\cdot AM} \\\\\n& = AB^2 + AQ^2 -  AQ \\cdot \\frac{AB^2 + AM^2 - BM^2}{AM} \\\\\n& = 169 + AQ^2 - \\frac{268}{2 \\sqrt{37}} AQ .  \\hspace{1cm} (5)\n\\end{align*}\n</cmath>\n\nWe have\n<cmath>\n\\begin{align*}\nCQ^2 & = AC^2 + AQ^2 - 2 AC\\cdot AQ \\cos \\angle CAQ \\\\\n& = AC^2 + AQ^2 - 2 AC\\cdot AQ \\cos \\angle CAM \\\\\n& = AC^2 + AQ^2 - 2 AC\\cdot AQ \\cdot \\frac{AC^2 + AM^2 - CM^2}{2 AC \\cdot AM} \\\\\n& = AC^2 + AQ^2 -  AQ \\cdot \\frac{AC^2 + AM^2 - CM^2}{AM} \\\\\n& = 225 + AQ^2 - \\frac{324}{2 \\sqrt{37}} AQ .  \\hspace{1cm} (6)\n\\end{align*}\n</cmath>\n\nTaking (5) and (6) into (4), we get <math>AQ = \\frac{99}{\\sqrt{148}}</math>\n\nTherefore, the answer is <math>99 + 148 = \\boxed{\\textbf{(247) }}</math>\n\n~Steven Chen (Professor Chen Education Palace, www.professorchenedu.com)"
  },
  {
    "year": 2023,
    "variant": "II",
    "problem_number": 13,
    "latex": "Let <math>A</math> be an acute angle such that <math>\\tan A = 2 \\cos A.</math> Find the number of positive integers <math>n</math> less than or equal to <math>1000</math> such that <math>\\sec^n A + \\tan^n A</math> is a positive integer whose units digit is <math>9.</math>",
    "solution": "Denote <math>a_n = \\sec^n A + \\tan^n A</math>.\nFor any <math>k</math>, we have\n<cmath>\n\\begin{align*}\na_n & = \\sec^n A + \\tan^n A \\\\\n& = \\left( \\sec^{n-k} A + \\tan^{n-k} A \\right) \\left( \\sec^k A + \\tan^k A \\right)\n- \\sec^{n-k} A \\tan^k A - \\tan^{n-k} A \\sec^k A \\\\\n& = a_{n-k} a_k - 2^k \\sec^{n-k} A \\cos^k A - 2^k \\tan^{n-k} A \\cot^k A \\\\\n& = a_{n-k} a_k - 2^k a_{n-2k} .\n\\end{align*}\n</cmath>\n\nNext, we compute the first several terms of <math>a_n</math>.\n\nBy solving equation <math>\\tan A = 2 \\cos A</math>, we get <math>\\cos A = \\frac{\\sqrt{2 \\sqrt{17} - 2}}{4}</math>.\nThus, <math>a_0 = 2</math>, <math>a_1 = \\sqrt{\\sqrt{17} + 4}</math>, <math>a_2 = \\sqrt{17}</math>, <math>a_3 = \\sqrt{\\sqrt{17} + 4} \\left( \\sqrt{17} - 2 \\right)</math>, <math>a_4 = 9</math>.\n\nIn the rest of analysis, we set <math>k = 4</math>.\nThus,\n<cmath>\n\\begin{align*}\na_n & = a_{n-4} a_4 - 2^4 a_{n-8}  \\\\\n& = 9 a_{n-4} - 16 a_{n-8} .\n\\end{align*}\n</cmath>\n\nThus, to get <math>a_n</math> an integer, we have <math>4 | n</math>.\nIn the rest of analysis, we only consider such <math>n</math>. Denote <math>n = 4 m</math> and <math>b_m = a_{4n}</math>.\nThus,\n<cmath>\n\\begin{align*}\nb_m & = 9 b_{m-1} - 16 b_{m-2}\n\\end{align*}\n</cmath>\nwith initial conditions <math>b_0 = 2</math>, <math>b_1 = 9</math>.\n\nTo get the units digit of <math>b_m</math> to be 9, we have\n<cmath>\n\\begin{align*}\nb_m \\equiv -1 & \\pmod{2} \\\\\nb_m \\equiv -1 & \\pmod{5}\n\\end{align*}\n</cmath>\n\nModulo 2, for <math>m \\geq 2</math>, we have\n<cmath>\n\\begin{align*}\nb_m & \\equiv 9 b_{m-1} - 16 b_{m-2} \\\\\n& \\equiv b_{m-1} .\n\\end{align*}\n</cmath>\n\nBecause <math>b_1 \\equiv -1 \\pmod{2}</math>, we always have <math>b_m \\equiv -1 \\pmod{2}</math> for all <math>m \\geq 2</math>.\n\nModulo 5, for <math>m \\geq 5</math>, we have\n<cmath>\n\\begin{align*}\nb_m & \\equiv 9 b_{m-1} - 16 b_{m-2} \\\\\n& \\equiv - b_{m-1} - b_{m-2} .\n\\end{align*}\n</cmath>\n\nWe have <math>b_0 \\equiv 2 \\pmod{5}</math>, <math>b_1 \\equiv -1 \\pmod{5}</math>,\n<math>b_2 \\equiv -1 \\pmod{5}</math>, <math>b_3 \\equiv 2 \\pmod{5}</math>, <math>b_4 \\equiv -1 \\pmod{5}</math>, <math>b_5 \\equiv -1 \\pmod{5}</math>, <math>b_6 \\equiv 2 \\pmod{5}</math>.\nTherefore, the congruent values modulo 5 is cyclic with period 3.\nTo get <math>b_m \\equiv -1 \\pmod{5}</math>, we have <math>3 \\nmid m \\pmod{3}</math>.\n\nFrom the above analysis with modulus 2 and modulus 5, we require <math>3 \\nmid m \\pmod{3}</math>.\n\nFor <math>n \\leq 1000</math>, because <math>n = 4m</math>, we only need to count feasible <math>m</math> with <math>m \\leq 250</math>.\nThe number of feasible <math>m</math> is\n<cmath>\n\\begin{align*}\n250 - \\left\\lfloor \\frac{250}{3} \\right\\rfloor\n& = 250 - 83 \\\\\n& = \\boxed{\\textbf{(167) }} .\n\\end{align*}\n</cmath>\n\n~Steven Chen (Professor Chen Education Palace, www.professorchenedu.com)"
  },
  {
    "year": 2023,
    "variant": "II",
    "problem_number": 14,
    "latex": "A cube-shaped container has vertices <math>A,</math> <math>B,</math> <math>C,</math> and <math>D,</math> where <math>\\overline{AB}</math> and <math>\\overline{CD}</math> are parallel edges of the cube, and <math>\\overline{AC}</math> and <math>\\overline{BD}</math> are diagonals of faces of the cube, as shown. Vertex <math>A</math> of the cube is set on a horizontal plane <math>\\mathcal{P}</math> so that the plane of the rectangle <math>ABDC</math> is perpendicular to <math>\\mathcal{P},</math> vertex <math>B</math> is <math>2</math> meters above <math>\\mathcal{P},</math> vertex <math>C</math> is <math>8</math> meters above <math>\\mathcal{P},</math> and vertex <math>D</math> is <math>10</math> meters above <math>\\mathcal{P}.</math> The cube contains water whose surface is parallel to <math>\\mathcal{P}</math> at a height of <math>7</math> meters above <math>\\mathcal{P}.</math> The volume of water is <math>\\frac{m}{n}</math> cubic meters, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n.</math>",
    "solution": "==Diagram==\n<asy>\n//Made by Djmathman \nsize(250);\ndefaultpen(linewidth(0.6));\npair A = origin, B = (6,3), X = rotate(40)*B, Y = rotate(70)*X, C = X+Y, Z = X+B, D = B+C, W = B+Y;\npair P1 = 0.8*C+0.2*Y, P2 = 2/3*C+1/3*X, P3 = 0.2*D+0.8*Z, P4 = 0.63*D+0.37*W;\npair E = (-20,6), F = (-6,-5), G = (18,-2), H = (9,8);\nfilldraw(E--F--G--H--cycle,rgb(0.98,0.98,0.2));\nfill(A--Y--P1--P4--P3--Z--B--cycle,rgb(0.35,0.7,0.9));\ndraw(A--B--Z--X--A--Y--C--X^^C--D--Z);\ndraw(P1--P2--P3--P4--cycle^^D--P4);\ndot(\"$A$\",A,S);\ndot(\"$B$\",B,S);\ndot(\"$C$\",C,N);\ndot(\"$D$\",D,N);\nlabel(\"$\\mathcal P$\",(-13,4.5));\n</asy>"
  },
  {
    "year": 2023,
    "variant": "II",
    "problem_number": 15,
    "latex": "For each positive integer <math>n</math> let <math>a_n</math> be the least positive integer multiple of <math>23</math> such that <math>a_n \\equiv 1 \\pmod{2^n}.</math> Find the number of positive integers <math>n</math> less than or equal to <math>1000</math> that satisfy <math>a_n = a_{n+1}.</math>",
    "solution": "Denote <math>a_n = 23 b_n</math>.\nThus, for each <math>n</math>, we need to find smallest positive integer <math>k_n</math>, such that\n<cmath>\n\\[\n23 b_n = 2^n k_n + 1 .\n\\]\n</cmath>\n\nThus, we need to find smallest <math>k_n</math>, such that\n<cmath>\n\\[\n2^n k_n \\equiv - 1 \\pmod{23} .\n\\]\n</cmath>\n\nNow, we find the smallest <math>m</math>, such that <math>2^m \\equiv 1 \\pmod{23}</math>.\nBy Fermat's Theorem, we must have <math>m | \\phi \\left( 23 \\right)</math>. That is, <math>m | 22</math>.\nWe find <math>m = 11</math>.\n\nTherefore, for each <math>n</math>, we need to find smallest <math>k_n</math>, such that\n<cmath>\n\\[\n2^{{\\rm Rem} \\left( n , 11 \\right)} k_n \\equiv - 1 \\pmod{23} .\n\\]\n</cmath>\n\nWe have the following results:\n\nIf \\({\\rm Rem} \\left( n , 11 \\right) = 0\\), then \\(k_n = 22\\) and \\(b_n = 1\\).\n\nIf \\({\\rm Rem} \\left( n , 11 \\right) = 1\\), then \\(k_n = 11\\) and \\(b_n = 1\\).\n\nIf \\({\\rm Rem} \\left( n , 11 \\right) = 2\\), then \\(k_n = 17\\) and \\(b_n = 3\\).\n\nIf \\({\\rm Rem} \\left( n , 11 \\right) = 3\\), then \\(k_n = 20\\) and \\(b_n = 7\\).\n\nIf \\({\\rm Rem} \\left( n , 11 \\right) = 4\\), then \\(k_n = 10\\) and \\(b_n = 7\\).\n\nIf \\({\\rm Rem} \\left( n , 11 \\right) = 5\\), then \\(k_n = 5\\) and \\(b_n = 7\\).\n\nIf \\({\\rm Rem} \\left( n , 11 \\right) = 6\\), then \\(k_n = 14\\) and \\(b_n = 39\\).\n\nIf \\({\\rm Rem} \\left( n , 11 \\right) = 7\\), then \\(k_n = 7\\) and \\(b_n = 39\\).\n\nIf \\({\\rm Rem} \\left( n , 11 \\right) = 8\\), then \\(k_n = 15\\) and \\(b_n = 167\\).\n\nIf \\({\\rm Rem} \\left( n , 11 \\right) = 9\\), then \\(k_n = 19\\) and \\(b_n = 423\\).\n\nIf \\({\\rm Rem} \\left( n , 11 \\right) = 10\\), then \\(k_n = 21\\) and \\(b_n = 935\\).\n\nTherefore, in each cycle, <math>n \\in \\left\\{ 11 l , 11l + 1 , \\cdots , 11l + 10 \\right\\}</math>, we have <math>n = 11l</math>, <math>11l + 3</math>, <math>11l + 4</math>, <math>11l + 6</math>, such that <math>b_n = b_{n+1}</math>. That is, <math>a_n = a_{n+1}</math>.\nAt the boundary of two consecutive cycles, <math>b_{11L + 10} \\neq b_{11 \\left(l + 1 \\right)}</math>.\n\nWe have <math>1000 = 90 \\cdot 11 + 10</math>.\nTherefore, the number of feasible <math>n</math> is <math>91 \\cdot 4 - 1 = \\boxed{\\textbf{(363) }}</math>.\n\n~Steven Chen (Professor Chen Education Palace, www.professorchenedu.com)"
  },
  {
    "year": 2024,
    "variant": "I",
    "problem_number": 1,
    "latex": "Every morning Aya goes for a <math>9</math>-kilometer-long walk and stops at a coffee shop afterwards. When she walks at a constant speed of <math>s</math> kilometers per hour, the walk takes her 4 hours, including <math>t</math> minutes spent in the coffee shop. When she walks <math>s+2</math> kilometers per hour, the walk takes her 2 hours and 24 minutes, including <math>t</math> minutes spent in the coffee shop. Suppose Aya walks at <math>s+\\frac{1}{2}</math> kilometers per hour. Find the number of minutes the walk takes her, including the <math>t</math> minutes spent in the coffee shop.",
    "solution": "<math>\\frac{9}{s} + t = 4</math> in hours and <math>\\frac{9}{s+2} + t = 2.4</math> in hours.\n\nSubtracting the second equation from the first, we get, \n\n<math>\\frac{9}{s} - \\frac{9}{s+2} = 1.6</math>\n\nMultiplying by <math>(s)(s+2)</math>, we get \n\n<math>9s+18-9s=18=1.6s^{2} + 3.2s</math>\n\nMultiplying by 5/2 on both sides, we get\n\n<math>0 = 4s^{2} + 8s - 45</math>\n\nFactoring gives us \n\n<math>(2s-5)(2s+9) = 0</math>, of which the solution we want is <math>s=2.5</math>.\n\nSubstituting this back to the first equation, we can find that <math>t = 0.4</math> hours.\n\nLastly, <math>s + \\frac{1}{2} = 3</math> kilometers per hour, so\n\n<math>\\frac{9}{3} + 0.4 = 3.4</math> hours, or <math>\\framebox{204}</math> minutes\n\n-Failure.net"
  },
  {
    "year": 2024,
    "variant": "I",
    "problem_number": 2,
    "latex": "There exist real numbers <math>x</math> and <math>y</math>, both greater than 1, such that <math>\\log_x\\left(y^x\\right)=\\log_y\\left(x^{4y}\\right)=10</math>. Find <math>xy</math>.",
    "solution": "By properties of logarithms, we can simplify the given equation to <math>x\\log_xy=4y\\log_yx=10</math>. Let us break this into two separate equations: \n\n<cmath>x\\log_xy=10</cmath>\n<cmath>4y\\log_yx=10.</cmath>\nWe multiply the two equations to get: \n<cmath>4xy\\left(\\log_xy\\log_yx\\right)=100.</cmath>\n\nAlso by properties of logarithms, we know that <math>\\log_ab\\cdot\\log_ba=1</math>; thus, <math>\\log_xy\\cdot\\log_yx=1</math>. Therefore, our equation simplifies to: \n\n<cmath>4xy=100\\implies xy=\\boxed{025}.</cmath>\n\n~Technodoggo"
  },
  {
    "year": 2024,
    "variant": "I",
    "problem_number": 3,
    "latex": "Alice and Bob play the following game. A stack of <math>n</math> tokens lies before them. The players take turns with Alice going first. On each turn, the player removes either <math>1</math> token or <math>4</math> tokens from the stack. Whoever removes the last token wins. Find the number of positive integers <math>n</math> less than or equal to <math>2024</math> for which there exists a strategy for Bob that guarantees that Bob will win the game regardless of Alice's play.",
    "solution": "Let's first try some experimentation. Alice obviously wins if there is one coin. She will just take it and win. If there are 2 remaining, then Alice will take one and then Bob will take one, so Bob wins. If there are <math>3</math>, Alice will take <math>1</math>, Bob will take one, and Alice will take the final one. If there are <math>4</math>, Alice will just remove all <math>4</math> at once. If there are <math>5</math>, no matter what Alice does, Bob can take the final coins in one try. Notice that Alice wins if there are <math>1</math>, <math>3</math>, or <math>4</math> coins left. Bob wins if there are <math>2</math> or <math>5</math> coins left.\n\nAfter some thought, you may realize that there is a strategy for Bob. If there is n is a multiple of <math>5</math>, then Bob will win. The reason for this is the following: Let's say there are a multiple of <math>5</math> coins remaining in the stack. If Alice takes <math>1</math>, Bob will take <math>4</math>, and there will still be a multiple of <math>5</math>. If Alice takes <math>4</math>, Bob will take <math>1</math>, and there will still be a multiple of <math>5</math>. This process will continue until you get <math>0</math> coins left. For example, let's say there are <math>205</math> coins. No matter what Alice does, Bob can simply just do the complement. After each of them make a turn, there will always be a multiple of <math>5</math> left. This will continue until there are <math>5</math> coins left, and Bob will end up winning.\n\nAfter some more experimentation, you'll realize that any number that is congruent to <math>2</math> mod <math>5</math> will also work. This is because Bob can do the same strategy, and when there are <math>2</math> coins left, Alice is forced to take <math>1</math> and Bob takes the final coin. For example, let's say there are <math>72</math> coins. If Alice takes <math>1</math>, Bob will take <math>4</math>. If Alice takes <math>4</math>, Bob will take <math>1</math>. So after they each make a turn, the number will always be equal to <math>2</math> mod <math>5</math>. Eventually, there will be only <math>2</math> coins remaining, and we've established that Alice will simply take <math>1</math> and Bob will take the final coin.\n\nSo we have to find the number of numbers less than or equal to <math>2024</math> that are either congruent to <math>0</math> mod <math>5</math> or <math>2</math> mod <math>5</math>. There are <math>404</math> numbers in the first category: <math>5, 10, 15, \\dots, 2020</math>. For the second category, there are <math>405</math> numbers. <math>2, 7, 12, 17, \\dots, 2022</math>. So the answer is <math>404 + 405 = \\boxed{809}</math>\n\n~lprado"
  },
  {
    "year": 2024,
    "variant": "I",
    "problem_number": 4,
    "latex": "Jen enters a lottery by picking <math>4</math> distinct numbers from <math>S=\\{1,2,3,\\cdots,9,10\\}.</math> <math>4</math> numbers are randomly chosen from <math>S.</math> She wins a prize if at least two of her numbers were <math>2</math> of the randomly chosen numbers, and wins the grand prize if all four of her numbers were the randomly chosen numbers. The probability of her winning the grand prize given that she won a prize is <math>\\tfrac{m}{n}</math> where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "==Video Solution==\n\nhttps://www.youtube.com/watch?v=KRvGaHLkVOg\n\n~By Ajeet Dubey (https://www.ioqm.in)"
  },
  {
    "year": 2024,
    "variant": "I",
    "problem_number": 5,
    "latex": "Rectangles <math>ABCD</math> and <math>EFGH</math> are drawn such that <math>D,E,C,F</math> are collinear. Also, <math>A,D,H,G</math> all lie on a circle. If <math>BC=16</math>,<math>AB=107</math>,<math>FG=17</math>, and <math>EF=184</math>, what is the length of <math>CE</math>?\n\n<asy>\nimport graph;\nunitsize(0.1cm);\n\npair A = (0,0);pair B = (70,0);pair C = (70,16);pair D = (0,16);pair E = (3,16);pair F = (90,16);pair G = (90,33);pair H = (3,33);\ndot(A^^B^^C^^D^^E^^F^^G^^H);\nlabel(\"$A$\", A, S);label(\"$B$\", B, S);label(\"$C$\", C, N);label(\"$D$\", D, N);label(\"$E$\", E, S);label(\"$F$\", F, S);label(\"$G$\", G, N);label(\"$H$\", H, N);\ndraw(E--D--A--B--C--E--H--G--F--C);\n</asy>",
    "solution": "==Video Solution ==\nhttps://youtu.be/8n24X7Q5Wr4\n~By Ajeet Dubey (https://www.ioqm.in)"
  },
  {
    "year": 2024,
    "variant": "I",
    "problem_number": 6,
    "latex": "Consider the paths of length <math>16</math> that follow the lines from the lower left corner to the upper right corner on an <math>8\\times 8</math> grid. Find the number of such paths that change direction exactly four times, as in the examples shown below.\n\n<asy>\nsize(10cm);\nusepackage(\"tikz\");label(\"\\begin{tikzpicture}[scale=.5]\\draw(0,0)grid(8,8);\\draw[line width=2,red](0,0)--(2,0)--(2,3)--(5,3)--(5,8)--(8,8);\\end{tikzpicture}\",origin);\nlabel(\"\\begin{tikzpicture}[scale=.5]\\draw(0,0)grid(8,8);\\draw[line width=2,red](0,0)--(0,3)--(3,3)--(3,5)--(8,5)--(8,8);\\end{tikzpicture}\",E);\n</asy>",
    "solution": "We divide the path into eight ‚Äú<math>R</math>‚Äù movements and eight ‚Äú<math>U</math>‚Äù movements. Five sections of alternative <math>RURUR</math> or <math>URURU</math> are necessary in order to make four ‚Äúturns.‚Äù We use the first case and multiply by <math>2</math>.\n\n\nFor <math>U</math>, we have seven ordered pairs of positive integers <math>(a,b)</math> such that <math>a+b=8</math>.\n\nFor <math>R</math>, we subtract <math>1</math> from each section (to make the minimum stars of each section <math>1</math>) and we use Stars and Bars to get <math>{7 \\choose 5}=21</math>.\n\n\nThus our answer is <math>7\\cdot21\\cdot2=\\boxed{294}</math>.\n\n~eevee9406"
  },
  {
    "year": 2024,
    "variant": "I",
    "problem_number": 7,
    "latex": "Find the largest possible real part of<cmath>(75+117i)z+\\frac{96+144i}{z}</cmath>where <math>z</math> is a complex number with <math>|z|=4</math>. Here <math>i = \\sqrt{-1}</math>.",
    "solution": "==Video Solution: Cauchy's Inequality==\nhttps://www.youtube.com/watch?v=ejmrAJ9TpvM&ab_channel=MegaMathChannel\nMegaMath"
  },
  {
    "year": 2024,
    "variant": "I",
    "problem_number": 8,
    "latex": "Eight circles of radius <math>34</math> are sequentially tangent, and two of the circles are tangent to <math>AB</math> and <math>BC</math> of triangle <math>ABC</math>, respectively. <math>2024</math> circles of radius <math>1</math> can be arranged in the same manner. The inradius of triangle <math>ABC</math> can be expressed as <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.\n\n<asy>\npair A = (2,1); pair B = (0,0); pair C = (3,0);\ndot(A^^B^^C);\nlabel(\"$A$\", A, N); label(\"$B$\", B, S); label(\"$C$\", C, S);\ndraw(A--B--C--cycle);\nfor(real i=0.62; i<2.7; i+=0.29){\ndraw(circle((i,0.145), 0.145));\n}\n</asy>",
    "solution": "Draw an altitude from both end circles of the diagram with the circles of radius one, and call the lengths you get drawing the altitudes of the circles down to <math>BC</math> <math>a</math> and <math>b</math>. Now we have the length of side <math>BC</math> of being <math>(2)(2022)+1+1+a+b</math>. However, the side <math>BC</math> can also be written as <math>(6)(68)+34+34+34a+34b</math>, due to similar triangles from the second diagram. If we set the equations equal, we have <math>\\frac{1190}{11} = a+b</math>. Call the radius of the incircle <math>r</math>, then we have the side BC to be <math>r(a+b)</math>. We find <math>r</math> as <math>\\frac{4046+\\frac{1190}{11}}{\\frac{1190}{11}}</math>, which simplifies to <math>\\frac{10+((34)(11))}{10}</math>,so we have <math>\\frac{192}{5}</math>, which sums to <math>\\boxed{197}</math>."
  },
  {
    "year": 2024,
    "variant": "I",
    "problem_number": 9,
    "latex": "Let <math>A</math>, <math>B</math>, <math>C</math>, and <math>D</math> be points on the hyperbola <math>\\frac{x^2}{20}- \\frac{y^2}{24} = 1</math> such that <math>ABCD</math> is a rhombus whose diagonals intersect at the origin. Find the greatest real number that is less than <math>BD^2</math> for all such rhombi.",
    "solution": "A quadrilateral is a rhombus if and only if its two diagonals bisect each other and are perpendicular to each other. The first condition is automatically satisfied because of the hyperbola's symmetry about the origin. To satisfy the second condition, we set <math>BD</math> as the line <math>y = mx</math> and <math>AC</math> as <math>y = -\\frac{1}{m}x.</math> Because the hyperbola has asymptotes of slopes <math>\\pm \\frac{\\sqrt6}{\\sqrt5},</math> we have <math>m, -\\frac{1}{m} \\in \\left(-\\frac{\\sqrt6}{\\sqrt5}, \\frac{\\sqrt6}{\\sqrt5}\\right).</math> This gives us <math>m^2 \\in \\left(\\frac{5}{6}, \\frac{6}{5}\\right).</math>\n\n\nPlugging <math>y = mx</math> into the equation for the hyperbola yields <math>x^2 = \\frac{120}{6-5m^2}</math> and <math>y^2 = \\frac{120m^2}{6-5m^2}.</math> By symmetry of the hyperbola, we know that <math>\\left(\\frac{BD}{2}\\right)^2 = x^2 + y^2,</math> so we wish to find a lower bound for <math>x^2 + y^2 = 120\\left(\\frac{1+m^2}{6-5m^2}\\right).</math> This is equivalent to minimizing <math>\\frac{1+m^2}{6-5m^2} = -\\frac{1}{5} + \\frac{11}{5(6-5m^2)}</math>. It's then easy to see that this expression increases with <math>m^2,</math> so we plug in <math>m^2 = \\frac{5}{6}</math> to get <math>x^2+y^2 > 120,</math> giving <math>BD^2 > \\boxed{480}.</math>"
  },
  {
    "year": 2024,
    "variant": "I",
    "problem_number": 10,
    "latex": "Let <math>\\triangle ABC</math> have side lengths <math>AB=5</math>, <math>BC=9</math>, <math>CA=10</math>. The tangents to circumcircle of <math>\\triangle ABC</math> at <math>B</math> and <math>C</math> intersect at point <math>D</math>, and <math>\\overline{AD}</math> intersects the circumcircle at <math>P \\neq A</math>. The length of <math>AP</math> is equal to <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime integers. Find <math>m + n</math>.",
    "solution": "==Diagram==\n<asy>\nimport olympiad;\n\nunitsize(15);\n\npair A, B, C, D, E, F, P, O;\n\nC = origin; A = (10,0); B = (7.8, 4.4899);\ndraw(A--B--C--cycle); draw(A..B..C..cycle, red+dotted);\n\nO = circumcenter(A, B, C);\n\nE = rotate(90,B) * (O);\nF = rotate(90,C) * (O);\n\nD = IP(B..E + (B-E)*4, C..F + (C-F)*-3);\n\ndraw(B--D--C--D--A);\n\nP = IP(D..A, A..B..C);\n\ndot(A); dot(B); dot(C); dot(D); dot(P);\nlabel(\"$A$\", A, dir(335));\nlabel(\"$B$\", B, dir(65));\nlabel(\"$C$\", C, dir(200));\nlabel(\"$D$\", D, dir(135));\nlabel(\"$P$\", P, dir(235));\n</asy>"
  },
  {
    "year": 2024,
    "variant": "I",
    "problem_number": 11,
    "latex": "Each vertex of a regular octagon is independently colored either red or blue with equal probability. The probability that the octagon can then be rotated so that all of the blue vertices end up at positions where there had been red vertices is <math>\\tfrac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "Notice that the question's condition mandates all blues to go to reds, but reds do not necessarily have to go to blue. Let us do casework on how many blues there are. \n\nIf there are no blues whatsoever, there is only one case. This case is valid, as all of the (zero) blues have gone to reds. (One could also view it as: the location of all the blues now were not previously red.) Thus, we have <math>1</math>. \n\nIf there is a single blue somewhere, there are <math>8</math> cases - where can the blue be? Each of these is valid. \n\nIf there are two blues, again, every case is valid, and there are <math>\\dbinom82=28</math> cases. \n\nIf there are three blues, every case is again valid; there are <math>\\dbinom83=56</math> such cases. \n\nThe case with four blues is trickier. Let us look at all possible subcases. \n\nIf all four are adjacent (as in the diagram below), it is obvious: we can simply reverse the diagram (rotate it by <math>4</math> units) to achieve the problem's condition. There are <math>8</math> possible ways to have <math>4</math> adjacent blues, so this subcase contributes <math>8</math>. \n<asy>\nimport graph;\nunitsize(1cm);\nfilldraw(circle((0.5,1.207),2.5),green,black);\nvoid oct11(int[] pts) {\npair[] vertices = {(0,0),(1,0),(1.707,0.707),(1.707,1.707),(1,2.414),(0,2.414),(-0.707,1.707),(-0.707,0.707)};\ndraw((0,0)--(1,0)--(1.707,0.707)--(1.707,1.707)--(1,2.414)--(0,2.414)--(-0.707,1.707)--(-0.707,0.707)--cycle);\nfor (int i = 0; i < 8; i+=1) {\nif (pts[i] == 0) {\ndot(vertices[i], blue+5);\n}\nif (pts[i] == 1) {\ndot(vertices[i], red+5);\n}\n}\n};\nint[] sus = {0,0,0,0,1,1,1,1};\noct11(sus);\n</asy>\n\nIf three are adjacent and one is one away (as shown in the diagram below), we can not rotate the diagram to satisfy the question. This subcase does not work. \n\n<asy>\nimport graph;\nunitsize(1cm);\nfilldraw(circle((0.5,1.207),2.5),orange,black);\nvoid oct11(int[] pts) {\npair[] vertices = {(0,0),(1,0),(1.707,0.707),(1.707,1.707),(1,2.414),(0,2.414),(-0.707,1.707),(-0.707,0.707)};\ndraw((0,0)--(1,0)--(1.707,0.707)--(1.707,1.707)--(1,2.414)--(0,2.414)--(-0.707,1.707)--(-0.707,0.707)--cycle);\nfor (int i = 0; i < 8; i+=1) {\nif (pts[i] == 0) {\ndot(vertices[i], blue+5);\n}\nif (pts[i] == 1) {\ndot(vertices[i], red+5);\n}\n}\n};\nint[] sus = {0,0,0,1,0,1,1,1};\noct11(sus);\n</asy>\n\nIf three are adjacent and one is two away, obviously it is not possible as there is nowhere for the three adjacent blues to go. \n\n<asy>\nimport graph;\nunitsize(1cm);\nfilldraw(circle((0.5,1.207),2.5),orange,black);\nvoid oct11(int[] pts) {\npair[] vertices = {(0,0),(1,0),(1.707,0.707),(1.707,1.707),(1,2.414),(0,2.414),(-0.707,1.707),(-0.707,0.707)};\ndraw((0,0)--(1,0)--(1.707,0.707)--(1.707,1.707)--(1,2.414)--(0,2.414)--(-0.707,1.707)--(-0.707,0.707)--cycle);\nfor (int i = 0; i < 8; i+=1) {\nif (pts[i] == 0) {\ndot(vertices[i], blue+5);\n}\nif (pts[i] == 1) {\ndot(vertices[i], red+5);\n}\n}\n};\nint[] sus = {0,0,0,1,1,0,1,1};\noct11(sus);\n</asy>\n\nIf there are two adjacent pairs that are <math>1</math> apart, it is not possible since we do not have anywhere to put the two pairs. \n\n<asy>\nimport graph;\nunitsize(1cm);\nfilldraw(circle((0.5,1.207),2.5),orange,black);\nvoid oct11(int[] pts) {\npair[] vertices = {(0,0),(1,0),(1.707,0.707),(1.707,1.707),(1,2.414),(0,2.414),(-0.707,1.707),(-0.707,0.707)};\ndraw((0,0)--(1,0)--(1.707,0.707)--(1.707,1.707)--(1,2.414)--(0,2.414)--(-0.707,1.707)--(-0.707,0.707)--cycle);\nfor (int i = 0; i < 8; i+=1) {\nif (pts[i] == 0) {\ndot(vertices[i], blue+5);\n}\nif (pts[i] == 1) {\ndot(vertices[i], red+5);\n}\n}\n};\nint[] sus = {0,0,1,0,0,1,1,1};\noct11(sus);\n</asy>\n\nIf there are two adjacent pairs that are <math>2</math> apart, all of these cases are possible as we can rotate the diagram by <math>2</math> vertices to work. There are <math>4</math> of these cases. \n\n<asy>\nimport graph;\nunitsize(1cm);\nfilldraw(circle((0.5,1.207),2.5),green,black);\nvoid oct11(int[] pts) {\npair[] vertices = {(0,0),(1,0),(1.707,0.707),(1.707,1.707),(1,2.414),(0,2.414),(-0.707,1.707),(-0.707,0.707)};\ndraw((0,0)--(1,0)--(1.707,0.707)--(1.707,1.707)--(1,2.414)--(0,2.414)--(-0.707,1.707)--(-0.707,0.707)--cycle);\nfor (int i = 0; i < 8; i+=1) {\nif (pts[i] == 0) {\ndot(vertices[i], blue+5);\n}\nif (pts[i] == 1) {\ndot(vertices[i], red+5);\n}\n}\n};\nint[] sus = {0,0,1,1,0,0,1,1};\noct11(sus);\n</asy>\n\nIf there is one adjacent pair and there are two separate ones each a distance of <math>1</math> from the other, this case does not work. \n\n<asy>\nimport graph;\nunitsize(1cm);\nfilldraw(circle((0.5,1.207),2.5),orange,black);\nvoid oct11(int[] pts) {\npair[] vertices = {(0,0),(1,0),(1.707,0.707),(1.707,1.707),(1,2.414),(0,2.414),(-0.707,1.707),(-0.707,0.707)};\ndraw((0,0)--(1,0)--(1.707,0.707)--(1.707,1.707)--(1,2.414)--(0,2.414)--(-0.707,1.707)--(-0.707,0.707)--cycle);\nfor (int i = 0; i < 8; i+=1) {\nif (pts[i] == 0) {\ndot(vertices[i], blue+5);\n}\nif (pts[i] == 1) {\ndot(vertices[i], red+5);\n}\n}\n};\nint[] sus = {0,0,1,0,1,0,1,1};\noct11(sus);\n</asy>\n\nIf we have one adjacent pair and two separate ones that are <math>2</math> away from each other, we can flip the diagram by <math>4</math> vertices. There are <math>8</math> of these cases. \n\n<asy>\nimport graph;\nunitsize(1cm);\nfilldraw(circle((0.5,1.207),2.5),green,black);\nvoid oct11(int[] pts) {\npair[] vertices = {(0,0),(1,0),(1.707,0.707),(1.707,1.707),(1,2.414),(0,2.414),(-0.707,1.707),(-0.707,0.707)};\ndraw((0,0)--(1,0)--(1.707,0.707)--(1.707,1.707)--(1,2.414)--(0,2.414)--(-0.707,1.707)--(-0.707,0.707)--cycle);\nfor (int i = 0; i < 8; i+=1) {\nif (pts[i] == 0) {\ndot(vertices[i], blue+5);\n}\nif (pts[i] == 1) {\ndot(vertices[i], red+5);\n}\n}\n};\nint[] sus = {0,0,1,0,1,1,0,1};\noct11(sus);\n</asy>\n\nFinally, if the red and blues alternate, we can simply shift the diagram by a single vertex to satisfy the question. Thus, all of these cases work, and we have <math>2</math> subcases. \n\n<asy>\nimport graph;\nunitsize(1cm);\nfilldraw(circle((0.5,1.207),2.5),green,black);\nvoid oct11(int[] pts) {\npair[] vertices = {(0,0),(1,0),(1.707,0.707),(1.707,1.707),(1,2.414),(0,2.414),(-0.707,1.707),(-0.707,0.707)};\ndraw((0,0)--(1,0)--(1.707,0.707)--(1.707,1.707)--(1,2.414)--(0,2.414)--(-0.707,1.707)--(-0.707,0.707)--cycle);\nfor (int i = 0; i < 8; i+=1) {\nif (pts[i] == 0) {\ndot(vertices[i], blue+5);\n}\nif (pts[i] == 1) {\ndot(vertices[i], red+5);\n}\n}\n};\nint[] sus = {0,1,0,1,0,1,0,1};\noct11(sus);\n</asy>\n\nThere can not be more than <math>4</math> blues, so we are done. \n\nOur total is <math>1+8+28+56+8+4+8+2=115</math>. There are <math>2^8=256</math> possible colorings, so we have <math>\\dfrac{115}{256}</math> and our answer is <math>115+256=\\boxed{371}</math>.\n\n~Technodoggo"
  },
  {
    "year": 2024,
    "variant": "I",
    "problem_number": 12,
    "latex": "Define <math>f(x)=|| x|-\\tfrac{1}{2}|</math> and <math>g(x)=|| x|-\\tfrac{1}{4}|</math>. Find the number of intersections of the graphs of <cmath>y=4 g(f(\\sin (2 \\pi x))) \\quad\\text{ and }\\quad x=4 g(f(\\cos (3 \\pi y))).</cmath>",
    "solution": "==Graph==\nhttps://www.desmos.com/calculator/wml09giaun"
  },
  {
    "year": 2024,
    "variant": "I",
    "problem_number": 13,
    "latex": "Let <math>p</math> be the least prime number for which there exists a positive integer <math>n</math> such that <math>n^{4}+1</math> is divisible by <math>p^{2}</math>. Find the least positive integer <math>m</math> such that <math>m^{4}+1</math> is divisible by <math>p^{2}</math>.",
    "solution": "If \\(p=2\\), then \\(4\\mid n^4+1\\) for some integer \\(n\\). But \\(\\left(n^2\\right)^2\\equiv0\\) or \\(1\\pmod4\\), so it is impossible. Thus \\(p\\) is an odd prime.\n\nFor integer \\(n\\) such that \\(p^2\\mid n^4+1\\), we have \\(p\\mid n^4+1\\), hence \\(p\\nmid n^4-1\\), but \\(p\\mid n^8-1\\). By [[Fermat's Little Theorem]], \\(p\\mid n^{p-1}-1\\), so\n\\begin{equation*}\np\\mid\\gcd\\left(n^{p-1}-1,n^8-1\\right)=n^{\\gcd(p-1,8)}-1.\n\\end{equation*}\nHere, \\(\\gcd(p-1,8)\\) mustn't be divide into \\(4\\) or otherwise \\(p\\mid n^{\\gcd(p-1,8)}-1\\mid n^4-1\\), which contradicts. So \\(\\gcd(p-1,8)=8\\), and so \\(8\\mid p-1\\). The smallest such prime is clearly \\(p=17=2\\times8+1\\).\nSo we have to find the smallest positive integer \\(m\\) such that \\(17\\mid m^4+1\\). We first find the remainder of \\(m\\) divided by \\(17\\) by doing\n\\begin{array}{|c|cccccccccccccccc|}\n\\hline\n\\vphantom{\\tfrac11}x\\bmod{17}&1&2&3&4&5&6&7&8&9&10&11&12&13&14&15&16\\\\\\hline\n\\vphantom{\\dfrac11}\\left(x^4\\right)+1\\bmod{17}&2&0&14&2&14&5&5&0&0&5&5&14&2&14&0&2\\\\\\hline\n\\end{array}\nSo \\(m\\equiv\\pm2\\), \\(\\pm8\\pmod{17}\\). If \\(m\\equiv2\\pmod{17}\\), let \\(m=17k+2\\), by the binomial theorem,\n\\begin{align*}\n0&\\equiv(17k+2)^4+1\\equiv\\mathrm {4\\choose 1}(17k)(2)^3+2^4+1=17(1+32k)\\pmod{17^2}\\\\[3pt]\n\\implies0&\\equiv1+32k\\equiv1-2k\\pmod{17}.\n\\end{align*}\nSo the smallest possible \\(k=9\\), and \\(m=155\\).\n\nIf \\(m\\equiv-2\\pmod{17}\\), let \\(m=17k-2\\), by the binomial theorem,\n\\begin{align*}\n0&\\equiv(17k-2)^4+1\\equiv\\mathrm {4\\choose 1}(17k)(-2)^3+2^4+1=17(1-32k)\\pmod{17^2}\\\\[3pt]\n\\implies0&\\equiv1-32k\\equiv1+2k\\pmod{17}.\n\\end{align*}\nSo the smallest possible \\(k=8\\), and \\(m=134\\).\n\nIf \\(m\\equiv8\\pmod{17}\\), let \\(m=17k+8\\), by the binomial theorem,\n\\begin{align*}\n0&\\equiv(17k+8)^4+1\\equiv\\mathrm {4\\choose 1}(17k)(8)^3+8^4+1=17(241+2048k)\\pmod{17^2}\\\\[3pt]\n\\implies0&\\equiv241+2048k\\equiv3+8k\\pmod{17}.\n\\end{align*}\nSo the smallest possible \\(k=6\\), and \\(m=110\\).\n\nIf \\(m\\equiv-8\\pmod{17}\\), let \\(m=17k-8\\), by the binomial theorem,\n\\begin{align*}\n0&\\equiv(17k-8)^4+1\\equiv\\mathrm {4\\choose 1}(17k)(-8)^3+8^4+1=17(241-2048k)\\pmod{17^2}\\\\[3pt]\n\\implies0&\\equiv241+2048k\\equiv3+9k\\pmod{17}.\n\\end{align*}\nSo the smallest possible \\(k=11\\), and \\(m=179\\).\n\nIn conclusion, the smallest possible \\(m\\) is \\(\\boxed{110}\\).\n\n<font size=2>Solution by Quantum-Phantom</font>"
  },
  {
    "year": 2024,
    "variant": "I",
    "problem_number": 14,
    "latex": "Let <math>ABCD</math> be a tetrahedron such that <math>AB=CD= \\sqrt{41}</math>, <math>AC=BD= \\sqrt{80}</math>, and <math>BC=AD= \\sqrt{89}</math>. There exists a point <math>I</math> inside the tetrahedron such that the distances from <math>I</math> to each of the faces of the tetrahedron are all equal. This distance can be written in the form <math>\\frac{m \\sqrt n}{p}</math>, where <math>m</math>, <math>n</math>, and <math>p</math> are positive integers, <math>m</math> and <math>p</math> are relatively prime, and <math>n</math> is not divisible by the square of any prime. Find <math>m+n+p</math>.",
    "solution": "Notice that \\(41=4^2+5^2\\), \\(89=5^2+8^2\\), and \\(80=8^2+4^2\\), let \\(A~(0,0,0)\\), \\(B~(4,5,0)\\), \\(C~(0,5,8)\\), and \\(D~(4,0,8)\\). Then the plane \\(BCD\\) has a normal\n\\begin{equation*}\n\\mathbf n:=\\frac14\\overrightarrow{BC}\\times\\overrightarrow{CD}=\\frac14\\begin{pmatrix}-4\\\\0\\\\8\\end{pmatrix}\\times\\begin{pmatrix}4\\\\-5\\\\0\\end{pmatrix}=\\begin{pmatrix}10\\\\8\\\\5\\end{pmatrix}.\n\\end{equation*}\nHence, the distance from \\(A\\) to plane \\(BCD\\), or the height of the tetrahedron, is\n\\begin{equation*}\nh:=\\frac{\\mathbf n\\cdot\\overrightarrow{AB}}{|\\mathbf n|}=\\frac{10\\times4+8\\times5+5\\times0}{\\sqrt{10^2+8^2+5^2}}=\\frac{80\\sqrt{21}}{63}.\n\\end{equation*}\nEach side of the tetrahedron has the same area due to congruency by \"S-S-S\", and we call it \\(S\\). Then by the volume formula for pyramids,\n\\begin{align*}\n\\frac13Sh&=V_{D\\text-ABC}=V_{I\\text-ABC}+V_{I\\text-BCD}+V_{I\\text-CDA}+V_{I\\text-DAB}\\\\\n&=\\frac13Sr\\cdot4.\n\\end{align*}\nHence, \\(r=\\tfrac h4=\\tfrac{20\\sqrt{21}}{63}\\), and so the answer is \\(20+21+63=\\boxed{104}\\).\n\n<font size=2>Solution by Quantum-Phantom</font>"
  },
  {
    "year": 2024,
    "variant": "I",
    "problem_number": 15,
    "latex": "Let <math>\\mathcal{B}</math> be the set of rectangular boxes with surface area <math>54</math> and volume <math>23</math>. Let <math>r</math> be the radius of the smallest sphere that can contain each of the rectangular boxes that are elements of <math>\\mathcal{B}</math>. The value of <math>r^2</math> can be written as <math>\\frac{p}{q}</math>, where <math>p</math> and <math>q</math> are relatively prime positive integers. Find <math>p+q</math>.",
    "solution": "Observe that the \"worst\" possible box is one of the maximum possible length. \nBy symmetry, the height and the width are the same in this antioptimal box. (If the height and width weren't the same, the extra difference between them could be used to make the length longer.) Thus, let the width and height be of length <math>a</math> and the length be <math>L</math>. \n\nWe're given that the volume is <math>23</math>; thus, <math>a^2L=23</math>. We're also given that the surface area is <math>54=2\\cdot27</math>; thus, <math>a^2+2aL=27</math>. \n\nFrom the first equation, we can get <math>L=\\dfrac{23}{a^2}</math>. We do a bunch of algebra: \n\n\\begin{align*}\nL&=\\dfrac{23}{a^2} \\\\\n27&=a^2+2aL \\\\\n&=a^2+2a\\left(\\dfrac{23}{a^2}\\right) \\\\\n&=a^2+\\dfrac{46}a \\\\\n27a&=a^3+46 \\\\\na^3-27a+46&=0. \\\\\n\\end{align*}\n\nWe can use the Rational Root Theorem and test a few values. It turns out that <math>a=2</math> works. We use synthetic division to divide by <math>a-2</math>: \n\n[[Image:Asdf.png]]\n\nAs we expect, the remainder is <math>0</math>, and we are left with the polynomial <math>x^2+2x-23</math>. We can now simply use the quadratic formula and find that the remaining roots are <math>\\dfrac{-2\\pm\\sqrt{4-4(-23)}}2=\\dfrac{-2\\pm\\sqrt{96}}2=\\dfrac{-2\\pm4\\sqrt{6}}2=-1\\pm2\\sqrt6</math>. We want the smallest <math>a</math> to maximize <math>L</math>, and it turns out that <math>a=2</math> is in fact the smallest root. Thus, we let <math>a=2</math>. Substituting this into <math>L=\\dfrac{23}{a^2}</math>, we find that <math>L=\\dfrac{23}4</math>. However, this is not our answer! This is simply the length of the box; we want the radius of the sphere enclosing it. We know that the diameter of the sphere is the diagonal of the box, and the 3D Pythagorean Theorem can give us the space diagonal. Applying it, we find that the diagonal has length <math>\\sqrt{2^2+2^2+\\left(\\dfrac{23}4\\right)^2}=\\sqrt{8+\\dfrac{529}{16}}=\\sqrt{\\dfrac{128+529}{16}}=\\dfrac{\\sqrt{657}}4</math>. This is the diameter; we halve it to find the radius, <math>\\dfrac{\\sqrt{657}}8</math>. We then square this and end up with <math>\\dfrac{657}{64}</math>, giving us an answer of <math>657+64=\\boxed{721}</math>. \n\n~Technodoggo"
  },
  {
    "year": 2024,
    "variant": "II",
    "problem_number": 1,
    "latex": "Among the 900 residents of Aimeville, there are 195 who own a diamond ring, 367 who own a set of golf clubs, and 562 who own a garden spade. In addition, each of the 900 residents owns a bag of candy hearts. There are 437 residents who own exactly two of these things, and 234 residents who own exactly three of these things. Find the number of residents of Aimeville who own all four of these things.",
    "solution": "==Video Solution & More by MegaMath==\nhttps://www.youtube.com/watch?v=3ZuOIsVZhdA"
  },
  {
    "year": 2024,
    "variant": "II",
    "problem_number": 2,
    "latex": "A list of positive integers has the following properties:\n\n<math>\\bullet</math> The sum of the items in the list is <math>30</math>.\n\n<math>\\bullet</math> The unique mode of the list is <math>9</math>.\n\n<math>\\bullet</math> The median of the list is a positive integer that does not appear in the list itself.\n\nFind the sum of the squares of all the items in the list.",
    "solution": "The third condition implies that the list's size must be an even number, as if it were an odd number, the median of the list would surely appear in the list itself.\n\nTherefore, we can casework on what even numbers work.\n\nSay the size is 2. Clearly, this doesn't work as the only list would be <math>\\{9, 9\\}</math>, which doesn't satisfy condition 1.\n\nIf the size is 4, then we can have two <math>9</math>s, and a remaining sum of <math>12</math>. Since the other two values in the list must be distinct, and their sum must equal <math>30-18=12</math>, we have that the two numbers are in the form <math>a</math> and <math>12-a</math>. Note that we cannot have both values greater than <math>9</math>, and we cannot have only one value greater than <math>9</math>, because this would make the median <math>9</math>, which violates condition 3. Since the median of the list is a positive integer, this means that the greater of <math>a</math> and <math>12-a</math> must be an odd number. The only valid solution to this is <math>a=5</math>. Thus, our answer is <math>5^2+7^2+9^2+9^2 = \\boxed{236}</math>. ~akliu"
  },
  {
    "year": 2024,
    "variant": "II",
    "problem_number": 3,
    "latex": "Find the number of ways to place a digit in each cell of a 2x3 grid so that the sum of the two numbers formed by reading left to right is <math>999</math>, and the sum of the three numbers formed by reading top to bottom is <math>99</math>. The grid below is an example of such an arrangement because <math>8+991=999</math> and <math>9+9+81=99</math>.\n\n<cmath>\n\\begin{array}{|c|c|c|} \\hline\n0 & 0 & 8 \\\\ \\hline\n9 & 9 & 1 \\\\ \\hline\n\\end{array}\n</cmath>",
    "solution": "Consider this table:\n\n<math>\n\\begin{array}{|c|c|c|} \\hline\na & b & c \\\\ \\hline\nd & e & f\\\\ \\hline\n\\end{array}\n</math>\n\nWe note that <math>c+f = 9</math>, because <math>c+f \\leq 18</math>, meaning it never achieves a unit's digit sum of <math>9</math> otherwise. Since no values are carried onto the next digit, this implies <math>b+e=9</math> and <math>a+d=9</math>. We can then simplify our table into this:\n\n<math>\n\\begin{array}{|c|c|c|} \\hline\na & b & c \\\\ \\hline\n9-a & 9-b & 9-c \\\\ \\hline\n\\end{array}\n</math>\n\nWe want <math>10(a+b+c) + (9-a+9-b+9-c) = 99</math>, or <math>9(a+b+c+3) = 99</math>, or <math>a+b+c=8</math>. Since zeroes are allowed, we just need to apply stars and bars on <math>a, b, c</math>, to get <math>\\tbinom{8+3-1}{3-1} = \\boxed{045}</math>. ~akliu"
  },
  {
    "year": 2024,
    "variant": "II",
    "problem_number": 4,
    "latex": "Let <math>x,y</math> and <math>z</math> be positive real numbers that satisfy the following system of equations:\n<cmath>\\log_2\\left({x \\over yz}\\right) = {1 \\over 2}</cmath><cmath>\\log_2\\left({y \\over xz}\\right) = {1 \\over 3}</cmath><cmath>\\log_2\\left({z \\over xy}\\right) = {1 \\over 4}</cmath>\nThen the value of <math>\\left|\\log_2(x^4y^3z^2)\\right|</math> is <math>\\tfrac{m}{n}</math> where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "First, let‚Äôs realize the rule that <math>\\log{a}{b}=\\log{a}+\\log{b}</math>. If we add two equations at a time, and use this rule, we get:\n\n<math>\\log_2{\\frac{1}{z^2}} = \\frac{1}{2}+\\frac{1}{3}= \\frac{5}{6}</math>\n\n<math>\\log_2{\\frac{1}{x^2}} = \\frac{1}{3}+\\frac{1}{4}= \\frac{7}{12}</math>\n\n<math>\\log_2{\\frac{1}{y^2}} = \\frac{1}{2}+\\frac{1}{4}= \\frac{3}{4}</math>\n\nNow we look into the rule <math>\\log{\\frac{b}{c}}=\\log{b}-\\log{c}</math>\n\nWe can convert the equations above and setting them variables to:\n\n<math>a = \\log_2{x^2}=\\log_2{1}-\\frac{7}{12}</math>\n\n<math>b = \\log_2{y^2}=\\log_2{1}-\\frac{3}{4}</math>\n\n<math>c = \\log_2{z^2}=\\log_2{1}-\\frac{5}{6}</math>\n\nThen, using the first rule <math>a^2bc = 4(\\log_2{1})-\\frac{11}{4}</math>\nMake sure you see why there is <math>a^2</math>! We are trying to get the absolute value equation. \n\nWe are still missing one <math>y</math> in our <math>\\log_2{x^4y^2z^2}</math>\n\nHow do we get this? We introduce yet another rule(I know, rules are annoying, but useful and easy to memorize once you derive them yourself), <math>\\log{b^n}=n\\log{b}</math>\n\nUsing this in our equation b = <math>\\log_2{y^2}=\\log_2{1}-\\frac{3}{4}</math>, we get: \n\n<math>2\\log_2{y} = \\log_2{1}-\\frac{3}{4}</math>\n\nWhich gives:\n\n<math>\\log_2{y}=\\frac{\\log_2{1}}{2}-\\frac{3}{8}</math>\n\nNow, using the first rule again, we combine this with <math>\\log_2{x^4y^2z^2}</math> to get our desired equation! We yield:\n\n<math>\\log_2{x^4y^3z^2}</math> = <math>\\frac{9\\log_2{1}}{2}-\\frac{25}{8}</math>\n\nThen, we feel sad because we don‚Äôt know what <math>\\log_2{1}</math> is. But then we realize, 2 to the power of 0 is 1! So we can just cancel out everything before the <math>-\\frac{25}{8}</math>. \n\nTherefore, <math>\\log_2{x^4y^3z^2}</math> is <math>-\\frac{25}{8}</math>. After absolute value, it is just <math>\\frac{25}{8}</math>. Summing <math>m</math> and <math>n</math>, we obtain <math>\\boxed{033}</math>\n\n~MathKatana (This was written by a 6th grader, any issues please report!)"
  },
  {
    "year": 2024,
    "variant": "II",
    "problem_number": 5,
    "latex": "Let ABCDEF be a convex equilateral hexagon in which all pairs of opposite sides are parallel. The triangle whose sides are extensions of segments AB, CD, and EF has side lengths 200, 240, and 300. Find the side length of the hexagon.",
    "solution": "[[File:2024 AIME II 5.png|330px|right]]\nDraw a good diagram!\nLet <math>AF \\cap BC</math>, <math>BC \\cap DE</math>, and <math>AF \\cap DE</math> be K, L, and M, respectively. Let <math>KL=200, KM=300, ML=240</math>.\n\nNotice that because of the parallel condition, all smaller triangles formed are all similar to the larger <math>(200,240,300)</math> triangle.\n\nLet the side length of the hexagon be <math>x.</math> \n\nTriangle <math> \\triangle MEF \\sim \\triangle MLK</math>, so <math>\\frac{KL}{KM} =\\frac{x}{FM} =\\frac{200}{300} \\implies FM=\\frac{3x}{2}</math>.\n\nTriangle <math>\\triangle KAB \\sim \\triangle KML</math>, so <math>\\frac{LM}{KM}=\\frac{x}{KA} = \\frac{240}{300} \\implies AK=\\frac{5x}{4}</math>.\n\nWe know <math>KA+AF+FM=300</math>, so <math>\\frac{5}{4}x + x + \\frac{3}{2}x = 300</math>. Solving, we get <math>x=\\boxed{080}</math>.\n\n-westwoodmonster"
  },
  {
    "year": 2024,
    "variant": "II",
    "problem_number": 6,
    "latex": "Alice chooses a set <math>A</math> of positive integers. Then Bob lists all finite nonempty sets <math>B</math> of positive integers with the property that the maximum element of <math>B</math> belongs to <math>A</math>. Bob's list has 2024 sets. Find the sum of the elements of A.",
    "solution": "Let <math>k</math> be one of the elements in Alices set <math>A</math> of positive integers. The number of sets that Bob lists with the property that their maximum element is k is <math>2^{k-1}</math>, since every positive integer less than k can be in the set or out. Thus, for the number of sets bob have listed to be 2024, we want to find a sum of unique powers of two that can achieve this. 2024 is equal to <math>2^{10}+2^9+2^8+2^7+2^6+2^5+2^3</math>. We must increase each power by 1 to find the elements in set <math>A</math>, which are <math>(11,10,9,8,7,6,4)</math>. Add these up to get <math>\\boxed{055}</math>. -westwoodmonster\n\nNote: The power of two expansion can be found from the binary form of <math>2024</math>, which is <math>11111101000_2</math>. ~cxsmi"
  },
  {
    "year": 2024,
    "variant": "II",
    "problem_number": 7,
    "latex": "Let <math>N</math> be the greatest four-digit positive integer with the property that whenever one of its digits is changed to <math>1</math>, the resulting number is divisible by <math>7</math>. Let <math>Q</math> and <math>R</math> be the quotient and remainder, respectively, when <math>N</math> is divided by <math>1000</math>. Find <math>Q+R</math>.",
    "solution": "We note that by changing a digit to <math>1</math> for the number <math>\\overline{abcd}</math>, we are subtracting the number by either <math>1000(a-1)</math>, <math>100(b-1)</math>, <math>10(c-1)</math>, or <math>d-1</math>. Thus, <math>1000a + 100b + 10c + d \\equiv 1000(a-1) \\equiv 100(b-1) \\equiv 10(c-1) \\equiv d-1 \\pmod{7}</math>. We can casework on <math>a</math> backwards, finding the maximum value.\n\n(Note that computing <math>1000 \\equiv 6 \\pmod{7}, 100 \\equiv 2 \\pmod{7}, 10 \\equiv 3 \\pmod{7}</math> greatly simplifies computation).\n\nApplying casework on <math>a</math>, we can eventually obtain a working value of <math>\\overline{abcd} = 5694 \\implies \\boxed{699}</math>. ~akliu"
  },
  {
    "year": 2024,
    "variant": "II",
    "problem_number": 8,
    "latex": "Torus <math>T</math> is the surface produced by revolving a circle with radius <math>3</math> around an axis in the plane of the circle that is a distance <math>6</math> from the center of the circle (so like a donut). Let <math>S</math> be a sphere with a radius <math>11</math>. When <math>T</math> rests on the inside of <math>S</math>, it is internally tangent to <math>S</math> along a circle with radius <math>r_i</math>, and when <math>T</math> rests on the outside of <math>S</math>, it is externally tangent to <math>S</math> along a circle with radius <math>r_o</math>. The difference <math>r_i-r_o</math> can be written as <math>\\tfrac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.\n\n<asy>\nunitsize(0.3 inch);\ndraw(ellipse((0,0), 3, 1.75));\ndraw((-1.2,0.1)..(-0.8,-0.03)..(-0.4,-0.11)..(0,-0.15)..(0.4,-0.11)..(0.8,-0.03)..(1.2,0.1));\ndraw((-1,0.04)..(-0.5,0.12)..(0,0.16)..(0.5,0.12)..(1,0.04));\ndraw((0,2.4)--(0,-0.15));\ndraw((0,-0.15)--(0,-1.75), dashed);\ndraw((0,-1.75)--(0,-2.25));\ndraw(ellipse((2,0), 1, 0.9));\ndraw((2.03,-0.02)--(2.9,-0.4));\n</asy>",
    "solution": "First, let's consider a section <math>\\mathcal{P} </math> of the solids, along the axis.\nBy some 3D-Geomerty thinking, we can simply know that the axis crosses the sphere center. So, that is saying, the <math>\\mathcal{P} </math> we took crosses one of the equator of the sphere.\n\nHere I drew two graphs, the first one is the case when <math>T</math> is internally tangent to <math>S</math>,\n\n<asy>\nunitsize(0.35cm);\npair O = (0, 0);\nreal r1 = 11;\nreal r2 = 3;\ndraw(circle(O, r1));\npair A = O + (0, -r1);\npair B = O + (0, r1);\ndraw(A--B);\npair C = O + (0, -1.25*r1);\npair D = O + (0, 1.25*r1);\ndraw(C--D, dashed);\ndot(O);\npair E = (2 * r2, -sqrt((r1 - r2) * (r1 - r2) - 4 * r2 * r2));\npair F = (0, -sqrt((r1 - r2) * (r1 - r2) - 4 * r2 * r2));\npair G = (-r2 * O + r1 * E) / (r1 - r2);\npair H = (-r2 * O + r1 * F) / (r1 - r2);\ndraw(circle(E, r2));\ndraw(circle((-2 * r2, -sqrt((r1 - r2) * (r1 - r2) - 4 * r2 * r2)), r2));\ndraw(O--G, dashed);\ndraw(F--E, dashed);\ndraw(G--H, dashed);\nlabel(\"$O$\", O, SW);\nlabel(\"$A$\", A, SW);\nlabel(\"$B$\", B, NW);\nlabel(\"$C$\", C, NW);\nlabel(\"$D$\", D, SW);\nlabel(\"$E_i$\", E, NE);\nlabel(\"$F_i$\", F, W);\nlabel(\"$G_i$\", G, SE);\nlabel(\"$H_i$\", H, W);\nlabel(\"$r_i$\", 0.5 * H + 0.5 * G, NE);\nlabel(\"$3$\", 0.5 * E + 0.5 * G, NE);\nlabel(\"$11$\", 0.5 * O + 0.5 * G, NE);\n</asy>\n\nand the second one is when <math>T</math> is externally tangent to <math>S</math>.\n\n<asy>\nunitsize(0.35cm);\npair O = (0, 0);\nreal r1 = 11;\nreal r2 = 3;\ndraw(circle(O, r1));\npair A = O + (0, -r1);\npair B = O + (0, r1);\ndraw(A--B);\npair C = O + (0, -1.25*(r1 + r2));\npair D = O + (0, 1.25*r1);\ndraw(C--D, dashed);\ndot(O);\npair E = (2 * r2, -sqrt((r1 + r2) * (r1 + r2) - 4 * r2 * r2));\npair F = (0, -sqrt((r1 + r2) * (r1 + r2) - 4 * r2 * r2));\npair G = (r2 * O + r1 * E) / (r1 + r2);\npair H = (r2 * O + r1 * F) / (r1 + r2);\ndraw(circle(E, r2));\ndraw(circle((-2 * r2, -sqrt((r1 + r2) * (r1 + r2) - 4 * r2 * r2)), r2));\ndraw(O--E, dashed);\ndraw(F--E, dashed);\ndraw(G--H, dashed);\nlabel(\"$O$\", O, SW);\nlabel(\"$A$\", A, SW);\nlabel(\"$B$\", B, NW);\nlabel(\"$C$\", C, NW);\nlabel(\"$D$\", D, SW);\nlabel(\"$E_o$\", E, NE);\nlabel(\"$F_o$\", F, SW);\nlabel(\"$G_o$\", G, S);\nlabel(\"$H_o$\", H, W);\nlabel(\"$r_o$\", 0.5 * H + 0.5 * G, NE);\nlabel(\"$3$\", 0.5 * E + 0.5 * G, NE);\nlabel(\"$11$\", 0.5 * O + 0.5 * G, NE);\n</asy>\n\nFor both graphs, point <math>O</math> is the center of sphere <math>S</math>, and points <math>A</math> and <math>B</math> are the intersections of the sphere and the axis. Point <math>E</math> (ignoring the subscripts) is one of the circle centers of the intersection of torus <math>T</math> with section <math>\\mathcal{P} </math>. Point <math>G</math> (again, ignoring the subscripts) is one of the tangents between the torus <math>T</math> and sphere <math>S</math> on section <math>\\mathcal{P} </math>. <math>EF\\bot CD</math>, <math>HG\\bot CD</math>.\n\nAnd then, we can start our calculation.\n\nIn both cases, we know <math>\\Delta OEF\\sim \\Delta OGH\\Longrightarrow \\frac{EF}{OE} =\\frac{GH}{OG}</math>.\n\nHence, in the case of internal tangent, <math>\\frac{E_iF_i}{OE_i} =\\frac{G_iH_i}{OG_i}\\Longrightarrow \\frac{6}{11-3} =\\frac{r_i}{11}\\Longrightarrow r_i=\\frac{33}{4} </math>.\n\nIn the case of external tangent, <math>\\frac{E_oF_o}{OE_o} =\\frac{G_oH_o}{OG_o}\\Longrightarrow \\frac{6}{11+3} =\\frac{r_o}{11}\\Longrightarrow r_o=\\frac{33}{7} </math>.\n\nThereby, <math>r_i-r_o=\\frac{33}{4}-\\frac{33}{7}=\\frac{99}{28}</math>. And there goes the answer, <math>99+28=\\boxed{\\mathbf{127} }</math>\n\n~Prof_Joker"
  },
  {
    "year": 2024,
    "variant": "II",
    "problem_number": 9,
    "latex": "There is a collection of <math>25</math> indistinguishable white chips and <math>25</math> indistinguishable black chips. Find the number of ways to place some of these chips in the <math>25</math> unit cells of a <math>5\\times5</math> grid such that: \n* each cell contains at most one chip\n* all chips in the same row and all chips in the same column have the same colour\n* any additional chip placed on the grid would violate one or more of the previous two conditions.",
    "solution": "The problem says \"some\", so not all cells must be occupied.\nWe start by doing casework on the column on the left. There can be 5,4,3,2, or 1 black chip. The same goes for white chips, so we will multiply by 2 at the end. There is <math>1</math> way to select <math>5</math> cells with black chips. Because of the 2nd condition, there can be no white, and the grid must be all black- <math>1</math> way . There are <math>5</math> ways to select 4 cells with black chips. We now consider the row that does not contain a black chip. The first cell must be blank, and the remaining <math>4</math> cells have <math>2^4-1</math> different ways, since each cell can be white or blank(<math>-1</math> comes from all blank). This gives us <math>75</math> ways. Notice that for 3,2 or 1 black chips on the left there is a pattern. Once the first blank row is chosen, the rest of the blank rows must be ordered similarly. For example, with 2 black chips on the left, there will be 3 blank rows. There are 15 ways for the first row to be chosen, and the following 2 rows must have the same order. Thus, The number of ways for 3,2,and 1 black chips is <math>10*15</math>, <math>10*15</math>, <math>5*15</math>. Adding these up, we have <math>1+75+150+150+75 = 451</math>. Multiplying this by 2, we get <math>\\boxed{902}</math>.\n~westwoodmonster"
  },
  {
    "year": 2024,
    "variant": "II",
    "problem_number": 10,
    "latex": "Let <math>\\triangle</math><math>ABC</math> have incenter <math>I</math>, circumcenter <math>O</math>, inradius <math>6</math>, and circumradius <math>13</math>. Suppose that <math>\\overline{IA} \\perp \\overline{OI}</math>. Find <math>AB \\cdot AC</math>.",
    "solution": "Start off by (of course) drawing a diagram! Let <math>I</math> and <math>O</math> be the incenter and circumcenters of triangle <math>ABC</math>, respectively. Furthermore, extend <math>AI</math> to meet <math>BC</math> at <math>L</math> and the circumcircle of triangle <math>ABC</math> at <math>D</math>.\n\n<asy>\nsize(300);\nimport olympiad;\nreal c=8.1,a=5*(c+sqrt(c^2-64))/6,b=5*(c-sqrt(c^2-64))/6;\npair B=(0,0),C=(c,0), D = (c/2-0.01, -2.26);\npair A = (c/3,8.65*c/10);\ndraw(circumcircle(A,B,C));\npair I=incenter(A,B,C);\npair O=circumcenter(A,B,C);\npair L=extension(A,I,C,B);\ndot(I^^O^^A^^B^^C^^D^^L);\ndraw(A--L);\ndraw(A--D);\npath midangle(pair d,pair e,pair f) {return e--e+((f-e)/length(f-e)+(d-e)/length(d-e))/2;}\ndraw(C--B--D--cycle);\ndraw(A--C--B);\ndraw(A--B);\ndraw(B--I--C^^A--I);\ndraw(incircle(A,B,C));\nlabel(\"$B$\",B,SW);\nlabel(\"$C$\",C,SE);\nlabel(\"$A$\",A,N);\nlabel(\"$D$\",D,S);\nlabel(\"$I$\",I,NW);\nlabel(\"$L$\",L,SW);\nlabel(\"$O$\",O,E);\nlabel(\"$\\alpha$\",B,5*dir(midangle(A,B,I)),fontsize(8));\nlabel(\"$\\alpha$\",B,5*dir(midangle(I,B,C)),fontsize(8));\nlabel(\"$\\beta$\",C,12*dir(midangle(B,C,I)),fontsize(8));\nlabel(\"$\\beta$\",C,12*dir(midangle(I,C,A)),fontsize(8));\nlabel(\"$\\gamma$\",A,5*dir(midangle(B,A,I)),fontsize(8));\nlabel(\"$\\gamma$\",A,5*dir(midangle(I,A,C)),fontsize(8));\n\ndraw(I--O);\ndraw(A--O);\ndraw(rightanglemark(A,I,O));\n</asy>\n\n\nWe'll tackle the initial steps of the problem in two different manners, both leading us to the same final calculations."
  },
  {
    "year": 2024,
    "variant": "II",
    "problem_number": 11,
    "latex": "Find the number of triples of nonnegative integers <math>(a,b,c)</math> satisfying <math>a + b + c = 300</math> and\n<cmath>a^2b + a^2c + b^2a + b^2c + c^2a + c^2b = 6,000,000.</cmath>",
    "solution": "<math>ab(a+b)+bc(b+c)+ac(a+c)=300(ab+bc+ac)-3abc=6000000</math>\n<math>\\implies 100(ab+bc+ac)-abc=2000000</math>\n\nNote that \n<math>(100-a)(100-b)(100-c)=1000000-10000(a+b+c)+100(ab+bc+ac)-abc=0</math>.\nThus, <math>a/b/c=100</math>. There are <math>201</math> cases for each but we need to subtract <math>2</math> for <math>(100,100,100)</math>. The answer is <math>\\boxed{601}</math>\n\n~Bluesoul,Shen Kislay Kai"
  },
  {
    "year": 2024,
    "variant": "II",
    "problem_number": 12,
    "latex": "Let \\(O=(0,0)\\), \\(A=\\left(\\tfrac{1}{2},0\\right)\\), and \\(B=\\left(0,\\tfrac{\\sqrt{3}}{2}\\right)\\) be points in the coordinate plane. Let \\(\\mathcal{F}\\) be the family of segments \\(\\overline{PQ}\\) of unit length lying in the first quadrant with \\(P\\) on the \\(x\\)-axis and \\(Q\\) on the \\(y\\)-axis. There is a unique point \\(C\\) on \\(\\overline{AB}\\), distinct from \\(A\\) and \\(B\\),  that does not belong to any segment from \\(\\mathcal{F}\\) other than \\(\\overline{AB}\\). Then \\(OC^2=\\tfrac{p}{q}\\), where \\(p\\) and \\(q\\) are relatively prime positive integers. Find \\(p+q\\).",
    "solution": "Begin by finding the equation of the line <math>\\overline{AB}</math>: <math>y= -\\sqrt{3}x+\\frac{\\sqrt{3}}{2}</math> Now, consider the general equation of all lines that belong to <math>\\mathcal{F}</math>. Let <math>P</math> be located at <math>(a,0)</math> and <math>Q</math> be located at <math>(0,b)</math>. With these assumptions, we may arrive at the equation <math>ay +bx =ab</math>. However, a critical condition that must be satisfied by our parameters is that <math>a^2+b^2=1</math>, since the length of <math>\\overline{PQ}=1</math>. \n\nHere's the golden trick that resolves the problem: we wish to find some point <math>C</math> along <math>\\overline{AB}</math> such that <math>\\overline{PQ}</math> passes through <math>C</math> if and only if <math>a=\\frac{1}{2}</math>. It's not hard to convince oneself of this, since the property <math>a^2+b^2=1</math> implies that if <math>a=\\frac{1}{2}</math>, then <math>\\overline{PQ}=\\overline{AB}</math>.\n\nWe should now try to relate the point <math>C</math> to some value of <math>a</math>. This is accomplished by finding the intersection of two lines: <cmath>\n\n\\[\n    a\\left(-\\sqrt{3}x +\\frac{\\sqrt{3}}{2}\\right) + x\\sqrt{1-a^2} = a\\sqrt{1-a^2}\n\\]\n\n</cmath>\n\nWhere we have also used the fact that <math>b=\\sqrt{1-a^2}</math>, which follows nicely from <math>a^2+b^2 =1</math>.  <cmath>\n\n\\[\n    a\\left(-\\sqrt{3}x +\\frac{\\sqrt{3}}{2}\\right)   = (a-x)\\sqrt{1-a^2}\n\\]\n\n</cmath>\n\nSquare both sides and go through some algebraic manipulations to arrive at \n<cmath>\n\n\\[\n    -a^4 +2xa^3+\\left(-4x^2+3x+\\frac{1}{4}\\right)a^2-2xa+x^2=0\n\\]\n\n</cmath>\n\nNote how <math>a=\\frac{1}{2}</math> is a solution to this polynomial, and it is logically so. If we found the set of intersections consisting of line segment <math>\\overline{AB}</math> with an identical copy of itself, every single point on the line (all <math>x</math> values) should satisfy the equation. Thus, we can perform polynomial division to eliminate the extraneous solution <math>a=\\frac{1}{2}</math>. <cmath>\n\n\\[\n    -a^3 + \\left(2x-\\frac{1}{2}\\right)a^2+(-4x^2+4x)a-2x^2=0\n\\]\n</cmath>\n\nRemember our original goal. It was to find an <math>x</math> value such that <math>a=\\frac{1}{2}</math> is the only valid solution. Therefore, we can actually plug in <math>a=\\frac{1}{2}</math> back into the equation to look for values of <math>x</math> such that the relation is satisfied, then eliminate undesirable answers.\n<cmath>\n\n\\[\n    16x^2-10x+1=0\n\\]\n</cmath>\nThis is easily factored, allowing us to determine that <math>x=\\frac{1}{8},\\frac{1}{2}</math>. The latter root is not our answer, since on line <math>\\overline{AB}</math>, <math>y\\left(\\frac{1}{2}\\right)=0</math>, the horizontal line segment running from <math>(0,0)</math> to <math>(1,0)</math> covers that point. From this, we see that <math>x=\\frac{1}{8}</math> is the only possible candidate.\n\nGoing back to line <math>\\overline{AB}, y= -\\sqrt{3}x+\\frac{\\sqrt{3}}{2}</math>, plugging in <math>x=\\frac{1}{8} </math> yields <math>y=\\frac{3\\sqrt{3}}{8}</math>. The distance from the origin is then given by <math>\\sqrt{\\frac{1}{8^2}+\\left(\\frac{3\\sqrt{3}}{8}\\right)^2} =\\sqrt{\\frac{7}{16}}</math>. That number squared is <math>\\frac{7}{16}</math>, so the answer is <math>\\boxed{023}</math>. \n\n\n\n~Installhelp_hex\n\nWhy this works: Assume the quartic equation has exactly two real roots. Then for <math>a=\\frac{1}{2}</math> to be the only solution, it must be a doubled root. Thus, even after dividing the quartic by <math>a-\\frac{1}{2}</math>, <math>a=\\frac{1}{2}</math> is still a root.\n~inaccessibles\n\n\nOther explanation: Clearly <math>a=\\frac{1}{2}</math> works because then PQ = AB. Thus, we can factor out <math>a-\\frac{1}{2}</math>. \n\nFrom the 3rd degree polynomial, it must either have 3 real roots, or 1 real root and 2 non real roots, because it has real coefficients.\n\nSo it must have atleast 1 real root. If this root wasn't <math>\\frac{1}{2}</math> this would mean their is another line PQ that satisfies the equation. Thus, their must be another root at <math>a=\\frac{1}{2}</math> and plugging in, we can solve for <math>x</math>.\n~Bigbrain_2009"
  },
  {
    "year": 2024,
    "variant": "II",
    "problem_number": 13,
    "latex": "Let <math>\\omega\\neq 1</math> be a <math>13</math>th root of unity. Find the remainder when<cmath>\\prod_{k=0}^{12}(2-2\\omega^k+\\omega^{2k})</cmath>is divided by <math>1000</math>.",
    "solution": "<cmath>\\prod_{k=0}^{12} \\left(2- 2\\omega^k + \\omega^{2k}\\right) = \\prod_{k=0}^{12} \\left((1 - \\omega^k)^2 + 1\\right) = \\prod_{k=0}^{12} \\left((1 + i) - \\omega^k)((1 - i) - \\omega^k\\right)</cmath>\n\nNow, we consider the polynomial <math>x^{13} - 1</math> whose roots are the 13th roots of unity. Taking our rewritten product from <math>0</math> to <math>12</math>, we see that both instances of <math>\\omega^k</math> cycle through each of the 13th roots. Then, our answer is:\n\n<cmath>((1 + i)^{13} - 1)((1 - i)^{13} - 1)</cmath>\n\n<cmath>= (-64(1 + i) - 1)(-64(1 - i) - 1)</cmath>\n\n<cmath>= (65 + 64i)(65 - 64i)</cmath>\n\n<cmath>= 65^2 + 64^2</cmath>\n\n<cmath>= 8\\boxed{\\textbf{321}} </cmath>\n\n~Mqnic_"
  },
  {
    "year": 2024,
    "variant": "II",
    "problem_number": 14,
    "latex": "Let \\(b\\ge 2\\) be an integer. Call a positive integer \\(n\\) \\(b\\text-\\textit{eautiful}\\) if it has exactly two digits when expressed in base \\(b\\)  and these two digits sum to \\(\\sqrt n\\). For example, \\(81\\) is \\(13\\text-\\textit{eautiful}\\) because \\(81  = \\underline{6} \\ \\underline{3}_{13} \\) and \\(6 + 3 =  \\sqrt{81}\\). Find the least integer \\(b\\ge 2\\) for which there are more than ten \\(b\\text-\\textit{eautiful}\\) integers.",
    "solution": "We write the base-<math>b</math> two-digit integer as <math>\\left( xy \\right)_b</math>.\nThus, this number satisfies\n<cmath>\n\\[\n\\left( x + y \\right)^2 = b x + y\n\\]\n</cmath>\nwith <math>x \\in \\left\\{ 1, 2, \\cdots , b-1 \\right\\}</math> and <math>y \\in \\left\\{ 0, 1, \\cdots , b - 1 \\right\\}</math>.\n\nThe above conditions imply <math>\\left( x + y \\right)^2 < b^2</math>. Thus, <math>x + y \\leq b - 1</math>.\n\nThe above equation can be reorganized as\n<cmath>\n\\[\n\\left( x + y \\right) \\left( x + y - 1 \\right)\n= \\left( b - 1 \\right) x .\n\\]\n</cmath>\n\nDenote <math>z = x + y</math> and <math>b' = b - 1</math>.\nThus, we have\n<cmath>\n\\[\nz \\left( z - 1 \\right) = b' x , \\hspace{1cm} (1)\n\\]\n</cmath>\nwhere <math>z \\in \\left\\{ 2, 3, \\cdots , b' \\right\\}</math> and <math>x \\in \\left\\{ 1, 2, \\cdots , b' \\right\\}</math>.\n\nNext, for each <math>b'</math>, we solve Equation (1).\n\nWe write <math>b'</math> in the prime factorization form as <math>b' = \\Pi_{i=1}^n p_i^{k_i}</math>.\nLet <math>\\left(A, \\bar A \\right)</math> be any ordered partition of <math>\\left\\{ 1, 2, \\cdots , n \\right\\}</math> (we allow one set to be empty).\nDenote <math>P_A = \\Pi_{i \\in A} p_i^{k_i}</math> and <math>P_{\\bar A} = \\Pi_{i \\in \\bar A} p_i^{k_i}</math>.\n\nBecause <math>{\\rm gcd} \\left( z, z-1 \\right) = 1</math>, there must exist such an ordered partition, such that <math>P_A | z</math> and <math>P_{\\bar A} | z-1</math>.\n\nNext, we prove that for each ordered partition <math>\\left( A, \\bar A \\right)</math>, if a solution of <math>z</math> exists, then it must be unique.\n\nSuppose there are two solutions of <math>z</math> under partition <math>\\left( A, \\bar A \\right)</math>: <math>z_1 = c_1 P_A</math>, <math>z_1 - 1 = d_1 P_{\\bar A}</math>, and <math>z_2 = c_2 P_A</math>, <math>z_2 - 1 = d_2 P_{\\bar A}</math>.\nW.L.O.G., assume <math>c_1 < c_2</math>.\nHence, we have\n<cmath>\n\\[\n\\left( c_2 - c_1 \\right) P_A\n= \\left( d_2 - d_1 \\right) P_{\\bar A} .\n\\]\n</cmath>\n\nBecause <math>{\\rm gcd} \\left( P_A, P_{\\bar A} \\right) = 1</math> and <math>c_1 < c_2</math>, there exists a positive integer <math>m</math>, such that <math>c_2 = c_1 + m P_{\\bar A}</math> and <math>d_2 = d_1 + m P_A</math>.\nThus,\n\\begin{align*}\nz_2 & = z_1 + m P_A P_{\\bar A} \\\\\n& = z_1 + m b' \\\\\n& > b' .\n\\end{align*}\n\nHowever, recall <math>z_2 \\leq b'</math>. We get a contradiction.\nTherefore, under each ordered partition for <math>b'</math>, the solution of <math>z</math> is unique.\n\nNote that if <math>b'</math> has <math>n</math> distinct prime factors, the number of ordered partitions is <math>2^n</math>.\nTherefore, to find a <math>b'</math> such that the number of solutions of <math>z</math> is more than 10, the smallest <math>n</math> is 4.\n\nWith <math>n = 4</math>, the smallest number is <math>2 \\cdot 3 \\cdot 5 \\cdot 7 = 210</math>.\nNow, we set <math>b' = 210</math> and check whether the number of solutions of <math>z</math> under this <math>b'</math> is more than 10.\n\nWe can easily see that all ordered partitions (except <math>A = \\emptyset</math>) guarantee feasible solutions of <math>z</math>.\nTherefore, we have found a valid <math>b'</math>.\nTherefore, <math>b = b' + 1 = \\boxed{\\textbf{(211) }}</math>.\n\n~Shen Kislay Kai and Steven Chen (Professor Chen Education Palace, www.professorchenedu.com)"
  },
  {
    "year": 2024,
    "variant": "II",
    "problem_number": 15,
    "latex": "Find the number of rectangles that can be formed inside a fixed regular dodecagon (<math>12</math>-gon) where each side of the rectangle lies on either a side or a diagonal of the dodecagon. The diagram below shows three of those rectangles.\n\n<asy>\nunitsize(0.6 inch);\nfor(int i=0; i<360; i+=30) {\ndot(dir(i), 4+black);\ndraw(dir(i)--dir(i+30));\n}\ndraw(dir(120)--dir(330));\nfilldraw(dir(210)--dir(240)--dir(30)--dir(60)--cycle, mediumgray, linewidth(1.5));\ndraw((0,0.366)--(0.366,0), linewidth(1.5));\n</asy>",
    "solution": "By Furaken\n\nThere are two kinds of such rectangles: those whose sides are parallel to some edges of the regular 12-gon (Case 1), and those whose sides are not (Case 2).\n\nFor Case 1, WLOG assume that the rectangle's sides are horizontal and vertical (don't forget to multiply by 3 at the end of Case 1). Then the rectangle's sides coincide with these segments as shown in the diagram.\n<asy>\nreal r = pi/6;\npair A1 = (cos(r),sin(r));\npair A2 = (cos(2r),sin(2r));\npair A3 = (cos(3r),sin(3r));\npair A4 = (cos(4r),sin(4r));\npair A5 = (cos(5r),sin(5r));\npair A6 = (cos(6r),sin(6r));\npair A7 = (cos(7r),sin(7r));\npair A8 = (cos(8r),sin(8r));\npair A9 = (cos(9r),sin(9r));\npair A10 = (cos(10r),sin(10r));\npair A11 = (cos(11r),sin(11r));\npair A12 = (cos(12r),sin(12r));\ndot(A1);\ndot(A2);\ndot(A3);\ndot(A4);\ndot(A5);\ndot(A6);\ndot(A7);\ndot(A8);\ndot(A9);\ndot(A10);\ndot(A11);\ndot(A12);\npair B1 = (0.5,0.5);\npair B2 = (-0.5,0.5);\npair B3 = (-0.5,-0.5);\npair B4 = (0.5,-0.5);\ndot(B1);\ndot(B2);\ndot(B3);\ndot(B4);\ndraw(A1--A5--A7--A11--cycle);\ndraw(A2--A4--A8--A10--cycle);\ndraw(A3--A9);\ndraw(A6--A12);\nlabel(\"$A_1$\", A1, NE);\nlabel(\"$A_2$\", A2, NE);\nlabel(\"$A_3$\", A3, N);\nlabel(\"$A_4$\", A4, NW);\nlabel(\"$A_5$\", A5, NW);\nlabel(\"$A_6$\", A6, W);\nlabel(\"$A_7$\", A7, SW);\nlabel(\"$A_8$\", A8, SW);\nlabel(\"$A_9$\", A9, S);\nlabel(\"$A_{10}$\", A10, SE);\nlabel(\"$A_{11}$\", A11, SE);\nlabel(\"$A_{12}$\", A12, E);\nlabel(\"$B_1$\", B1, SW);\nlabel(\"$B_2$\", B2, SE);\nlabel(\"$B_3$\", B3, NE);\nlabel(\"$B_4$\", B4, NW);\n</asy>\nWe use inclusion-exclusion for this. There are 30 valid rectangles contained in <math>A_1A_5A_7A_{11}</math>, as well as 30 in <math>A_2A_4A_8A_{10}</math>. However, the 9 rectangles contained in <math>B_1B_2B_3B_4</math> have been counted twice, so we subtract 9 and we have 51 rectangles in the diagram. Multiplying by 3, we get 153 rectangles for Case 1.\n\nFor Case 2, we have this diagram. To be honest, you can count the rectangles here in whatever way you like.\n<asy>\nreal r = pi/6;\npair A1 = (cos(r),sin(r));\npair A2 = (cos(2r),sin(2r));\npair A3 = (cos(3r),sin(3r));\npair A4 = (cos(4r),sin(4r));\npair A5 = (cos(5r),sin(5r));\npair A6 = (cos(6r),sin(6r));\npair A7 = (cos(7r),sin(7r));\npair A8 = (cos(8r),sin(8r));\npair A9 = (cos(9r),sin(9r));\npair A10 = (cos(10r),sin(10r));\npair A11 = (cos(11r),sin(11r));\npair A12 = (cos(12r),sin(12r));\ndot(A1);\ndot(A2);\ndot(A3);\ndot(A4);\ndot(A5);\ndot(A6);\ndot(A7);\ndot(A8);\ndot(A9);\ndot(A10);\ndot(A11);\ndot(A12);\ndraw(A1--A6--A7--A12--cycle);\ndraw(A3--A4--A9--A10--cycle);\ndraw(A2--A5--A8--A11--cycle);\nlabel(\"$A_1$\", A1, NE);\nlabel(\"$A_2$\", A2, NE);\nlabel(\"$A_3$\", A3, N);\nlabel(\"$A_4$\", A4, NW);\nlabel(\"$A_5$\", A5, NW);\nlabel(\"$A_6$\", A6, W);\nlabel(\"$A_7$\", A7, SW);\nlabel(\"$A_8$\", A8, SW);\nlabel(\"$A_9$\", A9, S);\nlabel(\"$A_{10}$\", A10, SE);\nlabel(\"$A_{11}$\", A11, SE);\nlabel(\"$A_{12}$\", A12, E);\n</asy>\nThere are 36 rectangles contained within <math>A_2A_5A_8A_{11}</math>, and 18 that use points outside <math>A_2A_5A_8A_{11}</math>. So we get a total of <math>3(36+18)=162</math> rectangles for Case 2.\n\nAdding the two cases together, we get the answer <math>\\boxed{315}</math>."
  },
  {
    "year": 2025,
    "variant": "I",
    "problem_number": 1,
    "latex": "Find the sum of all integer bases <math>b>9</math> for which <math>17_b</math> is a divisor of <math>97_b.</math>",
    "solution": "We are tasked with finding the number of integer bases <math>b>9</math> such that <math>\\cfrac{9b+7}{b+7}\\in\\textbf{Z}</math>. Notice that\n<cmath>\\cfrac{9b+7}{b+7}=\\cfrac{9b+63-56}{b+7}=\\cfrac{9(b+7)-56}{b+7}=9-\\cfrac{56}{b+7}</cmath>\nso we need only <math>\\cfrac{56}{b+7}\\in\\textbf{Z}</math>. Then <math>b+7</math> is a factor of <math>56</math>.\n\n\nThe factors of <math>56</math> are <math>1,2,4,7,8,14,28,56</math>. Of these, only <math>8,14,28,56</math> produce a positive <math>b</math>, namely <math>b=1,7,21,49</math> respectively. However, we are given that <math>b>9</math>, so only <math>b=21,49</math> are solutions. Thus the answer is <math>21+49=\\boxed{070}</math>. ~eevee9406"
  },
  {
    "year": 2025,
    "variant": "I",
    "problem_number": 2,
    "latex": "On <math>\\triangle ABC</math> points <math>A</math>, <math>D</math>, <math>E</math>, and <math>B</math> lie in that order on side <math>\\overline{AB}</math> with <math>AD = 4</math>, <math>DE = 16</math>, and <math>EB = 8</math>. Points <math>A</math>, <math>F</math>, <math>G</math>, and <math>C</math> lie in that order on side <math>\\overline{AC}</math> with <math>AF = 13</math>, <math>FG = 52</math>, and <math>GC = 26</math>. Let <math>M</math> be the reflection of <math>D</math> through <math>F</math>, and let <math>N</math> be the reflection of <math>G</math> through <math>E</math>. Quadrilateral <math>DEGF</math> has area <math>288</math>. Find the area of heptagon <math>AFNBCEM</math>.\n\n<asy>\nunitsize(14);\npair A = (0, 9), B = (-6, 0), C = (12, 0), D = (5A + 2B)/7, E = (2A + 5B)/7, F = (5A + 2C)/7, G = (2A + 5C)/7, M = 2F - D, N = 2E - G;\nfilldraw(A--F--N--B--C--E--M--cycle, lightgray);\ndraw(A--B--C--cycle);\ndraw(D--M);\ndraw(N--G);\ndot(A);\ndot(B);\ndot(C);\ndot(D);\ndot(E);\ndot(F);\ndot(G);\ndot(M);\ndot(N);\nlabel(\"$A$\", A, dir(90));\nlabel(\"$B$\", B, dir(225));\nlabel(\"$C$\", C, dir(315));\nlabel(\"$D$\", D, dir(135));\nlabel(\"$E$\", E, dir(135));\nlabel(\"$F$\", F, dir(45));\nlabel(\"$G$\", G, dir(45));\nlabel(\"$M$\", M, dir(45));\nlabel(\"$N$\", N, dir(135));\n</asy>",
    "solution": "Note that the triangles outside <math>\\triangle ABC</math> have the same height as the unshaded triangles in <math>\\triangle ABC</math>. Since they have the same bases, the area of the heptagon is the same as the area of triangle <math>ABC</math>. Therefore, we need to calculate the area of <math>\\triangle ABC</math>. Denote the length of <math>DF</math> as <math>x</math> and the altitude of <math>A</math> to <math>DF</math> as <math>h</math>. Since <math>\\triangle ADF \\sim \\triangle AEG</math>, <math>EG = 5x</math> and the altitude of <math>DFGE</math> is <math>4h</math>. The area <math>[DFGE] = \\frac{5x + x}{2} \\cdot 4h = 3x \\cdot 4h = 12xh = 288 \\implies xh = 24</math>. The area of <math>\\triangle ABC</math> is equal to <math>\\frac{1}{2} 7x \\cdot 7h = \\frac{1}{2} 49xh = \\frac{1}{2} 49 \\cdot 24 = \\frac{1}{2} 1176 = \\boxed{588}</math>.\n\n~alwaysgonnagiveyouup"
  },
  {
    "year": 2025,
    "variant": "I",
    "problem_number": 3,
    "latex": "The <math>9</math> members of a baseball team went to an ice-cream parlor after their game. Each player had a single scoop cone of chocolate, vanilla, or strawberry ice cream. At least one player chose each flavor, and the number of players who chose chocolate was greater than the number of players who chose vanilla, which was greater than the number of players who chose strawberry. Let <math>N</math> be the number of different assignments of flavors to players that meet these conditions. Find the remainder when <math>N</math> is divided by <math>1000.</math>",
    "solution": "Let <math>c</math> be the number of players who choose chocolate, <math>v</math> be the number of players who choose vanilla, and <math>s</math> be the number of players who choose strawberry ice cream. We are given two pieces of information <math>c,v,s\\ge 1</math> and <math>c+v+s=9.</math> \n\nBy inspection the only solutions for <math>(c,v,s)</math> are <math>(2,3,4),(1,2,6),(1,3,5).</math> \n\nNow we must choose which player chooses which flavor. For the general case <math>(c,v,s),</math> we begin by choose <math>c</math> of the <math>9</math> players who eat chocolate, then we choose <math>v</math> of the <math>9-c</math> players who vanilla, after this the amount of players who eat strawberry is fixed. Therefore the general formula is <math>\\binom{9}{c}\\binom{9-c}{v}.</math>\n\nTherefore our final answer is, <cmath>\\binom{9}{2}\\binom{7}{3}+\\binom{9}{1}\\binom{8}{2}+\\binom{9}{1}\\binom{8}{3}=2\\boxed{016}.</cmath>\n\n~ [[User:Mathkiddus|mathkiddus]]"
  },
  {
    "year": 2025,
    "variant": "I",
    "problem_number": 4,
    "latex": "Find the number of ordered pairs <math>(x,y)</math>, where both <math>x</math> and <math>y</math> are integers between <math>-100</math> and <math>100</math> inclusive, such that <math>12x^2-xy-6y^2=0</math>.",
    "solution": "We begin by factoring, <math>12x^2-xy-6y^2=(3x+2y)(4x-3y)=0.</math> Since the RHS is <math>0</math> we have two options,\n \n<math>\\underline{\\text{Case 1:}}\\text{ } 3x+2y = 0</math>\n\nIn this case we have, <math>y=\\frac{-3x}{2}.</math> Using the bounding on <math>y</math> we have, \n<cmath>-100\\le\\frac{-3x}{2}\\le 100.</cmath> \n<cmath>\\frac{200}{3}\\ge x \\ge \\frac{-200}{3}.</cmath>\nIn addition in order for <math>y</math> to be integer <math>2 | x,</math> so we substitute <math>x=2k.</math> <cmath>\\frac{200}{3}\\ge 2k \\ge \\frac{-200}{3}.</cmath> <cmath>\\frac{100}{3}\\ge k \\ge \\frac{-100}{3}.</cmath> From this we have solutions starting from <math>-33</math> to <math>33</math> which is <math>67</math> solutions.\n\n<math>\\underline{\\text{Case 2: }}\\text{ } 4x-3y = 0</math>\n\nOn the other hand, we have, <math>y=\\frac{4x}{3}.</math> From bounds we have, \n<cmath>-100\\le\\frac{4x}{3}\\le 100.</cmath> \n<cmath>-75 \\le x \\le 75.</cmath>\nIn this case, for <math>y</math> to be integer <math>3 | x,</math> so we substitute <math>x=3t.</math> <cmath>-75 \\le 3t \\le 75.</cmath> <cmath>-25 \\le t \\le 25.</cmath> This gives us <math>51</math> solutions.\n\nFinally we overcount one case which is the intersection of the <math>2</math> lines or the point <math>(0,0).</math> Therefore our answer is <math>67+51-1=\\boxed{117}</math>\n\n~[[User:Mathkiddus|mathkiddus]]"
  },
  {
    "year": 2025,
    "variant": "I",
    "problem_number": 5,
    "latex": "There are <math>8!= 40320</math> eight-digit positive integers that use each of the digits <math>1, 2, 3, 4, 5, 6, 7, 8</math> exactly once. Let <math>N</math> be the number of these integers that are divisible by <math>22</math>. Find the difference between <math>N</math> and <math>2025</math>.",
    "solution": "Notice that if the 8-digit number is divisible by <math>22</math>, it must have an even units digit. Therefore, we can break it up into cases and let the last digit be either <math>2, 4, 6,</math> or <math>8</math>. Due to symmetry, upon finding the total count of one of these last digit cases (we look at last digit <math>2</math> here), we may multiply the resulting value by <math>4</math>.\n\n\nNow, we just need to find the number of positions of the remaining numbers such that the units digit is <math>2</math> and the number is divisible by <math>11</math>. Denote the odd numbered positions to be <math>a_1, a_3, a_5, a_7</math> and the even numbered positions to be <math>a_2, a_4, a_6</math> (recall <math>a_8=2</math>). By the divisibility rule of <math>11</math>, we must have:\n<cmath>(a_1 + a_3 + a_5 + a_7) - (a_2 + a_4 + a_6 + 2)</cmath>\nwhich is congruent to <math>0\\hspace{2mm}(\\text{mod}\\hspace{1mm}11)</math>. Therefore, after simplifying, we must have:\n<cmath>a_1 - a_2 + a_3 - a_4 + a_5 - a_6 + a_7\\equiv2\\hspace{2mm}(\\text{mod}\\hspace{1mm}11)</cmath>\nNow consider <math>a_1+ a_2 +\\ldots + a_7=1+2+\\ldots+8-2=34\\equiv1\\hspace{2mm}(\\text{mod}\\hspace{1mm}11)</math>. Therefore,\n<cmath>(a_1 + a_2 + \\ldots+ a_7) - 2(a_2 + a_4 + a_6)\\equiv2\\hspace{2mm}(\\text{mod}\\hspace{1mm}11)</cmath>\nwhich means that\n<cmath>a_2 + a_4 + a_6\\equiv5\\hspace{2mm}(\\text{mod}\\hspace{1mm}11)</cmath>\nNotice that the minimum of <math>a_2+a_4+a_6</math> is <math>1 + 3 + 4 = 8</math> and the maximum is <math>6 + 7 + 8 = 21</math>. The only possible number congruent to <math>5\\hspace{2mm}(\\text{mod}\\hspace{1mm}11)</math> in this range is <math>16</math>. All that remains is to count all the possible sums of <math>16</math> using the values <math>1, 3, 4, 5, 6, 7, 8</math>. There are a total of four possibilities:\n<cmath>(1, 7, 8), (3, 5, 8), (3, 6, 7), (4, 5, 7)</cmath>\nThe arrangement of the odd-positioned numbers (<math>a_1,a_3,a_5,a_7</math>) does not matter, so there are <math>4!=24</math> arrangements of these numbers. Recall that the <math>4</math> triplets above occupy <math>a_2,a_4,a_6</math>; the number of arrangements is <math>3!=6</math>. Thus, we have <math>24\\cdot6\\cdot4=576</math> possible numbers such that the units digit is <math>2</math>. Since we claimed symmetry over the rest of the units digits, we must multiply by <math>4</math>, resulting in <math>576\\cdot4=2304</math> eight-digit positive integers. Thus, the positive difference between <math>N</math> and <math>2025</math> is <math>2304 - 2025 = \\boxed{279}</math>.\n\n~ilikemath247365\n\n~LaTeX by eevee9406"
  },
  {
    "year": 2025,
    "variant": "I",
    "problem_number": 6,
    "latex": "An isosceles trapezoid has an inscribed circle tangent to each of its four sides. The radius of the circle is <math>3</math>, and the area of the trapezoid is <math>72</math>. Let the parallel sides of the trapezoid have lengths <math>r</math> and <math>s</math>, with <math>r \\neq s</math>. Find <math>r^2+s^2</math>",
    "solution": "==Diagram==\n<asy>\nunitsize(0.5 cm);\n\nreal r = 12 + 6*sqrt(3); \nreal s = 12 - 6*sqrt(3); \nreal h = 6;  \n\npair A = (-r/2, 0);\npair B = ( r/2, 0);\npair C = ( s/2, h);\npair D = (-s/2, h);\n\ndraw(A--B--C--D--cycle);\n\npair O = (0, h/2);\ndraw(circle(O, 3));\n\ndot(A); label(\"$A$\", A, SW);\ndot(B); label(\"$B$\", B, SE);\ndot(C); label(\"$C$\", C, NE);\ndot(D); label(\"$D$\", D, NW);\n\ndot(O);\nlabel(\"$O$\", (0,h/2), E);\n\nlabel(\"$r$\", midpoint(A--B), S);\nlabel(\"$s$\", midpoint(C--D), N);\n</asy>"
  },
  {
    "year": 2025,
    "variant": "I",
    "problem_number": 7,
    "latex": "The twelve letters <math>A</math>,<math>B</math>,<math>C</math>,<math>D</math>,<math>E</math>,<math>F</math>,<math>G</math>,<math>H</math>,<math>I</math>,<math>J</math>,<math>K</math>, and <math>L</math> are randomly grouped into six pairs of letters. The two letters in each pair are placed next to each other in alphabetical order to form six two-letter words, and then those six words are listed alphabetically. For example, a possible result is <math>AB</math>, <math>CJ</math>, <math>DG</math>, <math>EK</math>, <math>FL</math>, <math>HI</math>. The probability that the last word listed contains <math>G</math> is <math>\\frac mn</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "Note that order does not matter here. This is because any permutation of the <math>6</math> pairs will automatically get ordered in alphabetical order. The same is true for within each of the pairs. In other words, AB CH DI EJ FK GL should be counted equally as HC AB DI EJ FK GL.\n\nWe construct two cases: <math>G</math> is the first letter of the last word and <math>G</math> is the second letter of the last word.\n\nOur first case is when <math>G</math> is the first letter of the last word. Then the second letter of the last word must be one of <math>H, I, J, K, L</math>. Call that set of <math>5</math> letters <math>\\Omega</math>. There are <math>5</math> ways to choose the second letter from <math>\\Omega</math>. The other <math>4</math> letters of <math>\\Omega</math> must be used in the other <math>5</math> words.\n\nFor the other 5 words, each of their first letters must be before <math>G</math> in the alphabet. Otherwise, the word with <math>G</math> will not be the last. There are <math>6</math> letters before <math>G</math>: <math>A,B,C,D,E,F</math>. Call that set of <math>6</math> letters <math>\\Sigma</math>. Exactly one of the words must have two letters from <math>\\Sigma</math>. The other 4 will have their first letter from <math>\\Sigma</math> and the second letter from <math>\\Omega</math>. There are <math>4!</math> ways to determine the possible pairings of letters from <math>\\Sigma</math> and <math>\\Omega</math>, respectively.\n\nTherefore, this case has <math>5 \\cdot {6\\choose{2}} \\cdot 4! = 5 \\cdot 15 \\cdot 24 = 1800</math> orderings.\n\nThe second case is when <math>G</math> is the second letter of the last word. You can see that the first letter of that word must be <math>F</math>. Otherwise, that word cannot be the last word. The other <math>5</math> words must start with <math>A</math>, <math>B</math>, <math>C</math>, <math>D</math>, and <math>E</math>. The second letter of each of those words will come from <math>\\Omega</math>. There will be <math>5!</math> ways to distribute the elements of <math>\\Omega</math> to one of <math>A, B, C, D, E</math>. There are therefore <math>5! = 120</math> orderings in the case.\n\nIn total, there are <math>1800+120 = 1920</math> orderings. However, we want the probability. The number of ways to put the <math>12</math> letters into pairs is <math>11 \\cdot 9 \\cdot 7 \\cdot 5 \\cdot 3 \\cdot 1</math>. This is true because we can say this: Start with <math>A</math>. It has <math>11</math> options for who it will partner with. There are now <math>10</math> letters left. Pick one of those letters. It has <math>9</math> options for who it will partner with. There are now <math>8</math> letters left. Continue until there are only <math>2</math> letters left, and there is only <math>1</math> option for that last word. Therefore, there will be  <math>11 \\cdot 9 \\cdot 7 \\cdot 5 \\cdot 3 \\cdot 1</math> options.\n\nThe probability is therefore <math>\\frac{1920}{11 \\cdot 9 \\cdot 7 \\cdot 5 \\cdot 3 \\cdot 1} = \\frac{128}{693}</math>. The requested answer is <math>128 + 693 = \\boxed{821}</math>.\n\n~lprado"
  },
  {
    "year": 2025,
    "variant": "I",
    "problem_number": 8,
    "latex": "Let <math>k</math> be a real number such that the system\n\\begin{align*}\n&|25 + 20i - z| = 5 \\\\\n&|z - 4 - k| = |z - 3i - k|\n\\end{align*}\nhas exactly one complex solution <math>z</math>. The sum of all possible values of <math>k</math> can be written as <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m + n</math>. Here <math>i = \\sqrt{-1}</math>.",
    "solution": "<asy>\nsize(300);\ndraw((0, 0) -- (0, 20), EndArrow(10));\nlabel(\"$y$\", (0, 20), NW);\ndot((25,20));\ndraw((0, 0) -- (25, 0), EndArrow(10));\nlabel(\"$x$\", (25, 0), SE);\ndraw(circle((25,20),5));\nlabel(scale(0.7)*\"$(25,20)$\", (25,20), S);\ndraw((7,0) -- (3,3), blue);\ndraw((5,3/2) -- (21,23), dashed);\nlabel(\"$(4+k,0)$\", (7,0), S);\nlabel(\"$(k,3)$\", (3,3), N);\ndraw(rightanglemark((3,3),(5,3/2),(21,23), 20));\ndraw(rightanglemark((25,20),(21,23),(5,3/2), 20));\ndraw((25,20) -- (21,23));\n</asy>\nThe complex number <math>z</math> must satisfy the following conditions on the complex plane: \n\n<math>1.</math> The magnitude between <math>z</math> and <math>(25,20)</math> is <math>5.</math> This can be represented by drawing a circle with center <math>(25,20)</math> and radius <math>5.</math>\n\n<math>2.</math> It is equidistant from the points <math>(4+k,0)</math> and <math>(k,3).</math> Hence it must lie on the perpendicular bisector of the line connecting these points. \n\n\nFor <math>z</math> to have one solution, the perpendicular bisector of the segment connecting the two points must be tangent to the circle. \nThis bisector must pass the midpoint, <math>(2+k,\\frac{3}{2}),</math> and have slope <math>\\frac{4}{3}.</math> The segment connecting the point of tangency to the center of the circle has slope <math>\\frac{-3}{4},</math> meaning the points of tangency can be <math>(29,17)</math> or <math>(21,23).</math> Solving the equation for the slope of the perpendicular bisector gives <cmath>\\frac{\\frac{3}{2}-23}{k+2-21}=\\frac{4}{3}</cmath> or <cmath>\\frac{\\frac{3}{2}-17}{k+2-29}=\\frac{4}{3},</cmath> giving <math>k=\\frac{23}{8}</math> or <math>\\frac{123}{8}</math>, having a sum of <math>\\frac{73}{4} \\Longrightarrow \\boxed{077}.</math>\n\n~nevergonnagiveup\n\n\n\nThere's actually an easier way to do it using this method by utilizing the distance between point and line formula after building off of what is shown above.\nFirst we find the standard form of the perpendicular bisector, which can be found using the point-slope form: <math>y-b = m(x-a)</math>, where <math>a</math> and <math>b</math> are the <math>x</math> and <math>y</math> coordinates of a point on the line. By plugging in <math>(2+k, \\frac{3}{2})</math>, we get <math>y-\\frac{3}{2} = \\frac{4}{3}(x-2-k)</math>, we can eventually find the standard form as <math>8x-6y-7-8k=0</math>.\nNow we use the distance between point and line formula on the center of the circle at <math>(25, 20)</math> and the perpendicular bisector.\nWe get <math>d = \\frac{|8\\cdot 25-6\\cdot 20-7-8k|}{\\sqrt{6^2+8^2}}</math>. Plugging in <math>d</math> = 5 we can simplify this to <math>50 = |200-120-7-8k|</math>. We can finally solve for the absolute value equality and figure out <math>k = \\frac{23}{8}</math> or <math>k = \\frac{123}{8}</math>. Adding them together, we get <math>\\frac{146}{8} = \\frac{73}{4}</math>, hence the answer which we desire is <math>\\Longrightarrow \\boxed{077}.</math>\n\n~Mathycoder (edited by MathKing555)"
  },
  {
    "year": 2025,
    "variant": "I",
    "problem_number": 9,
    "latex": "The parabola with equation <math>y = x^2 - 4</math> is rotated <math>60^\\circ</math> counterclockwise around the origin. The unique point in the fourth quadrant where the original parabola and its image intersect has <math>y</math>-coordinate <math>\\frac{a - \\sqrt{b}}{c}</math>, where <math>a</math>, <math>b</math>, and <math>c</math> are positive integers, and <math>a</math> and <math>c</math> are relatively prime. Find <math>a + b + c</math>.",
    "solution": "==Graph==\nhttps://www.desmos.com/calculator/ci3vodl4vs"
  },
  {
    "year": 2025,
    "variant": "I",
    "problem_number": 10,
    "latex": "The <math>27</math> cells of a <math>3 \\times 9</math> grid are filled in using the numbers <math>1</math> through <math>9</math> so that each row contains <math>9</math> different numbers, and each of the three <math>3 \\times 3</math> blocks heavily outlined in the example below contains <math>9</math> different numbers, as in the first three rows of a Sudoku puzzle. \n\n<asy>\nunitsize(20);\n\nadd(grid(9,3));\n\ndraw((0,0)--(9,0)--(9,3)--(0,3)--cycle, linewidth(2));\ndraw((3,0)--(3,3), linewidth(2)); draw((6,0)--(6,3), linewidth(2));\n\nreal a = 0.5;\n\nlabel(\"5\",(a,a));\nlabel(\"6\",(1+a,a));\nlabel(\"1\",(2+a,a));\nlabel(\"8\",(3+a,a));\nlabel(\"4\",(4+a,a));\nlabel(\"7\",(5+a,a));\nlabel(\"9\",(6+a,a));\nlabel(\"2\",(7+a,a));\nlabel(\"3\",(8+a,a));\n\nlabel(\"3\",(a,1+a));\nlabel(\"7\",(1+a,1+a));\nlabel(\"9\",(2+a,1+a));\nlabel(\"5\",(3+a,1+a));\nlabel(\"2\",(4+a,1+a));\nlabel(\"1\",(5+a,1+a));\nlabel(\"6\",(6+a,1+a));\nlabel(\"8\",(7+a,1+a));\nlabel(\"4\",(8+a,1+a));\n\nlabel(\"4\",(a,2+a));\nlabel(\"2\",(1+a,2+a));\nlabel(\"8\",(2+a,2+a));\nlabel(\"9\",(3+a,2+a));\nlabel(\"6\",(4+a,2+a));\nlabel(\"3\",(5+a,2+a));\nlabel(\"1\",(6+a,2+a));\nlabel(\"7\",(7+a,2+a));\nlabel(\"5\",(8+a,2+a));\n\n</asy>\n\nThe number of different ways to fill such a grid can be written as <math>p^a \\cdot q^b \\cdot r^c \\cdot s^d</math> where <math>p</math>, <math>q</math>, <math>r</math>, and <math>s</math> are distinct prime numbers and <math>a</math>, <math>b</math>, <math>c</math>, <math>d</math> are positive integers. Find <math>p \\cdot a + q \\cdot b + r \\cdot c + s \\cdot d</math>.",
    "solution": "We will fill out the grid row by row. Note that there are <math>9!=2^7\\cdot 3^4\\cdot 5\\cdot 7</math> ways to fill out the first row. For the second row, we will consider a little casework. WLOG let the first row be <math>123 | 456 | 789</math> (bars indicate between the <math>3\\times 3</math> squares).\n\n<u>Case 1:</u> Every number from the first square goes to the second square. Then there is <math>1</math> way along with <math>6^3</math> orderings giving us <math>6^3</math> cases.\n\n<u>Case 2:</u> Two of the first numbers go in the second square and the last number goes in the third. This results in <math>3*3*3</math> ways to put the numbers along with <math>6^3</math> orderings. Thus there are <math>27\\cdot 6^3</math> cases.\n\nNote that we didn't consider <math>2</math> cases but these are symmetric so the number of ways to fill the second row is <math>56\\cdot 6^3</math>.\n\nThere is <math>1</math> way to place the last numbers in with <math>6^3</math> orderings. Thus there are <math>2^7\\cdot 3^4\\cdot 5\\cdot 7 \\cdot 56\\cdot 6^3 \\cdot 6^3 = 2^{16}\\cdot 3^{10}\\cdot 5^1\\cdot 7^2</math> ways to fill out our mini Sudoku puzzle. Thus the answer is <math>2\\cdot 16+3\\cdot 10 + 5\\cdot 1+7\\cdot 2 = \\boxed{081}.</math>\n\n~ [[User:zhenghua|zhenghua]]"
  },
  {
    "year": 2025,
    "variant": "I",
    "problem_number": 11,
    "latex": "A piecewise linear function is defined by <cmath>f(x) = \\begin{cases} x & \\operatorname{if} ~ -1 \\leq x < 1 \\\\ 2 - x & \\operatorname{if} ~ 1 \\leq x < 3\\end{cases}</cmath> and <math>f(x + 4) = f(x)</math> for all real numbers <math>x</math>. The graph of <math>f(x)</math> has the sawtooth pattern depicted below.\n\n<asy>\nimport graph; \nsize(300); \nLabel f; \nf.p=fontsize(6); \nyaxis(-2,2,Ticks(f, 2.0)); \nxaxis(-6.5,6.5,Ticks(f, 2.0));\ndraw((0, 0)..(1/4,sqrt(1/136))..(1/2,sqrt(1/68))..(0.75,sqrt(0.75/34))..(1, sqrt(1/34))..(2, sqrt(2/34))..(3, sqrt(3/34))..(4, sqrt(4/34))..(5, sqrt(5/34))..(6, sqrt(6/34))..(7, sqrt(7/34))..(8, sqrt(8/34)), red);\ndraw((0, 0)..(1/4,-sqrt(1/136))..(0.5,-sqrt(1/68))..(0.75,-sqrt(0.75/34))..(1, -sqrt(1/34))..(2, -sqrt(2/34))..(3, -sqrt(3/34))..(4, -sqrt(4/34))..(5, -sqrt(5/34))..(6, -sqrt(6/34))..(7, -sqrt(7/34))..(8, -sqrt(8/34)), red);\ndraw((-7,0)--(7,0), black+0.8bp);\ndraw((0,-2.2)--(0,2.2), black+0.8bp);\n\ndraw((-6,-0.1)--(-6,0.1), black);\ndraw((-4,-0.1)--(-4,0.1), black);\ndraw((-2,-0.1)--(-2,0.1), black);\ndraw((0,-0.1)--(0,0.1), black);\ndraw((2,-0.1)--(2,0.1), black);\ndraw((4,-0.1)--(4,0.1), black);\ndraw((6,-0.1)--(6,0.1), black);\n\ndraw((-7,1)..(-5,-1), blue);\ndraw((-5,-1)--(-3,1), blue);\ndraw((-3,1)--(-1,-1), blue);\ndraw((-1,-1)--(1,1), blue);\ndraw((1,1)--(3,-1), blue);\ndraw((3,-1)--(5,1), blue);\ndraw((5,1)--(7,-1), blue);\n</asy>\n\nThe parabola <math>x = 34y^{2}</math> intersects the graph of <math>f(x)</math> at finitely many points. The sum of the <math>y</math>-coordinates of all these intersection points can be expressed in the form <math>\\tfrac{a + b\\sqrt{c}}{d}</math>, where <math>a</math>, <math>b</math>, <math>c</math>, and <math>d</math> are positive integers such that <math>a</math>, <math>b</math>, <math>d</math> have greatest common divisor equal to <math>1</math>, and <math>c</math> is not divisible by the square of any prime. Find <math>a + b + c + d</math>.",
    "solution": "Note that <math>f(x)</math> consists of lines of the form <math>y = x - 4k</math> and <math>y = 4k + 2 - x</math> for integers <math>k</math>. In the first case, we get <math>34y^{2} = y - 4k</math> and the sum of the roots is <math>\\tfrac{1}{34}</math> by Vieta. In the second case, we similarly get a sum of <math>-\\tfrac{1}{34}.</math> Thus pairing <math>4k</math> and <math>4k+2</math> gives a <math>y</math>-coordinate sum of <math>0.</math>\n\nThis process of pairing continues until we get to <math>k = 8</math>. Then <math>y = x - 32</math> behaves exactly as we expect, with a sum of <math>\\tfrac{1}{34}</math>. \n\nHowever, <math>y = 34-x</math> is where things start becoming fishy, since there is one root with absolute value less than <math>1</math> and one with absolute value greater than <math>1</math>. We get <cmath>34-34y^2 = y.</cmath>Solving with the quadratic formula (clear to take the positive root) gives <cmath>y = \\frac{-1 \\pm \\sqrt{68^2 + 1}}{68} = \\frac{-1 + 5 \\sqrt{185}}{68}.</cmath> Adding our <math>\\tfrac{1}{34}</math> from earlier gives the answer <math>\\frac{1 + 5 \\sqrt{185}}{68} \\implies \\boxed{259}</math>.\n\n~ EpicBird08 \n~[[User:Mathkiddus|mathkiddus]]"
  },
  {
    "year": 2025,
    "variant": "I",
    "problem_number": 12,
    "latex": "The set of points in <math>3</math>-dimensional coordinate space that lie in the plane <math>x+y+z=75</math> whose coordinates satisfy the inequalities <cmath>x-yz<y-zx<z-xy</cmath>forms three disjoint convex regions. Exactly one of those regions has finite area. The area of this finite region can be expressed in the form <math>a\\sqrt{b},</math> where <math>a</math> and <math>b</math> are positive integers and <math>b</math> is not divisible by the square of any prime. Find <math>a+b.</math>",
    "solution": "Rewriting we have <math>z=75-x-y.</math>\n\nFrom the inequality <math>x-yz<y-zx</math> we can rewrite to get,\n<cmath>x-y(75-x-y)< y-x(75-x-y).</cmath> <cmath>76x-76y+y^2-x^2<0.</cmath> <cmath>(x+y+76)(x-y)<0.</cmath>\n\nSimilarly from the inequality <math>y-zx<z-xy</math> we rewrite to get, \n<cmath>y-x(75-x-y)<(75-x-y)-xy.</cmath>\n<cmath>2y + 2xy + x^2 - 74x - 75 < 0.</cmath>\n<cmath>(x + 1)(2y + x - 75) < 0.</cmath>\nOur next step is a visual which can be seen by roughly graphing the two inequalities. The first inequality is similar to a bow tie(you have to graph to see it lol) with bounds of <math>x-y=0</math> and <math>76+x+y=0.</math> The second one is a bow tie with edges of <math>x+1=0</math> and <math>2y+x-75=0.</math>Here is the region of our solutions.\n<asy>\nimport graph;\nsize(400, 400);\nreal xmin = -250, xmax = 250;\nreal ymin = -150, ymax = 150;\ndraw((xmin,0)--(xmax,0), black+0.8bp, Arrow);\ndraw((0,ymin)--(0,ymax), black+0.8bp, Arrow);\npair A = (-38, -38), \n     B = (-10, -10), \n     C = (-227, 151), \n     D = (-10, 85/2), \n     E = (25, 25);\npath L1 = (xmin, xmin)--(xmax, xmax);\npath L2 = (xmin, -76-xmin)--(xmax, -76-xmax);\npath L3 = ((-10, ymin)--(-10, ymax));\npath L4 = (xmin, (75-xmin)/2)--(xmax, (75-xmax)/2);\nfill(B--D--E--cycle, lightgreen);\ndraw(L1, blue);\ndraw(L2, blue);\ndraw(L3, red);\ndraw(L4, red);\ndot(A, black); label(\"$(-38,-38)$\", A, SW);\ndot(B, black); label(\"$(-1,-1)$\", B, SE);\ndot(C, black); label(\"$(-227,151)$\", C, NW);\ndot(D, black); label(\"$(-1,38)$\", D, NE);\ndot(E, black); label(\"$(25,25)$\", E, SE);\n</asy>\nIt is simple to find the intersections of those which are <math>(-1,38,38),(25,25,25)</math> and <math>(-1,-1,77).</math> The sidelengths of this triangle are <math>39\\sqrt{2},26\\sqrt{6},13\\sqrt{6}</math> which is a <math>30-60-90</math> gives us an area of <cmath>\\frac{1}{2}(39\\sqrt{2})(13\\sqrt{6})=507\\sqrt{3}\\implies\\boxed{510}.</cmath>\n\n~[[User:Mathkiddus|mathkiddus]]~plang2008~hashbrown2009"
  },
  {
    "year": 2025,
    "variant": "I",
    "problem_number": 13,
    "latex": "Alex divides a disk into four quadrants with two perpendicular diameters intersecting at the center of the disk. He draws <math>25</math> more lines segments through the disk, drawing each segment by selecting two points at random on the perimeter of the disk in different quadrants and connecting these two points. Find the expected number of regions into which these <math>27</math> line segments divide the disk.",
    "solution": "First, we calculate the probability that two segments intersect each other. Let the quadrants be numbered <math>1</math> through <math>4</math> in the normal labeling of quadrants, let the two perpendicular diameters be labeled the <math>x</math>-axis and <math>y</math>-axis, and let the two segments be <math>A</math> and <math>B.</math>\n\n<math>\\textbf{Case 1:}</math> Segment <math>A</math> has endpoints in two opposite quadrants.\n\n<asy>\npair A,B,C,D,E,F,O;\nA=(1,0);B=(0,1);C=(-1,0);D=(0,-1);E=(0.5,0.86602540);F=(-0.707106,-0.707106);O=(0,0);\ndraw(A--C);draw(B--D);draw(circle((0,0),1));draw(E--F,blue);dot(E,blue);dot(F,blue);\n</asy>\n\nThis happens with probability <math>\\frac{1}{3}.</math> WLOG let the two quadrants be <math>1</math> and <math>3.</math> We do cases in which quadrants segment <math>B</math> lies in.\n* Quadrants <math>1</math> and <math>2,</math> <math>2</math> and <math>3,</math> <math>3</math> and <math>4,</math> and <math>4</math> and <math>1</math>: These share one quadrant with <math>A,</math> and it is clear that for any of them to intersect <math>A,</math> the endpoint that shares a quadrant with an endpoint of <math>A</math> on a certain side of that endpoint of <math>A</math> For example, if it was quadrants <math>1</math> and <math>2,</math> then the point in quadrant <math>1</math> must be closer to the <math>x</math>-axis than the endpoint of <math>A</math> in quadrant <math>1.</math> This happens with probability <math>\\frac{1}{2}.</math> Additionally, segment <math>B</math> has a <math>\\frac{1}{6}</math> to have endpoints in any set of two quadrants, so this case contributes to the total probability\n<cmath>\\dfrac{1}{3}\\left(\\dfrac{1}{6}\\cdot\\dfrac{1}{2}+\\dfrac{1}{6}\\cdot\\dfrac{1}{2}+\\dfrac{1}{6}\\cdot\\dfrac{1}{2}+\\dfrac{1}{6}\\cdot\\dfrac{1}{2}\\right)=\\dfrac{1}{9}</cmath>\n* Quadrants <math>2</math> and <math>4.</math> This always intersects segment <math>A,</math> so this case contributes to the total probability\n<cmath>\\dfrac{1}{3}\\cdot\\dfrac{1}{6}=\\dfrac{1}{18}</cmath>\n* Quadrants <math>1</math> and <math>3.</math> We will first choose the endpoints, and then choose the segments from the endpoints. Let the endpoints of the segments in quadrant <math>1</math> be <math>R_1</math> and <math>R_2,</math> and the endpoints of the segments in quadrant <math>3</math> be <math>S_1</math> and <math>S_2</math> such that <math>R_1,R_2,S_1,</math> and <math>S_2</math> are in clockwise order. Note that the probability that <math>A</math> and <math>B</math> intersect is the probability that <math>A_1</math> is paired with <math>B_1,</math> which is <math>\\dfrac{1}{2}.</math> Thus, this case contributes to the total probability\n<cmath>\\dfrac{1}{3}\\cdot\\dfrac{1}{6}\\cdot\\dfrac{1}{2}=\\dfrac{1}{36}.</cmath>\n\n<math>\\textbf{Case 2:}</math> \nSegment <math>A</math> has endpoints in two adjacent quadrants.\n\n<asy>\npair A,B,C,D,E,F,O;\nA=(1,0);B=(0,1);C=(-1,0);D=(0,-1);E=(0.5,0.86602540);F=(-0.707106,0.707106);O=(0,0);\ndraw(A--C);draw(B--D);draw(circle((0,0),1));draw(E--F,blue);dot(E,blue);dot(F,blue);\n</asy>\n\nThis happens with probability <math>\\frac{2}{3}.</math> WLOG let the two quadrants be <math>1</math> and <math>2.</math> We do cases in which quadrants segment <math>B</math> lies in.\n* Quadrants <math>1</math> and <math>3,</math> <math>1</math> and <math>4,</math> <math>2</math> and <math>3,</math> and <math>2</math> and <math>4.</math> This is similar to our first case above, so this contributes to the total probability\n<cmath>\\dfrac{2}{3}\\left(\\dfrac{1}{6}\\cdot\\dfrac{1}{2}+\\dfrac{1}{6}\\cdot\\dfrac{1}{2}+\\dfrac{1}{6}\\cdot\\dfrac{1}{2}+\\dfrac{1}{6}\\cdot\\dfrac{1}{2}\\right)=\\dfrac{2}{9}</cmath>\n* Quadrants <math>3</math> and <math>4.</math> This cannot intersect segment <math>A.</math>\n* Quadrants <math>1</math> and <math>2,</math> Similar to our third case above, this intersects segment <math>A</math> with probability <math>\\frac{1}{2},</math> so this case contributes to the total probability\n<cmath>\\dfrac{2}{3}\\cdot\\dfrac{1}{6}\\cdot\\dfrac{1}{2}=\\dfrac{1}{18}.</cmath>\nThus, the probability that two segments intersect is \n<cmath>\\dfrac{1}{9}+\\dfrac{1}{18}+\\dfrac{1}{36}+\\dfrac{2}{9}+\\dfrac{1}{18}=\\dfrac{17}{36}.</cmath>\nNext, we will compute the expected number of intersections of a segment with the axes. WLOG let a segment have an endpoint in quadrant <math>1.</math> Then, it will intersect each axis with probability <math>\\dfrac{2}{3}</math> because two out of the three remaining quadrants let it intersect a specific axis, so the expected number of axes a segment intersects is <math>\\frac{4}{3}.</math>\n\nSo, why do intersections matter? Because when adding a segment, it will pass through a number of regions, and for each region it passes through, it will split that region into two and add another region. The segment starts in a region, and for each intersection, it will enter another region, so the number of regions a segment passes through is <math>1</math> more than the number of intersections with the axes and other segments. Thus, we have that by linearity of expectation the expected number of new regions created by adding a segment is\n<cmath>\\dfrac{17}{36}\\cdot(\\text{number of segments already added})+\\dfrac{4}{3}+1,</cmath>\nso the number of new regions added in total by <math>25</math> segments again by linearity of expectation is\n<cmath>\\sum_{k=0}^{24}\\left(\\dfrac{17}{36}k+\\dfrac{7}{3}\\right)=\\dfrac{17}{36}\\cdot \\dfrac{24\\cdot 25}{2}+\\dfrac{25\\cdot 7}{3}</cmath>\nwhich simplifies to <math>200</math> as the expected number of new regions added by the <math>25</math> segments. The axes create <math>4</math> regions to begin with, so our answer is\n<cmath>200+4=\\boxed{204}.</cmath>\n\n~BS2012, eevee9406 ~hashbrown2009"
  },
  {
    "year": 2025,
    "variant": "I",
    "problem_number": 14,
    "latex": "Let <math>ABCDE</math> be a convex pentagon with <math>AB=14,</math> <math>BC=7,</math> <math>CD=24,</math> <math>DE=13,</math> <math>EA=26,</math> and <math>\\angle B=\\angle E=60^{\\circ}.</math> For each point <math>X</math> in the plane, define <math>f(X)=AX+BX+CX+DX+EX.</math> The least possible value of <math>f(X)</math> can be expressed as <math>m+n\\sqrt{p},</math> where <math>m</math> and <math>n</math> are positive integers and <math>p</math> is not divisible by the square of any prime. Find <math>m+n+p.</math>",
    "solution": "Assume <math>AX=a, BX=b, CX=c</math>, by Ptolemy inequality we have <math>a+2b\\geq \\sqrt{3}XE; a+2c\\geq \\sqrt{3}BX</math>, while the inequality is reached when both <math>CXAB</math> and <math>AXDE</math> are concyclic. Since <math>\\angle{BXA}=\\angle{BCA}=\\angle{EDA}=\\angle{EXA}=90^{\\circ}</math>, so <math>B,X,E</math> lie on the same line. Thus, the desired value is then <math>(1+\\frac{\\sqrt{3}}{2})BE</math>.\n\nNote <math>\\cos(\\angle{DAC})=\\frac{1}{7}, \\cos (\\angle{EAB})=-\\frac{11}{14}, BE=38</math> by LOC, the answer is then <math>38+19\\sqrt{3}\\implies \\boxed{060}</math>\n\n~ Bluesoul ~hashbrown2009"
  },
  {
    "year": 2025,
    "variant": "I",
    "problem_number": 15,
    "latex": "Let <math>N</math> denote the number of ordered triples of positive integers <math>(a, b, c)</math> such that <math>a, b, c \\leq 3^6</math> and <math>a^3 + b^3 + c^3</math> is a multiple of <math>3^7</math>. Find the remainder when <math>N</math> is divided by <math>1000</math>.",
    "solution": "First, state the LTE Lemma for <math>p = 3, n = 3</math>, which we might use.\n\n\n    <math>\\bullet</math> <math> \\nu_3(n) = \\begin{cases}\n        \\max \\{k : 3^k \\mid n\\} &n\\neq 0\\\\\n        \\infty &n=0\n    \\end{cases}</math>\n\n    <math>\\bullet</math> If <math>3 \\nmid x, 3\\nmid y, 3\\mid x+y</math>, then <math>\\nu_3(x^3+y^3) = \\nu_3(x+y) + \\nu_3(3) = \\nu_3(x+y) + 1</math>\n    \n    <math>\\bullet</math> If <math>3 \\nmid x, 3\\nmid y, 3\\mid x-y</math>, then <math>\\nu_3(x^3-y^3) = \\nu_3(x-y) + \\nu_3(3) = \\nu_3(x-y) + 1</math>\n    \n\nThen we classify all cube numbers <math>\\mod{3^7}</math>\n\n\n\n    <math>\\bullet</math> <math>A = \\{a : 1\\leq a \\leq 3^6, 9\\mid a\\}</math>\n\n    We can write <math>A = \\{a: a=9k, 1\\leq k \\leq 3^4\\}</math>, so <math>|A| = 3^4</math>.\n    \n        <math>\\bullet</math> If <math>k \\equiv 0 \\mod{3}</math>, <math>k^3 \\equiv 0 \\mod{3}, a^3 \\equiv 3^6k^3 \\equiv 0 \\mod{3^7}</math>, there are 27 roots.\n        <math>\\bullet</math> If <math>k \\equiv 1 \\mod{3}</math>, <math>k^3 \\equiv 1 \\mod{3}, a^3 \\equiv 3^6k^3 \\equiv 3^6 \\mod{3^7}</math>, there are 27 roots.\n        <math>\\bullet</math> If <math>k \\equiv 2 \\mod{3}</math>, <math>k^3 \\equiv 2 \\mod{3}, a^3 \\equiv 3^6k^3 \\equiv 2\\times 3^6 \\mod{3^7}</math>, there are 27 roots.\n    \n    \n    <math>\\bullet</math> <math>B = \\{a : 1\\leq a \\leq 3^6, 3\\mid a, 9 \\nmid a\\}</math>\n\n    We can write <math>B = \\{a: a=9k+3 \\text{ or }a=9k+6, 0\\leq k < 3^4\\}</math>, so <math>|B| = 2 \\times 3^4</math>. \n\n    For <math>x,y \\in \\{a: a=9k+3, 0\\leq k < 3^4\\}</math>, let <math>x = 3a, y= 3b</math> and hence <math>3 \\nmid a, 3\\nmid b, 3\\mid a-b</math>.\n    \n        <math>(3a)^3 - (3b)^3 \\equiv 0 \\mod{3^7}</math>\n        <math>\\iff a^3 - b^3 \\equiv 0 \\mod{3^4}</math>\n        <math>\\iff \\nu(a^3-b^3) \\geq 4</math>\n        <math>\\iff \\nu(a-b) \\geq 3</math>\n        <math>\\iff a - b\\equiv 0 \\mod{3^3}</math>\n        <math>\\iff x - y\\equiv 0 \\mod{3^4}</math>\n    \n    For <math>k = 0, ..., 8</math>, each has 9 roots.\n    \n    Since <math>(9k+3)^3 \\equiv 3^6k^3+3^6k^2+3^5k + 3^3 \\equiv 3^5m + 3^3 \\mod{3^7}</math>, <math>0\\leq m \\leq 8</math>. They are the corresponding classes.\n\n    Same apply to <math>x,y \\in \\{a: a=9k+6, 0\\leq k < 3^4\\}</math>. For <math>k = 0, ..., 8</math>, each has 9 roots.\n\n    Since <math>(9k+6)^3 \\equiv 3^6k^3+2\\times3^6k^2+4\\times3^5k + 8\\times3^3 \\equiv 3^5m - 3^3 \\mod{3^7}</math>, <math>0\\leq m \\leq 8</math>. They are the corresponding classes.\n\n    <math>\\bullet</math> <math>C = \\{a : 1\\leq a \\leq 3^6, 3\\nmid a\\}</math>\n\n    We write <math>C = \\{a: a=3k+1 \\text{ or }a=3k+2, 0\\leq k < 3^5\\}</math>, so <math>|C| = 2 \\times 3^5</math>.\n\n    For <math>a,b \\in \\{a: a=3k+1, 0\\leq k < 3^5\\}</math>, then <math>3 \\nmid a, 3\\nmid b, 3\\mid a-b</math>.\n    \n        <math>a^3 - b^3 \\equiv 0 \\mod{3^7}</math>\n        <math>\\iff \\nu(a^3-b^3) \\geq 7</math>\n        <math>\\iff \\nu(a-b) \\geq 6</math>\n        <math>\\iff a - b\\equiv 0 \\mod{3^6}</math>\n    For <math>k = 0, ..., 3^5-1</math>, 1 root each.\n    \n    <math>(3k+1)^3 \\equiv 3^3k^3+3^3k^2+3^2k + 1 \\equiv 3^2m + 1 \\mod{3^7}</math>, <math>0\\leq m < 3^5</math>. They are the corresponding classes.\n\n    Same apply to <math>x,y \\in \\{a: a=3k+2, 0\\leq k < 3^5\\}</math>. For <math>k = 0, ..., 3^5-1</math>, 1 root each.\n\n    <math>(3k+2)^3 \\equiv 3^3k^3+2\\times3^3k^2+4\\times3^2k + 8 \\equiv 3^2m - 1 \\mod{3^7}</math>, <math>0\\leq m < 3^5</math>. They are the corresponding classes.\n\n\nSummarized the results:\n\n    <math>\\bullet</math> <math>A</math>: If <math>x \\equiv 0, 3^6, 2\\times3^6 \\mod{3^7}</math>, then <math>x</math> has 27 roots. <math>|A| = 3^4</math>.\n    <math>\\bullet</math> <math>B</math>: If <math>x \\equiv 3^5m \\pm 3^3 \\mod{3^7}</math>, then <math>x</math> has 9 roots. <math>|B| = 2\\times3^4</math>.\n    <math>\\bullet</math> <math>C</math>: If <math>x \\equiv 3^2m \\pm 1 \\mod{3^7}</math>, then <math>x</math> has 1 root. <math>|C| = 2\\times3^5</math>.\n    <math>\\bullet</math> Otherwise, <math>x</math> has no roots.\n\n\nWe do the final combinatorial problem.\n\n\n    <math>\\bullet</math> Case: <math>A,A,A</math>: <math>|A| \\times |A| \\times 27 = \\boxed{3 \\times 3^{10}}</math>\n    <math>\\bullet</math> Case <math>A,A,B</math>: No solution.\n    <math>\\bullet</math> Case <math>A,A,C</math>: No solution.\n    <math>\\bullet</math> Case: <math>A,B,B</math>: <math>3 \\times |A| \\times |B| \\times 9 = \\boxed{6 \\times 3^{10}}</math>\n    <math>\\bullet</math> Case <math>A,A,B</math>: No solution.\n    <math>\\bullet</math> Case: <math>A,C,C</math>: <math>3 \\times |A| \\times |C| \\times 1 = \\boxed{2 \\times 3^{10}}</math>\n    <math>\\bullet</math> Case <math>B,B,C</math>: No solution.\n    <math>\\bullet</math> Case <math>B,B,B</math>: No solution.\n    <math>\\bullet</math> Case <math>B,C,C</math>: <math>3 \\times |B| \\times |C| \\times 1 = \\boxed{4 \\times 3^{10}}</math>\n    <math>\\bullet</math> Case <math>C,C,C</math>: No solution.    \n\nTotal is <math>(3+6+2+4)3^{10}=15\\times 3^{10}</math>.\n\n<math>3^5 = 243 \\equiv 43 \\mod{200},43^2=1600+240+9\\equiv49\\mod{200}</math>\n\nHence <math>15\\times3^{10}\\equiv15\\times49\\equiv735\\mod{1000}</math>\n\nAnswer is <math>\\boxed{735}</math>.\n\n~[https://artofproblemsolving.com/wiki/index.php/User:Rakko12 Rakko12]"
  },
  {
    "year": 2025,
    "variant": "II",
    "problem_number": 1,
    "latex": "Six points <math>A, B, C, D, E,</math> and <math>F</math> lie in a straight line in that order. Suppose that <math>G</math> is a point not on the line and that <math>AC=26, BD=22, CE=31, DF=33, AF=73, CG=40,</math> and <math>DG=30.</math> Find the area of <math>\\triangle BGE.</math>",
    "solution": "<asy>\npair A,B,C,D,E,F,G;\nA=(0,0);\nlabel(\"$A$\", A, S);\nB=(1.5,0);\nlabel(\"$B$\", B, S);\nC=(2.9,0);\nlabel(\"$C$\", C, S);\nD=(4.2,0);\nlabel(\"$D$\", D, S);\nE=(5.3,0);\nlabel(\"$E$\", E, S);\nF=(6.5,0);\nlabel(\"$F$\", F, S);\nG=(3.7,3);\nlabel(\"$G$\", G, N);\n\ndraw(A--B--C--D--E--F);\ndraw(C--G--D);\ndraw(B--G--E);\n</asy>\n\nLet <math>AB=a</math>, <math>BC=b</math>, <math>CD=c</math>, <math>DE=d</math> and <math>EF=e</math>. Then we know that <math>a+b+c+d+e=73</math>, <math>a+b=26</math>, <math>b+c=22</math>, <math>c+d=31</math> and <math>d+e=33</math>. From this we can easily deduce <math>c=14</math> and <math>a+e=34</math> thus <math>b+c+d=39</math>. Using Heron's formula we can calculate the area of <math>\\triangle{CGD}</math> to be <math>\\sqrt{(42)(28)(12)(2)}=168</math>, and since the base of <math>\\triangle{BGE}</math> is <math>\\frac{39}{14}</math> of that of <math>\\triangle{CGD}</math>, we calculate the area of <math>\\triangle{BGE}</math> to be <math>168\\times \\frac{39}{14}=\\boxed{468}</math>.\n\n~ Quick Asymptote Fix by [[User:Eevee9406|eevee9406]], edited by [[User:Aoum|aoum]]"
  },
  {
    "year": 2025,
    "variant": "II",
    "problem_number": 2,
    "latex": "Find the sum of all positive integers <math>n</math> such that <math>n + 2</math> divides the product <math>3(n + 3)(n^2 + 9)</math>.",
    "solution": "<math>\\frac{3(n+3)(n^{2}+9) }{n+2} \\in \\mathbb{Z}</math>\n\n<math>\\Rightarrow \\frac{3(n+2+1)(n^{2}+9) }{n+2} \\in \\mathbb{Z}</math>\n\n<math>\\Rightarrow \\frac{3(n+2)(n^{2}+9) +3(n^{2}+9)}{n+2} \\in \\mathbb{Z}</math>\n\n<math>\\Rightarrow 3(n^{2}+9)+\\frac{3(n^{2}+9)}{n+2} \\in \\mathbb{Z}</math> \n\n<math>\\Rightarrow \\frac{3(n^{2}-4+13)}{n+2} \\in \\mathbb{Z}</math>\n\n<math>\\Rightarrow \\frac{3(n+2)(n-2)+39}{n+2} \\in \\mathbb{Z}</math>\n\n<math>\\Rightarrow 3(n-2)+\\frac{39}{n+2} \\in \\mathbb{Z}</math>\n\n<math>\\Rightarrow \\frac{39}{n+2} \\in \\mathbb{Z}</math>\n\nSince <math>n + 2</math> is positive, the positive factors of <math>39</math> are <math>1</math>, <math>3</math>, <math>13</math>, and <math>39</math>.\n\nTherefore, <math>n = -1</math>, <math>1</math>, <math>11</math> and <math>37</math>.\n\nSince <math>n</math> is positive, <math>n = 1</math>, <math>11</math> and <math>37</math>.\n\n<math>1 + 11 + 37 = \\framebox{049}</math> is the correct answer\n\nÔΩû[https://artofproblemsolving.com/wiki/index.php/User:Tonyttian Tonyttian]\n\n~ Edited by [https://artofproblemsolving.com/wiki/index.php/User:Aoum aoum]"
  },
  {
    "year": 2025,
    "variant": "II",
    "problem_number": 3,
    "latex": "Four unit squares form a <math>2 \\times 2</math> grid. Each of the <math>12</math> unit line segments forming the sides of the squares is colored either red or blue in such a way that each unit square has <math>2</math> red sides and <math>2</math> blue sides. One example is shown below (red is solid, blue is dashed). Find the number of such colorings.",
    "solution": "Let the red edges be \"used\" edges. In the digarams below, dashed lines are uncolored lines yet to be decided. Since all four center edges are common to both squares, we consider five distinct cases:\n\n<math>\\textbf{Case 1:}</math> All center edges are used. There is only one way to do this.\n\n<asy>\npair A,B,C,D,E,F,G,H,I;\nA=(-1,-1);B=(-1,0);C=(-1,1);D=(0,-1);E=(0,0);F=(0,1);G=(1,-1);H=(1,0);I=(1,1);\ndraw(A--C--I--G--cycle,dashed); draw(B--H,red); draw(D--F,red);\n</asy>\n\n<math>\\textbf{Case 2:}</math> Three center edges are used, meaning two squares are missing an edge. For each square, there are 2 ways to choose an edge, resulting in <math>2 \\times 2 = 4</math> ways. Additionally, considering the rotational symmetry of the arrangement, there are 4 possible rotations, giving a total of <math>4 \\times 4 = 16</math> configurations.\n\n<asy>\npair A,B,C,D,E,F,G,H,I;\nA=(-1,-1);B=(-1,0);C=(-1,1);D=(0,-1);E=(0,0);F=(0,1);G=(1,-1);H=(1,0);I=(1,1);\ndraw(A--C--I--G--cycle,dashed); draw(B--H,red); draw(D--E,red);draw(E--F,dashed);\n</asy>\n\n<math>\\textbf{Case 3:}</math> Two center edges are used. There are two sub-cases:\n\n<math>\\textbf{Scenario 1:}</math> The two selected sides are perpendicular to each other. The square diagonally opposite its adjacent square has only one choice, while the other two squares each have two choices. This gives a total of <math>1 \\times 2 \\times 2 = 4</math> choices. Considering the 4 possible rotations, the total number of configurations is <math>4 \\times 4 = 16</math>.\n\n<asy>\npair A,B,C,D,E,F,G,H,I;\nA=(-1,-1);B=(-1,0);C=(-1,1);D=(0,-1);E=(0,0);F=(0,1);G=(1,-1);H=(1,0);I=(1,1);\ndraw(A--C--I--G--cycle,dashed); draw(B--E,red); draw(E--D,red);draw(E--F,dashed);draw(E--H,dashed);\n</asy>\n\n<math>\\textbf{Scenario 2:}</math> The two selected sides are aligned along the same straight line. Each of the four squares has 2 choices, yielding <math>2^4 = 16</math> possible choices. Taking into account the 2 possible rotations, the total number of configurations is <math>16 \\times 2 = 32</math>.\n\n<asy>\npair A,B,C,D,E,F,G,H,I;\nA=(-1,-1);B=(-1,0);C=(-1,1);D=(0,-1);E=(0,0);F=(0,1);G=(1,-1);H=(1,0);I=(1,1);\ndraw(A--C--I--G--cycle,dashed); draw(B--H,red); draw(D--F,dashed);\n</asy>\n\n<math>\\textbf{Case 4:}</math> Only one center edge is used. This case is similar to Case 2, yielding 16 possible configurations.\n\n<asy>\npair A,B,C,D,E,F,G,H,I;\nA=(-1,-1);B=(-1,0);C=(-1,1);D=(0,-1);E=(0,0);F=(0,1);G=(1,-1);H=(1,0);I=(1,1);\ndraw(A--C--I--G--cycle,dashed); draw(B--E,red); draw(E--D,dashed);draw(E--F,dashed);draw(E--H,dashed);\n</asy>\n\n<math>\\textbf{Case 5:}</math> No center edge is used. This is similar to Case 1, with only 1 possible configuration.\n\n<asy>\npair A,B,C,D,E,F,G,H,I;\nA=(-1,-1);B=(-1,0);C=(-1,1);D=(0,-1);E=(0,0);F=(0,1);G=(1,-1);H=(1,0);I=(1,1);\ndraw(A--C--I--G--cycle,dashed); draw(B--E,dashed); draw(E--D,dashed);draw(E--F,dashed);draw(E--H,dashed);\n</asy>\n\nIn conclusion, the total number of configurations is:\n\n<cmath>\n1 + 16 + 16 + 32 + 16 + 1 = \\boxed{\\textbf{082}}\n</cmath>\n\n~ [https://artofproblemsolving.com/wiki/index.php/User:Athmyx Athmyx]\n\n~ LaTeX by [https://artofproblemsolving.com/wiki/index.php/User:eevee9406 eevee9406]\n\n~ Additional edits by [https://artofproblemsolving.com/wiki/index.php/User:Aoum aoum]"
  },
  {
    "year": 2025,
    "variant": "II",
    "problem_number": 4,
    "latex": "The product<cmath>\\prod^{63}_{k=4} \\frac{\\log_k (5^{k^2 - 1})}{\\log_{k + 1} (5^{k^2 - 4})} = \\frac{\\log_4 (5^{15})}{\\log_5 (5^{12})} \\cdot \\frac{\\log_5 (5^{24})}{\\log_6 (5^{21})}\\cdot \\frac{\\log_6 (5^{35})}{\\log_7 (5^{32})} \\cdots \\frac{\\log_{63} (5^{3968})}{\\log_{64} (5^{3965})}</cmath>is equal to <math>\\tfrac mn,</math> where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m + n.</math>",
    "solution": "We can rewrite the equation as:\n\n\\begin{align*}\n&= \\dfrac{15}{12} \\cdot \\dfrac{24}{21} \\cdot \\dfrac{35}{32} \\cdot \\dots \\cdot \\dfrac{3968}{3965} \\cdot \\dfrac{\\log_4{5}}{\\log_{64}{5}} \\\\\n&= \\log_4{64} \\cdot \\dfrac{(4+1)(4-1)(5+1)(5-1)\\cdot \\dots \\cdot (63+1)(63-1)}{(4+2)(4-2)(5+2)(5-2)\\cdot \\dots \\cdot (63+2)(63-2)} \\\\\n&= 3 \\cdot \\dfrac{5 \\cdot 3 \\cdot 6 \\cdot 4 \\cdot \\dots \\cdot 64 \\cdot 62}{6 \\cdot 2 \\cdot 7 \\cdot 3 \\cdot \\dots \\cdot 65 \\cdot 61} \\\\\n&= 3 \\cdot \\dfrac{5 \\cdot 62}{65 \\cdot 2} \\\\\n&= 3 \\cdot \\dfrac{5 \\cdot 2 \\cdot 31}{5 \\cdot 13 \\cdot 2} \\\\\n&= 3 \\cdot \\dfrac{31}{13} \\\\\n&= \\dfrac{93}{13}\n\\end{align*}\n\n\nDesired answer: <math>93 + 13 = \\boxed{106}</math>\n\n(Feel free to correct any <math>\\LaTeX</math> and formatting.)\n\n~ Mitsuihisashi14\n\n~ <math>\\LaTeX</math> by [https://artofproblemsolving.com/wiki/index.php/User:Tacos_are_yummy_1 Tacos_are_yummy_1]\n\n~ Additional edits by [https://artofproblemsolving.com/wiki/index.php/User:Aoum aoum]"
  },
  {
    "year": 2025,
    "variant": "II",
    "problem_number": 5,
    "latex": "Suppose <math>\\triangle ABC</math> has angles <math>\\angle BAC = 84^\\circ, \\angle ABC=60^\\circ,</math> and <math>\\angle ACB = 36^\\circ.</math> Let <math>D, E,</math> and <math>F</math> be the midpoints of sides <math>\\overline{BC}, \\overline{AC},</math> and <math>\\overline{AB},</math> respectively. The circumcircle of <math>\\triangle DEF</math> intersects <math>\\overline{BD}, \\overline{AE},</math> and <math>\\overline{AF}</math> at points <math>G, H,</math> and <math>J,</math> respectively. The points <math>G, D, E, H, J,</math> and <math>F</math> divide the circumcircle of <math>\\triangle DEF</math> into six minor arcs, as shown. Find <math>\\widehat{DE}+2\\cdot \\widehat{HJ} + 3\\cdot\\widehat{FG},</math> where the arcs are measured in degrees.\n<asy>\n        import olympiad;\n        size(6cm);\n        defaultpen(fontsize(10pt));\n        pair B = (0, 0), A = (Cos(60), Sin(60)), C = (Cos(60)+Sin(60)/Tan(36), 0), D = midpoint(B--C), E = midpoint(A--C), F = midpoint(A--B);\n        guide circ = circumcircle(D, E, F);\n        pair G = intersectionpoint(B--D, circ), J = intersectionpoints(A--F, circ)[0], H = intersectionpoints(A--E, circ)[0];\n        draw(B--A--C--cycle);\n        draw(D--E--F--cycle);\n        draw(circ);  dot(A);dot(B);dot(C);dot(D);dot(E);dot(F);dot(G);dot(H);dot(J);\n        label(\"$A$\", A, (0, .8));\n        label(\"$B$\", B, (-.8, -.8));\n        label(\"$C$\", C, (.8, -.8));\n        label(\"$D$\", D, (0, -.8));\n        label(\"$E$\", E, (.8, .2));\n        label(\"$F$\", F, (-.8, .2));\n        label(\"$G$\", G, (0, .8));\n        label(\"$H$\", H, (-.2, -1));\n        label(\"$J$\", J, (.2, -.8));\n</asy>",
    "solution": "Notice that due to midpoints, <math>\\triangle DEF\\sim\\triangle FBD\\sim\\triangle AFE\\sim\\triangle EDC\\sim\\triangle ABC</math>. As a result, the angles and arcs are readily available. Due to inscribed angles,\n<cmath>\\widehat{DE}=2\\angle DFE=2\\angle ACB=2\\cdot36=72^\\circ</cmath>\nSimilarly,\n<cmath>\\widehat{FG}=2\\angle FDB=2\\angle ACB=2\\cdot36=72^\\circ</cmath>\n\nIn order to calculate <math>\\widehat{HJ}</math>, we use the fact that <math>\\angle BAC=\\frac{1}{2}(\\widehat{FDE}-\\widehat{HJ})</math>. We know that <math>\\angle BAC=84^\\circ</math>, and\n<cmath>\\widehat{FDE}=360-\\widehat{FE}=360-2\\angle FDE=360-2\\angle CAB=360-2\\cdot84=192^\\circ</cmath>\n\nSubstituting,\n\n\\begin{align*}\n84 &= \\frac{1}{2}(192-\\widehat{HJ}) \\\\\n168 &= 192-\\widehat{HJ} \\\\\n\\widehat{HJ} &= 24^\\circ\n\\end{align*}\n\nThus, <math>\\widehat{DE}+2\\cdot\\widehat{HJ}+3\\cdot\\widehat{FG}=72+48+216=\\boxed{336}^\\circ</math>. \n\n~ [https://artofproblemsolving.com/wiki/index.php/User:Eevee9406 eevee9406]\n\n~ Edited by [https://artofproblemsolving.com/wiki/index.php/User:Aoum aoum]\n\nAlternatively, \n\n\\begin{align*} \\widehat{HJ} &= \\widehat{FH} + \\widehat{JE} - \\widehat{FE} \\\\ &= 2\\angle FEH + 2\\angle JFE - 2\\angle FDE \\\\ &= 2 \\cdot 36^\\circ + 2 \\cdot 60^\\circ - 2 \\cdot 84^\\circ \\\\ &= 24^\\circ. \\end{align*}\n\n~ [https://artofproblemsolving.com/community/user/1096232 Pengu14]"
  },
  {
    "year": 2025,
    "variant": "II",
    "problem_number": 6,
    "latex": "Circle <math>\\omega_1</math> with radius <math>6</math> centered at point <math>A</math> is internally tangent at point <math>B</math> to circle <math>\\omega_2</math> with radius <math>15</math>. Points <math>C</math> and <math>D</math> lie on <math>\\omega_2</math> such that <math>\\overline{BC}</math> is a diameter of <math>\\omega_2</math> and <math>{\\overline{BC} \\perp \\overline{AD}}</math>. The rectangle <math>EFGH</math> is inscribed in <math>\\omega_1</math> such that <math>\\overline{EF} \\perp \\overline{BC}</math>, <math>C</math> is closer to <math>\\overline{GH}</math> than to <math>\\overline{EF}</math>, and <math>D</math> is closer to <math>\\overline{FG}</math> than to <math>\\overline{EH}</math>, as shown. Triangles <math>\\triangle {DGF}</math> and <math>\\triangle {CHG}</math> have equal areas. The area of rectangle <math>EFGH</math> is <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.\n\n<asy>\nsize(5cm);\ndefaultpen(fontsize(10pt));\n\npair A = (9, 0), B = (15, 0), C = (-15, 0), D = (9, 12), E = (9+12/sqrt(5), -6/sqrt(5)), F = (9+12/sqrt(5), 6/sqrt(5)), G = (9-12/sqrt(5), 6/sqrt(5)), H = (9-12/sqrt(5), -6/sqrt(5));\nfilldraw(G--H--C--cycle, lightgray);\nfilldraw(D--G--F--cycle, lightgray);\ndraw(B--C);\ndraw(A--D);\ndraw(E--F--G--H--cycle);\ndraw(circle(origin, 15));\ndraw(circle(A, 6));\n\ndot(A);\ndot(B);\ndot(C);\ndot(D);\ndot(E);\ndot(F);\ndot(G);\ndot(H);\n\nlabel(\"$A$\", A, (.8, -.8));\nlabel(\"$B$\", B, (.8, 0));\nlabel(\"$C$\", C, (-.8, 0));\nlabel(\"$D$\", D, (.4, .8));\nlabel(\"$E$\", E, (.8, -.8));\nlabel(\"$F$\", F, (.8, .8));\nlabel(\"$G$\", G, (-.8, .8));\nlabel(\"$H$\", H, (-.8, -.8));\nlabel(\"$\\omega_1$\", (9, -5));\nlabel(\"$\\omega_2$\", (-1, -13.5));\n</asy>",
    "solution": "==Video Solution(For those who prefer)==\nhttps://youtu.be/3g0KGrAnLwI \n\n~MC"
  },
  {
    "year": 2025,
    "variant": "II",
    "problem_number": 7,
    "latex": "Let <math>A</math> be the set of positive integer divisors of <math>2025</math>. Let <math>B</math> be a randomly selected subset of <math>A</math>. The probability that <math>B</math> is a nonempty set with the property that the least common multiple of its elements is <math>2025</math> is <math>\\frac{m}{n}</math>, where <math>m</math> and <math>n</math> are relatively prime positive integers. Find <math>m+n</math>.",
    "solution": "We split into different conditions:\n\nNote that the numbers in the set need to have a least common multiple of <math>2025</math>, so we need to ensure that the set has at least 1 number that is a multiple of <math>3^4</math> and a number that is a multiple of <math>5^2</math>. \n\nMultiples of <math>3^4</math>: <math>81, 405, 2025</math>\n\nMultiples of <math>5^2</math>: <math>25, 75, 225, 675, 2025</math>\n\nIf the set <math>B</math> contains <math>2025</math>, then all of the rest <math>14</math> factors is no longer important. The valid cases are <math>2^{14}</math>.\n\nIf the set <math>B</math> doesn't contain <math>2025</math>, but contains <math>405</math>, we just need another multiple of <math>5^2</math>. It could be 1 of them, 2 of them, 3 of them, or 4 of them, which has <math>2^4 - 1 = 15</math> cases. Excluding <math>2025, 405, 25, 75, 225, 675,</math> the rest 9 numbers could appear or not appear. Therefore, this case has a valid case of <math>15 \\cdot 2^9</math>. \n\nIf set <math>B</math> doesn't contain <math>2025</math> nor <math>405</math>, it must contain <math>81</math>. It also needs to contain at least 1 of the multiples from <math>5^2</math>, where it would be <math>15 \\cdot 2^8</math>. \n\nThe total valid cases are <math>2^{14} + 15 \\cdot (2^9 + 2^8)</math>, and the total cases are <math>2^{15}</math>. \n\nThe answer is <math>\\cfrac{2^8 \\cdot (64 + 30 + 15)}{2^8 \\cdot 2^7}= \\frac{109}{128}</math>. \n\nDesired answer: <math>109 + 128 = \\boxed{237}</math>.\n\n~ Mitsuihisashi14\n\n~ <math>\\LaTeX</math> by [https://artofproblemsolving.com/wiki/index.php/User:Eevee9406 eevee9046]\n\n~ Additional edits by [https://artofproblemsolving.com/wiki/index.php/User:Aoum aoum]\n\n~ Additional edits by fermat_sLastAMC"
  },
  {
    "year": 2025,
    "variant": "II",
    "problem_number": 8,
    "latex": "From an unlimited supply of <math>1</math>-cent coins, <math>10</math>-cent coins, and <math>25</math>-cent coins, Silas wants to find a collection of coins that has a total value of <math>N</math> cents, where <math>N</math> is a positive integer. He uses the so-called <math>\\textit{greedy algorithm}</math>, successively choosing the coin of greatest value that does not cause the value of his collection to exceed <math>N</math>. For example, to get <math>42</math> cents, Silas will choose a <math>25</math>-cent coin, then a <math>10</math>-cent coin, then <math>7</math> <math>1</math>-cent coins. However, this collection of <math>9</math> coins uses more coins than necessary to get a total of <math>42</math> cents; indeed, choosing <math>4</math> <math>10</math>-cent coins and <math>2</math> <math>1</math>-cent coins achieves the same total value with only <math>6</math> coins.\n\nIn general, the greedy algorithm succeeds for a given <math>N</math> if no other collection of <math>1</math>-cent, <math>10</math>-cent, and <math>25</math>-cent coins gives a total value of <math>N</math> cents using strictly fewer coins than the collection given by the greedy algorithm. Find the number of values of <math>N</math> between <math>1</math> and <math>1000</math> inclusive for which the greedy algorithm succeeds.",
    "solution": "We begin by noting that all values of <math>N \\leq 25</math> work without issue.\n\nStarting from <math>N = 25</math> to <math>29</math>, the greedy algorithm will select the <math>25</math>-cent coin, and no problem arises.\n\nFrom <math>N = 30</math> to <math>34</math>, the greedy algorithm will select the <math>25</math>-cent coin along with <math>5</math> <math>1</math>-cent coins to reach a total of <math>30</math>, while the optimal solution would involve using <math>3</math> <math>10</math>-cent coins. This issue is resolved from <math>N = 35</math> to <math>39</math>, as the greedy algorithm can now select <math>25 + 10</math>-cent coins to match the optimal solution.\n\nFrom <math>N = 40</math> to <math>44</math>, a similar problem occurs again. The greedy algorithm selects <math>25 + 10 + 5 \\times 1</math>-cent coins to reach 40, while the optimal solution would use 4 <math>10</math>-cent coins.\n\nThe problem occurs again from <math>N = 55</math> to <math>59</math>, where <math>50 + 5 \\times 1</math> is not as good as using <math>25 + 3 \\times 10</math>, and it is resolved at <math>N = 60</math>. From <math>N = 65</math> to <math>69</math>, a similar issue arises, as <math>25 \\times 2 + 10 + 5 \\times 1</math> is not as optimal as <math>25 + 4 \\times 10</math> to approach 65.\n\nWe observe that this issue repeats in cycles of <math>25</math> numbers, with <math>10</math> of the <math>25</math> numbers in each cycle not working. The cycle starts at <math>30</math>, and the next cycle will start <math>25</math> numbers later, at <math>55</math>, then <math>80</math>, and so on, continuing until <math>980</math>‚Äì<math>1005</math> for the last cycle.\n\nThe total number of cycles is given by:\n\n<cmath>\n\\frac{955 - 30}{25} + 1 = 38,\n</cmath>\n\nand each cycle contains <math>10</math> problematic numbers. Therefore, the total number of problematic numbers is:\n\n<cmath>\n38 \\times 10 = 380.\n</cmath>\n\nThe cycle from <math>980</math> to <math>1005</math> has the problematic numbers from <math>980</math> to <math>984</math> and <math>990</math> to <math>994</math>, giving another <math>10</math> problematic numbers.\n\nThus, the total number of unsuccessful numbers from <math>1</math> to <math>1000</math> inclusive is <math>390</math>, and the desired count of successful numbers is:\n\n<cmath>\n1000 - 390 = \\boxed{610}.\n</cmath>\n\n(Feel free to make any edits on grammar, <math>\\LaTeX</math> and formatting.)\n\n~ Mitsuihisashi14\n\n~ Edited by [https://artofproblemsolving.com/wiki/index.php/User:Aoum aoum]"
  },
  {
    "year": 2025,
    "variant": "II",
    "problem_number": 9,
    "latex": "There are <math>n</math> values of <math>x</math> in the interval <math>0<x<2\\pi</math> where <math>f(x)=\\sin(7\\pi\\cdot\\sin(5x))=0</math>. For <math>t</math> of these <math>n</math> values of <math>x</math>, the graph of <math>y=f(x)</math> is tangent to the <math>x</math>-axis. Find <math>n+t</math>.",
    "solution": "For <math>\\sin(7\\pi\\cdot\\sin(5x))=0</math> to happen, whatever is inside the function must be of form <math>k\\pi</math>. We then equate to have\n\\begin{align*}\n7\\pi\\cdot\\sin(5x)=k\\pi \\\\\n\\sin(5x)=\\frac{k}{7} \\\\\n\\end{align*}\nWe know that <math>-1\\le \\sin{5x} \\le 1</math>, so clearly <math>k</math> takes all values <math>-7\\le k \\le 7</math>. Since the graph of <math>\\sin{5x}</math> has 5 periods between <math>0</math> and <math>360</math>, each of the values <math>k=-6,-5,-4...-1,1,2...6</math> give <math>10</math> solutions each. <math>k=-7,7</math> give <math>5</math> solutions each and <math>k=0</math> gives <math>9</math> solutions (to verify this sketch a graph). Thus, <math>n=139</math>.\n\nWe know that the function is tangent to the x-axis if it retains the same sign on both sides of the function. This is not true for points at <math>k=-6,-5,-4...4,5,6</math> because one side will be positive and one will be negative. However this will happen if <math>k=-7,7</math> because the sine function \"bounces back\" and goes over the same values again, and <math>t=10</math> of these values exist.\nThus, <math>n+t=\\boxed{149}</math>.\n\n~ [[User:lisztepos|lisztepos]]"
  },
  {
    "year": 2025,
    "variant": "II",
    "problem_number": 10,
    "latex": "Sixteen chairs are arranged in a row. Eight people each select a chair in which to sit so that no person sits next to two other people. Let <math>N</math> be the number of subsets of <math>16</math> chairs that could be selected. Find the remainder when <math>N</math> is divided by <math>1000</math>.",
    "solution": "Notice that we can treat each chair as an empty space. If a person selects a chair, we fill in the corresponding space with a '<math>1</math>': otherwise, we fill in the corresponding space with a '<math>0</math>'. Since no person can sit to two other people (and two other people means having a person to your left and your right), that means that we can't have three people sitting in a row). So now the problem boils down to the following: we have a string of <math>0</math>'s and <math>1</math>'s of length <math>16</math>, <math>8</math> of which will be <math>1</math> and <math>8</math> of which will be <math>0</math>. This string cannot have three consecutive <math>1</math>'s in a row. We need to find the number of ways to construct this string.\n\nLet's try recursion. The motivation for recursion is that <math>16</math> and <math>8</math> are relatively big numbers (the upper bound is <math>16</math> choose <math>8</math> which is over <math>12000</math>!) Also, many problems involving strings and counting with restrictions like 'three in a row' can usually be solved by breaking it up into smaller problems. \n\nDefine <math>S(n,k)</math> to be the number of ways to create a string of length <math>n</math> with <math>k</math> <math>1</math>'s and <math>n-k</math> <math>0</math>'s such that we can't have three consecutive <math>1</math>'s. We need to find <math>S(16,8)</math>. \n\nSo now we're going to take our recursive step, which usually involves splitting the string into two smaller strings. Suppose we split the string into two strings of length <math>n-b</math> and <math>b</math>. Also suppose that in the string of length <math>b</math> there are <math>i</math> <math>1</math>'s (which means that in the string of length <math>n-b</math>, there are <math>k-i</math> <math>1</math>'s. Now consider the first two digits in the string of length <math>b</math>: we do casework on them.\n\n<math>\\textbf{Case 1: 00}</math>\n\nIn this case, we can imagine the string as _ _ _ _ ... _ _ | 0 0 _ _ ... _ _ where the vertical line | shows the split. To the left of the split, we can choose the string without constraints in <math>S(n-b, k-i)</math> ways since there are <math>n-b</math> spaces and <math>k-i</math> <math>1</math>'s to place there. To the right of the <math>0</math>, there are <math>b-2</math> spaces and we still have to place <math>i</math> <math>1's</math>, so this can be done in <math>S(b-2,i)</math> ways. Now choosing the left string and the right string are independent, so the number of ways in this case is <cmath>S(n-b, k-i)S(b-2, i)</cmath>.\n\n<math>\\textbf{Case 2: 01}</math>\n\nNow the split string looks something like _ _ _ _ ... _ _ | 0 1 _ _ ... _ _ . The number of ways to choose the string to the left remains unchanged: <math>S(n-b, k-i)</math> ways. Similarly, it would seem that the number of ways to choose the remainder of the string on the right is <math>S(b-2, i-1)</math> (just as in the previous case but we've used up one of the <math>i</math> <math>1</math>'s already). However we're overcounting, since if the remainder of the string on the right starts with 1 1 0 _ _ ... it makes a valid string by itself, but together with the 0 1 at the start, it makes 0 1 1 1 0, which is not allowed. Therefore we subtract the number of ways that we start with 0 1 1 1 0: there are <math>b-5</math> spaces left and <math>i-3</math> <math>1</math>'s left to allocate, so we subtract <math>S(b-5, i-3)</math>. So the total in this case is <cmath>S(n-b,k-i) \\cdot (S(b-2, i-1)-S(b-5, i-3))</cmath>\n\n<math>\\textbf{Case 3: 10}</math>\n\nNow the split string looks something like _ _ _ _ ... _ _ | 1 0 _ _ ... _ _ . Now the number of ways to fill in the empty slots to the right is unconstrained as it's following a <math>0</math>: there are <math>b-2</math> spaces and <math>i-1</math> <math>1</math>'s to allocate, so this gives <math>S(b-2, i-1)</math> ways. Now for the left, we overcount just like in the previous case: filling <math>k-i</math> <math>1</math>'s in <math>n-b</math> slots can be done in <math>S(n-b, k-i)</math> ways. However any way ending with 0 1 1 violates the three <math>1</math>'s in a row rule since in the center we have 0 1 1 1 0. The number of violations is the number of ways to fill in the empty slots to the left of _ _ _ ... _ _ 0 1 1 |, which can be done in <math>S(n-b-3, k-i-2)</math> ways since we've already allocated <math>2</math> <math>1</math>'s and used up <math>3</math> spaces. Therefore the total in this case is:\n\n<cmath>S(b-2, i-1) \\cdot (S(n-b, k-i)-S(n-b-3, k-i-2))</cmath>\n\n<math>\\textbf{Case 4: 11}</math>\n\nIn this case, we have something like _ _ _ _ ... _ _ | 1 1 _ _ ... _ _ . Since we can't have three <math>1</math>'s in a row, we can automatically fill <math>0</math>'s in: _ _ _ _ ... _ 0 | 1 1 0 _ ... _ _ . Now the number of ways to fill in the spaces on the left is <math>S(n-b-1, k-i)</math> and the number of ways to fill in the spaces on the right is <math>S(b-3, i-2)</math>. So the number of ways for this case is\n\n<cmath>S(n-b-1,k-i)S(b-3,i-2)</cmath>\n\n\n\nNow that we've finished casework, note that <math>i</math> can be anything: at minimum <math>i</math> can be zero, meaning that the string on the right has <math>0</math> <math>1</math>'s, and at maximum <math>i</math> can be <math>b</math>: the string is filled with <math>1</math>'s. To encapsulate all of the cases of <math>i</math>, we sum over the values of <math>i</math>:\n\n<cmath>S(n,k) = \\sum_{i = 0}^{b} S(n-b, k-i)S(b-2, i) + S(n-b,k-i) \\cdot (S(b-2, i-1)-S(b-5, i-3))</cmath>\n<cmath> + S(b-2, i-1) \\cdot (S(n-b, k-i)-S(n-b-3, k-i-2)) + S(n-b-1,k-i)S(b-3,i-2) </cmath>\n\n\nThis is our recurrence relationship. But where do we make the split? The above formula works for any <math>b</math>, but if we make the split too close to the end, we could end up having to make lots of computations: if we split the string into <math>15</math> and <math>1</math>, we'll have to compute <math>S(15,8)</math>, <math>S(14,8)</math>, etc. which could end up being a lot of work. We want to choose the best <math>b</math> to minimize the number of computations to save time. If we split the string unequally, one side will be larger and that side will require more computations. Therefore, we split the string in half so we just need to compute values of <math>n</math> less than <math>8</math>.\n\nSo suppose <math>b = 8</math> and plug in <math>n=16</math>, <math>k=8</math>. Then the above recurrence relation becomes \n\n<cmath>S(16,8) = \\sum_{i = 0}^{8} S(8, 8-i)S(6, i) + S(8,8-i) \\cdot (S(6, i-1)-S(3, i-3))</cmath>\n<cmath> + S(6, i-1) \\cdot (S(8, 8-i)-S(5, 6-i)) + S(7,8-i)S(5,i-2) </cmath>\n\n\nBefore we start with computations, let's state our base cases for recursion. Note that if <math>n<0</math> and <math> k = 0</math>, <math>S(n,k) = 1</math>. Otherwise if <math>n<0</math> or <math>k<0</math> or <math>k>n</math>, <math>S(n,k) = 0</math>. Also, <math>S(x,0) = 1</math>, <math>S(x,1) = x</math>, <math>S(x,2) = \\binom{x}{2}</math>, <math>S(x,3) = \\binom{x}{3}-x+2</math> (the last one subtracting <math>x-2</math> for the number of three <math>1</math>'s in a row possible). Finally, for other cases of <math>S(n,k)</math> we don't want to use the earlier large recursive formula since we'll have to break those into many small components. Instead, we modify the formula so that <math>b=2</math>. This should be fine as <math>n</math> has already been broken down to at most <math>8</math>, so these computations shouldn't balloon. Using <math>b=2</math>, we get <math>S(n,k) = S(n-2,k) + 2S(n-2,k-1) - S(n-5,k-3)+S(n-3,k-2)</math>.\n\n\nLet's start the computation through the earlier cases. \n\n<math>\\textbf{Case 1}</math>\n\n<cmath>\\sum_{i = 0}^{8} S(8,8-i)S(6,i) = \\sum_{i = 2}^{4} S(8,8-i)S(6,i)</cmath>\n\nThis is because for <math>i = 5</math>, <math>S(6,5) = 0</math> since the best we can do without three in a row is 1 1 0 1 1 0, which is four <math>1</math>'s, and it's impossible to achieve <math>5</math> <math>1</math>'s without three back to back. Also if <math>i=5</math> makes <math>S(6,i)</math> <math>0</math>, then <math>i \\geq 5</math> makes <math>S(6,i)</math> <math>0</math>. Similarly we can't fit <math>7</math> <math>1</math>'s in <math>8</math> slots without three back-to-back, so <math>i</math> can't be <math>0</math> or <math>1</math>. So <math>i</math> must go from <math>2</math> to <math>4</math>. In future cases, I'll skip the explanation of why we tighten our bounds on <math>i</math> since the reasoning is the same as here.\n\n<cmath>\\implies \\sum_{i = 0}^{8} S(8,8-i)S(6,i) = S(8,6)S(6,2) + S(8,5)S(6,3) + S(8,4)S(6,4)</cmath>\n\nApplying the modified recurrence relation for <math>b=2</math>, <math>S(8,6) = S(6,6) + 2S(6,5)-S(3,3)+S(5,4) = 0+0-0+S(5,4)</math>\n<math> = S(3,4)+2S(3,3)-S(0,1)+S(2,2) = 0+0-0+1 = 1</math>. Let's remember these for future computations: <math>S(8,6) = S(5,4) = 1</math>.\n\n<math>S(8,5) = S(6,5)+2S(6,4)-S(3,2)+S(5,3) = 0+2S(6,4)-3+7</math>. <math>S(6,4) = S(4,4) + 2S(4,3)-S(1,1)+S(3,2) = 0+2 \\cdot 2 - 1 + 3 = 6 \\implies S(8,5) = 2 \\cdot 6 + 4 = 16</math>. We'll remember <math>S(6,4) = 6</math>, <math>S(8,5) = 16</math>.\n\nLastly <math>S(8,4) = S(6,4) + 2S(6,3)-S(3,1)+S(5,2) = 6+2 \\cdot 16 - 3 + 10 = 45</math>\n\nTherefore <cmath>\\sum_{i = 0}^{8} S(8,8-i)S(6,i) = S(8,6)S(6,2) + S(8,5)S(6,3) + S(8,4)S(6,4)</cmath>\n<cmath> = 1 \\cdot 15 + 16 \\cdot 16 + 45 \\cdot 6 = 541</cmath>\n\n\n<math>\\textbf{Cases 2 and 3}</math>\n\nRewrite <cmath>\\sum_{i = 0}^{8} S(8,8-i) \\cdot (S(6, i-1)-S(3, i-3)) + S(6, i-1) \\cdot (S(8, 8-i)-S(5, 6-i))</cmath>\n<cmath> = \\sum_{i = 0}^{8} 2S(8,8-i)S(6,i-1) - S(8,8-i)S(3,i-3) - S(6,i-1)S(5,6-i)</cmath>\n<cmath> = 2 \\sum_{i=2}^{5} S(8,8-i)S(6,i-1) - \\sum_{i=3}^{5} S(8,8-i)S(3,i-3) - \\sum_{i=2}^{5} S(6,i-1)S(5,6-i)</cmath>\n\n<math>\\textbf{Case 2 and 3 a.}</math>\n\n<cmath>\\sum_{i=2}^{5} S(8,8-i)S(6,i-1) = S(8,6)S(6,1) + S(8,5)S(6,2) + S(8,4)S(6,3) + S(8,3)S(6,4)</cmath>\n<cmath> = 1 \\cdot 6 + 16 \\cdot 15 + 45 \\cdot 16 + 50 \\cdot 6 = 1266</cmath>\n\n<math>\\textbf{Case 2 and 3 b.}</math>\n\n<cmath>\\sum_{i=3}^{5} S(8,8-i)S(3,i-3) = S(8,5)S(3,0) + S(8,4)S(3,1)+S(8,3)S(3,2)</cmath>\n<cmath> = 16 \\cdot 1 + 45 \\cdot 3 + 50 \\cdot 3 = 301</cmath>\n\n<math>\\textbf{Case 2 and 3 c.}</math>\n\n<cmath>\\sum_{i=2}^{5} S(6,i-1)S(5,6-i) = S(6,1)S(5,4) + S(6,2)S(5,3) + S(6,3)S(5,2) + S(6,4)S(5,1)</cmath>\n<cmath> = 6 \\cdot 1 + 15 \\cdot 7 + 16 \\cdot 10 + 6 \\cdot 5 = 301</cmath>\n\nPutting it all together, in this case we have\n\n<cmath>\\sum_{i = 0}^{8} S(8,8-i)S(6,i-1) = 2 \\cdot 1266 - 301 - 301 = 2 \\cdot 965 = 1930</cmath>\n\n<math>\\textbf{Case 4}</math>\n\nFinally, <cmath>\\sum_{i=0}^{8} S(7,8-i)S(5,i-2) = \\sum_{i=3}^{6} S(7,8-i)S(5,i-2)</cmath>\n<cmath> = S(7,5)S(5,1)+S(7,4)S(5,2)+S(7,3)S(5,3)+S(7,2)S(5,4)</cmath>\n\nNow <math>S(7,5) = S(5,5)+2S(5,4)-S(2,2)+S(4,3) = 0+2-1+2 = 3</math> and \n<math>S(7,4) = S(5,4)+2S(5,3)-S(2,1)+S(4,2) = 1+2 \\cdot 7 - 2 + 6 = 19</math>.\n\nTherefore, <cmath>\\sum_{i=0}^{8} S(7,8-i)S(5,i-2) = 3 \\cdot 5 + 19 \\cdot 10 + 30 \\cdot 7 + 21 \\cdot 1 = 436</cmath>\n\n\n\n\nFinally,\n\n<cmath>S(16,8) = \\sum_{i = 0}^{8} S(8, 8-i)S(6, i) + S(8,8-i) \\cdot (S(6, i-1)-S(3, i-3))</cmath>\n<cmath> + S(6, i-1) \\cdot (S(8, 8-i)-S(5, 6-i)) + S(7,8-i)S(5,i-2) </cmath>\n\n<cmath> = \\sum_{i = 2}^{4} S(8,8-i)S(6,i) + (2 \\sum_{i=2}^{5} S(8,8-i)S(6,i-1) - \\sum_{i=3}^{5} S(8,8-i)S(3,i-3) - \\sum_{i=2}^{5} S(6,i-1)S(5,6-i)) + \\sum_{i=3}^{6} S(7,8-i)S(5,i-2)</cmath>\n\n<cmath> = 541 + 1930 + 436 = 2907</cmath>\n\nThus the answer is <cmath>\\boxed{907}</cmath>\n\n\n\n~KingRavi"
  },
  {
    "year": 2025,
    "variant": "II",
    "problem_number": 11,
    "latex": "Let <math>S</math> be the set of vertices of a regular <math>24</math>-gon. Find the number of ways to draw <math>12</math> segments of equal lengths so that each vertex in <math>S</math> is an endpoint of exactly one of the <math>12</math> segments.",
    "solution": "The segments we draw must be of equal length, corresponding to a specific step size <math>k</math> (number of steps between vertices).\n\nFor each step size <math>k</math>, we need to determine if it is possible to form a perfect matching (non-overlapping segments covering all vertices). The number of such perfect matchings depends on the greatest common divisor (gcd) of <math>k</math> and 24.\n\nWhen choosing a step size <math>k</math>, the 24-gon is decomposed into <math>\\gcd(k, 24)</math> cycles, each of length <math>\\frac{24}{\\gcd(k, 24)}</math>. For a perfect matching to exist, each cycle must be of even length.\n\nFor each valid step size (<math>k</math>):\n\nIf the cycle length is 2 (diameters), there is exactly 1 way to match the vertices.\n\nFor other even cycle lengths, each cycle contributes a factor of 2 to the number of perfect matchings.\n\n(<math>k = 1</math>): <math>\\gcd(1, 24) = 1</math>, cycle length 24, 2 matchings.\n\n(<math>k = 2</math>): <math>\\gcd(2, 24) = 2</math>, cycle length 12, <math>(2^2 = 4)</math> matchings.\n\n(<math>k = 3</math>): <math>\\gcd(3, 24) = 3</math>, cycle length 8, <math>(2^3 = 8)</math> matchings.\n\n(<math>k = 4</math>): <math>\\gcd(4, 24) = 4</math>, cycle length 6, <math>(2^4 = 16)</math> matchings.\n\n(<math>k = 5</math>): <math>\\gcd(5, 24) = 1</math>, cycle length 24, 2 matchings.\n\n(<math>k = 6</math>): <math>\\gcd(6, 24) = 6</math>, cycle length 4, <math>(2^6 = 64)</math> matchings.\n\n(<math>k = 7</math>): <math>\\gcd(7, 24) = 1</math>, cycle length 24, 2 matchings.\n\n(<math>k = 8</math>): <math>\\gcd(8, 24) = 8</math>, cycle length 3 (invalid, no matchings).\n\n(<math>k = 9</math>): <math>\\gcd(9, 24) = 3</math>, cycle length 8, <math>(2^3 = 8)</math> matchings.\n\n(<math>k = 10</math>): <math>\\gcd(10, 24) = 2</math>, cycle length 12, <math>(2^2 = 4)</math> matchings.\n\n(<math>k = 11</math>): <math>\\gcd(11, 24) = 1</math>, cycle length 24, 2 matchings.\n\n(<math>k = 12</math>): <math>\\gcd(12, 24) = 12</math>, cycle length 2, 1 matching.\n\nSumming these values: <math>2 + 4 + 8 + 16 + 2 + 64 + 2 + 0 + 8 + 4 + 2 + 1 = \\boxed{113}</math>.\n\n~ [https://artofproblemsolving.com/wiki/index.php/User:Athmyx Athmyx]"
  },
  {
    "year": 2025,
    "variant": "II",
    "problem_number": 12,
    "latex": "Let <math>A_1A_2\\dots A_{11}</math> be a non-convex <math>11</math>-gon such that\n\n‚Ä¢ The area of <math>A_iA_1A_{i+1}</math> is <math>1</math> for each <math>2 \\le i \\le 10</math>,\n\n‚Ä¢ <math>\\cos(\\angle A_iA_1A_{i+1})=\\frac{12}{13}</math> for each <math>2 \\le i \\le 10</math>,\n\n‚Ä¢ The perimeter of <math>A_1A_2\\dots A_{11}</math> is <math>20</math>.\n\nIf <math>A_1A_2+A_1A_{11}</math> can be expressed as <math>\\frac{m\\sqrt{n}-p}{q}</math> for positive integers <math>m,n,p,q</math> with <math>n</math> squarefree and <math>\\gcd(m,p,q)=1</math>, find <math>m+n+p+q</math>.",
    "solution": "Set <math>A_1A_2 = x</math> and <math>A_1A_3 = y</math>. By the first condition, we have <math>\\frac{1}{2}xy\\sin\\theta = 1</math>, where <math>\\theta = \\angle A_2 A_1 A_3</math>. Since <math>\\cos\\theta = \\frac{12}{13}</math>, we have <math>\\sin\\theta = \\frac{5}{13}</math>, so <math>xy = \\frac{26}{5}</math>. Repeating this process for <math>\\triangle A_i A_1 A_{i+1}</math>, we get <math>A_1A_2 = A_1A_4 = \\ldots A_1A_{10} = x</math> and <math>A_1A_3 = A_1A_5 = \\ldots A_1A_{11} = y</math>. Since the included angle of these <math>9</math> triangles is <math>\\theta</math>, the square of the third side is \n<cmath>x^2 + y^2 - 2xy\\cos\\theta = x^2 + y^2 - \\frac{52}{5}\\cdot \\frac{12}{13} = x^2 + y^2 - \\frac{48}{5} = (x+y)^2 - 20.</cmath>\nThus the third side has length <math>\\sqrt{(x+y)^2 - 20}.</math> The perimeter is constructed from <math>9</math> of these lengths, plus <math>A_{11}A_1 + A_1A_2 = x + y</math>, so <math>9\\sqrt{(x+y)^2 - 20} + x + y = 20</math>. We seek the value of <math>x + y,</math> so let <math>x + y = a</math> so \n<cmath>\n\\begin{align*}\n9\\sqrt{a^2 - 20} + a &= 20\\\\\n81(a^2 - 20) &= 400 - 40a + a^2\\\\\n4a^2 + 2a - 101 &= 0 \\\\\na &= \\frac{-2 \\pm \\sqrt{1620}}{8} = \\frac{-1 \\pm \\sqrt{405}}{4} = \\frac{-1 \\pm 9\\sqrt{5}}{4}.\n\\end{align*}\n</cmath>\nTaking the positive solution gives <math>m + n + p + q = 1 + 9 + 5 + 4 = \\boxed{\\textbf{(019)}}.</math>\n\n-Benedict T (countmath1)"
  },
  {
    "year": 2025,
    "variant": "II",
    "problem_number": 13,
    "latex": "Let the sequence of rationals <math>x_1,x_2,\\dots</math> be defined such that <math>x_1=\\frac{25}{11}</math> and\n<cmath>x_{k+1}=\\frac{1}{3}\\left(x_k+\\frac{1}{x_k}-1\\right).</cmath><math>x_{2025}</math> can be expressed as <math>\\frac{m}{n}</math> for relatively prime positive integers <math>m</math> and <math>n</math>. Find the remainder when <math>m+n</math> is divided by <math>1000</math>.",
    "solution": "This problem can be split into three parts, listed below:\n\n=== Part 1: Analyzing Fractions ===\nLet <math>x_k=\\cfrac{a_k}{b_k}</math>, where <math>a_k,b_k</math> are relatively prime positive integers. First, we analyze the moduli of the problem. Plugging in for <math>x_2</math> yields <math>x_2=\\frac{157}{275}</math>. Notice that in both <math>x_1</math> and <math>x_2</math>, the numerator is equivalent to <math>1</math> and the denominator is equivalent to <math>2</math> modulus <math>3</math>. We see that <math>x_2=\\frac{1}{3}\\cdot\\frac{(a_1-b_1)^2+a_1b_1}{a_1b_1}</math>. Specifically, we know that\n<cmath>(a_1-b_1)^2+a_1b_1\\equiv(1-2)^2+1\\cdot2\\equiv0\\hspace{2mm}(\\text{mod}\\hspace{1mm}3)</cmath>\nThen this is always divisible by <math>3</math> for all <math>x_k</math> (it can be shown that for all <math>x_k</math>, we have <math>a_k\\equiv1\\hspace{2mm}(\\text{mod}\\hspace{1mm}3)</math> and <math>b_k\\equiv2\\hspace{2mm}(\\text{mod}\\hspace{1mm}3)</math> by using <math>\\text{mod}\\hspace{1mm}9</math>). Thus, <math>x_2=\\frac{\\frac{1}{3}((a_1-b_1)^2+a_1b_1)}{a_1b_1}</math>, and the numerator and denominator of the right-hand side (RHS) correspond to the numerator and denominator of <math>x_2</math> in simplest form. (To further prove that the top and bottom are relatively prime, consider that <math>a_k</math> and <math>b_k</math> are by definition relatively prime, so <math>(a_k-b_k)^2</math> and <math>a_kb_k</math> share no factors.)\n\nNotice that the above do not just apply to <math>x_1</math>; we did not use any specific properties of <math>x_1</math>. Then we may generalize the above, finding that:\n<cmath>a_k=\\frac{1}{3}((a_{k-1}-b_{k-1})^2+a_{k-1}b_{k-1})</cmath>\n<cmath>b_k=a_{k-1}b_{k-1}</cmath>\nSumming the equations yields <math>a_k+b_k=\\frac{1}{3}(a_{k-1}+b_{k-1})^2</math> after some manipulation. Let <math>z_k=a_k+b_k</math>; then <math>z_k=\\frac{1}{3}z_{k-1}^2</math>. We are tasked with finding <math>z_{2025}</math>.\n\n=== Part 2: Recursion ===\nWe now need an explicit formula for <math>z_k</math>. We can first experiment with the recursive formula:\n\n<math>z_k=\\frac{1}{3}z_{k-1}^2=\\frac{1}{3}\\left(\\frac{1}{3}z_{k-2}^2\\right)^2=\\frac{1}{3}\\left(\\frac{1}{3}\\left(\\frac{1}{3}z_{k-3}^2\\right)^2\\right)^2</math>\n\nNotice that the inner <math>\\frac{1}{3}</math> is acted upon by two consecutive powers of <math>2</math>. This means that it contributes <math>\\left(\\left(\\frac{1}{3}\\right)^2\\right)^2=\\left(\\frac{1}{3}\\right)^4</math> to the value of <math>z_k</math>. The next innermost <math>\\frac{1}{3}</math> is acted upon by one power of <math>2</math>, so it contributes <math>\\left(\\frac{1}{3}\\right)^2</math> to the value of <math>z_k</math>. Finally, the outermost <math>\\frac{1}{3}</math> is acted upon by no powers of <math>2</math>, so it contributes <math>\\left(\\frac{1}{3}\\right)^1</math> to the value of <math>z_k</math>. The overall power of <math>\\frac{1}{3}</math> in <math>z_k</math> in terms of <math>z_{k-3}</math> is then <math>4+2+1=2^2+2^1+2^0=2^3-1</math>. Then, the overall power of <math>\\frac{1}{3}</math> in <math>z_k</math> in terms of <math>z_{k-a}</math> is <math>2^a-1</math> for positive integers <math>a</math>.\n\nWe also see that the <math>z_{k-3}</math> term is acted upon by <math>3</math> powers of <math>2</math>, meaning that its power is <math>2\\cdot2\\cdot2=2^3</math>. We can generalize this, so some <math>z_{k-a}</math> term's power is then <math>2^a</math>.\n\nIf we combine the above, we obtain the formula <math>z_k=\\left(\\frac{1}{3}\\right)^{2^a-1}z_{k-a}^{2^a}</math>. Setting <math>k=a+1</math> results in\n<cmath>z_{a+1}=\\left(\\frac{1}{3}\\right)^{2^a-1}z_1^{2^a}=36^{2^a}\\cdot\\left(\\frac{1}{3}\\right)^{2^a-1}</cmath>\nWe can simplify this, noting that <math>36^{2^a}=12^{2^a}\\cdot3^{2^a}</math>:\n<cmath>z_{a+1}=12^{2^a}\\cdot3^{2^a}\\cdot\\left(\\frac{1}{3}\\right)^{2^a-1}=3\\cdot12^{2^a}</cmath>\nFinally, decrementing <math>a+1</math> to <math>a</math> gives us our explicit equation:\n<cmath>z_a=3\\cdot12^{2^{a-1}}</cmath>\n\n=== Part 3: Mod Bash ===\nNoting that <math>z_{2025}=3\\cdot12^{2^{2024}}</math>, we are asked to find its value mod <math>1000</math>. We can split mod <math>1000</math> into mod <math>125</math> and mod <math>8</math>. We know that <math>z_{2025}\\equiv0\\hspace{2mm}(\\text{mod}\\hspace{1mm}8)</math>, so we must find its value mod <math>125</math>.\n\nWe find that <math>\\phi(125)=100</math>, so by [[Euler's Totient Theorem]] we know that <math>12^{100}\\equiv1\\hspace{2mm}(\\text{mod}\\hspace{1mm}125)</math>. Then, since the power of <math>12</math> is <math>2^{2024}</math>, we must find this over modulus <math>100</math>.\n\nAgain, we split mod <math>100</math> into mod <math>4</math> and mod <math>25</math>. We know that <math>2^{2024}\\equiv0\\hspace{2mm}(\\text{mod}\\hspace{1mm}4)</math>. Since <math>\\phi(25)=20</math>, we can apply Euler again, finding that <math>2^{20}\\equiv1\\hspace{2mm}(\\text{mod}\\hspace{1mm}25)</math>. Then\n<cmath>2^{2024}\\equiv(2^{20})^{101}\\cdot2^4\\equiv2^4\\equiv16\\hspace{2mm}(\\text{mod}\\hspace{1mm}25)</cmath>\nCombining this with the mod <math>4</math> result yields <math>2^{2024}\\equiv16\\hspace{2mm}(\\text{mod}\\hspace{1mm}100)</math>.\n\nGoing back, <math>12^{2^{2024}}\\equiv12^{16}\\hspace{2mm}(\\text{mod}\\hspace{1mm}125)</math>. We can then decrement this using a series of simplifications:\n<cmath>12^{16}\\equiv144^8\\equiv19^8\\equiv361^4\\equiv(-14)^4\\equiv196^2\\equiv(-54)^2\\equiv2916\\equiv41\\hspace{2mm}(\\text{mod}\\hspace{1mm}125)</cmath>\nRemember that the original value of <math>z_{2025}</math> included a multiplication of <math>3</math>; thus,\n<cmath>z_{2025}\\equiv41\\cdot3\\equiv123\\hspace{2mm}(\\text{mod}\\hspace{1mm}125)</cmath>\nFinally, combining this with the fact that <math>z_{2025}\\equiv0\\hspace{2mm}(\\text{mod}\\hspace{1mm}8)</math>, we find that the solution to the system of moduli is <math>z_{2025}\\equiv\\boxed{248}\\hspace{2mm}(\\text{mod}\\hspace{1mm}1000)</math>.\n\n~[https://artofproblemsolving.com/wiki/index.php/User:eevee9406 eevee9406]"
  },
  {
    "year": 2025,
    "variant": "II",
    "problem_number": 14,
    "latex": "Let <math>{\\triangle ABC}</math> be a right triangle with <math>\\angle A = 90^\\circ</math> and <math>BC = 38.</math> There exist points <math>K</math> and <math>L</math> inside the triangle such<cmath>AK = AL = BK = CL = KL = 14.</cmath>The area of the quadrilateral <math>BKLC</math> can be expressed as <math>n\\sqrt3</math> for some positive integer <math>n.</math> Find <math>n.</math>",
    "solution": "From the given condition, we could get <math>\\angle{LAK}=60^{\\circ}</math> and <math>\\triangle{LCA}, \\triangle{BAK}</math> are isosceles. Denote <math>\\angle{BAK}=\\alpha, \\angle{CAL}=30^{\\circ}-\\alpha</math>. From the isosceles condition, we have <math>\\angle{BKA}=180^{\\circ}-2\\alpha, \\angle{CLA}=120^{\\circ}+2\\alpha</math>\n\nSince <math>\\angle{CAB}</math> is right, then <math>AB^2+AC^2=BC^2</math>, we could use law of cosines to express <math>AC^2, AB^2, AC^2+AB^2=2\\cdot 14^2(2-\\cos \\angle{BKA}-\\angle {CLA})=2\\cdot 14^2(2+\\cos(2\\alpha)+\\cos(60^{\\circ}-2\\alpha))=38^2</math>\n\nWhich simplifies to <math>\\cos(2\\alpha)+\\cos(60^{\\circ}-2\\alpha)=\\frac{165}{98}</math>, expand the expression by angle subtraction formula, we could get <math>\\sqrt{3}\\sin(2\\alpha+60^{\\circ})=\\frac{165}{98}, \\sin(2\\alpha+60^{\\circ})=\\frac{55\\sqrt{3}}{98}</math>\n\nConenct <math>CK</math> we could notice <math>\\angle{CLK}=360^{\\circ}-\\angle{CLA}-\\angle{ALK}=180^{\\circ}-2\\alpha=\\angle{AKB}</math>, since <math>CL=LK=AK=KB</math> we have <math>\\triangle{CLK}\\cong \\triangle{AKB}</math>. Moreover, since <math>K</math> lies on the perpendicular bisector of <math>AB</math>, the distance from <math>K</math> to <math>AC</math> is half of the length of <math>AB</math>, which means <math>[ACK]=\\frac{[ABC]}{2}</math>, and we could have <math>[ACK]=[ACL]+[ALK]+[ABK]=[ABC]-[BKLC]</math>, so <math>[BKLC]=[AKC]</math>. We have <math>[AKC]=[ALK]+\\frac{14^2}{2}(\\sin(60-2\\alpha)+\\sin 2\\alpha)=98(\\sin(60+2\\alpha))+[ALK]=55\\sqrt{3}+\\frac{\\sqrt{3}}{4}14^2=104\\sqrt{3}</math>, so our answer is <math>\\boxed{104}</math>\n\n~ Bluesoul"
  },
  {
    "year": 2025,
    "variant": "II",
    "problem_number": 15,
    "latex": "There are exactly three positive real numbers <math>k</math> such that the function\n<cmath>f(x)=\\frac{(x-18)(x-72)(x-98)(x-k)}{x}.</cmath> defined over the positive real numbers achieves its minimum value at exactly two positive real numbers <math>x</math>. Find the sum of these three values of <math>k</math>.",
    "solution": "Let <math>n</math> be the minimum value of the expression (changes based on the value of <math>k</math>, however is a constant). Therefore we can say that\n\\begin{align*}\nf(x)-n=\\frac{(x-\\alpha)^2(x-\\beta)^2}{x}\n\\end{align*}\nThis can be done because <math>n</math> is a constant, and for the equation to be true in all <math>x</math> the right side is also a quartic. The roots must also both be double, or else there is an even more 'minimum' value, setting contradiction.\n\nWe expand as follows, comparing coefficients:\n\n\\begin{align*}\n(x-18)(x-72)(x-98)(x-k)-nx=(x-\\alpha)^2(x-\\beta)^2 \\\\\n-2\\alpha-2\\beta=-18-72-98-k \\implies \\alpha+\\beta=94+\\frac{k}{2} \\\\\n\\alpha^2+4\\alpha \\beta +\\beta^2=(-18\\cdot -72)+(-18\\cdot-98)+(-18\\cdot-k)+(-72\\cdot-98)+(-72\\cdot-k)+(-98\\cdot-k)=10116+188k \\\\\n(\\alpha^2)(\\beta^2)=(-18)(-72)(-98)(-k) \\implies \\alpha \\beta=252\\sqrt{2k} \\\\\n\\end{align*}\n\nRecall <math>(\\alpha+\\beta)^2+2\\alpha \\beta=\\alpha^2+4\\alpha \\beta +\\beta^2</math>, so we can equate and evaluate as follows:\n\n\\begin{align}\n(94+\\frac{k}{2})^2+504\\sqrt{2k}=10116+188k \\tag{1}\\\\\n\\end{align}\n\\begin{align*}\n(47-\\frac{k}{4})^2+126\\sqrt{2k}=2529 \\\\\n\\frac{k^2}{16}-\\frac{47}{2}k+126\\sqrt{2k}-320=0 \\\\\n\\end{align*}\n\nWe now have a quartic with respect to <math>\\sqrt{k}</math>. Keeping in mind it is much easier to guess the roots of a polynomial with integer coefficients, we set <math>a=\\frac{k}{8}</math>. Now our equation becomes\n\n\\begin{align*}\n4a^2-188a+504\\sqrt{a}-320=0 \\\\\na^2-47a+126\\sqrt{a}-80=0 \\\\\n\\end{align*}\n\nIf you are lucky, you should find roots <math>\\sqrt{a}=1</math> and <math>2</math>. After this, solving the resulting quadratic gets you the remaining roots as <math>5</math> and <math>8</math>. Working back through our substitution for <math>a</math>, we have generated values of <math>k</math> as <math>(8, 32, 200, 512)</math>.\n\nHowever, we are not finished, trying <math>k=512</math> into the equation <math>(1)</math> from earlier does not give us equality, thus it is an extraneous root. The sum of all <math>k</math> then must be <math>8+32+200=\\boxed{240}</math>.\n\n~ [https://artofproblemsolving.com/wiki/index.php/User:Lisztepos lisztepos]\n\n~ Edited by [https://artofproblemsolving.com/wiki/index.php/User:Aoum aoum]\n\nNote:\nI'm not sure what the first author meant by \"or else there is an even more 'minimum' value.\" The most noticeable reason there are two double roots is because there are two distinct positive solutions per the conditions of the problem\n\n~ fermat_sLastAMC\n\nFurther notes (from the author):\nTo clarify why the equation takes the form as above, if you do not regard the context of the problem, you could say that <math>\\frac{(x-\\alpha)^3(x-\\beta)}{x}</math> is another form, also having two roots. However when we consider this form, (WLOG assuming <math>\\alpha < \\beta</math>) if we take a value such that <math>\\alpha < x < \\beta</math>, then <math>x-\\beta < 0</math>, therefore implying that <math>\\frac{(x-\\alpha)^3(x-\\beta)}{x}<0</math> or otherwise resulting <math>f(x)<n</math>, which is contradiction as we assumed <math>n</math> is the least value of the function. Similarly logic proceeds if the third power is on the other binomial."
  }
]